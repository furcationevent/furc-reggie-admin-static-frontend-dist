var yoe=Object.defineProperty;var Coe=(n,t,e)=>t in n?yoe(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var nH=(n,t,e)=>(Coe(n,typeof t!="symbol"?t+"":t,e),e);function Soe(n,t){for(var e=0;e<t.length;e++){const r=t[e];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();var ee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function q0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Nl(n){if(n.__esModule)return n;var t=n.default;if(typeof t=="function"){var e=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),e}var t6={exports:{}},AT={},r6={exports:{}},Ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X0=Symbol.for("react.element"),woe=Symbol.for("react.portal"),_oe=Symbol.for("react.fragment"),xoe=Symbol.for("react.strict_mode"),boe=Symbol.for("react.profiler"),Eoe=Symbol.for("react.provider"),Ooe=Symbol.for("react.context"),Roe=Symbol.for("react.forward_ref"),Toe=Symbol.for("react.suspense"),Poe=Symbol.for("react.memo"),Doe=Symbol.for("react.lazy"),iH=Symbol.iterator;function Aoe(n){return n===null||typeof n!="object"?null:(n=iH&&n[iH]||n["@@iterator"],typeof n=="function"?n:null)}var n6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},i6=Object.assign,o6={};function ly(n,t,e){this.props=n,this.context=t,this.refs=o6,this.updater=e||n6}ly.prototype.isReactComponent={};ly.prototype.setState=function(n,t){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,t,"setState")};ly.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function a6(){}a6.prototype=ly.prototype;function YN(n,t,e){this.props=n,this.context=t,this.refs=o6,this.updater=e||n6}var qN=YN.prototype=new a6;qN.constructor=YN;i6(qN,ly.prototype);qN.isPureReactComponent=!0;var oH=Array.isArray,s6=Object.prototype.hasOwnProperty,XN={current:null},l6={key:!0,ref:!0,__self:!0,__source:!0};function u6(n,t,e){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)s6.call(t,r)&&!l6.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=e;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(n&&n.defaultProps)for(r in s=n.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:X0,type:n,key:o,ref:a,props:i,_owner:XN.current}}function Moe(n,t){return{$$typeof:X0,type:n.type,key:t,ref:n.ref,props:n.props,_owner:n._owner}}function ZN(n){return typeof n=="object"&&n!==null&&n.$$typeof===X0}function Loe(n){var t={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(e){return t[e]})}var aH=/\/+/g;function cA(n,t){return typeof n=="object"&&n!==null&&n.key!=null?Loe(""+n.key):t.toString(36)}function pE(n,t,e,r,i){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case X0:case woe:a=!0}}if(a)return a=n,i=i(a),n=r===""?"."+cA(a,0):r,oH(i)?(e="",n!=null&&(e=n.replace(aH,"$&/")+"/"),pE(i,t,e,"",function(u){return u})):i!=null&&(ZN(i)&&(i=Moe(i,e+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(aH,"$&/")+"/")+n)),t.push(i)),1;if(a=0,r=r===""?".":r+":",oH(n))for(var s=0;s<n.length;s++){o=n[s];var l=r+cA(o,s);a+=pE(o,t,e,l,i)}else if(l=Aoe(n),typeof l=="function")for(n=l.call(n),s=0;!(o=n.next()).done;)o=o.value,l=r+cA(o,s++),a+=pE(o,t,e,l,i);else if(o==="object")throw t=String(n),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ix(n,t,e){if(n==null)return n;var r=[],i=0;return pE(n,r,"","",function(o){return t.call(e,o,i++)}),r}function Foe(n){if(n._status===-1){var t=n._result;t=t(),t.then(function(e){(n._status===0||n._status===-1)&&(n._status=1,n._result=e)},function(e){(n._status===0||n._status===-1)&&(n._status=2,n._result=e)}),n._status===-1&&(n._status=0,n._result=t)}if(n._status===1)return n._result.default;throw n._result}var Po={current:null},hE={transition:null},Ioe={ReactCurrentDispatcher:Po,ReactCurrentBatchConfig:hE,ReactCurrentOwner:XN};Ut.Children={map:ix,forEach:function(n,t,e){ix(n,function(){t.apply(this,arguments)},e)},count:function(n){var t=0;return ix(n,function(){t++}),t},toArray:function(n){return ix(n,function(t){return t})||[]},only:function(n){if(!ZN(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Ut.Component=ly;Ut.Fragment=_oe;Ut.Profiler=boe;Ut.PureComponent=YN;Ut.StrictMode=xoe;Ut.Suspense=Toe;Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ioe;Ut.cloneElement=function(n,t,e){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=i6({},n.props),i=n.key,o=n.ref,a=n._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=XN.current),t.key!==void 0&&(i=""+t.key),n.type&&n.type.defaultProps)var s=n.type.defaultProps;for(l in t)s6.call(t,l)&&!l6.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=e;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:X0,type:n.type,key:i,ref:o,props:r,_owner:a}};Ut.createContext=function(n){return n={$$typeof:Ooe,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Eoe,_context:n},n.Consumer=n};Ut.createElement=u6;Ut.createFactory=function(n){var t=u6.bind(null,n);return t.type=n,t};Ut.createRef=function(){return{current:null}};Ut.forwardRef=function(n){return{$$typeof:Roe,render:n}};Ut.isValidElement=ZN;Ut.lazy=function(n){return{$$typeof:Doe,_payload:{_status:-1,_result:n},_init:Foe}};Ut.memo=function(n,t){return{$$typeof:Poe,type:n,compare:t===void 0?null:t}};Ut.startTransition=function(n){var t=hE.transition;hE.transition={};try{n()}finally{hE.transition=t}};Ut.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ut.useCallback=function(n,t){return Po.current.useCallback(n,t)};Ut.useContext=function(n){return Po.current.useContext(n)};Ut.useDebugValue=function(){};Ut.useDeferredValue=function(n){return Po.current.useDeferredValue(n)};Ut.useEffect=function(n,t){return Po.current.useEffect(n,t)};Ut.useId=function(){return Po.current.useId()};Ut.useImperativeHandle=function(n,t,e){return Po.current.useImperativeHandle(n,t,e)};Ut.useInsertionEffect=function(n,t){return Po.current.useInsertionEffect(n,t)};Ut.useLayoutEffect=function(n,t){return Po.current.useLayoutEffect(n,t)};Ut.useMemo=function(n,t){return Po.current.useMemo(n,t)};Ut.useReducer=function(n,t,e){return Po.current.useReducer(n,t,e)};Ut.useRef=function(n){return Po.current.useRef(n)};Ut.useState=function(n){return Po.current.useState(n)};Ut.useSyncExternalStore=function(n,t,e){return Po.current.useSyncExternalStore(n,t,e)};Ut.useTransition=function(){return Po.current.useTransition()};Ut.version="18.2.0";r6.exports=Ut;var T=r6.exports;const On=q0(T),Nw=Soe({__proto__:null,default:On},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Noe=T,koe=Symbol.for("react.element"),Goe=Symbol.for("react.fragment"),Voe=Object.prototype.hasOwnProperty,Boe=Noe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,joe={key:!0,ref:!0,__self:!0,__source:!0};function c6(n,t,e){var r,i={},o=null,a=null;e!==void 0&&(o=""+e),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Voe.call(t,r)&&!joe.hasOwnProperty(r)&&(i[r]=t[r]);if(n&&n.defaultProps)for(r in t=n.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:koe,type:n,key:o,ref:a,props:i,_owner:Boe.current}}AT.Fragment=Goe;AT.jsx=c6;AT.jsxs=c6;t6.exports=AT;var b=t6.exports,d6={exports:{}},ls={},p6={exports:{}},h6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function t(B,$){var W=B.length;B.push($);e:for(;0<W;){var Y=W-1>>>1,Z=B[Y];if(0<i(Z,$))B[Y]=$,B[W]=Z,W=Y;else break e}}function e(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var $=B[0],W=B.pop();if(W!==$){B[0]=W;e:for(var Y=0,Z=B.length,se=Z>>>1;Y<se;){var X=2*(Y+1)-1,ie=B[X],z=X+1,Q=B[z];if(0>i(ie,W))z<Z&&0>i(Q,ie)?(B[Y]=Q,B[z]=W,Y=z):(B[Y]=ie,B[X]=W,Y=X);else if(z<Z&&0>i(Q,W))B[Y]=Q,B[z]=W,Y=z;else break e}}return $}function i(B,$){var W=B.sortIndex-$.sortIndex;return W!==0?W:B.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();n.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,d=null,p=3,h=!1,f=!1,v=!1,g=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(B){for(var $=e(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=B)r(u),$.sortIndex=$.expirationTime,t(l,$);else break;$=e(u)}}function S(B){if(v=!1,C(B),!f)if(e(l)!==null)f=!0,H(w);else{var $=e(u);$!==null&&j(S,$.startTime-B)}}function w(B,$){f=!1,v&&(v=!1,m(E),E=-1),h=!0;var W=p;try{for(C($),d=e(l);d!==null&&(!(d.expirationTime>$)||B&&!A());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,p=d.priorityLevel;var Z=Y(d.expirationTime<=$);$=n.unstable_now(),typeof Z=="function"?d.callback=Z:d===e(l)&&r(l),C($)}else r(l);d=e(l)}if(d!==null)var se=!0;else{var X=e(u);X!==null&&j(S,X.startTime-$),se=!1}return se}finally{d=null,p=W,h=!1}}var _=!1,x=null,E=-1,R=5,P=-1;function A(){return!(n.unstable_now()-P<R)}function N(){if(x!==null){var B=n.unstable_now();P=B;var $=!0;try{$=x(!0,B)}finally{$?I():(_=!1,x=null)}}else _=!1}var I;if(typeof y=="function")I=function(){y(N)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,V=G.port2;G.port1.onmessage=N,I=function(){V.postMessage(null)}}else I=function(){g(N,0)};function H(B){x=B,_||(_=!0,I())}function j(B,$){E=g(function(){B(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_continueExecution=function(){f||h||(f=!0,H(w))},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return e(l)},n.unstable_next=function(B){switch(p){case 1:case 2:case 3:var $=3;break;default:$=p}var W=p;p=$;try{return B()}finally{p=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(B,$){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var W=p;p=B;try{return $()}finally{p=W}},n.unstable_scheduleCallback=function(B,$,W){var Y=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Y+W:Y):W=Y,B){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=W+Z,B={id:c++,callback:$,priorityLevel:B,startTime:W,expirationTime:Z,sortIndex:-1},W>Y?(B.sortIndex=W,t(u,B),e(l)===null&&B===e(u)&&(v?(m(E),E=-1):v=!0,j(S,W-Y))):(B.sortIndex=Z,t(l,B),f||h||(f=!0,H(w))),B},n.unstable_shouldYield=A,n.unstable_wrapCallback=function(B){var $=p;return function(){var W=p;p=$;try{return B.apply(this,arguments)}finally{p=W}}}})(h6);p6.exports=h6;var Hoe=p6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f6=T,ns=Hoe;function Me(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v6=new Set,kw={};function yv(n,t){Lm(n,t),Lm(n+"Capture",t)}function Lm(n,t){for(kw[n]=t,n=0;n<t.length;n++)v6.add(t[n])}var Kc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xF=Object.prototype.hasOwnProperty,$oe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sH={},lH={};function Woe(n){return xF.call(lH,n)?!0:xF.call(sH,n)?!1:$oe.test(n)?lH[n]=!0:(sH[n]=!0,!1)}function Uoe(n,t,e,r){if(e!==null&&e.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:e!==null?!e.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function zoe(n,t,e,r){if(t===null||typeof t>"u"||Uoe(n,t,e,r))return!0;if(r)return!1;if(e!==null)switch(e.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Do(n,t,e,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=e,this.propertyName=n,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Wi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Wi[n]=new Do(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var t=n[0];Wi[t]=new Do(t,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Wi[n]=new Do(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Wi[n]=new Do(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Wi[n]=new Do(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Wi[n]=new Do(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Wi[n]=new Do(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Wi[n]=new Do(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Wi[n]=new Do(n,5,!1,n.toLowerCase(),null,!1,!1)});var QN=/[\-:]([a-z])/g;function JN(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var t=n.replace(QN,JN);Wi[t]=new Do(t,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var t=n.replace(QN,JN);Wi[t]=new Do(t,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var t=n.replace(QN,JN);Wi[t]=new Do(t,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Wi[n]=new Do(n,1,!1,n.toLowerCase(),null,!1,!1)});Wi.xlinkHref=new Do("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Wi[n]=new Do(n,1,!1,n.toLowerCase(),null,!0,!0)});function ek(n,t,e,r){var i=Wi.hasOwnProperty(t)?Wi[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(zoe(t,e,i,r)&&(e=null),r||i===null?Woe(t)&&(e===null?n.removeAttribute(t):n.setAttribute(t,""+e)):i.mustUseProperty?n[i.propertyName]=e===null?i.type===3?!1:"":e:(t=i.attributeName,r=i.attributeNamespace,e===null?n.removeAttribute(t):(i=i.type,e=i===3||i===4&&e===!0?"":""+e,r?n.setAttributeNS(r,t,e):n.setAttribute(t,e))))}var pd=f6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ox=Symbol.for("react.element"),Rg=Symbol.for("react.portal"),Tg=Symbol.for("react.fragment"),tk=Symbol.for("react.strict_mode"),bF=Symbol.for("react.profiler"),g6=Symbol.for("react.provider"),m6=Symbol.for("react.context"),rk=Symbol.for("react.forward_ref"),EF=Symbol.for("react.suspense"),OF=Symbol.for("react.suspense_list"),nk=Symbol.for("react.memo"),tp=Symbol.for("react.lazy"),y6=Symbol.for("react.offscreen"),uH=Symbol.iterator;function $y(n){return n===null||typeof n!="object"?null:(n=uH&&n[uH]||n["@@iterator"],typeof n=="function"?n:null)}var mn=Object.assign,dA;function gS(n){if(dA===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);dA=t&&t[1]||""}return`
`+dA+n}var pA=!1;function hA(n,t){if(!n||pA)return"";pA=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(n,[],t)}else{try{t.call()}catch(u){r=u}n.call(t.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=a&&0<=s);break}}}finally{pA=!1,Error.prepareStackTrace=e}return(n=n?n.displayName||n.name:"")?gS(n):""}function Koe(n){switch(n.tag){case 5:return gS(n.type);case 16:return gS("Lazy");case 13:return gS("Suspense");case 19:return gS("SuspenseList");case 0:case 2:case 15:return n=hA(n.type,!1),n;case 11:return n=hA(n.type.render,!1),n;case 1:return n=hA(n.type,!0),n;default:return""}}function RF(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Tg:return"Fragment";case Rg:return"Portal";case bF:return"Profiler";case tk:return"StrictMode";case EF:return"Suspense";case OF:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case m6:return(n.displayName||"Context")+".Consumer";case g6:return(n._context.displayName||"Context")+".Provider";case rk:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case nk:return t=n.displayName||null,t!==null?t:RF(n.type)||"Memo";case tp:t=n._payload,n=n._init;try{return RF(n(t))}catch{}}return null}function Yoe(n){var t=n.type;switch(n.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=t.render,n=n.displayName||n.name||"",t.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return RF(t);case 8:return t===tk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function jp(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function C6(n){var t=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qoe(n){var t=C6(n)?"checked":"value",e=Object.getOwnPropertyDescriptor(n.constructor.prototype,t),r=""+n[t];if(!n.hasOwnProperty(t)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var i=e.get,o=e.set;return Object.defineProperty(n,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(n,t,{enumerable:e.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){n._valueTracker=null,delete n[t]}}}}function ax(n){n._valueTracker||(n._valueTracker=qoe(n))}function S6(n){if(!n)return!1;var t=n._valueTracker;if(!t)return!0;var e=t.getValue(),r="";return n&&(r=C6(n)?n.checked?"true":"false":n.value),n=r,n!==e?(t.setValue(n),!0):!1}function pO(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function TF(n,t){var e=t.checked;return mn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:e??n._wrapperState.initialChecked})}function cH(n,t){var e=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;e=jp(t.value!=null?t.value:e),n._wrapperState={initialChecked:r,initialValue:e,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function w6(n,t){t=t.checked,t!=null&&ek(n,"checked",t,!1)}function PF(n,t){w6(n,t);var e=jp(t.value),r=t.type;if(e!=null)r==="number"?(e===0&&n.value===""||n.value!=e)&&(n.value=""+e):n.value!==""+e&&(n.value=""+e);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}t.hasOwnProperty("value")?DF(n,t.type,e):t.hasOwnProperty("defaultValue")&&DF(n,t.type,jp(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(n.defaultChecked=!!t.defaultChecked)}function dH(n,t,e){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+n._wrapperState.initialValue,e||t===n.value||(n.value=t),n.defaultValue=t}e=n.name,e!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,e!==""&&(n.name=e)}function DF(n,t,e){(t!=="number"||pO(n.ownerDocument)!==n)&&(e==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+e&&(n.defaultValue=""+e))}var mS=Array.isArray;function om(n,t,e,r){if(n=n.options,t){t={};for(var i=0;i<e.length;i++)t["$"+e[i]]=!0;for(e=0;e<n.length;e++)i=t.hasOwnProperty("$"+n[e].value),n[e].selected!==i&&(n[e].selected=i),i&&r&&(n[e].defaultSelected=!0)}else{for(e=""+jp(e),t=null,i=0;i<n.length;i++){if(n[i].value===e){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}t!==null||n[i].disabled||(t=n[i])}t!==null&&(t.selected=!0)}}function AF(n,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Me(91));return mn({},t,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function pH(n,t){var e=t.value;if(e==null){if(e=t.children,t=t.defaultValue,e!=null){if(t!=null)throw Error(Me(92));if(mS(e)){if(1<e.length)throw Error(Me(93));e=e[0]}t=e}t==null&&(t=""),e=t}n._wrapperState={initialValue:jp(e)}}function _6(n,t){var e=jp(t.value),r=jp(t.defaultValue);e!=null&&(e=""+e,e!==n.value&&(n.value=e),t.defaultValue==null&&n.defaultValue!==e&&(n.defaultValue=e)),r!=null&&(n.defaultValue=""+r)}function hH(n){var t=n.textContent;t===n._wrapperState.initialValue&&t!==""&&t!==null&&(n.value=t)}function x6(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function MF(n,t){return n==null||n==="http://www.w3.org/1999/xhtml"?x6(t):n==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var sx,b6=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,e,r,i){MSApp.execUnsafeLocalFunction(function(){return n(t,e,r,i)})}:n}(function(n,t){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=t;else{for(sx=sx||document.createElement("div"),sx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=sx.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;t.firstChild;)n.appendChild(t.firstChild)}});function Gw(n,t){if(t){var e=n.firstChild;if(e&&e===n.lastChild&&e.nodeType===3){e.nodeValue=t;return}}n.textContent=t}var ZS={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xoe=["Webkit","ms","Moz","O"];Object.keys(ZS).forEach(function(n){Xoe.forEach(function(t){t=t+n.charAt(0).toUpperCase()+n.substring(1),ZS[t]=ZS[n]})});function E6(n,t,e){return t==null||typeof t=="boolean"||t===""?"":e||typeof t!="number"||t===0||ZS.hasOwnProperty(n)&&ZS[n]?(""+t).trim():t+"px"}function O6(n,t){n=n.style;for(var e in t)if(t.hasOwnProperty(e)){var r=e.indexOf("--")===0,i=E6(e,t[e],r);e==="float"&&(e="cssFloat"),r?n.setProperty(e,i):n[e]=i}}var Zoe=mn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function LF(n,t){if(t){if(Zoe[n]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Me(137,n));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Me(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Me(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Me(62))}}function FF(n,t){if(n.indexOf("-")===-1)return typeof t.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var IF=null;function ik(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var NF=null,am=null,sm=null;function fH(n){if(n=J0(n)){if(typeof NF!="function")throw Error(Me(280));var t=n.stateNode;t&&(t=NT(t),NF(n.stateNode,n.type,t))}}function R6(n){am?sm?sm.push(n):sm=[n]:am=n}function T6(){if(am){var n=am,t=sm;if(sm=am=null,fH(n),t)for(n=0;n<t.length;n++)fH(t[n])}}function P6(n,t){return n(t)}function D6(){}var fA=!1;function A6(n,t,e){if(fA)return n(t,e);fA=!0;try{return P6(n,t,e)}finally{fA=!1,(am!==null||sm!==null)&&(D6(),T6())}}function Vw(n,t){var e=n.stateNode;if(e===null)return null;var r=NT(e);if(r===null)return null;e=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(e&&typeof e!="function")throw Error(Me(231,t,typeof e));return e}var kF=!1;if(Kc)try{var Wy={};Object.defineProperty(Wy,"passive",{get:function(){kF=!0}}),window.addEventListener("test",Wy,Wy),window.removeEventListener("test",Wy,Wy)}catch{kF=!1}function Qoe(n,t,e,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(e,u)}catch(c){this.onError(c)}}var QS=!1,hO=null,fO=!1,GF=null,Joe={onError:function(n){QS=!0,hO=n}};function eae(n,t,e,r,i,o,a,s,l){QS=!1,hO=null,Qoe.apply(Joe,arguments)}function tae(n,t,e,r,i,o,a,s,l){if(eae.apply(this,arguments),QS){if(QS){var u=hO;QS=!1,hO=null}else throw Error(Me(198));fO||(fO=!0,GF=u)}}function Cv(n){var t=n,e=n;if(n.alternate)for(;t.return;)t=t.return;else{n=t;do t=n,t.flags&4098&&(e=t.return),n=t.return;while(n)}return t.tag===3?e:null}function M6(n){if(n.tag===13){var t=n.memoizedState;if(t===null&&(n=n.alternate,n!==null&&(t=n.memoizedState)),t!==null)return t.dehydrated}return null}function vH(n){if(Cv(n)!==n)throw Error(Me(188))}function rae(n){var t=n.alternate;if(!t){if(t=Cv(n),t===null)throw Error(Me(188));return t!==n?null:n}for(var e=n,r=t;;){var i=e.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){e=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===e)return vH(i),n;if(o===r)return vH(i),t;o=o.sibling}throw Error(Me(188))}if(e.return!==r.return)e=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===e){a=!0,e=i,r=o;break}if(s===r){a=!0,r=i,e=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===e){a=!0,e=o,r=i;break}if(s===r){a=!0,r=o,e=i;break}s=s.sibling}if(!a)throw Error(Me(189))}}if(e.alternate!==r)throw Error(Me(190))}if(e.tag!==3)throw Error(Me(188));return e.stateNode.current===e?n:t}function L6(n){return n=rae(n),n!==null?F6(n):null}function F6(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var t=F6(n);if(t!==null)return t;n=n.sibling}return null}var I6=ns.unstable_scheduleCallback,gH=ns.unstable_cancelCallback,nae=ns.unstable_shouldYield,iae=ns.unstable_requestPaint,In=ns.unstable_now,oae=ns.unstable_getCurrentPriorityLevel,ok=ns.unstable_ImmediatePriority,N6=ns.unstable_UserBlockingPriority,vO=ns.unstable_NormalPriority,aae=ns.unstable_LowPriority,k6=ns.unstable_IdlePriority,MT=null,Gu=null;function sae(n){if(Gu&&typeof Gu.onCommitFiberRoot=="function")try{Gu.onCommitFiberRoot(MT,n,void 0,(n.current.flags&128)===128)}catch{}}var bl=Math.clz32?Math.clz32:cae,lae=Math.log,uae=Math.LN2;function cae(n){return n>>>=0,n===0?32:31-(lae(n)/uae|0)|0}var lx=64,ux=4194304;function yS(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function gO(n,t){var e=n.pendingLanes;if(e===0)return 0;var r=0,i=n.suspendedLanes,o=n.pingedLanes,a=e&268435455;if(a!==0){var s=a&~i;s!==0?r=yS(s):(o&=a,o!==0&&(r=yS(o)))}else a=e&~i,a!==0?r=yS(a):o!==0&&(r=yS(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=e&16),t=n.entangledLanes,t!==0)for(n=n.entanglements,t&=r;0<t;)e=31-bl(t),i=1<<e,r|=n[e],t&=~i;return r}function dae(n,t){switch(n){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pae(n,t){for(var e=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,o=n.pendingLanes;0<o;){var a=31-bl(o),s=1<<a,l=i[a];l===-1?(!(s&e)||s&r)&&(i[a]=dae(s,t)):l<=t&&(n.expiredLanes|=s),o&=~s}}function VF(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function G6(){var n=lx;return lx<<=1,!(lx&4194240)&&(lx=64),n}function vA(n){for(var t=[],e=0;31>e;e++)t.push(n);return t}function Z0(n,t,e){n.pendingLanes|=t,t!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,t=31-bl(t),n[t]=e}function hae(n,t){var e=n.pendingLanes&~t;n.pendingLanes=t,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=t,n.mutableReadLanes&=t,n.entangledLanes&=t,t=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<e;){var i=31-bl(e),o=1<<i;t[i]=0,r[i]=-1,n[i]=-1,e&=~o}}function ak(n,t){var e=n.entangledLanes|=t;for(n=n.entanglements;e;){var r=31-bl(e),i=1<<r;i&t|n[r]&t&&(n[r]|=t),e&=~i}}var Dr=0;function V6(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var B6,sk,j6,H6,$6,BF=!1,cx=[],xp=null,bp=null,Ep=null,Bw=new Map,jw=new Map,lp=[],fae="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mH(n,t){switch(n){case"focusin":case"focusout":xp=null;break;case"dragenter":case"dragleave":bp=null;break;case"mouseover":case"mouseout":Ep=null;break;case"pointerover":case"pointerout":Bw.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jw.delete(t.pointerId)}}function Uy(n,t,e,r,i,o){return n===null||n.nativeEvent!==o?(n={blockedOn:t,domEventName:e,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=J0(t),t!==null&&sk(t)),n):(n.eventSystemFlags|=r,t=n.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),n)}function vae(n,t,e,r,i){switch(t){case"focusin":return xp=Uy(xp,n,t,e,r,i),!0;case"dragenter":return bp=Uy(bp,n,t,e,r,i),!0;case"mouseover":return Ep=Uy(Ep,n,t,e,r,i),!0;case"pointerover":var o=i.pointerId;return Bw.set(o,Uy(Bw.get(o)||null,n,t,e,r,i)),!0;case"gotpointercapture":return o=i.pointerId,jw.set(o,Uy(jw.get(o)||null,n,t,e,r,i)),!0}return!1}function W6(n){var t=xf(n.target);if(t!==null){var e=Cv(t);if(e!==null){if(t=e.tag,t===13){if(t=M6(e),t!==null){n.blockedOn=t,$6(n.priority,function(){j6(e)});return}}else if(t===3&&e.stateNode.current.memoizedState.isDehydrated){n.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}n.blockedOn=null}function fE(n){if(n.blockedOn!==null)return!1;for(var t=n.targetContainers;0<t.length;){var e=jF(n.domEventName,n.eventSystemFlags,t[0],n.nativeEvent);if(e===null){e=n.nativeEvent;var r=new e.constructor(e.type,e);IF=r,e.target.dispatchEvent(r),IF=null}else return t=J0(e),t!==null&&sk(t),n.blockedOn=e,!1;t.shift()}return!0}function yH(n,t,e){fE(n)&&e.delete(t)}function gae(){BF=!1,xp!==null&&fE(xp)&&(xp=null),bp!==null&&fE(bp)&&(bp=null),Ep!==null&&fE(Ep)&&(Ep=null),Bw.forEach(yH),jw.forEach(yH)}function zy(n,t){n.blockedOn===t&&(n.blockedOn=null,BF||(BF=!0,ns.unstable_scheduleCallback(ns.unstable_NormalPriority,gae)))}function Hw(n){function t(i){return zy(i,n)}if(0<cx.length){zy(cx[0],n);for(var e=1;e<cx.length;e++){var r=cx[e];r.blockedOn===n&&(r.blockedOn=null)}}for(xp!==null&&zy(xp,n),bp!==null&&zy(bp,n),Ep!==null&&zy(Ep,n),Bw.forEach(t),jw.forEach(t),e=0;e<lp.length;e++)r=lp[e],r.blockedOn===n&&(r.blockedOn=null);for(;0<lp.length&&(e=lp[0],e.blockedOn===null);)W6(e),e.blockedOn===null&&lp.shift()}var lm=pd.ReactCurrentBatchConfig,mO=!0;function mae(n,t,e,r){var i=Dr,o=lm.transition;lm.transition=null;try{Dr=1,lk(n,t,e,r)}finally{Dr=i,lm.transition=o}}function yae(n,t,e,r){var i=Dr,o=lm.transition;lm.transition=null;try{Dr=4,lk(n,t,e,r)}finally{Dr=i,lm.transition=o}}function lk(n,t,e,r){if(mO){var i=jF(n,t,e,r);if(i===null)EA(n,t,r,yO,e),mH(n,r);else if(vae(i,n,t,e,r))r.stopPropagation();else if(mH(n,r),t&4&&-1<fae.indexOf(n)){for(;i!==null;){var o=J0(i);if(o!==null&&B6(o),o=jF(n,t,e,r),o===null&&EA(n,t,r,yO,e),o===i)break;i=o}i!==null&&r.stopPropagation()}else EA(n,t,r,null,e)}}var yO=null;function jF(n,t,e,r){if(yO=null,n=ik(r),n=xf(n),n!==null)if(t=Cv(n),t===null)n=null;else if(e=t.tag,e===13){if(n=M6(t),n!==null)return n;n=null}else if(e===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;n=null}else t!==n&&(n=null);return yO=n,null}function U6(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oae()){case ok:return 1;case N6:return 4;case vO:case aae:return 16;case k6:return 536870912;default:return 16}default:return 16}}var fp=null,uk=null,vE=null;function z6(){if(vE)return vE;var n,t=uk,e=t.length,r,i="value"in fp?fp.value:fp.textContent,o=i.length;for(n=0;n<e&&t[n]===i[n];n++);var a=e-n;for(r=1;r<=a&&t[e-r]===i[o-r];r++);return vE=i.slice(n,1<r?1-r:void 0)}function gE(n){var t=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&t===13&&(n=13)):n=t,n===10&&(n=13),32<=n||n===13?n:0}function dx(){return!0}function CH(){return!1}function us(n){function t(e,r,i,o,a){this._reactName=e,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in n)n.hasOwnProperty(s)&&(e=n[s],this[s]=e?e(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?dx:CH,this.isPropagationStopped=CH,this}return mn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=dx)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=dx)},persist:function(){},isPersistent:dx}),t}var uy={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ck=us(uy),Q0=mn({},uy,{view:0,detail:0}),Cae=us(Q0),gA,mA,Ky,LT=mn({},Q0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dk,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ky&&(Ky&&n.type==="mousemove"?(gA=n.screenX-Ky.screenX,mA=n.screenY-Ky.screenY):mA=gA=0,Ky=n),gA)},movementY:function(n){return"movementY"in n?n.movementY:mA}}),SH=us(LT),Sae=mn({},LT,{dataTransfer:0}),wae=us(Sae),_ae=mn({},Q0,{relatedTarget:0}),yA=us(_ae),xae=mn({},uy,{animationName:0,elapsedTime:0,pseudoElement:0}),bae=us(xae),Eae=mn({},uy,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Oae=us(Eae),Rae=mn({},uy,{data:0}),wH=us(Rae),Tae={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pae={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dae={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Aae(n){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(n):(n=Dae[n])?!!t[n]:!1}function dk(){return Aae}var Mae=mn({},Q0,{key:function(n){if(n.key){var t=Tae[n.key]||n.key;if(t!=="Unidentified")return t}return n.type==="keypress"?(n=gE(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Pae[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dk,charCode:function(n){return n.type==="keypress"?gE(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?gE(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Lae=us(Mae),Fae=mn({},LT,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_H=us(Fae),Iae=mn({},Q0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dk}),Nae=us(Iae),kae=mn({},uy,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gae=us(kae),Vae=mn({},LT,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Bae=us(Vae),jae=[9,13,27,32],pk=Kc&&"CompositionEvent"in window,JS=null;Kc&&"documentMode"in document&&(JS=document.documentMode);var Hae=Kc&&"TextEvent"in window&&!JS,K6=Kc&&(!pk||JS&&8<JS&&11>=JS),xH=String.fromCharCode(32),bH=!1;function Y6(n,t){switch(n){case"keyup":return jae.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function q6(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Pg=!1;function $ae(n,t){switch(n){case"compositionend":return q6(t);case"keypress":return t.which!==32?null:(bH=!0,xH);case"textInput":return n=t.data,n===xH&&bH?null:n;default:return null}}function Wae(n,t){if(Pg)return n==="compositionend"||!pk&&Y6(n,t)?(n=z6(),vE=uk=fp=null,Pg=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return K6&&t.locale!=="ko"?null:t.data;default:return null}}var Uae={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function EH(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t==="input"?!!Uae[n.type]:t==="textarea"}function X6(n,t,e,r){R6(r),t=CO(t,"onChange"),0<t.length&&(e=new ck("onChange","change",null,e,r),n.push({event:e,listeners:t}))}var ew=null,$w=null;function zae(n){sY(n,0)}function FT(n){var t=Mg(n);if(S6(t))return n}function Kae(n,t){if(n==="change")return t}var Z6=!1;if(Kc){var CA;if(Kc){var SA="oninput"in document;if(!SA){var OH=document.createElement("div");OH.setAttribute("oninput","return;"),SA=typeof OH.oninput=="function"}CA=SA}else CA=!1;Z6=CA&&(!document.documentMode||9<document.documentMode)}function RH(){ew&&(ew.detachEvent("onpropertychange",Q6),$w=ew=null)}function Q6(n){if(n.propertyName==="value"&&FT($w)){var t=[];X6(t,$w,n,ik(n)),A6(zae,t)}}function Yae(n,t,e){n==="focusin"?(RH(),ew=t,$w=e,ew.attachEvent("onpropertychange",Q6)):n==="focusout"&&RH()}function qae(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return FT($w)}function Xae(n,t){if(n==="click")return FT(t)}function Zae(n,t){if(n==="input"||n==="change")return FT(t)}function Qae(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var Pl=typeof Object.is=="function"?Object.is:Qae;function Ww(n,t){if(Pl(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;var e=Object.keys(n),r=Object.keys(t);if(e.length!==r.length)return!1;for(r=0;r<e.length;r++){var i=e[r];if(!xF.call(t,i)||!Pl(n[i],t[i]))return!1}return!0}function TH(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function PH(n,t){var e=TH(n);n=0;for(var r;e;){if(e.nodeType===3){if(r=n+e.textContent.length,n<=t&&r>=t)return{node:e,offset:t-n};n=r}e:{for(;e;){if(e.nextSibling){e=e.nextSibling;break e}e=e.parentNode}e=void 0}e=TH(e)}}function J6(n,t){return n&&t?n===t?!0:n&&n.nodeType===3?!1:t&&t.nodeType===3?J6(n,t.parentNode):"contains"in n?n.contains(t):n.compareDocumentPosition?!!(n.compareDocumentPosition(t)&16):!1:!1}function eY(){for(var n=window,t=pO();t instanceof n.HTMLIFrameElement;){try{var e=typeof t.contentWindow.location.href=="string"}catch{e=!1}if(e)n=t.contentWindow;else break;t=pO(n.document)}return t}function hk(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t&&(t==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||t==="textarea"||n.contentEditable==="true")}function Jae(n){var t=eY(),e=n.focusedElem,r=n.selectionRange;if(t!==e&&e&&e.ownerDocument&&J6(e.ownerDocument.documentElement,e)){if(r!==null&&hk(e)){if(t=r.start,n=r.end,n===void 0&&(n=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(n,e.value.length);else if(n=(t=e.ownerDocument||document)&&t.defaultView||window,n.getSelection){n=n.getSelection();var i=e.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!n.extend&&o>r&&(i=r,r=o,o=i),i=PH(e,o);var a=PH(e,r);i&&a&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),n.removeAllRanges(),o>r?(n.addRange(t),n.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),n.addRange(t)))}}for(t=[],n=e;n=n.parentNode;)n.nodeType===1&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)n=t[e],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var ese=Kc&&"documentMode"in document&&11>=document.documentMode,Dg=null,HF=null,tw=null,$F=!1;function DH(n,t,e){var r=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;$F||Dg==null||Dg!==pO(r)||(r=Dg,"selectionStart"in r&&hk(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),tw&&Ww(tw,r)||(tw=r,r=CO(HF,"onSelect"),0<r.length&&(t=new ck("onSelect","select",null,t,e),n.push({event:t,listeners:r}),t.target=Dg)))}function px(n,t){var e={};return e[n.toLowerCase()]=t.toLowerCase(),e["Webkit"+n]="webkit"+t,e["Moz"+n]="moz"+t,e}var Ag={animationend:px("Animation","AnimationEnd"),animationiteration:px("Animation","AnimationIteration"),animationstart:px("Animation","AnimationStart"),transitionend:px("Transition","TransitionEnd")},wA={},tY={};Kc&&(tY=document.createElement("div").style,"AnimationEvent"in window||(delete Ag.animationend.animation,delete Ag.animationiteration.animation,delete Ag.animationstart.animation),"TransitionEvent"in window||delete Ag.transitionend.transition);function IT(n){if(wA[n])return wA[n];if(!Ag[n])return n;var t=Ag[n],e;for(e in t)if(t.hasOwnProperty(e)&&e in tY)return wA[n]=t[e];return n}var rY=IT("animationend"),nY=IT("animationiteration"),iY=IT("animationstart"),oY=IT("transitionend"),aY=new Map,AH="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nh(n,t){aY.set(n,t),yv(t,[n])}for(var _A=0;_A<AH.length;_A++){var xA=AH[_A],tse=xA.toLowerCase(),rse=xA[0].toUpperCase()+xA.slice(1);nh(tse,"on"+rse)}nh(rY,"onAnimationEnd");nh(nY,"onAnimationIteration");nh(iY,"onAnimationStart");nh("dblclick","onDoubleClick");nh("focusin","onFocus");nh("focusout","onBlur");nh(oY,"onTransitionEnd");Lm("onMouseEnter",["mouseout","mouseover"]);Lm("onMouseLeave",["mouseout","mouseover"]);Lm("onPointerEnter",["pointerout","pointerover"]);Lm("onPointerLeave",["pointerout","pointerover"]);yv("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yv("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yv("onBeforeInput",["compositionend","keypress","textInput","paste"]);yv("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yv("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yv("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var CS="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nse=new Set("cancel close invalid load scroll toggle".split(" ").concat(CS));function MH(n,t,e){var r=n.type||"unknown-event";n.currentTarget=e,tae(r,t,void 0,n),n.currentTarget=null}function sY(n,t){t=(t&4)!==0;for(var e=0;e<n.length;e++){var r=n[e],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;MH(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;MH(i,s,u),o=l}}}if(fO)throw n=GF,fO=!1,GF=null,n}function Xr(n,t){var e=t[YF];e===void 0&&(e=t[YF]=new Set);var r=n+"__bubble";e.has(r)||(lY(t,n,2,!1),e.add(r))}function bA(n,t,e){var r=0;t&&(r|=4),lY(e,n,r,t)}var hx="_reactListening"+Math.random().toString(36).slice(2);function Uw(n){if(!n[hx]){n[hx]=!0,v6.forEach(function(e){e!=="selectionchange"&&(nse.has(e)||bA(e,!1,n),bA(e,!0,n))});var t=n.nodeType===9?n:n.ownerDocument;t===null||t[hx]||(t[hx]=!0,bA("selectionchange",!1,t))}}function lY(n,t,e,r){switch(U6(t)){case 1:var i=mae;break;case 4:i=yae;break;default:i=lk}e=i.bind(null,t,e,n),i=void 0,!kF||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(t,e,{capture:!0,passive:i}):n.addEventListener(t,e,!0):i!==void 0?n.addEventListener(t,e,{passive:i}):n.addEventListener(t,e,!1)}function EA(n,t,e,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=xf(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}A6(function(){var u=o,c=ik(e),d=[];e:{var p=aY.get(n);if(p!==void 0){var h=ck,f=n;switch(n){case"keypress":if(gE(e)===0)break e;case"keydown":case"keyup":h=Lae;break;case"focusin":f="focus",h=yA;break;case"focusout":f="blur",h=yA;break;case"beforeblur":case"afterblur":h=yA;break;case"click":if(e.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=SH;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=wae;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Nae;break;case rY:case nY:case iY:h=bae;break;case oY:h=Gae;break;case"scroll":h=Cae;break;case"wheel":h=Bae;break;case"copy":case"cut":case"paste":h=Oae;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=_H}var v=(t&4)!==0,g=!v&&n==="scroll",m=v?p!==null?p+"Capture":null:p;v=[];for(var y=u,C;y!==null;){C=y;var S=C.stateNode;if(C.tag===5&&S!==null&&(C=S,m!==null&&(S=Vw(y,m),S!=null&&v.push(zw(y,S,C)))),g)break;y=y.return}0<v.length&&(p=new h(p,f,null,e,c),d.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=n==="mouseover"||n==="pointerover",h=n==="mouseout"||n==="pointerout",p&&e!==IF&&(f=e.relatedTarget||e.fromElement)&&(xf(f)||f[Yc]))break e;if((h||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,h?(f=e.relatedTarget||e.toElement,h=u,f=f?xf(f):null,f!==null&&(g=Cv(f),f!==g||f.tag!==5&&f.tag!==6)&&(f=null)):(h=null,f=u),h!==f)){if(v=SH,S="onMouseLeave",m="onMouseEnter",y="mouse",(n==="pointerout"||n==="pointerover")&&(v=_H,S="onPointerLeave",m="onPointerEnter",y="pointer"),g=h==null?p:Mg(h),C=f==null?p:Mg(f),p=new v(S,y+"leave",h,e,c),p.target=g,p.relatedTarget=C,S=null,xf(c)===u&&(v=new v(m,y+"enter",f,e,c),v.target=C,v.relatedTarget=g,S=v),g=S,h&&f)t:{for(v=h,m=f,y=0,C=v;C;C=kv(C))y++;for(C=0,S=m;S;S=kv(S))C++;for(;0<y-C;)v=kv(v),y--;for(;0<C-y;)m=kv(m),C--;for(;y--;){if(v===m||m!==null&&v===m.alternate)break t;v=kv(v),m=kv(m)}v=null}else v=null;h!==null&&LH(d,p,h,v,!1),f!==null&&g!==null&&LH(d,g,f,v,!0)}}e:{if(p=u?Mg(u):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var w=Kae;else if(EH(p))if(Z6)w=Zae;else{w=qae;var _=Yae}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(w=Xae);if(w&&(w=w(n,u))){X6(d,w,e,c);break e}_&&_(n,p,u),n==="focusout"&&(_=p._wrapperState)&&_.controlled&&p.type==="number"&&DF(p,"number",p.value)}switch(_=u?Mg(u):window,n){case"focusin":(EH(_)||_.contentEditable==="true")&&(Dg=_,HF=u,tw=null);break;case"focusout":tw=HF=Dg=null;break;case"mousedown":$F=!0;break;case"contextmenu":case"mouseup":case"dragend":$F=!1,DH(d,e,c);break;case"selectionchange":if(ese)break;case"keydown":case"keyup":DH(d,e,c)}var x;if(pk)e:{switch(n){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Pg?Y6(n,e)&&(E="onCompositionEnd"):n==="keydown"&&e.keyCode===229&&(E="onCompositionStart");E&&(K6&&e.locale!=="ko"&&(Pg||E!=="onCompositionStart"?E==="onCompositionEnd"&&Pg&&(x=z6()):(fp=c,uk="value"in fp?fp.value:fp.textContent,Pg=!0)),_=CO(u,E),0<_.length&&(E=new wH(E,n,null,e,c),d.push({event:E,listeners:_}),x?E.data=x:(x=q6(e),x!==null&&(E.data=x)))),(x=Hae?$ae(n,e):Wae(n,e))&&(u=CO(u,"onBeforeInput"),0<u.length&&(c=new wH("onBeforeInput","beforeinput",null,e,c),d.push({event:c,listeners:u}),c.data=x))}sY(d,t)})}function zw(n,t,e){return{instance:n,listener:t,currentTarget:e}}function CO(n,t){for(var e=t+"Capture",r=[];n!==null;){var i=n,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Vw(n,e),o!=null&&r.unshift(zw(n,o,i)),o=Vw(n,t),o!=null&&r.push(zw(n,o,i))),n=n.return}return r}function kv(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function LH(n,t,e,r,i){for(var o=t._reactName,a=[];e!==null&&e!==r;){var s=e,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Vw(e,o),l!=null&&a.unshift(zw(e,l,s))):i||(l=Vw(e,o),l!=null&&a.push(zw(e,l,s)))),e=e.return}a.length!==0&&n.push({event:t,listeners:a})}var ise=/\r\n?/g,ose=/\u0000|\uFFFD/g;function FH(n){return(typeof n=="string"?n:""+n).replace(ise,`
`).replace(ose,"")}function fx(n,t,e){if(t=FH(t),FH(n)!==t&&e)throw Error(Me(425))}function SO(){}var WF=null,UF=null;function zF(n,t){return n==="textarea"||n==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var KF=typeof setTimeout=="function"?setTimeout:void 0,ase=typeof clearTimeout=="function"?clearTimeout:void 0,IH=typeof Promise=="function"?Promise:void 0,sse=typeof queueMicrotask=="function"?queueMicrotask:typeof IH<"u"?function(n){return IH.resolve(null).then(n).catch(lse)}:KF;function lse(n){setTimeout(function(){throw n})}function OA(n,t){var e=t,r=0;do{var i=e.nextSibling;if(n.removeChild(e),i&&i.nodeType===8)if(e=i.data,e==="/$"){if(r===0){n.removeChild(i),Hw(t);return}r--}else e!=="$"&&e!=="$?"&&e!=="$!"||r++;e=i}while(e);Hw(t)}function Op(n){for(;n!=null;n=n.nextSibling){var t=n.nodeType;if(t===1||t===3)break;if(t===8){if(t=n.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return n}function NH(n){n=n.previousSibling;for(var t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="$"||e==="$!"||e==="$?"){if(t===0)return n;t--}else e==="/$"&&t++}n=n.previousSibling}return null}var cy=Math.random().toString(36).slice(2),Ou="__reactFiber$"+cy,Kw="__reactProps$"+cy,Yc="__reactContainer$"+cy,YF="__reactEvents$"+cy,use="__reactListeners$"+cy,cse="__reactHandles$"+cy;function xf(n){var t=n[Ou];if(t)return t;for(var e=n.parentNode;e;){if(t=e[Yc]||e[Ou]){if(e=t.alternate,t.child!==null||e!==null&&e.child!==null)for(n=NH(n);n!==null;){if(e=n[Ou])return e;n=NH(n)}return t}n=e,e=n.parentNode}return null}function J0(n){return n=n[Ou]||n[Yc],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Mg(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Me(33))}function NT(n){return n[Kw]||null}var qF=[],Lg=-1;function ih(n){return{current:n}}function nn(n){0>Lg||(n.current=qF[Lg],qF[Lg]=null,Lg--)}function Kr(n,t){Lg++,qF[Lg]=n.current,n.current=t}var Hp={},so=ih(Hp),la=ih(!1),Qf=Hp;function Fm(n,t){var e=n.type.contextTypes;if(!e)return Hp;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in e)i[o]=t[o];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=t,n.__reactInternalMemoizedMaskedChildContext=i),i}function ua(n){return n=n.childContextTypes,n!=null}function wO(){nn(la),nn(so)}function kH(n,t,e){if(so.current!==Hp)throw Error(Me(168));Kr(so,t),Kr(la,e)}function uY(n,t,e){var r=n.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return e;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Me(108,Yoe(n)||"Unknown",i));return mn({},e,r)}function _O(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Hp,Qf=so.current,Kr(so,n),Kr(la,la.current),!0}function GH(n,t,e){var r=n.stateNode;if(!r)throw Error(Me(169));e?(n=uY(n,t,Qf),r.__reactInternalMemoizedMergedChildContext=n,nn(la),nn(so),Kr(so,n)):nn(la),Kr(la,e)}var Ac=null,kT=!1,RA=!1;function cY(n){Ac===null?Ac=[n]:Ac.push(n)}function dse(n){kT=!0,cY(n)}function oh(){if(!RA&&Ac!==null){RA=!0;var n=0,t=Dr;try{var e=Ac;for(Dr=1;n<e.length;n++){var r=e[n];do r=r(!0);while(r!==null)}Ac=null,kT=!1}catch(i){throw Ac!==null&&(Ac=Ac.slice(n+1)),I6(ok,oh),i}finally{Dr=t,RA=!1}}return null}var Fg=[],Ig=0,xO=null,bO=0,Rs=[],Ts=0,Jf=null,Ic=1,Nc="";function Zh(n,t){Fg[Ig++]=bO,Fg[Ig++]=xO,xO=n,bO=t}function dY(n,t,e){Rs[Ts++]=Ic,Rs[Ts++]=Nc,Rs[Ts++]=Jf,Jf=n;var r=Ic;n=Nc;var i=32-bl(r)-1;r&=~(1<<i),e+=1;var o=32-bl(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ic=1<<32-bl(t)+i|e<<i|r,Nc=o+n}else Ic=1<<o|e<<i|r,Nc=n}function fk(n){n.return!==null&&(Zh(n,1),dY(n,1,0))}function vk(n){for(;n===xO;)xO=Fg[--Ig],Fg[Ig]=null,bO=Fg[--Ig],Fg[Ig]=null;for(;n===Jf;)Jf=Rs[--Ts],Rs[Ts]=null,Nc=Rs[--Ts],Rs[Ts]=null,Ic=Rs[--Ts],Rs[Ts]=null}var ts=null,Za=null,un=!1,ml=null;function pY(n,t){var e=Ms(5,null,null,0);e.elementType="DELETED",e.stateNode=t,e.return=n,t=n.deletions,t===null?(n.deletions=[e],n.flags|=16):t.push(e)}function VH(n,t){switch(n.tag){case 5:var e=n.type;return t=t.nodeType!==1||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(n.stateNode=t,ts=n,Za=Op(t.firstChild),!0):!1;case 6:return t=n.pendingProps===""||t.nodeType!==3?null:t,t!==null?(n.stateNode=t,ts=n,Za=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(e=Jf!==null?{id:Ic,overflow:Nc}:null,n.memoizedState={dehydrated:t,treeContext:e,retryLane:1073741824},e=Ms(18,null,null,0),e.stateNode=t,e.return=n,n.child=e,ts=n,Za=null,!0):!1;default:return!1}}function XF(n){return(n.mode&1)!==0&&(n.flags&128)===0}function ZF(n){if(un){var t=Za;if(t){var e=t;if(!VH(n,t)){if(XF(n))throw Error(Me(418));t=Op(e.nextSibling);var r=ts;t&&VH(n,t)?pY(r,e):(n.flags=n.flags&-4097|2,un=!1,ts=n)}}else{if(XF(n))throw Error(Me(418));n.flags=n.flags&-4097|2,un=!1,ts=n}}}function BH(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ts=n}function vx(n){if(n!==ts)return!1;if(!un)return BH(n),un=!0,!1;var t;if((t=n.tag!==3)&&!(t=n.tag!==5)&&(t=n.type,t=t!=="head"&&t!=="body"&&!zF(n.type,n.memoizedProps)),t&&(t=Za)){if(XF(n))throw hY(),Error(Me(418));for(;t;)pY(n,t),t=Op(t.nextSibling)}if(BH(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Me(317));e:{for(n=n.nextSibling,t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="/$"){if(t===0){Za=Op(n.nextSibling);break e}t--}else e!=="$"&&e!=="$!"&&e!=="$?"||t++}n=n.nextSibling}Za=null}}else Za=ts?Op(n.stateNode.nextSibling):null;return!0}function hY(){for(var n=Za;n;)n=Op(n.nextSibling)}function Im(){Za=ts=null,un=!1}function gk(n){ml===null?ml=[n]:ml.push(n)}var pse=pd.ReactCurrentBatchConfig;function hl(n,t){if(n&&n.defaultProps){t=mn({},t),n=n.defaultProps;for(var e in n)t[e]===void 0&&(t[e]=n[e]);return t}return t}var EO=ih(null),OO=null,Ng=null,mk=null;function yk(){mk=Ng=OO=null}function Ck(n){var t=EO.current;nn(EO),n._currentValue=t}function QF(n,t,e){for(;n!==null;){var r=n.alternate;if((n.childLanes&t)!==t?(n.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),n===e)break;n=n.return}}function um(n,t){OO=n,mk=Ng=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&t&&(ra=!0),n.firstContext=null)}function Hs(n){var t=n._currentValue;if(mk!==n)if(n={context:n,memoizedValue:t,next:null},Ng===null){if(OO===null)throw Error(Me(308));Ng=n,OO.dependencies={lanes:0,firstContext:n}}else Ng=Ng.next=n;return t}var bf=null;function Sk(n){bf===null?bf=[n]:bf.push(n)}function fY(n,t,e,r){var i=t.interleaved;return i===null?(e.next=e,Sk(t)):(e.next=i.next,i.next=e),t.interleaved=e,qc(n,r)}function qc(n,t){n.lanes|=t;var e=n.alternate;for(e!==null&&(e.lanes|=t),e=n,n=n.return;n!==null;)n.childLanes|=t,e=n.alternate,e!==null&&(e.childLanes|=t),e=n,n=n.return;return e.tag===3?e.stateNode:null}var rp=!1;function wk(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vY(n,t){n=n.updateQueue,t.updateQueue===n&&(t.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Vc(n,t){return{eventTime:n,lane:t,tag:0,payload:null,callback:null,next:null}}function Rp(n,t,e){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,ir&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,qc(n,e)}return i=r.interleaved,i===null?(t.next=t,Sk(r)):(t.next=i.next,i.next=t),r.interleaved=t,qc(n,e)}function mE(n,t,e){if(t=t.updateQueue,t!==null&&(t=t.shared,(e&4194240)!==0)){var r=t.lanes;r&=n.pendingLanes,e|=r,t.lanes=e,ak(n,e)}}function jH(n,t){var e=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,e===r)){var i=null,o=null;if(e=e.firstBaseUpdate,e!==null){do{var a={eventTime:e.eventTime,lane:e.lane,tag:e.tag,payload:e.payload,callback:e.callback,next:null};o===null?i=o=a:o=o.next=a,e=e.next}while(e!==null);o===null?i=o=t:o=o.next=t}else i=o=t;e={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},n.updateQueue=e;return}n=e.lastBaseUpdate,n===null?e.firstBaseUpdate=t:n.next=t,e.lastBaseUpdate=t}function RO(n,t,e,r){var i=n.updateQueue;rp=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=n.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,c=u=l=null,s=o;do{var p=s.lane,h=s.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=n,v=s;switch(p=t,h=e,v.tag){case 1:if(f=v.payload,typeof f=="function"){d=f.call(h,d,p);break e}d=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=v.payload,p=typeof f=="function"?f.call(h,d,p):f,p==null)break e;d=mn({},d,p);break e;case 2:rp=!0}}s.callback!==null&&s.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[s]:p.push(s))}else h={eventTime:h,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,a|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);tv|=a,n.lanes=a,n.memoizedState=d}}function HH(n,t,e){if(n=t.effects,t.effects=null,n!==null)for(t=0;t<n.length;t++){var r=n[t],i=r.callback;if(i!==null){if(r.callback=null,r=e,typeof i!="function")throw Error(Me(191,i));i.call(r)}}}var gY=new f6.Component().refs;function JF(n,t,e,r){t=n.memoizedState,e=e(r,t),e=e==null?t:mn({},t,e),n.memoizedState=e,n.lanes===0&&(n.updateQueue.baseState=e)}var GT={isMounted:function(n){return(n=n._reactInternals)?Cv(n)===n:!1},enqueueSetState:function(n,t,e){n=n._reactInternals;var r=Oo(),i=Pp(n),o=Vc(r,i);o.payload=t,e!=null&&(o.callback=e),t=Rp(n,o,i),t!==null&&(El(t,n,i,r),mE(t,n,i))},enqueueReplaceState:function(n,t,e){n=n._reactInternals;var r=Oo(),i=Pp(n),o=Vc(r,i);o.tag=1,o.payload=t,e!=null&&(o.callback=e),t=Rp(n,o,i),t!==null&&(El(t,n,i,r),mE(t,n,i))},enqueueForceUpdate:function(n,t){n=n._reactInternals;var e=Oo(),r=Pp(n),i=Vc(e,r);i.tag=2,t!=null&&(i.callback=t),t=Rp(n,i,r),t!==null&&(El(t,n,r,e),mE(t,n,r))}};function $H(n,t,e,r,i,o,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Ww(e,r)||!Ww(i,o):!0}function mY(n,t,e){var r=!1,i=Hp,o=t.contextType;return typeof o=="object"&&o!==null?o=Hs(o):(i=ua(t)?Qf:so.current,r=t.contextTypes,o=(r=r!=null)?Fm(n,i):Hp),t=new t(e,o),n.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=GT,n.stateNode=t,t._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=o),t}function WH(n,t,e,r){n=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(e,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(e,r),t.state!==n&&GT.enqueueReplaceState(t,t.state,null)}function eI(n,t,e,r){var i=n.stateNode;i.props=e,i.state=n.memoizedState,i.refs=gY,wk(n);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Hs(o):(o=ua(t)?Qf:so.current,i.context=Fm(n,o)),i.state=n.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(JF(n,t,o,e),i.state=n.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&GT.enqueueReplaceState(i,i.state,null),RO(n,e,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Yy(n,t,e){if(n=e.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(e._owner){if(e=e._owner,e){if(e.tag!==1)throw Error(Me(309));var r=e.stateNode}if(!r)throw Error(Me(147,n));var i=r,o=""+n;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;s===gY&&(s=i.refs={}),a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof n!="string")throw Error(Me(284));if(!e._owner)throw Error(Me(290,n))}return n}function gx(n,t){throw n=Object.prototype.toString.call(t),Error(Me(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n))}function UH(n){var t=n._init;return t(n._payload)}function yY(n){function t(m,y){if(n){var C=m.deletions;C===null?(m.deletions=[y],m.flags|=16):C.push(y)}}function e(m,y){if(!n)return null;for(;y!==null;)t(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=Dp(m,y),m.index=0,m.sibling=null,m}function o(m,y,C){return m.index=C,n?(C=m.alternate,C!==null?(C=C.index,C<y?(m.flags|=2,y):C):(m.flags|=2,y)):(m.flags|=1048576,y)}function a(m){return n&&m.alternate===null&&(m.flags|=2),m}function s(m,y,C,S){return y===null||y.tag!==6?(y=FA(C,m.mode,S),y.return=m,y):(y=i(y,C),y.return=m,y)}function l(m,y,C,S){var w=C.type;return w===Tg?c(m,y,C.props.children,S,C.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===tp&&UH(w)===y.type)?(S=i(y,C.props),S.ref=Yy(m,y,C),S.return=m,S):(S=xE(C.type,C.key,C.props,null,m.mode,S),S.ref=Yy(m,y,C),S.return=m,S)}function u(m,y,C,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==C.containerInfo||y.stateNode.implementation!==C.implementation?(y=IA(C,m.mode,S),y.return=m,y):(y=i(y,C.children||[]),y.return=m,y)}function c(m,y,C,S,w){return y===null||y.tag!==7?(y=Gf(C,m.mode,S,w),y.return=m,y):(y=i(y,C),y.return=m,y)}function d(m,y,C){if(typeof y=="string"&&y!==""||typeof y=="number")return y=FA(""+y,m.mode,C),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ox:return C=xE(y.type,y.key,y.props,null,m.mode,C),C.ref=Yy(m,null,y),C.return=m,C;case Rg:return y=IA(y,m.mode,C),y.return=m,y;case tp:var S=y._init;return d(m,S(y._payload),C)}if(mS(y)||$y(y))return y=Gf(y,m.mode,C,null),y.return=m,y;gx(m,y)}return null}function p(m,y,C,S){var w=y!==null?y.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return w!==null?null:s(m,y,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ox:return C.key===w?l(m,y,C,S):null;case Rg:return C.key===w?u(m,y,C,S):null;case tp:return w=C._init,p(m,y,w(C._payload),S)}if(mS(C)||$y(C))return w!==null?null:c(m,y,C,S,null);gx(m,C)}return null}function h(m,y,C,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(C)||null,s(y,m,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ox:return m=m.get(S.key===null?C:S.key)||null,l(y,m,S,w);case Rg:return m=m.get(S.key===null?C:S.key)||null,u(y,m,S,w);case tp:var _=S._init;return h(m,y,C,_(S._payload),w)}if(mS(S)||$y(S))return m=m.get(C)||null,c(y,m,S,w,null);gx(y,S)}return null}function f(m,y,C,S){for(var w=null,_=null,x=y,E=y=0,R=null;x!==null&&E<C.length;E++){x.index>E?(R=x,x=null):R=x.sibling;var P=p(m,x,C[E],S);if(P===null){x===null&&(x=R);break}n&&x&&P.alternate===null&&t(m,x),y=o(P,y,E),_===null?w=P:_.sibling=P,_=P,x=R}if(E===C.length)return e(m,x),un&&Zh(m,E),w;if(x===null){for(;E<C.length;E++)x=d(m,C[E],S),x!==null&&(y=o(x,y,E),_===null?w=x:_.sibling=x,_=x);return un&&Zh(m,E),w}for(x=r(m,x);E<C.length;E++)R=h(x,m,E,C[E],S),R!==null&&(n&&R.alternate!==null&&x.delete(R.key===null?E:R.key),y=o(R,y,E),_===null?w=R:_.sibling=R,_=R);return n&&x.forEach(function(A){return t(m,A)}),un&&Zh(m,E),w}function v(m,y,C,S){var w=$y(C);if(typeof w!="function")throw Error(Me(150));if(C=w.call(C),C==null)throw Error(Me(151));for(var _=w=null,x=y,E=y=0,R=null,P=C.next();x!==null&&!P.done;E++,P=C.next()){x.index>E?(R=x,x=null):R=x.sibling;var A=p(m,x,P.value,S);if(A===null){x===null&&(x=R);break}n&&x&&A.alternate===null&&t(m,x),y=o(A,y,E),_===null?w=A:_.sibling=A,_=A,x=R}if(P.done)return e(m,x),un&&Zh(m,E),w;if(x===null){for(;!P.done;E++,P=C.next())P=d(m,P.value,S),P!==null&&(y=o(P,y,E),_===null?w=P:_.sibling=P,_=P);return un&&Zh(m,E),w}for(x=r(m,x);!P.done;E++,P=C.next())P=h(x,m,E,P.value,S),P!==null&&(n&&P.alternate!==null&&x.delete(P.key===null?E:P.key),y=o(P,y,E),_===null?w=P:_.sibling=P,_=P);return n&&x.forEach(function(N){return t(m,N)}),un&&Zh(m,E),w}function g(m,y,C,S){if(typeof C=="object"&&C!==null&&C.type===Tg&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case ox:e:{for(var w=C.key,_=y;_!==null;){if(_.key===w){if(w=C.type,w===Tg){if(_.tag===7){e(m,_.sibling),y=i(_,C.props.children),y.return=m,m=y;break e}}else if(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===tp&&UH(w)===_.type){e(m,_.sibling),y=i(_,C.props),y.ref=Yy(m,_,C),y.return=m,m=y;break e}e(m,_);break}else t(m,_);_=_.sibling}C.type===Tg?(y=Gf(C.props.children,m.mode,S,C.key),y.return=m,m=y):(S=xE(C.type,C.key,C.props,null,m.mode,S),S.ref=Yy(m,y,C),S.return=m,m=S)}return a(m);case Rg:e:{for(_=C.key;y!==null;){if(y.key===_)if(y.tag===4&&y.stateNode.containerInfo===C.containerInfo&&y.stateNode.implementation===C.implementation){e(m,y.sibling),y=i(y,C.children||[]),y.return=m,m=y;break e}else{e(m,y);break}else t(m,y);y=y.sibling}y=IA(C,m.mode,S),y.return=m,m=y}return a(m);case tp:return _=C._init,g(m,y,_(C._payload),S)}if(mS(C))return f(m,y,C,S);if($y(C))return v(m,y,C,S);gx(m,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,y!==null&&y.tag===6?(e(m,y.sibling),y=i(y,C),y.return=m,m=y):(e(m,y),y=FA(C,m.mode,S),y.return=m,m=y),a(m)):e(m,y)}return g}var Nm=yY(!0),CY=yY(!1),e_={},Vu=ih(e_),Yw=ih(e_),qw=ih(e_);function Ef(n){if(n===e_)throw Error(Me(174));return n}function _k(n,t){switch(Kr(qw,t),Kr(Yw,n),Kr(Vu,e_),n=t.nodeType,n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:MF(null,"");break;default:n=n===8?t.parentNode:t,t=n.namespaceURI||null,n=n.tagName,t=MF(t,n)}nn(Vu),Kr(Vu,t)}function km(){nn(Vu),nn(Yw),nn(qw)}function SY(n){Ef(qw.current);var t=Ef(Vu.current),e=MF(t,n.type);t!==e&&(Kr(Yw,n),Kr(Vu,e))}function xk(n){Yw.current===n&&(nn(Vu),nn(Yw))}var fn=ih(0);function TO(n){for(var t=n;t!==null;){if(t.tag===13){var e=t.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||e.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var TA=[];function bk(){for(var n=0;n<TA.length;n++)TA[n]._workInProgressVersionPrimary=null;TA.length=0}var yE=pd.ReactCurrentDispatcher,PA=pd.ReactCurrentBatchConfig,ev=0,gn=null,li=null,_i=null,PO=!1,rw=!1,Xw=0,hse=0;function qi(){throw Error(Me(321))}function Ek(n,t){if(t===null)return!1;for(var e=0;e<t.length&&e<n.length;e++)if(!Pl(n[e],t[e]))return!1;return!0}function Ok(n,t,e,r,i,o){if(ev=o,gn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yE.current=n===null||n.memoizedState===null?mse:yse,n=e(r,i),rw){o=0;do{if(rw=!1,Xw=0,25<=o)throw Error(Me(301));o+=1,_i=li=null,t.updateQueue=null,yE.current=Cse,n=e(r,i)}while(rw)}if(yE.current=DO,t=li!==null&&li.next!==null,ev=0,_i=li=gn=null,PO=!1,t)throw Error(Me(300));return n}function Rk(){var n=Xw!==0;return Xw=0,n}function vu(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _i===null?gn.memoizedState=_i=n:_i=_i.next=n,_i}function $s(){if(li===null){var n=gn.alternate;n=n!==null?n.memoizedState:null}else n=li.next;var t=_i===null?gn.memoizedState:_i.next;if(t!==null)_i=t,li=n;else{if(n===null)throw Error(Me(310));li=n,n={memoizedState:li.memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},_i===null?gn.memoizedState=_i=n:_i=_i.next=n}return _i}function Zw(n,t){return typeof t=="function"?t(n):t}function DA(n){var t=$s(),e=t.queue;if(e===null)throw Error(Me(311));e.lastRenderedReducer=n;var r=li,i=r.baseQueue,o=e.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,e.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((ev&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,a=r):l=l.next=d,gn.lanes|=c,tv|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,Pl(r,t.memoizedState)||(ra=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,e.lastRenderedState=r}if(n=e.interleaved,n!==null){i=n;do o=i.lane,gn.lanes|=o,tv|=o,i=i.next;while(i!==n)}else i===null&&(e.lanes=0);return[t.memoizedState,e.dispatch]}function AA(n){var t=$s(),e=t.queue;if(e===null)throw Error(Me(311));e.lastRenderedReducer=n;var r=e.dispatch,i=e.pending,o=t.memoizedState;if(i!==null){e.pending=null;var a=i=i.next;do o=n(o,a.action),a=a.next;while(a!==i);Pl(o,t.memoizedState)||(ra=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),e.lastRenderedState=o}return[o,r]}function wY(){}function _Y(n,t){var e=gn,r=$s(),i=t(),o=!Pl(r.memoizedState,i);if(o&&(r.memoizedState=i,ra=!0),r=r.queue,Tk(EY.bind(null,e,r,n),[n]),r.getSnapshot!==t||o||_i!==null&&_i.memoizedState.tag&1){if(e.flags|=2048,Qw(9,bY.bind(null,e,r,i,t),void 0,null),Oi===null)throw Error(Me(349));ev&30||xY(e,t,i)}return i}function xY(n,t,e){n.flags|=16384,n={getSnapshot:t,value:e},t=gn.updateQueue,t===null?(t={lastEffect:null,stores:null},gn.updateQueue=t,t.stores=[n]):(e=t.stores,e===null?t.stores=[n]:e.push(n))}function bY(n,t,e,r){t.value=e,t.getSnapshot=r,OY(t)&&RY(n)}function EY(n,t,e){return e(function(){OY(t)&&RY(n)})}function OY(n){var t=n.getSnapshot;n=n.value;try{var e=t();return!Pl(n,e)}catch{return!0}}function RY(n){var t=qc(n,1);t!==null&&El(t,n,1,-1)}function zH(n){var t=vu();return typeof n=="function"&&(n=n()),t.memoizedState=t.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zw,lastRenderedState:n},t.queue=n,n=n.dispatch=gse.bind(null,gn,n),[t.memoizedState,n]}function Qw(n,t,e,r){return n={tag:n,create:t,destroy:e,deps:r,next:null},t=gn.updateQueue,t===null?(t={lastEffect:null,stores:null},gn.updateQueue=t,t.lastEffect=n.next=n):(e=t.lastEffect,e===null?t.lastEffect=n.next=n:(r=e.next,e.next=n,n.next=r,t.lastEffect=n)),n}function TY(){return $s().memoizedState}function CE(n,t,e,r){var i=vu();gn.flags|=n,i.memoizedState=Qw(1|t,e,void 0,r===void 0?null:r)}function VT(n,t,e,r){var i=$s();r=r===void 0?null:r;var o=void 0;if(li!==null){var a=li.memoizedState;if(o=a.destroy,r!==null&&Ek(r,a.deps)){i.memoizedState=Qw(t,e,o,r);return}}gn.flags|=n,i.memoizedState=Qw(1|t,e,o,r)}function KH(n,t){return CE(8390656,8,n,t)}function Tk(n,t){return VT(2048,8,n,t)}function PY(n,t){return VT(4,2,n,t)}function DY(n,t){return VT(4,4,n,t)}function AY(n,t){if(typeof t=="function")return n=n(),t(n),function(){t(null)};if(t!=null)return n=n(),t.current=n,function(){t.current=null}}function MY(n,t,e){return e=e!=null?e.concat([n]):null,VT(4,4,AY.bind(null,t,n),e)}function Pk(){}function LY(n,t){var e=$s();t=t===void 0?null:t;var r=e.memoizedState;return r!==null&&t!==null&&Ek(t,r[1])?r[0]:(e.memoizedState=[n,t],n)}function FY(n,t){var e=$s();t=t===void 0?null:t;var r=e.memoizedState;return r!==null&&t!==null&&Ek(t,r[1])?r[0]:(n=n(),e.memoizedState=[n,t],n)}function IY(n,t,e){return ev&21?(Pl(e,t)||(e=G6(),gn.lanes|=e,tv|=e,n.baseState=!0),t):(n.baseState&&(n.baseState=!1,ra=!0),n.memoizedState=e)}function fse(n,t){var e=Dr;Dr=e!==0&&4>e?e:4,n(!0);var r=PA.transition;PA.transition={};try{n(!1),t()}finally{Dr=e,PA.transition=r}}function NY(){return $s().memoizedState}function vse(n,t,e){var r=Pp(n);if(e={lane:r,action:e,hasEagerState:!1,eagerState:null,next:null},kY(n))GY(t,e);else if(e=fY(n,t,e,r),e!==null){var i=Oo();El(e,n,r,i),VY(e,t,r)}}function gse(n,t,e){var r=Pp(n),i={lane:r,action:e,hasEagerState:!1,eagerState:null,next:null};if(kY(n))GY(t,i);else{var o=n.alternate;if(n.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,e);if(i.hasEagerState=!0,i.eagerState=s,Pl(s,a)){var l=t.interleaved;l===null?(i.next=i,Sk(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}e=fY(n,t,i,r),e!==null&&(i=Oo(),El(e,n,r,i),VY(e,t,r))}}function kY(n){var t=n.alternate;return n===gn||t!==null&&t===gn}function GY(n,t){rw=PO=!0;var e=n.pending;e===null?t.next=t:(t.next=e.next,e.next=t),n.pending=t}function VY(n,t,e){if(e&4194240){var r=t.lanes;r&=n.pendingLanes,e|=r,t.lanes=e,ak(n,e)}}var DO={readContext:Hs,useCallback:qi,useContext:qi,useEffect:qi,useImperativeHandle:qi,useInsertionEffect:qi,useLayoutEffect:qi,useMemo:qi,useReducer:qi,useRef:qi,useState:qi,useDebugValue:qi,useDeferredValue:qi,useTransition:qi,useMutableSource:qi,useSyncExternalStore:qi,useId:qi,unstable_isNewReconciler:!1},mse={readContext:Hs,useCallback:function(n,t){return vu().memoizedState=[n,t===void 0?null:t],n},useContext:Hs,useEffect:KH,useImperativeHandle:function(n,t,e){return e=e!=null?e.concat([n]):null,CE(4194308,4,AY.bind(null,t,n),e)},useLayoutEffect:function(n,t){return CE(4194308,4,n,t)},useInsertionEffect:function(n,t){return CE(4,2,n,t)},useMemo:function(n,t){var e=vu();return t=t===void 0?null:t,n=n(),e.memoizedState=[n,t],n},useReducer:function(n,t,e){var r=vu();return t=e!==void 0?e(t):t,r.memoizedState=r.baseState=t,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:t},r.queue=n,n=n.dispatch=vse.bind(null,gn,n),[r.memoizedState,n]},useRef:function(n){var t=vu();return n={current:n},t.memoizedState=n},useState:zH,useDebugValue:Pk,useDeferredValue:function(n){return vu().memoizedState=n},useTransition:function(){var n=zH(!1),t=n[0];return n=fse.bind(null,n[1]),vu().memoizedState=n,[t,n]},useMutableSource:function(){},useSyncExternalStore:function(n,t,e){var r=gn,i=vu();if(un){if(e===void 0)throw Error(Me(407));e=e()}else{if(e=t(),Oi===null)throw Error(Me(349));ev&30||xY(r,t,e)}i.memoizedState=e;var o={value:e,getSnapshot:t};return i.queue=o,KH(EY.bind(null,r,o,n),[n]),r.flags|=2048,Qw(9,bY.bind(null,r,o,e,t),void 0,null),e},useId:function(){var n=vu(),t=Oi.identifierPrefix;if(un){var e=Nc,r=Ic;e=(r&~(1<<32-bl(r)-1)).toString(32)+e,t=":"+t+"R"+e,e=Xw++,0<e&&(t+="H"+e.toString(32)),t+=":"}else e=hse++,t=":"+t+"r"+e.toString(32)+":";return n.memoizedState=t},unstable_isNewReconciler:!1},yse={readContext:Hs,useCallback:LY,useContext:Hs,useEffect:Tk,useImperativeHandle:MY,useInsertionEffect:PY,useLayoutEffect:DY,useMemo:FY,useReducer:DA,useRef:TY,useState:function(){return DA(Zw)},useDebugValue:Pk,useDeferredValue:function(n){var t=$s();return IY(t,li.memoizedState,n)},useTransition:function(){var n=DA(Zw)[0],t=$s().memoizedState;return[n,t]},useMutableSource:wY,useSyncExternalStore:_Y,useId:NY,unstable_isNewReconciler:!1},Cse={readContext:Hs,useCallback:LY,useContext:Hs,useEffect:Tk,useImperativeHandle:MY,useInsertionEffect:PY,useLayoutEffect:DY,useMemo:FY,useReducer:AA,useRef:TY,useState:function(){return AA(Zw)},useDebugValue:Pk,useDeferredValue:function(n){var t=$s();return li===null?t.memoizedState=n:IY(t,li.memoizedState,n)},useTransition:function(){var n=AA(Zw)[0],t=$s().memoizedState;return[n,t]},useMutableSource:wY,useSyncExternalStore:_Y,useId:NY,unstable_isNewReconciler:!1};function Gm(n,t){try{var e="",r=t;do e+=Koe(r),r=r.return;while(r);var i=e}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:n,source:t,stack:i,digest:null}}function MA(n,t,e){return{value:n,source:null,stack:e??null,digest:t??null}}function tI(n,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var Sse=typeof WeakMap=="function"?WeakMap:Map;function BY(n,t,e){e=Vc(-1,e),e.tag=3,e.payload={element:null};var r=t.value;return e.callback=function(){MO||(MO=!0,dI=r),tI(n,t)},e}function jY(n,t,e){e=Vc(-1,e),e.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;e.payload=function(){return r(i)},e.callback=function(){tI(n,t)}}var o=n.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){tI(n,t),typeof r!="function"&&(Tp===null?Tp=new Set([this]):Tp.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),e}function YH(n,t,e){var r=n.pingCache;if(r===null){r=n.pingCache=new Sse;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(e)||(i.add(e),n=Fse.bind(null,n,t,e),t.then(n,n))}function qH(n){do{var t;if((t=n.tag===13)&&(t=n.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return n;n=n.return}while(n!==null);return null}function XH(n,t,e,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===t?n.flags|=65536:(n.flags|=128,e.flags|=131072,e.flags&=-52805,e.tag===1&&(e.alternate===null?e.tag=17:(t=Vc(-1,1),t.tag=2,Rp(e,t,1))),e.lanes|=1),n)}var wse=pd.ReactCurrentOwner,ra=!1;function mo(n,t,e,r){t.child=n===null?CY(t,null,e,r):Nm(t,n.child,e,r)}function ZH(n,t,e,r,i){e=e.render;var o=t.ref;return um(t,i),r=Ok(n,t,e,r,o,i),e=Rk(),n!==null&&!ra?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~i,Xc(n,t,i)):(un&&e&&fk(t),t.flags|=1,mo(n,t,r,i),t.child)}function QH(n,t,e,r,i){if(n===null){var o=e.type;return typeof o=="function"&&!kk(o)&&o.defaultProps===void 0&&e.compare===null&&e.defaultProps===void 0?(t.tag=15,t.type=o,HY(n,t,o,r,i)):(n=xE(e.type,null,r,t,t.mode,i),n.ref=t.ref,n.return=t,t.child=n)}if(o=n.child,!(n.lanes&i)){var a=o.memoizedProps;if(e=e.compare,e=e!==null?e:Ww,e(a,r)&&n.ref===t.ref)return Xc(n,t,i)}return t.flags|=1,n=Dp(o,r),n.ref=t.ref,n.return=t,t.child=n}function HY(n,t,e,r,i){if(n!==null){var o=n.memoizedProps;if(Ww(o,r)&&n.ref===t.ref)if(ra=!1,t.pendingProps=r=o,(n.lanes&i)!==0)n.flags&131072&&(ra=!0);else return t.lanes=n.lanes,Xc(n,t,i)}return rI(n,t,e,r,i)}function $Y(n,t,e){var r=t.pendingProps,i=r.children,o=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kr(Gg,Ba),Ba|=e;else{if(!(e&1073741824))return n=o!==null?o.baseLanes|e:e,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:n,cachePool:null,transitions:null},t.updateQueue=null,Kr(Gg,Ba),Ba|=n,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:e,Kr(Gg,Ba),Ba|=r}else o!==null?(r=o.baseLanes|e,t.memoizedState=null):r=e,Kr(Gg,Ba),Ba|=r;return mo(n,t,i,e),t.child}function WY(n,t){var e=t.ref;(n===null&&e!==null||n!==null&&n.ref!==e)&&(t.flags|=512,t.flags|=2097152)}function rI(n,t,e,r,i){var o=ua(e)?Qf:so.current;return o=Fm(t,o),um(t,i),e=Ok(n,t,e,r,o,i),r=Rk(),n!==null&&!ra?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~i,Xc(n,t,i)):(un&&r&&fk(t),t.flags|=1,mo(n,t,e,i),t.child)}function JH(n,t,e,r,i){if(ua(e)){var o=!0;_O(t)}else o=!1;if(um(t,i),t.stateNode===null)SE(n,t),mY(t,e,r),eI(t,e,r,i),r=!0;else if(n===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=e.contextType;typeof u=="object"&&u!==null?u=Hs(u):(u=ua(e)?Qf:so.current,u=Fm(t,u));var c=e.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&WH(t,a,r,u),rp=!1;var p=t.memoizedState;a.state=p,RO(t,r,a,i),l=t.memoizedState,s!==r||p!==l||la.current||rp?(typeof c=="function"&&(JF(t,e,c,r),l=t.memoizedState),(s=rp||$H(t,e,s,r,p,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,vY(n,t),s=t.memoizedProps,u=t.type===t.elementType?s:hl(t.type,s),a.props=u,d=t.pendingProps,p=a.context,l=e.contextType,typeof l=="object"&&l!==null?l=Hs(l):(l=ua(e)?Qf:so.current,l=Fm(t,l));var h=e.getDerivedStateFromProps;(c=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||p!==l)&&WH(t,a,r,l),rp=!1,p=t.memoizedState,a.state=p,RO(t,r,a,i);var f=t.memoizedState;s!==d||p!==f||la.current||rp?(typeof h=="function"&&(JF(t,e,h,r),f=t.memoizedState),(u=rp||$H(t,e,u,r,p,f,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,f,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,f,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===n.memoizedProps&&p===n.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===n.memoizedProps&&p===n.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===n.memoizedProps&&p===n.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===n.memoizedProps&&p===n.memoizedState||(t.flags|=1024),r=!1)}return nI(n,t,e,r,o,i)}function nI(n,t,e,r,i,o){WY(n,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&GH(t,e,!1),Xc(n,t,o);r=t.stateNode,wse.current=t;var s=a&&typeof e.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,n!==null&&a?(t.child=Nm(t,n.child,null,o),t.child=Nm(t,null,s,o)):mo(n,t,s,o),t.memoizedState=r.state,i&&GH(t,e,!0),t.child}function UY(n){var t=n.stateNode;t.pendingContext?kH(n,t.pendingContext,t.pendingContext!==t.context):t.context&&kH(n,t.context,!1),_k(n,t.containerInfo)}function e$(n,t,e,r,i){return Im(),gk(i),t.flags|=256,mo(n,t,e,r),t.child}var iI={dehydrated:null,treeContext:null,retryLane:0};function oI(n){return{baseLanes:n,cachePool:null,transitions:null}}function zY(n,t,e){var r=t.pendingProps,i=fn.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=n!==null&&n.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Kr(fn,i&1),n===null)return ZF(t),n=t.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(t.mode&1?n.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,n=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=HT(a,r,0,null),n=Gf(n,r,e,null),o.return=t,n.return=t,o.sibling=n,t.child=o,t.child.memoizedState=oI(e),t.memoizedState=iI,n):Dk(t,a));if(i=n.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return _se(n,t,a,r,s,i,e);if(o){o=r.fallback,a=t.mode,i=n.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Dp(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Dp(s,o):(o=Gf(o,a,e,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=n.child.memoizedState,a=a===null?oI(e):{baseLanes:a.baseLanes|e,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=n.childLanes&~e,t.memoizedState=iI,r}return o=n.child,n=o.sibling,r=Dp(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=e),r.return=t,r.sibling=null,n!==null&&(e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)),t.child=r,t.memoizedState=null,r}function Dk(n,t){return t=HT({mode:"visible",children:t},n.mode,0,null),t.return=n,n.child=t}function mx(n,t,e,r){return r!==null&&gk(r),Nm(t,n.child,null,e),n=Dk(t,t.pendingProps.children),n.flags|=2,t.memoizedState=null,n}function _se(n,t,e,r,i,o,a){if(e)return t.flags&256?(t.flags&=-257,r=MA(Error(Me(422))),mx(n,t,a,r)):t.memoizedState!==null?(t.child=n.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=HT({mode:"visible",children:r.children},i,0,null),o=Gf(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Nm(t,n.child,null,a),t.child.memoizedState=oI(a),t.memoizedState=iI,o);if(!(t.mode&1))return mx(n,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(Me(419)),r=MA(o,r,void 0),mx(n,t,a,r)}if(s=(a&n.childLanes)!==0,ra||s){if(r=Oi,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,qc(n,i),El(r,n,i,-1))}return Nk(),r=MA(Error(Me(421))),mx(n,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=n.child,t=Ise.bind(null,n),i._reactRetry=t,null):(n=o.treeContext,Za=Op(i.nextSibling),ts=t,un=!0,ml=null,n!==null&&(Rs[Ts++]=Ic,Rs[Ts++]=Nc,Rs[Ts++]=Jf,Ic=n.id,Nc=n.overflow,Jf=t),t=Dk(t,r.children),t.flags|=4096,t)}function t$(n,t,e){n.lanes|=t;var r=n.alternate;r!==null&&(r.lanes|=t),QF(n.return,t,e)}function LA(n,t,e,r,i){var o=n.memoizedState;o===null?n.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:e,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=e,o.tailMode=i)}function KY(n,t,e){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(mo(n,t,r.children,e),r=fn.current,r&2)r=r&1|2,t.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=t.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&t$(n,e,t);else if(n.tag===19)t$(n,e,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Kr(fn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(e=t.child,i=null;e!==null;)n=e.alternate,n!==null&&TO(n)===null&&(i=e),e=e.sibling;e=i,e===null?(i=t.child,t.child=null):(i=e.sibling,e.sibling=null),LA(t,!1,i,e,o);break;case"backwards":for(e=null,i=t.child,t.child=null;i!==null;){if(n=i.alternate,n!==null&&TO(n)===null){t.child=i;break}n=i.sibling,i.sibling=e,e=i,i=n}LA(t,!0,e,null,o);break;case"together":LA(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function SE(n,t){!(t.mode&1)&&n!==null&&(n.alternate=null,t.alternate=null,t.flags|=2)}function Xc(n,t,e){if(n!==null&&(t.dependencies=n.dependencies),tv|=t.lanes,!(e&t.childLanes))return null;if(n!==null&&t.child!==n.child)throw Error(Me(153));if(t.child!==null){for(n=t.child,e=Dp(n,n.pendingProps),t.child=e,e.return=t;n.sibling!==null;)n=n.sibling,e=e.sibling=Dp(n,n.pendingProps),e.return=t;e.sibling=null}return t.child}function xse(n,t,e){switch(t.tag){case 3:UY(t),Im();break;case 5:SY(t);break;case 1:ua(t.type)&&_O(t);break;case 4:_k(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Kr(EO,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Kr(fn,fn.current&1),t.flags|=128,null):e&t.child.childLanes?zY(n,t,e):(Kr(fn,fn.current&1),n=Xc(n,t,e),n!==null?n.sibling:null);Kr(fn,fn.current&1);break;case 19:if(r=(e&t.childLanes)!==0,n.flags&128){if(r)return KY(n,t,e);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Kr(fn,fn.current),r)break;return null;case 22:case 23:return t.lanes=0,$Y(n,t,e)}return Xc(n,t,e)}var YY,aI,qY,XY;YY=function(n,t){for(var e=t.child;e!==null;){if(e.tag===5||e.tag===6)n.appendChild(e.stateNode);else if(e.tag!==4&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};aI=function(){};qY=function(n,t,e,r){var i=n.memoizedProps;if(i!==r){n=t.stateNode,Ef(Vu.current);var o=null;switch(e){case"input":i=TF(n,i),r=TF(n,r),o=[];break;case"select":i=mn({},i,{value:void 0}),r=mn({},r,{value:void 0}),o=[];break;case"textarea":i=AF(n,i),r=AF(n,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=SO)}LF(e,r);var a;e=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(e||(e={}),e[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(kw.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(e||(e={}),e[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(e||(e={}),e[a]=l[a])}else e||(o||(o=[]),o.push(u,e)),e=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(kw.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Xr("scroll",n),o||s===l||(o=[])):(o=o||[]).push(u,l))}e&&(o=o||[]).push("style",e);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};XY=function(n,t,e,r){e!==r&&(t.flags|=4)};function qy(n,t){if(!un)switch(n.tailMode){case"hidden":t=n.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?n.tail=null:e.sibling=null;break;case"collapsed":e=n.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Xi(n){var t=n.alternate!==null&&n.alternate.child===n.child,e=0,r=0;if(t)for(var i=n.child;i!==null;)e|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)e|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=e,t}function bse(n,t,e){var r=t.pendingProps;switch(vk(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xi(t),null;case 1:return ua(t.type)&&wO(),Xi(t),null;case 3:return r=t.stateNode,km(),nn(la),nn(so),bk(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(vx(t)?t.flags|=4:n===null||n.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ml!==null&&(fI(ml),ml=null))),aI(n,t),Xi(t),null;case 5:xk(t);var i=Ef(qw.current);if(e=t.type,n!==null&&t.stateNode!=null)qY(n,t,e,r,i),n.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Me(166));return Xi(t),null}if(n=Ef(Vu.current),vx(t)){r=t.stateNode,e=t.type;var o=t.memoizedProps;switch(r[Ou]=t,r[Kw]=o,n=(t.mode&1)!==0,e){case"dialog":Xr("cancel",r),Xr("close",r);break;case"iframe":case"object":case"embed":Xr("load",r);break;case"video":case"audio":for(i=0;i<CS.length;i++)Xr(CS[i],r);break;case"source":Xr("error",r);break;case"img":case"image":case"link":Xr("error",r),Xr("load",r);break;case"details":Xr("toggle",r);break;case"input":cH(r,o),Xr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Xr("invalid",r);break;case"textarea":pH(r,o),Xr("invalid",r)}LF(e,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&fx(r.textContent,s,n),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&fx(r.textContent,s,n),i=["children",""+s]):kw.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Xr("scroll",r)}switch(e){case"input":ax(r),dH(r,o,!0);break;case"textarea":ax(r),hH(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=SO)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=x6(e)),n==="http://www.w3.org/1999/xhtml"?e==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=a.createElement(e,{is:r.is}):(n=a.createElement(e),e==="select"&&(a=n,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):n=a.createElementNS(n,e),n[Ou]=t,n[Kw]=r,YY(n,t,!1,!1),t.stateNode=n;e:{switch(a=FF(e,r),e){case"dialog":Xr("cancel",n),Xr("close",n),i=r;break;case"iframe":case"object":case"embed":Xr("load",n),i=r;break;case"video":case"audio":for(i=0;i<CS.length;i++)Xr(CS[i],n);i=r;break;case"source":Xr("error",n),i=r;break;case"img":case"image":case"link":Xr("error",n),Xr("load",n),i=r;break;case"details":Xr("toggle",n),i=r;break;case"input":cH(n,r),i=TF(n,r),Xr("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=mn({},r,{value:void 0}),Xr("invalid",n);break;case"textarea":pH(n,r),i=AF(n,r),Xr("invalid",n);break;default:i=r}LF(e,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?O6(n,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&b6(n,l)):o==="children"?typeof l=="string"?(e!=="textarea"||l!=="")&&Gw(n,l):typeof l=="number"&&Gw(n,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(kw.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Xr("scroll",n):l!=null&&ek(n,o,l,a))}switch(e){case"input":ax(n),dH(n,r,!1);break;case"textarea":ax(n),hH(n);break;case"option":r.value!=null&&n.setAttribute("value",""+jp(r.value));break;case"select":n.multiple=!!r.multiple,o=r.value,o!=null?om(n,!!r.multiple,o,!1):r.defaultValue!=null&&om(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=SO)}switch(e){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xi(t),null;case 6:if(n&&t.stateNode!=null)XY(n,t,n.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Me(166));if(e=Ef(qw.current),Ef(Vu.current),vx(t)){if(r=t.stateNode,e=t.memoizedProps,r[Ou]=t,(o=r.nodeValue!==e)&&(n=ts,n!==null))switch(n.tag){case 3:fx(r.nodeValue,e,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&fx(r.nodeValue,e,(n.mode&1)!==0)}o&&(t.flags|=4)}else r=(e.nodeType===9?e:e.ownerDocument).createTextNode(r),r[Ou]=t,t.stateNode=r}return Xi(t),null;case 13:if(nn(fn),r=t.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(un&&Za!==null&&t.mode&1&&!(t.flags&128))hY(),Im(),t.flags|=98560,o=!1;else if(o=vx(t),r!==null&&r.dehydrated!==null){if(n===null){if(!o)throw Error(Me(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Me(317));o[Ou]=t}else Im(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xi(t),o=!1}else ml!==null&&(fI(ml),ml=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=e,t):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(n===null||fn.current&1?hi===0&&(hi=3):Nk())),t.updateQueue!==null&&(t.flags|=4),Xi(t),null);case 4:return km(),aI(n,t),n===null&&Uw(t.stateNode.containerInfo),Xi(t),null;case 10:return Ck(t.type._context),Xi(t),null;case 17:return ua(t.type)&&wO(),Xi(t),null;case 19:if(nn(fn),o=t.memoizedState,o===null)return Xi(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)qy(o,!1);else{if(hi!==0||n!==null&&n.flags&128)for(n=t.child;n!==null;){if(a=TO(n),a!==null){for(t.flags|=128,qy(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=e,e=t.child;e!==null;)o=e,n=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=n,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,n=a.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e=e.sibling;return Kr(fn,fn.current&1|2),t.child}n=n.sibling}o.tail!==null&&In()>Vm&&(t.flags|=128,r=!0,qy(o,!1),t.lanes=4194304)}else{if(!r)if(n=TO(a),n!==null){if(t.flags|=128,r=!0,e=n.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),qy(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!un)return Xi(t),null}else 2*In()-o.renderingStartTime>Vm&&e!==1073741824&&(t.flags|=128,r=!0,qy(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(e=o.last,e!==null?e.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=In(),t.sibling=null,e=fn.current,Kr(fn,r?e&1|2:e&1),t):(Xi(t),null);case 22:case 23:return Ik(),r=t.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ba&1073741824&&(Xi(t),t.subtreeFlags&6&&(t.flags|=8192)):Xi(t),null;case 24:return null;case 25:return null}throw Error(Me(156,t.tag))}function Ese(n,t){switch(vk(t),t.tag){case 1:return ua(t.type)&&wO(),n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 3:return km(),nn(la),nn(so),bk(),n=t.flags,n&65536&&!(n&128)?(t.flags=n&-65537|128,t):null;case 5:return xk(t),null;case 13:if(nn(fn),n=t.memoizedState,n!==null&&n.dehydrated!==null){if(t.alternate===null)throw Error(Me(340));Im()}return n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 19:return nn(fn),null;case 4:return km(),null;case 10:return Ck(t.type._context),null;case 22:case 23:return Ik(),null;case 24:return null;default:return null}}var yx=!1,ro=!1,Ose=typeof WeakSet=="function"?WeakSet:Set,et=null;function kg(n,t){var e=n.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){bn(n,t,r)}else e.current=null}function sI(n,t,e){try{e()}catch(r){bn(n,t,r)}}var r$=!1;function Rse(n,t){if(WF=mO,n=eY(),hk(n)){if("selectionStart"in n)var e={start:n.selectionStart,end:n.selectionEnd};else e:{e=(e=n.ownerDocument)&&e.defaultView||window;var r=e.getSelection&&e.getSelection();if(r&&r.rangeCount!==0){e=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{e.nodeType,o.nodeType}catch{e=null;break e}var a=0,s=-1,l=-1,u=0,c=0,d=n,p=null;t:for(;;){for(var h;d!==e||i!==0&&d.nodeType!==3||(s=a+i),d!==o||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(h=d.firstChild)!==null;)p=d,d=h;for(;;){if(d===n)break t;if(p===e&&++u===i&&(s=a),p===o&&++c===r&&(l=a),(h=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=h}e=s===-1||l===-1?null:{start:s,end:l}}else e=null}e=e||{start:0,end:0}}else e=null;for(UF={focusedElem:n,selectionRange:e},mO=!1,et=t;et!==null;)if(t=et,n=t.child,(t.subtreeFlags&1028)!==0&&n!==null)n.return=t,et=n;else for(;et!==null;){t=et;try{var f=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var v=f.memoizedProps,g=f.memoizedState,m=t.stateNode,y=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:hl(t.type,v),g);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Me(163))}}catch(S){bn(t,t.return,S)}if(n=t.sibling,n!==null){n.return=t.return,et=n;break}et=t.return}return f=r$,r$=!1,f}function nw(n,t,e){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var o=i.destroy;i.destroy=void 0,o!==void 0&&sI(t,e,o)}i=i.next}while(i!==r)}}function BT(n,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var e=t=t.next;do{if((e.tag&n)===n){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}}function lI(n){var t=n.ref;if(t!==null){var e=n.stateNode;switch(n.tag){case 5:n=e;break;default:n=e}typeof t=="function"?t(n):t.current=n}}function ZY(n){var t=n.alternate;t!==null&&(n.alternate=null,ZY(t)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(t=n.stateNode,t!==null&&(delete t[Ou],delete t[Kw],delete t[YF],delete t[use],delete t[cse])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function QY(n){return n.tag===5||n.tag===3||n.tag===4}function n$(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||QY(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function uI(n,t,e){var r=n.tag;if(r===5||r===6)n=n.stateNode,t?e.nodeType===8?e.parentNode.insertBefore(n,t):e.insertBefore(n,t):(e.nodeType===8?(t=e.parentNode,t.insertBefore(n,e)):(t=e,t.appendChild(n)),e=e._reactRootContainer,e!=null||t.onclick!==null||(t.onclick=SO));else if(r!==4&&(n=n.child,n!==null))for(uI(n,t,e),n=n.sibling;n!==null;)uI(n,t,e),n=n.sibling}function cI(n,t,e){var r=n.tag;if(r===5||r===6)n=n.stateNode,t?e.insertBefore(n,t):e.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(cI(n,t,e),n=n.sibling;n!==null;)cI(n,t,e),n=n.sibling}var Ni=null,fl=!1;function Pd(n,t,e){for(e=e.child;e!==null;)JY(n,t,e),e=e.sibling}function JY(n,t,e){if(Gu&&typeof Gu.onCommitFiberUnmount=="function")try{Gu.onCommitFiberUnmount(MT,e)}catch{}switch(e.tag){case 5:ro||kg(e,t);case 6:var r=Ni,i=fl;Ni=null,Pd(n,t,e),Ni=r,fl=i,Ni!==null&&(fl?(n=Ni,e=e.stateNode,n.nodeType===8?n.parentNode.removeChild(e):n.removeChild(e)):Ni.removeChild(e.stateNode));break;case 18:Ni!==null&&(fl?(n=Ni,e=e.stateNode,n.nodeType===8?OA(n.parentNode,e):n.nodeType===1&&OA(n,e),Hw(n)):OA(Ni,e.stateNode));break;case 4:r=Ni,i=fl,Ni=e.stateNode.containerInfo,fl=!0,Pd(n,t,e),Ni=r,fl=i;break;case 0:case 11:case 14:case 15:if(!ro&&(r=e.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&sI(e,t,a),i=i.next}while(i!==r)}Pd(n,t,e);break;case 1:if(!ro&&(kg(e,t),r=e.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=e.memoizedProps,r.state=e.memoizedState,r.componentWillUnmount()}catch(s){bn(e,t,s)}Pd(n,t,e);break;case 21:Pd(n,t,e);break;case 22:e.mode&1?(ro=(r=ro)||e.memoizedState!==null,Pd(n,t,e),ro=r):Pd(n,t,e);break;default:Pd(n,t,e)}}function i$(n){var t=n.updateQueue;if(t!==null){n.updateQueue=null;var e=n.stateNode;e===null&&(e=n.stateNode=new Ose),t.forEach(function(r){var i=Nse.bind(null,n,r);e.has(r)||(e.add(r),r.then(i,i))})}}function al(n,t){var e=t.deletions;if(e!==null)for(var r=0;r<e.length;r++){var i=e[r];try{var o=n,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:Ni=s.stateNode,fl=!1;break e;case 3:Ni=s.stateNode.containerInfo,fl=!0;break e;case 4:Ni=s.stateNode.containerInfo,fl=!0;break e}s=s.return}if(Ni===null)throw Error(Me(160));JY(o,a,i),Ni=null,fl=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){bn(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)e8(t,n),t=t.sibling}function e8(n,t){var e=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(al(t,n),Jl(n),r&4){try{nw(3,n,n.return),BT(3,n)}catch(v){bn(n,n.return,v)}try{nw(5,n,n.return)}catch(v){bn(n,n.return,v)}}break;case 1:al(t,n),Jl(n),r&512&&e!==null&&kg(e,e.return);break;case 5:if(al(t,n),Jl(n),r&512&&e!==null&&kg(e,e.return),n.flags&32){var i=n.stateNode;try{Gw(i,"")}catch(v){bn(n,n.return,v)}}if(r&4&&(i=n.stateNode,i!=null)){var o=n.memoizedProps,a=e!==null?e.memoizedProps:o,s=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&w6(i,o),FF(s,a);var u=FF(s,o);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?O6(i,d):c==="dangerouslySetInnerHTML"?b6(i,d):c==="children"?Gw(i,d):ek(i,c,d,u)}switch(s){case"input":PF(i,o);break;case"textarea":_6(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?om(i,!!o.multiple,h,!1):p!==!!o.multiple&&(o.defaultValue!=null?om(i,!!o.multiple,o.defaultValue,!0):om(i,!!o.multiple,o.multiple?[]:"",!1))}i[Kw]=o}catch(v){bn(n,n.return,v)}}break;case 6:if(al(t,n),Jl(n),r&4){if(n.stateNode===null)throw Error(Me(162));i=n.stateNode,o=n.memoizedProps;try{i.nodeValue=o}catch(v){bn(n,n.return,v)}}break;case 3:if(al(t,n),Jl(n),r&4&&e!==null&&e.memoizedState.isDehydrated)try{Hw(t.containerInfo)}catch(v){bn(n,n.return,v)}break;case 4:al(t,n),Jl(n);break;case 13:al(t,n),Jl(n),i=n.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Lk=In())),r&4&&i$(n);break;case 22:if(c=e!==null&&e.memoizedState!==null,n.mode&1?(ro=(u=ro)||c,al(t,n),ro=u):al(t,n),Jl(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!c&&n.mode&1)for(et=n,c=n.child;c!==null;){for(d=et=c;et!==null;){switch(p=et,h=p.child,p.tag){case 0:case 11:case 14:case 15:nw(4,p,p.return);break;case 1:kg(p,p.return);var f=p.stateNode;if(typeof f.componentWillUnmount=="function"){r=p,e=p.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(v){bn(r,e,v)}}break;case 5:kg(p,p.return);break;case 22:if(p.memoizedState!==null){a$(d);continue}}h!==null?(h.return=p,et=h):a$(d)}c=c.sibling}e:for(c=null,d=n;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=E6("display",a))}catch(v){bn(n,n.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){bn(n,n.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:al(t,n),Jl(n),r&4&&i$(n);break;case 21:break;default:al(t,n),Jl(n)}}function Jl(n){var t=n.flags;if(t&2){try{e:{for(var e=n.return;e!==null;){if(QY(e)){var r=e;break e}e=e.return}throw Error(Me(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Gw(i,""),r.flags&=-33);var o=n$(n);cI(n,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=n$(n);uI(n,s,a);break;default:throw Error(Me(161))}}catch(l){bn(n,n.return,l)}n.flags&=-3}t&4096&&(n.flags&=-4097)}function Tse(n,t,e){et=n,t8(n)}function t8(n,t,e){for(var r=(n.mode&1)!==0;et!==null;){var i=et,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||yx;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||ro;s=yx;var u=ro;if(yx=a,(ro=l)&&!u)for(et=i;et!==null;)a=et,l=a.child,a.tag===22&&a.memoizedState!==null?s$(i):l!==null?(l.return=a,et=l):s$(i);for(;o!==null;)et=o,t8(o),o=o.sibling;et=i,yx=s,ro=u}o$(n)}else i.subtreeFlags&8772&&o!==null?(o.return=i,et=o):o$(n)}}function o$(n){for(;et!==null;){var t=et;if(t.flags&8772){var e=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ro||BT(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ro)if(e===null)r.componentDidMount();else{var i=t.elementType===t.type?e.memoizedProps:hl(t.type,e.memoizedProps);r.componentDidUpdate(i,e.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&HH(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(e=null,t.child!==null)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}HH(t,a,e)}break;case 5:var s=t.stateNode;if(e===null&&t.flags&4){e=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&e.focus();break;case"img":l.src&&(e.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Hw(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Me(163))}ro||t.flags&512&&lI(t)}catch(p){bn(t,t.return,p)}}if(t===n){et=null;break}if(e=t.sibling,e!==null){e.return=t.return,et=e;break}et=t.return}}function a$(n){for(;et!==null;){var t=et;if(t===n){et=null;break}var e=t.sibling;if(e!==null){e.return=t.return,et=e;break}et=t.return}}function s$(n){for(;et!==null;){var t=et;try{switch(t.tag){case 0:case 11:case 15:var e=t.return;try{BT(4,t)}catch(l){bn(t,e,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){bn(t,i,l)}}var o=t.return;try{lI(t)}catch(l){bn(t,o,l)}break;case 5:var a=t.return;try{lI(t)}catch(l){bn(t,a,l)}}}catch(l){bn(t,t.return,l)}if(t===n){et=null;break}var s=t.sibling;if(s!==null){s.return=t.return,et=s;break}et=t.return}}var Pse=Math.ceil,AO=pd.ReactCurrentDispatcher,Ak=pd.ReactCurrentOwner,Ns=pd.ReactCurrentBatchConfig,ir=0,Oi=null,Qn=null,Hi=0,Ba=0,Gg=ih(0),hi=0,Jw=null,tv=0,jT=0,Mk=0,iw=null,ea=null,Lk=0,Vm=1/0,Dc=null,MO=!1,dI=null,Tp=null,Cx=!1,vp=null,LO=0,ow=0,pI=null,wE=-1,_E=0;function Oo(){return ir&6?In():wE!==-1?wE:wE=In()}function Pp(n){return n.mode&1?ir&2&&Hi!==0?Hi&-Hi:pse.transition!==null?(_E===0&&(_E=G6()),_E):(n=Dr,n!==0||(n=window.event,n=n===void 0?16:U6(n.type)),n):1}function El(n,t,e,r){if(50<ow)throw ow=0,pI=null,Error(Me(185));Z0(n,e,r),(!(ir&2)||n!==Oi)&&(n===Oi&&(!(ir&2)&&(jT|=e),hi===4&&up(n,Hi)),ca(n,r),e===1&&ir===0&&!(t.mode&1)&&(Vm=In()+500,kT&&oh()))}function ca(n,t){var e=n.callbackNode;pae(n,t);var r=gO(n,n===Oi?Hi:0);if(r===0)e!==null&&gH(e),n.callbackNode=null,n.callbackPriority=0;else if(t=r&-r,n.callbackPriority!==t){if(e!=null&&gH(e),t===1)n.tag===0?dse(l$.bind(null,n)):cY(l$.bind(null,n)),sse(function(){!(ir&6)&&oh()}),e=null;else{switch(V6(r)){case 1:e=ok;break;case 4:e=N6;break;case 16:e=vO;break;case 536870912:e=k6;break;default:e=vO}e=u8(e,r8.bind(null,n))}n.callbackPriority=t,n.callbackNode=e}}function r8(n,t){if(wE=-1,_E=0,ir&6)throw Error(Me(327));var e=n.callbackNode;if(cm()&&n.callbackNode!==e)return null;var r=gO(n,n===Oi?Hi:0);if(r===0)return null;if(r&30||r&n.expiredLanes||t)t=FO(n,r);else{t=r;var i=ir;ir|=2;var o=i8();(Oi!==n||Hi!==t)&&(Dc=null,Vm=In()+500,kf(n,t));do try{Mse();break}catch(s){n8(n,s)}while(1);yk(),AO.current=o,ir=i,Qn!==null?t=0:(Oi=null,Hi=0,t=hi)}if(t!==0){if(t===2&&(i=VF(n),i!==0&&(r=i,t=hI(n,i))),t===1)throw e=Jw,kf(n,0),up(n,r),ca(n,In()),e;if(t===6)up(n,r);else{if(i=n.current.alternate,!(r&30)&&!Dse(i)&&(t=FO(n,r),t===2&&(o=VF(n),o!==0&&(r=o,t=hI(n,o))),t===1))throw e=Jw,kf(n,0),up(n,r),ca(n,In()),e;switch(n.finishedWork=i,n.finishedLanes=r,t){case 0:case 1:throw Error(Me(345));case 2:Qh(n,ea,Dc);break;case 3:if(up(n,r),(r&130023424)===r&&(t=Lk+500-In(),10<t)){if(gO(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Oo(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=KF(Qh.bind(null,n,ea,Dc),t);break}Qh(n,ea,Dc);break;case 4:if(up(n,r),(r&4194240)===r)break;for(t=n.eventTimes,i=-1;0<r;){var a=31-bl(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=In()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Pse(r/1960))-r,10<r){n.timeoutHandle=KF(Qh.bind(null,n,ea,Dc),r);break}Qh(n,ea,Dc);break;case 5:Qh(n,ea,Dc);break;default:throw Error(Me(329))}}}return ca(n,In()),n.callbackNode===e?r8.bind(null,n):null}function hI(n,t){var e=iw;return n.current.memoizedState.isDehydrated&&(kf(n,t).flags|=256),n=FO(n,t),n!==2&&(t=ea,ea=e,t!==null&&fI(t)),n}function fI(n){ea===null?ea=n:ea.push.apply(ea,n)}function Dse(n){for(var t=n;;){if(t.flags&16384){var e=t.updateQueue;if(e!==null&&(e=e.stores,e!==null))for(var r=0;r<e.length;r++){var i=e[r],o=i.getSnapshot;i=i.value;try{if(!Pl(o(),i))return!1}catch{return!1}}}if(e=t.child,t.subtreeFlags&16384&&e!==null)e.return=t,t=e;else{if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function up(n,t){for(t&=~Mk,t&=~jT,n.suspendedLanes|=t,n.pingedLanes&=~t,n=n.expirationTimes;0<t;){var e=31-bl(t),r=1<<e;n[e]=-1,t&=~r}}function l$(n){if(ir&6)throw Error(Me(327));cm();var t=gO(n,0);if(!(t&1))return ca(n,In()),null;var e=FO(n,t);if(n.tag!==0&&e===2){var r=VF(n);r!==0&&(t=r,e=hI(n,r))}if(e===1)throw e=Jw,kf(n,0),up(n,t),ca(n,In()),e;if(e===6)throw Error(Me(345));return n.finishedWork=n.current.alternate,n.finishedLanes=t,Qh(n,ea,Dc),ca(n,In()),null}function Fk(n,t){var e=ir;ir|=1;try{return n(t)}finally{ir=e,ir===0&&(Vm=In()+500,kT&&oh())}}function rv(n){vp!==null&&vp.tag===0&&!(ir&6)&&cm();var t=ir;ir|=1;var e=Ns.transition,r=Dr;try{if(Ns.transition=null,Dr=1,n)return n()}finally{Dr=r,Ns.transition=e,ir=t,!(ir&6)&&oh()}}function Ik(){Ba=Gg.current,nn(Gg)}function kf(n,t){n.finishedWork=null,n.finishedLanes=0;var e=n.timeoutHandle;if(e!==-1&&(n.timeoutHandle=-1,ase(e)),Qn!==null)for(e=Qn.return;e!==null;){var r=e;switch(vk(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wO();break;case 3:km(),nn(la),nn(so),bk();break;case 5:xk(r);break;case 4:km();break;case 13:nn(fn);break;case 19:nn(fn);break;case 10:Ck(r.type._context);break;case 22:case 23:Ik()}e=e.return}if(Oi=n,Qn=n=Dp(n.current,null),Hi=Ba=t,hi=0,Jw=null,Mk=jT=tv=0,ea=iw=null,bf!==null){for(t=0;t<bf.length;t++)if(e=bf[t],r=e.interleaved,r!==null){e.interleaved=null;var i=r.next,o=e.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}e.pending=r}bf=null}return n}function n8(n,t){do{var e=Qn;try{if(yk(),yE.current=DO,PO){for(var r=gn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}PO=!1}if(ev=0,_i=li=gn=null,rw=!1,Xw=0,Ak.current=null,e===null||e.return===null){hi=1,Jw=t,Qn=null;break}e:{var o=n,a=e.return,s=e,l=t;if(t=Hi,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=qH(a);if(h!==null){h.flags&=-257,XH(h,a,s,o,t),h.mode&1&&YH(o,u,t),t=h,l=u;var f=t.updateQueue;if(f===null){var v=new Set;v.add(l),t.updateQueue=v}else f.add(l);break e}else{if(!(t&1)){YH(o,u,t),Nk();break e}l=Error(Me(426))}}else if(un&&s.mode&1){var g=qH(a);if(g!==null){!(g.flags&65536)&&(g.flags|=256),XH(g,a,s,o,t),gk(Gm(l,s));break e}}o=l=Gm(l,s),hi!==4&&(hi=2),iw===null?iw=[o]:iw.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=BY(o,l,t);jH(o,m);break e;case 1:s=l;var y=o.type,C=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Tp===null||!Tp.has(C)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=jY(o,s,t);jH(o,S);break e}}o=o.return}while(o!==null)}a8(e)}catch(w){t=w,Qn===e&&e!==null&&(Qn=e=e.return);continue}break}while(1)}function i8(){var n=AO.current;return AO.current=DO,n===null?DO:n}function Nk(){(hi===0||hi===3||hi===2)&&(hi=4),Oi===null||!(tv&268435455)&&!(jT&268435455)||up(Oi,Hi)}function FO(n,t){var e=ir;ir|=2;var r=i8();(Oi!==n||Hi!==t)&&(Dc=null,kf(n,t));do try{Ase();break}catch(i){n8(n,i)}while(1);if(yk(),ir=e,AO.current=r,Qn!==null)throw Error(Me(261));return Oi=null,Hi=0,hi}function Ase(){for(;Qn!==null;)o8(Qn)}function Mse(){for(;Qn!==null&&!nae();)o8(Qn)}function o8(n){var t=l8(n.alternate,n,Ba);n.memoizedProps=n.pendingProps,t===null?a8(n):Qn=t,Ak.current=null}function a8(n){var t=n;do{var e=t.alternate;if(n=t.return,t.flags&32768){if(e=Ese(e,t),e!==null){e.flags&=32767,Qn=e;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{hi=6,Qn=null;return}}else if(e=bse(e,t,Ba),e!==null){Qn=e;return}if(t=t.sibling,t!==null){Qn=t;return}Qn=t=n}while(t!==null);hi===0&&(hi=5)}function Qh(n,t,e){var r=Dr,i=Ns.transition;try{Ns.transition=null,Dr=1,Lse(n,t,e,r)}finally{Ns.transition=i,Dr=r}return null}function Lse(n,t,e,r){do cm();while(vp!==null);if(ir&6)throw Error(Me(327));e=n.finishedWork;var i=n.finishedLanes;if(e===null)return null;if(n.finishedWork=null,n.finishedLanes=0,e===n.current)throw Error(Me(177));n.callbackNode=null,n.callbackPriority=0;var o=e.lanes|e.childLanes;if(hae(n,o),n===Oi&&(Qn=Oi=null,Hi=0),!(e.subtreeFlags&2064)&&!(e.flags&2064)||Cx||(Cx=!0,u8(vO,function(){return cm(),null})),o=(e.flags&15990)!==0,e.subtreeFlags&15990||o){o=Ns.transition,Ns.transition=null;var a=Dr;Dr=1;var s=ir;ir|=4,Ak.current=null,Rse(n,e),e8(e,n),Jae(UF),mO=!!WF,UF=WF=null,n.current=e,Tse(e),iae(),ir=s,Dr=a,Ns.transition=o}else n.current=e;if(Cx&&(Cx=!1,vp=n,LO=i),o=n.pendingLanes,o===0&&(Tp=null),sae(e.stateNode),ca(n,In()),t!==null)for(r=n.onRecoverableError,e=0;e<t.length;e++)i=t[e],r(i.value,{componentStack:i.stack,digest:i.digest});if(MO)throw MO=!1,n=dI,dI=null,n;return LO&1&&n.tag!==0&&cm(),o=n.pendingLanes,o&1?n===pI?ow++:(ow=0,pI=n):ow=0,oh(),null}function cm(){if(vp!==null){var n=V6(LO),t=Ns.transition,e=Dr;try{if(Ns.transition=null,Dr=16>n?16:n,vp===null)var r=!1;else{if(n=vp,vp=null,LO=0,ir&6)throw Error(Me(331));var i=ir;for(ir|=4,et=n.current;et!==null;){var o=et,a=o.child;if(et.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(et=u;et!==null;){var c=et;switch(c.tag){case 0:case 11:case 15:nw(8,c,o)}var d=c.child;if(d!==null)d.return=c,et=d;else for(;et!==null;){c=et;var p=c.sibling,h=c.return;if(ZY(c),c===u){et=null;break}if(p!==null){p.return=h,et=p;break}et=h}}}var f=o.alternate;if(f!==null){var v=f.child;if(v!==null){f.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(v!==null)}}et=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,et=a;else e:for(;et!==null;){if(o=et,o.flags&2048)switch(o.tag){case 0:case 11:case 15:nw(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,et=m;break e}et=o.return}}var y=n.current;for(et=y;et!==null;){a=et;var C=a.child;if(a.subtreeFlags&2064&&C!==null)C.return=a,et=C;else e:for(a=y;et!==null;){if(s=et,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:BT(9,s)}}catch(w){bn(s,s.return,w)}if(s===a){et=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,et=S;break e}et=s.return}}if(ir=i,oh(),Gu&&typeof Gu.onPostCommitFiberRoot=="function")try{Gu.onPostCommitFiberRoot(MT,n)}catch{}r=!0}return r}finally{Dr=e,Ns.transition=t}}return!1}function u$(n,t,e){t=Gm(e,t),t=BY(n,t,1),n=Rp(n,t,1),t=Oo(),n!==null&&(Z0(n,1,t),ca(n,t))}function bn(n,t,e){if(n.tag===3)u$(n,n,e);else for(;t!==null;){if(t.tag===3){u$(t,n,e);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Tp===null||!Tp.has(r))){n=Gm(e,n),n=jY(t,n,1),t=Rp(t,n,1),n=Oo(),t!==null&&(Z0(t,1,n),ca(t,n));break}}t=t.return}}function Fse(n,t,e){var r=n.pingCache;r!==null&&r.delete(t),t=Oo(),n.pingedLanes|=n.suspendedLanes&e,Oi===n&&(Hi&e)===e&&(hi===4||hi===3&&(Hi&130023424)===Hi&&500>In()-Lk?kf(n,0):Mk|=e),ca(n,t)}function s8(n,t){t===0&&(n.mode&1?(t=ux,ux<<=1,!(ux&130023424)&&(ux=4194304)):t=1);var e=Oo();n=qc(n,t),n!==null&&(Z0(n,t,e),ca(n,e))}function Ise(n){var t=n.memoizedState,e=0;t!==null&&(e=t.retryLane),s8(n,e)}function Nse(n,t){var e=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(e=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Me(314))}r!==null&&r.delete(t),s8(n,e)}var l8;l8=function(n,t,e){if(n!==null)if(n.memoizedProps!==t.pendingProps||la.current)ra=!0;else{if(!(n.lanes&e)&&!(t.flags&128))return ra=!1,xse(n,t,e);ra=!!(n.flags&131072)}else ra=!1,un&&t.flags&1048576&&dY(t,bO,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;SE(n,t),n=t.pendingProps;var i=Fm(t,so.current);um(t,e),i=Ok(null,t,r,n,i,e);var o=Rk();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ua(r)?(o=!0,_O(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wk(t),i.updater=GT,t.stateNode=i,i._reactInternals=t,eI(t,r,n,e),t=nI(null,t,r,!0,o,e)):(t.tag=0,un&&o&&fk(t),mo(null,t,i,e),t=t.child),t;case 16:r=t.elementType;e:{switch(SE(n,t),n=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Gse(r),n=hl(r,n),i){case 0:t=rI(null,t,r,n,e);break e;case 1:t=JH(null,t,r,n,e);break e;case 11:t=ZH(null,t,r,n,e);break e;case 14:t=QH(null,t,r,hl(r.type,n),e);break e}throw Error(Me(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:hl(r,i),rI(n,t,r,i,e);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:hl(r,i),JH(n,t,r,i,e);case 3:e:{if(UY(t),n===null)throw Error(Me(387));r=t.pendingProps,o=t.memoizedState,i=o.element,vY(n,t),RO(t,r,null,e);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Gm(Error(Me(423)),t),t=e$(n,t,r,e,i);break e}else if(r!==i){i=Gm(Error(Me(424)),t),t=e$(n,t,r,e,i);break e}else for(Za=Op(t.stateNode.containerInfo.firstChild),ts=t,un=!0,ml=null,e=CY(t,null,r,e),t.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling;else{if(Im(),r===i){t=Xc(n,t,e);break e}mo(n,t,r,e)}t=t.child}return t;case 5:return SY(t),n===null&&ZF(t),r=t.type,i=t.pendingProps,o=n!==null?n.memoizedProps:null,a=i.children,zF(r,i)?a=null:o!==null&&zF(r,o)&&(t.flags|=32),WY(n,t),mo(n,t,a,e),t.child;case 6:return n===null&&ZF(t),null;case 13:return zY(n,t,e);case 4:return _k(t,t.stateNode.containerInfo),r=t.pendingProps,n===null?t.child=Nm(t,null,r,e):mo(n,t,r,e),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:hl(r,i),ZH(n,t,r,i,e);case 7:return mo(n,t,t.pendingProps,e),t.child;case 8:return mo(n,t,t.pendingProps.children,e),t.child;case 12:return mo(n,t,t.pendingProps.children,e),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Kr(EO,r._currentValue),r._currentValue=a,o!==null)if(Pl(o.value,a)){if(o.children===i.children&&!la.current){t=Xc(n,t,e);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Vc(-1,e&-e),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=e,l=o.alternate,l!==null&&(l.lanes|=e),QF(o.return,e,t),s.lanes|=e;break}l=l.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(Me(341));a.lanes|=e,s=a.alternate,s!==null&&(s.lanes|=e),QF(a,e,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}mo(n,t,i.children,e),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,um(t,e),i=Hs(i),r=r(i),t.flags|=1,mo(n,t,r,e),t.child;case 14:return r=t.type,i=hl(r,t.pendingProps),i=hl(r.type,i),QH(n,t,r,i,e);case 15:return HY(n,t,t.type,t.pendingProps,e);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:hl(r,i),SE(n,t),t.tag=1,ua(r)?(n=!0,_O(t)):n=!1,um(t,e),mY(t,r,i),eI(t,r,i,e),nI(null,t,r,!0,n,e);case 19:return KY(n,t,e);case 22:return $Y(n,t,e)}throw Error(Me(156,t.tag))};function u8(n,t){return I6(n,t)}function kse(n,t,e,r){this.tag=n,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ms(n,t,e,r){return new kse(n,t,e,r)}function kk(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Gse(n){if(typeof n=="function")return kk(n)?1:0;if(n!=null){if(n=n.$$typeof,n===rk)return 11;if(n===nk)return 14}return 2}function Dp(n,t){var e=n.alternate;return e===null?(e=Ms(n.tag,t,n.key,n.mode),e.elementType=n.elementType,e.type=n.type,e.stateNode=n.stateNode,e.alternate=n,n.alternate=e):(e.pendingProps=t,e.type=n.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=n.flags&14680064,e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},e.sibling=n.sibling,e.index=n.index,e.ref=n.ref,e}function xE(n,t,e,r,i,o){var a=2;if(r=n,typeof n=="function")kk(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case Tg:return Gf(e.children,i,o,t);case tk:a=8,i|=8;break;case bF:return n=Ms(12,e,t,i|2),n.elementType=bF,n.lanes=o,n;case EF:return n=Ms(13,e,t,i),n.elementType=EF,n.lanes=o,n;case OF:return n=Ms(19,e,t,i),n.elementType=OF,n.lanes=o,n;case y6:return HT(e,i,o,t);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case g6:a=10;break e;case m6:a=9;break e;case rk:a=11;break e;case nk:a=14;break e;case tp:a=16,r=null;break e}throw Error(Me(130,n==null?n:typeof n,""))}return t=Ms(a,e,t,i),t.elementType=n,t.type=r,t.lanes=o,t}function Gf(n,t,e,r){return n=Ms(7,n,r,t),n.lanes=e,n}function HT(n,t,e,r){return n=Ms(22,n,r,t),n.elementType=y6,n.lanes=e,n.stateNode={isHidden:!1},n}function FA(n,t,e){return n=Ms(6,n,null,t),n.lanes=e,n}function IA(n,t,e){return t=Ms(4,n.children!==null?n.children:[],n.key,t),t.lanes=e,t.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},t}function Vse(n,t,e,r,i){this.tag=t,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vA(0),this.expirationTimes=vA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vA(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gk(n,t,e,r,i,o,a,s,l){return n=new Vse(n,t,e,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ms(3,null,null,t),n.current=o,o.stateNode=n,o.memoizedState={element:r,isDehydrated:e,cache:null,transitions:null,pendingSuspenseBoundaries:null},wk(o),n}function Bse(n,t,e){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rg,key:r==null?null:""+r,children:n,containerInfo:t,implementation:e}}function c8(n){if(!n)return Hp;n=n._reactInternals;e:{if(Cv(n)!==n||n.tag!==1)throw Error(Me(170));var t=n;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ua(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Me(171))}if(n.tag===1){var e=n.type;if(ua(e))return uY(n,e,t)}return t}function d8(n,t,e,r,i,o,a,s,l){return n=Gk(e,r,!0,n,i,o,a,s,l),n.context=c8(null),e=n.current,r=Oo(),i=Pp(e),o=Vc(r,i),o.callback=t??null,Rp(e,o,i),n.current.lanes=i,Z0(n,i,r),ca(n,r),n}function $T(n,t,e,r){var i=t.current,o=Oo(),a=Pp(i);return e=c8(e),t.context===null?t.context=e:t.pendingContext=e,t=Vc(o,a),t.payload={element:n},r=r===void 0?null:r,r!==null&&(t.callback=r),n=Rp(i,t,a),n!==null&&(El(n,i,a,o),mE(n,i,a)),a}function IO(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function c$(n,t){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var e=n.retryLane;n.retryLane=e!==0&&e<t?e:t}}function Vk(n,t){c$(n,t),(n=n.alternate)&&c$(n,t)}function jse(){return null}var p8=typeof reportError=="function"?reportError:function(n){console.error(n)};function Bk(n){this._internalRoot=n}WT.prototype.render=Bk.prototype.render=function(n){var t=this._internalRoot;if(t===null)throw Error(Me(409));$T(n,t,null,null)};WT.prototype.unmount=Bk.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var t=n.containerInfo;rv(function(){$T(null,n,null,null)}),t[Yc]=null}};function WT(n){this._internalRoot=n}WT.prototype.unstable_scheduleHydration=function(n){if(n){var t=H6();n={blockedOn:null,target:n,priority:t};for(var e=0;e<lp.length&&t!==0&&t<lp[e].priority;e++);lp.splice(e,0,n),e===0&&W6(n)}};function jk(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function UT(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function d$(){}function Hse(n,t,e,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=IO(a);o.call(u)}}var a=d8(t,r,n,0,null,!1,!1,"",d$);return n._reactRootContainer=a,n[Yc]=a.current,Uw(n.nodeType===8?n.parentNode:n),rv(),a}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=IO(l);s.call(u)}}var l=Gk(n,0,!1,null,null,!1,!1,"",d$);return n._reactRootContainer=l,n[Yc]=l.current,Uw(n.nodeType===8?n.parentNode:n),rv(function(){$T(t,l,e,r)}),l}function zT(n,t,e,r,i){var o=e._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=IO(a);s.call(l)}}$T(t,a,n,i)}else a=Hse(e,t,n,i,r);return IO(a)}B6=function(n){switch(n.tag){case 3:var t=n.stateNode;if(t.current.memoizedState.isDehydrated){var e=yS(t.pendingLanes);e!==0&&(ak(t,e|1),ca(t,In()),!(ir&6)&&(Vm=In()+500,oh()))}break;case 13:rv(function(){var r=qc(n,1);if(r!==null){var i=Oo();El(r,n,1,i)}}),Vk(n,1)}};sk=function(n){if(n.tag===13){var t=qc(n,134217728);if(t!==null){var e=Oo();El(t,n,134217728,e)}Vk(n,134217728)}};j6=function(n){if(n.tag===13){var t=Pp(n),e=qc(n,t);if(e!==null){var r=Oo();El(e,n,t,r)}Vk(n,t)}};H6=function(){return Dr};$6=function(n,t){var e=Dr;try{return Dr=n,t()}finally{Dr=e}};NF=function(n,t,e){switch(t){case"input":if(PF(n,e),t=e.name,e.type==="radio"&&t!=null){for(e=n;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<e.length;t++){var r=e[t];if(r!==n&&r.form===n.form){var i=NT(r);if(!i)throw Error(Me(90));S6(r),PF(r,i)}}}break;case"textarea":_6(n,e);break;case"select":t=e.value,t!=null&&om(n,!!e.multiple,t,!1)}};P6=Fk;D6=rv;var $se={usingClientEntryPoint:!1,Events:[J0,Mg,NT,R6,T6,Fk]},Xy={findFiberByHostInstance:xf,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Wse={bundleType:Xy.bundleType,version:Xy.version,rendererPackageName:Xy.rendererPackageName,rendererConfig:Xy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pd.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=L6(n),n===null?null:n.stateNode},findFiberByHostInstance:Xy.findFiberByHostInstance||jse,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sx.isDisabled&&Sx.supportsFiber)try{MT=Sx.inject(Wse),Gu=Sx}catch{}}ls.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$se;ls.createPortal=function(n,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jk(t))throw Error(Me(200));return Bse(n,t,null,e)};ls.createRoot=function(n,t){if(!jk(n))throw Error(Me(299));var e=!1,r="",i=p8;return t!=null&&(t.unstable_strictMode===!0&&(e=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Gk(n,1,!1,null,null,e,!1,r,i),n[Yc]=t.current,Uw(n.nodeType===8?n.parentNode:n),new Bk(t)};ls.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var t=n._reactInternals;if(t===void 0)throw typeof n.render=="function"?Error(Me(188)):(n=Object.keys(n).join(","),Error(Me(268,n)));return n=L6(t),n=n===null?null:n.stateNode,n};ls.flushSync=function(n){return rv(n)};ls.hydrate=function(n,t,e){if(!UT(t))throw Error(Me(200));return zT(null,n,t,!0,e)};ls.hydrateRoot=function(n,t,e){if(!jk(n))throw Error(Me(405));var r=e!=null&&e.hydratedSources||null,i=!1,o="",a=p8;if(e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),t=d8(t,null,n,1,e??null,i,!1,o,a),n[Yc]=t.current,Uw(n),r)for(n=0;n<r.length;n++)e=r[n],i=e._getVersion,i=i(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,i]:t.mutableSourceEagerHydrationData.push(e,i);return new WT(t)};ls.render=function(n,t,e){if(!UT(t))throw Error(Me(200));return zT(null,n,t,!1,e)};ls.unmountComponentAtNode=function(n){if(!UT(n))throw Error(Me(40));return n._reactRootContainer?(rv(function(){zT(null,null,n,!1,function(){n._reactRootContainer=null,n[Yc]=null})}),!0):!1};ls.unstable_batchedUpdates=Fk;ls.unstable_renderSubtreeIntoContainer=function(n,t,e,r){if(!UT(e))throw Error(Me(200));if(n==null||n._reactInternals===void 0)throw Error(Me(38));return zT(n,t,e,!1,r)};ls.version="18.2.0-next-9e3b772b8-20220608";function h8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h8)}catch(n){console.error(n)}}h8(),d6.exports=ls;var Sv=d6.exports;const wx=q0(Sv);var Hk,p$=Sv;Hk=p$.createRoot,p$.hydrateRoot;function Zc(n){let t="https://mui.com/production-error/?code="+n;for(let e=1;e<arguments.length;e+=1)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified MUI error #"+n+"; visit "+t+" for the full message."}const Use=Object.freeze(Object.defineProperty({__proto__:null,default:Zc},Symbol.toStringTag,{value:"Module"})),nv="$$material";function L(){return L=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},L.apply(this,arguments)}function ve(n,t){if(n==null)return{};var e={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(e[i]=n[i]);return e}function f8(n){var t=Object.create(null);return function(e){return t[e]===void 0&&(t[e]=n(e)),t[e]}}var zse=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Kse=f8(function(n){return zse.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91});function Yse(n){if(n.sheet)return n.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===n)return document.styleSheets[t]}function qse(n){var t=document.createElement("style");return t.setAttribute("data-emotion",n.key),n.nonce!==void 0&&t.setAttribute("nonce",n.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Xse=function(){function n(e){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=e.speedy===void 0?!0:e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=n.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(qse(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=Yse(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},n}(),Zi="-ms-",NO="-moz-",yr="-webkit-",v8="comm",$k="rule",Wk="decl",Zse="@import",g8="@keyframes",Qse="@layer",Jse=Math.abs,KT=String.fromCharCode,ele=Object.assign;function tle(n,t){return Gi(n,0)^45?(((t<<2^Gi(n,0))<<2^Gi(n,1))<<2^Gi(n,2))<<2^Gi(n,3):0}function m8(n){return n.trim()}function rle(n,t){return(n=t.exec(n))?n[0]:n}function Cr(n,t,e){return n.replace(t,e)}function vI(n,t){return n.indexOf(t)}function Gi(n,t){return n.charCodeAt(t)|0}function e0(n,t,e){return n.slice(t,e)}function Su(n){return n.length}function Uk(n){return n.length}function _x(n,t){return t.push(n),n}function nle(n,t){return n.map(t).join("")}var YT=1,Bm=1,y8=0,ha=0,Zn=0,dy="";function qT(n,t,e,r,i,o,a){return{value:n,root:t,parent:e,type:r,props:i,children:o,line:YT,column:Bm,length:a,return:""}}function Zy(n,t){return ele(qT("",null,null,"",null,null,0),n,{length:-n.length},t)}function ile(){return Zn}function ole(){return Zn=ha>0?Gi(dy,--ha):0,Bm--,Zn===10&&(Bm=1,YT--),Zn}function rs(){return Zn=ha<y8?Gi(dy,ha++):0,Bm++,Zn===10&&(Bm=1,YT++),Zn}function Bu(){return Gi(dy,ha)}function bE(){return ha}function t_(n,t){return e0(dy,n,t)}function t0(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function C8(n){return YT=Bm=1,y8=Su(dy=n),ha=0,[]}function S8(n){return dy="",n}function EE(n){return m8(t_(ha-1,gI(n===91?n+2:n===40?n+1:n)))}function ale(n){for(;(Zn=Bu())&&Zn<33;)rs();return t0(n)>2||t0(Zn)>3?"":" "}function sle(n,t){for(;--t&&rs()&&!(Zn<48||Zn>102||Zn>57&&Zn<65||Zn>70&&Zn<97););return t_(n,bE()+(t<6&&Bu()==32&&rs()==32))}function gI(n){for(;rs();)switch(Zn){case n:return ha;case 34:case 39:n!==34&&n!==39&&gI(Zn);break;case 40:n===41&&gI(n);break;case 92:rs();break}return ha}function lle(n,t){for(;rs()&&n+Zn!==47+10;)if(n+Zn===42+42&&Bu()===47)break;return"/*"+t_(t,ha-1)+"*"+KT(n===47?n:rs())}function ule(n){for(;!t0(Bu());)rs();return t_(n,ha)}function cle(n){return S8(OE("",null,null,null,[""],n=C8(n),0,[0],n))}function OE(n,t,e,r,i,o,a,s,l){for(var u=0,c=0,d=a,p=0,h=0,f=0,v=1,g=1,m=1,y=0,C="",S=i,w=o,_=r,x=C;g;)switch(f=y,y=rs()){case 40:if(f!=108&&Gi(x,d-1)==58){vI(x+=Cr(EE(y),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:x+=EE(y);break;case 9:case 10:case 13:case 32:x+=ale(f);break;case 92:x+=sle(bE()-1,7);continue;case 47:switch(Bu()){case 42:case 47:_x(dle(lle(rs(),bE()),t,e),l);break;default:x+="/"}break;case 123*v:s[u++]=Su(x)*m;case 125*v:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+c:m==-1&&(x=Cr(x,/\f/g,"")),h>0&&Su(x)-d&&_x(h>32?f$(x+";",r,e,d-1):f$(Cr(x," ","")+";",r,e,d-2),l);break;case 59:x+=";";default:if(_x(_=h$(x,t,e,u,c,i,s,C,S=[],w=[],d),o),y===123)if(c===0)OE(x,t,_,_,S,o,d,s,w);else switch(p===99&&Gi(x,3)===110?100:p){case 100:case 108:case 109:case 115:OE(n,_,_,r&&_x(h$(n,_,_,0,0,i,s,C,i,S=[],d),w),i,w,d,s,r?S:w);break;default:OE(x,_,_,_,[""],w,0,s,w)}}u=c=h=0,v=m=1,C=x="",d=a;break;case 58:d=1+Su(x),h=f;default:if(v<1){if(y==123)--v;else if(y==125&&v++==0&&ole()==125)continue}switch(x+=KT(y),y*v){case 38:m=c>0?1:(x+="\f",-1);break;case 44:s[u++]=(Su(x)-1)*m,m=1;break;case 64:Bu()===45&&(x+=EE(rs())),p=Bu(),c=d=Su(C=x+=ule(bE())),y++;break;case 45:f===45&&Su(x)==2&&(v=0)}}return o}function h$(n,t,e,r,i,o,a,s,l,u,c){for(var d=i-1,p=i===0?o:[""],h=Uk(p),f=0,v=0,g=0;f<r;++f)for(var m=0,y=e0(n,d+1,d=Jse(v=a[f])),C=n;m<h;++m)(C=m8(v>0?p[m]+" "+y:Cr(y,/&\f/g,p[m])))&&(l[g++]=C);return qT(n,t,e,i===0?$k:s,l,u,c)}function dle(n,t,e){return qT(n,t,e,v8,KT(ile()),e0(n,2,-2),0)}function f$(n,t,e,r){return qT(n,t,e,Wk,e0(n,0,r),e0(n,r+1,-1),r)}function dm(n,t){for(var e="",r=Uk(n),i=0;i<r;i++)e+=t(n[i],i,n,t)||"";return e}function ple(n,t,e,r){switch(n.type){case Qse:if(n.children.length)break;case Zse:case Wk:return n.return=n.return||n.value;case v8:return"";case g8:return n.return=n.value+"{"+dm(n.children,r)+"}";case $k:n.value=n.props.join(",")}return Su(e=dm(n.children,r))?n.return=n.value+"{"+e+"}":""}function hle(n){var t=Uk(n);return function(e,r,i,o){for(var a="",s=0;s<t;s++)a+=n[s](e,r,i,o)||"";return a}}function fle(n){return function(t){t.root||(t=t.return)&&n(t)}}var vle=function(t,e,r){for(var i=0,o=0;i=o,o=Bu(),i===38&&o===12&&(e[r]=1),!t0(o);)rs();return t_(t,ha)},gle=function(t,e){var r=-1,i=44;do switch(t0(i)){case 0:i===38&&Bu()===12&&(e[r]=1),t[r]+=vle(ha-1,e,r);break;case 2:t[r]+=EE(i);break;case 4:if(i===44){t[++r]=Bu()===58?"&\f":"",e[r]=t[r].length;break}default:t[r]+=KT(i)}while(i=rs());return t},mle=function(t,e){return S8(gle(C8(t),e))},v$=new WeakMap,yle=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var e=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&e.charCodeAt(0)!==58&&!v$.get(r))&&!i){v$.set(t,!0);for(var o=[],a=mle(e,o),s=r.props,l=0,u=0;l<a.length;l++)for(var c=0;c<s.length;c++,u++)t.props[u]=o[l]?a[l].replace(/&\f/g,s[c]):s[c]+" "+a[l]}}},Cle=function(t){if(t.type==="decl"){var e=t.value;e.charCodeAt(0)===108&&e.charCodeAt(2)===98&&(t.return="",t.value="")}};function w8(n,t){switch(tle(n,t)){case 5103:return yr+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return yr+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return yr+n+NO+n+Zi+n+n;case 6828:case 4268:return yr+n+Zi+n+n;case 6165:return yr+n+Zi+"flex-"+n+n;case 5187:return yr+n+Cr(n,/(\w+).+(:[^]+)/,yr+"box-$1$2"+Zi+"flex-$1$2")+n;case 5443:return yr+n+Zi+"flex-item-"+Cr(n,/flex-|-self/,"")+n;case 4675:return yr+n+Zi+"flex-line-pack"+Cr(n,/align-content|flex-|-self/,"")+n;case 5548:return yr+n+Zi+Cr(n,"shrink","negative")+n;case 5292:return yr+n+Zi+Cr(n,"basis","preferred-size")+n;case 6060:return yr+"box-"+Cr(n,"-grow","")+yr+n+Zi+Cr(n,"grow","positive")+n;case 4554:return yr+Cr(n,/([^-])(transform)/g,"$1"+yr+"$2")+n;case 6187:return Cr(Cr(Cr(n,/(zoom-|grab)/,yr+"$1"),/(image-set)/,yr+"$1"),n,"")+n;case 5495:case 3959:return Cr(n,/(image-set\([^]*)/,yr+"$1$`$1");case 4968:return Cr(Cr(n,/(.+:)(flex-)?(.*)/,yr+"box-pack:$3"+Zi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+yr+n+n;case 4095:case 3583:case 4068:case 2532:return Cr(n,/(.+)-inline(.+)/,yr+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Su(n)-1-t>6)switch(Gi(n,t+1)){case 109:if(Gi(n,t+4)!==45)break;case 102:return Cr(n,/(.+:)(.+)-([^]+)/,"$1"+yr+"$2-$3$1"+NO+(Gi(n,t+3)==108?"$3":"$2-$3"))+n;case 115:return~vI(n,"stretch")?w8(Cr(n,"stretch","fill-available"),t)+n:n}break;case 4949:if(Gi(n,t+1)!==115)break;case 6444:switch(Gi(n,Su(n)-3-(~vI(n,"!important")&&10))){case 107:return Cr(n,":",":"+yr)+n;case 101:return Cr(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+yr+(Gi(n,14)===45?"inline-":"")+"box$3$1"+yr+"$2$3$1"+Zi+"$2box$3")+n}break;case 5936:switch(Gi(n,t+11)){case 114:return yr+n+Zi+Cr(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return yr+n+Zi+Cr(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return yr+n+Zi+Cr(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return yr+n+Zi+n+n}return n}var Sle=function(t,e,r,i){if(t.length>-1&&!t.return)switch(t.type){case Wk:t.return=w8(t.value,t.length);break;case g8:return dm([Zy(t,{value:Cr(t.value,"@","@"+yr)})],i);case $k:if(t.length)return nle(t.props,function(o){switch(rle(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return dm([Zy(t,{props:[Cr(o,/:(read-\w+)/,":"+NO+"$1")]})],i);case"::placeholder":return dm([Zy(t,{props:[Cr(o,/:(plac\w+)/,":"+yr+"input-$1")]}),Zy(t,{props:[Cr(o,/:(plac\w+)/,":"+NO+"$1")]}),Zy(t,{props:[Cr(o,/:(plac\w+)/,Zi+"input-$1")]})],i)}return""})}},wle=[Sle],_8=function(t){var e=t.key;if(e==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var g=v.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=t.stylisPlugins||wle,o={},a,s=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),function(v){for(var g=v.getAttribute("data-emotion").split(" "),m=1;m<g.length;m++)o[g[m]]=!0;s.push(v)});var l,u=[yle,Cle];{var c,d=[ple,fle(function(v){c.insert(v)})],p=hle(u.concat(i,d)),h=function(g){return dm(cle(g),p)};l=function(g,m,y,C){c=y,h(g?g+"{"+m.styles+"}":m.styles),C&&(f.inserted[m.name]=!0)}}var f={key:e,sheet:new Xse({key:e,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:l};return f.sheet.hydrate(s),f},x8={exports:{}},Mr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ri=typeof Symbol=="function"&&Symbol.for,zk=Ri?Symbol.for("react.element"):60103,Kk=Ri?Symbol.for("react.portal"):60106,XT=Ri?Symbol.for("react.fragment"):60107,ZT=Ri?Symbol.for("react.strict_mode"):60108,QT=Ri?Symbol.for("react.profiler"):60114,JT=Ri?Symbol.for("react.provider"):60109,eP=Ri?Symbol.for("react.context"):60110,Yk=Ri?Symbol.for("react.async_mode"):60111,tP=Ri?Symbol.for("react.concurrent_mode"):60111,rP=Ri?Symbol.for("react.forward_ref"):60112,nP=Ri?Symbol.for("react.suspense"):60113,_le=Ri?Symbol.for("react.suspense_list"):60120,iP=Ri?Symbol.for("react.memo"):60115,oP=Ri?Symbol.for("react.lazy"):60116,xle=Ri?Symbol.for("react.block"):60121,ble=Ri?Symbol.for("react.fundamental"):60117,Ele=Ri?Symbol.for("react.responder"):60118,Ole=Ri?Symbol.for("react.scope"):60119;function cs(n){if(typeof n=="object"&&n!==null){var t=n.$$typeof;switch(t){case zk:switch(n=n.type,n){case Yk:case tP:case XT:case QT:case ZT:case nP:return n;default:switch(n=n&&n.$$typeof,n){case eP:case rP:case oP:case iP:case JT:return n;default:return t}}case Kk:return t}}}function b8(n){return cs(n)===tP}Mr.AsyncMode=Yk;Mr.ConcurrentMode=tP;Mr.ContextConsumer=eP;Mr.ContextProvider=JT;Mr.Element=zk;Mr.ForwardRef=rP;Mr.Fragment=XT;Mr.Lazy=oP;Mr.Memo=iP;Mr.Portal=Kk;Mr.Profiler=QT;Mr.StrictMode=ZT;Mr.Suspense=nP;Mr.isAsyncMode=function(n){return b8(n)||cs(n)===Yk};Mr.isConcurrentMode=b8;Mr.isContextConsumer=function(n){return cs(n)===eP};Mr.isContextProvider=function(n){return cs(n)===JT};Mr.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===zk};Mr.isForwardRef=function(n){return cs(n)===rP};Mr.isFragment=function(n){return cs(n)===XT};Mr.isLazy=function(n){return cs(n)===oP};Mr.isMemo=function(n){return cs(n)===iP};Mr.isPortal=function(n){return cs(n)===Kk};Mr.isProfiler=function(n){return cs(n)===QT};Mr.isStrictMode=function(n){return cs(n)===ZT};Mr.isSuspense=function(n){return cs(n)===nP};Mr.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===XT||n===tP||n===QT||n===ZT||n===nP||n===_le||typeof n=="object"&&n!==null&&(n.$$typeof===oP||n.$$typeof===iP||n.$$typeof===JT||n.$$typeof===eP||n.$$typeof===rP||n.$$typeof===ble||n.$$typeof===Ele||n.$$typeof===Ole||n.$$typeof===xle)};Mr.typeOf=cs;x8.exports=Mr;var Rle=x8.exports,E8=Rle,Tle={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ple={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},O8={};O8[E8.ForwardRef]=Tle;O8[E8.Memo]=Ple;var Dle=!0;function Ale(n,t,e){var r="";return e.split(" ").forEach(function(i){n[i]!==void 0?t.push(n[i]+";"):r+=i+" "}),r}var R8=function(t,e,r){var i=t.key+"-"+e.name;(r===!1||Dle===!1)&&t.registered[i]===void 0&&(t.registered[i]=e.styles)},T8=function(t,e,r){R8(t,e,r);var i=t.key+"-"+e.name;if(t.inserted[e.name]===void 0){var o=e;do t.insert(e===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function Mle(n){for(var t=0,e,r=0,i=n.length;i>=4;++r,i-=4)e=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,e=(e&65535)*1540483477+((e>>>16)*59797<<16),e^=e>>>24,t=(e&65535)*1540483477+((e>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(n.charCodeAt(r+2)&255)<<16;case 2:t^=(n.charCodeAt(r+1)&255)<<8;case 1:t^=n.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Lle={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Fle=/[A-Z]|^ms/g,Ile=/_EMO_([^_]+?)_([^]*?)_EMO_/g,P8=function(t){return t.charCodeAt(1)===45},g$=function(t){return t!=null&&typeof t!="boolean"},NA=f8(function(n){return P8(n)?n:n.replace(Fle,"-$&").toLowerCase()}),m$=function(t,e){switch(t){case"animation":case"animationName":if(typeof e=="string")return e.replace(Ile,function(r,i,o){return wu={name:i,styles:o,next:wu},i})}return Lle[t]!==1&&!P8(t)&&typeof e=="number"&&e!==0?e+"px":e};function r0(n,t,e){if(e==null)return"";if(e.__emotion_styles!==void 0)return e;switch(typeof e){case"boolean":return"";case"object":{if(e.anim===1)return wu={name:e.name,styles:e.styles,next:wu},e.name;if(e.styles!==void 0){var r=e.next;if(r!==void 0)for(;r!==void 0;)wu={name:r.name,styles:r.styles,next:wu},r=r.next;var i=e.styles+";";return i}return Nle(n,t,e)}case"function":{if(n!==void 0){var o=wu,a=e(n);return wu=o,r0(n,t,a)}break}}if(t==null)return e;var s=t[e];return s!==void 0?s:e}function Nle(n,t,e){var r="";if(Array.isArray(e))for(var i=0;i<e.length;i++)r+=r0(n,t,e[i])+";";else for(var o in e){var a=e[o];if(typeof a!="object")t!=null&&t[a]!==void 0?r+=o+"{"+t[a]+"}":g$(a)&&(r+=NA(o)+":"+m$(o,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(t==null||t[a[0]]===void 0))for(var s=0;s<a.length;s++)g$(a[s])&&(r+=NA(o)+":"+m$(o,a[s])+";");else{var l=r0(n,t,a);switch(o){case"animation":case"animationName":{r+=NA(o)+":"+l+";";break}default:r+=o+"{"+l+"}"}}}return r}var y$=/label:\s*([^\s;\n{]+)\s*(;|$)/g,wu,qk=function(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,o="";wu=void 0;var a=t[0];a==null||a.raw===void 0?(i=!1,o+=r0(r,e,a)):o+=a[0];for(var s=1;s<t.length;s++)o+=r0(r,e,t[s]),i&&(o+=a[s]);y$.lastIndex=0;for(var l="",u;(u=y$.exec(o))!==null;)l+="-"+u[1];var c=Mle(o)+l;return{name:c,styles:o,next:wu}},kle=function(t){return t()},D8=Nw["useInsertionEffect"]?Nw["useInsertionEffect"]:!1,Gle=D8||kle,C$=D8||T.useLayoutEffect,A8=T.createContext(typeof HTMLElement<"u"?_8({key:"css"}):null),Vle=A8.Provider,M8=function(t){return T.forwardRef(function(e,r){var i=T.useContext(A8);return t(e,i,r)})},r_=T.createContext({}),kA={exports:{}},S$;function L8(){return S$||(S$=1,function(n){function t(){return n.exports=t=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},n.exports.__esModule=!0,n.exports.default=n.exports,t.apply(this,arguments)}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports}(kA)),kA.exports}L8();var Ble=M8(function(n,t){var e=n.styles,r=qk([e],void 0,T.useContext(r_)),i=T.useRef();return C$(function(){var o=t.key+"-global",a=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),s=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return t.sheet.tags.length&&(a.before=t.sheet.tags[0]),l!==null&&(s=!0,l.setAttribute("data-emotion",o),a.hydrate([l])),i.current=[a,s],function(){a.flush()}},[t]),C$(function(){var o=i.current,a=o[0],s=o[1];if(s){o[1]=!1;return}if(r.next!==void 0&&T8(t,r.next,!0),a.tags.length){var l=a.tags[a.tags.length-1].nextElementSibling;a.before=l,a.flush()}t.insert("",r,a,!1)},[t,r.name]),null});function aP(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return qk(t)}var py=function(){var t=aP.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},jle=Kse,Hle=function(t){return t!=="theme"},w$=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?jle:Hle},_$=function(t,e,r){var i;if(e){var o=e.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(a){return t.__emotion_forwardProp(a)&&o(a)}:o}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},$le=function(t){var e=t.cache,r=t.serialized,i=t.isStringTag;return R8(e,r,i),Gle(function(){return T8(e,r,i)}),null},Wle=function n(t,e){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,o,a;e!==void 0&&(o=e.label,a=e.target);var s=_$(t,e,r),l=s||w$(i),u=!l("as");return function(){var c=arguments,d=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&d.push("label:"+o+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{d.push(c[0][0]);for(var p=c.length,h=1;h<p;h++)d.push(c[h],c[0][h])}var f=M8(function(v,g,m){var y=u&&v.as||i,C="",S=[],w=v;if(v.theme==null){w={};for(var _ in v)w[_]=v[_];w.theme=T.useContext(r_)}typeof v.className=="string"?C=Ale(g.registered,S,v.className):v.className!=null&&(C=v.className+" ");var x=qk(d.concat(S),g.registered,w);C+=g.key+"-"+x.name,a!==void 0&&(C+=" "+a);var E=u&&s===void 0?w$(y):l,R={};for(var P in v)u&&P==="as"||E(P)&&(R[P]=v[P]);return R.className=C,R.ref=m,T.createElement(T.Fragment,null,T.createElement($le,{cache:g,serialized:x,isStringTag:typeof y=="string"}),T.createElement(y,R))});return f.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",f.defaultProps=t.defaultProps,f.__emotion_real=f,f.__emotion_base=i,f.__emotion_styles=d,f.__emotion_forwardProp=s,Object.defineProperty(f,"toString",{value:function(){return"."+a}}),f.withComponent=function(v,g){return n(v,L({},e,g,{shouldForwardProp:_$(f,g,!0)})).apply(void 0,d)},f}},Ule=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],mI=Wle.bind();Ule.forEach(function(n){mI[n]=mI(n)});var F8={exports:{}},zle="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Kle=zle,Yle=Kle;function I8(){}function N8(){}N8.resetWarningCache=I8;var qle=function(){function n(r,i,o,a,s,l){if(l!==Yle){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function t(){return n}var e={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:t,element:n,elementType:n,instanceOf:t,node:n,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:N8,resetWarningCache:I8};return e.PropTypes=e,e};F8.exports=qle();var Xle=F8.exports;const ce=q0(Xle);let yI;typeof document=="object"&&(yI=_8({key:"css",prepend:!0}));function Zle(n){const{injectFirst:t,children:e}=n;return t&&yI?b.jsx(Vle,{value:yI,children:e}):e}function Qle(n){return n==null||Object.keys(n).length===0}function k8(n){const{styles:t,defaultTheme:e={}}=n,r=typeof t=="function"?i=>t(Qle(i)?e:i):t;return b.jsx(Ble,{styles:r})}/**
 * @mui/styled-engine v5.15.14
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Xk(n,t){return mI(n,t)}const G8=(n,t)=>{Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=t(n.__emotion_styles))},Jle=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:k8,StyledEngineProvider:Zle,ThemeContext:r_,css:aP,default:Xk,internal_processStyles:G8,keyframes:py},Symbol.toStringTag,{value:"Module"}));function Lc(n){if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function V8(n){if(!Lc(n))return n;const t={};return Object.keys(n).forEach(e=>{t[e]=V8(n[e])}),t}function Ro(n,t,e={clone:!0}){const r=e.clone?L({},n):n;return Lc(n)&&Lc(t)&&Object.keys(t).forEach(i=>{i!=="__proto__"&&(Lc(t[i])&&i in n&&Lc(n[i])?r[i]=Ro(n[i],t[i],e):e.clone?r[i]=Lc(t[i])?V8(t[i]):t[i]:r[i]=t[i])}),r}const eue=Object.freeze(Object.defineProperty({__proto__:null,default:Ro,isPlainObject:Lc},Symbol.toStringTag,{value:"Module"})),tue=["values","unit","step"],rue=n=>{const t=Object.keys(n).map(e=>({key:e,val:n[e]}))||[];return t.sort((e,r)=>e.val-r.val),t.reduce((e,r)=>L({},e,{[r.key]:r.val}),{})};function B8(n){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:e="px",step:r=5}=n,i=ve(n,tue),o=rue(t),a=Object.keys(o);function s(p){return`@media (min-width:${typeof t[p]=="number"?t[p]:p}${e})`}function l(p){return`@media (max-width:${(typeof t[p]=="number"?t[p]:p)-r/100}${e})`}function u(p,h){const f=a.indexOf(h);return`@media (min-width:${typeof t[p]=="number"?t[p]:p}${e}) and (max-width:${(f!==-1&&typeof t[a[f]]=="number"?t[a[f]]:h)-r/100}${e})`}function c(p){return a.indexOf(p)+1<a.length?u(p,a[a.indexOf(p)+1]):s(p)}function d(p){const h=a.indexOf(p);return h===0?s(a[1]):h===a.length-1?l(a[h]):u(p,a[a.indexOf(p)+1]).replace("@media","@media not all and")}return L({keys:a,values:o,up:s,down:l,between:u,only:c,not:d,unit:e},i)}const nue={borderRadius:4},iue=nue;function aw(n,t){return t?Ro(n,t,{clone:!1}):n}const Zk={xs:0,sm:600,md:900,lg:1200,xl:1536},x$={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${Zk[n]}px)`};function fa(n,t,e){const r=n.theme||{};if(Array.isArray(t)){const o=r.breakpoints||x$;return t.reduce((a,s,l)=>(a[o.up(o.keys[l])]=e(t[l]),a),{})}if(typeof t=="object"){const o=r.breakpoints||x$;return Object.keys(t).reduce((a,s)=>{if(Object.keys(o.values||Zk).indexOf(s)!==-1){const l=o.up(s);a[l]=e(t[s],s)}else{const l=s;a[l]=t[l]}return a},{})}return e(t)}function j8(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const o=n.up(i);return r[o]={},r},{}))||{}}function H8(n,t){return n.reduce((e,r)=>{const i=e[r];return(!i||Object.keys(i).length===0)&&delete e[r],e},t)}function oue(n,...t){const e=j8(n),r=[e,...t].reduce((i,o)=>Ro(i,o),{});return H8(Object.keys(e),r)}function aue(n,t){if(typeof n!="object")return{};const e={},r=Object.keys(t);return Array.isArray(n)?r.forEach((i,o)=>{o<n.length&&(e[i]=!0)}):r.forEach(i=>{n[i]!=null&&(e[i]=!0)}),e}function Vf({values:n,breakpoints:t,base:e}){const r=e||aue(n,t),i=Object.keys(r);if(i.length===0)return n;let o;return i.reduce((a,s,l)=>(Array.isArray(n)?(a[s]=n[l]!=null?n[l]:n[o],o=l):typeof n=="object"?(a[s]=n[s]!=null?n[s]:n[o],o=s):a[s]=n,a),{})}function Se(n){if(typeof n!="string")throw new Error(Zc(7));return n.charAt(0).toUpperCase()+n.slice(1)}const sue=Object.freeze(Object.defineProperty({__proto__:null,default:Se},Symbol.toStringTag,{value:"Module"}));function sP(n,t,e=!0){if(!t||typeof t!="string")return null;if(n&&n.vars&&e){const r=`vars.${t}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,n);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function kO(n,t,e,r=e){let i;return typeof n=="function"?i=n(e):Array.isArray(n)?i=n[e]||r:i=sP(n,e)||r,t&&(i=t(i,r,n)),i}function Hn(n){const{prop:t,cssProperty:e=n.prop,themeKey:r,transform:i}=n,o=a=>{if(a[t]==null)return null;const s=a[t],l=a.theme,u=sP(l,r)||{};return fa(a,s,d=>{let p=kO(u,i,d);return d===p&&typeof d=="string"&&(p=kO(u,i,`${t}${d==="default"?"":Se(d)}`,d)),e===!1?p:{[e]:p}})};return o.propTypes={},o.filterProps=[t],o}function lue(n){const t={};return e=>(t[e]===void 0&&(t[e]=n(e)),t[e])}const uue={m:"margin",p:"padding"},cue={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},b$={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},due=lue(n=>{if(n.length>2)if(b$[n])n=b$[n];else return[n];const[t,e]=n.split(""),r=uue[t],i=cue[e]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),Qk=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Jk=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Qk,...Jk];function n_(n,t,e,r){var i;const o=(i=sP(n,t,!1))!=null?i:e;return typeof o=="number"?a=>typeof a=="string"?a:o*a:Array.isArray(o)?a=>typeof a=="string"?a:o[a]:typeof o=="function"?o:()=>{}}function eG(n){return n_(n,"spacing",8)}function iv(n,t){if(typeof t=="string"||t==null)return t;const e=Math.abs(t),r=n(e);return t>=0?r:typeof r=="number"?-r:`-${r}`}function pue(n,t){return e=>n.reduce((r,i)=>(r[i]=iv(t,e),r),{})}function hue(n,t,e,r){if(t.indexOf(e)===-1)return null;const i=due(e),o=pue(i,r),a=n[e];return fa(n,a,o)}function $8(n,t){const e=eG(n.theme);return Object.keys(n).map(r=>hue(n,t,r,e)).reduce(aw,{})}function Sn(n){return $8(n,Qk)}Sn.propTypes={};Sn.filterProps=Qk;function wn(n){return $8(n,Jk)}wn.propTypes={};wn.filterProps=Jk;function fue(n=8){if(n.mui)return n;const t=eG({spacing:n}),e=(...r)=>(r.length===0?[1]:r).map(o=>{const a=t(o);return typeof a=="number"?`${a}px`:a}).join(" ");return e.mui=!0,e}function lP(...n){const t=n.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),e=r=>Object.keys(r).reduce((i,o)=>t[o]?aw(i,t[o](r)):i,{});return e.propTypes={},e.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),e}function Ps(n){return typeof n!="number"?n:`${n}px solid`}function Xs(n,t){return Hn({prop:n,themeKey:"borders",transform:t})}const vue=Xs("border",Ps),gue=Xs("borderTop",Ps),mue=Xs("borderRight",Ps),yue=Xs("borderBottom",Ps),Cue=Xs("borderLeft",Ps),Sue=Xs("borderColor"),wue=Xs("borderTopColor"),_ue=Xs("borderRightColor"),xue=Xs("borderBottomColor"),bue=Xs("borderLeftColor"),Eue=Xs("outline",Ps),Oue=Xs("outlineColor"),uP=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const t=n_(n.theme,"shape.borderRadius",4),e=r=>({borderRadius:iv(t,r)});return fa(n,n.borderRadius,e)}return null};uP.propTypes={};uP.filterProps=["borderRadius"];lP(vue,gue,mue,yue,Cue,Sue,wue,_ue,xue,bue,uP,Eue,Oue);const cP=n=>{if(n.gap!==void 0&&n.gap!==null){const t=n_(n.theme,"spacing",8),e=r=>({gap:iv(t,r)});return fa(n,n.gap,e)}return null};cP.propTypes={};cP.filterProps=["gap"];const dP=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const t=n_(n.theme,"spacing",8),e=r=>({columnGap:iv(t,r)});return fa(n,n.columnGap,e)}return null};dP.propTypes={};dP.filterProps=["columnGap"];const pP=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const t=n_(n.theme,"spacing",8),e=r=>({rowGap:iv(t,r)});return fa(n,n.rowGap,e)}return null};pP.propTypes={};pP.filterProps=["rowGap"];const Rue=Hn({prop:"gridColumn"}),Tue=Hn({prop:"gridRow"}),Pue=Hn({prop:"gridAutoFlow"}),Due=Hn({prop:"gridAutoColumns"}),Aue=Hn({prop:"gridAutoRows"}),Mue=Hn({prop:"gridTemplateColumns"}),Lue=Hn({prop:"gridTemplateRows"}),Fue=Hn({prop:"gridTemplateAreas"}),Iue=Hn({prop:"gridArea"});lP(cP,dP,pP,Rue,Tue,Pue,Due,Aue,Mue,Lue,Fue,Iue);function pm(n,t){return t==="grey"?t:n}const Nue=Hn({prop:"color",themeKey:"palette",transform:pm}),kue=Hn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:pm}),Gue=Hn({prop:"backgroundColor",themeKey:"palette",transform:pm});lP(Nue,kue,Gue);function qa(n){return n<=1&&n!==0?`${n*100}%`:n}const Vue=Hn({prop:"width",transform:qa}),tG=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const t=e=>{var r,i;const o=((r=n.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[e])||Zk[e];return o?((i=n.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${n.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:qa(e)}};return fa(n,n.maxWidth,t)}return null};tG.filterProps=["maxWidth"];const Bue=Hn({prop:"minWidth",transform:qa}),jue=Hn({prop:"height",transform:qa}),Hue=Hn({prop:"maxHeight",transform:qa}),$ue=Hn({prop:"minHeight",transform:qa});Hn({prop:"size",cssProperty:"width",transform:qa});Hn({prop:"size",cssProperty:"height",transform:qa});const Wue=Hn({prop:"boxSizing"});lP(Vue,tG,Bue,jue,Hue,$ue,Wue);const Uue={border:{themeKey:"borders",transform:Ps},borderTop:{themeKey:"borders",transform:Ps},borderRight:{themeKey:"borders",transform:Ps},borderBottom:{themeKey:"borders",transform:Ps},borderLeft:{themeKey:"borders",transform:Ps},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ps},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:uP},color:{themeKey:"palette",transform:pm},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:pm},backgroundColor:{themeKey:"palette",transform:pm},p:{style:wn},pt:{style:wn},pr:{style:wn},pb:{style:wn},pl:{style:wn},px:{style:wn},py:{style:wn},padding:{style:wn},paddingTop:{style:wn},paddingRight:{style:wn},paddingBottom:{style:wn},paddingLeft:{style:wn},paddingX:{style:wn},paddingY:{style:wn},paddingInline:{style:wn},paddingInlineStart:{style:wn},paddingInlineEnd:{style:wn},paddingBlock:{style:wn},paddingBlockStart:{style:wn},paddingBlockEnd:{style:wn},m:{style:Sn},mt:{style:Sn},mr:{style:Sn},mb:{style:Sn},ml:{style:Sn},mx:{style:Sn},my:{style:Sn},margin:{style:Sn},marginTop:{style:Sn},marginRight:{style:Sn},marginBottom:{style:Sn},marginLeft:{style:Sn},marginX:{style:Sn},marginY:{style:Sn},marginInline:{style:Sn},marginInlineStart:{style:Sn},marginInlineEnd:{style:Sn},marginBlock:{style:Sn},marginBlockStart:{style:Sn},marginBlockEnd:{style:Sn},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:cP},rowGap:{style:pP},columnGap:{style:dP},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:qa},maxWidth:{style:tG},minWidth:{transform:qa},height:{transform:qa},maxHeight:{transform:qa},minHeight:{transform:qa},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},i_=Uue;function zue(...n){const t=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),e=new Set(t);return n.every(r=>e.size===Object.keys(r).length)}function Kue(n,t){return typeof n=="function"?n(t):n}function W8(){function n(e,r,i,o){const a={[e]:r,theme:i},s=o[e];if(!s)return{[e]:r};const{cssProperty:l=e,themeKey:u,transform:c,style:d}=s;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[e]:r};const p=sP(i,u)||{};return d?d(a):fa(a,r,f=>{let v=kO(p,c,f);return f===v&&typeof f=="string"&&(v=kO(p,c,`${e}${f==="default"?"":Se(f)}`,f)),l===!1?v:{[l]:v}})}function t(e){var r;const{sx:i,theme:o={}}=e||{};if(!i)return null;const a=(r=o.unstable_sxConfig)!=null?r:i_;function s(l){let u=l;if(typeof l=="function")u=l(o);else if(typeof l!="object")return l;if(!u)return null;const c=j8(o.breakpoints),d=Object.keys(c);let p=c;return Object.keys(u).forEach(h=>{const f=Kue(u[h],o);if(f!=null)if(typeof f=="object")if(a[h])p=aw(p,n(h,f,o,a));else{const v=fa({theme:o},f,g=>({[h]:g}));zue(v,f)?p[h]=t({sx:f,theme:o}):p=aw(p,v)}else p=aw(p,n(h,f,o,a))}),H8(d,p)}return Array.isArray(i)?i.map(s):s(i)}return t}const U8=W8();U8.filterProps=["sx"];const o_=U8;function z8(n,t){const e=this;return e.vars&&typeof e.getColorSchemeSelector=="function"?{[e.getColorSchemeSelector(n).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:e.palette.mode===n?t:{}}const Yue=["breakpoints","palette","spacing","shape"];function a_(n={},...t){const{breakpoints:e={},palette:r={},spacing:i,shape:o={}}=n,a=ve(n,Yue),s=B8(e),l=fue(i);let u=Ro({breakpoints:s,direction:"ltr",components:{},palette:L({mode:"light"},r),spacing:l,shape:L({},iue,o)},a);return u.applyStyles=z8,u=t.reduce((c,d)=>Ro(c,d),u),u.unstable_sxConfig=L({},i_,a==null?void 0:a.unstable_sxConfig),u.unstable_sx=function(d){return o_({sx:d,theme:this})},u}const que=Object.freeze(Object.defineProperty({__proto__:null,default:a_,private_createBreakpoints:B8,unstable_applyStyles:z8},Symbol.toStringTag,{value:"Module"}));function Xue(n){return Object.keys(n).length===0}function rG(n=null){const t=T.useContext(r_);return!t||Xue(t)?n:t}const Zue=a_();function hy(n=Zue){return rG(n)}function Que({styles:n,themeId:t,defaultTheme:e={}}){const r=hy(e),i=typeof n=="function"?n(t&&r[t]||r):n;return b.jsx(k8,{styles:i})}const Jue=["sx"],ece=n=>{var t,e;const r={systemProps:{},otherProps:{}},i=(t=n==null||(e=n.theme)==null?void 0:e.unstable_sxConfig)!=null?t:i_;return Object.keys(n).forEach(o=>{i[o]?r.systemProps[o]=n[o]:r.otherProps[o]=n[o]}),r};function s_(n){const{sx:t}=n,e=ve(n,Jue),{systemProps:r,otherProps:i}=ece(e);let o;return Array.isArray(t)?o=[r,...t]:typeof t=="function"?o=(...a)=>{const s=t(...a);return Lc(s)?L({},r,s):r}:o=L({},r,t),L({},i,{sx:o})}const tce=Object.freeze(Object.defineProperty({__proto__:null,default:o_,extendSxProp:s_,unstable_createStyleFunctionSx:W8,unstable_defaultSxConfig:i_},Symbol.toStringTag,{value:"Module"})),E$=n=>n,rce=()=>{let n=E$;return{configure(t){n=t},generate(t){return n(t)},reset(){n=E$}}},nce=rce(),nG=nce;function K8(n){var t,e,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(t=0;t<i;t++)n[t]&&(e=K8(n[t]))&&(r&&(r+=" "),r+=e)}else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function Re(){for(var n,t,e=0,r="",i=arguments.length;e<i;e++)(n=arguments[e])&&(t=K8(n))&&(r&&(r+=" "),r+=t);return r}const ice=["className","component"];function oce(n={}){const{themeId:t,defaultTheme:e,defaultClassName:r="MuiBox-root",generateClassName:i}=n,o=Xk("div",{shouldForwardProp:s=>s!=="theme"&&s!=="sx"&&s!=="as"})(o_);return T.forwardRef(function(l,u){const c=hy(e),d=s_(l),{className:p,component:h="div"}=d,f=ve(d,ice);return b.jsx(o,L({as:h,ref:u,className:Re(p,i?i(r):r),theme:t&&c[t]||c},f))})}const Y8={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function He(n,t,e="Mui"){const r=Y8[t];return r?`${e}-${r}`:`${nG.generate(n)}-${t}`}function $e(n,t,e="Mui"){const r={};return t.forEach(i=>{r[i]=He(n,i,e)}),r}var q8={exports:{}},Lr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iG=Symbol.for("react.element"),oG=Symbol.for("react.portal"),hP=Symbol.for("react.fragment"),fP=Symbol.for("react.strict_mode"),vP=Symbol.for("react.profiler"),gP=Symbol.for("react.provider"),mP=Symbol.for("react.context"),ace=Symbol.for("react.server_context"),yP=Symbol.for("react.forward_ref"),CP=Symbol.for("react.suspense"),SP=Symbol.for("react.suspense_list"),wP=Symbol.for("react.memo"),_P=Symbol.for("react.lazy"),sce=Symbol.for("react.offscreen"),X8;X8=Symbol.for("react.module.reference");function Zs(n){if(typeof n=="object"&&n!==null){var t=n.$$typeof;switch(t){case iG:switch(n=n.type,n){case hP:case vP:case fP:case CP:case SP:return n;default:switch(n=n&&n.$$typeof,n){case ace:case mP:case yP:case _P:case wP:case gP:return n;default:return t}}case oG:return t}}}Lr.ContextConsumer=mP;Lr.ContextProvider=gP;Lr.Element=iG;Lr.ForwardRef=yP;Lr.Fragment=hP;Lr.Lazy=_P;Lr.Memo=wP;Lr.Portal=oG;Lr.Profiler=vP;Lr.StrictMode=fP;Lr.Suspense=CP;Lr.SuspenseList=SP;Lr.isAsyncMode=function(){return!1};Lr.isConcurrentMode=function(){return!1};Lr.isContextConsumer=function(n){return Zs(n)===mP};Lr.isContextProvider=function(n){return Zs(n)===gP};Lr.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===iG};Lr.isForwardRef=function(n){return Zs(n)===yP};Lr.isFragment=function(n){return Zs(n)===hP};Lr.isLazy=function(n){return Zs(n)===_P};Lr.isMemo=function(n){return Zs(n)===wP};Lr.isPortal=function(n){return Zs(n)===oG};Lr.isProfiler=function(n){return Zs(n)===vP};Lr.isStrictMode=function(n){return Zs(n)===fP};Lr.isSuspense=function(n){return Zs(n)===CP};Lr.isSuspenseList=function(n){return Zs(n)===SP};Lr.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===hP||n===vP||n===fP||n===CP||n===SP||n===sce||typeof n=="object"&&n!==null&&(n.$$typeof===_P||n.$$typeof===wP||n.$$typeof===gP||n.$$typeof===mP||n.$$typeof===yP||n.$$typeof===X8||n.getModuleId!==void 0)};Lr.typeOf=Zs;q8.exports=Lr;var O$=q8.exports;const lce=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function Z8(n){const t=`${n}`.match(lce);return t&&t[1]||""}function Q8(n,t=""){return n.displayName||n.name||Z8(n)||t}function R$(n,t,e){const r=Q8(t);return n.displayName||(r!==""?`${e}(${r})`:e)}function uce(n){if(n!=null){if(typeof n=="string")return n;if(typeof n=="function")return Q8(n,"Component");if(typeof n=="object")switch(n.$$typeof){case O$.ForwardRef:return R$(n,n.render,"ForwardRef");case O$.Memo:return R$(n,n.type,"memo");default:return}}}const cce=Object.freeze(Object.defineProperty({__proto__:null,default:uce,getFunctionName:Z8},Symbol.toStringTag,{value:"Module"})),dce=["ownerState"],pce=["variants"],hce=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function fce(n){return Object.keys(n).length===0}function vce(n){return typeof n=="string"&&n.charCodeAt(0)>96}function GA(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const gce=a_(),mce=n=>n&&n.charAt(0).toLowerCase()+n.slice(1);function xx({defaultTheme:n,theme:t,themeId:e}){return fce(t)?n:t[e]||t}function yce(n){return n?(t,e)=>e[n]:null}function RE(n,t){let{ownerState:e}=t,r=ve(t,dce);const i=typeof n=="function"?n(L({ownerState:e},r)):n;if(Array.isArray(i))return i.flatMap(o=>RE(o,L({ownerState:e},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:o=[]}=i;let s=ve(i,pce);return o.forEach(l=>{let u=!0;typeof l.props=="function"?u=l.props(L({ownerState:e},r,e)):Object.keys(l.props).forEach(c=>{(e==null?void 0:e[c])!==l.props[c]&&r[c]!==l.props[c]&&(u=!1)}),u&&(Array.isArray(s)||(s=[s]),s.push(typeof l.style=="function"?l.style(L({ownerState:e},r,e)):l.style))}),s}return i}function Cce(n={}){const{themeId:t,defaultTheme:e=gce,rootShouldForwardProp:r=GA,slotShouldForwardProp:i=GA}=n,o=a=>o_(L({},a,{theme:xx(L({},a,{defaultTheme:e,themeId:t}))}));return o.__mui_systemSx=!0,(a,s={})=>{G8(a,w=>w.filter(_=>!(_!=null&&_.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:d,overridesResolver:p=yce(mce(u))}=s,h=ve(s,hce),f=c!==void 0?c:u&&u!=="Root"&&u!=="root"||!1,v=d||!1;let g,m=GA;u==="Root"||u==="root"?m=r:u?m=i:vce(a)&&(m=void 0);const y=Xk(a,L({shouldForwardProp:m,label:g},h)),C=w=>typeof w=="function"&&w.__emotion_real!==w||Lc(w)?_=>RE(w,L({},_,{theme:xx({theme:_.theme,defaultTheme:e,themeId:t})})):w,S=(w,..._)=>{let x=C(w);const E=_?_.map(C):[];l&&p&&E.push(A=>{const N=xx(L({},A,{defaultTheme:e,themeId:t}));if(!N.components||!N.components[l]||!N.components[l].styleOverrides)return null;const I=N.components[l].styleOverrides,G={};return Object.entries(I).forEach(([V,H])=>{G[V]=RE(H,L({},A,{theme:N}))}),p(A,G)}),l&&!f&&E.push(A=>{var N;const I=xx(L({},A,{defaultTheme:e,themeId:t})),G=I==null||(N=I.components)==null||(N=N[l])==null?void 0:N.variants;return RE({variants:G},L({},A,{theme:I}))}),v||E.push(o);const R=E.length-_.length;if(Array.isArray(w)&&R>0){const A=new Array(R).fill("");x=[...w,...A],x.raw=[...w.raw,...A]}const P=y(x,...E);return a.muiName&&(P.muiName=a.muiName),P};return y.withConfig&&(S.withConfig=y.withConfig),S}}const Sce=Cce(),wce=Sce;function xP(n,t){const e=L({},t);return Object.keys(n).forEach(r=>{if(r.toString().match(/^(components|slots)$/))e[r]=L({},n[r],e[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=n[r]||{},o=t[r];e[r]={},!o||!Object.keys(o)?e[r]=i:!i||!Object.keys(i)?e[r]=o:(e[r]=L({},o),Object.keys(i).forEach(a=>{e[r][a]=xP(i[a],o[a])}))}else e[r]===void 0&&(e[r]=n[r])}),e}function J8(n){const{theme:t,name:e,props:r}=n;return!t||!t.components||!t.components[e]||!t.components[e].defaultProps?r:xP(t.components[e].defaultProps,r)}function e9({props:n,name:t,defaultTheme:e,themeId:r}){let i=hy(e);return r&&(i=i[r]||i),J8({theme:i,name:t,props:n})}const _ce=typeof window<"u"?T.useLayoutEffect:T.useEffect,ti=_ce;function xce(n,t,e,r,i){const[o,a]=T.useState(()=>i&&e?e(n).matches:r?r(n).matches:t);return ti(()=>{let s=!0;if(!e)return;const l=e(n),u=()=>{s&&a(l.matches)};return u(),l.addListener(u),()=>{s=!1,l.removeListener(u)}},[n,e]),o}const t9=Nw["useSyncExternalStore"];function bce(n,t,e,r,i){const o=T.useCallback(()=>t,[t]),a=T.useMemo(()=>{if(i&&e)return()=>e(n).matches;if(r!==null){const{matches:c}=r(n);return()=>c}return o},[o,n,r,i,e]),[s,l]=T.useMemo(()=>{if(e===null)return[o,()=>()=>{}];const c=e(n);return[()=>c.matches,d=>(c.addListener(d),()=>{c.removeListener(d)})]},[o,e,n]);return t9(l,s,a)}function r9(n,t={}){const e=rG(),r=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:i=!1,matchMedia:o=r?window.matchMedia:null,ssrMatchMedia:a=null,noSsr:s=!1}=J8({name:"MuiUseMediaQuery",props:t,theme:e});let l=typeof n=="function"?n(e):n;return l=l.replace(/^@media( ?)/m,""),(t9!==void 0?bce:xce)(l,i,o,a,s)}function n9(n,t=Number.MIN_SAFE_INTEGER,e=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(n,e))}const Ece=Object.freeze(Object.defineProperty({__proto__:null,default:n9},Symbol.toStringTag,{value:"Module"}));function Oce(n,t=0,e=1){return n9(n,t,e)}function Rce(n){n=n.slice(1);const t=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let e=n.match(t);return e&&e[0].length===1&&(e=e.map(r=>r+r)),e?`rgb${e.length===4?"a":""}(${e.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function i9(n){if(n.type)return n;if(n.charAt(0)==="#")return i9(Rce(n));const t=n.indexOf("("),e=n.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(e)===-1)throw new Error(Zc(9,n));let r=n.substring(t+1,n.length-1),i;if(e==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Zc(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:e,values:r,colorSpace:i}}function Tce(n){const{type:t,colorSpace:e}=n;let{values:r}=n;return t.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${e} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function jm(n,t){return n=i9(n),t=Oce(t),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${t}`:n.values[3]=t,Tce(n)}const Pce=ce.oneOfType([ce.func,ce.object]),o9=Pce;function GO(...n){return n.reduce((t,e)=>e==null?t:function(...i){t.apply(this,i),e.apply(this,i)},()=>{})}function bP(n,t=166){let e;function r(...i){const o=()=>{n.apply(this,i)};clearTimeout(e),e=setTimeout(o,t)}return r.clear=()=>{clearTimeout(e)},r}function Dce(n,t){return()=>null}function sw(n,t){var e,r;return T.isValidElement(n)&&t.indexOf((e=n.type.muiName)!=null?e:(r=n.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function vi(n){return n&&n.ownerDocument||document}function qu(n){return vi(n).defaultView||window}function Ace(n,t){return()=>null}function VO(n,t){typeof n=="function"?n(t):n&&(n.current=t)}let T$=0;function Mce(n){const[t,e]=T.useState(n),r=n||t;return T.useEffect(()=>{t==null&&(T$+=1,e(`mui-${T$}`))},[t]),r}const P$=Nw["useId".toString()];function tc(n){if(P$!==void 0){const t=P$();return n??t}return Mce(n)}function Lce(n,t,e,r,i){return null}function va({controlled:n,default:t,name:e,state:r="value"}){const{current:i}=T.useRef(n!==void 0),[o,a]=T.useState(t),s=i?n:o,l=T.useCallback(u=>{i||a(u)},[]);return[s,l]}function it(n){const t=T.useRef(n);return ti(()=>{t.current=n}),T.useRef((...e)=>(0,t.current)(...e)).current}function or(...n){return T.useMemo(()=>n.every(t=>t==null)?null:t=>{n.forEach(e=>{VO(e,t)})},n)}const D$={};function Fce(n,t){const e=T.useRef(D$);return e.current===D$&&(e.current=n(t)),e}const Ice=[];function Nce(n){T.useEffect(n,Ice)}class l_{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new l_}start(t,e){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,e()},t)}}function Of(){const n=Fce(l_.create).current;return Nce(n.disposeEffect),n}let EP=!0,CI=!1;const kce=new l_,Gce={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Vce(n){const{type:t,tagName:e}=n;return!!(e==="INPUT"&&Gce[t]&&!n.readOnly||e==="TEXTAREA"&&!n.readOnly||n.isContentEditable)}function Bce(n){n.metaKey||n.altKey||n.ctrlKey||(EP=!0)}function VA(){EP=!1}function jce(){this.visibilityState==="hidden"&&CI&&(EP=!0)}function Hce(n){n.addEventListener("keydown",Bce,!0),n.addEventListener("mousedown",VA,!0),n.addEventListener("pointerdown",VA,!0),n.addEventListener("touchstart",VA,!0),n.addEventListener("visibilitychange",jce,!0)}function $ce(n){const{target:t}=n;try{return t.matches(":focus-visible")}catch{}return EP||Vce(t)}function aG(){const n=T.useCallback(i=>{i!=null&&Hce(i.ownerDocument)},[]),t=T.useRef(!1);function e(){return t.current?(CI=!0,kce.start(100,()=>{CI=!1}),t.current=!1,!0):!1}function r(i){return $ce(i)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:r,onBlur:e,ref:n}}function a9(n){const t=n.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function Ge(n,t,e=void 0){const r={};return Object.keys(n).forEach(i=>{r[i]=n[i].reduce((o,a)=>{if(a){const s=t(a);s!==""&&o.push(s),e&&e[a]&&o.push(e[a])}return o},[]).join(" ")}),r}const Wce=T.createContext(null),s9=Wce;function l9(){return T.useContext(s9)}const Uce=typeof Symbol=="function"&&Symbol.for,zce=Uce?Symbol.for("mui.nested"):"__THEME_NESTED__";function Kce(n,t){return typeof t=="function"?t(n):L({},n,t)}function Yce(n){const{children:t,theme:e}=n,r=l9(),i=T.useMemo(()=>{const o=r===null?e:Kce(r,e);return o!=null&&(o[zce]=r!==null),o},[e,r]);return b.jsx(s9.Provider,{value:i,children:t})}const qce=["value"],u9=T.createContext();function Xce(n){let{value:t}=n,e=ve(n,qce);return b.jsx(u9.Provider,L({value:t??!0},e))}const sG=()=>{const n=T.useContext(u9);return n??!1},A$={};function M$(n,t,e,r=!1){return T.useMemo(()=>{const i=n&&t[n]||t;if(typeof e=="function"){const o=e(i),a=n?L({},t,{[n]:o}):o;return r?()=>a:a}return n?L({},t,{[n]:e}):L({},t,e)},[n,t,e,r])}function Zce(n){const{children:t,theme:e,themeId:r}=n,i=rG(A$),o=l9()||A$,a=M$(r,i,e),s=M$(r,o,e,!0),l=a.direction==="rtl";return b.jsx(Yce,{theme:s,children:b.jsx(r_.Provider,{value:a,children:b.jsx(Xce,{value:l,children:t})})})}function Qc(n){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(n)}function Qce(n,t){if(Qc(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t||"default");if(Qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function c9(n){var t=Qce(n,"string");return Qc(t)=="symbol"?t:t+""}const Jce=["component","direction","spacing","divider","children","className","useFlexGap"],ede=a_(),tde=wce("div",{name:"MuiStack",slot:"Root",overridesResolver:(n,t)=>t.root});function rde(n){return e9({props:n,name:"MuiStack",defaultTheme:ede})}function nde(n,t){const e=T.Children.toArray(n).filter(Boolean);return e.reduce((r,i,o)=>(r.push(i),o<e.length-1&&r.push(T.cloneElement(t,{key:`separator-${o}`})),r),[])}const ide=n=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[n],ode=({ownerState:n,theme:t})=>{let e=L({display:"flex",flexDirection:"column"},fa({theme:t},Vf({values:n.direction,breakpoints:t.breakpoints.values}),r=>({flexDirection:r})));if(n.spacing){const r=eG(t),i=Object.keys(t.breakpoints.values).reduce((l,u)=>((typeof n.spacing=="object"&&n.spacing[u]!=null||typeof n.direction=="object"&&n.direction[u]!=null)&&(l[u]=!0),l),{}),o=Vf({values:n.direction,base:i}),a=Vf({values:n.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((l,u,c)=>{if(!o[l]){const p=u>0?o[c[u-1]]:"column";o[l]=p}}),e=Ro(e,fa({theme:t},a,(l,u)=>n.useFlexGap?{gap:iv(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${ide(u?o[u]:n.direction)}`]:iv(r,l)}}))}return e=oue(t.breakpoints,e),e};function ade(n={}){const{createStyledComponent:t=tde,useThemeProps:e=rde,componentName:r="MuiStack"}=n,i=()=>Ge({root:["root"]},l=>He(r,l),{}),o=t(ode);return T.forwardRef(function(l,u){const c=e(l),d=s_(c),{component:p="div",direction:h="column",spacing:f=0,divider:v,children:g,className:m,useFlexGap:y=!1}=d,C=ve(d,Jce),S={direction:h,spacing:f,useFlexGap:y},w=i();return b.jsx(o,L({as:p,ownerState:S,ref:u,className:Re(w.root,m)},C,{children:v?nde(g,v):g}))})}function sde(n,t){return L({toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}}},t)}var $n={},d9={exports:{}};(function(n){function t(e){return e&&e.__esModule?e:{default:e}}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports})(d9);var Ki=d9.exports;const lde=Nl(Use),ude=Nl(Ece);var p9=Ki;Object.defineProperty($n,"__esModule",{value:!0});var At=$n.alpha=g9;$n.blend=Sde;$n.colorChannel=void 0;var n0=$n.darken=uG;$n.decomposeColor=Ws;$n.emphasize=Cde;var cde=$n.getContrastRatio=vde;$n.getLuminance=BO;$n.hexToRgb=h9;$n.hslToRgb=v9;var i0=$n.lighten=cG;$n.private_safeAlpha=gde;$n.private_safeColorChannel=void 0;$n.private_safeDarken=mde;$n.private_safeEmphasize=m9;$n.private_safeLighten=yde;$n.recomposeColor=fy;$n.rgbToHex=fde;var L$=p9(lde),dde=p9(ude);function lG(n,t=0,e=1){return(0,dde.default)(n,t,e)}function h9(n){n=n.slice(1);const t=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let e=n.match(t);return e&&e[0].length===1&&(e=e.map(r=>r+r)),e?`rgb${e.length===4?"a":""}(${e.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function pde(n){const t=n.toString(16);return t.length===1?`0${t}`:t}function Ws(n){if(n.type)return n;if(n.charAt(0)==="#")return Ws(h9(n));const t=n.indexOf("("),e=n.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(e)===-1)throw new Error((0,L$.default)(9,n));let r=n.substring(t+1,n.length-1),i;if(e==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,L$.default)(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:e,values:r,colorSpace:i}}const f9=n=>{const t=Ws(n);return t.values.slice(0,3).map((e,r)=>t.type.indexOf("hsl")!==-1&&r!==0?`${e}%`:e).join(" ")};$n.colorChannel=f9;const hde=(n,t)=>{try{return f9(n)}catch{return n}};$n.private_safeColorChannel=hde;function fy(n){const{type:t,colorSpace:e}=n;let{values:r}=n;return t.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${e} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function fde(n){if(n.indexOf("#")===0)return n;const{values:t}=Ws(n);return`#${t.map((e,r)=>pde(r===3?Math.round(255*e):e)).join("")}`}function v9(n){n=Ws(n);const{values:t}=n,e=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),a=(u,c=(u+e/30)%12)=>i-o*Math.max(Math.min(c-3,9-c,1),-1);let s="rgb";const l=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return n.type==="hsla"&&(s+="a",l.push(t[3])),fy({type:s,values:l})}function BO(n){n=Ws(n);let t=n.type==="hsl"||n.type==="hsla"?Ws(v9(n)).values:n.values;return t=t.map(e=>(n.type!=="color"&&(e/=255),e<=.03928?e/12.92:((e+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function vde(n,t){const e=BO(n),r=BO(t);return(Math.max(e,r)+.05)/(Math.min(e,r)+.05)}function g9(n,t){return n=Ws(n),t=lG(t),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${t}`:n.values[3]=t,fy(n)}function gde(n,t,e){try{return g9(n,t)}catch{return n}}function uG(n,t){if(n=Ws(n),t=lG(t),n.type.indexOf("hsl")!==-1)n.values[2]*=1-t;else if(n.type.indexOf("rgb")!==-1||n.type.indexOf("color")!==-1)for(let e=0;e<3;e+=1)n.values[e]*=1-t;return fy(n)}function mde(n,t,e){try{return uG(n,t)}catch{return n}}function cG(n,t){if(n=Ws(n),t=lG(t),n.type.indexOf("hsl")!==-1)n.values[2]+=(100-n.values[2])*t;else if(n.type.indexOf("rgb")!==-1)for(let e=0;e<3;e+=1)n.values[e]+=(255-n.values[e])*t;else if(n.type.indexOf("color")!==-1)for(let e=0;e<3;e+=1)n.values[e]+=(1-n.values[e])*t;return fy(n)}function yde(n,t,e){try{return cG(n,t)}catch{return n}}function Cde(n,t=.15){return BO(n)>.5?uG(n,t):cG(n,t)}function m9(n,t,e){try{return m9(n,t)}catch{return n}}function Sde(n,t,e,r=1){const i=(l,u)=>Math.round((l**(1/r)*(1-e)+u**(1/r)*e)**r),o=Ws(n),a=Ws(t),s=[i(o.values[0],a.values[0]),i(o.values[1],a.values[1]),i(o.values[2],a.values[2])];return fy({type:"rgb",values:s})}const wde={black:"#000",white:"#fff"},o0=wde,_de={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},y9=_de,xde={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Gv=xde,bde={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Vv=bde,Ede={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Qy=Ede,Ode={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Bv=Ode,Rde={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},jv=Rde,Tde={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Hv=Tde,Pde=["mode","contrastThreshold","tonalOffset"],F$={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:o0.white,default:o0.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},BA={text:{primary:o0.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:o0.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function I$(n,t,e,r){const i=r.light||r,o=r.dark||r*1.5;n[t]||(n.hasOwnProperty(e)?n[t]=n[e]:t==="light"?n.light=i0(n.main,i):t==="dark"&&(n.dark=n0(n.main,o)))}function Dde(n="light"){return n==="dark"?{main:Bv[200],light:Bv[50],dark:Bv[400]}:{main:Bv[700],light:Bv[400],dark:Bv[800]}}function Ade(n="light"){return n==="dark"?{main:Gv[200],light:Gv[50],dark:Gv[400]}:{main:Gv[500],light:Gv[300],dark:Gv[700]}}function Mde(n="light"){return n==="dark"?{main:Vv[500],light:Vv[300],dark:Vv[700]}:{main:Vv[700],light:Vv[400],dark:Vv[800]}}function Lde(n="light"){return n==="dark"?{main:jv[400],light:jv[300],dark:jv[700]}:{main:jv[700],light:jv[500],dark:jv[900]}}function Fde(n="light"){return n==="dark"?{main:Hv[400],light:Hv[300],dark:Hv[700]}:{main:Hv[800],light:Hv[500],dark:Hv[900]}}function Ide(n="light"){return n==="dark"?{main:Qy[400],light:Qy[300],dark:Qy[700]}:{main:"#ed6c02",light:Qy[500],dark:Qy[900]}}function Nde(n){const{mode:t="light",contrastThreshold:e=3,tonalOffset:r=.2}=n,i=ve(n,Pde),o=n.primary||Dde(t),a=n.secondary||Ade(t),s=n.error||Mde(t),l=n.info||Lde(t),u=n.success||Fde(t),c=n.warning||Ide(t);function d(v){return cde(v,BA.text.primary)>=e?BA.text.primary:F$.text.primary}const p=({color:v,name:g,mainShade:m=500,lightShade:y=300,darkShade:C=700})=>{if(v=L({},v),!v.main&&v[m]&&(v.main=v[m]),!v.hasOwnProperty("main"))throw new Error(Zc(11,g?` (${g})`:"",m));if(typeof v.main!="string")throw new Error(Zc(12,g?` (${g})`:"",JSON.stringify(v.main)));return I$(v,"light",y,r),I$(v,"dark",C,r),v.contrastText||(v.contrastText=d(v.main)),v},h={dark:BA,light:F$};return Ro(L({common:L({},o0),mode:t,primary:p({color:o,name:"primary"}),secondary:p({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:s,name:"error"}),warning:p({color:c,name:"warning"}),info:p({color:l,name:"info"}),success:p({color:u,name:"success"}),grey:y9,contrastThreshold:e,getContrastText:d,augmentColor:p,tonalOffset:r},h[t]),i)}const kde=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Gde(n){return Math.round(n*1e5)/1e5}const N$={textTransform:"uppercase"},k$='"Roboto", "Helvetica", "Arial", sans-serif';function Vde(n,t){const e=typeof t=="function"?t(n):t,{fontFamily:r=k$,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:a=400,fontWeightMedium:s=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:d}=e,p=ve(e,kde),h=i/14,f=d||(m=>`${m/u*h}rem`),v=(m,y,C,S,w)=>L({fontFamily:r,fontWeight:m,fontSize:f(y),lineHeight:C},r===k$?{letterSpacing:`${Gde(S/y)}em`}:{},w,c),g={h1:v(o,96,1.167,-1.5),h2:v(o,60,1.2,-.5),h3:v(a,48,1.167,0),h4:v(a,34,1.235,.25),h5:v(a,24,1.334,0),h6:v(s,20,1.6,.15),subtitle1:v(a,16,1.75,.15),subtitle2:v(s,14,1.57,.1),body1:v(a,16,1.5,.15),body2:v(a,14,1.43,.15),button:v(s,14,1.75,.4,N$),caption:v(a,12,1.66,.4),overline:v(a,12,2.66,1,N$),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ro(L({htmlFontSize:u,pxToRem:f,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:a,fontWeightMedium:s,fontWeightBold:l},g),p,{clone:!1})}const Bde=.2,jde=.14,Hde=.12;function sn(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${Bde})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${jde})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${Hde})`].join(",")}const $de=["none",sn(0,2,1,-1,0,1,1,0,0,1,3,0),sn(0,3,1,-2,0,2,2,0,0,1,5,0),sn(0,3,3,-2,0,3,4,0,0,1,8,0),sn(0,2,4,-1,0,4,5,0,0,1,10,0),sn(0,3,5,-1,0,5,8,0,0,1,14,0),sn(0,3,5,-1,0,6,10,0,0,1,18,0),sn(0,4,5,-2,0,7,10,1,0,2,16,1),sn(0,5,5,-3,0,8,10,1,0,3,14,2),sn(0,5,6,-3,0,9,12,1,0,3,16,2),sn(0,6,6,-3,0,10,14,1,0,4,18,3),sn(0,6,7,-4,0,11,15,1,0,4,20,3),sn(0,7,8,-4,0,12,17,2,0,5,22,4),sn(0,7,8,-4,0,13,19,2,0,5,24,4),sn(0,7,9,-4,0,14,21,2,0,5,26,4),sn(0,8,9,-5,0,15,22,2,0,6,28,5),sn(0,8,10,-5,0,16,24,2,0,6,30,5),sn(0,8,11,-5,0,17,26,2,0,6,32,5),sn(0,9,11,-5,0,18,28,2,0,7,34,6),sn(0,9,12,-6,0,19,29,2,0,7,36,6),sn(0,10,13,-6,0,20,31,3,0,8,38,7),sn(0,10,13,-6,0,21,33,3,0,8,40,7),sn(0,10,14,-6,0,22,35,3,0,8,42,7),sn(0,11,14,-7,0,23,36,3,0,9,44,8),sn(0,11,15,-7,0,24,38,3,0,9,46,8)],Wde=$de,Ude=["duration","easing","delay"],zde={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},C9={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function G$(n){return`${Math.round(n)}ms`}function Kde(n){if(!n)return 0;const t=n/36;return Math.round((4+15*t**.25+t/5)*10)}function Yde(n){const t=L({},zde,n.easing),e=L({},C9,n.duration);return L({getAutoHeightDuration:Kde,create:(i=["all"],o={})=>{const{duration:a=e.standard,easing:s=t.easeInOut,delay:l=0}=o;return ve(o,Ude),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof a=="string"?a:G$(a)} ${s} ${typeof l=="string"?l:G$(l)}`).join(",")}},n,{easing:t,duration:e})}const qde={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Xde=qde,Zde=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function dG(n={},...t){const{mixins:e={},palette:r={},transitions:i={},typography:o={}}=n,a=ve(n,Zde);if(n.vars)throw new Error(Zc(18));const s=Nde(r),l=a_(n);let u=Ro(l,{mixins:sde(l.breakpoints,e),palette:s,shadows:Wde.slice(),typography:Vde(s,o),transitions:Yde(i),zIndex:L({},Xde)});return u=Ro(u,a),u=t.reduce((c,d)=>Ro(c,d),u),u.unstable_sxConfig=L({},i_,a==null?void 0:a.unstable_sxConfig),u.unstable_sx=function(d){return o_({sx:d,theme:this})},u}const Qde=dG(),OP=Qde;function ma(){const n=hy(OP);return n[nv]||n}function Ve({props:n,name:t}){return e9({props:n,name:t,defaultTheme:OP,themeId:nv})}var u_={},jA={exports:{}},V$;function Jde(){return V$||(V$=1,function(n){function t(e,r){if(e==null)return{};var i={},o=Object.keys(e),a,s;for(s=0;s<o.length;s++)a=o[s],!(r.indexOf(a)>=0)&&(i[a]=e[a]);return i}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports}(jA)),jA.exports}const S9=Nl(Jle),epe=Nl(eue),tpe=Nl(sue),rpe=Nl(cce),npe=Nl(que),ipe=Nl(tce);var vy=Ki;Object.defineProperty(u_,"__esModule",{value:!0});var ope=u_.default=ype;u_.shouldForwardProp=TE;u_.systemDefaultTheme=void 0;var xs=vy(L8()),SI=vy(Jde()),B$=ppe(S9),ape=epe;vy(tpe);vy(rpe);var spe=vy(npe),lpe=vy(ipe);const upe=["ownerState"],cpe=["variants"],dpe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function w9(n){if(typeof WeakMap!="function")return null;var t=new WeakMap,e=new WeakMap;return(w9=function(r){return r?e:t})(n)}function ppe(n,t){if(!t&&n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var e=w9(t);if(e&&e.has(n))return e.get(n);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in n)if(o!=="default"&&Object.prototype.hasOwnProperty.call(n,o)){var a=i?Object.getOwnPropertyDescriptor(n,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=n[o]}return r.default=n,e&&e.set(n,r),r}function hpe(n){return Object.keys(n).length===0}function fpe(n){return typeof n=="string"&&n.charCodeAt(0)>96}function TE(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const vpe=u_.systemDefaultTheme=(0,spe.default)(),gpe=n=>n&&n.charAt(0).toLowerCase()+n.slice(1);function bx({defaultTheme:n,theme:t,themeId:e}){return hpe(t)?n:t[e]||t}function mpe(n){return n?(t,e)=>e[n]:null}function PE(n,t){let{ownerState:e}=t,r=(0,SI.default)(t,upe);const i=typeof n=="function"?n((0,xs.default)({ownerState:e},r)):n;if(Array.isArray(i))return i.flatMap(o=>PE(o,(0,xs.default)({ownerState:e},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:o=[]}=i;let s=(0,SI.default)(i,cpe);return o.forEach(l=>{let u=!0;typeof l.props=="function"?u=l.props((0,xs.default)({ownerState:e},r,e)):Object.keys(l.props).forEach(c=>{(e==null?void 0:e[c])!==l.props[c]&&r[c]!==l.props[c]&&(u=!1)}),u&&(Array.isArray(s)||(s=[s]),s.push(typeof l.style=="function"?l.style((0,xs.default)({ownerState:e},r,e)):l.style))}),s}return i}function ype(n={}){const{themeId:t,defaultTheme:e=vpe,rootShouldForwardProp:r=TE,slotShouldForwardProp:i=TE}=n,o=a=>(0,lpe.default)((0,xs.default)({},a,{theme:bx((0,xs.default)({},a,{defaultTheme:e,themeId:t}))}));return o.__mui_systemSx=!0,(a,s={})=>{(0,B$.internal_processStyles)(a,w=>w.filter(_=>!(_!=null&&_.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:d,overridesResolver:p=mpe(gpe(u))}=s,h=(0,SI.default)(s,dpe),f=c!==void 0?c:u&&u!=="Root"&&u!=="root"||!1,v=d||!1;let g,m=TE;u==="Root"||u==="root"?m=r:u?m=i:fpe(a)&&(m=void 0);const y=(0,B$.default)(a,(0,xs.default)({shouldForwardProp:m,label:g},h)),C=w=>typeof w=="function"&&w.__emotion_real!==w||(0,ape.isPlainObject)(w)?_=>PE(w,(0,xs.default)({},_,{theme:bx({theme:_.theme,defaultTheme:e,themeId:t})})):w,S=(w,..._)=>{let x=C(w);const E=_?_.map(C):[];l&&p&&E.push(A=>{const N=bx((0,xs.default)({},A,{defaultTheme:e,themeId:t}));if(!N.components||!N.components[l]||!N.components[l].styleOverrides)return null;const I=N.components[l].styleOverrides,G={};return Object.entries(I).forEach(([V,H])=>{G[V]=PE(H,(0,xs.default)({},A,{theme:N}))}),p(A,G)}),l&&!f&&E.push(A=>{var N;const I=bx((0,xs.default)({},A,{defaultTheme:e,themeId:t})),G=I==null||(N=I.components)==null||(N=N[l])==null?void 0:N.variants;return PE({variants:G},(0,xs.default)({},A,{theme:I}))}),v||E.push(o);const R=E.length-_.length;if(Array.isArray(w)&&R>0){const A=new Array(R).fill("");x=[...w,...A],x.raw=[...w.raw,...A]}const P=y(x,...E);return a.muiName&&(P.muiName=a.muiName),P};return y.withConfig&&(S.withConfig=y.withConfig),S}}function _9(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const Cpe=n=>_9(n)&&n!=="classes",mi=Cpe,Spe=ope({themeId:nv,defaultTheme:OP,rootShouldForwardProp:mi}),le=Spe,wpe=["theme"];function _pe(n){let{theme:t}=n,e=ve(n,wpe);const r=t[nv];return b.jsx(Zce,L({},e,{themeId:r?nv:void 0,theme:r||t}))}const xpe=n=>{let t;return n<1?t=5.11916*n**2:t=4.5*Math.log(n+1)+2,(t/100).toFixed(2)},j$=xpe,bpe=$e("MuiBox",["root"]),Epe=bpe,Ope=dG(),Rpe=oce({themeId:nv,defaultTheme:Ope,defaultClassName:Epe.root,generateClassName:nG.generate}),x9=Rpe;function Hm(n){return typeof n=="string"}function Vg(n,t,e){return n===void 0||Hm(n)?t:L({},t,{ownerState:L({},t.ownerState,e)})}const Tpe={disableDefaultClasses:!1},Ppe=T.createContext(Tpe);function Dpe(n){const{disableDefaultClasses:t}=T.useContext(Ppe);return e=>t?"":n(e)}function b9(n,t=[]){if(n===void 0)return{};const e={};return Object.keys(n).filter(r=>r.match(/^on[A-Z]/)&&typeof n[r]=="function"&&!t.includes(r)).forEach(r=>{e[r]=n[r]}),e}function RP(n,t,e){return typeof n=="function"?n(t,e):n}function H$(n){if(n===void 0)return{};const t={};return Object.keys(n).filter(e=>!(e.match(/^on[A-Z]/)&&typeof n[e]=="function")).forEach(e=>{t[e]=n[e]}),t}function E9(n){const{getSlotProps:t,additionalProps:e,externalSlotProps:r,externalForwardedProps:i,className:o}=n;if(!t){const h=Re(e==null?void 0:e.className,o,i==null?void 0:i.className,r==null?void 0:r.className),f=L({},e==null?void 0:e.style,i==null?void 0:i.style,r==null?void 0:r.style),v=L({},e,i,r);return h.length>0&&(v.className=h),Object.keys(f).length>0&&(v.style=f),{props:v,internalRef:void 0}}const a=b9(L({},i,r)),s=H$(r),l=H$(i),u=t(a),c=Re(u==null?void 0:u.className,e==null?void 0:e.className,o,i==null?void 0:i.className,r==null?void 0:r.className),d=L({},u==null?void 0:u.style,e==null?void 0:e.style,i==null?void 0:i.style,r==null?void 0:r.style),p=L({},u,e,l,s);return c.length>0&&(p.className=c),Object.keys(d).length>0&&(p.style=d),{props:p,internalRef:u.ref}}const Ape=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function jr(n){var t;const{elementType:e,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=n,a=ve(n,Ape),s=o?{}:RP(r,i),{props:l,internalRef:u}=E9(L({},a,{externalSlotProps:s})),c=or(u,s==null?void 0:s.ref,(t=n.additionalProps)==null?void 0:t.ref);return Vg(e,L({},l,{ref:c}),i)}function Mpe(n){const t=vi(n);return t.body===n?qu(n).innerWidth>t.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function lw(n,t){t?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function $$(n){return parseInt(qu(n).getComputedStyle(n).paddingRight,10)||0}function Lpe(n){const e=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(n.tagName)!==-1,r=n.tagName==="INPUT"&&n.getAttribute("type")==="hidden";return e||r}function W$(n,t,e,r,i){const o=[t,e,...r];[].forEach.call(n.children,a=>{const s=o.indexOf(a)===-1,l=!Lpe(a);s&&l&&lw(a,i)})}function HA(n,t){let e=-1;return n.some((r,i)=>t(r)?(e=i,!0):!1),e}function Fpe(n,t){const e=[],r=n.container;if(!t.disableScrollLock){if(Mpe(r)){const a=a9(vi(r));e.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${$$(r)+a}px`;const s=vi(r).querySelectorAll(".mui-fixed");[].forEach.call(s,l=>{e.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${$$(l)+a}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=vi(r).body;else{const a=r.parentElement,s=qu(r);o=(a==null?void 0:a.nodeName)==="HTML"&&s.getComputedStyle(a).overflowY==="scroll"?a:r}e.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{e.forEach(({value:o,el:a,property:s})=>{o?a.style.setProperty(s,o):a.style.removeProperty(s)})}}function Ipe(n){const t=[];return[].forEach.call(n.children,e=>{e.getAttribute("aria-hidden")==="true"&&t.push(e)}),t}class Npe{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,e){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&lw(t.modalRef,!1);const i=Ipe(e);W$(e,t.mount,t.modalRef,i,!0);const o=HA(this.containers,a=>a.container===e);return o!==-1?(this.containers[o].modals.push(t),r):(this.containers.push({modals:[t],container:e,restore:null,hiddenSiblings:i}),r)}mount(t,e){const r=HA(this.containers,o=>o.modals.indexOf(t)!==-1),i=this.containers[r];i.restore||(i.restore=Fpe(i,e))}remove(t,e=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const i=HA(this.containers,a=>a.modals.indexOf(t)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(t),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),t.modalRef&&lw(t.modalRef,e),W$(o.container,t.mount,t.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const a=o.modals[o.modals.length-1];a.modalRef&&lw(a.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}function kpe(n){return typeof n=="function"?n():n}function Gpe(n){return n?n.props.hasOwnProperty("in"):!1}const Vpe=new Npe;function Bpe(n){const{container:t,disableEscapeKeyDown:e=!1,disableScrollLock:r=!1,manager:i=Vpe,closeAfterTransition:o=!1,onTransitionEnter:a,onTransitionExited:s,children:l,onClose:u,open:c,rootRef:d}=n,p=T.useRef({}),h=T.useRef(null),f=T.useRef(null),v=or(f,d),[g,m]=T.useState(!c),y=Gpe(l);let C=!0;(n["aria-hidden"]==="false"||n["aria-hidden"]===!1)&&(C=!1);const S=()=>vi(h.current),w=()=>(p.current.modalRef=f.current,p.current.mount=h.current,p.current),_=()=>{i.mount(w(),{disableScrollLock:r}),f.current&&(f.current.scrollTop=0)},x=it(()=>{const H=kpe(t)||S().body;i.add(w(),H),f.current&&_()}),E=T.useCallback(()=>i.isTopModal(w()),[i]),R=it(H=>{h.current=H,H&&(c&&E()?_():f.current&&lw(f.current,C))}),P=T.useCallback(()=>{i.remove(w(),C)},[C,i]);T.useEffect(()=>()=>{P()},[P]),T.useEffect(()=>{c?x():(!y||!o)&&P()},[c,P,y,o,x]);const A=H=>j=>{var B;(B=H.onKeyDown)==null||B.call(H,j),!(j.key!=="Escape"||j.which===229||!E())&&(e||(j.stopPropagation(),u&&u(j,"escapeKeyDown")))},N=H=>j=>{var B;(B=H.onClick)==null||B.call(H,j),j.target===j.currentTarget&&u&&u(j,"backdropClick")};return{getRootProps:(H={})=>{const j=b9(n);delete j.onTransitionEnter,delete j.onTransitionExited;const B=L({},j,H);return L({role:"presentation"},B,{onKeyDown:A(B),ref:v})},getBackdropProps:(H={})=>{const j=H;return L({"aria-hidden":!0},j,{onClick:N(j),open:c})},getTransitionProps:()=>{const H=()=>{m(!1),a&&a()},j=()=>{m(!0),s&&s(),o&&P()};return{onEnter:GO(H,l==null?void 0:l.props.onEnter),onExited:GO(j,l==null?void 0:l.props.onExited)}},rootRef:v,portalRef:R,isTopModal:E,exited:g,hasTransition:y}}const jpe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Hpe(n){const t=parseInt(n.getAttribute("tabindex")||"",10);return Number.isNaN(t)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:t}function $pe(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const t=r=>n.ownerDocument.querySelector(`input[type="radio"]${r}`);let e=t(`[name="${n.name}"]:checked`);return e||(e=t(`[name="${n.name}"]`)),e!==n}function Wpe(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||$pe(n))}function Upe(n){const t=[],e=[];return Array.from(n.querySelectorAll(jpe)).forEach((r,i)=>{const o=Hpe(r);o===-1||!Wpe(r)||(o===0?t.push(r):e.push({documentOrder:i,tabIndex:o,node:r}))}),e.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(t)}function zpe(){return!0}function O9(n){const{children:t,disableAutoFocus:e=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=Upe,isEnabled:a=zpe,open:s}=n,l=T.useRef(!1),u=T.useRef(null),c=T.useRef(null),d=T.useRef(null),p=T.useRef(null),h=T.useRef(!1),f=T.useRef(null),v=or(t.ref,f),g=T.useRef(null);T.useEffect(()=>{!s||!f.current||(h.current=!e)},[e,s]),T.useEffect(()=>{if(!s||!f.current)return;const C=vi(f.current);return f.current.contains(C.activeElement)||(f.current.hasAttribute("tabIndex")||f.current.setAttribute("tabIndex","-1"),h.current&&f.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[s]),T.useEffect(()=>{if(!s||!f.current)return;const C=vi(f.current),S=x=>{g.current=x,!(r||!a()||x.key!=="Tab")&&C.activeElement===f.current&&x.shiftKey&&(l.current=!0,c.current&&c.current.focus())},w=()=>{const x=f.current;if(x===null)return;if(!C.hasFocus()||!a()||l.current){l.current=!1;return}if(x.contains(C.activeElement)||r&&C.activeElement!==u.current&&C.activeElement!==c.current)return;if(C.activeElement!==p.current)p.current=null;else if(p.current!==null)return;if(!h.current)return;let E=[];if((C.activeElement===u.current||C.activeElement===c.current)&&(E=o(f.current)),E.length>0){var R,P;const A=!!((R=g.current)!=null&&R.shiftKey&&((P=g.current)==null?void 0:P.key)==="Tab"),N=E[0],I=E[E.length-1];typeof N!="string"&&typeof I!="string"&&(A?I.focus():N.focus())}else x.focus()};C.addEventListener("focusin",w),C.addEventListener("keydown",S,!0);const _=setInterval(()=>{C.activeElement&&C.activeElement.tagName==="BODY"&&w()},50);return()=>{clearInterval(_),C.removeEventListener("focusin",w),C.removeEventListener("keydown",S,!0)}},[e,r,i,a,s,o]);const m=C=>{d.current===null&&(d.current=C.relatedTarget),h.current=!0,p.current=C.target;const S=t.props.onFocus;S&&S(C)},y=C=>{d.current===null&&(d.current=C.relatedTarget),h.current=!0};return b.jsxs(T.Fragment,{children:[b.jsx("div",{tabIndex:s?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),T.cloneElement(t,{ref:v,onFocus:m}),b.jsx("div",{tabIndex:s?0:-1,onFocus:y,ref:c,"data-testid":"sentinelEnd"})]})}function Kpe(n){return typeof n=="function"?n():n}const R9=T.forwardRef(function(t,e){const{children:r,container:i,disablePortal:o=!1}=t,[a,s]=T.useState(null),l=or(T.isValidElement(r)?r.ref:null,e);if(ti(()=>{o||s(Kpe(i)||document.body)},[i,o]),ti(()=>{if(a&&!o)return VO(e,a),()=>{VO(e,null)}},[e,a,o]),o){if(T.isValidElement(r)){const u={ref:l};return T.cloneElement(r,u)}return b.jsx(T.Fragment,{children:r})}return b.jsx(T.Fragment,{children:a&&Sv.createPortal(r,a)})});function jO(n,t){return jO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jO(n,t)}function pG(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,jO(n,t)}function Ype(n,t){return n.classList?!!t&&n.classList.contains(t):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+t+" ")!==-1}function qpe(n,t){n.classList?n.classList.add(t):Ype(n,t)||(typeof n.className=="string"?n.className=n.className+" "+t:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+t))}function U$(n,t){return n.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Xpe(n,t){n.classList?n.classList.remove(t):typeof n.className=="string"?n.className=U$(n.className,t):n.setAttribute("class",U$(n.className&&n.className.baseVal||"",t))}const z$={disabled:!1},HO=On.createContext(null);var T9=function(t){return t.scrollTop},SS="unmounted",Jh="exited",ef="entering",wg="entered",wI="exiting",hd=function(n){pG(t,n);function t(r,i){var o;o=n.call(this,r,i)||this;var a=i,s=a&&!a.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?s?(l=Jh,o.appearStatus=ef):l=wg:r.unmountOnExit||r.mountOnEnter?l=SS:l=Jh,o.state={status:l},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var a=i.in;return a&&o.status===SS?{status:Jh}:null};var e=t.prototype;return e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},e.componentDidUpdate=function(i){var o=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==ef&&a!==wg&&(o=ef):(a===ef||a===wg)&&(o=wI)}this.updateStatus(!1,o)},e.componentWillUnmount=function(){this.cancelNextCallback()},e.getTimeouts=function(){var i=this.props.timeout,o,a,s;return o=a=s=i,i!=null&&typeof i!="number"&&(o=i.exit,a=i.enter,s=i.appear!==void 0?i.appear:a),{exit:o,enter:a,appear:s}},e.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===ef){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:wx.findDOMNode(this);a&&T9(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Jh&&this.setState({status:SS})},e.performEnter=function(i){var o=this,a=this.props.enter,s=this.context?this.context.isMounting:i,l=this.props.nodeRef?[s]:[wx.findDOMNode(this),s],u=l[0],c=l[1],d=this.getTimeouts(),p=s?d.appear:d.enter;if(!i&&!a||z$.disabled){this.safeSetState({status:wg},function(){o.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:ef},function(){o.props.onEntering(u,c),o.onTransitionEnd(p,function(){o.safeSetState({status:wg},function(){o.props.onEntered(u,c)})})})},e.performExit=function(){var i=this,o=this.props.exit,a=this.getTimeouts(),s=this.props.nodeRef?void 0:wx.findDOMNode(this);if(!o||z$.disabled){this.safeSetState({status:Jh},function(){i.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:wI},function(){i.props.onExiting(s),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:Jh},function(){i.props.onExited(s)})})})},e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},e.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},e.setNextCallback=function(i){var o=this,a=!0;return this.nextCallback=function(s){a&&(a=!1,o.nextCallback=null,i(s))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},e.onTransitionEnd=function(i,o){this.setNextCallback(o);var a=this.props.nodeRef?this.props.nodeRef.current:wx.findDOMNode(this),s=i==null&&!this.props.addEndListener;if(!a||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},e.render=function(){var i=this.state.status;if(i===SS)return null;var o=this.props,a=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var s=ve(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return On.createElement(HO.Provider,{value:null},typeof a=="function"?a(i,s):On.cloneElement(On.Children.only(a),s))},t}(On.Component);hd.contextType=HO;hd.propTypes={};function $v(){}hd.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:$v,onEntering:$v,onEntered:$v,onExit:$v,onExiting:$v,onExited:$v};hd.UNMOUNTED=SS;hd.EXITED=Jh;hd.ENTERING=ef;hd.ENTERED=wg;hd.EXITING=wI;const c_=hd;var Zpe=function(t,e){return t&&e&&e.split(" ").forEach(function(r){return qpe(t,r)})},$A=function(t,e){return t&&e&&e.split(" ").forEach(function(r){return Xpe(t,r)})},hG=function(n){pG(t,n);function t(){for(var r,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=n.call.apply(n,[this].concat(o))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(s,l){var u=r.resolveArguments(s,l),c=u[0],d=u[1];r.removeClasses(c,"exit"),r.addClass(c,d?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(s,l)},r.onEntering=function(s,l){var u=r.resolveArguments(s,l),c=u[0],d=u[1],p=d?"appear":"enter";r.addClass(c,p,"active"),r.props.onEntering&&r.props.onEntering(s,l)},r.onEntered=function(s,l){var u=r.resolveArguments(s,l),c=u[0],d=u[1],p=d?"appear":"enter";r.removeClasses(c,p),r.addClass(c,p,"done"),r.props.onEntered&&r.props.onEntered(s,l)},r.onExit=function(s){var l=r.resolveArguments(s),u=l[0];r.removeClasses(u,"appear"),r.removeClasses(u,"enter"),r.addClass(u,"exit","base"),r.props.onExit&&r.props.onExit(s)},r.onExiting=function(s){var l=r.resolveArguments(s),u=l[0];r.addClass(u,"exit","active"),r.props.onExiting&&r.props.onExiting(s)},r.onExited=function(s){var l=r.resolveArguments(s),u=l[0];r.removeClasses(u,"exit"),r.addClass(u,"exit","done"),r.props.onExited&&r.props.onExited(s)},r.resolveArguments=function(s,l){return r.props.nodeRef?[r.props.nodeRef.current,s]:[s,l]},r.getClassNames=function(s){var l=r.props.classNames,u=typeof l=="string",c=u&&l?l+"-":"",d=u?""+c+s:l[s],p=u?d+"-active":l[s+"Active"],h=u?d+"-done":l[s+"Done"];return{baseClassName:d,activeClassName:p,doneClassName:h}},r}var e=t.prototype;return e.addClass=function(i,o,a){var s=this.getClassNames(o)[a+"ClassName"],l=this.getClassNames("enter"),u=l.doneClassName;o==="appear"&&a==="done"&&u&&(s+=" "+u),a==="active"&&i&&T9(i),s&&(this.appliedClasses[o][a]=s,Zpe(i,s))},e.removeClasses=function(i,o){var a=this.appliedClasses[o],s=a.base,l=a.active,u=a.done;this.appliedClasses[o]={},s&&$A(i,s),l&&$A(i,l),u&&$A(i,u)},e.render=function(){var i=this.props;i.classNames;var o=ve(i,["classNames"]);return On.createElement(c_,L({},o,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(On.Component);hG.defaultProps={classNames:""};hG.propTypes={};const Qpe=hG;function Qe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function fG(n,t){var e=function(o){return t&&T.isValidElement(o)?t(o):o},r=Object.create(null);return n&&T.Children.map(n,function(i){return i}).forEach(function(i){r[i.key]=e(i)}),r}function Jpe(n,t){n=n||{},t=t||{};function e(c){return c in t?t[c]:n[c]}var r=Object.create(null),i=[];for(var o in n)o in t?i.length&&(r[o]=i,i=[]):i.push(o);var a,s={};for(var l in t){if(r[l])for(a=0;a<r[l].length;a++){var u=r[l][a];s[r[l][a]]=e(u)}s[l]=e(l)}for(a=0;a<i.length;a++)s[i[a]]=e(i[a]);return s}function Rf(n,t,e){return e[t]!=null?e[t]:n.props[t]}function ehe(n,t){return fG(n.children,function(e){return T.cloneElement(e,{onExited:t.bind(null,e),in:!0,appear:Rf(e,"appear",n),enter:Rf(e,"enter",n),exit:Rf(e,"exit",n)})})}function the(n,t,e){var r=fG(n.children),i=Jpe(t,r);return Object.keys(i).forEach(function(o){var a=i[o];if(T.isValidElement(a)){var s=o in t,l=o in r,u=t[o],c=T.isValidElement(u)&&!u.props.in;l&&(!s||c)?i[o]=T.cloneElement(a,{onExited:e.bind(null,a),in:!0,exit:Rf(a,"exit",n),enter:Rf(a,"enter",n)}):!l&&s&&!c?i[o]=T.cloneElement(a,{in:!1}):l&&s&&T.isValidElement(u)&&(i[o]=T.cloneElement(a,{onExited:e.bind(null,a),in:u.props.in,exit:Rf(a,"exit",n),enter:Rf(a,"enter",n)}))}}),i}var rhe=Object.values||function(n){return Object.keys(n).map(function(t){return n[t]})},nhe={component:"div",childFactory:function(t){return t}},vG=function(n){pG(t,n);function t(r,i){var o;o=n.call(this,r,i)||this;var a=o.handleExited.bind(Qe(o));return o.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},o}var e=t.prototype;return e.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},e.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var a=o.children,s=o.handleExited,l=o.firstRender;return{children:l?ehe(i,s):the(i,a,s),firstRender:!1}},e.handleExited=function(i,o){var a=fG(this.props.children);i.key in a||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(s){var l=L({},s.children);return delete l[i.key],{children:l}}))},e.render=function(){var i=this.props,o=i.component,a=i.childFactory,s=ve(i,["component","childFactory"]),l=this.state.contextValue,u=rhe(this.state.children).map(a);return delete s.appear,delete s.enter,delete s.exit,o===null?On.createElement(HO.Provider,{value:l},u):On.createElement(HO.Provider,{value:l},On.createElement(o,s,u))},t}(On.Component);vG.propTypes={};vG.defaultProps=nhe;const gG=vG,mG=n=>n.scrollTop;function $p(n,t){var e,r;const{timeout:i,easing:o,style:a={}}=n;return{duration:(e=a.transitionDuration)!=null?e:typeof i=="number"?i:i[t.mode]||0,easing:(r=a.transitionTimingFunction)!=null?r:typeof o=="object"?o[t.mode]:o,delay:a.transitionDelay}}const ihe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],ohe={entering:{opacity:1},entered:{opacity:1}},ahe=T.forwardRef(function(t,e){const r=ma(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:s,easing:l,in:u,onEnter:c,onEntered:d,onEntering:p,onExit:h,onExited:f,onExiting:v,style:g,timeout:m=i,TransitionComponent:y=c_}=t,C=ve(t,ihe),S=T.useRef(null),w=or(S,s.ref,e),_=G=>V=>{if(G){const H=S.current;V===void 0?G(H):G(H,V)}},x=_(p),E=_((G,V)=>{mG(G);const H=$p({style:g,timeout:m,easing:l},{mode:"enter"});G.style.webkitTransition=r.transitions.create("opacity",H),G.style.transition=r.transitions.create("opacity",H),c&&c(G,V)}),R=_(d),P=_(v),A=_(G=>{const V=$p({style:g,timeout:m,easing:l},{mode:"exit"});G.style.webkitTransition=r.transitions.create("opacity",V),G.style.transition=r.transitions.create("opacity",V),h&&h(G)}),N=_(f),I=G=>{o&&o(S.current,G)};return b.jsx(y,L({appear:a,in:u,nodeRef:S,onEnter:E,onEntered:R,onEntering:x,onExit:A,onExited:N,onExiting:P,addEndListener:I,timeout:m},C,{children:(G,V)=>T.cloneElement(s,L({style:L({opacity:0,visibility:G==="exited"&&!u?"hidden":void 0},ohe[G],g,s.props.style),ref:w},V))}))}),gy=ahe;function she(n){return He("MuiBackdrop",n)}$e("MuiBackdrop",["root","invisible"]);const lhe=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],uhe=n=>{const{classes:t,invisible:e}=n;return Ge({root:["root",e&&"invisible"]},she,t)},che=le("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.invisible&&t.invisible]}})(({ownerState:n})=>L({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},n.invisible&&{backgroundColor:"transparent"})),dhe=T.forwardRef(function(t,e){var r,i,o;const a=Ve({props:t,name:"MuiBackdrop"}),{children:s,className:l,component:u="div",components:c={},componentsProps:d={},invisible:p=!1,open:h,slotProps:f={},slots:v={},TransitionComponent:g=gy,transitionDuration:m}=a,y=ve(a,lhe),C=L({},a,{component:u,invisible:p}),S=uhe(C),w=(r=f.root)!=null?r:d.root;return b.jsx(g,L({in:h,timeout:m},y,{children:b.jsx(che,L({"aria-hidden":!0},w,{as:(i=(o=v.root)!=null?o:c.Root)!=null?i:u,className:Re(S.root,l,w==null?void 0:w.className),ownerState:L({},C,w==null?void 0:w.ownerState),classes:S,ref:e,children:s}))}))}),P9=dhe;function phe(n){return He("MuiModal",n)}$e("MuiModal",["root","hidden","backdrop"]);const hhe=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],fhe=n=>{const{open:t,exited:e,classes:r}=n;return Ge({root:["root",!t&&e&&"hidden"],backdrop:["backdrop"]},phe,r)},vhe=le("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,!e.open&&e.exited&&t.hidden]}})(({theme:n,ownerState:t})=>L({position:"fixed",zIndex:(n.vars||n).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),ghe=le(P9,{name:"MuiModal",slot:"Backdrop",overridesResolver:(n,t)=>t.backdrop})({zIndex:-1}),mhe=T.forwardRef(function(t,e){var r,i,o,a,s,l;const u=Ve({name:"MuiModal",props:t}),{BackdropComponent:c=ghe,BackdropProps:d,className:p,closeAfterTransition:h=!1,children:f,container:v,component:g,components:m={},componentsProps:y={},disableAutoFocus:C=!1,disableEnforceFocus:S=!1,disableEscapeKeyDown:w=!1,disablePortal:_=!1,disableRestoreFocus:x=!1,disableScrollLock:E=!1,hideBackdrop:R=!1,keepMounted:P=!1,onBackdropClick:A,open:N,slotProps:I,slots:G}=u,V=ve(u,hhe),H=L({},u,{closeAfterTransition:h,disableAutoFocus:C,disableEnforceFocus:S,disableEscapeKeyDown:w,disablePortal:_,disableRestoreFocus:x,disableScrollLock:E,hideBackdrop:R,keepMounted:P}),{getRootProps:j,getBackdropProps:B,getTransitionProps:$,portalRef:W,isTopModal:Y,exited:Z,hasTransition:se}=Bpe(L({},H,{rootRef:e})),X=L({},H,{exited:Z}),ie=fhe(X),z={};if(f.props.tabIndex===void 0&&(z.tabIndex="-1"),se){const{onEnter:ne,onExited:xe}=$();z.onEnter=ne,z.onExited=xe}const Q=(r=(i=G==null?void 0:G.root)!=null?i:m.Root)!=null?r:vhe,ue=(o=(a=G==null?void 0:G.backdrop)!=null?a:m.Backdrop)!=null?o:c,pe=(s=I==null?void 0:I.root)!=null?s:y.root,_e=(l=I==null?void 0:I.backdrop)!=null?l:y.backdrop,oe=jr({elementType:Q,externalSlotProps:pe,externalForwardedProps:V,getSlotProps:j,additionalProps:{ref:e,as:g},ownerState:X,className:Re(p,pe==null?void 0:pe.className,ie==null?void 0:ie.root,!X.open&&X.exited&&(ie==null?void 0:ie.hidden))}),we=jr({elementType:ue,externalSlotProps:_e,additionalProps:d,getSlotProps:ne=>B(L({},ne,{onClick:xe=>{A&&A(xe),ne!=null&&ne.onClick&&ne.onClick(xe)}})),className:Re(_e==null?void 0:_e.className,d==null?void 0:d.className,ie==null?void 0:ie.backdrop),ownerState:X});return!P&&!N&&(!se||Z)?null:b.jsx(R9,{ref:W,container:v,disablePortal:_,children:b.jsxs(Q,L({},oe,{children:[!R&&c?b.jsx(ue,L({},we)):null,b.jsx(O9,{disableEnforceFocus:S,disableAutoFocus:C,disableRestoreFocus:x,isEnabled:Y,open:N,children:T.cloneElement(f,z)})]}))})}),yG=mhe;function yhe(n){return He("MuiSvgIcon",n)}$e("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Che=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],She=n=>{const{color:t,fontSize:e,classes:r}=n,i={root:["root",t!=="inherit"&&`color${Se(t)}`,`fontSize${Se(e)}`]};return Ge(i,yhe,r)},whe=le("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.color!=="inherit"&&t[`color${Se(e.color)}`],t[`fontSize${Se(e.fontSize)}`]]}})(({theme:n,ownerState:t})=>{var e,r,i,o,a,s,l,u,c,d,p,h,f;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(e=n.transitions)==null||(r=e.create)==null?void 0:r.call(e,"fill",{duration:(i=n.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=n.typography)==null||(a=o.pxToRem)==null?void 0:a.call(o,20))||"1.25rem",medium:((s=n.typography)==null||(l=s.pxToRem)==null?void 0:l.call(s,24))||"1.5rem",large:((u=n.typography)==null||(c=u.pxToRem)==null?void 0:c.call(u,35))||"2.1875rem"}[t.fontSize],color:(d=(p=(n.vars||n).palette)==null||(p=p[t.color])==null?void 0:p.main)!=null?d:{action:(h=(n.vars||n).palette)==null||(h=h.action)==null?void 0:h.active,disabled:(f=(n.vars||n).palette)==null||(f=f.action)==null?void 0:f.disabled,inherit:void 0}[t.color]}}),D9=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiSvgIcon"}),{children:i,className:o,color:a="inherit",component:s="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:d,viewBox:p="0 0 24 24"}=r,h=ve(r,Che),f=T.isValidElement(i)&&i.type==="svg",v=L({},r,{color:a,component:s,fontSize:l,instanceFontSize:t.fontSize,inheritViewBox:c,viewBox:p,hasSvgAsChild:f}),g={};c||(g.viewBox=p);const m=She(v);return b.jsxs(whe,L({as:s,className:Re(m.root,o),focusable:"false",color:u,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:e},g,h,f&&i.props,{ownerState:v,children:[f?i.props.children:i,d?b.jsx("title",{children:d}):null]}))});D9.muiName="SvgIcon";const K$=D9;function Dn(n,t){function e(r,i){return b.jsx(K$,L({"data-testid":`${t}Icon`,ref:i},r,{children:n}))}return e.muiName=K$.muiName,T.memo(T.forwardRef(e))}const _he={configure:n=>{nG.configure(n)}},xhe=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Se,createChainedFunction:GO,createSvgIcon:Dn,debounce:bP,deprecatedPropType:Dce,isMuiElement:sw,ownerDocument:vi,ownerWindow:qu,requirePropFactory:Ace,setRef:VO,unstable_ClassNameGenerator:_he,unstable_useEnhancedEffect:ti,unstable_useId:tc,unsupportedProp:Lce,useControlled:va,useEventCallback:it,useForkRef:or,useIsFocusVisible:aG},Symbol.toStringTag,{value:"Module"})),bhe=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Ehe(n,t,e){const r=t.getBoundingClientRect(),i=e&&e.getBoundingClientRect(),o=qu(t);let a;if(t.fakeTransform)a=t.fakeTransform;else{const u=o.getComputedStyle(t);a=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("transform")}let s=0,l=0;if(a&&a!=="none"&&typeof a=="string"){const u=a.split("(")[1].split(")")[0].split(",");s=parseInt(u[4],10),l=parseInt(u[5],10)}return n==="left"?i?`translateX(${i.right+s-r.left}px)`:`translateX(${o.innerWidth+s-r.left}px)`:n==="right"?i?`translateX(-${r.right-i.left-s}px)`:`translateX(-${r.left+r.width-s}px)`:n==="up"?i?`translateY(${i.bottom+l-r.top}px)`:`translateY(${o.innerHeight+l-r.top}px)`:i?`translateY(-${r.top-i.top+r.height-l}px)`:`translateY(-${r.top+r.height-l}px)`}function Ohe(n){return typeof n=="function"?n():n}function Ex(n,t,e){const r=Ohe(e),i=Ehe(n,t,r);i&&(t.style.webkitTransform=i,t.style.transform=i)}const Rhe=T.forwardRef(function(t,e){const r=ma(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:a,appear:s=!0,children:l,container:u,direction:c="down",easing:d=i,in:p,onEnter:h,onEntered:f,onEntering:v,onExit:g,onExited:m,onExiting:y,style:C,timeout:S=o,TransitionComponent:w=c_}=t,_=ve(t,bhe),x=T.useRef(null),E=or(l.ref,x,e),R=B=>$=>{B&&($===void 0?B(x.current):B(x.current,$))},P=R((B,$)=>{Ex(c,B,u),mG(B),h&&h(B,$)}),A=R((B,$)=>{const W=$p({timeout:S,style:C,easing:d},{mode:"enter"});B.style.webkitTransition=r.transitions.create("-webkit-transform",L({},W)),B.style.transition=r.transitions.create("transform",L({},W)),B.style.webkitTransform="none",B.style.transform="none",v&&v(B,$)}),N=R(f),I=R(y),G=R(B=>{const $=$p({timeout:S,style:C,easing:d},{mode:"exit"});B.style.webkitTransition=r.transitions.create("-webkit-transform",$),B.style.transition=r.transitions.create("transform",$),Ex(c,B,u),g&&g(B)}),V=R(B=>{B.style.webkitTransition="",B.style.transition="",m&&m(B)}),H=B=>{a&&a(x.current,B)},j=T.useCallback(()=>{x.current&&Ex(c,x.current,u)},[c,u]);return T.useEffect(()=>{if(p||c==="down"||c==="right")return;const B=bP(()=>{x.current&&Ex(c,x.current,u)}),$=qu(x.current);return $.addEventListener("resize",B),()=>{B.clear(),$.removeEventListener("resize",B)}},[c,p,u]),T.useEffect(()=>{p||j()},[p,j]),b.jsx(w,L({nodeRef:x,onEnter:P,onEntered:N,onEntering:A,onExit:G,onExited:V,onExiting:I,addEndListener:H,appear:s,in:p,timeout:S},_,{children:(B,$)=>T.cloneElement(l,L({ref:E,style:L({visibility:B==="exited"&&!p?"hidden":void 0},C,l.props.style)},$))}))}),The=Rhe;function Phe(n){return He("MuiPaper",n)}$e("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Dhe=["className","component","elevation","square","variant"],Ahe=n=>{const{square:t,elevation:e,variant:r,classes:i}=n,o={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${e}`]};return Ge(o,Phe,i)},Mhe=le("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,t[e.variant],!e.square&&t.rounded,e.variant==="elevation"&&t[`elevation${e.elevation}`]]}})(({theme:n,ownerState:t})=>{var e;return L({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow")},!t.square&&{borderRadius:n.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(n.vars||n).palette.divider}`},t.variant==="elevation"&&L({boxShadow:(n.vars||n).shadows[t.elevation]},!n.vars&&n.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${At("#fff",j$(t.elevation))}, ${At("#fff",j$(t.elevation))})`},n.vars&&{backgroundImage:(e=n.vars.overlays)==null?void 0:e[t.elevation]}))}),Lhe=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiPaper"}),{className:i,component:o="div",elevation:a=1,square:s=!1,variant:l="elevation"}=r,u=ve(r,Dhe),c=L({},r,{component:o,elevation:a,square:s,variant:l}),d=Ahe(c);return b.jsx(Mhe,L({as:o,ownerState:c,className:Re(d.root,i),ref:e},u))}),ah=Lhe;function Fhe(n){return He("MuiDrawer",n)}$e("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const Ihe=["BackdropProps"],Nhe=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],A9=(n,t)=>{const{ownerState:e}=n;return[t.root,(e.variant==="permanent"||e.variant==="persistent")&&t.docked,t.modal]},khe=n=>{const{classes:t,anchor:e,variant:r}=n,i={root:["root"],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${Se(e)}`,r!=="temporary"&&`paperAnchorDocked${Se(e)}`]};return Ge(i,Fhe,t)},Ghe=le(yG,{name:"MuiDrawer",slot:"Root",overridesResolver:A9})(({theme:n})=>({zIndex:(n.vars||n).zIndex.drawer})),Y$=le("div",{shouldForwardProp:mi,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:A9})({flex:"0 0 auto"}),Vhe=le(ah,{name:"MuiDrawer",slot:"Paper",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.paper,t[`paperAnchor${Se(e.anchor)}`],e.variant!=="temporary"&&t[`paperAnchorDocked${Se(e.anchor)}`]]}})(({theme:n,ownerState:t})=>L({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(n.vars||n).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},t.anchor==="left"&&{left:0},t.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},t.anchor==="right"&&{right:0},t.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},t.anchor==="left"&&t.variant!=="temporary"&&{borderRight:`1px solid ${(n.vars||n).palette.divider}`},t.anchor==="top"&&t.variant!=="temporary"&&{borderBottom:`1px solid ${(n.vars||n).palette.divider}`},t.anchor==="right"&&t.variant!=="temporary"&&{borderLeft:`1px solid ${(n.vars||n).palette.divider}`},t.anchor==="bottom"&&t.variant!=="temporary"&&{borderTop:`1px solid ${(n.vars||n).palette.divider}`})),M9={left:"right",right:"left",top:"down",bottom:"up"};function Bhe(n){return["left","right"].indexOf(n)!==-1}function jhe({direction:n},t){return n==="rtl"&&Bhe(t)?M9[t]:t}const Hhe=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiDrawer"}),i=ma(),o=sG(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:s="left",BackdropProps:l,children:u,className:c,elevation:d=16,hideBackdrop:p=!1,ModalProps:{BackdropProps:h}={},onClose:f,open:v=!1,PaperProps:g={},SlideProps:m,TransitionComponent:y=The,transitionDuration:C=a,variant:S="temporary"}=r,w=ve(r.ModalProps,Ihe),_=ve(r,Nhe),x=T.useRef(!1);T.useEffect(()=>{x.current=!0},[]);const E=jhe({direction:o?"rtl":"ltr"},s),P=L({},r,{anchor:s,elevation:d,open:v,variant:S},_),A=khe(P),N=b.jsx(Vhe,L({elevation:S==="temporary"?d:0,square:!0},g,{className:Re(A.paper,g.className),ownerState:P,children:u}));if(S==="permanent")return b.jsx(Y$,L({className:Re(A.root,A.docked,c),ownerState:P,ref:e},_,{children:N}));const I=b.jsx(y,L({in:v,direction:M9[E],timeout:C,appear:x.current},m,{children:N}));return S==="persistent"?b.jsx(Y$,L({className:Re(A.root,A.docked,c),ownerState:P,ref:e},_,{children:I})):b.jsx(Ghe,L({BackdropProps:L({},l,h,{transitionDuration:C}),className:Re(A.root,A.modal,c),open:v,ownerState:P,onClose:f,hideBackdrop:p,ref:e},_,w,{children:I}))}),$he=Hhe;function L9(n){return b.jsx(Que,L({},n,{defaultTheme:OP,themeId:nv}))}const Whe=(n,t)=>L({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!n.vars&&{colorScheme:n.palette.mode}),Uhe=n=>L({color:(n.vars||n).palette.text.primary},n.typography.body1,{backgroundColor:(n.vars||n).palette.background.default,"@media print":{backgroundColor:(n.vars||n).palette.common.white}}),zhe=(n,t=!1)=>{var e;const r={};t&&n.colorSchemes&&Object.entries(n.colorSchemes).forEach(([a,s])=>{var l;r[n.getColorSchemeSelector(a).replace(/\s*&/,"")]={colorScheme:(l=s.palette)==null?void 0:l.mode}});let i=L({html:Whe(n,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:n.typography.fontWeightBold},body:L({margin:0},Uhe(n),{"&::backdrop":{backgroundColor:(n.vars||n).palette.background.default}})},r);const o=(e=n.components)==null||(e=e.MuiCssBaseline)==null?void 0:e.styleOverrides;return o&&(i=[i,o]),i};function Khe(n){const t=Ve({props:n,name:"MuiCssBaseline"}),{children:e,enableColorScheme:r=!1}=t;return b.jsxs(T.Fragment,{children:[b.jsx(L9,{styles:i=>zhe(i,r)}),e]})}function Yhe(n){return He("MuiAppBar",n)}$e("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const qhe=["className","color","enableColorOnDark","position"],Xhe=n=>{const{color:t,position:e,classes:r}=n,i={root:["root",`color${Se(t)}`,`position${Se(e)}`]};return Ge(i,Yhe,r)},Ox=(n,t)=>n?`${n==null?void 0:n.replace(")","")}, ${t})`:t,Zhe=le(ah,{name:"MuiAppBar",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,t[`position${Se(e.position)}`],t[`color${Se(e.color)}`]]}})(({theme:n,ownerState:t})=>{const e=n.palette.mode==="light"?n.palette.grey[100]:n.palette.grey[900];return L({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},t.position==="fixed"&&{position:"fixed",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},t.position==="absolute"&&{position:"absolute",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0},t.position==="sticky"&&{position:"sticky",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0},t.position==="static"&&{position:"static"},t.position==="relative"&&{position:"relative"},!n.vars&&L({},t.color==="default"&&{backgroundColor:e,color:n.palette.getContrastText(e)},t.color&&t.color!=="default"&&t.color!=="inherit"&&t.color!=="transparent"&&{backgroundColor:n.palette[t.color].main,color:n.palette[t.color].contrastText},t.color==="inherit"&&{color:"inherit"},n.palette.mode==="dark"&&!t.enableColorOnDark&&{backgroundColor:null,color:null},t.color==="transparent"&&L({backgroundColor:"transparent",color:"inherit"},n.palette.mode==="dark"&&{backgroundImage:"none"})),n.vars&&L({},t.color==="default"&&{"--AppBar-background":t.enableColorOnDark?n.vars.palette.AppBar.defaultBg:Ox(n.vars.palette.AppBar.darkBg,n.vars.palette.AppBar.defaultBg),"--AppBar-color":t.enableColorOnDark?n.vars.palette.text.primary:Ox(n.vars.palette.AppBar.darkColor,n.vars.palette.text.primary)},t.color&&!t.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":t.enableColorOnDark?n.vars.palette[t.color].main:Ox(n.vars.palette.AppBar.darkBg,n.vars.palette[t.color].main),"--AppBar-color":t.enableColorOnDark?n.vars.palette[t.color].contrastText:Ox(n.vars.palette.AppBar.darkColor,n.vars.palette[t.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:t.color==="inherit"?"inherit":"var(--AppBar-color)"},t.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),Qhe=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:a=!1,position:s="fixed"}=r,l=ve(r,qhe),u=L({},r,{color:o,position:s,enableColorOnDark:a}),c=Xhe(u);return b.jsx(Zhe,L({square:!0,component:"header",ownerState:u,elevation:4,className:Re(c.root,i,s==="fixed"&&"mui-fixed"),ref:e},l))}),Jhe=Qhe;function efe(n){return He("MuiToolbar",n)}$e("MuiToolbar",["root","gutters","regular","dense"]);const tfe=["className","component","disableGutters","variant"],rfe=n=>{const{classes:t,disableGutters:e,variant:r}=n;return Ge({root:["root",!e&&"gutters",r]},efe,t)},nfe=le("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,!e.disableGutters&&t.gutters,t[e.variant]]}})(({theme:n,ownerState:t})=>L({position:"relative",display:"flex",alignItems:"center"},!t.disableGutters&&{paddingLeft:n.spacing(2),paddingRight:n.spacing(2),[n.breakpoints.up("sm")]:{paddingLeft:n.spacing(3),paddingRight:n.spacing(3)}},t.variant==="dense"&&{minHeight:48}),({theme:n,ownerState:t})=>t.variant==="regular"&&n.mixins.toolbar),ife=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:a=!1,variant:s="regular"}=r,l=ve(r,tfe),u=L({},r,{component:o,disableGutters:a,variant:s}),c=rfe(u);return b.jsx(nfe,L({as:o,className:Re(c.root,i),ref:e,ownerState:u},l))}),ofe=ife,afe=T.createContext({}),ks=afe;function sfe(n){return He("MuiList",n)}$e("MuiList",["root","padding","dense","subheader"]);const lfe=["children","className","component","dense","disablePadding","subheader"],ufe=n=>{const{classes:t,disablePadding:e,dense:r,subheader:i}=n;return Ge({root:["root",!e&&"padding",r&&"dense",i&&"subheader"]},sfe,t)},cfe=le("ul",{name:"MuiList",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,!e.disablePadding&&t.padding,e.dense&&t.dense,e.subheader&&t.subheader]}})(({ownerState:n})=>L({listStyle:"none",margin:0,padding:0,position:"relative"},!n.disablePadding&&{paddingTop:8,paddingBottom:8},n.subheader&&{paddingTop:0})),dfe=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiList"}),{children:i,className:o,component:a="ul",dense:s=!1,disablePadding:l=!1,subheader:u}=r,c=ve(r,lfe),d=T.useMemo(()=>({dense:s}),[s]),p=L({},r,{component:a,dense:s,disablePadding:l}),h=ufe(p);return b.jsx(ks.Provider,{value:d,children:b.jsxs(cfe,L({as:a,className:Re(h.root,o),ref:e,ownerState:p},c,{children:[u,i]}))})}),my=dfe;function pfe(n){return He("MuiTypography",n)}$e("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const hfe=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],ffe=n=>{const{align:t,gutterBottom:e,noWrap:r,paragraph:i,variant:o,classes:a}=n,s={root:["root",o,n.align!=="inherit"&&`align${Se(t)}`,e&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Ge(s,pfe,a)},vfe=le("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.variant&&t[e.variant],e.align!=="inherit"&&t[`align${Se(e.align)}`],e.noWrap&&t.noWrap,e.gutterBottom&&t.gutterBottom,e.paragraph&&t.paragraph]}})(({theme:n,ownerState:t})=>L({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&n.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),q$={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},gfe={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},mfe=n=>gfe[n]||n,yfe=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiTypography"}),i=mfe(r.color),o=s_(L({},r,{color:i})),{align:a="inherit",className:s,component:l,gutterBottom:u=!1,noWrap:c=!1,paragraph:d=!1,variant:p="body1",variantMapping:h=q$}=o,f=ve(o,hfe),v=L({},o,{align:a,color:i,className:s,component:l,gutterBottom:u,noWrap:c,paragraph:d,variant:p,variantMapping:h}),g=l||(d?"p":h[p]||q$[p])||"span",m=ffe(v);return b.jsx(vfe,L({as:g,ref:e,ownerState:v,className:Re(m.root,s)},f))}),Pr=yfe;function Cfe(n){return He("MuiDivider",n)}const Sfe=$e("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),X$=Sfe,wfe=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],_fe=n=>{const{absolute:t,children:e,classes:r,flexItem:i,light:o,orientation:a,textAlign:s,variant:l}=n;return Ge({root:["root",t&&"absolute",l,o&&"light",a==="vertical"&&"vertical",i&&"flexItem",e&&"withChildren",e&&a==="vertical"&&"withChildrenVertical",s==="right"&&a!=="vertical"&&"textAlignRight",s==="left"&&a!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",a==="vertical"&&"wrapperVertical"]},Cfe,r)},xfe=le("div",{name:"MuiDivider",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.absolute&&t.absolute,t[e.variant],e.light&&t.light,e.orientation==="vertical"&&t.vertical,e.flexItem&&t.flexItem,e.children&&t.withChildren,e.children&&e.orientation==="vertical"&&t.withChildrenVertical,e.textAlign==="right"&&e.orientation!=="vertical"&&t.textAlignRight,e.textAlign==="left"&&e.orientation!=="vertical"&&t.textAlignLeft]}})(({theme:n,ownerState:t})=>L({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(n.vars||n).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:n.vars?`rgba(${n.vars.palette.dividerChannel} / 0.08)`:At(n.palette.divider,.08)},t.variant==="inset"&&{marginLeft:72},t.variant==="middle"&&t.orientation==="horizontal"&&{marginLeft:n.spacing(2),marginRight:n.spacing(2)},t.variant==="middle"&&t.orientation==="vertical"&&{marginTop:n.spacing(1),marginBottom:n.spacing(1)},t.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:n})=>L({},n.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:n,ownerState:t})=>L({},t.children&&t.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(n.vars||n).palette.divider}`}}),({theme:n,ownerState:t})=>L({},t.children&&t.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(n.vars||n).palette.divider}`}}),({ownerState:n})=>L({},n.textAlign==="right"&&n.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},n.textAlign==="left"&&n.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),bfe=le("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.wrapper,e.orientation==="vertical"&&t.wrapperVertical]}})(({theme:n,ownerState:t})=>L({display:"inline-block",paddingLeft:`calc(${n.spacing(1)} * 1.2)`,paddingRight:`calc(${n.spacing(1)} * 1.2)`},t.orientation==="vertical"&&{paddingTop:`calc(${n.spacing(1)} * 1.2)`,paddingBottom:`calc(${n.spacing(1)} * 1.2)`})),F9=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiDivider"}),{absolute:i=!1,children:o,className:a,component:s=o?"div":"hr",flexItem:l=!1,light:u=!1,orientation:c="horizontal",role:d=s!=="hr"?"separator":void 0,textAlign:p="center",variant:h="fullWidth"}=r,f=ve(r,wfe),v=L({},r,{absolute:i,component:s,flexItem:l,light:u,orientation:c,role:d,textAlign:p,variant:h}),g=_fe(v);return b.jsx(xfe,L({as:s,className:Re(g.root,a),role:d,ref:e,ownerState:v},f,{children:o?b.jsx(bfe,{className:g.wrapper,ownerState:v,children:o}):null}))});F9.muiSkipListHighlight=!0;const Efe=F9;function Ofe(n){const{className:t,classes:e,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:a,in:s,onExited:l,timeout:u}=n,[c,d]=T.useState(!1),p=Re(t,e.ripple,e.rippleVisible,r&&e.ripplePulsate),h={width:a,height:a,top:-(a/2)+o,left:-(a/2)+i},f=Re(e.child,c&&e.childLeaving,r&&e.childPulsate);return!s&&!c&&d(!0),T.useEffect(()=>{if(!s&&l!=null){const v=setTimeout(l,u);return()=>{clearTimeout(v)}}},[l,s,u]),b.jsx("span",{className:p,style:h,children:b.jsx("span",{className:f})})}const Rfe=$e("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Es=Rfe,Tfe=["center","classes","className"];let TP=n=>n,Z$,Q$,J$,eW;const _I=550,Pfe=80,Dfe=py(Z$||(Z$=TP`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Afe=py(Q$||(Q$=TP`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Mfe=py(J$||(J$=TP`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Lfe=le("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Ffe=le(Ofe,{name:"MuiTouchRipple",slot:"Ripple"})(eW||(eW=TP`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Es.rippleVisible,Dfe,_I,({theme:n})=>n.transitions.easing.easeInOut,Es.ripplePulsate,({theme:n})=>n.transitions.duration.shorter,Es.child,Es.childLeaving,Afe,_I,({theme:n})=>n.transitions.easing.easeInOut,Es.childPulsate,Mfe,({theme:n})=>n.transitions.easing.easeInOut),Ife=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:a}=r,s=ve(r,Tfe),[l,u]=T.useState([]),c=T.useRef(0),d=T.useRef(null);T.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const p=T.useRef(!1),h=Of(),f=T.useRef(null),v=T.useRef(null),g=T.useCallback(S=>{const{pulsate:w,rippleX:_,rippleY:x,rippleSize:E,cb:R}=S;u(P=>[...P,b.jsx(Ffe,{classes:{ripple:Re(o.ripple,Es.ripple),rippleVisible:Re(o.rippleVisible,Es.rippleVisible),ripplePulsate:Re(o.ripplePulsate,Es.ripplePulsate),child:Re(o.child,Es.child),childLeaving:Re(o.childLeaving,Es.childLeaving),childPulsate:Re(o.childPulsate,Es.childPulsate)},timeout:_I,pulsate:w,rippleX:_,rippleY:x,rippleSize:E},c.current)]),c.current+=1,d.current=R},[o]),m=T.useCallback((S={},w={},_=()=>{})=>{const{pulsate:x=!1,center:E=i||w.pulsate,fakeElement:R=!1}=w;if((S==null?void 0:S.type)==="mousedown"&&p.current){p.current=!1;return}(S==null?void 0:S.type)==="touchstart"&&(p.current=!0);const P=R?null:v.current,A=P?P.getBoundingClientRect():{width:0,height:0,left:0,top:0};let N,I,G;if(E||S===void 0||S.clientX===0&&S.clientY===0||!S.clientX&&!S.touches)N=Math.round(A.width/2),I=Math.round(A.height/2);else{const{clientX:V,clientY:H}=S.touches&&S.touches.length>0?S.touches[0]:S;N=Math.round(V-A.left),I=Math.round(H-A.top)}if(E)G=Math.sqrt((2*A.width**2+A.height**2)/3),G%2===0&&(G+=1);else{const V=Math.max(Math.abs((P?P.clientWidth:0)-N),N)*2+2,H=Math.max(Math.abs((P?P.clientHeight:0)-I),I)*2+2;G=Math.sqrt(V**2+H**2)}S!=null&&S.touches?f.current===null&&(f.current=()=>{g({pulsate:x,rippleX:N,rippleY:I,rippleSize:G,cb:_})},h.start(Pfe,()=>{f.current&&(f.current(),f.current=null)})):g({pulsate:x,rippleX:N,rippleY:I,rippleSize:G,cb:_})},[i,g,h]),y=T.useCallback(()=>{m({},{pulsate:!0})},[m]),C=T.useCallback((S,w)=>{if(h.clear(),(S==null?void 0:S.type)==="touchend"&&f.current){f.current(),f.current=null,h.start(0,()=>{C(S,w)});return}f.current=null,u(_=>_.length>0?_.slice(1):_),d.current=w},[h]);return T.useImperativeHandle(e,()=>({pulsate:y,start:m,stop:C}),[y,m,C]),b.jsx(Lfe,L({className:Re(Es.root,o.root,a),ref:v},s,{children:b.jsx(gG,{component:null,exit:!0,children:l})}))}),Nfe=Ife;function kfe(n){return He("MuiButtonBase",n)}const Gfe=$e("MuiButtonBase",["root","disabled","focusVisible"]),Vfe=Gfe,Bfe=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],jfe=n=>{const{disabled:t,focusVisible:e,focusVisibleClassName:r,classes:i}=n,a=Ge({root:["root",t&&"disabled",e&&"focusVisible"]},kfe,i);return e&&r&&(a.root+=` ${r}`),a},Hfe=le("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(n,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Vfe.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),$fe=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:a,className:s,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:d=!1,focusRipple:p=!1,LinkComponent:h="a",onBlur:f,onClick:v,onContextMenu:g,onDragLeave:m,onFocus:y,onFocusVisible:C,onKeyDown:S,onKeyUp:w,onMouseDown:_,onMouseLeave:x,onMouseUp:E,onTouchEnd:R,onTouchMove:P,onTouchStart:A,tabIndex:N=0,TouchRippleProps:I,touchRippleRef:G,type:V}=r,H=ve(r,Bfe),j=T.useRef(null),B=T.useRef(null),$=or(B,G),{isFocusVisibleRef:W,onFocus:Y,onBlur:Z,ref:se}=aG(),[X,ie]=T.useState(!1);u&&X&&ie(!1),T.useImperativeHandle(i,()=>({focusVisible:()=>{ie(!0),j.current.focus()}}),[]);const[z,Q]=T.useState(!1);T.useEffect(()=>{Q(!0)},[]);const ue=z&&!c&&!u;T.useEffect(()=>{X&&p&&!c&&z&&B.current.pulsate()},[c,p,X,z]);function pe(We,dt,ur=d){return it(Ir=>(dt&&dt(Ir),!ur&&B.current&&B.current[We](Ir),!0))}const _e=pe("start",_),oe=pe("stop",g),we=pe("stop",m),ne=pe("stop",E),xe=pe("stop",We=>{X&&We.preventDefault(),x&&x(We)}),Pe=pe("start",A),ze=pe("stop",R),ht=pe("stop",P),Ae=pe("stop",We=>{Z(We),W.current===!1&&ie(!1),f&&f(We)},!1),Ke=it(We=>{j.current||(j.current=We.currentTarget),Y(We),W.current===!0&&(ie(!0),C&&C(We)),y&&y(We)}),he=()=>{const We=j.current;return l&&l!=="button"&&!(We.tagName==="A"&&We.href)},Ee=T.useRef(!1),Be=it(We=>{p&&!Ee.current&&X&&B.current&&We.key===" "&&(Ee.current=!0,B.current.stop(We,()=>{B.current.start(We)})),We.target===We.currentTarget&&he()&&We.key===" "&&We.preventDefault(),S&&S(We),We.target===We.currentTarget&&he()&&We.key==="Enter"&&!u&&(We.preventDefault(),v&&v(We))}),tt=it(We=>{p&&We.key===" "&&B.current&&X&&!We.defaultPrevented&&(Ee.current=!1,B.current.stop(We,()=>{B.current.pulsate(We)})),w&&w(We),v&&We.target===We.currentTarget&&he()&&We.key===" "&&!We.defaultPrevented&&v(We)});let Ie=l;Ie==="button"&&(H.href||H.to)&&(Ie=h);const rt={};Ie==="button"?(rt.type=V===void 0?"button":V,rt.disabled=u):(!H.href&&!H.to&&(rt.role="button"),u&&(rt["aria-disabled"]=u));const mt=or(e,se,j),ft=L({},r,{centerRipple:o,component:l,disabled:u,disableRipple:c,disableTouchRipple:d,focusRipple:p,tabIndex:N,focusVisible:X}),yt=jfe(ft);return b.jsxs(Hfe,L({as:Ie,className:Re(yt.root,s),ownerState:ft,onBlur:Ae,onClick:v,onContextMenu:oe,onFocus:Ke,onKeyDown:Be,onKeyUp:tt,onMouseDown:_e,onMouseLeave:xe,onMouseUp:ne,onDragLeave:we,onTouchEnd:ze,onTouchMove:ht,onTouchStart:Pe,ref:mt,tabIndex:u?-1:N,type:V},rt,H,{children:[a,ue?b.jsx(Nfe,L({ref:$,center:o},I)):null]}))}),Jc=$fe;function Wfe(n){return He("MuiIconButton",n)}const Ufe=$e("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),zfe=Ufe,Kfe=["edge","children","className","color","disabled","disableFocusRipple","size"],Yfe=n=>{const{classes:t,disabled:e,color:r,edge:i,size:o}=n,a={root:["root",e&&"disabled",r!=="default"&&`color${Se(r)}`,i&&`edge${Se(i)}`,`size${Se(o)}`]};return Ge(a,Wfe,t)},qfe=le(Jc,{name:"MuiIconButton",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.color!=="default"&&t[`color${Se(e.color)}`],e.edge&&t[`edge${Se(e.edge)}`],t[`size${Se(e.size)}`]]}})(({theme:n,ownerState:t})=>L({textAlign:"center",flex:"0 0 auto",fontSize:n.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(n.vars||n).palette.action.active,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:At(n.palette.action.active,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:n,ownerState:t})=>{var e;const r=(e=(n.vars||n).palette)==null?void 0:e[t.color];return L({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&L({color:r==null?void 0:r.main},!t.disableRipple&&{"&:hover":L({},r&&{backgroundColor:n.vars?`rgba(${r.mainChannel} / ${n.vars.palette.action.hoverOpacity})`:At(r.main,n.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:n.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:n.typography.pxToRem(28)},{[`&.${zfe.disabled}`]:{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled}})}),Xfe=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiIconButton"}),{edge:i=!1,children:o,className:a,color:s="default",disabled:l=!1,disableFocusRipple:u=!1,size:c="medium"}=r,d=ve(r,Kfe),p=L({},r,{edge:i,color:s,disabled:l,disableFocusRipple:u,size:c}),h=Yfe(p);return b.jsx(qfe,L({className:Re(h.root,a),centerRipple:!0,focusRipple:!u,disabled:l,ref:e},d,{ownerState:p,children:o}))}),Dl=Xfe;var CG={},WA={};const Zfe=Nl(xhe);var tW;function Ao(){return tW||(tW=1,function(n){"use client";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=Zfe}(WA)),WA}var Qfe=Ki;Object.defineProperty(CG,"__esModule",{value:!0});var I9=CG.default=void 0,Jfe=Qfe(Ao()),eve=b;I9=CG.default=(0,Jfe.default)((0,eve.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu");var SG={},tve=Ki;Object.defineProperty(SG,"__esModule",{value:!0});var N9=SG.default=void 0,rve=tve(Ao()),nve=b;N9=SG.default=(0,rve.default)((0,nve.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft");var wG={},ive=Ki;Object.defineProperty(wG,"__esModule",{value:!0});var k9=wG.default=void 0,ove=ive(Ao()),ave=b;k9=wG.default=(0,ove.default)((0,ave.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");function sve(n){return He("MuiListItem",n)}const lve=$e("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),_g=lve;function uve(n){return He("MuiListItemButton",n)}const cve=$e("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),xg=cve,dve=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],pve=(n,t)=>{const{ownerState:e}=n;return[t.root,e.dense&&t.dense,e.alignItems==="flex-start"&&t.alignItemsFlexStart,e.divider&&t.divider,!e.disableGutters&&t.gutters]},hve=n=>{const{alignItems:t,classes:e,dense:r,disabled:i,disableGutters:o,divider:a,selected:s}=n,u=Ge({root:["root",r&&"dense",!o&&"gutters",a&&"divider",i&&"disabled",t==="flex-start"&&"alignItemsFlexStart",s&&"selected"]},uve,e);return L({},e,u)},fve=le(Jc,{shouldForwardProp:n=>mi(n)||n==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:pve})(({theme:n,ownerState:t})=>L({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${xg.selected}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:At(n.palette.primary.main,n.palette.action.selectedOpacity),[`&.${xg.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:At(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}},[`&.${xg.selected}:hover`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:At(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:At(n.palette.primary.main,n.palette.action.selectedOpacity)}},[`&.${xg.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`&.${xg.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity}},t.divider&&{borderBottom:`1px solid ${(n.vars||n).palette.divider}`,backgroundClip:"padding-box"},t.alignItems==="flex-start"&&{alignItems:"flex-start"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.dense&&{paddingTop:4,paddingBottom:4})),vve=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:o=!1,component:a="div",children:s,dense:l=!1,disableGutters:u=!1,divider:c=!1,focusVisibleClassName:d,selected:p=!1,className:h}=r,f=ve(r,dve),v=T.useContext(ks),g=T.useMemo(()=>({dense:l||v.dense||!1,alignItems:i,disableGutters:u}),[i,v.dense,l,u]),m=T.useRef(null);ti(()=>{o&&m.current&&m.current.focus()},[o]);const y=L({},r,{alignItems:i,dense:g.dense,disableGutters:u,divider:c,selected:p}),C=hve(y),S=or(m,e);return b.jsx(ks.Provider,{value:g,children:b.jsx(fve,L({ref:S,href:f.href||f.to,component:(f.href||f.to)&&a==="div"?"button":a,focusVisibleClassName:Re(C.focusVisible,d),ownerState:y,className:Re(C.root,h)},f,{classes:C,children:s}))})}),G9=vve;function gve(n){return He("MuiListItemSecondaryAction",n)}$e("MuiListItemSecondaryAction",["root","disableGutters"]);const mve=["className"],yve=n=>{const{disableGutters:t,classes:e}=n;return Ge({root:["root",t&&"disableGutters"]},gve,e)},Cve=le("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.disableGutters&&t.disableGutters]}})(({ownerState:n})=>L({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},n.disableGutters&&{right:0})),V9=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiListItemSecondaryAction"}),{className:i}=r,o=ve(r,mve),a=T.useContext(ks),s=L({},r,{disableGutters:a.disableGutters}),l=yve(s);return b.jsx(Cve,L({className:Re(l.root,i),ownerState:s,ref:e},o))});V9.muiName="ListItemSecondaryAction";const Sve=V9,wve=["className"],_ve=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],xve=(n,t)=>{const{ownerState:e}=n;return[t.root,e.dense&&t.dense,e.alignItems==="flex-start"&&t.alignItemsFlexStart,e.divider&&t.divider,!e.disableGutters&&t.gutters,!e.disablePadding&&t.padding,e.button&&t.button,e.hasSecondaryAction&&t.secondaryAction]},bve=n=>{const{alignItems:t,button:e,classes:r,dense:i,disabled:o,disableGutters:a,disablePadding:s,divider:l,hasSecondaryAction:u,selected:c}=n;return Ge({root:["root",i&&"dense",!a&&"gutters",!s&&"padding",l&&"divider",o&&"disabled",e&&"button",t==="flex-start"&&"alignItemsFlexStart",u&&"secondaryAction",c&&"selected"],container:["container"]},sve,r)},Eve=le("div",{name:"MuiListItem",slot:"Root",overridesResolver:xve})(({theme:n,ownerState:t})=>L({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&L({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${xg.root}`]:{paddingRight:48}},{[`&.${_g.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`&.${_g.selected}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:At(n.palette.primary.main,n.palette.action.selectedOpacity),[`&.${_g.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:At(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}},[`&.${_g.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity}},t.alignItems==="flex-start"&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(n.vars||n).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${_g.selected}:hover`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:At(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:At(n.palette.primary.main,n.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),Ove=le("li",{name:"MuiListItem",slot:"Container",overridesResolver:(n,t)=>t.container})({position:"relative"}),Rve=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiListItem"}),{alignItems:i="center",autoFocus:o=!1,button:a=!1,children:s,className:l,component:u,components:c={},componentsProps:d={},ContainerComponent:p="li",ContainerProps:{className:h}={},dense:f=!1,disabled:v=!1,disableGutters:g=!1,disablePadding:m=!1,divider:y=!1,focusVisibleClassName:C,secondaryAction:S,selected:w=!1,slotProps:_={},slots:x={}}=r,E=ve(r.ContainerProps,wve),R=ve(r,_ve),P=T.useContext(ks),A=T.useMemo(()=>({dense:f||P.dense||!1,alignItems:i,disableGutters:g}),[i,P.dense,f,g]),N=T.useRef(null);ti(()=>{o&&N.current&&N.current.focus()},[o]);const I=T.Children.toArray(s),G=I.length&&sw(I[I.length-1],["ListItemSecondaryAction"]),V=L({},r,{alignItems:i,autoFocus:o,button:a,dense:A.dense,disabled:v,disableGutters:g,disablePadding:m,divider:y,hasSecondaryAction:G,selected:w}),H=bve(V),j=or(N,e),B=x.root||c.Root||Eve,$=_.root||d.root||{},W=L({className:Re(H.root,$.className,l),disabled:v},R);let Y=u||"li";return a&&(W.component=u||"div",W.focusVisibleClassName=Re(_g.focusVisible,C),Y=Jc),G?(Y=!W.component&&!u?"div":Y,p==="li"&&(Y==="li"?Y="div":W.component==="li"&&(W.component="div")),b.jsx(ks.Provider,{value:A,children:b.jsxs(Ove,L({as:p,className:Re(H.container,h),ref:j,ownerState:V},E,{children:[b.jsx(B,L({},$,!Hm(B)&&{as:Y,ownerState:L({},V,$.ownerState)},W,{children:I})),I.pop()]}))})):b.jsx(ks.Provider,{value:A,children:b.jsxs(B,L({},$,{as:Y,ref:j},!Hm(B)&&{ownerState:L({},V,$.ownerState)},W,{children:[I,S&&b.jsx(Sve,{children:S})]}))})}),d_=Rve;function Tve(n){return He("MuiListItemIcon",n)}const Pve=$e("MuiListItemIcon",["root","alignItemsFlexStart"]),rW=Pve,Dve=["className"],Ave=n=>{const{alignItems:t,classes:e}=n;return Ge({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},Tve,e)},Mve=le("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(({theme:n,ownerState:t})=>L({minWidth:56,color:(n.vars||n).palette.action.active,flexShrink:0,display:"inline-flex"},t.alignItems==="flex-start"&&{marginTop:8})),Lve=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiListItemIcon"}),{className:i}=r,o=ve(r,Dve),a=T.useContext(ks),s=L({},r,{alignItems:a.alignItems}),l=Ave(s);return b.jsx(Mve,L({className:Re(l.root,i),ownerState:s,ref:e},o))}),Fve=Lve;function Ive(n){return He("MuiListItemText",n)}const Nve=$e("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),$O=Nve,kve=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],Gve=n=>{const{classes:t,inset:e,primary:r,secondary:i,dense:o}=n;return Ge({root:["root",e&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},Ive,t)},Vve=le("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[{[`& .${$O.primary}`]:t.primary},{[`& .${$O.secondary}`]:t.secondary},t.root,e.inset&&t.inset,e.primary&&e.secondary&&t.multiline,e.dense&&t.dense]}})(({ownerState:n})=>L({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},n.primary&&n.secondary&&{marginTop:6,marginBottom:6},n.inset&&{paddingLeft:56})),Bve=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiListItemText"}),{children:i,className:o,disableTypography:a=!1,inset:s=!1,primary:l,primaryTypographyProps:u,secondary:c,secondaryTypographyProps:d}=r,p=ve(r,kve),{dense:h}=T.useContext(ks);let f=l??i,v=c;const g=L({},r,{disableTypography:a,inset:s,primary:!!f,secondary:!!v,dense:h}),m=Gve(g);return f!=null&&f.type!==Pr&&!a&&(f=b.jsx(Pr,L({variant:h?"body2":"body1",className:m.primary,component:u!=null&&u.variant?void 0:"span",display:"block"},u,{children:f}))),v!=null&&v.type!==Pr&&!a&&(v=b.jsx(Pr,L({variant:"body2",className:m.secondary,color:"text.secondary",display:"block"},d,{children:v}))),b.jsxs(Vve,L({className:Re(m.root,o),ownerState:g,ref:e},p,{children:[f,v]}))}),_G=Bve;var xG={},jve=Ki;Object.defineProperty(xG,"__esModule",{value:!0});var DE=xG.default=void 0,Hve=jve(Ao()),$ve=b;DE=xG.default=(0,Hve.default)((0,$ve.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");var bG={},Wve=Ki;Object.defineProperty(bG,"__esModule",{value:!0});var B9=bG.default=void 0,Uve=Wve(Ao()),zve=b;B9=bG.default=(0,Uve.default)((0,zve.jsx)("path",{d:"M10 1c0 1.66-1.34 3-3 3-.55 0-1 .45-1 1H4c0-1.66 1.34-3 3-3 .55 0 1-.45 1-1zm2 2L6 7.58V6H4v3.11L1 11.4l1.21 1.59L4 11.62V21h16v-9.38l1.79 1.36L23 11.4zm1.94 4h-3.89L12 5.52zm-6.5 2h9.12L18 10.1v.9H6v-.9zM18 13v2H6v-2zM6 19v-2h12v2z"}),"Cabin");var EG={},Kve=Ki;Object.defineProperty(EG,"__esModule",{value:!0});var xI=EG.default=void 0,Yve=Kve(Ao()),qve=b;xI=EG.default=(0,Yve.default)((0,qve.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People");var OG={},Xve=Ki;Object.defineProperty(OG,"__esModule",{value:!0});var j9=OG.default=void 0,Zve=Xve(Ao()),Qve=b;j9=OG.default=(0,Zve.default)((0,Qve.jsx)("path",{d:"M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91M4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58C.48 14.9 0 15.62 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29M20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m4 3.43c0-.81-.48-1.53-1.22-1.85-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3"}),"Groups");var RG={},Jve=Ki;Object.defineProperty(RG,"__esModule",{value:!0});var H9=RG.default=void 0,ege=Jve(Ao()),tge=b;H9=RG.default=(0,ege.default)((0,tge.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings");var TG={},rge=Ki;Object.defineProperty(TG,"__esModule",{value:!0});var $9=TG.default=void 0,nge=rge(Ao()),ige=b;$9=TG.default=(0,nge.default)((0,ige.jsx)("path",{d:"M3 17v2h6v-2zM3 5v2h10V5zm10 16v-2h8v-2h-8v-2h-2v6zM7 9v2H3v2h4v2h2V9zm14 4v-2H11v2zm-6-4h2V7h4V5h-4V3h-2z"}),"Tune");var W9={exports:{}},U9={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m=T;function oge(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var age=typeof Object.is=="function"?Object.is:oge,sge=$m.useState,lge=$m.useEffect,uge=$m.useLayoutEffect,cge=$m.useDebugValue;function dge(n,t){var e=t(),r=sge({inst:{value:e,getSnapshot:t}}),i=r[0].inst,o=r[1];return uge(function(){i.value=e,i.getSnapshot=t,UA(i)&&o({inst:i})},[n,e,t]),lge(function(){return UA(i)&&o({inst:i}),n(function(){UA(i)&&o({inst:i})})},[n]),cge(e),e}function UA(n){var t=n.getSnapshot;n=n.value;try{var e=t();return!age(n,e)}catch{return!0}}function pge(n,t){return t()}var hge=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?pge:dge;U9.useSyncExternalStore=$m.useSyncExternalStore!==void 0?$m.useSyncExternalStore:hge;W9.exports=U9;var fge=W9.exports,z9={exports:{}},K9={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PP=T,vge=fge;function gge(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var mge=typeof Object.is=="function"?Object.is:gge,yge=vge.useSyncExternalStore,Cge=PP.useRef,Sge=PP.useEffect,wge=PP.useMemo,_ge=PP.useDebugValue;K9.useSyncExternalStoreWithSelector=function(n,t,e,r,i){var o=Cge(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=wge(function(){function l(h){if(!u){if(u=!0,c=h,h=r(h),i!==void 0&&a.hasValue){var f=a.value;if(i(f,h))return d=f}return d=h}if(f=d,mge(c,h))return f;var v=r(h);return i!==void 0&&i(f,v)?f:(c=h,d=v)}var u=!1,c,d,p=e===void 0?null:e;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,e,r,i]);var s=yge(n,o[0],o[1]);return Sge(function(){a.hasValue=!0,a.value=s},[s]),_ge(s),s};z9.exports=K9;var xge=z9.exports;function bge(n){n()}let Y9=bge;const Ege=n=>Y9=n,Oge=()=>Y9,nW=Symbol.for("react-redux-context"),iW=typeof globalThis<"u"?globalThis:{};function Rge(){var n;if(!T.createContext)return{};const t=(n=iW[nW])!=null?n:iW[nW]=new Map;let e=t.get(T.createContext);return e||(e=T.createContext(null),t.set(T.createContext,e)),e}const Wp=Rge();function PG(n=Wp){return function(){return T.useContext(n)}}const q9=PG(),Tge=()=>{throw new Error("uSES not initialized!")};let X9=Tge;const Pge=n=>{X9=n},Dge=(n,t)=>n===t;function Age(n=Wp){const t=n===Wp?q9:PG(n);return function(r,i={}){const{equalityFn:o=Dge,stabilityCheck:a=void 0,noopCheck:s=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:l,subscription:u,getServerState:c,stabilityCheck:d,noopCheck:p}=t();T.useRef(!0);const h=T.useCallback({[r.name](v){return r(v)}}[r.name],[r,d,a]),f=X9(u.addNestedSub,l.getState,c||l.getState,h,o);return T.useDebugValue(f),f}}const Mge=Age();function Lge(){const n=Oge();let t=null,e=null;return{clear(){t=null,e=null},notify(){n(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,o=e={callback:r,next:null,prev:e};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}const oW={notify(){},get:()=>[]};function Fge(n,t){let e,r=oW,i=0,o=!1;function a(v){c();const g=r.subscribe(v);let m=!1;return()=>{m||(m=!0,g(),d())}}function s(){r.notify()}function l(){f.onStateChange&&f.onStateChange()}function u(){return o}function c(){i++,e||(e=t?t.addNestedSub(l):n.subscribe(l),r=Lge())}function d(){i--,e&&i===0&&(e(),e=void 0,r.clear(),r=oW)}function p(){o||(o=!0,c())}function h(){o&&(o=!1,d())}const f={addNestedSub:a,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:u,trySubscribe:p,tryUnsubscribe:h,getListeners:()=>r};return f}const Ige=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Nge=Ige?T.useLayoutEffect:T.useEffect;function kge({store:n,context:t,children:e,serverState:r,stabilityCheck:i="once",noopCheck:o="once"}){const a=T.useMemo(()=>{const u=Fge(n);return{store:n,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:o}},[n,r,i,o]),s=T.useMemo(()=>n.getState(),[n]);Nge(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==n.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,s]);const l=t||Wp;return T.createElement(l.Provider,{value:a},e)}function Z9(n=Wp){const t=n===Wp?q9:PG(n);return function(){const{store:r}=t();return r}}const Gge=Z9();function Vge(n=Wp){const t=n===Wp?Gge:Z9(n);return function(){return t().dispatch}}const Bge=Vge();Pge(xge.useSyncExternalStoreWithSelector);Ege(Sv.unstable_batchedUpdates);const ya=()=>Bge(),Bg=Mge,Q9="@@router/CALL_HISTORY_METHOD",J9="@@router/LOCATION_CHANGE",zA=(n,t)=>({type:J9,payload:{location:n,action:t}});function wv(n){return(...t)=>({type:Q9,payload:{method:n,args:t}})}const hr=wv("push"),jge=wv("replace"),Hge=wv("go"),$ge=wv("goBack"),Wge=wv("goForward"),Uge=wv("back"),zge=wv("forward");function aW(n,t){return typeof n=="string"&&!n.startsWith(t)?t+n:typeof n=="object"&&n.pathname&&!n.pathname.startsWith(t)?Object.assign(Object.assign({},n),{pathname:t+n.pathname}):n}const Kge=({history:n,showHistoryAction:t,basename:e})=>()=>r=>i=>{if(i.type!==Q9)return r(i);const o=i.payload.method,a=i.payload.args;switch(o){case"push":{let s=a;e&&a.length>0&&(s=[aW(a[0],e),...a.slice(1)]),n.push(...s);break}case"replace":{let s=a;e&&a.length>0&&(s=[aW(a[0],e),...a.slice(1)]),n.replace(...s);break}case"go":n.go(...a);break;case"back":case"goBack":n.goBack&&n.goBack(...a),n.back&&n.back(...a);break;case"forward":case"goForward":n.goForward&&n.goForward(...a),n.forward&&n.forward(...a);break}if(t)return r(i)},Yge=({savePreviousLocations:n=0,basename:t})=>{const e={location:null,action:null,basename:t},r=isNaN(n)?0:n;return r&&(e.previousLocations=[]),(i=e,{type:o,payload:a}={})=>{if(o===J9){const{location:s,action:l}=a||{},u=r?[{location:s,action:l},...i.previousLocations.slice(0,r)]:void 0;return Object.assign(Object.assign({},i),{location:s,action:l,previousLocations:u})}return i}},qge=({history:n,routerReducerKey:t="router",reduxTravelling:e=!1,showHistoryAction:r=!1,selectRouterState:i,savePreviousLocations:o=0,batch:a,reachGlobalHistory:s,basename:l})=>{let u=!1;const c=(g,m,y)=>u?g({location:m,action:y}):g(m,y);typeof a!="function"&&(a=g=>{g()}),typeof i!="function"&&(i=g=>g[t]);const d=Yge({savePreviousLocations:o,basename:l}),p=Kge({history:n,showHistoryAction:r,basename:l});let h=!1;const f=g=>{const m=(y,C)=>y.pathname===C.pathname&&y.search===C.search&&y.hash===C.hash;return g.subscribe(()=>{const y=i(g.getState()).location,C=n.location;y&&C&&!m(y,C)&&(h=!0,n.push({pathname:y.pathname,search:y.search,hash:y.hash}))})};return{routerReducer:d,routerMiddleware:p,createReduxHistory:g=>{let m=[];return g.dispatch(zA(n.location,n.action)),e&&f(g),n.listen((y,C)=>{if(y.location&&(C=y.action,y=y.location,u=!0),h){h=!1;const S=i(g.getState());m.forEach(w=>c(w,S.location,S.action));return}a(()=>{g.dispatch(zA(y,C));const S=i(g.getState());m.forEach(w=>c(w,S.location,S.action))})}),s&&s.listen(({location:y,action:C})=>{if(C!=="POP"){const S={pathname:y.pathname,search:y.search,hash:y.hash,key:y.key,state:y.state};a(()=>{g.dispatch(zA(S,C));const w=i(g.getState());m.forEach(_=>c(_,w.location,w.action))})}}),{block:n.block,createHref:n.createHref,push:(...y)=>g.dispatch(hr(...y)),replace:(...y)=>g.dispatch(jge(...y)),go:(...y)=>g.dispatch(Hge(...y)),goBack:(...y)=>g.dispatch($ge(...y)),goForward:(...y)=>g.dispatch(Wge(...y)),back:(...y)=>g.dispatch(Uge(...y)),forward:(...y)=>g.dispatch(zge(...y)),listen:y=>(m.indexOf(y)<0&&m.push(y),()=>{m=m.filter(C=>C!==y)}),get location(){return i(g.getState()).location},get action(){return i(g.getState()).action},get length(){return n.length},get listenObject(){return u}}}}};var DG={},Xge=Ki;Object.defineProperty(DG,"__esModule",{value:!0});var e7=DG.default=void 0,Zge=Xge(Ao()),Qge=b;e7=DG.default=(0,Zge.default)((0,Qge.jsx)("path",{d:"M22 10V6c0-1.11-.9-2-2-2H4c-1.1 0-1.99.89-1.99 2v4c1.1 0 1.99.9 1.99 2s-.89 2-2 2v4c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-4c-1.1 0-2-.9-2-2s.9-2 2-2m-9 7.5h-2v-2h2zm0-4.5h-2v-2h2zm0-4.5h-2v-2h2z"}),"ConfirmationNumber");const a0=240,Jge=le("main",{shouldForwardProp:n=>n!=="open"})(({theme:n,open:t})=>({flexGrow:1,padding:n.spacing(3),transition:n.transitions.create("margin",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),marginLeft:`-${a0}px`,...t&&{transition:n.transitions.create("margin",{easing:n.transitions.easing.easeOut,duration:n.transitions.duration.enteringScreen}),marginLeft:0}})),eme=le(Jhe,{shouldForwardProp:n=>n!=="open"})(({theme:n,open:t})=>({transition:n.transitions.create(["margin","width"],{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),...t&&{width:`calc(100% - ${a0}px)`,marginLeft:`${a0}px`,transition:n.transitions.create(["margin","width"],{easing:n.transitions.easing.easeOut,duration:n.transitions.duration.enteringScreen})}})),sW=le("div")(({theme:n})=>({display:"flex",alignItems:"center",padding:n.spacing(0,1),...n.mixins.toolbar,justifyContent:"flex-end"}));function tme(n){const t=ya(),e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,r=dG({palette:{mode:e?"dark":"light"}}),[i,o]=T.useState(!0),a=Bg(v=>v.user.authed),s=localStorage.getItem("ROLE"),l=()=>{o(!0)},u=()=>{o(!1)};let c;a?s=="admin"||s=="superadmin"?(c={"/":{label:"Intro",icon:b.jsx(DE,{})},"/accommodation":{label:"Accommodation",icon:b.jsx(B9,{})},"/attendees":{label:"Attendees",icon:b.jsx(xI,{})},"/groups":{label:"Groups",icon:b.jsx(j9,{})},"/metrics":{label:"Stats",icon:b.jsx($9,{})},"/config":{label:"Config",icon:b.jsx(H9,{})}},s=="superadmin"&&(c={...c,...{"/lottery":{label:"Lottery",icon:b.jsx(e7,{})}}})):c={"/":{label:"Intro",icon:b.jsx(DE,{})},"/welfare":{label:"Welfare",icon:b.jsx(xI,{})}}:c={"/":{label:"Intro",icon:b.jsx(DE,{})}};const d="/"+window.location.pathname.split("/")[1],[p,h]=T.useState(c[d].label),f=v=>{const g=c[v];h(g.label),t(hr(v))};return b.jsxs(_pe,{theme:r,children:[b.jsx(Khe,{}),b.jsxs(x9,{sx:{display:"flex"},children:[b.jsx(eme,{position:"fixed",open:i,children:b.jsxs(ofe,{children:[b.jsx(Dl,{color:"inherit","aria-label":"open drawer",onClick:l,edge:"start",sx:{mr:2,...i&&{display:"none"}},children:b.jsx(I9,{})}),b.jsx(Pr,{variant:"h6",noWrap:!0,component:"div",children:p})]})}),b.jsxs($he,{sx:{width:a0,flexShrink:0,"& .MuiDrawer-paper":{width:a0,boxSizing:"border-box"}},variant:"persistent",anchor:"left",open:i,children:[b.jsx(sW,{children:b.jsx(Dl,{onClick:u,children:r.direction==="ltr"?b.jsx(N9,{}):b.jsx(k9,{})})}),b.jsx(Efe,{}),b.jsx(my,{children:Object.keys(c).map(v=>b.jsxs(d_,{button:!0,onClick:()=>f(v),children:[b.jsx(Fve,{children:c[v].icon}),b.jsx(_G,{primary:c[v].label})]},v))})]}),b.jsxs(Jge,{open:i,children:[b.jsx(sW,{}),n.children]})]})]})}function Cl(n){for(var t=arguments.length,e=Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+n+(e.length?" "+e.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Up(n){return!!n&&!!n[ln]}function ed(n){var t;return!!n&&(function(e){if(!e||typeof e!="object")return!1;var r=Object.getPrototypeOf(e);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===cme}(n)||Array.isArray(n)||!!n[fW]||!!(!((t=n.constructor)===null||t===void 0)&&t[fW])||AG(n)||MG(n))}function ov(n,t,e){e===void 0&&(e=!1),yy(n)===0?(e?Object.keys:fm)(n).forEach(function(r){e&&typeof r=="symbol"||t(r,n[r],n)}):n.forEach(function(r,i){return t(i,r,n)})}function yy(n){var t=n[ln];return t?t.i>3?t.i-4:t.i:Array.isArray(n)?1:AG(n)?2:MG(n)?3:0}function hm(n,t){return yy(n)===2?n.has(t):Object.prototype.hasOwnProperty.call(n,t)}function rme(n,t){return yy(n)===2?n.get(t):n[t]}function t7(n,t,e){var r=yy(n);r===2?n.set(t,e):r===3?n.add(e):n[t]=e}function r7(n,t){return n===t?n!==0||1/n==1/t:n!=n&&t!=t}function AG(n){return lme&&n instanceof Map}function MG(n){return ume&&n instanceof Set}function tf(n){return n.o||n.t}function LG(n){if(Array.isArray(n))return Array.prototype.slice.call(n);var t=i7(n);delete t[ln];for(var e=fm(t),r=0;r<e.length;r++){var i=e[r],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:n[i]})}return Object.create(Object.getPrototypeOf(n),t)}function FG(n,t){return t===void 0&&(t=!1),IG(n)||Up(n)||!ed(n)||(yy(n)>1&&(n.set=n.add=n.clear=n.delete=nme),Object.freeze(n),t&&ov(n,function(e,r){return FG(r,!0)},!0)),n}function nme(){Cl(2)}function IG(n){return n==null||typeof n!="object"||Object.isFrozen(n)}function ju(n){var t=RI[n];return t||Cl(18,n),t}function ime(n,t){RI[n]||(RI[n]=t)}function bI(){return s0}function KA(n,t){t&&(ju("Patches"),n.u=[],n.s=[],n.v=t)}function WO(n){EI(n),n.p.forEach(ome),n.p=null}function EI(n){n===s0&&(s0=n.l)}function lW(n){return s0={p:[],l:s0,h:n,m:!0,_:0}}function ome(n){var t=n[ln];t.i===0||t.i===1?t.j():t.g=!0}function YA(n,t){t._=t.p.length;var e=t.p[0],r=n!==void 0&&n!==e;return t.h.O||ju("ES5").S(t,n,r),r?(e[ln].P&&(WO(t),Cl(4)),ed(n)&&(n=UO(t,n),t.l||zO(t,n)),t.u&&ju("Patches").M(e[ln].t,n,t.u,t.s)):n=UO(t,e,[]),WO(t),t.u&&t.v(t.u,t.s),n!==n7?n:void 0}function UO(n,t,e){if(IG(t))return t;var r=t[ln];if(!r)return ov(t,function(s,l){return uW(n,r,t,s,l,e)},!0),t;if(r.A!==n)return t;if(!r.P)return zO(n,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=LG(r.k):r.o,o=i,a=!1;r.i===3&&(o=new Set(i),i.clear(),a=!0),ov(o,function(s,l){return uW(n,r,i,s,l,e,a)}),zO(n,i,!1),e&&n.u&&ju("Patches").N(r,e,n.u,n.s)}return r.o}function uW(n,t,e,r,i,o,a){if(Up(i)){var s=UO(n,i,o&&t&&t.i!==3&&!hm(t.R,r)?o.concat(r):void 0);if(t7(e,r,s),!Up(s))return;n.m=!1}else a&&e.add(i);if(ed(i)&&!IG(i)){if(!n.h.D&&n._<1)return;UO(n,i),t&&t.A.l||zO(n,i)}}function zO(n,t,e){e===void 0&&(e=!1),!n.l&&n.h.D&&n.m&&FG(t,e)}function qA(n,t){var e=n[ln];return(e?tf(e):n)[t]}function cW(n,t){if(t in n)for(var e=Object.getPrototypeOf(n);e;){var r=Object.getOwnPropertyDescriptor(e,t);if(r)return r;e=Object.getPrototypeOf(e)}}function cp(n){n.P||(n.P=!0,n.l&&cp(n.l))}function XA(n){n.o||(n.o=LG(n.t))}function OI(n,t,e){var r=AG(t)?ju("MapSet").F(t,e):MG(t)?ju("MapSet").T(t,e):n.O?function(i,o){var a=Array.isArray(i),s={i:a?1:0,A:o?o.A:bI(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},l=s,u=l0;a&&(l=[s],u=wS);var c=Proxy.revocable(l,u),d=c.revoke,p=c.proxy;return s.k=p,s.j=d,p}(t,e):ju("ES5").J(t,e);return(e?e.A:bI()).p.push(r),r}function ame(n){return Up(n)||Cl(22,n),function t(e){if(!ed(e))return e;var r,i=e[ln],o=yy(e);if(i){if(!i.P&&(i.i<4||!ju("ES5").K(i)))return i.t;i.I=!0,r=dW(e,o),i.I=!1}else r=dW(e,o);return ov(r,function(a,s){i&&rme(i.t,a)===s||t7(r,a,t(s))}),o===3?new Set(r):r}(n)}function dW(n,t){switch(t){case 2:return new Map(n);case 3:return Array.from(n)}return LG(n)}function sme(){function n(o,a){var s=i[o];return s?s.enumerable=a:i[o]=s={configurable:!0,enumerable:a,get:function(){var l=this[ln];return l0.get(l,o)},set:function(l){var u=this[ln];l0.set(u,o,l)}},s}function t(o){for(var a=o.length-1;a>=0;a--){var s=o[a][ln];if(!s.P)switch(s.i){case 5:r(s)&&cp(s);break;case 4:e(s)&&cp(s)}}}function e(o){for(var a=o.t,s=o.k,l=fm(s),u=l.length-1;u>=0;u--){var c=l[u];if(c!==ln){var d=a[c];if(d===void 0&&!hm(a,c))return!0;var p=s[c],h=p&&p[ln];if(h?h.t!==d:!r7(p,d))return!0}}var f=!!a[ln];return l.length!==fm(a).length+(f?0:1)}function r(o){var a=o.k;if(a.length!==o.t.length)return!0;var s=Object.getOwnPropertyDescriptor(a,a.length-1);if(s&&!s.get)return!0;for(var l=0;l<a.length;l++)if(!a.hasOwnProperty(l))return!0;return!1}var i={};ime("ES5",{J:function(o,a){var s=Array.isArray(o),l=function(c,d){if(c){for(var p=Array(d.length),h=0;h<d.length;h++)Object.defineProperty(p,""+h,n(h,!0));return p}var f=i7(d);delete f[ln];for(var v=fm(f),g=0;g<v.length;g++){var m=v[g];f[m]=n(m,c||!!f[m].enumerable)}return Object.create(Object.getPrototypeOf(d),f)}(s,o),u={i:s?5:4,A:a?a.A:bI(),P:!1,I:!1,R:{},l:a,t:o,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,ln,{value:u,writable:!0}),l},S:function(o,a,s){s?Up(a)&&a[ln].A===o&&t(o.p):(o.u&&function l(u){if(u&&typeof u=="object"){var c=u[ln];if(c){var d=c.t,p=c.k,h=c.R,f=c.i;if(f===4)ov(p,function(C){C!==ln&&(d[C]!==void 0||hm(d,C)?h[C]||l(p[C]):(h[C]=!0,cp(c)))}),ov(d,function(C){p[C]!==void 0||hm(p,C)||(h[C]=!1,cp(c))});else if(f===5){if(r(c)&&(cp(c),h.length=!0),p.length<d.length)for(var v=p.length;v<d.length;v++)h[v]=!1;else for(var g=d.length;g<p.length;g++)h[g]=!0;for(var m=Math.min(p.length,d.length),y=0;y<m;y++)p.hasOwnProperty(y)||(h[y]=!0),h[y]===void 0&&l(p[y])}}}}(o.p[0]),t(o.p))},K:function(o){return o.i===4?e(o):r(o)}})}var pW,s0,NG=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",lme=typeof Map<"u",ume=typeof Set<"u",hW=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",n7=NG?Symbol.for("immer-nothing"):((pW={})["immer-nothing"]=!0,pW),fW=NG?Symbol.for("immer-draftable"):"__$immer_draftable",ln=NG?Symbol.for("immer-state"):"__$immer_state",cme=""+Object.prototype.constructor,fm=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames,i7=Object.getOwnPropertyDescriptors||function(n){var t={};return fm(n).forEach(function(e){t[e]=Object.getOwnPropertyDescriptor(n,e)}),t},RI={},l0={get:function(n,t){if(t===ln)return n;var e=tf(n);if(!hm(e,t))return function(i,o,a){var s,l=cW(o,a);return l?"value"in l?l.value:(s=l.get)===null||s===void 0?void 0:s.call(i.k):void 0}(n,e,t);var r=e[t];return n.I||!ed(r)?r:r===qA(n.t,t)?(XA(n),n.o[t]=OI(n.A.h,r,n)):r},has:function(n,t){return t in tf(n)},ownKeys:function(n){return Reflect.ownKeys(tf(n))},set:function(n,t,e){var r=cW(tf(n),t);if(r!=null&&r.set)return r.set.call(n.k,e),!0;if(!n.P){var i=qA(tf(n),t),o=i==null?void 0:i[ln];if(o&&o.t===e)return n.o[t]=e,n.R[t]=!1,!0;if(r7(e,i)&&(e!==void 0||hm(n.t,t)))return!0;XA(n),cp(n)}return n.o[t]===e&&(e!==void 0||t in n.o)||Number.isNaN(e)&&Number.isNaN(n.o[t])||(n.o[t]=e,n.R[t]=!0),!0},deleteProperty:function(n,t){return qA(n.t,t)!==void 0||t in n.t?(n.R[t]=!1,XA(n),cp(n)):delete n.R[t],n.o&&delete n.o[t],!0},getOwnPropertyDescriptor:function(n,t){var e=tf(n),r=Reflect.getOwnPropertyDescriptor(e,t);return r&&{writable:!0,configurable:n.i!==1||t!=="length",enumerable:r.enumerable,value:e[t]}},defineProperty:function(){Cl(11)},getPrototypeOf:function(n){return Object.getPrototypeOf(n.t)},setPrototypeOf:function(){Cl(12)}},wS={};ov(l0,function(n,t){wS[n]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),wS.deleteProperty=function(n,t){return wS.set.call(this,n,t,void 0)},wS.set=function(n,t,e){return l0.set.call(this,n[0],t,e,n[0])};var dme=function(){function n(e){var r=this;this.O=hW,this.D=!0,this.produce=function(i,o,a){if(typeof i=="function"&&typeof o!="function"){var s=o;o=i;var l=r;return function(v){var g=this;v===void 0&&(v=s);for(var m=arguments.length,y=Array(m>1?m-1:0),C=1;C<m;C++)y[C-1]=arguments[C];return l.produce(v,function(S){var w;return(w=o).call.apply(w,[g,S].concat(y))})}}var u;if(typeof o!="function"&&Cl(6),a!==void 0&&typeof a!="function"&&Cl(7),ed(i)){var c=lW(r),d=OI(r,i,void 0),p=!0;try{u=o(d),p=!1}finally{p?WO(c):EI(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(v){return KA(c,a),YA(v,c)},function(v){throw WO(c),v}):(KA(c,a),YA(u,c))}if(!i||typeof i!="object"){if((u=o(i))===void 0&&(u=i),u===n7&&(u=void 0),r.D&&FG(u,!0),a){var h=[],f=[];ju("Patches").M(i,u,h,f),a(h,f)}return u}Cl(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),p=1;p<c;p++)d[p-1]=arguments[p];return r.produceWithPatches(u,function(h){return i.apply(void 0,[h].concat(d))})};var a,s,l=r.produce(i,o,function(u,c){a=u,s=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,a,s]}):[l,a,s]},typeof(e==null?void 0:e.useProxies)=="boolean"&&this.setUseProxies(e.useProxies),typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze)}var t=n.prototype;return t.createDraft=function(e){ed(e)||Cl(8),Up(e)&&(e=ame(e));var r=lW(this),i=OI(this,e,void 0);return i[ln].C=!0,EI(r),i},t.finishDraft=function(e,r){var i=e&&e[ln],o=i.A;return KA(o,r),YA(void 0,o)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!hW&&Cl(20),this.O=e},t.applyPatches=function(e,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}i>-1&&(r=r.slice(i+1));var a=ju("Patches").$;return Up(e)?a(e,r):this.produce(e,function(s){return a(s,r)})},n}(),is=new dme,o7=is.produce;is.produceWithPatches.bind(is);is.setAutoFreeze.bind(is);is.setUseProxies.bind(is);is.applyPatches.bind(is);is.createDraft.bind(is);is.finishDraft.bind(is);function Ze(n,t,e){return t=c9(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function vW(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function gW(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?vW(Object(e),!0).forEach(function(r){Ze(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):vW(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function Ji(n){return"Minified Redux error #"+n+"; visit https://redux.js.org/Errors?code="+n+" for the full message or use the non-minified dev environment for full errors. "}var mW=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),ZA=function(){return Math.random().toString(36).substring(7).split("").join(".")},KO={INIT:"@@redux/INIT"+ZA(),REPLACE:"@@redux/REPLACE"+ZA(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ZA()}};function pme(n){if(typeof n!="object"||n===null)return!1;for(var t=n;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(n)===t}function a7(n,t,e){var r;if(typeof t=="function"&&typeof e=="function"||typeof e=="function"&&typeof arguments[3]=="function")throw new Error(Ji(0));if(typeof t=="function"&&typeof e>"u"&&(e=t,t=void 0),typeof e<"u"){if(typeof e!="function")throw new Error(Ji(1));return e(a7)(n,t)}if(typeof n!="function")throw new Error(Ji(2));var i=n,o=t,a=[],s=a,l=!1;function u(){s===a&&(s=a.slice())}function c(){if(l)throw new Error(Ji(3));return o}function d(v){if(typeof v!="function")throw new Error(Ji(4));if(l)throw new Error(Ji(5));var g=!0;return u(),s.push(v),function(){if(g){if(l)throw new Error(Ji(6));g=!1,u();var y=s.indexOf(v);s.splice(y,1),a=null}}}function p(v){if(!pme(v))throw new Error(Ji(7));if(typeof v.type>"u")throw new Error(Ji(8));if(l)throw new Error(Ji(9));try{l=!0,o=i(o,v)}finally{l=!1}for(var g=a=s,m=0;m<g.length;m++){var y=g[m];y()}return v}function h(v){if(typeof v!="function")throw new Error(Ji(10));i=v,p({type:KO.REPLACE})}function f(){var v,g=d;return v={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(Ji(11));function C(){y.next&&y.next(c())}C();var S=g(C);return{unsubscribe:S}}},v[mW]=function(){return this},v}return p({type:KO.INIT}),r={dispatch:p,subscribe:d,getState:c,replaceReducer:h},r[mW]=f,r}function hme(n){Object.keys(n).forEach(function(t){var e=n[t],r=e(void 0,{type:KO.INIT});if(typeof r>"u")throw new Error(Ji(12));if(typeof e(void 0,{type:KO.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ji(13))})}function fme(n){for(var t=Object.keys(n),e={},r=0;r<t.length;r++){var i=t[r];typeof n[i]=="function"&&(e[i]=n[i])}var o=Object.keys(e),a;try{hme(e)}catch(s){a=s}return function(l,u){if(l===void 0&&(l={}),a)throw a;for(var c=!1,d={},p=0;p<o.length;p++){var h=o[p],f=e[h],v=l[h],g=f(v,u);if(typeof g>"u")throw u&&u.type,new Error(Ji(14));d[h]=g,c=c||g!==v}return c=c||o.length!==Object.keys(l).length,c?d:l}}function YO(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function vme(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(Ji(15))},a={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},s=t.map(function(l){return l(a)});return o=YO.apply(void 0,s)(i.dispatch),gW(gW({},i),{},{dispatch:o})}}}function s7(n){var t=function(r){var i=r.dispatch,o=r.getState;return function(a){return function(s){return typeof s=="function"?s(i,o,n):a(s)}}};return t}var l7=s7();l7.withExtraArgument=s7;const yW=l7;var u7=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),gme=globalThis&&globalThis.__generator||function(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Wm=globalThis&&globalThis.__spreadArray||function(n,t){for(var e=0,r=t.length,i=n.length;e<r;e++,i++)n[i]=t[e];return n},mme=Object.defineProperty,yme=Object.defineProperties,Cme=Object.getOwnPropertyDescriptors,CW=Object.getOwnPropertySymbols,Sme=Object.prototype.hasOwnProperty,wme=Object.prototype.propertyIsEnumerable,SW=function(n,t,e){return t in n?mme(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e},Ap=function(n,t){for(var e in t||(t={}))Sme.call(t,e)&&SW(n,e,t[e]);if(CW)for(var r=0,i=CW(t);r<i.length;r++){var e=i[r];wme.call(t,e)&&SW(n,e,t[e])}return n},QA=function(n,t){return yme(n,Cme(t))},_me=function(n,t,e){return new Promise(function(r,i){var o=function(l){try{s(e.next(l))}catch(u){i(u)}},a=function(l){try{s(e.throw(l))}catch(u){i(u)}},s=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(o,a)};s((e=e.apply(n,t)).next())})},xme=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?YO:YO.apply(null,arguments)};function bme(n){if(typeof n!="object"||n===null)return!1;var t=Object.getPrototypeOf(n);if(t===null)return!0;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return t===e}function Mp(n,t){function e(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var o=t.apply(void 0,r);if(!o)throw new Error("prepareAction did not return an object");return Ap(Ap({type:n,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:n,payload:r[0]}}return e.toString=function(){return""+n},e.type=n,e.match=function(r){return r.type===n},e}var Eme=function(n){u7(t,n);function t(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=n.apply(this,e)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return n.prototype.concat.apply(this,e)},t.prototype.prepend=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===1&&Array.isArray(e[0])?new(t.bind.apply(t,Wm([void 0],e[0].concat(this)))):new(t.bind.apply(t,Wm([void 0],e.concat(this))))},t}(Array),Ome=function(n){u7(t,n);function t(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=n.apply(this,e)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return n.prototype.concat.apply(this,e)},t.prototype.prepend=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===1&&Array.isArray(e[0])?new(t.bind.apply(t,Wm([void 0],e[0].concat(this)))):new(t.bind.apply(t,Wm([void 0],e.concat(this))))},t}(Array);function TI(n){return ed(n)?o7(n,function(){}):n}function Rme(n){return typeof n=="boolean"}function Tme(){return function(t){return Pme(t)}}function Pme(n){n===void 0&&(n={});var t=n.thunk,e=t===void 0?!0:t;n.immutableCheck,n.serializableCheck,n.actionCreatorCheck;var r=new Eme;return e&&(Rme(e)?r.push(yW):r.push(yW.withExtraArgument(e.extraArgument))),r}var Dme=!0;function Ame(n){var t=Tme(),e=n||{},r=e.reducer,i=r===void 0?void 0:r,o=e.middleware,a=o===void 0?t():o,s=e.devTools,l=s===void 0?!0:s,u=e.preloadedState,c=u===void 0?void 0:u,d=e.enhancers,p=d===void 0?void 0:d,h;if(typeof i=="function")h=i;else if(bme(i))h=fme(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var f=a;typeof f=="function"&&(f=f(t));var v=vme.apply(void 0,f),g=YO;l&&(g=xme(Ap({trace:!Dme},typeof l=="object"&&l)));var m=new Ome(v),y=m;Array.isArray(p)?y=Wm([v],p):typeof p=="function"&&(y=p(m));var C=g.apply(void 0,y);return a7(h,c,C)}function c7(n){var t={},e=[],r,i={addCase:function(o,a){var s=typeof o=="string"?o:o.type;if(!s)throw new Error("`builder.addCase` cannot be called with an empty action type");if(s in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[s]=a,i},addMatcher:function(o,a){return e.push({matcher:o,reducer:a}),i},addDefaultCase:function(o){return r=o,i}};return n(i),[t,e,r]}function Mme(n){return typeof n=="function"}function Lme(n,t,e,r){e===void 0&&(e=[]);var i=typeof t=="function"?c7(t):[t,e,r],o=i[0],a=i[1],s=i[2],l;if(Mme(n))l=function(){return TI(n())};else{var u=TI(n);l=function(){return u}}function c(d,p){d===void 0&&(d=l());var h=Wm([o[p.type]],a.filter(function(f){var v=f.matcher;return v(p)}).map(function(f){var v=f.reducer;return v}));return h.filter(function(f){return!!f}).length===0&&(h=[s]),h.reduce(function(f,v){if(v)if(Up(f)){var g=f,m=v(g,p);return m===void 0?f:m}else{if(ed(f))return o7(f,function(y){return v(y,p)});var m=v(f,p);if(m===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}return f},d)}return c.getInitialState=l,c}function Fme(n,t){return n+"/"+t}function d7(n){var t=n.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var e=typeof n.initialState=="function"?n.initialState:TI(n.initialState),r=n.reducers||{},i=Object.keys(r),o={},a={},s={};i.forEach(function(c){var d=r[c],p=Fme(t,c),h,f;"reducer"in d?(h=d.reducer,f=d.prepare):h=d,o[c]=h,a[p]=h,s[c]=f?Mp(p,f):Mp(p)});function l(){var c=typeof n.extraReducers=="function"?c7(n.extraReducers):[n.extraReducers],d=c[0],p=d===void 0?{}:d,h=c[1],f=h===void 0?[]:h,v=c[2],g=v===void 0?void 0:v,m=Ap(Ap({},p),a);return Lme(e,function(y){for(var C in m)y.addCase(C,m[C]);for(var S=0,w=f;S<w.length;S++){var _=w[S];y.addMatcher(_.matcher,_.reducer)}g&&y.addDefaultCase(g)})}var u;return{name:t,reducer:function(c,d){return u||(u=l()),u(c,d)},actions:s,caseReducers:o,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var Ime="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Nme=function(n){n===void 0&&(n=21);for(var t="",e=n;e--;)t+=Ime[Math.random()*64|0];return t},kme=["name","message","stack","code"],JA=function(){function n(t,e){this.payload=t,this.meta=e}return n}(),wW=function(){function n(t,e){this.payload=t,this.meta=e}return n}(),Gme=function(n){if(typeof n=="object"&&n!==null){for(var t={},e=0,r=kme;e<r.length;e++){var i=r[e];typeof n[i]=="string"&&(t[i]=n[i])}return t}return{message:String(n)}};(function(){function n(t,e,r){var i=Mp(t+"/fulfilled",function(u,c,d,p){return{payload:u,meta:QA(Ap({},p||{}),{arg:d,requestId:c,requestStatus:"fulfilled"})}}),o=Mp(t+"/pending",function(u,c,d){return{payload:void 0,meta:QA(Ap({},d||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),a=Mp(t+"/rejected",function(u,c,d,p,h){return{payload:p,error:(r&&r.serializeError||Gme)(u||"Rejected"),meta:QA(Ap({},h||{}),{arg:d,requestId:c,rejectedWithValue:!!p,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),s=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,d,p){var h=r!=null&&r.idGenerator?r.idGenerator(u):Nme(),f=new s,v;function g(y){v=y,f.abort()}var m=function(){return _me(this,null,function(){var y,C,S,w,_,x,E;return gme(this,function(R){switch(R.label){case 0:return R.trys.push([0,4,,5]),w=(y=r==null?void 0:r.condition)==null?void 0:y.call(r,u,{getState:d,extra:p}),Bme(w)?[4,w]:[3,2];case 1:w=R.sent(),R.label=2;case 2:if(w===!1||f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return _=new Promise(function(P,A){return f.signal.addEventListener("abort",function(){return A({name:"AbortError",message:v||"Aborted"})})}),c(o(h,u,(C=r==null?void 0:r.getPendingMeta)==null?void 0:C.call(r,{requestId:h,arg:u},{getState:d,extra:p}))),[4,Promise.race([_,Promise.resolve(e(u,{dispatch:c,getState:d,extra:p,requestId:h,signal:f.signal,abort:g,rejectWithValue:function(P,A){return new JA(P,A)},fulfillWithValue:function(P,A){return new wW(P,A)}})).then(function(P){if(P instanceof JA)throw P;return P instanceof wW?i(P.payload,h,u,P.meta):i(P,h,u)})])];case 3:return S=R.sent(),[3,5];case 4:return x=R.sent(),S=x instanceof JA?a(null,h,u,x.payload,x.meta):a(x,h,u),[3,5];case 5:return E=r&&!r.dispatchConditionRejection&&a.match(S)&&S.meta.condition,E||c(S),[2,S]}})})}();return Object.assign(m,{abort:g,requestId:h,arg:u,unwrap:function(){return m.then(Vme)}})}}return Object.assign(l,{pending:o,rejected:a,fulfilled:i,typePrefix:t})}return n.withTypes=function(){return n},n})();function Vme(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function Bme(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var kG="listenerMiddleware";Mp(kG+"/add");Mp(kG+"/removeAll");Mp(kG+"/remove");var _W;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);sme();var jg;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(jg||(jg={}));var xW=function(n){return n},bW="beforeunload",jme="popstate";function Hme(n){n===void 0&&(n={});var t=n,e=t.window,r=e===void 0?document.defaultView:e,i=r.history;function o(){var x=r.location,E=x.pathname,R=x.search,P=x.hash,A=i.state||{};return[A.idx,xW({pathname:E,search:R,hash:P,state:A.usr||null,key:A.key||"default"})]}var a=null;function s(){if(a)h.call(a),a=null;else{var x=jg.Pop,E=o(),R=E[0],P=E[1];if(h.length){if(R!=null){var A=c-R;A&&(a={action:x,location:P,retry:function(){w(A*-1)}},w(A))}}else y(x)}}r.addEventListener(jme,s);var l=jg.Pop,u=o(),c=u[0],d=u[1],p=OW(),h=OW();c==null&&(c=0,i.replaceState(L({},i.state,{idx:c}),""));function f(x){return typeof x=="string"?x:Wme(x)}function v(x,E){return E===void 0&&(E=null),xW(L({pathname:d.pathname,hash:"",search:""},typeof x=="string"?Ume(x):x,{state:E,key:$me()}))}function g(x,E){return[{usr:x.state,key:x.key,idx:E},f(x)]}function m(x,E,R){return!h.length||(h.call({action:x,location:E,retry:R}),!1)}function y(x){l=x;var E=o();c=E[0],d=E[1],p.call({action:l,location:d})}function C(x,E){var R=jg.Push,P=v(x,E);function A(){C(x,E)}if(m(R,P,A)){var N=g(P,c+1),I=N[0],G=N[1];try{i.pushState(I,"",G)}catch{r.location.assign(G)}y(R)}}function S(x,E){var R=jg.Replace,P=v(x,E);function A(){S(x,E)}if(m(R,P,A)){var N=g(P,c),I=N[0],G=N[1];i.replaceState(I,"",G),y(R)}}function w(x){i.go(x)}var _={get action(){return l},get location(){return d},createHref:f,push:C,replace:S,go:w,back:function(){w(-1)},forward:function(){w(1)},listen:function(E){return p.push(E)},block:function(E){var R=h.push(E);return h.length===1&&r.addEventListener(bW,EW),function(){R(),h.length||r.removeEventListener(bW,EW)}}};return _}function EW(n){n.preventDefault(),n.returnValue=""}function OW(){var n=[];return{get length(){return n.length},push:function(e){return n.push(e),function(){n=n.filter(function(r){return r!==e})}},call:function(e){n.forEach(function(r){return r&&r(e)})}}}function $me(){return Math.random().toString(36).substr(2,8)}function Wme(n){var t=n.pathname,e=t===void 0?"/":t,r=n.search,i=r===void 0?"":r,o=n.hash,a=o===void 0?"":o;return i&&i!=="?"&&(e+=i.charAt(0)==="?"?i:"?"+i),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function Ume(n){var t={};if(n){var e=n.indexOf("#");e>=0&&(t.hash=n.substr(e),n=n.substr(0,e));var r=n.indexOf("?");r>=0&&(t.search=n.substr(r),n=n.substr(0,r)),n&&(t.pathname=n)}return t}const zme={authed:!!localStorage.getItem("TOKEN")},p7=d7({name:"user",initialState:zme,reducers:{login(n){n.authed=!0},logout(n){n.authed=!1}}}),{login:Kme,logout:fi}=p7.actions,Yme=p7.reducer,qme={config:{}},h7=d7({name:"config",initialState:qme,reducers:{setConfig(n,t){n.config=t.payload}}}),{setConfig:Xme}=h7.actions,Zme=h7.reducer,{createReduxHistory:Qme,routerMiddleware:Jme,routerReducer:eye}=qge({history:Hme()}),GG=Ame({reducer:{router:eye,user:Yme,config:Zme},middleware:[Jme]}),tye=Qme(GG);var VG={};/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hn(){return hn=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},hn.apply(this,arguments)}var _n;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(_n||(_n={}));function f7(n){n===void 0&&(n={});let{initialEntries:t=["/"],initialIndex:e,v5Compat:r=!1}=n,i;i=t.map((h,f)=>c(h,typeof h=="string"?null:h.state,f===0?"default":void 0));let o=l(e??i.length-1),a=_n.Pop,s=null;function l(h){return Math.min(Math.max(h,0),i.length-1)}function u(){return i[o]}function c(h,f,v){f===void 0&&(f=null);let g=PI(i?u().pathname:"/",h,f,v);return zp(g.pathname.charAt(0)==="/","relative pathnames are not supported in memory history: "+JSON.stringify(h)),g}function d(h){return typeof h=="string"?h:av(h)}return{get index(){return o},get action(){return a},get location(){return u()},createHref:d,createURL(h){return new URL(d(h),"http://localhost")},encodeLocation(h){let f=typeof h=="string"?kl(h):h;return{pathname:f.pathname||"",search:f.search||"",hash:f.hash||""}},push(h,f){a=_n.Push;let v=c(h,f);o+=1,i.splice(o,i.length,v),r&&s&&s({action:a,location:v,delta:1})},replace(h,f){a=_n.Replace;let v=c(h,f);i[o]=v,r&&s&&s({action:a,location:v,delta:0})},go(h){a=_n.Pop;let f=l(o+h),v=i[f];o=f,s&&s({action:a,location:v,delta:h})},listen(h){return s=h,()=>{s=null}}}}function Pt(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function zp(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function rye(){return Math.random().toString(36).substr(2,8)}function PI(n,t,e,r){return e===void 0&&(e=null),hn({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof t=="string"?kl(t):t,{state:e,key:t&&t.key||r||rye()})}function av(n){let{pathname:t="/",search:e="",hash:r=""}=n;return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function kl(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substr(e),n=n.substr(0,e));let r=n.indexOf("?");r>=0&&(t.search=n.substr(r),n=n.substr(0,r)),n&&(t.pathname=n)}return t}var xn;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(xn||(xn={}));const nye=new Set(["lazy","caseSensitive","path","id","index","children"]);function iye(n){return n.index===!0}function DI(n,t,e,r){return e===void 0&&(e=[]),r===void 0&&(r={}),n.map((i,o)=>{let a=[...e,o],s=typeof i.id=="string"?i.id:a.join("-");if(Pt(i.index!==!0||!i.children,"Cannot specify children on an index route"),Pt(!r[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),iye(i)){let l=hn({},i,t(i),{id:s});return r[s]=l,l}else{let l=hn({},i,t(i),{id:s,children:void 0});return r[s]=l,i.children&&(l.children=DI(i.children,t,a,r)),l}})}function Tf(n,t,e){e===void 0&&(e="/");let r=typeof t=="string"?kl(t):t,i=Kp(r.pathname||"/",e);if(i==null)return null;let o=g7(n);oye(o);let a=null;for(let s=0;a==null&&s<o.length;++s){let l=mye(i);a=fye(o[s],l)}return a}function v7(n,t){let{route:e,pathname:r,params:i}=n;return{id:e.id,pathname:r,params:i,data:t[e.id],handle:e.handle}}function g7(n,t,e,r){t===void 0&&(t=[]),e===void 0&&(e=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(Pt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Bc([r,l.relativePath]),c=e.concat(l);o.children&&o.children.length>0&&(Pt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),g7(o.children,t,c,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:pye(u,o.index),routesMeta:c})};return n.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of m7(o.path))i(o,a,l)}),t}function m7(n){let t=n.split("/");if(t.length===0)return[];let[e,...r]=t,i=e.endsWith("?"),o=e.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=m7(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>n.startsWith("/")&&l===""?"/":l)}function oye(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:hye(t.routesMeta.map(r=>r.childrenIndex),e.routesMeta.map(r=>r.childrenIndex)))}const aye=/^:[\w-]+$/,sye=3,lye=2,uye=1,cye=10,dye=-2,RW=n=>n==="*";function pye(n,t){let e=n.split("/"),r=e.length;return e.some(RW)&&(r+=dye),t&&(r+=lye),e.filter(i=>!RW(i)).reduce((i,o)=>i+(aye.test(o)?sye:o===""?uye:cye),r)}function hye(n,t){return n.length===t.length&&n.slice(0,-1).every((r,i)=>r===t[i])?n[n.length-1]-t[t.length-1]:0}function fye(n,t){let{routesMeta:e}=n,r={},i="/",o=[];for(let a=0;a<e.length;++a){let s=e[a],l=a===e.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=BG({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=s.route;o.push({params:r,pathname:Bc([i,c.pathname]),pathnameBase:Cye(Bc([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=Bc([i,c.pathnameBase]))}return o}function vye(n,t){t===void 0&&(t={});let e=n;e.endsWith("*")&&e!=="*"&&!e.endsWith("/*")&&(zp(!1,'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".')),e=e.replace(/\*$/,"/*"));const r=e.startsWith("/")?"/":"",i=a=>a==null?"":typeof a=="string"?a:String(a),o=e.split(/\/+/).map((a,s,l)=>{if(s===l.length-1&&a==="*")return i(t["*"]);const c=a.match(/^:([\w-]+)(\??)$/);if(c){const[,d,p]=c;let h=t[d];return Pt(p==="?"||h!=null,'Missing ":'+d+'" param'),i(h)}return a.replace(/\?$/g,"")}).filter(a=>!!a);return r+o.join("/")}function BG(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,r]=gye(n.path,n.caseSensitive,n.end),i=t.match(e);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:p,isOptional:h}=c;if(p==="*"){let v=s[d]||"";a=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const f=s[d];return h&&!f?u[p]=void 0:u[p]=(f||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:n}}function gye(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!0),zp(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function mye(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return zp(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),n}}function Kp(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,r=n.charAt(e);return r&&r!=="/"?null:n.slice(e)||"/"}function y7(n,t){t===void 0&&(t="/");let{pathname:e,search:r="",hash:i=""}=typeof n=="string"?kl(n):n;return{pathname:e?e.startsWith("/")?e:yye(e,t):t,search:Sye(r),hash:wye(i)}}function yye(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?e.length>1&&e.pop():i!=="."&&e.push(i)}),e.length>1?e.join("/"):"/"}function eM(n,t,e,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+e+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function C7(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function DP(n,t){let e=C7(n);return t?e.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):e.map(r=>r.pathnameBase)}function AP(n,t,e,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=kl(n):(i=hn({},n),Pt(!i.pathname||!i.pathname.includes("?"),eM("?","pathname","search",i)),Pt(!i.pathname||!i.pathname.includes("#"),eM("#","pathname","hash",i)),Pt(!i.search||!i.search.includes("#"),eM("#","search","hash",i)));let o=n===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=e;else{let d=t.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),d-=1;i.pathname=p.join("/")}s=d>=0?t[d]:"/"}let l=y7(i,s),u=a&&a!=="/"&&a.endsWith("/"),c=(o||a===".")&&e.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Bc=n=>n.join("/").replace(/\/\/+/g,"/"),Cye=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Sye=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,wye=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,_ye=function(t,e){e===void 0&&(e={});let r=typeof e=="number"?{status:e}:e,i=new Headers(r.headers);return i.has("Content-Type")||i.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(t),hn({},r,{headers:i}))};class qO extends Error{}class xye{constructor(t,e){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],Pt(t&&typeof t=="object"&&!Array.isArray(t),"defer() only accepts plain objects");let r;this.abortPromise=new Promise((o,a)=>r=a),this.controller=new AbortController;let i=()=>r(new qO("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",i),this.controller.signal.addEventListener("abort",i),this.data=Object.entries(t).reduce((o,a)=>{let[s,l]=a;return Object.assign(o,{[s]:this.trackPromise(s,l)})},{}),this.done&&this.unlistenAbortSignal(),this.init=e}trackPromise(t,e){if(!(e instanceof Promise))return e;this.deferredKeys.push(t),this.pendingKeysSet.add(t);let r=Promise.race([e,this.abortPromise]).then(i=>this.onSettle(r,t,void 0,i),i=>this.onSettle(r,t,i));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(t,e,r,i){if(this.controller.signal.aborted&&r instanceof qO)return this.unlistenAbortSignal(),Object.defineProperty(t,"_error",{get:()=>r}),Promise.reject(r);if(this.pendingKeysSet.delete(e),this.done&&this.unlistenAbortSignal(),r===void 0&&i===void 0){let o=new Error('Deferred data for key "'+e+'" resolved/rejected with `undefined`, you must resolve/reject with a value or `null`.');return Object.defineProperty(t,"_error",{get:()=>o}),this.emit(!1,e),Promise.reject(o)}return i===void 0?(Object.defineProperty(t,"_error",{get:()=>r}),this.emit(!1,e),Promise.reject(r)):(Object.defineProperty(t,"_data",{get:()=>i}),this.emit(!1,e),i)}emit(t,e){this.subscribers.forEach(r=>r(t,e))}subscribe(t){return this.subscribers.add(t),()=>this.subscribers.delete(t)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((t,e)=>this.pendingKeysSet.delete(e)),this.emit(!0)}async resolveData(t){let e=!1;if(!this.done){let r=()=>this.cancel();t.addEventListener("abort",r),e=await new Promise(i=>{this.subscribe(o=>{t.removeEventListener("abort",r),(o||this.done)&&i(o)})})}return e}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return Pt(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((t,e)=>{let[r,i]=e;return Object.assign(t,{[r]:Eye(i)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function bye(n){return n instanceof Promise&&n._tracked===!0}function Eye(n){if(!bye(n))return n;if(n._error)throw n._error;return n._data}const Oye=function(t,e){e===void 0&&(e={});let r=typeof e=="number"?{status:e}:e;return new xye(t,r)},S7=function(t,e){e===void 0&&(e=302);let r=e;typeof r=="number"?r={status:r}:typeof r.status>"u"&&(r.status=302);let i=new Headers(r.headers);return i.set("Location",t),new Response(null,hn({},r,{headers:i}))},Rye=(n,t)=>{let e=S7(n,t);return e.headers.set("X-Remix-Reload-Document","true"),e};class w7{constructor(t,e,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=e||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function jG(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const _7=["post","put","patch","delete"],Tye=new Set(_7),Pye=["get",..._7],Dye=new Set(Pye),Aye=new Set([301,302,303,307,308]),Mye=new Set([307,308]),tM={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Lye={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},bg={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},x7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fye=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),b7="remix-router-transitions";function Iye(n){const t=n.window?n.window:typeof window<"u"?window:void 0,e=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!e;Pt(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(n.mapRouteProperties)i=n.mapRouteProperties;else if(n.detectErrorBoundary){let J=n.detectErrorBoundary;i=te=>({hasErrorBoundary:J(te)})}else i=Fye;let o={},a=DI(n.routes,i,void 0,o),s,l=n.basename||"/",u=hn({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},n.future),c=null,d=new Set,p=null,h=null,f=null,v=n.hydrationData!=null,g=Tf(a,n.history.location,l),m=null;if(g==null){let J=bs(404,{pathname:n.history.location.pathname}),{matches:te,route:ae}=IW(a);g=te,m={[ae.id]:J}}let y,C=g.some(J=>J.route.lazy),S=g.some(J=>J.route.loader);if(C)y=!1;else if(!S)y=!0;else if(u.v7_partialHydration){let J=n.hydrationData?n.hydrationData.loaderData:null,te=n.hydrationData?n.hydrationData.errors:null,ae=be=>be.route.loader?be.route.loader.hydrate===!0?!1:J&&J[be.route.id]!==void 0||te&&te[be.route.id]!==void 0:!0;if(te){let be=g.findIndex(Fe=>te[Fe.route.id]!==void 0);y=g.slice(0,be+1).every(ae)}else y=g.every(ae)}else y=n.hydrationData!=null;let w,_={historyAction:n.history.action,location:n.history.location,matches:g,initialized:y,navigation:tM,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||m,fetchers:new Map,blockers:new Map},x=_n.Pop,E=!1,R,P=!1,A=new Map,N=null,I=!1,G=!1,V=[],H=[],j=new Map,B=0,$=-1,W=new Map,Y=new Set,Z=new Map,se=new Map,X=new Set,ie=new Map,z=new Map,Q=!1;function ue(){if(c=n.history.listen(J=>{let{action:te,location:ae,delta:be}=J;if(Q){Q=!1;return}zp(z.size===0||be!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Fe=an({currentLocation:_.location,nextLocation:ae,historyAction:te});if(Fe&&be!=null){Q=!0,n.history.go(be*-1),vr(Fe,{state:"blocked",location:ae,proceed(){vr(Fe,{state:"proceeding",proceed:void 0,reset:void 0,location:ae}),n.history.go(be)},reset(){let vt=new Map(_.blockers);vt.set(Fe,bg),oe({blockers:vt})}});return}return Pe(te,ae)}),e){zye(t,A);let J=()=>Kye(t,A);t.addEventListener("pagehide",J),N=()=>t.removeEventListener("pagehide",J)}return _.initialized||Pe(_n.Pop,_.location,{initialHydration:!0}),w}function pe(){c&&c(),N&&N(),d.clear(),R&&R.abort(),_.fetchers.forEach((J,te)=>ft(te)),_.blockers.forEach((J,te)=>zt(te))}function _e(J){return d.add(J),()=>d.delete(J)}function oe(J,te){te===void 0&&(te={}),_=hn({},_,J);let ae=[],be=[];u.v7_fetcherPersist&&_.fetchers.forEach((Fe,vt)=>{Fe.state==="idle"&&(X.has(vt)?be.push(vt):ae.push(vt))}),[...d].forEach(Fe=>Fe(_,{deletedFetchers:be,unstable_viewTransitionOpts:te.viewTransitionOpts,unstable_flushSync:te.flushSync===!0})),u.v7_fetcherPersist&&(ae.forEach(Fe=>_.fetchers.delete(Fe)),be.forEach(Fe=>ft(Fe)))}function we(J,te,ae){var be,Fe;let{flushSync:vt}=ae===void 0?{}:ae,gt=_.actionData!=null&&_.navigation.formMethod!=null&&vl(_.navigation.formMethod)&&_.navigation.state==="loading"&&((be=J.state)==null?void 0:be._isRedirect)!==!0,lt;te.actionData?Object.keys(te.actionData).length>0?lt=te.actionData:lt=null:gt?lt=_.actionData:lt=null;let ot=te.loaderData?FW(_.loaderData,te.loaderData,te.matches||[],te.errors):_.loaderData,Nt=_.blockers;Nt.size>0&&(Nt=new Map(Nt),Nt.forEach((Nr,pn)=>Nt.set(pn,bg)));let xr=E===!0||_.navigation.formMethod!=null&&vl(_.navigation.formMethod)&&((Fe=J.state)==null?void 0:Fe._isRedirect)!==!0;s&&(a=s,s=void 0),I||x===_n.Pop||(x===_n.Push?n.history.push(J,J.state):x===_n.Replace&&n.history.replace(J,J.state));let bt;if(x===_n.Pop){let Nr=A.get(_.location.pathname);Nr&&Nr.has(J.pathname)?bt={currentLocation:_.location,nextLocation:J}:A.has(J.pathname)&&(bt={currentLocation:J,nextLocation:_.location})}else if(P){let Nr=A.get(_.location.pathname);Nr?Nr.add(J.pathname):(Nr=new Set([J.pathname]),A.set(_.location.pathname,Nr)),bt={currentLocation:_.location,nextLocation:J}}oe(hn({},te,{actionData:lt,loaderData:ot,historyAction:x,location:J,initialized:!0,navigation:tM,revalidation:"idle",restoreScrollPosition:ol(J,te.matches||_.matches),preventScrollReset:xr,blockers:Nt}),{viewTransitionOpts:bt,flushSync:vt===!0}),x=_n.Pop,E=!1,P=!1,I=!1,G=!1,V=[],H=[]}async function ne(J,te){if(typeof J=="number"){n.history.go(J);return}let ae=AI(_.location,_.matches,l,u.v7_prependBasename,J,u.v7_relativeSplatPath,te==null?void 0:te.fromRouteId,te==null?void 0:te.relative),{path:be,submission:Fe,error:vt}=TW(u.v7_normalizeFormMethod,!1,ae,te),gt=_.location,lt=PI(_.location,be,te&&te.state);lt=hn({},lt,n.history.encodeLocation(lt));let ot=te&&te.replace!=null?te.replace:void 0,Nt=_n.Push;ot===!0?Nt=_n.Replace:ot===!1||Fe!=null&&vl(Fe.formMethod)&&Fe.formAction===_.location.pathname+_.location.search&&(Nt=_n.Replace);let xr=te&&"preventScrollReset"in te?te.preventScrollReset===!0:void 0,bt=(te&&te.unstable_flushSync)===!0,Nr=an({currentLocation:gt,nextLocation:lt,historyAction:Nt});if(Nr){vr(Nr,{state:"blocked",location:lt,proceed(){vr(Nr,{state:"proceeding",proceed:void 0,reset:void 0,location:lt}),ne(J,te)},reset(){let pn=new Map(_.blockers);pn.set(Nr,bg),oe({blockers:pn})}});return}return await Pe(Nt,lt,{submission:Fe,pendingError:vt,preventScrollReset:xr,replace:te&&te.replace,enableViewTransition:te&&te.unstable_viewTransition,flushSync:bt})}function xe(){if(tt(),oe({revalidation:"loading"}),_.navigation.state!=="submitting"){if(_.navigation.state==="idle"){Pe(_.historyAction,_.location,{startUninterruptedRevalidation:!0});return}Pe(x||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation})}}async function Pe(J,te,ae){R&&R.abort(),R=null,x=J,I=(ae&&ae.startUninterruptedRevalidation)===!0,fc(_.location,_.matches),E=(ae&&ae.preventScrollReset)===!0,P=(ae&&ae.enableViewTransition)===!0;let be=s||a,Fe=ae&&ae.overrideNavigation,vt=Tf(be,te,l),gt=(ae&&ae.flushSync)===!0;if(!vt){let pn=bs(404,{pathname:te.pathname}),{matches:Ai,route:An}=IW(be);po(),we(te,{matches:Ai,loaderData:{},errors:{[An.id]:pn}},{flushSync:gt});return}if(_.initialized&&!G&&Bye(_.location,te)&&!(ae&&ae.submission&&vl(ae.submission.formMethod))){we(te,{matches:vt},{flushSync:gt});return}R=new AbortController;let lt=eC(n.history,te,R.signal,ae&&ae.submission),ot,Nt;if(ae&&ae.pendingError)Nt={[uw(vt).route.id]:ae.pendingError};else if(ae&&ae.submission&&vl(ae.submission.formMethod)){let pn=await ze(lt,te,ae.submission,vt,{replace:ae.replace,flushSync:gt});if(pn.shortCircuited)return;ot=pn.pendingActionData,Nt=pn.pendingActionError,Fe=rM(te,ae.submission),gt=!1,lt=new Request(lt.url,{signal:lt.signal})}let{shortCircuited:xr,loaderData:bt,errors:Nr}=await ht(lt,te,vt,Fe,ae&&ae.submission,ae&&ae.fetcherSubmission,ae&&ae.replace,ae&&ae.initialHydration===!0,gt,ot,Nt);xr||(R=null,we(te,hn({matches:vt},ot?{actionData:ot}:{},{loaderData:bt,errors:Nr})))}async function ze(J,te,ae,be,Fe){Fe===void 0&&(Fe={}),tt();let vt=Wye(te,ae);oe({navigation:vt},{flushSync:Fe.flushSync===!0});let gt,lt=LI(be,te);if(!lt.route.action&&!lt.route.lazy)gt={type:xn.error,error:bs(405,{method:J.method,pathname:te.pathname,routeId:lt.route.id})};else if(gt=await Jy("action",J,lt,be,o,i,l,u.v7_relativeSplatPath),J.signal.aborted)return{shortCircuited:!0};if(Df(gt)){let ot;return Fe&&Fe.replace!=null?ot=Fe.replace:ot=gt.location===_.location.pathname+_.location.search,await Ee(_,gt,{submission:ae,replace:ot}),{shortCircuited:!0}}if(Hg(gt)){let ot=uw(be,lt.route.id);return(Fe&&Fe.replace)!==!0&&(x=_n.Push),{pendingActionData:{},pendingActionError:{[ot.route.id]:gt.error}}}if(Pf(gt))throw bs(400,{type:"defer-action"});return{pendingActionData:{[lt.route.id]:gt.data}}}async function ht(J,te,ae,be,Fe,vt,gt,lt,ot,Nt,xr){let bt=be||rM(te,Fe),Nr=Fe||vt||GW(bt),pn=s||a,[Ai,An]=PW(n.history,_,ae,Nr,te,u.v7_partialHydration&&lt===!0,G,V,H,X,Z,Y,pn,l,Nt,xr);if(po(gr=>!(ae&&ae.some(kr=>kr.route.id===gr))||Ai&&Ai.some(kr=>kr.route.id===gr)),$=++B,Ai.length===0&&An.length===0){let gr=ur();return we(te,hn({matches:ae,loaderData:{},errors:xr||null},Nt?{actionData:Nt}:{},gr?{fetchers:new Map(_.fetchers)}:{}),{flushSync:ot}),{shortCircuited:!0}}if(!I&&(!u.v7_partialHydration||!lt)){An.forEach(kr=>{let ko=_.fetchers.get(kr.key),nx=tC(void 0,ko?ko.data:void 0);_.fetchers.set(kr.key,nx)});let gr=Nt||_.actionData;oe(hn({navigation:bt},gr?Object.keys(gr).length===0?{actionData:null}:{actionData:gr}:{},An.length>0?{fetchers:new Map(_.fetchers)}:{}),{flushSync:ot})}An.forEach(gr=>{j.has(gr.key)&&We(gr.key),gr.controller&&j.set(gr.key,gr.controller)});let vc=()=>An.forEach(gr=>We(gr.key));R&&R.signal.addEventListener("abort",vc);let{results:Nv,loaderResults:gc,fetcherResults:Ql}=await Be(_.matches,ae,Ai,An,J);if(J.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",vc),An.forEach(gr=>j.delete(gr.key));let mc=NW(Nv);if(mc){if(mc.idx>=Ai.length){let gr=An[mc.idx-Ai.length].key;Y.add(gr)}return await Ee(_,mc.result,{replace:gt}),{shortCircuited:!0}}let{loaderData:Hy,errors:Th}=LW(_,ae,Ai,gc,xr,An,Ql,ie);ie.forEach((gr,kr)=>{gr.subscribe(ko=>{(ko||gr.done)&&ie.delete(kr)})}),u.v7_partialHydration&&lt&&_.errors&&Object.entries(_.errors).filter(gr=>{let[kr]=gr;return!Ai.some(ko=>ko.route.id===kr)}).forEach(gr=>{let[kr,ko]=gr;Th=Object.assign(Th||{},{[kr]:ko})});let Lt=ur(),Un=Ir($),rx=Lt||Un||An.length>0;return hn({loaderData:Hy,errors:Th},rx?{fetchers:new Map(_.fetchers)}:{})}function Ae(J,te,ae,be){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");j.has(J)&&We(J);let Fe=(be&&be.unstable_flushSync)===!0,vt=s||a,gt=AI(_.location,_.matches,l,u.v7_prependBasename,ae,u.v7_relativeSplatPath,te,be==null?void 0:be.relative),lt=Tf(vt,gt,l);if(!lt){rt(J,te,bs(404,{pathname:gt}),{flushSync:Fe});return}let{path:ot,submission:Nt,error:xr}=TW(u.v7_normalizeFormMethod,!0,gt,be);if(xr){rt(J,te,xr,{flushSync:Fe});return}let bt=LI(lt,ot);if(E=(be&&be.preventScrollReset)===!0,Nt&&vl(Nt.formMethod)){Ke(J,te,ot,bt,lt,Fe,Nt);return}Z.set(J,{routeId:te,path:ot}),he(J,te,ot,bt,lt,Fe,Nt)}async function Ke(J,te,ae,be,Fe,vt,gt){if(tt(),Z.delete(J),!be.route.action&&!be.route.lazy){let kr=bs(405,{method:gt.formMethod,pathname:ae,routeId:te});rt(J,te,kr,{flushSync:vt});return}let lt=_.fetchers.get(J);Ie(J,Uye(gt,lt),{flushSync:vt});let ot=new AbortController,Nt=eC(n.history,ae,ot.signal,gt);j.set(J,ot);let xr=B,bt=await Jy("action",Nt,be,Fe,o,i,l,u.v7_relativeSplatPath);if(Nt.signal.aborted){j.get(J)===ot&&j.delete(J);return}if(u.v7_fetcherPersist&&X.has(J)){if(Df(bt)||Hg(bt)){Ie(J,Qd(void 0));return}}else{if(Df(bt))if(j.delete(J),$>xr){Ie(J,Qd(void 0));return}else return Y.add(J),Ie(J,tC(gt)),Ee(_,bt,{fetcherSubmission:gt});if(Hg(bt)){rt(J,te,bt.error);return}}if(Pf(bt))throw bs(400,{type:"defer-action"});let Nr=_.navigation.location||_.location,pn=eC(n.history,Nr,ot.signal),Ai=s||a,An=_.navigation.state!=="idle"?Tf(Ai,_.navigation.location,l):_.matches;Pt(An,"Didn't find any matches after fetcher action");let vc=++B;W.set(J,vc);let Nv=tC(gt,bt.data);_.fetchers.set(J,Nv);let[gc,Ql]=PW(n.history,_,An,gt,Nr,!1,G,V,H,X,Z,Y,Ai,l,{[be.route.id]:bt.data},void 0);Ql.filter(kr=>kr.key!==J).forEach(kr=>{let ko=kr.key,nx=_.fetchers.get(ko),moe=tC(void 0,nx?nx.data:void 0);_.fetchers.set(ko,moe),j.has(ko)&&We(ko),kr.controller&&j.set(ko,kr.controller)}),oe({fetchers:new Map(_.fetchers)});let mc=()=>Ql.forEach(kr=>We(kr.key));ot.signal.addEventListener("abort",mc);let{results:Hy,loaderResults:Th,fetcherResults:Lt}=await Be(_.matches,An,gc,Ql,pn);if(ot.signal.aborted)return;ot.signal.removeEventListener("abort",mc),W.delete(J),j.delete(J),Ql.forEach(kr=>j.delete(kr.key));let Un=NW(Hy);if(Un){if(Un.idx>=gc.length){let kr=Ql[Un.idx-gc.length].key;Y.add(kr)}return Ee(_,Un.result)}let{loaderData:rx,errors:gr}=LW(_,_.matches,gc,Th,void 0,Ql,Lt,ie);if(_.fetchers.has(J)){let kr=Qd(bt.data);_.fetchers.set(J,kr)}Ir(vc),_.navigation.state==="loading"&&vc>$?(Pt(x,"Expected pending action"),R&&R.abort(),we(_.navigation.location,{matches:An,loaderData:rx,errors:gr,fetchers:new Map(_.fetchers)})):(oe({errors:gr,loaderData:FW(_.loaderData,rx,An,gr),fetchers:new Map(_.fetchers)}),G=!1)}async function he(J,te,ae,be,Fe,vt,gt){let lt=_.fetchers.get(J);Ie(J,tC(gt,lt?lt.data:void 0),{flushSync:vt});let ot=new AbortController,Nt=eC(n.history,ae,ot.signal);j.set(J,ot);let xr=B,bt=await Jy("loader",Nt,be,Fe,o,i,l,u.v7_relativeSplatPath);if(Pf(bt)&&(bt=await R7(bt,Nt.signal,!0)||bt),j.get(J)===ot&&j.delete(J),!Nt.signal.aborted){if(X.has(J)){Ie(J,Qd(void 0));return}if(Df(bt))if($>xr){Ie(J,Qd(void 0));return}else{Y.add(J),await Ee(_,bt);return}if(Hg(bt)){rt(J,te,bt.error);return}Pt(!Pf(bt),"Unhandled fetcher deferred data"),Ie(J,Qd(bt.data))}}async function Ee(J,te,ae){let{submission:be,fetcherSubmission:Fe,replace:vt}=ae===void 0?{}:ae;te.revalidate&&(G=!0);let gt=PI(J.location,te.location,{_isRedirect:!0});if(Pt(gt,"Expected a location on the redirect navigation"),e){let Nr=!1;if(te.reloadDocument)Nr=!0;else if(x7.test(te.location)){const pn=n.history.createURL(te.location);Nr=pn.origin!==t.location.origin||Kp(pn.pathname,l)==null}if(Nr){vt?t.location.replace(te.location):t.location.assign(te.location);return}}R=null;let lt=vt===!0?_n.Replace:_n.Push,{formMethod:ot,formAction:Nt,formEncType:xr}=J.navigation;!be&&!Fe&&ot&&Nt&&xr&&(be=GW(J.navigation));let bt=be||Fe;if(Mye.has(te.status)&&bt&&vl(bt.formMethod))await Pe(lt,gt,{submission:hn({},bt,{formAction:te.location}),preventScrollReset:E});else{let Nr=rM(gt,be);await Pe(lt,gt,{overrideNavigation:Nr,fetcherSubmission:Fe,preventScrollReset:E})}}async function Be(J,te,ae,be,Fe){let vt=await Promise.all([...ae.map(ot=>Jy("loader",Fe,ot,te,o,i,l,u.v7_relativeSplatPath)),...be.map(ot=>ot.matches&&ot.match&&ot.controller?Jy("loader",eC(n.history,ot.path,ot.controller.signal),ot.match,ot.matches,o,i,l,u.v7_relativeSplatPath):{type:xn.error,error:bs(404,{pathname:ot.path})})]),gt=vt.slice(0,ae.length),lt=vt.slice(ae.length);return await Promise.all([kW(J,ae,gt,gt.map(()=>Fe.signal),!1,_.loaderData),kW(J,be.map(ot=>ot.match),lt,be.map(ot=>ot.controller?ot.controller.signal:null),!0)]),{results:vt,loaderResults:gt,fetcherResults:lt}}function tt(){G=!0,V.push(...po()),Z.forEach((J,te)=>{j.has(te)&&(H.push(te),We(te))})}function Ie(J,te,ae){ae===void 0&&(ae={}),_.fetchers.set(J,te),oe({fetchers:new Map(_.fetchers)},{flushSync:(ae&&ae.flushSync)===!0})}function rt(J,te,ae,be){be===void 0&&(be={});let Fe=uw(_.matches,te);ft(J),oe({errors:{[Fe.route.id]:ae},fetchers:new Map(_.fetchers)},{flushSync:(be&&be.flushSync)===!0})}function mt(J){return u.v7_fetcherPersist&&(se.set(J,(se.get(J)||0)+1),X.has(J)&&X.delete(J)),_.fetchers.get(J)||Lye}function ft(J){let te=_.fetchers.get(J);j.has(J)&&!(te&&te.state==="loading"&&W.has(J))&&We(J),Z.delete(J),W.delete(J),Y.delete(J),X.delete(J),_.fetchers.delete(J)}function yt(J){if(u.v7_fetcherPersist){let te=(se.get(J)||0)-1;te<=0?(se.delete(J),X.add(J)):se.set(J,te)}else ft(J);oe({fetchers:new Map(_.fetchers)})}function We(J){let te=j.get(J);Pt(te,"Expected fetch controller: "+J),te.abort(),j.delete(J)}function dt(J){for(let te of J){let ae=mt(te),be=Qd(ae.data);_.fetchers.set(te,be)}}function ur(){let J=[],te=!1;for(let ae of Y){let be=_.fetchers.get(ae);Pt(be,"Expected fetcher: "+ae),be.state==="loading"&&(Y.delete(ae),J.push(ae),te=!0)}return dt(J),te}function Ir(J){let te=[];for(let[ae,be]of W)if(be<J){let Fe=_.fetchers.get(ae);Pt(Fe,"Expected fetcher: "+ae),Fe.state==="loading"&&(We(ae),W.delete(ae),te.push(ae))}return dt(te),te.length>0}function Ye(J,te){let ae=_.blockers.get(J)||bg;return z.get(J)!==te&&z.set(J,te),ae}function zt(J){_.blockers.delete(J),z.delete(J)}function vr(J,te){let ae=_.blockers.get(J)||bg;Pt(ae.state==="unblocked"&&te.state==="blocked"||ae.state==="blocked"&&te.state==="blocked"||ae.state==="blocked"&&te.state==="proceeding"||ae.state==="blocked"&&te.state==="unblocked"||ae.state==="proceeding"&&te.state==="unblocked","Invalid blocker state transition: "+ae.state+" -> "+te.state);let be=new Map(_.blockers);be.set(J,te),oe({blockers:be})}function an(J){let{currentLocation:te,nextLocation:ae,historyAction:be}=J;if(z.size===0)return;z.size>1&&zp(!1,"A router only supports one blocker at a time");let Fe=Array.from(z.entries()),[vt,gt]=Fe[Fe.length-1],lt=_.blockers.get(vt);if(!(lt&&lt.state==="proceeding")&&gt({currentLocation:te,nextLocation:ae,historyAction:be}))return vt}function po(J){let te=[];return ie.forEach((ae,be)=>{(!J||J(be))&&(ae.cancel(),te.push(be),ie.delete(be))}),te}function Zl(J,te,ae){if(p=J,f=te,h=ae||null,!v&&_.navigation===tM){v=!0;let be=ol(_.location,_.matches);be!=null&&oe({restoreScrollPosition:be})}return()=>{p=null,f=null,h=null}}function hc(J,te){return h&&h(J,te.map(be=>v7(be,_.loaderData)))||J.key}function fc(J,te){if(p&&f){let ae=hc(J,te);p[ae]=f()}}function ol(J,te){if(p){let ae=hc(J,te),be=p[ae];if(typeof be=="number")return be}return null}function cr(J){o={},s=DI(J,i,void 0,o)}return w={get basename(){return l},get future(){return u},get state(){return _},get routes(){return a},get window(){return t},initialize:ue,subscribe:_e,enableScrollRestoration:Zl,navigate:ne,fetch:Ae,revalidate:xe,createHref:J=>n.history.createHref(J),encodeLocation:J=>n.history.encodeLocation(J),getFetcher:mt,deleteFetcher:yt,dispose:pe,getBlocker:Ye,deleteBlocker:zt,_internalFetchControllers:j,_internalActiveDeferreds:ie,_internalSetRoutes:cr},w}function Nye(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function AI(n,t,e,r,i,o,a,s){let l,u;if(a){l=[];for(let d of t)if(l.push(d),d.route.id===a){u=d;break}}else l=t,u=t[t.length-1];let c=AP(i||".",DP(l,o),Kp(n.pathname,e)||n.pathname,s==="path");return i==null&&(c.search=n.search,c.hash=n.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!HG(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Bc([e,c.pathname])),av(c)}function TW(n,t,e,r){if(!r||!Nye(r))return{path:e};if(r.formMethod&&!$ye(r.formMethod))return{path:e,error:bs(405,{method:r.formMethod})};let i=()=>({path:e,error:bs(400,{type:"invalid-body"})}),o=r.formMethod||"get",a=n?o.toUpperCase():o.toLowerCase(),s=O7(e);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!vl(a))return i();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((h,f)=>{let[v,g]=f;return""+h+v+"="+g+`
`},""):String(r.body);return{path:e,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!vl(a))return i();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:e,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return i()}}}Pt(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=MI(r.formData),u=r.formData;else if(r.body instanceof FormData)l=MI(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=MW(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=MW(l)}catch{return i()}let c={formMethod:a,formAction:s,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(vl(c.formMethod))return{path:e,submission:c};let d=kl(e);return t&&d.search&&HG(d.search)&&l.append("index",""),d.search="?"+l,{path:av(d),submission:c}}function kye(n,t){let e=n;if(t){let r=n.findIndex(i=>i.route.id===t);r>=0&&(e=n.slice(0,r))}return e}function PW(n,t,e,r,i,o,a,s,l,u,c,d,p,h,f,v){let g=v?Object.values(v)[0]:f?Object.values(f)[0]:void 0,m=n.createURL(t.location),y=n.createURL(i),C=v?Object.keys(v)[0]:void 0,w=kye(e,C).filter((x,E)=>{let{route:R}=x;if(R.lazy)return!0;if(R.loader==null)return!1;if(o)return R.loader.hydrate?!0:t.loaderData[R.id]===void 0&&(!t.errors||t.errors[R.id]===void 0);if(Gye(t.loaderData,t.matches[E],x)||s.some(N=>N===x.route.id))return!0;let P=t.matches[E],A=x;return DW(x,hn({currentUrl:m,currentParams:P.params,nextUrl:y,nextParams:A.params},r,{actionResult:g,defaultShouldRevalidate:a||m.pathname+m.search===y.pathname+y.search||m.search!==y.search||E7(P,A)}))}),_=[];return c.forEach((x,E)=>{if(o||!e.some(I=>I.route.id===x.routeId)||u.has(E))return;let R=Tf(p,x.path,h);if(!R){_.push({key:E,routeId:x.routeId,path:x.path,matches:null,match:null,controller:null});return}let P=t.fetchers.get(E),A=LI(R,x.path),N=!1;d.has(E)?N=!1:l.includes(E)?N=!0:P&&P.state!=="idle"&&P.data===void 0?N=a:N=DW(A,hn({currentUrl:m,currentParams:t.matches[t.matches.length-1].params,nextUrl:y,nextParams:e[e.length-1].params},r,{actionResult:g,defaultShouldRevalidate:a})),N&&_.push({key:E,routeId:x.routeId,path:x.path,matches:R,match:A,controller:new AbortController})}),[w,_]}function Gye(n,t,e){let r=!t||e.route.id!==t.route.id,i=n[e.route.id]===void 0;return r||i}function E7(n,t){let e=n.route.path;return n.pathname!==t.pathname||e!=null&&e.endsWith("*")&&n.params["*"]!==t.params["*"]}function DW(n,t){if(n.route.shouldRevalidate){let e=n.route.shouldRevalidate(t);if(typeof e=="boolean")return e}return t.defaultShouldRevalidate}async function AW(n,t,e){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let i=e[n.id];Pt(i,"No route found in manifest");let o={};for(let a in r){let l=i[a]!==void 0&&a!=="hasErrorBoundary";zp(!l,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!l&&!nye.has(a)&&(o[a]=r[a])}Object.assign(i,o),Object.assign(i,hn({},t(i),{lazy:void 0}))}async function Jy(n,t,e,r,i,o,a,s,l){l===void 0&&(l={});let u,c,d,p=v=>{let g,m=new Promise((y,C)=>g=C);return d=()=>g(),t.signal.addEventListener("abort",d),Promise.race([v({request:t,params:e.params,context:l.requestContext}),m])};try{let v=e.route[n];if(e.route.lazy)if(v){let g,m=await Promise.all([p(v).catch(y=>{g=y}),AW(e.route,o,i)]);if(g)throw g;c=m[0]}else if(await AW(e.route,o,i),v=e.route[n],v)c=await p(v);else if(n==="action"){let g=new URL(t.url),m=g.pathname+g.search;throw bs(405,{method:t.method,pathname:m,routeId:e.route.id})}else return{type:xn.data,data:void 0};else if(v)c=await p(v);else{let g=new URL(t.url),m=g.pathname+g.search;throw bs(404,{pathname:m})}Pt(c!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+e.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(v){u=xn.error,c=v}finally{d&&t.signal.removeEventListener("abort",d)}if(Hye(c)){let v=c.status;if(Aye.has(v)){let m=c.headers.get("Location");if(Pt(m,"Redirects returned/thrown from loaders/actions must have a Location header"),!x7.test(m))m=AI(new URL(t.url),r.slice(0,r.indexOf(e)+1),a,!0,m,s);else if(!l.isStaticRequest){let y=new URL(t.url),C=m.startsWith("//")?new URL(y.protocol+m):new URL(m),S=Kp(C.pathname,a)!=null;C.origin===y.origin&&S&&(m=C.pathname+C.search+C.hash)}if(l.isStaticRequest)throw c.headers.set("Location",m),c;return{type:xn.redirect,status:v,location:m,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:u===xn.error?xn.error:xn.data,response:c};let g;try{let m=c.headers.get("Content-Type");m&&/\bapplication\/json\b/.test(m)?c.body==null?g=null:g=await c.json():g=await c.text()}catch(m){return{type:xn.error,error:m}}return u===xn.error?{type:u,error:new w7(v,c.statusText,g),headers:c.headers}:{type:xn.data,data:g,statusCode:c.status,headers:c.headers}}if(u===xn.error)return{type:u,error:c};if(jye(c)){var h,f;return{type:xn.deferred,deferredData:c,statusCode:(h=c.init)==null?void 0:h.status,headers:((f=c.init)==null?void 0:f.headers)&&new Headers(c.init.headers)}}return{type:xn.data,data:c}}function eC(n,t,e,r){let i=n.createURL(O7(t)).toString(),o={signal:e};if(r&&vl(r.formMethod)){let{formMethod:a,formEncType:s}=r;o.method=a.toUpperCase(),s==="application/json"?(o.headers=new Headers({"Content-Type":s}),o.body=JSON.stringify(r.json)):s==="text/plain"?o.body=r.text:s==="application/x-www-form-urlencoded"&&r.formData?o.body=MI(r.formData):o.body=r.formData}return new Request(i,o)}function MI(n){let t=new URLSearchParams;for(let[e,r]of n.entries())t.append(e,typeof r=="string"?r:r.name);return t}function MW(n){let t=new FormData;for(let[e,r]of n.entries())t.append(e,r);return t}function Vye(n,t,e,r,i){let o={},a=null,s,l=!1,u={};return e.forEach((c,d)=>{let p=t[d].route.id;if(Pt(!Df(c),"Cannot handle redirect results in processLoaderData"),Hg(c)){let h=uw(n,p),f=c.error;r&&(f=Object.values(r)[0],r=void 0),a=a||{},a[h.route.id]==null&&(a[h.route.id]=f),o[p]=void 0,l||(l=!0,s=jG(c.error)?c.error.status:500),c.headers&&(u[p]=c.headers)}else Pf(c)?(i.set(p,c.deferredData),o[p]=c.deferredData.data):o[p]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(s=c.statusCode),c.headers&&(u[p]=c.headers)}),r&&(a=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:a,statusCode:s||200,loaderHeaders:u}}function LW(n,t,e,r,i,o,a,s){let{loaderData:l,errors:u}=Vye(t,e,r,i,s);for(let c=0;c<o.length;c++){let{key:d,match:p,controller:h}=o[c];Pt(a!==void 0&&a[c]!==void 0,"Did not find corresponding fetcher result");let f=a[c];if(!(h&&h.signal.aborted))if(Hg(f)){let v=uw(n.matches,p==null?void 0:p.route.id);u&&u[v.route.id]||(u=hn({},u,{[v.route.id]:f.error})),n.fetchers.delete(d)}else if(Df(f))Pt(!1,"Unhandled fetcher revalidation redirect");else if(Pf(f))Pt(!1,"Unhandled fetcher deferred data");else{let v=Qd(f.data);n.fetchers.set(d,v)}}return{loaderData:l,errors:u}}function FW(n,t,e,r){let i=hn({},t);for(let o of e){let a=o.route.id;if(t.hasOwnProperty(a)?t[a]!==void 0&&(i[a]=t[a]):n[a]!==void 0&&o.route.loader&&(i[a]=n[a]),r&&r.hasOwnProperty(a))break}return i}function uw(n,t){return(t?n.slice(0,n.findIndex(r=>r.route.id===t)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function IW(n){let t=n.length===1?n[0]:n.find(e=>e.index||!e.path||e.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function bs(n,t){let{pathname:e,routeId:r,method:i,type:o}=t===void 0?{}:t,a="Unknown Server Error",s="Unknown @remix-run/router error";return n===400?(a="Bad Request",i&&e&&r?s="You made a "+i+' request to "'+e+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?s="defer() is not supported in actions":o==="invalid-body"&&(s="Unable to encode submission body")):n===403?(a="Forbidden",s='Route "'+r+'" does not match URL "'+e+'"'):n===404?(a="Not Found",s='No route matches URL "'+e+'"'):n===405&&(a="Method Not Allowed",i&&e&&r?s="You made a "+i.toUpperCase()+' request to "'+e+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(s='Invalid request method "'+i.toUpperCase()+'"')),new w7(n||500,a,new Error(s),!0)}function NW(n){for(let t=n.length-1;t>=0;t--){let e=n[t];if(Df(e))return{result:e,idx:t}}}function O7(n){let t=typeof n=="string"?kl(n):n;return av(hn({},t,{hash:""}))}function Bye(n,t){return n.pathname!==t.pathname||n.search!==t.search?!1:n.hash===""?t.hash!=="":n.hash===t.hash?!0:t.hash!==""}function Pf(n){return n.type===xn.deferred}function Hg(n){return n.type===xn.error}function Df(n){return(n&&n.type)===xn.redirect}function jye(n){let t=n;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function Hye(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function $ye(n){return Dye.has(n.toLowerCase())}function vl(n){return Tye.has(n.toLowerCase())}async function kW(n,t,e,r,i,o){for(let a=0;a<e.length;a++){let s=e[a],l=t[a];if(!l)continue;let u=n.find(d=>d.route.id===l.route.id),c=u!=null&&!E7(u,l)&&(o&&o[l.route.id])!==void 0;if(Pf(s)&&(i||c)){let d=r[a];Pt(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await R7(s,d,i).then(p=>{p&&(e[a]=p||e[a])})}}}async function R7(n,t,e){if(e===void 0&&(e=!1),!await n.deferredData.resolveData(t)){if(e)try{return{type:xn.data,data:n.deferredData.unwrappedData}}catch(i){return{type:xn.error,error:i}}return{type:xn.data,data:n.deferredData.data}}}function HG(n){return new URLSearchParams(n).getAll("index").some(t=>t==="")}function LI(n,t){let e=typeof t=="string"?kl(t).search:t.search;if(n[n.length-1].route.index&&HG(e||""))return n[n.length-1];let r=C7(n);return r[r.length-1]}function GW(n){let{formMethod:t,formAction:e,formEncType:r,text:i,formData:o,json:a}=n;if(!(!t||!e||!r)){if(i!=null)return{formMethod:t,formAction:e,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:t,formAction:e,formEncType:r,formData:o,json:void 0,text:void 0};if(a!==void 0)return{formMethod:t,formAction:e,formEncType:r,formData:void 0,json:a,text:void 0}}}function rM(n,t){return t?{state:"loading",location:n,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Wye(n,t){return{state:"submitting",location:n,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function tC(n,t){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Uye(n,t){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:t?t.data:void 0}}function Qd(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function zye(n,t){try{let e=n.sessionStorage.getItem(b7);if(e){let r=JSON.parse(e);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&t.set(i,new Set(o||[]))}}catch{}}function Kye(n,t){if(t.size>0){let e={};for(let[r,i]of t)e[r]=[...i];try{n.sessionStorage.setItem(b7,JSON.stringify(e))}catch(r){zp(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yp(){return Yp=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Yp.apply(this,arguments)}const p_=T.createContext(null),$G=T.createContext(null),XO=T.createContext(null),fd=T.createContext(null),Cy=T.createContext(null),Gl=T.createContext({outlet:null,matches:[],isDataRoute:!1}),T7=T.createContext(null);function P7(n,t){let{relative:e}=t===void 0?{}:t;sh()||Pt(!1);let{basename:r,navigator:i}=T.useContext(fd),{hash:o,pathname:a,search:s}=UG(n,{relative:e}),l=a;return r!=="/"&&(l=a==="/"?r:Bc([r,a])),i.createHref({pathname:l,search:s,hash:o})}function sh(){return T.useContext(Cy)!=null}function _v(){return sh()||Pt(!1),T.useContext(Cy).location}function Yye(){return T.useContext(Cy).navigationType}function qye(n){sh()||Pt(!1);let{pathname:t}=_v();return T.useMemo(()=>BG(n,t),[t,n])}function D7(n){T.useContext(fd).static||T.useLayoutEffect(n)}function WG(){let{isDataRoute:n}=T.useContext(Gl);return n?hCe():Xye()}function Xye(){sh()||Pt(!1);let n=T.useContext(p_),{basename:t,future:e,navigator:r}=T.useContext(fd),{matches:i}=T.useContext(Gl),{pathname:o}=_v(),a=JSON.stringify(DP(i,e.v7_relativeSplatPath)),s=T.useRef(!1);return D7(()=>{s.current=!0}),T.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let d=AP(u,JSON.parse(a),o,c.relative==="path");n==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Bc([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,a,o,n])}const A7=T.createContext(null);function Zye(){return T.useContext(A7)}function M7(n){let t=T.useContext(Gl).outlet;return t&&T.createElement(A7.Provider,{value:n},t)}function h_(){let{matches:n}=T.useContext(Gl),t=n[n.length-1];return t?t.params:{}}function UG(n,t){let{relative:e}=t===void 0?{}:t,{future:r}=T.useContext(fd),{matches:i}=T.useContext(Gl),{pathname:o}=_v(),a=JSON.stringify(DP(i,r.v7_relativeSplatPath));return T.useMemo(()=>AP(n,JSON.parse(a),o,e==="path"),[n,a,o,e])}function L7(n,t){return zG(n,t)}function zG(n,t,e,r){sh()||Pt(!1);let{navigator:i}=T.useContext(fd),{matches:o}=T.useContext(Gl),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=_v(),c;if(t){var d;let g=typeof t=="string"?kl(t):t;l==="/"||(d=g.pathname)!=null&&d.startsWith(l)||Pt(!1),c=g}else c=u;let p=c.pathname||"/",h=p;if(l!=="/"){let g=l.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(g.length).join("/")}let f=Tf(n,{pathname:h}),v=F7(f&&f.map(g=>Object.assign({},g,{params:Object.assign({},s,g.params),pathname:Bc([l,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:Bc([l,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,e,r);return t&&v?T.createElement(Cy.Provider,{value:{location:Yp({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:_n.Pop}},v):v}function Qye(){let n=I7(),t=jG(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),e?T.createElement("pre",{style:i},e):null,o)}const Jye=T.createElement(Qye,null);class eCe extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?T.createElement(Gl.Provider,{value:this.props.routeContext},T.createElement(T7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tCe(n){let{routeContext:t,match:e,children:r}=n,i=T.useContext(p_);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(Gl.Provider,{value:t},r)}function F7(n,t,e,r){var i;if(t===void 0&&(t=[]),e===void 0&&(e=null),r===void 0&&(r=null),n==null){var o;if((o=e)!=null&&o.errors)n=e.matches;else return null}let a=n,s=(i=e)==null?void 0:i.errors;if(s!=null){let c=a.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id]));c>=0||Pt(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(e&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:p,errors:h}=e,f=d.route.loader&&p[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||f){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,d,p)=>{let h,f=!1,v=null,g=null;e&&(h=s&&d.route.id?s[d.route.id]:void 0,v=d.route.errorElement||Jye,l&&(u<0&&p===0?(fCe("route-fallback",!1),f=!0,g=null):u===p&&(f=!0,g=d.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,p+1)),y=()=>{let C;return h?C=v:f?C=g:d.route.Component?C=T.createElement(d.route.Component,null):d.route.element?C=d.route.element:C=c,T.createElement(tCe,{match:d,routeContext:{outlet:c,matches:m,isDataRoute:e!=null},children:C})};return e&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?T.createElement(eCe,{location:e.location,revalidation:e.revalidation,component:v,error:h,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var MP=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(MP||{}),ga=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(ga||{});function KG(n){let t=T.useContext(p_);return t||Pt(!1),t}function lh(n){let t=T.useContext($G);return t||Pt(!1),t}function rCe(n){let t=T.useContext(Gl);return t||Pt(!1),t}function f_(n){let t=rCe(),e=t.matches[t.matches.length-1];return e.route.id||Pt(!1),e.route.id}function nCe(){return f_(ga.UseRouteId)}function iCe(){return lh(ga.UseNavigation).navigation}function oCe(){let n=KG(MP.UseRevalidator),t=lh(ga.UseRevalidator);return T.useMemo(()=>({revalidate:n.router.revalidate,state:t.revalidation}),[n.router.revalidate,t.revalidation])}function aCe(){let{matches:n,loaderData:t}=lh(ga.UseMatches);return T.useMemo(()=>n.map(e=>v7(e,t)),[n,t])}function sCe(){let n=lh(ga.UseLoaderData),t=f_(ga.UseLoaderData);if(n.errors&&n.errors[t]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+t+")");return}return n.loaderData[t]}function lCe(n){return lh(ga.UseRouteLoaderData).loaderData[n]}function uCe(){let n=lh(ga.UseActionData),t=f_(ga.UseLoaderData);return n.actionData?n.actionData[t]:void 0}function I7(){var n;let t=T.useContext(T7),e=lh(ga.UseRouteError),r=f_(ga.UseRouteError);return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function N7(){let n=T.useContext(XO);return n==null?void 0:n._data}function cCe(){let n=T.useContext(XO);return n==null?void 0:n._error}let dCe=0;function pCe(n){let{router:t,basename:e}=KG(MP.UseBlocker),r=lh(ga.UseBlocker),[i,o]=T.useState(""),a=T.useCallback(s=>{if(typeof n!="function")return!!n;if(e==="/")return n(s);let{currentLocation:l,nextLocation:u,historyAction:c}=s;return n({currentLocation:Yp({},l,{pathname:Kp(l.pathname,e)||l.pathname}),nextLocation:Yp({},u,{pathname:Kp(u.pathname,e)||u.pathname}),historyAction:c})},[e,n]);return T.useEffect(()=>{let s=String(++dCe);return o(s),()=>t.deleteBlocker(s)},[t]),T.useEffect(()=>{i!==""&&t.getBlocker(i,a)},[t,i,a]),i&&r.blockers.has(i)?r.blockers.get(i):bg}function hCe(){let{router:n}=KG(MP.UseNavigateStable),t=f_(ga.UseNavigateStable),e=T.useRef(!1);return D7(()=>{e.current=!0}),T.useCallback(function(i,o){o===void 0&&(o={}),e.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,Yp({fromRouteId:t},o)))},[n,t])}const VW={};function fCe(n,t,e){!t&&!VW[n]&&(VW[n]=!0)}const vCe="startTransition",ZO=Nw[vCe];function gCe(n){let{fallbackElement:t,router:e,future:r}=n,[i,o]=T.useState(e.state),{v7_startTransition:a}=r||{},s=T.useCallback(d=>{a&&ZO?ZO(()=>o(d)):o(d)},[o,a]);T.useLayoutEffect(()=>e.subscribe(s),[e,s]),T.useEffect(()=>{},[]);let l=T.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:d=>e.navigate(d),push:(d,p,h)=>e.navigate(d,{state:p,preventScrollReset:h==null?void 0:h.preventScrollReset}),replace:(d,p,h)=>e.navigate(d,{replace:!0,state:p,preventScrollReset:h==null?void 0:h.preventScrollReset})}),[e]),u=e.basename||"/",c=T.useMemo(()=>({router:e,navigator:l,static:!1,basename:u}),[e,l,u]);return T.createElement(T.Fragment,null,T.createElement(p_.Provider,{value:c},T.createElement($G.Provider,{value:i},T.createElement(YG,{basename:u,location:i.location,navigationType:i.historyAction,navigator:l,future:{v7_relativeSplatPath:e.future.v7_relativeSplatPath}},i.initialized||e.future.v7_partialHydration?T.createElement(mCe,{routes:e.routes,future:e.future,state:i}):t))),null)}function mCe(n){let{routes:t,future:e,state:r}=n;return zG(t,void 0,r,e)}function yCe(n){let{basename:t,children:e,initialEntries:r,initialIndex:i,future:o}=n,a=T.useRef();a.current==null&&(a.current=f7({initialEntries:r,initialIndex:i,v5Compat:!0}));let s=a.current,[l,u]=T.useState({action:s.action,location:s.location}),{v7_startTransition:c}=o||{},d=T.useCallback(p=>{c&&ZO?ZO(()=>u(p)):u(p)},[u,c]);return T.useLayoutEffect(()=>s.listen(d),[s,d]),T.createElement(YG,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:s,future:o})}function CCe(n){let{to:t,replace:e,state:r,relative:i}=n;sh()||Pt(!1);let{future:o,static:a}=T.useContext(fd),{matches:s}=T.useContext(Gl),{pathname:l}=_v(),u=WG(),c=AP(t,DP(s,o.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return T.useEffect(()=>u(JSON.parse(d),{replace:e,state:r,relative:i}),[u,d,i,e,r]),null}function SCe(n){return M7(n.context)}function Ko(n){Pt(!1)}function YG(n){let{basename:t="/",children:e=null,location:r,navigationType:i=_n.Pop,navigator:o,static:a=!1,future:s}=n;sh()&&Pt(!1);let l=t.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:l,navigator:o,static:a,future:Yp({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=kl(r));let{pathname:c="/",search:d="",hash:p="",state:h=null,key:f="default"}=r,v=T.useMemo(()=>{let g=Kp(c,l);return g==null?null:{location:{pathname:g,search:d,hash:p,state:h,key:f},navigationType:i}},[l,c,d,p,h,f,i]);return v==null?null:T.createElement(fd.Provider,{value:u},T.createElement(Cy.Provider,{children:e,value:v}))}function k7(n){let{children:t,location:e}=n;return L7(u0(t),e)}function wCe(n){let{children:t,errorElement:e,resolve:r}=n;return T.createElement(xCe,{resolve:r,errorElement:e},T.createElement(bCe,null,t))}var Ss=function(n){return n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error",n}(Ss||{});const _Ce=new Promise(()=>{});class xCe extends T.Component{constructor(t){super(t),this.state={error:null}}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t,e){console.error("<Await> caught the following error during render",t,e)}render(){let{children:t,errorElement:e,resolve:r}=this.props,i=null,o=Ss.pending;if(!(r instanceof Promise))o=Ss.success,i=Promise.resolve(),Object.defineProperty(i,"_tracked",{get:()=>!0}),Object.defineProperty(i,"_data",{get:()=>r});else if(this.state.error){o=Ss.error;let a=this.state.error;i=Promise.reject().catch(()=>{}),Object.defineProperty(i,"_tracked",{get:()=>!0}),Object.defineProperty(i,"_error",{get:()=>a})}else r._tracked?(i=r,o=i._error!==void 0?Ss.error:i._data!==void 0?Ss.success:Ss.pending):(o=Ss.pending,Object.defineProperty(r,"_tracked",{get:()=>!0}),i=r.then(a=>Object.defineProperty(r,"_data",{get:()=>a}),a=>Object.defineProperty(r,"_error",{get:()=>a})));if(o===Ss.error&&i._error instanceof qO)throw _Ce;if(o===Ss.error&&!e)throw i._error;if(o===Ss.error)return T.createElement(XO.Provider,{value:i,children:e});if(o===Ss.success)return T.createElement(XO.Provider,{value:i,children:t});throw i}}function bCe(n){let{children:t}=n,e=N7(),r=typeof t=="function"?t(e):t;return T.createElement(T.Fragment,null,r)}function u0(n,t){t===void 0&&(t=[]);let e=[];return T.Children.forEach(n,(r,i)=>{if(!T.isValidElement(r))return;let o=[...t,i];if(r.type===T.Fragment){e.push.apply(e,u0(r.props.children,o));return}r.type!==Ko&&Pt(!1),!r.props.index||!r.props.children||Pt(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=u0(r.props.children,o)),e.push(a)}),e}function ECe(n){return F7(n)}function G7(n){let t={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(t,{element:T.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:T.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(t,{errorElement:T.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),t}function OCe(n,t){return Iye({basename:t==null?void 0:t.basename,future:Yp({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:f7({initialEntries:t==null?void 0:t.initialEntries,initialIndex:t==null?void 0:t.initialIndex}),hydrationData:t==null?void 0:t.hydrationData,routes:n,mapRouteProperties:G7}).initialize()}const RCe=Object.freeze(Object.defineProperty({__proto__:null,AbortedDeferredError:qO,Await:wCe,MemoryRouter:yCe,Navigate:CCe,get NavigationType(){return _n},Outlet:SCe,Route:Ko,Router:YG,RouterProvider:gCe,Routes:k7,UNSAFE_DataRouterContext:p_,UNSAFE_DataRouterStateContext:$G,UNSAFE_LocationContext:Cy,UNSAFE_NavigationContext:fd,UNSAFE_RouteContext:Gl,UNSAFE_mapRouteProperties:G7,UNSAFE_useRouteId:nCe,UNSAFE_useRoutesImpl:zG,createMemoryRouter:OCe,createPath:av,createRoutesFromChildren:u0,createRoutesFromElements:u0,defer:Oye,generatePath:vye,isRouteErrorResponse:jG,json:_ye,matchPath:BG,matchRoutes:Tf,parsePath:kl,redirect:S7,redirectDocument:Rye,renderMatches:ECe,resolvePath:y7,useActionData:uCe,useAsyncError:cCe,useAsyncValue:N7,useBlocker:pCe,useHref:P7,useInRouterContext:sh,useLoaderData:sCe,useLocation:_v,useMatch:qye,useMatches:aCe,useNavigate:WG,useNavigation:iCe,useNavigationType:Yye,useOutlet:M7,useOutletContext:Zye,useParams:h_,useResolvedPath:UG,useRevalidator:oCe,useRouteError:I7,useRouteLoaderData:lCe,useRoutes:L7},Symbol.toStringTag,{value:"Module"})),TCe=Nl(RCe);var PCe=ee&&ee.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(VG,"__esModule",{value:!0});var V7=VG.HistoryRouter=void 0,nM=PCe(T),DCe=TCe;function ACe(n){var t=n.basename,e=n.children,r=n.history,i=nM.default.useState({action:r.action,location:r.location}),o=i[0],a=i[1];return nM.default.useLayoutEffect(function(){return r.listen(a)},[r]),nM.default.createElement(DCe.Router,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:r})}V7=VG.HistoryRouter=ACe;/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function FI(){return FI=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},FI.apply(this,arguments)}function MCe(n,t){if(n==null)return{};var e={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(e[i]=n[i]);return e}function LCe(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function FCe(n,t){return n.button===0&&(!t||t==="_self")&&!LCe(n)}const ICe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],NCe="6";try{window.__reactRouterVersion=NCe}catch{}const kCe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GCe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vm=T.forwardRef(function(t,e){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=t,p=MCe(t,ICe),{basename:h}=T.useContext(fd),f,v=!1;if(typeof u=="string"&&GCe.test(u)&&(f=u,kCe))try{let C=new URL(window.location.href),S=u.startsWith("//")?new URL(C.protocol+u):new URL(u),w=Kp(S.pathname,h);S.origin===C.origin&&w!=null?u=w+S.search+S.hash:v=!0}catch{}let g=P7(u,{relative:i}),m=VCe(u,{replace:a,state:s,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:d});function y(C){r&&r(C),C.defaultPrevented||m(C)}return T.createElement("a",FI({},p,{href:f||g,onClick:v||o?r:y,ref:e,target:l}))});var BW;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(BW||(BW={}));var jW;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(jW||(jW={}));function VCe(n,t){let{target:e,replace:r,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:s}=t===void 0?{}:t,l=WG(),u=_v(),c=UG(n,{relative:a});return T.useCallback(d=>{if(FCe(d,e)){d.preventDefault();let p=r!==void 0?r:av(u)===av(c);l(n,{replace:p,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:s})}},[u,l,c,r,i,e,n,o,a,s])}function BCe(n){return He("MuiButton",n)}const jCe=$e("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Rx=jCe,HCe=T.createContext({}),B7=HCe,$Ce=T.createContext(void 0),WCe=$Ce,UCe=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],zCe=n=>{const{color:t,disableElevation:e,fullWidth:r,size:i,variant:o,classes:a}=n,s={root:["root",o,`${o}${Se(t)}`,`size${Se(i)}`,`${o}Size${Se(i)}`,`color${Se(t)}`,e&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${Se(i)}`],endIcon:["icon","endIcon",`iconSize${Se(i)}`]},l=Ge(s,BCe,a);return L({},a,l)},j7=n=>L({},n.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},n.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},n.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),KCe=le(Jc,{shouldForwardProp:n=>mi(n)||n==="classes",name:"MuiButton",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,t[e.variant],t[`${e.variant}${Se(e.color)}`],t[`size${Se(e.size)}`],t[`${e.variant}Size${Se(e.size)}`],e.color==="inherit"&&t.colorInherit,e.disableElevation&&t.disableElevation,e.fullWidth&&t.fullWidth]}})(({theme:n,ownerState:t})=>{var e,r;const i=n.palette.mode==="light"?n.palette.grey[300]:n.palette.grey[800],o=n.palette.mode==="light"?n.palette.grey.A100:n.palette.grey[700];return L({},n.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":L({textDecoration:"none",backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:At(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:n.vars?`rgba(${n.vars.palette[t.color].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:At(n.palette[t.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(n.vars||n).palette[t.color].main}`,backgroundColor:n.vars?`rgba(${n.vars.palette[t.color].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:At(n.palette[t.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:n.vars?n.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(n.vars||n).shadows[4],"@media (hover: none)":{boxShadow:(n.vars||n).shadows[2],backgroundColor:(n.vars||n).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(n.vars||n).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(n.vars||n).palette[t.color].main}}),"&:active":L({},t.variant==="contained"&&{boxShadow:(n.vars||n).shadows[8]}),[`&.${Rx.focusVisible}`]:L({},t.variant==="contained"&&{boxShadow:(n.vars||n).shadows[6]}),[`&.${Rx.disabled}`]:L({color:(n.vars||n).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(n.vars||n).palette.action.disabled,boxShadow:(n.vars||n).shadows[0],backgroundColor:(n.vars||n).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(n.vars||n).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(n.vars||n).palette[t.color].main,border:n.vars?`1px solid rgba(${n.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${At(n.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:n.vars?n.vars.palette.text.primary:(e=(r=n.palette).getContrastText)==null?void 0:e.call(r,n.palette.grey[300]),backgroundColor:n.vars?n.vars.palette.Button.inheritContainedBg:i,boxShadow:(n.vars||n).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(n.vars||n).palette[t.color].contrastText,backgroundColor:(n.vars||n).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:n.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:n.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:n.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:n.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:n.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:n.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:n})=>n.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Rx.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Rx.disabled}`]:{boxShadow:"none"}}),YCe=le("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.startIcon,t[`iconSize${Se(e.size)}`]]}})(({ownerState:n})=>L({display:"inherit",marginRight:8,marginLeft:-4},n.size==="small"&&{marginLeft:-2},j7(n))),qCe=le("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.endIcon,t[`iconSize${Se(e.size)}`]]}})(({ownerState:n})=>L({display:"inherit",marginRight:-4,marginLeft:8},n.size==="small"&&{marginRight:-2},j7(n))),XCe=T.forwardRef(function(t,e){const r=T.useContext(B7),i=T.useContext(WCe),o=xP(r,t),a=Ve({props:o,name:"MuiButton"}),{children:s,color:l="primary",component:u="button",className:c,disabled:d=!1,disableElevation:p=!1,disableFocusRipple:h=!1,endIcon:f,focusVisibleClassName:v,fullWidth:g=!1,size:m="medium",startIcon:y,type:C,variant:S="text"}=a,w=ve(a,UCe),_=L({},a,{color:l,component:u,disabled:d,disableElevation:p,disableFocusRipple:h,fullWidth:g,size:m,type:C,variant:S}),x=zCe(_),E=y&&b.jsx(YCe,{className:x.startIcon,ownerState:_,children:y}),R=f&&b.jsx(qCe,{className:x.endIcon,ownerState:_,children:f}),P=i||"";return b.jsxs(KCe,L({ownerState:_,className:Re(r.className,x.root,c,P),component:u,disabled:d,focusRipple:!h,focusVisibleClassName:Re(x.focusVisible,v),ref:e,type:C},w,{classes:x,children:[E,s,R]}))}),Et=XCe,ZCe=ade({createStyledComponent:le("div",{name:"MuiStack",slot:"Root",overridesResolver:(n,t)=>t.root}),useThemeProps:n=>Ve({props:n,name:"MuiStack"})}),na=ZCe,Yr=window.location.hostname=="localhost"?"http://localhost:8000/":"https://api.reg.furcation.org.uk/",QCe=window.location.protocol+"//"+window.location.host;function JCe(){return fetch(Yr+"auth/o/keycloak/?"+new URLSearchParams({redirect_uri:QCe}),{method:"GET",credentials:"include"})}function eSe(n,t){return fetch(Yr+"auth/o/keycloak/",{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({state:n,code:t})})}function tSe(n,t){return fetch(Yr+"telegram/",{method:"POST",headers:{Authorization:"Token "+localStorage.getItem("TOKEN"),"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({request:"send_message",user_id:String(n),message:t})})}function H7(){return fetch(Yr+"auth/users/",{method:"GET",credentials:"include",headers:{Authorization:"Token "+localStorage.getItem("TOKEN")}})}function $7(n){return fetch(Yr+"auth/users/"+n+"/",{method:"GET",credentials:"include",headers:{Authorization:"Token "+localStorage.getItem("TOKEN")}})}function rSe(n){return fetch(Yr+"auth/users/"+n.id+"/",{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("TOKEN")},body:JSON.stringify(n)})}function qG(){return fetch(Yr+"accommodation/",{method:"GET",credentials:"include",headers:{Authorization:"Token "+localStorage.getItem("TOKEN")}})}function nSe(n){return fetch(Yr+"accommodation/"+n+"/",{method:"GET",credentials:"include",headers:{Authorization:"Token "+localStorage.getItem("TOKEN")}})}function iSe(n){return fetch(Yr+"accommodation/",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("TOKEN")},body:JSON.stringify(n)})}function oSe(n){return fetch(Yr+"accommodation/"+n.id+"/",{method:"DELETE",credentials:"include",headers:{Authorization:"Token "+localStorage.getItem("TOKEN")}})}function aSe(n){return fetch(Yr+"accommodation/"+n.id+"/",{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("TOKEN")},body:JSON.stringify(n)})}function c0(){return fetch(Yr+"groups/",{method:"GET",credentials:"include",headers:{Authorization:"Token "+localStorage.getItem("TOKEN")}})}function sSe(n,t){return fetch(Yr+"lottery/",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("TOKEN")},body:JSON.stringify({ticket:n,accom:t})})}function lSe(n){return fetch(Yr+"lottery/",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("TOKEN")},body:JSON.stringify({rooms:n})})}function QO(n){return fetch(Yr+"groups/"+n+"/",{method:"GET",credentials:"include",headers:{Authorization:"Token "+localStorage.getItem("TOKEN")}})}function uSe(n){return fetch(Yr+"groups/"+n.id+"/",{method:"DELETE",credentials:"include",headers:{Authorization:"Token "+localStorage.getItem("TOKEN")}})}function cSe(n){return fetch(Yr+"auth/users/"+n.id+"/",{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("TOKEN")}})}function dSe(n,t){return fetch(Yr+"groups/"+n.id+"/",{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("TOKEN")},body:JSON.stringify({owner:{id:t,nickname:""}})})}function _S(n){return fetch(Yr+"groups/"+n.id+"/",{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("TOKEN")},body:JSON.stringify(n)})}function W7(){return fetch(Yr+"config/",{method:"GET",credentials:"include",headers:{Authorization:"Token "+localStorage.getItem("TOKEN")}})}function pSe(){return fetch(Yr+"stats/",{method:"GET",credentials:"include",headers:{Authorization:"Token "+localStorage.getItem("TOKEN")}})}function hSe(n){return fetch(Yr+"config/"+n.id+"/",{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("TOKEN")},body:JSON.stringify({value:n.value})})}function fSe(n){return fetch(Yr+"badge-images/"+n.id+"/",{method:"PUT",credentials:"include",headers:{Authorization:"Token "+localStorage.getItem("TOKEN")}})}function vSe(n,t){return fetch(n,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:t})}function gSe(n){return fetch(Yr+"badge-images/"+n.id+"/",{method:"DELETE",credentials:"include",headers:{Authorization:"Token "+localStorage.getItem("TOKEN")}})}function LP(n){return Ve}const mSe=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],ySe=["component","slots","slotProps"],CSe=["component"];function II(n,t){const{className:e,elementType:r,ownerState:i,externalForwardedProps:o,getSlotOwnerState:a,internalForwardedProps:s}=t,l=ve(t,mSe),{component:u,slots:c={[n]:void 0},slotProps:d={[n]:void 0}}=o,p=ve(o,ySe),h=c[n]||r,f=RP(d[n],i),v=E9(L({className:e},l,{externalForwardedProps:n==="root"?p:void 0,externalSlotProps:f})),{props:{component:g},internalRef:m}=v,y=ve(v.props,CSe),C=or(m,f==null?void 0:f.ref,t.ref),S=a?a(y):{},w=L({},i,S),_=n==="root"?g||u:g,x=Vg(h,L({},n==="root"&&!u&&!c[n]&&s,n!=="root"&&!c[n]&&s,y,_&&{as:_},{ref:C}),w);return Object.keys(S).forEach(E=>{delete x[E]}),[h,x]}function SSe(n){return He("MuiAlert",n)}const wSe=$e("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),HW=wSe,_Se=Dn(b.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),xSe=Dn(b.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),bSe=Dn(b.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),ESe=Dn(b.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),OSe=Dn(b.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),RSe=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],TSe=LP(),PSe=n=>{const{variant:t,color:e,severity:r,classes:i}=n,o={root:["root",`color${Se(e||r)}`,`${t}${Se(e||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return Ge(o,SSe,i)},DSe=le(ah,{name:"MuiAlert",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,t[e.variant],t[`${e.variant}${Se(e.color||e.severity)}`]]}})(({theme:n})=>{const t=n.palette.mode==="light"?n0:i0,e=n.palette.mode==="light"?i0:n0;return L({},n.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(n.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:n.vars?n.vars.palette.Alert[`${r}Color`]:t(n.palette[r].light,.6),backgroundColor:n.vars?n.vars.palette.Alert[`${r}StandardBg`]:e(n.palette[r].light,.9),[`& .${HW.icon}`]:n.vars?{color:n.vars.palette.Alert[`${r}IconColor`]}:{color:n.palette[r].main}}})),...Object.entries(n.palette).filter(([,r])=>r.main&&r.light).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:n.vars?n.vars.palette.Alert[`${r}Color`]:t(n.palette[r].light,.6),border:`1px solid ${(n.vars||n).palette[r].light}`,[`& .${HW.icon}`]:n.vars?{color:n.vars.palette.Alert[`${r}IconColor`]}:{color:n.palette[r].main}}})),...Object.entries(n.palette).filter(([,r])=>r.main&&r.dark).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:L({fontWeight:n.typography.fontWeightMedium},n.vars?{color:n.vars.palette.Alert[`${r}FilledColor`],backgroundColor:n.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:n.palette.mode==="dark"?n.palette[r].dark:n.palette[r].main,color:n.palette.getContrastText(n.palette[r].main)})}))]})}),ASe=le("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(n,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),MSe=le("div",{name:"MuiAlert",slot:"Message",overridesResolver:(n,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),$W=le("div",{name:"MuiAlert",slot:"Action",overridesResolver:(n,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),WW={success:b.jsx(_Se,{fontSize:"inherit"}),warning:b.jsx(xSe,{fontSize:"inherit"}),error:b.jsx(bSe,{fontSize:"inherit"}),info:b.jsx(ESe,{fontSize:"inherit"})},LSe=T.forwardRef(function(t,e){const r=TSe({props:t,name:"MuiAlert"}),{action:i,children:o,className:a,closeText:s="Close",color:l,components:u={},componentsProps:c={},icon:d,iconMapping:p=WW,onClose:h,role:f="alert",severity:v="success",slotProps:g={},slots:m={},variant:y="standard"}=r,C=ve(r,RSe),S=L({},r,{color:l,severity:v,variant:y,colorSeverity:l||v}),w=PSe(S),_={slots:L({closeButton:u.CloseButton,closeIcon:u.CloseIcon},m),slotProps:L({},c,g)},[x,E]=II("closeButton",{elementType:Dl,externalForwardedProps:_,ownerState:S}),[R,P]=II("closeIcon",{elementType:OSe,externalForwardedProps:_,ownerState:S});return b.jsxs(DSe,L({role:f,elevation:0,ownerState:S,className:Re(w.root,a),ref:e},C,{children:[d!==!1?b.jsx(ASe,{ownerState:S,className:w.icon,children:d||p[v]||WW[v]}):null,b.jsx(MSe,{ownerState:S,className:w.message,children:o}),i!=null?b.jsx($W,{ownerState:S,className:w.action,children:i}):null,i==null&&h?b.jsx($W,{ownerState:S,className:w.action,children:b.jsx(x,L({size:"small","aria-label":s,title:s,color:"inherit",onClick:h},E,{children:b.jsx(R,L({fontSize:"small"},P))}))}):null]}))}),Hu=LSe;function FSe(){const n=ya(),t=Bg(a=>a.user.authed),[e,r]=T.useState("");T.useEffect(()=>{const a=new URLSearchParams(window.location.search),s=a.get("state"),l=a.get("code");!t&&s&&l&&eSe(s,l).then(u=>{u.status==201?u.json().then(c=>{localStorage.setItem("TOKEN",c.access),localStorage.setItem("ROLE",c.user),n(Kme())}):u.json().then(c=>{r("Login flow expired, please login again."),console.log(c)})})},[]);const i=()=>{JCe().then(a=>{a.status==200?a.json().then(s=>{window.location.href=s.authorization_url}):a.json().then(s=>{r("Error while contacting Keycloak, please try again or contact tech."),console.log(s)})})},o=()=>{n(fi()),localStorage.removeItem("TOKEN"),window.location.href="https://staff-sso.furcation.org.uk/realms/furcation/protocol/openid-connect/logout?post_logout_redirect_uri=https%3A%2F%2Fadmin.reg.furcation.org.uk&client_id=reggie"};return b.jsxs(b.Fragment,{children:[e?b.jsx(Hu,{severity:"error",children:e}):null,b.jsxs(ah,{variant:"outlined",sx:{my:{xs:3,md:6},p:{xs:2,md:3}},children:[b.jsx(Pr,{variant:"h6",color:"inherit",children:"Welcome to Furcation Registration Admin Panel"}),b.jsxs(Pr,{variant:"body1",color:"inherit",paragraph:!0,children:["Welcome to the admin panel here you can view and edit attendees and groups for maintainance or resolving issues. For any issues please contact us:",b.jsx("br",{}),b.jsx("br",{}),"Registration - reg@furcation.org.uk",b.jsx("br",{}),"IT - it@furcation.org.uk"]}),t?b.jsx(na,{spacing:2,alignItems:"center",children:b.jsx(Et,{color:"error",variant:"contained",sx:{minWidth:{sm:400,xs:"100%"}},onClick:o,children:"Logout"})}):b.jsx(na,{spacing:2,alignItems:"center",children:b.jsx(Et,{variant:"contained",sx:{minWidth:{sm:400,xs:"100%"}},onClick:i,children:"Login with Keycloak"})})]})]})}function ISe(n){return He("MuiDialog",n)}const NSe=$e("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),cw=NSe,kSe=T.createContext({}),U7=kSe,GSe=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],VSe=le(P9,{name:"MuiDialog",slot:"Backdrop",overrides:(n,t)=>t.backdrop})({zIndex:-1}),BSe=n=>{const{classes:t,scroll:e,maxWidth:r,fullWidth:i,fullScreen:o}=n,a={root:["root"],container:["container",`scroll${Se(e)}`],paper:["paper",`paperScroll${Se(e)}`,`paperWidth${Se(String(r))}`,i&&"paperFullWidth",o&&"paperFullScreen"]};return Ge(a,ISe,t)},jSe=le(yG,{name:"MuiDialog",slot:"Root",overridesResolver:(n,t)=>t.root})({"@media print":{position:"absolute !important"}}),HSe=le("div",{name:"MuiDialog",slot:"Container",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.container,t[`scroll${Se(e.scroll)}`]]}})(({ownerState:n})=>L({height:"100%","@media print":{height:"auto"},outline:0},n.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},n.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),$Se=le(ah,{name:"MuiDialog",slot:"Paper",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.paper,t[`scrollPaper${Se(e.scroll)}`],t[`paperWidth${Se(String(e.maxWidth))}`],e.fullWidth&&t.paperFullWidth,e.fullScreen&&t.paperFullScreen]}})(({theme:n,ownerState:t})=>L({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:n.breakpoints.unit==="px"?Math.max(n.breakpoints.values.xs,444):`max(${n.breakpoints.values.xs}${n.breakpoints.unit}, 444px)`,[`&.${cw.paperScrollBody}`]:{[n.breakpoints.down(Math.max(n.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${n.breakpoints.values[t.maxWidth]}${n.breakpoints.unit}`,[`&.${cw.paperScrollBody}`]:{[n.breakpoints.down(n.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${cw.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),WSe=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiDialog"}),i=ma(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":a,"aria-labelledby":s,BackdropComponent:l,BackdropProps:u,children:c,className:d,disableEscapeKeyDown:p=!1,fullScreen:h=!1,fullWidth:f=!1,maxWidth:v="sm",onBackdropClick:g,onClose:m,open:y,PaperComponent:C=ah,PaperProps:S={},scroll:w="paper",TransitionComponent:_=gy,transitionDuration:x=o,TransitionProps:E}=r,R=ve(r,GSe),P=L({},r,{disableEscapeKeyDown:p,fullScreen:h,fullWidth:f,maxWidth:v,scroll:w}),A=BSe(P),N=T.useRef(),I=j=>{N.current=j.target===j.currentTarget},G=j=>{N.current&&(N.current=null,g&&g(j),m&&m(j,"backdropClick"))},V=tc(s),H=T.useMemo(()=>({titleId:V}),[V]);return b.jsx(jSe,L({className:Re(A.root,d),closeAfterTransition:!0,components:{Backdrop:VSe},componentsProps:{backdrop:L({transitionDuration:x,as:l},u)},disableEscapeKeyDown:p,onClose:m,open:y,ref:e,onClick:G,ownerState:P},R,{children:b.jsx(_,L({appear:!0,in:y,timeout:x,role:"presentation"},E,{children:b.jsx(HSe,{className:Re(A.container),onMouseDown:I,ownerState:P,children:b.jsx($Se,L({as:C,elevation:24,role:"dialog","aria-describedby":a,"aria-labelledby":V},S,{className:Re(A.paper,S.className),ownerState:P,children:b.jsx(U7.Provider,{value:H,children:c})}))})}))}))}),_o=WSe;function USe(n){return He("MuiDialogTitle",n)}const zSe=$e("MuiDialogTitle",["root"]),KSe=zSe,YSe=["className","id"],qSe=n=>{const{classes:t}=n;return Ge({root:["root"]},USe,t)},XSe=le(Pr,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(n,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),ZSe=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiDialogTitle"}),{className:i,id:o}=r,a=ve(r,YSe),s=r,l=qSe(s),{titleId:u=o}=T.useContext(U7);return b.jsx(XSe,L({component:"h2",className:Re(l.root,i),ownerState:s,ref:e,variant:"h6",id:o??u},a))}),ia=ZSe;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var NI=function(n,t){return NI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},NI(n,t)};function QSe(n,t){NI(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var eo=function(){return eo=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},eo.apply(this,arguments)},UW=!1,vf,kI,GI,AE,ME,z7,LE,VI,BI,jI,K7,HI,$I,Y7,q7;function Go(){if(!UW){UW=!0;var n=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(n),e=/(Mac OS X)|(Windows)|(Linux)/.exec(n);if(HI=/\b(iPhone|iP[ao]d)/.exec(n),$I=/\b(iP[ao]d)/.exec(n),jI=/Android/i.exec(n),Y7=/FBAN\/\w+;/i.exec(n),q7=/Mobile/i.exec(n),K7=!!/Win64/.exec(n),t){vf=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,vf&&document&&document.documentMode&&(vf=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(n);z7=r?parseFloat(r[1])+4:vf,kI=t[2]?parseFloat(t[2]):NaN,GI=t[3]?parseFloat(t[3]):NaN,AE=t[4]?parseFloat(t[4]):NaN,AE?(t=/(?:Chrome\/(\d+\.\d+))/.exec(n),ME=t&&t[1]?parseFloat(t[1]):NaN):ME=NaN}else vf=kI=GI=ME=AE=NaN;if(e){if(e[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(n);LE=i?parseFloat(i[1].replace("_",".")):!0}else LE=!1;VI=!!e[2],BI=!!e[3]}else LE=VI=BI=!1}}var WI={ie:function(){return Go()||vf},ieCompatibilityMode:function(){return Go()||z7>vf},ie64:function(){return WI.ie()&&K7},firefox:function(){return Go()||kI},opera:function(){return Go()||GI},webkit:function(){return Go()||AE},safari:function(){return WI.webkit()},chrome:function(){return Go()||ME},windows:function(){return Go()||VI},osx:function(){return Go()||LE},linux:function(){return Go()||BI},iphone:function(){return Go()||HI},mobile:function(){return Go()||HI||$I||jI||q7},nativeApp:function(){return Go()||Y7},android:function(){return Go()||jI},ipad:function(){return Go()||$I}},JSe=WI,Tx=!!(typeof window<"u"&&window.document&&window.document.createElement),ewe={canUseDOM:Tx,canUseWorkers:typeof Worker<"u",canUseEventListeners:Tx&&!!(window.addEventListener||window.attachEvent),canUseViewport:Tx&&!!window.screen,isInWorker:!Tx},twe=ewe,X7=twe,Z7;X7.canUseDOM&&(Z7=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function rwe(n,t){if(!X7.canUseDOM||t&&!("addEventListener"in document))return!1;var e="on"+n,r=e in document;if(!r){var i=document.createElement("div");i.setAttribute(e,"return;"),r=typeof i[e]=="function"}return!r&&Z7&&n==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var nwe=rwe,iwe=JSe,owe=nwe,zW=10,KW=40,YW=800;function Q7(n){var t=0,e=0,r=0,i=0;return"detail"in n&&(e=n.detail),"wheelDelta"in n&&(e=-n.wheelDelta/120),"wheelDeltaY"in n&&(e=-n.wheelDeltaY/120),"wheelDeltaX"in n&&(t=-n.wheelDeltaX/120),"axis"in n&&n.axis===n.HORIZONTAL_AXIS&&(t=e,e=0),r=t*zW,i=e*zW,"deltaY"in n&&(i=n.deltaY),"deltaX"in n&&(r=n.deltaX),(r||i)&&n.deltaMode&&(n.deltaMode==1?(r*=KW,i*=KW):(r*=YW,i*=YW)),r&&!t&&(t=r<1?-1:1),i&&!e&&(e=i<1?-1:1),{spinX:t,spinY:e,pixelX:r,pixelY:i}}Q7.getEventType=function(){return iwe.firefox()?"DOMMouseScroll":owe("wheel")?"wheel":"mousewheel"};var awe=Q7,swe=awe;const lwe=q0(swe);function uwe(n,t,e,r,i,o){o===void 0&&(o=0);var a=Um(n,t,o),s=a.width,l=a.height,u=Math.min(s,e),c=Math.min(l,r);return u>c*i?{width:c*i,height:c}:{width:u,height:u/i}}function cwe(n){return n.width>n.height?n.width/n.naturalWidth:n.height/n.naturalHeight}function Px(n,t,e,r,i){i===void 0&&(i=0);var o=Um(t.width,t.height,i),a=o.width,s=o.height;return{x:qW(n.x,a,e.width,r),y:qW(n.y,s,e.height,r)}}function qW(n,t,e,r){var i=t*r/2-e/2;return FP(n,-i,i)}function XW(n,t){return Math.sqrt(Math.pow(n.y-t.y,2)+Math.pow(n.x-t.x,2))}function ZW(n,t){return Math.atan2(t.y-n.y,t.x-n.x)*180/Math.PI}function dwe(n,t,e,r,i,o,a){o===void 0&&(o=0),a===void 0&&(a=!0);var s=a?pwe:hwe,l=Um(t.width,t.height,o),u=Um(t.naturalWidth,t.naturalHeight,o),c={x:s(100,((l.width-e.width/i)/2-n.x/i)/l.width*100),y:s(100,((l.height-e.height/i)/2-n.y/i)/l.height*100),width:s(100,e.width/l.width*100/i),height:s(100,e.height/l.height*100/i)},d=Math.round(s(u.width,c.width*u.width/100)),p=Math.round(s(u.height,c.height*u.height/100)),h=u.width>=u.height*r,f=h?{width:Math.round(p*r),height:p}:{width:d,height:Math.round(d/r)},v=eo(eo({},f),{x:Math.round(s(u.width-f.width,c.x*u.width/100)),y:Math.round(s(u.height-f.height,c.y*u.height/100))});return{croppedAreaPercentages:c,croppedAreaPixels:v}}function pwe(n,t){return Math.min(n,Math.max(0,t))}function hwe(n,t){return t}function fwe(n,t,e,r,i,o){var a=Um(t.width,t.height,e),s=FP(r.width/a.width*(100/n.width),i,o),l={x:s*a.width/2-r.width/2-a.width*s*(n.x/100),y:s*a.height/2-r.height/2-a.height*s*(n.y/100)};return{crop:l,zoom:s}}function vwe(n,t,e){var r=cwe(t);return e.height>e.width?e.height/(n.height*r):e.width/(n.width*r)}function gwe(n,t,e,r,i,o){e===void 0&&(e=0);var a=Um(t.naturalWidth,t.naturalHeight,e),s=FP(vwe(n,t,r),i,o),l=r.height>r.width?r.height/n.height:r.width/n.width,u={x:((a.width-n.width)/2-n.x)*l,y:((a.height-n.height)/2-n.y)*l};return{crop:u,zoom:s}}function QW(n,t){return{x:(t.x+n.x)/2,y:(t.y+n.y)/2}}function mwe(n){return n*Math.PI/180}function Um(n,t,e){var r=mwe(e);return{width:Math.abs(Math.cos(r)*n)+Math.abs(Math.sin(r)*t),height:Math.abs(Math.sin(r)*n)+Math.abs(Math.cos(r)*t)}}function FP(n,t,e){return Math.min(Math.max(n,t),e)}function Dx(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return n.filter(function(e){return typeof e=="string"&&e.length>0}).join(" ").trim()}var ywe=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,Cwe=1,Swe=3,wwe=function(n){QSe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.imageRef=On.createRef(),e.videoRef=On.createRef(),e.containerPosition={x:0,y:0},e.containerRef=null,e.styleRef=null,e.containerRect=null,e.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},e.dragStartPosition={x:0,y:0},e.dragStartCrop={x:0,y:0},e.gestureZoomStart=0,e.gestureRotationStart=0,e.isTouching=!1,e.lastPinchDistance=0,e.lastPinchRotation=0,e.rafDragTimeout=null,e.rafPinchTimeout=null,e.wheelTimer=null,e.currentDoc=typeof document<"u"?document:null,e.currentWindow=typeof window<"u"?window:null,e.resizeObserver=null,e.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},e.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!e.containerRef)){var r=!0;e.resizeObserver=new window.ResizeObserver(function(i){if(r){r=!1;return}e.computeSizes()}),e.resizeObserver.observe(e.containerRef)}},e.preventZoomSafari=function(r){return r.preventDefault()},e.cleanEvents=function(){e.currentDoc&&(e.currentDoc.removeEventListener("mousemove",e.onMouseMove),e.currentDoc.removeEventListener("mouseup",e.onDragStopped),e.currentDoc.removeEventListener("touchmove",e.onTouchMove),e.currentDoc.removeEventListener("touchend",e.onDragStopped),e.currentDoc.removeEventListener("gesturemove",e.onGestureMove),e.currentDoc.removeEventListener("gestureend",e.onGestureEnd),e.currentDoc.removeEventListener("scroll",e.onScroll))},e.clearScrollEvent=function(){e.containerRef&&e.containerRef.removeEventListener("wheel",e.onWheel),e.wheelTimer&&clearTimeout(e.wheelTimer)},e.onMediaLoad=function(){var r=e.computeSizes();r&&(e.emitCropData(),e.setInitialCrop(r)),e.props.onMediaLoaded&&e.props.onMediaLoaded(e.mediaSize)},e.setInitialCrop=function(r){if(e.props.initialCroppedAreaPercentages){var i=fwe(e.props.initialCroppedAreaPercentages,e.mediaSize,e.props.rotation,r,e.props.minZoom,e.props.maxZoom),o=i.crop,a=i.zoom;e.props.onCropChange(o),e.props.onZoomChange&&e.props.onZoomChange(a)}else if(e.props.initialCroppedAreaPixels){var s=gwe(e.props.initialCroppedAreaPixels,e.mediaSize,e.props.rotation,r,e.props.minZoom,e.props.maxZoom),o=s.crop,a=s.zoom;e.props.onCropChange(o),e.props.onZoomChange&&e.props.onZoomChange(a)}},e.computeSizes=function(){var r,i,o,a,s,l,u=e.imageRef.current||e.videoRef.current;if(u&&e.containerRef){e.containerRect=e.containerRef.getBoundingClientRect(),e.saveContainerPosition();var c=e.containerRect.width/e.containerRect.height,d=((r=e.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((i=e.videoRef.current)===null||i===void 0?void 0:i.videoWidth)||0,p=((o=e.imageRef.current)===null||o===void 0?void 0:o.naturalHeight)||((a=e.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,h=u.offsetWidth<d||u.offsetHeight<p,f=d/p,v=void 0;if(h)switch(e.state.mediaObjectFit){default:case"contain":v=c>f?{width:e.containerRect.height*f,height:e.containerRect.height}:{width:e.containerRect.width,height:e.containerRect.width/f};break;case"horizontal-cover":v={width:e.containerRect.width,height:e.containerRect.width/f};break;case"vertical-cover":v={width:e.containerRect.height*f,height:e.containerRect.height};break}else v={width:u.offsetWidth,height:u.offsetHeight};e.mediaSize=eo(eo({},v),{naturalWidth:d,naturalHeight:p}),e.props.setMediaSize&&e.props.setMediaSize(e.mediaSize);var g=e.props.cropSize?e.props.cropSize:uwe(e.mediaSize.width,e.mediaSize.height,e.containerRect.width,e.containerRect.height,e.props.aspect,e.props.rotation);return(((s=e.state.cropSize)===null||s===void 0?void 0:s.height)!==g.height||((l=e.state.cropSize)===null||l===void 0?void 0:l.width)!==g.width)&&e.props.onCropSizeChange&&e.props.onCropSizeChange(g),e.setState({cropSize:g},e.recomputeCropPosition),e.props.setCropSize&&e.props.setCropSize(g),g}},e.saveContainerPosition=function(){if(e.containerRef){var r=e.containerRef.getBoundingClientRect();e.containerPosition={x:r.left,y:r.top}}},e.onMouseDown=function(r){e.currentDoc&&(r.preventDefault(),e.currentDoc.addEventListener("mousemove",e.onMouseMove),e.currentDoc.addEventListener("mouseup",e.onDragStopped),e.saveContainerPosition(),e.onDragStart(t.getMousePoint(r)))},e.onMouseMove=function(r){return e.onDrag(t.getMousePoint(r))},e.onScroll=function(r){e.currentDoc&&(r.preventDefault(),e.saveContainerPosition())},e.onTouchStart=function(r){e.currentDoc&&(e.isTouching=!0,!(e.props.onTouchRequest&&!e.props.onTouchRequest(r))&&(e.currentDoc.addEventListener("touchmove",e.onTouchMove,{passive:!1}),e.currentDoc.addEventListener("touchend",e.onDragStopped),e.saveContainerPosition(),r.touches.length===2?e.onPinchStart(r):r.touches.length===1&&e.onDragStart(t.getTouchPoint(r.touches[0]))))},e.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?e.onPinchMove(r):r.touches.length===1&&e.onDrag(t.getTouchPoint(r.touches[0]))},e.onGestureStart=function(r){e.currentDoc&&(r.preventDefault(),e.currentDoc.addEventListener("gesturechange",e.onGestureMove),e.currentDoc.addEventListener("gestureend",e.onGestureEnd),e.gestureZoomStart=e.props.zoom,e.gestureRotationStart=e.props.rotation)},e.onGestureMove=function(r){if(r.preventDefault(),!e.isTouching){var i=t.getMousePoint(r),o=e.gestureZoomStart-1+r.scale;if(e.setNewZoom(o,i,{shouldUpdatePosition:!0}),e.props.onRotationChange){var a=e.gestureRotationStart+r.rotation;e.props.onRotationChange(a)}}},e.onGestureEnd=function(r){e.cleanEvents()},e.onDragStart=function(r){var i,o,a=r.x,s=r.y;e.dragStartPosition={x:a,y:s},e.dragStartCrop=eo({},e.props.crop),(o=(i=e.props).onInteractionStart)===null||o===void 0||o.call(i)},e.onDrag=function(r){var i=r.x,o=r.y;e.currentWindow&&(e.rafDragTimeout&&e.currentWindow.cancelAnimationFrame(e.rafDragTimeout),e.rafDragTimeout=e.currentWindow.requestAnimationFrame(function(){if(e.state.cropSize&&!(i===void 0||o===void 0)){var a=i-e.dragStartPosition.x,s=o-e.dragStartPosition.y,l={x:e.dragStartCrop.x+a,y:e.dragStartCrop.y+s},u=e.props.restrictPosition?Px(l,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):l;e.props.onCropChange(u)}}))},e.onDragStopped=function(){var r,i;e.isTouching=!1,e.cleanEvents(),e.emitCropData(),(i=(r=e.props).onInteractionEnd)===null||i===void 0||i.call(r)},e.onWheel=function(r){if(e.currentWindow&&!(e.props.onWheelRequest&&!e.props.onWheelRequest(r))){r.preventDefault();var i=t.getMousePoint(r),o=lwe(r).pixelY,a=e.props.zoom-o*e.props.zoomSpeed/200;e.setNewZoom(a,i,{shouldUpdatePosition:!0}),e.state.hasWheelJustStarted||e.setState({hasWheelJustStarted:!0},function(){var s,l;return(l=(s=e.props).onInteractionStart)===null||l===void 0?void 0:l.call(s)}),e.wheelTimer&&clearTimeout(e.wheelTimer),e.wheelTimer=e.currentWindow.setTimeout(function(){return e.setState({hasWheelJustStarted:!1},function(){var s,l;return(l=(s=e.props).onInteractionEnd)===null||l===void 0?void 0:l.call(s)})},250)}},e.getPointOnContainer=function(r,i){var o=r.x,a=r.y;if(!e.containerRect)throw new Error("The Cropper is not mounted");return{x:e.containerRect.width/2-(o-i.x),y:e.containerRect.height/2-(a-i.y)}},e.getPointOnMedia=function(r){var i=r.x,o=r.y,a=e.props,s=a.crop,l=a.zoom;return{x:(i+s.x)/l,y:(o+s.y)/l}},e.setNewZoom=function(r,i,o){var a=o===void 0?{}:o,s=a.shouldUpdatePosition,l=s===void 0?!0:s;if(!(!e.state.cropSize||!e.props.onZoomChange)){var u=FP(r,e.props.minZoom,e.props.maxZoom);if(l){var c=e.getPointOnContainer(i,e.containerPosition),d=e.getPointOnMedia(c),p={x:d.x*u-c.x,y:d.y*u-c.y},h=e.props.restrictPosition?Px(p,e.mediaSize,e.state.cropSize,u,e.props.rotation):p;e.props.onCropChange(h)}e.props.onZoomChange(u)}},e.getCropData=function(){if(!e.state.cropSize)return null;var r=e.props.restrictPosition?Px(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;return dwe(r,e.mediaSize,e.state.cropSize,e.getAspect(),e.props.zoom,e.props.rotation,e.props.restrictPosition)},e.emitCropData=function(){var r=e.getCropData();if(r){var i=r.croppedAreaPercentages,o=r.croppedAreaPixels;e.props.onCropComplete&&e.props.onCropComplete(i,o),e.props.onCropAreaChange&&e.props.onCropAreaChange(i,o)}},e.emitCropAreaChange=function(){var r=e.getCropData();if(r){var i=r.croppedAreaPercentages,o=r.croppedAreaPixels;e.props.onCropAreaChange&&e.props.onCropAreaChange(i,o)}},e.recomputeCropPosition=function(){if(e.state.cropSize){var r=e.props.restrictPosition?Px(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;e.props.onCropChange(r),e.emitCropData()}},e}return t.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=ywe,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef))},t.prototype.componentWillUnmount=function(){var e,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},t.prototype.componentDidUpdate=function(e){var r,i,o,a,s,l,u,c,d;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect?this.computeSizes():e.objectFit!==this.props.objectFit?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():((r=e.cropSize)===null||r===void 0?void 0:r.height)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.height)||((o=e.cropSize)===null||o===void 0?void 0:o.width)!==((a=this.props.cropSize)===null||a===void 0?void 0:a.width)?this.computeSizes():(((s=e.crop)===null||s===void 0?void 0:s.x)!==((l=this.props.crop)===null||l===void 0?void 0:l.x)||((u=e.crop)===null||u===void 0?void 0:u.y)!==((c=this.props.crop)===null||c===void 0?void 0:c.y))&&this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&((d=this.videoRef.current)===null||d===void 0||d.load());var p=this.getObjectFit();p!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:p},this.computeSizes)},t.prototype.getAspect=function(){var e=this.props,r=e.cropSize,i=e.aspect;return r?r.width/r.height:i},t.prototype.getObjectFit=function(){var e,r,i,o;if(this.props.objectFit==="cover"){var a=this.imageRef.current||this.videoRef.current;if(a&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var s=this.containerRect.width/this.containerRect.height,l=((e=this.imageRef.current)===null||e===void 0?void 0:e.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,u=((i=this.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((o=this.videoRef.current)===null||o===void 0?void 0:o.videoHeight)||0,c=l/u;return c<s?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},t.prototype.onPinchStart=function(e){var r=t.getTouchPoint(e.touches[0]),i=t.getTouchPoint(e.touches[1]);this.lastPinchDistance=XW(r,i),this.lastPinchRotation=ZW(r,i),this.onDragStart(QW(r,i))},t.prototype.onPinchMove=function(e){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var i=t.getTouchPoint(e.touches[0]),o=t.getTouchPoint(e.touches[1]),a=QW(i,o);this.onDrag(a),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var s=XW(i,o),l=r.props.zoom*(s/r.lastPinchDistance);r.setNewZoom(l,a,{shouldUpdatePosition:!1}),r.lastPinchDistance=s;var u=ZW(i,o),c=r.props.rotation+(u-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(c),r.lastPinchRotation=u})}},t.prototype.render=function(){var e=this,r=this.props,i=r.image,o=r.video,a=r.mediaProps,s=r.transform,l=r.crop,u=l.x,c=l.y,d=r.rotation,p=r.zoom,h=r.cropShape,f=r.showGrid,v=r.style,g=v.containerStyle,m=v.cropAreaStyle,y=v.mediaStyle,C=r.classes,S=C.containerClassName,w=C.cropAreaClassName,_=C.mediaClassName,x=this.state.mediaObjectFit;return On.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(R){return e.containerRef=R},"data-testid":"container",style:g,className:Dx("reactEasyCrop_Container",S)},i?On.createElement("img",eo({alt:"",className:Dx("reactEasyCrop_Image",x==="contain"&&"reactEasyCrop_Contain",x==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",x==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",_)},a,{src:i,ref:this.imageRef,style:eo(eo({},y),{transform:s||"translate(".concat(u,"px, ").concat(c,"px) rotate(").concat(d,"deg) scale(").concat(p,")")}),onLoad:this.onMediaLoad})):o&&On.createElement("video",eo({autoPlay:!0,loop:!0,muted:!0,className:Dx("reactEasyCrop_Video",x==="contain"&&"reactEasyCrop_Contain",x==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",x==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",_)},a,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:eo(eo({},y),{transform:s||"translate(".concat(u,"px, ").concat(c,"px) rotate(").concat(d,"deg) scale(").concat(p,")")}),controls:!1}),(Array.isArray(o)?o:[{src:o}]).map(function(E){return On.createElement("source",eo({key:E.src},E))})),this.state.cropSize&&On.createElement("div",{style:eo(eo({},m),{width:this.state.cropSize.width,height:this.state.cropSize.height}),"data-testid":"cropper",className:Dx("reactEasyCrop_CropArea",h==="round"&&"reactEasyCrop_CropAreaRound",f&&"reactEasyCrop_CropAreaGrid",w)}))},t.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:Swe,minZoom:Cwe,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0},t.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},t.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},t}(On.Component);function _we(n){return He("MuiDialogContent",n)}$e("MuiDialogContent",["root","dividers"]);const xwe=["className","dividers"],bwe=n=>{const{classes:t,dividers:e}=n;return Ge({root:["root",e&&"dividers"]},_we,t)},Ewe=le("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.dividers&&t.dividers]}})(({theme:n,ownerState:t})=>L({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(n.vars||n).palette.divider}`,borderBottom:`1px solid ${(n.vars||n).palette.divider}`}:{[`.${KSe.root} + &`]:{paddingTop:0}})),Owe=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiDialogContent"}),{className:i,dividers:o=!1}=r,a=ve(r,xwe),s=L({},r,{dividers:o}),l=bwe(s);return b.jsx(Ewe,L({className:Re(l.root,i),ownerState:s,ref:e},a))}),br=Owe;function Rwe(n){return He("MuiDialogActions",n)}$e("MuiDialogActions",["root","spacing"]);const Twe=["className","disableSpacing"],Pwe=n=>{const{classes:t,disableSpacing:e}=n;return Ge({root:["root",!e&&"spacing"]},Rwe,t)},Dwe=le("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,!e.disableSpacing&&t.spacing]}})(({ownerState:n})=>L({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!n.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),Awe=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiDialogActions"}),{className:i,disableSpacing:o=!1}=r,a=ve(r,Twe),s=L({},r,{disableSpacing:o}),l=Pwe(s);return b.jsx(Dwe,L({className:Re(l.root,i),ownerState:s,ref:e},a))}),xo=Awe,J7="base";function Mwe(n){return`${J7}--${n}`}function Lwe(n,t){return`${J7}-${n}-${t}`}function eq(n,t){const e=Y8[t];return e?Mwe(e):Lwe(n,t)}function Fwe(n,t){const e={};return t.forEach(r=>{e[r]=eq(n,r)}),e}var da="top",Us="bottom",zs="right",pa="left",XG="auto",v_=[da,Us,zs,pa],zm="start",d0="end",Iwe="clippingParents",tq="viewport",rC="popper",Nwe="reference",JW=v_.reduce(function(n,t){return n.concat([t+"-"+zm,t+"-"+d0])},[]),rq=[].concat(v_,[XG]).reduce(function(n,t){return n.concat([t,t+"-"+zm,t+"-"+d0])},[]),kwe="beforeRead",Gwe="read",Vwe="afterRead",Bwe="beforeMain",jwe="main",Hwe="afterMain",$we="beforeWrite",Wwe="write",Uwe="afterWrite",zwe=[kwe,Gwe,Vwe,Bwe,jwe,Hwe,$we,Wwe,Uwe];function Xu(n){return n?(n.nodeName||"").toLowerCase():null}function os(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function sv(n){var t=os(n).Element;return n instanceof t||n instanceof Element}function Gs(n){var t=os(n).HTMLElement;return n instanceof t||n instanceof HTMLElement}function ZG(n){if(typeof ShadowRoot>"u")return!1;var t=os(n).ShadowRoot;return n instanceof t||n instanceof ShadowRoot}function Kwe(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var r=t.styles[e]||{},i=t.attributes[e]||{},o=t.elements[e];!Gs(o)||!Xu(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(a){var s=i[a];s===!1?o.removeAttribute(a):o.setAttribute(a,s===!0?"":s)}))})}function Ywe(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],o=t.attributes[r]||{},a=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:e[r]),s=a.reduce(function(l,u){return l[u]="",l},{});!Gs(i)||!Xu(i)||(Object.assign(i.style,s),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const qwe={name:"applyStyles",enabled:!0,phase:"write",fn:Kwe,effect:Ywe,requires:["computeStyles"]};function $u(n){return n.split("-")[0]}var Bf=Math.max,JO=Math.min,Km=Math.round;function UI(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function nq(){return!/^((?!chrome|android).)*safari/i.test(UI())}function Ym(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var r=n.getBoundingClientRect(),i=1,o=1;t&&Gs(n)&&(i=n.offsetWidth>0&&Km(r.width)/n.offsetWidth||1,o=n.offsetHeight>0&&Km(r.height)/n.offsetHeight||1);var a=sv(n)?os(n):window,s=a.visualViewport,l=!nq()&&e,u=(r.left+(l&&s?s.offsetLeft:0))/i,c=(r.top+(l&&s?s.offsetTop:0))/o,d=r.width/i,p=r.height/o;return{width:d,height:p,top:c,right:u+d,bottom:c+p,left:u,x:u,y:c}}function QG(n){var t=Ym(n),e=n.offsetWidth,r=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:r}}function iq(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&ZG(e)){var r=t;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function td(n){return os(n).getComputedStyle(n)}function Xwe(n){return["table","td","th"].indexOf(Xu(n))>=0}function uh(n){return((sv(n)?n.ownerDocument:n.document)||window.document).documentElement}function IP(n){return Xu(n)==="html"?n:n.assignedSlot||n.parentNode||(ZG(n)?n.host:null)||uh(n)}function e3(n){return!Gs(n)||td(n).position==="fixed"?null:n.offsetParent}function Zwe(n){var t=/firefox/i.test(UI()),e=/Trident/i.test(UI());if(e&&Gs(n)){var r=td(n);if(r.position==="fixed")return null}var i=IP(n);for(ZG(i)&&(i=i.host);Gs(i)&&["html","body"].indexOf(Xu(i))<0;){var o=td(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function g_(n){for(var t=os(n),e=e3(n);e&&Xwe(e)&&td(e).position==="static";)e=e3(e);return e&&(Xu(e)==="html"||Xu(e)==="body"&&td(e).position==="static")?t:e||Zwe(n)||t}function JG(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function dw(n,t,e){return Bf(n,JO(t,e))}function Qwe(n,t,e){var r=dw(n,t,e);return r>e?e:r}function oq(){return{top:0,right:0,bottom:0,left:0}}function aq(n){return Object.assign({},oq(),n)}function sq(n,t){return t.reduce(function(e,r){return e[r]=n,e},{})}var Jwe=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,aq(typeof t!="number"?t:sq(t,v_))};function e0e(n){var t,e=n.state,r=n.name,i=n.options,o=e.elements.arrow,a=e.modifiersData.popperOffsets,s=$u(e.placement),l=JG(s),u=[pa,zs].indexOf(s)>=0,c=u?"height":"width";if(!(!o||!a)){var d=Jwe(i.padding,e),p=QG(o),h=l==="y"?da:pa,f=l==="y"?Us:zs,v=e.rects.reference[c]+e.rects.reference[l]-a[l]-e.rects.popper[c],g=a[l]-e.rects.reference[l],m=g_(o),y=m?l==="y"?m.clientHeight||0:m.clientWidth||0:0,C=v/2-g/2,S=d[h],w=y-p[c]-d[f],_=y/2-p[c]/2+C,x=dw(S,_,w),E=l;e.modifiersData[r]=(t={},t[E]=x,t.centerOffset=x-_,t)}}function t0e(n){var t=n.state,e=n.options,r=e.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||iq(t.elements.popper,i)&&(t.elements.arrow=i))}const r0e={name:"arrow",enabled:!0,phase:"main",fn:e0e,effect:t0e,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function qm(n){return n.split("-")[1]}var n0e={top:"auto",right:"auto",bottom:"auto",left:"auto"};function i0e(n,t){var e=n.x,r=n.y,i=t.devicePixelRatio||1;return{x:Km(e*i)/i||0,y:Km(r*i)/i||0}}function t3(n){var t,e=n.popper,r=n.popperRect,i=n.placement,o=n.variation,a=n.offsets,s=n.position,l=n.gpuAcceleration,u=n.adaptive,c=n.roundOffsets,d=n.isFixed,p=a.x,h=p===void 0?0:p,f=a.y,v=f===void 0?0:f,g=typeof c=="function"?c({x:h,y:v}):{x:h,y:v};h=g.x,v=g.y;var m=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),C=pa,S=da,w=window;if(u){var _=g_(e),x="clientHeight",E="clientWidth";if(_===os(e)&&(_=uh(e),td(_).position!=="static"&&s==="absolute"&&(x="scrollHeight",E="scrollWidth")),_=_,i===da||(i===pa||i===zs)&&o===d0){S=Us;var R=d&&_===w&&w.visualViewport?w.visualViewport.height:_[x];v-=R-r.height,v*=l?1:-1}if(i===pa||(i===da||i===Us)&&o===d0){C=zs;var P=d&&_===w&&w.visualViewport?w.visualViewport.width:_[E];h-=P-r.width,h*=l?1:-1}}var A=Object.assign({position:s},u&&n0e),N=c===!0?i0e({x:h,y:v},os(e)):{x:h,y:v};if(h=N.x,v=N.y,l){var I;return Object.assign({},A,(I={},I[S]=y?"0":"",I[C]=m?"0":"",I.transform=(w.devicePixelRatio||1)<=1?"translate("+h+"px, "+v+"px)":"translate3d("+h+"px, "+v+"px, 0)",I))}return Object.assign({},A,(t={},t[S]=y?v+"px":"",t[C]=m?h+"px":"",t.transform="",t))}function o0e(n){var t=n.state,e=n.options,r=e.gpuAcceleration,i=r===void 0?!0:r,o=e.adaptive,a=o===void 0?!0:o,s=e.roundOffsets,l=s===void 0?!0:s,u={placement:$u(t.placement),variation:qm(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,t3(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,t3(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const a0e={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:o0e,data:{}};var Ax={passive:!0};function s0e(n){var t=n.state,e=n.instance,r=n.options,i=r.scroll,o=i===void 0?!0:i,a=r.resize,s=a===void 0?!0:a,l=os(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",e.update,Ax)}),s&&l.addEventListener("resize",e.update,Ax),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",e.update,Ax)}),s&&l.removeEventListener("resize",e.update,Ax)}}const l0e={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:s0e,data:{}};var u0e={left:"right",right:"left",bottom:"top",top:"bottom"};function FE(n){return n.replace(/left|right|bottom|top/g,function(t){return u0e[t]})}var c0e={start:"end",end:"start"};function r3(n){return n.replace(/start|end/g,function(t){return c0e[t]})}function eV(n){var t=os(n),e=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:e,scrollTop:r}}function tV(n){return Ym(uh(n)).left+eV(n).scrollLeft}function d0e(n,t){var e=os(n),r=uh(n),i=e.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;var u=nq();(u||!u&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s+tV(n),y:l}}function p0e(n){var t,e=uh(n),r=eV(n),i=(t=n.ownerDocument)==null?void 0:t.body,o=Bf(e.scrollWidth,e.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Bf(e.scrollHeight,e.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+tV(n),l=-r.scrollTop;return td(i||e).direction==="rtl"&&(s+=Bf(e.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}function rV(n){var t=td(n),e=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+i+r)}function lq(n){return["html","body","#document"].indexOf(Xu(n))>=0?n.ownerDocument.body:Gs(n)&&rV(n)?n:lq(IP(n))}function pw(n,t){var e;t===void 0&&(t=[]);var r=lq(n),i=r===((e=n.ownerDocument)==null?void 0:e.body),o=os(r),a=i?[o].concat(o.visualViewport||[],rV(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(pw(IP(a)))}function zI(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function h0e(n,t){var e=Ym(n,!1,t==="fixed");return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}function n3(n,t,e){return t===tq?zI(d0e(n,e)):sv(t)?h0e(t,e):zI(p0e(uh(n)))}function f0e(n){var t=pw(IP(n)),e=["absolute","fixed"].indexOf(td(n).position)>=0,r=e&&Gs(n)?g_(n):n;return sv(r)?t.filter(function(i){return sv(i)&&iq(i,r)&&Xu(i)!=="body"}):[]}function v0e(n,t,e,r){var i=t==="clippingParents"?f0e(n):[].concat(t),o=[].concat(i,[e]),a=o[0],s=o.reduce(function(l,u){var c=n3(n,u,r);return l.top=Bf(c.top,l.top),l.right=JO(c.right,l.right),l.bottom=JO(c.bottom,l.bottom),l.left=Bf(c.left,l.left),l},n3(n,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function uq(n){var t=n.reference,e=n.element,r=n.placement,i=r?$u(r):null,o=r?qm(r):null,a=t.x+t.width/2-e.width/2,s=t.y+t.height/2-e.height/2,l;switch(i){case da:l={x:a,y:t.y-e.height};break;case Us:l={x:a,y:t.y+t.height};break;case zs:l={x:t.x+t.width,y:s};break;case pa:l={x:t.x-e.width,y:s};break;default:l={x:t.x,y:t.y}}var u=i?JG(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case zm:l[u]=l[u]-(t[c]/2-e[c]/2);break;case d0:l[u]=l[u]+(t[c]/2-e[c]/2);break}}return l}function p0(n,t){t===void 0&&(t={});var e=t,r=e.placement,i=r===void 0?n.placement:r,o=e.strategy,a=o===void 0?n.strategy:o,s=e.boundary,l=s===void 0?Iwe:s,u=e.rootBoundary,c=u===void 0?tq:u,d=e.elementContext,p=d===void 0?rC:d,h=e.altBoundary,f=h===void 0?!1:h,v=e.padding,g=v===void 0?0:v,m=aq(typeof g!="number"?g:sq(g,v_)),y=p===rC?Nwe:rC,C=n.rects.popper,S=n.elements[f?y:p],w=v0e(sv(S)?S:S.contextElement||uh(n.elements.popper),l,c,a),_=Ym(n.elements.reference),x=uq({reference:_,element:C,strategy:"absolute",placement:i}),E=zI(Object.assign({},C,x)),R=p===rC?E:_,P={top:w.top-R.top+m.top,bottom:R.bottom-w.bottom+m.bottom,left:w.left-R.left+m.left,right:R.right-w.right+m.right},A=n.modifiersData.offset;if(p===rC&&A){var N=A[i];Object.keys(P).forEach(function(I){var G=[zs,Us].indexOf(I)>=0?1:-1,V=[da,Us].indexOf(I)>=0?"y":"x";P[I]+=N[V]*G})}return P}function g0e(n,t){t===void 0&&(t={});var e=t,r=e.placement,i=e.boundary,o=e.rootBoundary,a=e.padding,s=e.flipVariations,l=e.allowedAutoPlacements,u=l===void 0?rq:l,c=qm(r),d=c?s?JW:JW.filter(function(f){return qm(f)===c}):v_,p=d.filter(function(f){return u.indexOf(f)>=0});p.length===0&&(p=d);var h=p.reduce(function(f,v){return f[v]=p0(n,{placement:v,boundary:i,rootBoundary:o,padding:a})[$u(v)],f},{});return Object.keys(h).sort(function(f,v){return h[f]-h[v]})}function m0e(n){if($u(n)===XG)return[];var t=FE(n);return[r3(n),t,r3(t)]}function y0e(n){var t=n.state,e=n.options,r=n.name;if(!t.modifiersData[r]._skip){for(var i=e.mainAxis,o=i===void 0?!0:i,a=e.altAxis,s=a===void 0?!0:a,l=e.fallbackPlacements,u=e.padding,c=e.boundary,d=e.rootBoundary,p=e.altBoundary,h=e.flipVariations,f=h===void 0?!0:h,v=e.allowedAutoPlacements,g=t.options.placement,m=$u(g),y=m===g,C=l||(y||!f?[FE(g)]:m0e(g)),S=[g].concat(C).reduce(function(X,ie){return X.concat($u(ie)===XG?g0e(t,{placement:ie,boundary:c,rootBoundary:d,padding:u,flipVariations:f,allowedAutoPlacements:v}):ie)},[]),w=t.rects.reference,_=t.rects.popper,x=new Map,E=!0,R=S[0],P=0;P<S.length;P++){var A=S[P],N=$u(A),I=qm(A)===zm,G=[da,Us].indexOf(N)>=0,V=G?"width":"height",H=p0(t,{placement:A,boundary:c,rootBoundary:d,altBoundary:p,padding:u}),j=G?I?zs:pa:I?Us:da;w[V]>_[V]&&(j=FE(j));var B=FE(j),$=[];if(o&&$.push(H[N]<=0),s&&$.push(H[j]<=0,H[B]<=0),$.every(function(X){return X})){R=A,E=!1;break}x.set(A,$)}if(E)for(var W=f?3:1,Y=function(ie){var z=S.find(function(Q){var ue=x.get(Q);if(ue)return ue.slice(0,ie).every(function(pe){return pe})});if(z)return R=z,"break"},Z=W;Z>0;Z--){var se=Y(Z);if(se==="break")break}t.placement!==R&&(t.modifiersData[r]._skip=!0,t.placement=R,t.reset=!0)}}const C0e={name:"flip",enabled:!0,phase:"main",fn:y0e,requiresIfExists:["offset"],data:{_skip:!1}};function i3(n,t,e){return e===void 0&&(e={x:0,y:0}),{top:n.top-t.height-e.y,right:n.right-t.width+e.x,bottom:n.bottom-t.height+e.y,left:n.left-t.width-e.x}}function o3(n){return[da,zs,Us,pa].some(function(t){return n[t]>=0})}function S0e(n){var t=n.state,e=n.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=p0(t,{elementContext:"reference"}),s=p0(t,{altBoundary:!0}),l=i3(a,r),u=i3(s,i,o),c=o3(l),d=o3(u);t.modifiersData[e]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const w0e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:S0e};function _0e(n,t,e){var r=$u(n),i=[pa,da].indexOf(r)>=0?-1:1,o=typeof e=="function"?e(Object.assign({},t,{placement:n})):e,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[pa,zs].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}function x0e(n){var t=n.state,e=n.options,r=n.name,i=e.offset,o=i===void 0?[0,0]:i,a=rq.reduce(function(c,d){return c[d]=_0e(d,t.rects,o),c},{}),s=a[t.placement],l=s.x,u=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=a}const b0e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:x0e};function E0e(n){var t=n.state,e=n.name;t.modifiersData[e]=uq({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const O0e={name:"popperOffsets",enabled:!0,phase:"read",fn:E0e,data:{}};function R0e(n){return n==="x"?"y":"x"}function T0e(n){var t=n.state,e=n.options,r=n.name,i=e.mainAxis,o=i===void 0?!0:i,a=e.altAxis,s=a===void 0?!1:a,l=e.boundary,u=e.rootBoundary,c=e.altBoundary,d=e.padding,p=e.tether,h=p===void 0?!0:p,f=e.tetherOffset,v=f===void 0?0:f,g=p0(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),m=$u(t.placement),y=qm(t.placement),C=!y,S=JG(m),w=R0e(S),_=t.modifiersData.popperOffsets,x=t.rects.reference,E=t.rects.popper,R=typeof v=="function"?v(Object.assign({},t.rects,{placement:t.placement})):v,P=typeof R=="number"?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),A=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,N={x:0,y:0};if(_){if(o){var I,G=S==="y"?da:pa,V=S==="y"?Us:zs,H=S==="y"?"height":"width",j=_[S],B=j+g[G],$=j-g[V],W=h?-E[H]/2:0,Y=y===zm?x[H]:E[H],Z=y===zm?-E[H]:-x[H],se=t.elements.arrow,X=h&&se?QG(se):{width:0,height:0},ie=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:oq(),z=ie[G],Q=ie[V],ue=dw(0,x[H],X[H]),pe=C?x[H]/2-W-ue-z-P.mainAxis:Y-ue-z-P.mainAxis,_e=C?-x[H]/2+W+ue+Q+P.mainAxis:Z+ue+Q+P.mainAxis,oe=t.elements.arrow&&g_(t.elements.arrow),we=oe?S==="y"?oe.clientTop||0:oe.clientLeft||0:0,ne=(I=A==null?void 0:A[S])!=null?I:0,xe=j+pe-ne-we,Pe=j+_e-ne,ze=dw(h?JO(B,xe):B,j,h?Bf($,Pe):$);_[S]=ze,N[S]=ze-j}if(s){var ht,Ae=S==="x"?da:pa,Ke=S==="x"?Us:zs,he=_[w],Ee=w==="y"?"height":"width",Be=he+g[Ae],tt=he-g[Ke],Ie=[da,pa].indexOf(m)!==-1,rt=(ht=A==null?void 0:A[w])!=null?ht:0,mt=Ie?Be:he-x[Ee]-E[Ee]-rt+P.altAxis,ft=Ie?he+x[Ee]+E[Ee]-rt-P.altAxis:tt,yt=h&&Ie?Qwe(mt,he,ft):dw(h?mt:Be,he,h?ft:tt);_[w]=yt,N[w]=yt-he}t.modifiersData[r]=N}}const P0e={name:"preventOverflow",enabled:!0,phase:"main",fn:T0e,requiresIfExists:["offset"]};function D0e(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function A0e(n){return n===os(n)||!Gs(n)?eV(n):D0e(n)}function M0e(n){var t=n.getBoundingClientRect(),e=Km(t.width)/n.offsetWidth||1,r=Km(t.height)/n.offsetHeight||1;return e!==1||r!==1}function L0e(n,t,e){e===void 0&&(e=!1);var r=Gs(t),i=Gs(t)&&M0e(t),o=uh(t),a=Ym(n,i,e),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!e)&&((Xu(t)!=="body"||rV(o))&&(s=A0e(t)),Gs(t)?(l=Ym(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=tV(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function F0e(n){var t=new Map,e=new Set,r=[];n.forEach(function(o){t.set(o.name,o)});function i(o){e.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!e.has(s)){var l=t.get(s);l&&i(l)}}),r.push(o)}return n.forEach(function(o){e.has(o.name)||i(o)}),r}function I0e(n){var t=F0e(n);return zwe.reduce(function(e,r){return e.concat(t.filter(function(i){return i.phase===r}))},[])}function N0e(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}function k0e(n){var t=n.reduce(function(e,r){var i=e[r.name];return e[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,e},{});return Object.keys(t).map(function(e){return t[e]})}var a3={placement:"bottom",modifiers:[],strategy:"absolute"};function s3(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function G0e(n){n===void 0&&(n={});var t=n,e=t.defaultModifiers,r=e===void 0?[]:e,i=t.defaultOptions,o=i===void 0?a3:i;return function(s,l,u){u===void 0&&(u=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},a3,o),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},d=[],p=!1,h={state:c,setOptions:function(m){var y=typeof m=="function"?m(c.options):m;v(),c.options=Object.assign({},o,c.options,y),c.scrollParents={reference:sv(s)?pw(s):s.contextElement?pw(s.contextElement):[],popper:pw(l)};var C=I0e(k0e([].concat(r,c.options.modifiers)));return c.orderedModifiers=C.filter(function(S){return S.enabled}),f(),h.update()},forceUpdate:function(){if(!p){var m=c.elements,y=m.reference,C=m.popper;if(s3(y,C)){c.rects={reference:L0e(y,g_(C),c.options.strategy==="fixed"),popper:QG(C)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(P){return c.modifiersData[P.name]=Object.assign({},P.data)});for(var S=0;S<c.orderedModifiers.length;S++){if(c.reset===!0){c.reset=!1,S=-1;continue}var w=c.orderedModifiers[S],_=w.fn,x=w.options,E=x===void 0?{}:x,R=w.name;typeof _=="function"&&(c=_({state:c,options:E,name:R,instance:h})||c)}}}},update:N0e(function(){return new Promise(function(g){h.forceUpdate(),g(c)})}),destroy:function(){v(),p=!0}};if(!s3(s,l))return h;h.setOptions(u).then(function(g){!p&&u.onFirstUpdate&&u.onFirstUpdate(g)});function f(){c.orderedModifiers.forEach(function(g){var m=g.name,y=g.options,C=y===void 0?{}:y,S=g.effect;if(typeof S=="function"){var w=S({state:c,name:m,instance:h,options:C}),_=function(){};d.push(w||_)}})}function v(){d.forEach(function(g){return g()}),d=[]}return h}}var V0e=[l0e,O0e,a0e,qwe,b0e,C0e,P0e,r0e,w0e],B0e=G0e({defaultModifiers:V0e});const cq="Popper";function j0e(n){return eq(cq,n)}Fwe(cq,["root"]);const H0e=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],$0e=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function W0e(n,t){if(t==="ltr")return n;switch(n){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return n}}function KI(n){return typeof n=="function"?n():n}function U0e(n){return n.nodeType!==void 0}const z0e=()=>Ge({root:["root"]},Dpe(j0e)),K0e={},Y0e=T.forwardRef(function(t,e){var r;const{anchorEl:i,children:o,direction:a,disablePortal:s,modifiers:l,open:u,placement:c,popperOptions:d,popperRef:p,slotProps:h={},slots:f={},TransitionProps:v}=t,g=ve(t,H0e),m=T.useRef(null),y=or(m,e),C=T.useRef(null),S=or(C,p),w=T.useRef(S);ti(()=>{w.current=S},[S]),T.useImperativeHandle(p,()=>C.current,[]);const _=W0e(c,a),[x,E]=T.useState(_),[R,P]=T.useState(KI(i));T.useEffect(()=>{C.current&&C.current.forceUpdate()}),T.useEffect(()=>{i&&P(KI(i))},[i]),ti(()=>{if(!R||!u)return;const V=B=>{E(B.placement)};let H=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:B})=>{V(B)}}];l!=null&&(H=H.concat(l)),d&&d.modifiers!=null&&(H=H.concat(d.modifiers));const j=B0e(R,m.current,L({placement:_},d,{modifiers:H}));return w.current(j),()=>{j.destroy(),w.current(null)}},[R,s,l,u,d,_]);const A={placement:x};v!==null&&(A.TransitionProps=v);const N=z0e(),I=(r=f.root)!=null?r:"div",G=jr({elementType:I,externalSlotProps:h.root,externalForwardedProps:g,additionalProps:{role:"tooltip",ref:y},ownerState:t,className:N.root});return b.jsx(I,L({},G,{children:typeof o=="function"?o(A):o}))}),q0e=T.forwardRef(function(t,e){const{anchorEl:r,children:i,container:o,direction:a="ltr",disablePortal:s=!1,keepMounted:l=!1,modifiers:u,open:c,placement:d="bottom",popperOptions:p=K0e,popperRef:h,style:f,transition:v=!1,slotProps:g={},slots:m={}}=t,y=ve(t,$0e),[C,S]=T.useState(!0),w=()=>{S(!1)},_=()=>{S(!0)};if(!l&&!c&&(!v||C))return null;let x;if(o)x=o;else if(r){const P=KI(r);x=P&&U0e(P)?vi(P).body:vi(null).body}const E=!c&&l&&(!v||C)?"none":void 0,R=v?{in:c,onEnter:w,onExited:_}:void 0;return b.jsx(R9,{disablePortal:s,container:x,children:b.jsx(Y0e,L({anchorEl:r,direction:a,disablePortal:s,modifiers:u,ref:e,open:v?!C:c,placement:d,popperOptions:p,popperRef:h,slotProps:g,slots:m},y,{style:L({position:"fixed",top:0,left:0,display:E},f),TransitionProps:R,children:i}))})}),X0e=["onChange","maxRows","minRows","style","value"];function Mx(n){return parseInt(n,10)||0}const Z0e={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Q0e(n){return n==null||Object.keys(n).length===0||n.outerHeightStyle===0&&!n.overflowing}const J0e=T.forwardRef(function(t,e){const{onChange:r,maxRows:i,minRows:o=1,style:a,value:s}=t,l=ve(t,X0e),{current:u}=T.useRef(s!=null),c=T.useRef(null),d=or(e,c),p=T.useRef(null),h=T.useCallback(()=>{const g=c.current,y=qu(g).getComputedStyle(g);if(y.width==="0px")return{outerHeightStyle:0,overflowing:!1};const C=p.current;C.style.width=y.width,C.value=g.value||t.placeholder||"x",C.value.slice(-1)===`
`&&(C.value+=" ");const S=y.boxSizing,w=Mx(y.paddingBottom)+Mx(y.paddingTop),_=Mx(y.borderBottomWidth)+Mx(y.borderTopWidth),x=C.scrollHeight;C.value="x";const E=C.scrollHeight;let R=x;o&&(R=Math.max(Number(o)*E,R)),i&&(R=Math.min(Number(i)*E,R)),R=Math.max(R,E);const P=R+(S==="border-box"?w+_:0),A=Math.abs(R-x)<=1;return{outerHeightStyle:P,overflowing:A}},[i,o,t.placeholder]),f=T.useCallback(()=>{const g=h();if(Q0e(g))return;const m=c.current;m.style.height=`${g.outerHeightStyle}px`,m.style.overflow=g.overflowing?"hidden":""},[h]);ti(()=>{const g=()=>{f()};let m;const y=bP(g),C=c.current,S=qu(C);S.addEventListener("resize",y);let w;return typeof ResizeObserver<"u"&&(w=new ResizeObserver(g),w.observe(C)),()=>{y.clear(),cancelAnimationFrame(m),S.removeEventListener("resize",y),w&&w.disconnect()}},[h,f]),ti(()=>{f()});const v=g=>{u||f(),r&&r(g)};return b.jsxs(T.Fragment,{children:[b.jsx("textarea",L({value:s,onChange:v,ref:d,rows:o,style:a},l)),b.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:p,tabIndex:-1,style:L({},Z0e.shadow,a,{paddingTop:0,paddingBottom:0})})]})});function e_e(n){return He("MuiCircularProgress",n)}$e("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const t_e=["className","color","disableShrink","size","style","thickness","value","variant"];let NP=n=>n,l3,u3,c3,d3;const Dd=44,r_e=py(l3||(l3=NP`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),n_e=py(u3||(u3=NP`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),i_e=n=>{const{classes:t,variant:e,color:r,disableShrink:i}=n,o={root:["root",e,`color${Se(r)}`],svg:["svg"],circle:["circle",`circle${Se(e)}`,i&&"circleDisableShrink"]};return Ge(o,e_e,t)},o_e=le("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,t[e.variant],t[`color${Se(e.color)}`]]}})(({ownerState:n,theme:t})=>L({display:"inline-block"},n.variant==="determinate"&&{transition:t.transitions.create("transform")},n.color!=="inherit"&&{color:(t.vars||t).palette[n.color].main}),({ownerState:n})=>n.variant==="indeterminate"&&aP(c3||(c3=NP`
      animation: ${0} 1.4s linear infinite;
    `),r_e)),a_e=le("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(n,t)=>t.svg})({display:"block"}),s_e=le("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.circle,t[`circle${Se(e.variant)}`],e.disableShrink&&t.circleDisableShrink]}})(({ownerState:n,theme:t})=>L({stroke:"currentColor"},n.variant==="determinate"&&{transition:t.transitions.create("stroke-dashoffset")},n.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:n})=>n.variant==="indeterminate"&&!n.disableShrink&&aP(d3||(d3=NP`
      animation: ${0} 1.4s ease-in-out infinite;
    `),n_e)),l_e=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:a=!1,size:s=40,style:l,thickness:u=3.6,value:c=0,variant:d="indeterminate"}=r,p=ve(r,t_e),h=L({},r,{color:o,disableShrink:a,size:s,thickness:u,value:c,variant:d}),f=i_e(h),v={},g={},m={};if(d==="determinate"){const y=2*Math.PI*((Dd-u)/2);v.strokeDasharray=y.toFixed(3),m["aria-valuenow"]=Math.round(c),v.strokeDashoffset=`${((100-c)/100*y).toFixed(3)}px`,g.transform="rotate(-90deg)"}return b.jsx(o_e,L({className:Re(f.root,i),style:L({width:s,height:s},g,l),ownerState:h,ref:e,role:"progressbar"},m,p,{children:b.jsx(a_e,{className:f.svg,ownerState:h,viewBox:`${Dd/2} ${Dd/2} ${Dd} ${Dd}`,children:b.jsx(s_e,{className:f.circle,style:v,ownerState:h,cx:Dd,cy:Dd,r:(Dd-u)/2,fill:"none",strokeWidth:u})})}))}),u_e=l_e;function c_e(n){return He("MuiLoadingButton",n)}const d_e=$e("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]),yc=d_e,p_e=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],h_e=n=>{const{loading:t,loadingPosition:e,classes:r}=n,i={root:["root",t&&"loading"],startIcon:[t&&`startIconLoading${Se(e)}`],endIcon:[t&&`endIconLoading${Se(e)}`],loadingIndicator:["loadingIndicator",t&&`loadingIndicator${Se(e)}`]},o=Ge(i,c_e,r);return L({},r,o)},f_e=n=>n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"&&n!=="classes",v_e=le(Et,{shouldForwardProp:n=>f_e(n)||n==="classes",name:"MuiLoadingButton",slot:"Root",overridesResolver:(n,t)=>[t.root,t.startIconLoadingStart&&{[`& .${yc.startIconLoadingStart}`]:t.startIconLoadingStart},t.endIconLoadingEnd&&{[`& .${yc.endIconLoadingEnd}`]:t.endIconLoadingEnd}]})(({ownerState:n,theme:t})=>L({[`& .${yc.startIconLoadingStart}, & .${yc.endIconLoadingEnd}`]:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},n.loadingPosition==="center"&&{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${yc.loading}`]:{color:"transparent"}},n.loadingPosition==="start"&&n.fullWidth&&{[`& .${yc.startIconLoadingStart}, & .${yc.endIconLoadingEnd}`]:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0,marginRight:-8}},n.loadingPosition==="end"&&n.fullWidth&&{[`& .${yc.startIconLoadingStart}, & .${yc.endIconLoadingEnd}`]:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0,marginLeft:-8}})),g_e=le("span",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.loadingIndicator,t[`loadingIndicator${Se(e.loadingPosition)}`]]}})(({theme:n,ownerState:t})=>L({position:"absolute",visibility:"visible",display:"flex"},t.loadingPosition==="start"&&(t.variant==="outlined"||t.variant==="contained")&&{left:t.size==="small"?10:14},t.loadingPosition==="start"&&t.variant==="text"&&{left:6},t.loadingPosition==="center"&&{left:"50%",transform:"translate(-50%)",color:(n.vars||n).palette.action.disabled},t.loadingPosition==="end"&&(t.variant==="outlined"||t.variant==="contained")&&{right:t.size==="small"?10:14},t.loadingPosition==="end"&&t.variant==="text"&&{right:6},t.loadingPosition==="start"&&t.fullWidth&&{position:"relative",left:-10},t.loadingPosition==="end"&&t.fullWidth&&{position:"relative",right:-10})),m_e=T.forwardRef(function(t,e){const r=T.useContext(B7),i=xP(r,t),o=Ve({props:i,name:"MuiLoadingButton"}),{children:a,disabled:s=!1,id:l,loading:u=!1,loadingIndicator:c,loadingPosition:d="center",variant:p="text"}=o,h=ve(o,p_e),f=tc(l),v=c??b.jsx(u_e,{"aria-labelledby":f,color:"inherit",size:16}),g=L({},o,{disabled:s,loading:u,loadingIndicator:v,loadingPosition:d,variant:p}),m=h_e(g),y=u?b.jsx(g_e,{className:m.loadingIndicator,ownerState:g,children:v}):null;return b.jsxs(v_e,L({disabled:s||u,id:f,ref:e},h,{variant:p,classes:m,ownerState:g,children:[g.loadingPosition==="end"?a:y,g.loadingPosition==="end"?y:a]}))}),hw=m_e,y_e=le("input")({display:"none"});function C_e(n){const[r,i]=T.useState(""),[o,a]=T.useState(!1),[s,l]=T.useState({x:0,y:0}),[u,c]=T.useState(1),[d,p]=T.useState({width:100,height:100,x:0,y:0}),[h,f]=T.useState(500);T.useEffect(()=>{f(Math.min(500,window.screen.width-64))},[]);const v=async x=>{if(x.target.files&&x.target.files.length>0){a(!0);const E=x.target.files[0];g(E).then(R=>{l({x:0,y:0}),c(1),a(!1),i(R)})}},g=x=>new Promise(E=>{const R=new FileReader;R.addEventListener("load",()=>E(R.result),!1),R.readAsDataURL(x)}),m=()=>{i("")},y=(x,E)=>{p(E)},C=()=>{a(!0),S(r,d).then(x=>{fSe(n.attendee).then(E=>{E.status==201&&E.json().then(R=>{vSe(R.upload_url,x).then(()=>{n.badgeImageChanged(R.badge_image),a(!1),m()})})})})},S=async(x,E)=>{const A=await w(x),N=document.createElement("canvas"),I=N.getContext("2d");if(!I)return null;N.width=Math.max(A.width,300),N.height=Math.max(A.height,300),I.imageSmoothingEnabled=!0,I.scale(300/E.width,300/E.height),I.drawImage(A,-E.x,-E.y);const G=I.getImageData(0,0,300,300);return N.width=300,N.height=300,I.putImageData(G,0,0),new Promise(V=>{N.toBlob(H=>{V(H)},"image/jpeg")})},w=x=>new Promise((E,R)=>{const P=new Image;P.addEventListener("load",()=>E(P)),P.addEventListener("error",A=>R(A)),P.src=x}),_=()=>{a(!0),gSe(n.attendee).then(x=>{x.status==200&&(a(!1),n.badgeImageChanged(""))})};return b.jsxs(b.Fragment,{children:[b.jsxs(na,{spacing:2,children:[b.jsx(Pr,{variant:"h6",color:"inherit",children:"Badge Image"}),n.attendee.badge_image?b.jsxs(na,{direction:"row",children:[b.jsx("img",{style:{width:"150px",marginRight:"8px"},src:"https://storage.googleapis.com/reggie-badges/"+n.attendee.badge_image}),b.jsx(x9,{alignItems:"center",display:"flex",justifyContent:"center",children:b.jsx(hw,{loading:o,loadingPosition:"center",variant:"contained",color:"error",onClick:_,children:"Delete Badge Image"})})]}):b.jsxs("label",{htmlFor:"contained-button-file",children:[b.jsx(y_e,{accept:"image/*",id:"contained-button-file",multiple:!0,type:"file",onChange:v}),b.jsx(hw,{loading:o,loadingPosition:"center",variant:"contained",component:"span",children:"Upload Badge Image"})]})]}),b.jsxs(_o,{open:!!r,onClose:m,children:[b.jsxs(ia,{children:["Crop Badge Image",b.jsx(Pr,{children:"Scroll or pinch to zoom. Click and drag to move."})]}),b.jsx(br,{style:{position:"relative",width:h+"px",height:h+"px"},children:b.jsx(wwe,{image:r,crop:s,zoom:u,aspect:1,onCropChange:l,onZoomChange:c,onCropComplete:y})}),b.jsx(xo,{children:b.jsx(hw,{loading:o,loadingPosition:"center",onClick:C,autoFocus:!0,children:"Upload"})})]})]})}function ch({props:n,states:t,muiFormControl:e}){return t.reduce((r,i)=>(r[i]=n[i],e&&typeof n[i]>"u"&&(r[i]=e[i]),r),{})}const S_e=T.createContext(void 0),kP=S_e;function rc(){return T.useContext(kP)}function p3(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function eR(n,t=!1){return n&&(p3(n.value)&&n.value!==""||t&&p3(n.defaultValue)&&n.defaultValue!=="")}function w_e(n){return n.startAdornment}function __e(n){return He("MuiInputBase",n)}const x_e=$e("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Xm=x_e,b_e=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],GP=(n,t)=>{const{ownerState:e}=n;return[t.root,e.formControl&&t.formControl,e.startAdornment&&t.adornedStart,e.endAdornment&&t.adornedEnd,e.error&&t.error,e.size==="small"&&t.sizeSmall,e.multiline&&t.multiline,e.color&&t[`color${Se(e.color)}`],e.fullWidth&&t.fullWidth,e.hiddenLabel&&t.hiddenLabel]},VP=(n,t)=>{const{ownerState:e}=n;return[t.input,e.size==="small"&&t.inputSizeSmall,e.multiline&&t.inputMultiline,e.type==="search"&&t.inputTypeSearch,e.startAdornment&&t.inputAdornedStart,e.endAdornment&&t.inputAdornedEnd,e.hiddenLabel&&t.inputHiddenLabel]},E_e=n=>{const{classes:t,color:e,disabled:r,error:i,endAdornment:o,focused:a,formControl:s,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:d,size:p,startAdornment:h,type:f}=n,v={root:["root",`color${Se(e)}`,r&&"disabled",i&&"error",l&&"fullWidth",a&&"focused",s&&"formControl",p&&p!=="medium"&&`size${Se(p)}`,c&&"multiline",h&&"adornedStart",o&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",f==="search"&&"inputTypeSearch",c&&"inputMultiline",p==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",h&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]};return Ge(v,__e,t)},BP=le("div",{name:"MuiInputBase",slot:"Root",overridesResolver:GP})(({theme:n,ownerState:t})=>L({},n.typography.body1,{color:(n.vars||n).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Xm.disabled}`]:{color:(n.vars||n).palette.text.disabled,cursor:"default"}},t.multiline&&L({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),jP=le("input",{name:"MuiInputBase",slot:"Input",overridesResolver:VP})(({theme:n,ownerState:t})=>{const e=n.palette.mode==="light",r=L({color:"currentColor"},n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},{transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})}),i={opacity:"0 !important"},o=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return L({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Xm.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${Xm.disabled}`]:{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),O_e=b.jsx(L9,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),R_e=T.forwardRef(function(t,e){var r;const i=Ve({props:t,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:a,autoFocus:s,className:l,components:u={},componentsProps:c={},defaultValue:d,disabled:p,disableInjectingGlobalStyles:h,endAdornment:f,fullWidth:v=!1,id:g,inputComponent:m="input",inputProps:y={},inputRef:C,maxRows:S,minRows:w,multiline:_=!1,name:x,onBlur:E,onChange:R,onClick:P,onFocus:A,onKeyDown:N,onKeyUp:I,placeholder:G,readOnly:V,renderSuffix:H,rows:j,slotProps:B={},slots:$={},startAdornment:W,type:Y="text",value:Z}=i,se=ve(i,b_e),X=y.value!=null?y.value:Z,{current:ie}=T.useRef(X!=null),z=T.useRef(),Q=T.useCallback(yt=>{},[]),ue=or(z,C,y.ref,Q),[pe,_e]=T.useState(!1),oe=rc(),we=ch({props:i,muiFormControl:oe,states:["color","disabled","error","hiddenLabel","size","required","filled"]});we.focused=oe?oe.focused:pe,T.useEffect(()=>{!oe&&p&&pe&&(_e(!1),E&&E())},[oe,p,pe,E]);const ne=oe&&oe.onFilled,xe=oe&&oe.onEmpty,Pe=T.useCallback(yt=>{eR(yt)?ne&&ne():xe&&xe()},[ne,xe]);ti(()=>{ie&&Pe({value:X})},[X,Pe,ie]);const ze=yt=>{if(we.disabled){yt.stopPropagation();return}A&&A(yt),y.onFocus&&y.onFocus(yt),oe&&oe.onFocus?oe.onFocus(yt):_e(!0)},ht=yt=>{E&&E(yt),y.onBlur&&y.onBlur(yt),oe&&oe.onBlur?oe.onBlur(yt):_e(!1)},Ae=(yt,...We)=>{if(!ie){const dt=yt.target||z.current;if(dt==null)throw new Error(Zc(1));Pe({value:dt.value})}y.onChange&&y.onChange(yt,...We),R&&R(yt,...We)};T.useEffect(()=>{Pe(z.current)},[]);const Ke=yt=>{z.current&&yt.currentTarget===yt.target&&z.current.focus(),P&&P(yt)};let he=m,Ee=y;_&&he==="input"&&(j?Ee=L({type:void 0,minRows:j,maxRows:j},Ee):Ee=L({type:void 0,maxRows:S,minRows:w},Ee),he=J0e);const Be=yt=>{Pe(yt.animationName==="mui-auto-fill-cancel"?z.current:{value:"x"})};T.useEffect(()=>{oe&&oe.setAdornedStart(!!W)},[oe,W]);const tt=L({},i,{color:we.color||"primary",disabled:we.disabled,endAdornment:f,error:we.error,focused:we.focused,formControl:oe,fullWidth:v,hiddenLabel:we.hiddenLabel,multiline:_,size:we.size,startAdornment:W,type:Y}),Ie=E_e(tt),rt=$.root||u.Root||BP,mt=B.root||c.root||{},ft=$.input||u.Input||jP;return Ee=L({},Ee,(r=B.input)!=null?r:c.input),b.jsxs(T.Fragment,{children:[!h&&O_e,b.jsxs(rt,L({},mt,!Hm(rt)&&{ownerState:L({},tt,mt.ownerState)},{ref:e,onClick:Ke},se,{className:Re(Ie.root,mt.className,l,V&&"MuiInputBase-readOnly"),children:[W,b.jsx(kP.Provider,{value:null,children:b.jsx(ft,L({ownerState:tt,"aria-invalid":we.error,"aria-describedby":o,autoComplete:a,autoFocus:s,defaultValue:d,disabled:we.disabled,id:g,onAnimationStart:Be,name:x,placeholder:G,readOnly:V,required:we.required,rows:j,value:X,onKeyDown:N,onKeyUp:I,type:Y},Ee,!Hm(ft)&&{as:he,ownerState:L({},tt,Ee.ownerState)},{ref:ue,className:Re(Ie.input,Ee.className,V&&"MuiInputBase-readOnly"),onBlur:ht,onChange:Ae,onFocus:ze}))}),f,H?H(L({},we,{startAdornment:W})):null]}))]})}),nV=R_e;function T_e(n){return He("MuiInput",n)}const P_e=L({},Xm,$e("MuiInput",["root","underline","input"])),nC=P_e,D_e=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],A_e=n=>{const{classes:t,disableUnderline:e}=n,i=Ge({root:["root",!e&&"underline"],input:["input"]},T_e,t);return L({},t,i)},M_e=le(BP,{shouldForwardProp:n=>mi(n)||n==="classes",name:"MuiInput",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[...GP(n,t),!e.disableUnderline&&t.underline]}})(({theme:n,ownerState:t})=>{let r=n.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(r=`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`),L({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${nC.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${nC.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${nC.disabled}, .${nC.error}):before`]:{borderBottom:`2px solid ${(n.vars||n).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${nC.disabled}:before`]:{borderBottomStyle:"dotted"}})}),L_e=le(jP,{name:"MuiInput",slot:"Input",overridesResolver:VP})({}),dq=T.forwardRef(function(t,e){var r,i,o,a;const s=Ve({props:t,name:"MuiInput"}),{disableUnderline:l,components:u={},componentsProps:c,fullWidth:d=!1,inputComponent:p="input",multiline:h=!1,slotProps:f,slots:v={},type:g="text"}=s,m=ve(s,D_e),y=A_e(s),S={root:{ownerState:{disableUnderline:l}}},w=f??c?Ro(f??c,S):S,_=(r=(i=v.root)!=null?i:u.Root)!=null?r:M_e,x=(o=(a=v.input)!=null?a:u.Input)!=null?o:L_e;return b.jsx(nV,L({slots:{root:_,input:x},slotProps:w,fullWidth:d,inputComponent:p,multiline:h,ref:e,type:g},m,{classes:y}))});dq.muiName="Input";const pq=dq;function F_e(n){return He("MuiFilledInput",n)}const I_e=L({},Xm,$e("MuiFilledInput",["root","underline","input"])),Ph=I_e,N_e=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],k_e=n=>{const{classes:t,disableUnderline:e}=n,i=Ge({root:["root",!e&&"underline"],input:["input"]},F_e,t);return L({},t,i)},G_e=le(BP,{shouldForwardProp:n=>mi(n)||n==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[...GP(n,t),!e.disableUnderline&&t.underline]}})(({theme:n,ownerState:t})=>{var e;const r=n.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return L({position:"relative",backgroundColor:n.vars?n.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),"&:hover":{backgroundColor:n.vars?n.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:o}},[`&.${Ph.focused}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:o},[`&.${Ph.disabled}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.disabledBg:s}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(e=(n.vars||n).palette[t.color||"primary"])==null?void 0:e.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ph.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ph.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ph.disabled}, .${Ph.error}):before`]:{borderBottom:`1px solid ${(n.vars||n).palette.text.primary}`},[`&.${Ph.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&L({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9}))}),V_e=le(jP,{name:"MuiFilledInput",slot:"Input",overridesResolver:VP})(({theme:n,ownerState:t})=>L({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},n.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),hq=T.forwardRef(function(t,e){var r,i,o,a;const s=Ve({props:t,name:"MuiFilledInput"}),{components:l={},componentsProps:u,fullWidth:c=!1,inputComponent:d="input",multiline:p=!1,slotProps:h,slots:f={},type:v="text"}=s,g=ve(s,N_e),m=L({},s,{fullWidth:c,inputComponent:d,multiline:p,type:v}),y=k_e(s),C={root:{ownerState:m},input:{ownerState:m}},S=h??u?Ro(C,h??u):C,w=(r=(i=f.root)!=null?i:l.Root)!=null?r:G_e,_=(o=(a=f.input)!=null?a:l.Input)!=null?o:V_e;return b.jsx(nV,L({slots:{root:w,input:_},componentsProps:S,fullWidth:c,inputComponent:d,multiline:p,ref:e,type:v},g,{classes:y}))});hq.muiName="Input";const fq=hq;var h3;const B_e=["children","classes","className","label","notched"],j_e=le("fieldset",{shouldForwardProp:mi})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),H_e=le("legend",{shouldForwardProp:mi})(({ownerState:n,theme:t})=>L({float:"unset",width:"auto",overflow:"hidden"},!n.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},n.withLabel&&L({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},n.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function $_e(n){const{className:t,label:e,notched:r}=n,i=ve(n,B_e),o=e!=null&&e!=="",a=L({},n,{notched:r,withLabel:o});return b.jsx(j_e,L({"aria-hidden":!0,className:t,ownerState:a},i,{children:b.jsx(H_e,{ownerState:a,children:o?b.jsx("span",{children:e}):h3||(h3=b.jsx("span",{className:"notranslate",children:"​"}))})}))}function W_e(n){return He("MuiOutlinedInput",n)}const U_e=L({},Xm,$e("MuiOutlinedInput",["root","notchedOutline","input"])),Ad=U_e,z_e=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],K_e=n=>{const{classes:t}=n,r=Ge({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},W_e,t);return L({},t,r)},Y_e=le(BP,{shouldForwardProp:n=>mi(n)||n==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:GP})(({theme:n,ownerState:t})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return L({position:"relative",borderRadius:(n.vars||n).shape.borderRadius,[`&:hover .${Ad.notchedOutline}`]:{borderColor:(n.vars||n).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ad.notchedOutline}`]:{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${Ad.focused} .${Ad.notchedOutline}`]:{borderColor:(n.vars||n).palette[t.color].main,borderWidth:2},[`&.${Ad.error} .${Ad.notchedOutline}`]:{borderColor:(n.vars||n).palette.error.main},[`&.${Ad.disabled} .${Ad.notchedOutline}`]:{borderColor:(n.vars||n).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&L({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),q_e=le($_e,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(n,t)=>t.notchedOutline})(({theme:n})=>{const t=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),X_e=le(jP,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:VP})(({theme:n,ownerState:t})=>L({padding:"16.5px 14px"},!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},n.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),vq=T.forwardRef(function(t,e){var r,i,o,a,s;const l=Ve({props:t,name:"MuiOutlinedInput"}),{components:u={},fullWidth:c=!1,inputComponent:d="input",label:p,multiline:h=!1,notched:f,slots:v={},type:g="text"}=l,m=ve(l,z_e),y=K_e(l),C=rc(),S=ch({props:l,muiFormControl:C,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),w=L({},l,{color:S.color||"primary",disabled:S.disabled,error:S.error,focused:S.focused,formControl:C,fullWidth:c,hiddenLabel:S.hiddenLabel,multiline:h,size:S.size,type:g}),_=(r=(i=v.root)!=null?i:u.Root)!=null?r:Y_e,x=(o=(a=v.input)!=null?a:u.Input)!=null?o:X_e;return b.jsx(nV,L({slots:{root:_,input:x},renderSuffix:E=>b.jsx(q_e,{ownerState:w,className:y.notchedOutline,label:p!=null&&p!==""&&S.required?s||(s=b.jsxs(T.Fragment,{children:[p," ","*"]})):p,notched:typeof f<"u"?f:!!(E.startAdornment||E.filled||E.focused)}),fullWidth:c,inputComponent:d,multiline:h,ref:e,type:g},m,{classes:L({},y,{notchedOutline:null})}))});vq.muiName="Input";const gq=vq;function Z_e(n){return He("MuiFormLabel",n)}const Q_e=$e("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),fw=Q_e,J_e=["children","className","color","component","disabled","error","filled","focused","required"],exe=n=>{const{classes:t,color:e,focused:r,disabled:i,error:o,filled:a,required:s}=n,l={root:["root",`color${Se(e)}`,i&&"disabled",o&&"error",a&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",o&&"error"]};return Ge(l,Z_e,t)},txe=le("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:n},t)=>L({},t.root,n.color==="secondary"&&t.colorSecondary,n.filled&&t.filled)})(({theme:n,ownerState:t})=>L({color:(n.vars||n).palette.text.secondary},n.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${fw.focused}`]:{color:(n.vars||n).palette[t.color].main},[`&.${fw.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${fw.error}`]:{color:(n.vars||n).palette.error.main}})),rxe=le("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(n,t)=>t.asterisk})(({theme:n})=>({[`&.${fw.error}`]:{color:(n.vars||n).palette.error.main}})),nxe=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiFormLabel"}),{children:i,className:o,component:a="label"}=r,s=ve(r,J_e),l=rc(),u=ch({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),c=L({},r,{color:u.color||"primary",component:a,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=exe(c);return b.jsxs(txe,L({as:a,ownerState:c,className:Re(d.root,o),ref:e},s,{children:[i,u.required&&b.jsxs(rxe,{ownerState:c,"aria-hidden":!0,className:d.asterisk,children:[" ","*"]})]}))}),ixe=nxe;function oxe(n){return He("MuiInputLabel",n)}$e("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const axe=["disableAnimation","margin","shrink","variant","className"],sxe=n=>{const{classes:t,formControl:e,size:r,shrink:i,disableAnimation:o,variant:a,required:s}=n,l={root:["root",e&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="normal"&&`size${Se(r)}`,a],asterisk:[s&&"asterisk"]},u=Ge(l,oxe,t);return L({},t,u)},lxe=le(ixe,{shouldForwardProp:n=>mi(n)||n==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[{[`& .${fw.asterisk}`]:t.asterisk},t.root,e.formControl&&t.formControl,e.size==="small"&&t.sizeSmall,e.shrink&&t.shrink,!e.disableAnimation&&t.animated,e.focused&&t.focused,t[e.variant]]}})(({theme:n,ownerState:t})=>L({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:n.transitions.create(["color","transform","max-width"],{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut})},t.variant==="filled"&&L({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&L({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&L({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),uxe=T.forwardRef(function(t,e){const r=Ve({name:"MuiInputLabel",props:t}),{disableAnimation:i=!1,shrink:o,className:a}=r,s=ve(r,axe),l=rc();let u=o;typeof u>"u"&&l&&(u=l.filled||l.focused||l.adornedStart);const c=ch({props:r,muiFormControl:l,states:["size","variant","required","focused"]}),d=L({},r,{disableAnimation:i,formControl:l,shrink:u,size:c.size,variant:c.variant,required:c.required,focused:c.focused}),p=sxe(d);return b.jsx(lxe,L({"data-shrink":u,ownerState:d,ref:e,className:Re(p.root,a)},s,{classes:p}))}),Fc=uxe;function cxe(n){return He("MuiFormControl",n)}$e("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const dxe=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],pxe=n=>{const{classes:t,margin:e,fullWidth:r}=n,i={root:["root",e!=="none"&&`margin${Se(e)}`,r&&"fullWidth"]};return Ge(i,cxe,t)},hxe=le("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:n},t)=>L({},t.root,t[`margin${Se(n.margin)}`],n.fullWidth&&t.fullWidth)})(({ownerState:n})=>L({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},n.margin==="normal"&&{marginTop:16,marginBottom:8},n.margin==="dense"&&{marginTop:8,marginBottom:4},n.fullWidth&&{width:"100%"})),fxe=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiFormControl"}),{children:i,className:o,color:a="primary",component:s="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:d=!1,hiddenLabel:p=!1,margin:h="none",required:f=!1,size:v="medium",variant:g="outlined"}=r,m=ve(r,dxe),y=L({},r,{color:a,component:s,disabled:l,error:u,fullWidth:d,hiddenLabel:p,margin:h,required:f,size:v,variant:g}),C=pxe(y),[S,w]=T.useState(()=>{let I=!1;return i&&T.Children.forEach(i,G=>{if(!sw(G,["Input","Select"]))return;const V=sw(G,["Select"])?G.props.input:G;V&&w_e(V.props)&&(I=!0)}),I}),[_,x]=T.useState(()=>{let I=!1;return i&&T.Children.forEach(i,G=>{sw(G,["Input","Select"])&&(eR(G.props,!0)||eR(G.props.inputProps,!0))&&(I=!0)}),I}),[E,R]=T.useState(!1);l&&E&&R(!1);const P=c!==void 0&&!l?c:E;let A;const N=T.useMemo(()=>({adornedStart:S,setAdornedStart:w,color:a,disabled:l,error:u,filled:_,focused:P,fullWidth:d,hiddenLabel:p,size:v,onBlur:()=>{R(!1)},onEmpty:()=>{x(!1)},onFilled:()=>{x(!0)},onFocus:()=>{R(!0)},registerEffect:A,required:f,variant:g}),[S,a,l,u,_,P,d,p,A,f,v,g]);return b.jsx(kP.Provider,{value:N,children:b.jsx(hxe,L({as:s,ownerState:y,className:Re(C.root,o),ref:e},m,{children:i}))})}),dp=fxe;function vxe(n){return He("MuiFormHelperText",n)}const gxe=$e("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),f3=gxe;var v3;const mxe=["children","className","component","disabled","error","filled","focused","margin","required","variant"],yxe=n=>{const{classes:t,contained:e,size:r,disabled:i,error:o,filled:a,focused:s,required:l}=n,u={root:["root",i&&"disabled",o&&"error",r&&`size${Se(r)}`,e&&"contained",s&&"focused",a&&"filled",l&&"required"]};return Ge(u,vxe,t)},Cxe=le("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.size&&t[`size${Se(e.size)}`],e.contained&&t.contained,e.filled&&t.filled]}})(({theme:n,ownerState:t})=>L({color:(n.vars||n).palette.text.secondary},n.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${f3.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${f3.error}`]:{color:(n.vars||n).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),Sxe=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiFormHelperText"}),{children:i,className:o,component:a="p"}=r,s=ve(r,mxe),l=rc(),u=ch({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),c=L({},r,{component:a,contained:u.variant==="filled"||u.variant==="outlined",variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=yxe(c);return b.jsx(Cxe,L({as:a,ownerState:c,className:Re(d.root,o),ref:e},s,{children:i===" "?v3||(v3=b.jsx("span",{className:"notranslate",children:"​"})):i}))}),wxe=Sxe,_xe=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function iM(n,t,e){return n===t?n.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e?null:n.firstChild}function g3(n,t,e){return n===t?e?n.firstChild:n.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e?null:n.lastChild}function mq(n,t){if(t===void 0)return!0;let e=n.innerText;return e===void 0&&(e=n.textContent),e=e.trim().toLowerCase(),e.length===0?!1:t.repeating?e[0]===t.keys[0]:e.indexOf(t.keys.join(""))===0}function iC(n,t,e,r,i,o){let a=!1,s=i(n,t,t?e:!1);for(;s;){if(s===n.firstChild){if(a)return!1;a=!0}const l=r?!1:s.disabled||s.getAttribute("aria-disabled")==="true";if(!s.hasAttribute("tabindex")||!mq(s,o)||l)s=i(n,s,e);else return s.focus(),!0}return!1}const xxe=T.forwardRef(function(t,e){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:a,className:s,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:d="selectedMenu"}=t,p=ve(t,_xe),h=T.useRef(null),f=T.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ti(()=>{i&&h.current.focus()},[i]),T.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(C,{direction:S})=>{const w=!h.current.style.width;if(C.clientHeight<h.current.clientHeight&&w){const _=`${a9(vi(C))}px`;h.current.style[S==="rtl"?"paddingLeft":"paddingRight"]=_,h.current.style.width=`calc(100% + ${_})`}return h.current}}),[]);const v=C=>{const S=h.current,w=C.key,_=vi(S).activeElement;if(w==="ArrowDown")C.preventDefault(),iC(S,_,u,l,iM);else if(w==="ArrowUp")C.preventDefault(),iC(S,_,u,l,g3);else if(w==="Home")C.preventDefault(),iC(S,null,u,l,iM);else if(w==="End")C.preventDefault(),iC(S,null,u,l,g3);else if(w.length===1){const x=f.current,E=w.toLowerCase(),R=performance.now();x.keys.length>0&&(R-x.lastTime>500?(x.keys=[],x.repeating=!0,x.previousKeyMatched=!0):x.repeating&&E!==x.keys[0]&&(x.repeating=!1)),x.lastTime=R,x.keys.push(E);const P=_&&!x.repeating&&mq(_,x);x.previousKeyMatched&&(P||iC(S,_,!1,l,iM,x))?C.preventDefault():x.previousKeyMatched=!1}c&&c(C)},g=or(h,e);let m=-1;T.Children.forEach(a,(C,S)=>{if(!T.isValidElement(C)){m===S&&(m+=1,m>=a.length&&(m=-1));return}C.props.disabled||(d==="selectedMenu"&&C.props.selected||m===-1)&&(m=S),m===S&&(C.props.disabled||C.props.muiSkipListHighlight||C.type.muiSkipListHighlight)&&(m+=1,m>=a.length&&(m=-1))});const y=T.Children.map(a,(C,S)=>{if(S===m){const w={};return o&&(w.autoFocus=!0),C.props.tabIndex===void 0&&d==="selectedMenu"&&(w.tabIndex=0),T.cloneElement(C,w)}return C});return b.jsx(my,L({role:"menu",ref:g,className:s,onKeyDown:v,tabIndex:i?0:-1},p,{children:y}))}),bxe=xxe,Exe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function YI(n){return`scale(${n}, ${n**2})`}const Oxe={entering:{opacity:1,transform:YI(1)},entered:{opacity:1,transform:"none"}},oM=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),yq=T.forwardRef(function(t,e){const{addEndListener:r,appear:i=!0,children:o,easing:a,in:s,onEnter:l,onEntered:u,onEntering:c,onExit:d,onExited:p,onExiting:h,style:f,timeout:v="auto",TransitionComponent:g=c_}=t,m=ve(t,Exe),y=Of(),C=T.useRef(),S=ma(),w=T.useRef(null),_=or(w,o.ref,e),x=V=>H=>{if(V){const j=w.current;H===void 0?V(j):V(j,H)}},E=x(c),R=x((V,H)=>{mG(V);const{duration:j,delay:B,easing:$}=$p({style:f,timeout:v,easing:a},{mode:"enter"});let W;v==="auto"?(W=S.transitions.getAutoHeightDuration(V.clientHeight),C.current=W):W=j,V.style.transition=[S.transitions.create("opacity",{duration:W,delay:B}),S.transitions.create("transform",{duration:oM?W:W*.666,delay:B,easing:$})].join(","),l&&l(V,H)}),P=x(u),A=x(h),N=x(V=>{const{duration:H,delay:j,easing:B}=$p({style:f,timeout:v,easing:a},{mode:"exit"});let $;v==="auto"?($=S.transitions.getAutoHeightDuration(V.clientHeight),C.current=$):$=H,V.style.transition=[S.transitions.create("opacity",{duration:$,delay:j}),S.transitions.create("transform",{duration:oM?$:$*.666,delay:oM?j:j||$*.333,easing:B})].join(","),V.style.opacity=0,V.style.transform=YI(.75),d&&d(V)}),I=x(p),G=V=>{v==="auto"&&y.start(C.current||0,V),r&&r(w.current,V)};return b.jsx(g,L({appear:i,in:s,nodeRef:w,onEnter:R,onEntered:P,onEntering:E,onExit:N,onExited:I,onExiting:A,addEndListener:G,timeout:v==="auto"?null:v},m,{children:(V,H)=>T.cloneElement(o,L({style:L({opacity:0,transform:YI(.75),visibility:V==="exited"&&!s?"hidden":void 0},Oxe[V],f,o.props.style),ref:_},H))}))});yq.muiSupportAuto=!0;const tR=yq;function Rxe(n){return He("MuiPopover",n)}$e("MuiPopover",["root","paper"]);const Txe=["onEntering"],Pxe=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Dxe=["slotProps"];function m3(n,t){let e=0;return typeof t=="number"?e=t:t==="center"?e=n.height/2:t==="bottom"&&(e=n.height),e}function y3(n,t){let e=0;return typeof t=="number"?e=t:t==="center"?e=n.width/2:t==="right"&&(e=n.width),e}function C3(n){return[n.horizontal,n.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function aM(n){return typeof n=="function"?n():n}const Axe=n=>{const{classes:t}=n;return Ge({root:["root"],paper:["paper"]},Rxe,t)},Mxe=le(yG,{name:"MuiPopover",slot:"Root",overridesResolver:(n,t)=>t.root})({}),Cq=le(ah,{name:"MuiPopover",slot:"Paper",overridesResolver:(n,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Lxe=T.forwardRef(function(t,e){var r,i,o;const a=Ve({props:t,name:"MuiPopover"}),{action:s,anchorEl:l,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:d="anchorEl",children:p,className:h,container:f,elevation:v=8,marginThreshold:g=16,open:m,PaperProps:y={},slots:C,slotProps:S,transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:_=tR,transitionDuration:x="auto",TransitionProps:{onEntering:E}={},disableScrollLock:R=!1}=a,P=ve(a.TransitionProps,Txe),A=ve(a,Pxe),N=(r=S==null?void 0:S.paper)!=null?r:y,I=T.useRef(),G=or(I,N.ref),V=L({},a,{anchorOrigin:u,anchorReference:d,elevation:v,marginThreshold:g,externalPaperSlotProps:N,transformOrigin:w,TransitionComponent:_,transitionDuration:x,TransitionProps:P}),H=Axe(V),j=T.useCallback(()=>{if(d==="anchorPosition")return c;const ne=aM(l),Pe=(ne&&ne.nodeType===1?ne:vi(I.current).body).getBoundingClientRect();return{top:Pe.top+m3(Pe,u.vertical),left:Pe.left+y3(Pe,u.horizontal)}},[l,u.horizontal,u.vertical,c,d]),B=T.useCallback(ne=>({vertical:m3(ne,w.vertical),horizontal:y3(ne,w.horizontal)}),[w.horizontal,w.vertical]),$=T.useCallback(ne=>{const xe={width:ne.offsetWidth,height:ne.offsetHeight},Pe=B(xe);if(d==="none")return{top:null,left:null,transformOrigin:C3(Pe)};const ze=j();let ht=ze.top-Pe.vertical,Ae=ze.left-Pe.horizontal;const Ke=ht+xe.height,he=Ae+xe.width,Ee=qu(aM(l)),Be=Ee.innerHeight-g,tt=Ee.innerWidth-g;if(g!==null&&ht<g){const Ie=ht-g;ht-=Ie,Pe.vertical+=Ie}else if(g!==null&&Ke>Be){const Ie=Ke-Be;ht-=Ie,Pe.vertical+=Ie}if(g!==null&&Ae<g){const Ie=Ae-g;Ae-=Ie,Pe.horizontal+=Ie}else if(he>tt){const Ie=he-tt;Ae-=Ie,Pe.horizontal+=Ie}return{top:`${Math.round(ht)}px`,left:`${Math.round(Ae)}px`,transformOrigin:C3(Pe)}},[l,d,j,B,g]),[W,Y]=T.useState(m),Z=T.useCallback(()=>{const ne=I.current;if(!ne)return;const xe=$(ne);xe.top!==null&&(ne.style.top=xe.top),xe.left!==null&&(ne.style.left=xe.left),ne.style.transformOrigin=xe.transformOrigin,Y(!0)},[$]);T.useEffect(()=>(R&&window.addEventListener("scroll",Z),()=>window.removeEventListener("scroll",Z)),[l,R,Z]);const se=(ne,xe)=>{E&&E(ne,xe),Z()},X=()=>{Y(!1)};T.useEffect(()=>{m&&Z()}),T.useImperativeHandle(s,()=>m?{updatePosition:()=>{Z()}}:null,[m,Z]),T.useEffect(()=>{if(!m)return;const ne=bP(()=>{Z()}),xe=qu(l);return xe.addEventListener("resize",ne),()=>{ne.clear(),xe.removeEventListener("resize",ne)}},[l,m,Z]);let ie=x;x==="auto"&&!_.muiSupportAuto&&(ie=void 0);const z=f||(l?vi(aM(l)).body:void 0),Q=(i=C==null?void 0:C.root)!=null?i:Mxe,ue=(o=C==null?void 0:C.paper)!=null?o:Cq,pe=jr({elementType:ue,externalSlotProps:L({},N,{style:W?N.style:L({},N.style,{opacity:0})}),additionalProps:{elevation:v,ref:G},ownerState:V,className:Re(H.paper,N==null?void 0:N.className)}),_e=jr({elementType:Q,externalSlotProps:(S==null?void 0:S.root)||{},externalForwardedProps:A,additionalProps:{ref:e,slotProps:{backdrop:{invisible:!0}},container:z,open:m},ownerState:V,className:Re(H.root,h)}),{slotProps:oe}=_e,we=ve(_e,Dxe);return b.jsx(Q,L({},we,!Hm(Q)&&{slotProps:oe,disableScrollLock:R},{children:b.jsx(_,L({appear:!0,in:m,onEntering:se,onExited:X,timeout:ie},P,{children:b.jsx(ue,L({},pe,{children:p}))}))}))}),Fxe=Lxe;function Ixe(n){return He("MuiMenu",n)}$e("MuiMenu",["root","paper","list"]);const Nxe=["onEntering"],kxe=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Gxe={vertical:"top",horizontal:"right"},Vxe={vertical:"top",horizontal:"left"},Bxe=n=>{const{classes:t}=n;return Ge({root:["root"],paper:["paper"],list:["list"]},Ixe,t)},jxe=le(Fxe,{shouldForwardProp:n=>mi(n)||n==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(n,t)=>t.root})({}),Hxe=le(Cq,{name:"MuiMenu",slot:"Paper",overridesResolver:(n,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),$xe=le(bxe,{name:"MuiMenu",slot:"List",overridesResolver:(n,t)=>t.list})({outline:0}),Wxe=T.forwardRef(function(t,e){var r,i;const o=Ve({props:t,name:"MuiMenu"}),{autoFocus:a=!0,children:s,className:l,disableAutoFocusItem:u=!1,MenuListProps:c={},onClose:d,open:p,PaperProps:h={},PopoverClasses:f,transitionDuration:v="auto",TransitionProps:{onEntering:g}={},variant:m="selectedMenu",slots:y={},slotProps:C={}}=o,S=ve(o.TransitionProps,Nxe),w=ve(o,kxe),_=sG(),x=L({},o,{autoFocus:a,disableAutoFocusItem:u,MenuListProps:c,onEntering:g,PaperProps:h,transitionDuration:v,TransitionProps:S,variant:m}),E=Bxe(x),R=a&&!u&&p,P=T.useRef(null),A=(B,$)=>{P.current&&P.current.adjustStyleForScrollbar(B,{direction:_?"rtl":"ltr"}),g&&g(B,$)},N=B=>{B.key==="Tab"&&(B.preventDefault(),d&&d(B,"tabKeyDown"))};let I=-1;T.Children.map(s,(B,$)=>{T.isValidElement(B)&&(B.props.disabled||(m==="selectedMenu"&&B.props.selected||I===-1)&&(I=$))});const G=(r=y.paper)!=null?r:Hxe,V=(i=C.paper)!=null?i:h,H=jr({elementType:y.root,externalSlotProps:C.root,ownerState:x,className:[E.root,l]}),j=jr({elementType:G,externalSlotProps:V,ownerState:x,className:E.paper});return b.jsx(jxe,L({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:_?"right":"left"},transformOrigin:_?Gxe:Vxe,slots:{paper:G,root:y.root},slotProps:{root:H,paper:j},open:p,ref:e,transitionDuration:v,TransitionProps:L({onEntering:A},S),ownerState:x},w,{classes:f,children:b.jsx($xe,L({onKeyDown:N,actions:P,autoFocus:a&&(I===-1||u),autoFocusItem:R,variant:m},c,{className:Re(E.list,c.className),children:s}))}))}),Uxe=Wxe;function zxe(n){return He("MuiNativeSelect",n)}const Kxe=$e("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),iV=Kxe,Yxe=["className","disabled","error","IconComponent","inputRef","variant"],qxe=n=>{const{classes:t,variant:e,disabled:r,multiple:i,open:o,error:a}=n,s={select:["select",e,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${Se(e)}`,o&&"iconOpen",r&&"disabled"]};return Ge(s,zxe,t)},Sq=({ownerState:n,theme:t})=>L({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":L({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${iV.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},n.variant==="filled"&&{"&&&":{paddingRight:32}},n.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),Xxe=le("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:mi,overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.select,t[e.variant],e.error&&t.error,{[`&.${iV.multiple}`]:t.multiple}]}})(Sq),wq=({ownerState:n,theme:t})=>L({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${iV.disabled}`]:{color:(t.vars||t).palette.action.disabled}},n.open&&{transform:"rotate(180deg)"},n.variant==="filled"&&{right:7},n.variant==="outlined"&&{right:7}),Zxe=le("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.icon,e.variant&&t[`icon${Se(e.variant)}`],e.open&&t.iconOpen]}})(wq),Qxe=T.forwardRef(function(t,e){const{className:r,disabled:i,error:o,IconComponent:a,inputRef:s,variant:l="standard"}=t,u=ve(t,Yxe),c=L({},t,{disabled:i,variant:l,error:o}),d=qxe(c);return b.jsxs(T.Fragment,{children:[b.jsx(Xxe,L({ownerState:c,className:Re(d.select,r),disabled:i,ref:s||e},u)),t.multiple?null:b.jsx(Zxe,{as:a,ownerState:c,className:d.icon})]})}),Jxe=Qxe;function ebe(n){return He("MuiSelect",n)}const tbe=$e("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),oC=tbe;var S3;const rbe=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],nbe=le("div",{name:"MuiSelect",slot:"Select",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[{[`&.${oC.select}`]:t.select},{[`&.${oC.select}`]:t[e.variant]},{[`&.${oC.error}`]:t.error},{[`&.${oC.multiple}`]:t.multiple}]}})(Sq,{[`&.${oC.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),ibe=le("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.icon,e.variant&&t[`icon${Se(e.variant)}`],e.open&&t.iconOpen]}})(wq),obe=le("input",{shouldForwardProp:n=>_9(n)&&n!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(n,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function w3(n,t){return typeof t=="object"&&t!==null?n===t:String(n)===String(t)}function abe(n){return n==null||typeof n=="string"&&!n.trim()}const sbe=n=>{const{classes:t,variant:e,disabled:r,multiple:i,open:o,error:a}=n,s={select:["select",e,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${Se(e)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Ge(s,ebe,t)},lbe=T.forwardRef(function(t,e){var r;const{"aria-describedby":i,"aria-label":o,autoFocus:a,autoWidth:s,children:l,className:u,defaultOpen:c,defaultValue:d,disabled:p,displayEmpty:h,error:f=!1,IconComponent:v,inputRef:g,labelId:m,MenuProps:y={},multiple:C,name:S,onBlur:w,onChange:_,onClose:x,onFocus:E,onOpen:R,open:P,readOnly:A,renderValue:N,SelectDisplayProps:I={},tabIndex:G,value:V,variant:H="standard"}=t,j=ve(t,rbe),[B,$]=va({controlled:V,default:d,name:"Select"}),[W,Y]=va({controlled:P,default:c,name:"Select"}),Z=T.useRef(null),se=T.useRef(null),[X,ie]=T.useState(null),{current:z}=T.useRef(P!=null),[Q,ue]=T.useState(),pe=or(e,g),_e=T.useCallback(Ye=>{se.current=Ye,Ye&&ie(Ye)},[]),oe=X==null?void 0:X.parentNode;T.useImperativeHandle(pe,()=>({focus:()=>{se.current.focus()},node:Z.current,value:B}),[B]),T.useEffect(()=>{c&&W&&X&&!z&&(ue(s?null:oe.clientWidth),se.current.focus())},[X,s]),T.useEffect(()=>{a&&se.current.focus()},[a]),T.useEffect(()=>{if(!m)return;const Ye=vi(se.current).getElementById(m);if(Ye){const zt=()=>{getSelection().isCollapsed&&se.current.focus()};return Ye.addEventListener("click",zt),()=>{Ye.removeEventListener("click",zt)}}},[m]);const we=(Ye,zt)=>{Ye?R&&R(zt):x&&x(zt),z||(ue(s?null:oe.clientWidth),Y(Ye))},ne=Ye=>{Ye.button===0&&(Ye.preventDefault(),se.current.focus(),we(!0,Ye))},xe=Ye=>{we(!1,Ye)},Pe=T.Children.toArray(l),ze=Ye=>{const zt=Pe.find(vr=>vr.props.value===Ye.target.value);zt!==void 0&&($(zt.props.value),_&&_(Ye,zt))},ht=Ye=>zt=>{let vr;if(zt.currentTarget.hasAttribute("tabindex")){if(C){vr=Array.isArray(B)?B.slice():[];const an=B.indexOf(Ye.props.value);an===-1?vr.push(Ye.props.value):vr.splice(an,1)}else vr=Ye.props.value;if(Ye.props.onClick&&Ye.props.onClick(zt),B!==vr&&($(vr),_)){const an=zt.nativeEvent||zt,po=new an.constructor(an.type,an);Object.defineProperty(po,"target",{writable:!0,value:{value:vr,name:S}}),_(po,Ye)}C||we(!1,zt)}},Ae=Ye=>{A||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Ye.key)!==-1&&(Ye.preventDefault(),we(!0,Ye))},Ke=X!==null&&W,he=Ye=>{!Ke&&w&&(Object.defineProperty(Ye,"target",{writable:!0,value:{value:B,name:S}}),w(Ye))};delete j["aria-invalid"];let Ee,Be;const tt=[];let Ie=!1;(eR({value:B})||h)&&(N?Ee=N(B):Ie=!0);const rt=Pe.map(Ye=>{if(!T.isValidElement(Ye))return null;let zt;if(C){if(!Array.isArray(B))throw new Error(Zc(2));zt=B.some(vr=>w3(vr,Ye.props.value)),zt&&Ie&&tt.push(Ye.props.children)}else zt=w3(B,Ye.props.value),zt&&Ie&&(Be=Ye.props.children);return T.cloneElement(Ye,{"aria-selected":zt?"true":"false",onClick:ht(Ye),onKeyUp:vr=>{vr.key===" "&&vr.preventDefault(),Ye.props.onKeyUp&&Ye.props.onKeyUp(vr)},role:"option",selected:zt,value:void 0,"data-value":Ye.props.value})});Ie&&(C?tt.length===0?Ee=null:Ee=tt.reduce((Ye,zt,vr)=>(Ye.push(zt),vr<tt.length-1&&Ye.push(", "),Ye),[]):Ee=Be);let mt=Q;!s&&z&&X&&(mt=oe.clientWidth);let ft;typeof G<"u"?ft=G:ft=p?null:0;const yt=I.id||(S?`mui-component-select-${S}`:void 0),We=L({},t,{variant:H,value:B,open:Ke,error:f}),dt=sbe(We),ur=L({},y.PaperProps,(r=y.slotProps)==null?void 0:r.paper),Ir=tc();return b.jsxs(T.Fragment,{children:[b.jsx(nbe,L({ref:_e,tabIndex:ft,role:"combobox","aria-controls":Ir,"aria-disabled":p?"true":void 0,"aria-expanded":Ke?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[m,yt].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:Ae,onMouseDown:p||A?null:ne,onBlur:he,onFocus:E},I,{ownerState:We,className:Re(I.className,dt.select,u),id:yt,children:abe(Ee)?S3||(S3=b.jsx("span",{className:"notranslate",children:"​"})):Ee})),b.jsx(obe,L({"aria-invalid":f,value:Array.isArray(B)?B.join(","):B,name:S,ref:Z,"aria-hidden":!0,onChange:ze,tabIndex:-1,disabled:p,className:dt.nativeInput,autoFocus:a,ownerState:We},j)),b.jsx(ibe,{as:v,className:dt.icon,ownerState:We}),b.jsx(Uxe,L({id:`menu-${S||""}`,anchorEl:oe,open:Ke,onClose:xe,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:L({"aria-labelledby":m,role:"listbox","aria-multiselectable":C?"true":void 0,disableListWrap:!0,id:Ir},y.MenuListProps),slotProps:L({},y.slotProps,{paper:L({},ur,{style:L({minWidth:mt},ur!=null?ur.style:null)})}),children:rt}))]})}),ube=lbe,cbe=Dn(b.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),dbe=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],pbe=["root"],hbe=n=>{const{classes:t}=n;return t},oV={name:"MuiSelect",overridesResolver:(n,t)=>t.root,shouldForwardProp:n=>mi(n)&&n!=="variant",slot:"Root"},fbe=le(pq,oV)(""),vbe=le(gq,oV)(""),gbe=le(fq,oV)(""),_q=T.forwardRef(function(t,e){const r=Ve({name:"MuiSelect",props:t}),{autoWidth:i=!1,children:o,classes:a={},className:s,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:c=cbe,id:d,input:p,inputProps:h,label:f,labelId:v,MenuProps:g,multiple:m=!1,native:y=!1,onClose:C,onOpen:S,open:w,renderValue:_,SelectDisplayProps:x,variant:E="outlined"}=r,R=ve(r,dbe),P=y?Jxe:ube,A=rc(),N=ch({props:r,muiFormControl:A,states:["variant","error"]}),I=N.variant||E,G=L({},r,{variant:I,classes:a}),V=hbe(G),H=ve(V,pbe),j=p||{standard:b.jsx(fbe,{ownerState:G}),outlined:b.jsx(vbe,{label:f,ownerState:G}),filled:b.jsx(gbe,{ownerState:G})}[I],B=or(e,j.ref);return b.jsx(T.Fragment,{children:T.cloneElement(j,L({inputComponent:P,inputProps:L({children:o,error:N.error,IconComponent:c,variant:I,type:void 0,multiple:m},y?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:u,labelId:v,MenuProps:g,onClose:C,onOpen:S,open:w,renderValue:_,SelectDisplayProps:L({id:d},x)},h,{classes:h?Ro(H,h.classes):H},p?p.props.inputProps:{})},(m&&y||u)&&I==="outlined"?{notched:!0}:{},{ref:B,className:Re(j.props.className,s,V.root)},!p&&{variant:I},R))})});_q.muiName="Select";const Sl=_q;function mbe(n){return He("MuiTextField",n)}$e("MuiTextField",["root"]);const ybe=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Cbe={standard:pq,filled:fq,outlined:gq},Sbe=n=>{const{classes:t}=n;return Ge({root:["root"]},mbe,t)},wbe=le(dp,{name:"MuiTextField",slot:"Root",overridesResolver:(n,t)=>t.root})({}),_be=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:a,className:s,color:l="primary",defaultValue:u,disabled:c=!1,error:d=!1,FormHelperTextProps:p,fullWidth:h=!1,helperText:f,id:v,InputLabelProps:g,inputProps:m,InputProps:y,inputRef:C,label:S,maxRows:w,minRows:_,multiline:x=!1,name:E,onBlur:R,onChange:P,onFocus:A,placeholder:N,required:I=!1,rows:G,select:V=!1,SelectProps:H,type:j,value:B,variant:$="outlined"}=r,W=ve(r,ybe),Y=L({},r,{autoFocus:o,color:l,disabled:c,error:d,fullWidth:h,multiline:x,required:I,select:V,variant:$}),Z=Sbe(Y),se={};$==="outlined"&&(g&&typeof g.shrink<"u"&&(se.notched=g.shrink),se.label=S),V&&((!H||!H.native)&&(se.id=void 0),se["aria-describedby"]=void 0);const X=tc(v),ie=f&&X?`${X}-helper-text`:void 0,z=S&&X?`${X}-label`:void 0,Q=Cbe[$],ue=b.jsx(Q,L({"aria-describedby":ie,autoComplete:i,autoFocus:o,defaultValue:u,fullWidth:h,multiline:x,name:E,rows:G,maxRows:w,minRows:_,type:j,value:B,id:X,inputRef:C,onBlur:R,onChange:P,onFocus:A,placeholder:N,inputProps:m},se,y));return b.jsxs(wbe,L({className:Re(Z.root,s),disabled:c,error:d,fullWidth:h,ref:e,required:I,color:l,variant:$,ownerState:Y},W,{children:[S!=null&&S!==""&&b.jsx(Fc,L({htmlFor:X,id:z},g,{children:S})),V?b.jsx(Sl,L({"aria-describedby":ie,id:X,labelId:z,value:B,input:ue},H,{children:a})):ue,f&&b.jsx(wxe,L({id:ie},p,{children:f}))]}))}),Kt=_be;function xbe(n){return He("MuiDialogContentText",n)}$e("MuiDialogContentText",["root"]);const bbe=["children","className"],Ebe=n=>{const{classes:t}=n,r=Ge({root:["root"]},xbe,t);return L({},t,r)},Obe=le(Pr,{shouldForwardProp:n=>mi(n)||n==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(n,t)=>t.root})({}),Rbe=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiDialogContentText"}),{className:i}=r,o=ve(r,bbe),a=Ebe(o);return b.jsx(Obe,L({component:"p",variant:"body1",color:"text.secondary",ref:e,ownerState:o,className:Re(a.root,i)},r,{classes:a}))}),En=Rbe,Tbe=["localeText"],qI=T.createContext(null),HP=function(t){var e;const{localeText:r}=t,i=ve(t,Tbe),{utils:o,localeText:a}=(e=T.useContext(qI))!=null?e:{utils:void 0,localeText:void 0},s=Ve({props:i,name:"MuiLocalizationProvider"}),{children:l,dateAdapter:u,dateFormats:c,dateLibInstance:d,adapterLocale:p,localeText:h}=s,f=T.useMemo(()=>L({},h,a,r),[h,a,r]),v=T.useMemo(()=>{if(!u)return o||null;const y=new u({locale:p,formats:c,instance:d});if(!y.isMUIAdapter)throw new Error(["MUI: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return y},[u,p,c,d,o]),g=T.useMemo(()=>v?{minDate:v.date("1900-01-01T00:00:00.000"),maxDate:v.date("2099-12-31T00:00:00.000")}:null,[v]),m=T.useMemo(()=>({utils:v,defaultDates:g,localeText:f}),[g,v,f]);return b.jsx(qI.Provider,{value:m,children:l})},aC=(n,t)=>n.length!==t.length?!1:t.every(e=>n.includes(e)),Pbe=({openTo:n,defaultOpenTo:t,views:e,defaultViews:r})=>{const i=e??r;let o;if(n!=null)o=n;else if(i.includes(t))o=t;else if(i.length>0)o=i[0];else throw new Error("MUI: The `views` prop must contain at least one view");return{views:i,openTo:o}},rR=(n,t,e)=>{let r=t;return r=n.setHours(r,n.getHours(e)),r=n.setMinutes(r,n.getMinutes(e)),r=n.setSeconds(r,n.getSeconds(e)),r},vw=({date:n,disableFuture:t,disablePast:e,maxDate:r,minDate:i,isDateDisabled:o,utils:a,timezone:s})=>{const l=rR(a,a.dateWithTimezone(void 0,s),n);e&&a.isBefore(i,l)&&(i=l),t&&a.isAfter(r,l)&&(r=l);let u=n,c=n;for(a.isBefore(n,i)&&(u=i,c=null),a.isAfter(n,r)&&(c&&(c=r),u=null);u||c;){if(u&&a.isAfter(u,r)&&(u=null),c&&a.isBefore(c,i)&&(c=null),u){if(!o(u))return u;u=a.addDays(u,1)}if(c){if(!o(c))return c;c=a.addDays(c,-1)}}return null},Dbe=(n,t)=>t==null||!n.isValid(t)?null:t,Ks=(n,t,e)=>t==null||!n.isValid(t)?e:t,Abe=(n,t,e)=>!n.isValid(t)&&t!=null&&!n.isValid(e)&&e!=null?!0:n.isEqual(t,e),aV=(n,t)=>{const r=[n.startOfYear(t)];for(;r.length<12;){const i=r[r.length-1];r.push(n.addMonths(i,1))}return r},xq=(n,t,e)=>e==="date"?n.startOfDay(n.dateWithTimezone(void 0,t)):n.dateWithTimezone(void 0,t),Mbe=["year","month","day"],_3=n=>Mbe.includes(n),sV=(n,{format:t,views:e},r)=>{if(t!=null)return t;const i=n.formats;return aC(e,["year"])?i.year:aC(e,["month"])?i.month:aC(e,["day"])?i.dayOfMonth:aC(e,["month","year"])?`${i.month} ${i.year}`:aC(e,["day","month"])?`${i.month} ${i.dayOfMonth}`:r?/en/.test(n.getCurrentLocaleCode())?i.normalDateWithWeekday:i.normalDate:i.keyboardDate},Lbe=(n,t)=>{const e=n.startOfWeek(t);return[0,1,2,3,4,5,6].map(r=>n.addDays(e,r))},Fbe=["hours","minutes","seconds"],Ibe=n=>Fbe.includes(n),x3=(n,t)=>t.getHours(n)*3600+t.getMinutes(n)*60+t.getSeconds(n),Nbe=(n,t)=>(e,r)=>n?t.isAfter(e,r):x3(e,t)>x3(r,t),_u={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},kbe=n=>Math.max(...n.map(t=>{var e;return(e=_u[t.type])!=null?e:1})),sC=(n,t,e)=>{if(t===_u.year)return n.startOfYear(e);if(t===_u.month)return n.startOfMonth(e);if(t===_u.day)return n.startOfDay(e);let r=e;return t<_u.minutes&&(r=n.setMinutes(r,0)),t<_u.seconds&&(r=n.setSeconds(r,0)),t<_u.milliseconds&&(r=n.setMilliseconds(r,0)),r},Gbe=({props:n,utils:t,granularity:e,timezone:r,getTodayDate:i})=>{var o;let a=i?i():sC(t,e,xq(t,r));n.minDate!=null&&t.isAfterDay(n.minDate,a)&&(a=sC(t,e,n.minDate)),n.maxDate!=null&&t.isBeforeDay(n.maxDate,a)&&(a=sC(t,e,n.maxDate));const s=Nbe((o=n.disableIgnoringDatePartForTimeValidation)!=null?o:!1,t);return n.minTime!=null&&s(n.minTime,a)&&(a=sC(t,e,n.disableIgnoringDatePartForTimeValidation?n.minTime:rR(t,a,n.minTime))),n.maxTime!=null&&s(a,n.maxTime)&&(a=sC(t,e,n.disableIgnoringDatePartForTimeValidation?n.maxTime:rR(t,a,n.maxTime))),a},bq=(n,t)=>{const e=n.formatTokenMap[t];if(e==null)throw new Error([`MUI: The token "${t}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof e=="string"?{type:e,contentType:e==="meridiem"?"letter":"digit",maxLength:void 0}:{type:e.sectionType,contentType:e.contentType,maxLength:e.maxLength}},Vbe=n=>{switch(n){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}},$P=(n,t,e)=>{const r=[],i=n.dateWithTimezone(void 0,t),o=n.startOfWeek(i),a=n.endOfWeek(i);let s=o;for(;n.isBefore(s,a);)r.push(s),s=n.addDays(s,1);return r.map(l=>n.formatByString(l,e))},Eq=(n,t,e,r)=>{switch(e){case"month":return aV(n,n.dateWithTimezone(void 0,t)).map(i=>n.formatByString(i,r));case"weekDay":return $P(n,t,r);case"meridiem":{const i=n.dateWithTimezone(void 0,t);return[n.startOfDay(i),n.endOfDay(i)].map(o=>n.formatByString(o,r))}default:return[]}},Oq=(n,t,e)=>{let r=t;for(r=Number(r).toString();r.length<e;)r=`0${r}`;return r},Rq=(n,t,e,r,i)=>{if(i.type==="day"&&i.contentType==="digit-with-letter"){const a=n.setDate(r.longestMonth,e);return n.formatByString(a,i.format)}const o=e.toString();return i.hasLeadingZerosInInput?Oq(n,o,i.maxLength):o},Bbe=(n,t,e,r,i,o,a)=>{const s=Vbe(r),l=r==="Home",u=r==="End",c=e.value===""||l||u,d=()=>{const h=i[e.type]({currentDate:o,format:e.format,contentType:e.contentType}),f=y=>Rq(n,t,y,h,e),v=e.type==="minutes"&&a!=null&&a.minutesStep?a.minutesStep:1;let m=parseInt(e.value,10)+s*v;if(c){if(e.type==="year"&&!u&&!l)return n.formatByString(n.dateWithTimezone(void 0,t),e.format);s>0||l?m=h.minimum:m=h.maximum}return m%v!==0&&((s<0||l)&&(m+=v-(v+m)%v),(s>0||u)&&(m-=m%v)),m>h.maximum?f(h.minimum+(m-h.maximum-1)%(h.maximum-h.minimum+1)):m<h.minimum?f(h.maximum-(h.minimum-m-1)%(h.maximum-h.minimum+1)):f(m)},p=()=>{const h=Eq(n,t,e.type,e.format);if(h.length===0)return e.value;if(c)return s>0||l?h[0]:h[h.length-1];const v=(h.indexOf(e.value)+h.length+s)%h.length;return h[v]};return e.contentType==="digit"||e.contentType==="digit-with-letter"?d():p()},lV=(n,t)=>{let e=n.value||n.placeholder;const r=t==="non-input"?n.hasLeadingZerosInFormat:n.hasLeadingZerosInInput;return t==="non-input"&&n.hasLeadingZerosInInput&&!n.hasLeadingZerosInFormat&&(e=Number(e).toString()),["input-rtl","input-ltr"].includes(t)&&n.contentType==="digit"&&!r&&e.length===1&&(e=`${e}‎`),t==="input-rtl"&&(e=`⁨${e}⁩`),e},$g=n=>n.replace(/[\u2066\u2067\u2068\u2069]/g,""),Tq=(n,t)=>{let e=0,r=t?1:0;const i=[];for(let o=0;o<n.length;o+=1){const a=n[o],s=lV(a,t?"input-rtl":"input-ltr"),l=`${a.startSeparator}${s}${a.endSeparator}`,u=$g(l).length,c=l.length,d=$g(s),p=r+s.indexOf(d[0])+a.startSeparator.length,h=p+d.length;i.push(L({},a,{start:e,end:e+u,startInInput:p,endInInput:h})),e+=u,r+=c}return i},jbe=(n,t,e,r,i)=>{switch(r.type){case"year":return e.fieldYearPlaceholder({digitAmount:n.formatByString(n.dateWithTimezone(void 0,t),i).length,format:i});case"month":return e.fieldMonthPlaceholder({contentType:r.contentType,format:i});case"day":return e.fieldDayPlaceholder({format:i});case"weekDay":return e.fieldWeekDayPlaceholder({contentType:r.contentType,format:i});case"hours":return e.fieldHoursPlaceholder({format:i});case"minutes":return e.fieldMinutesPlaceholder({format:i});case"seconds":return e.fieldSecondsPlaceholder({format:i});case"meridiem":return e.fieldMeridiemPlaceholder({format:i});default:return i}},b3=(n,t,e,r)=>n.formatByString(n.parse(t,e),r),Pq=(n,t,e)=>n.formatByString(n.dateWithTimezone(void 0,t),e).length===4,Dq=(n,t,e,r,i)=>{if(e!=="digit")return!1;const o=n.dateWithTimezone(void 0,t);switch(r){case"year":return Pq(n,t,i)?n.formatByString(n.setYear(o,1),i)==="0001":n.formatByString(n.setYear(o,2001),i)==="01";case"month":return n.formatByString(n.startOfYear(o),i).length>1;case"day":return n.formatByString(n.startOfMonth(o),i).length>1;case"weekDay":return n.formatByString(n.startOfWeek(o),i).length>1;case"hours":return n.formatByString(n.setHours(o,1),i).length>1;case"minutes":return n.formatByString(n.setMinutes(o,1),i).length>1;case"seconds":return n.formatByString(n.setSeconds(o,1),i).length>1;default:throw new Error("Invalid section type")}},Hbe=(n,t)=>{const e=[],{start:r,end:i}=n.escapedCharacters,o=new RegExp(`(\\${r}[^\\${i}]*\\${i})+`,"g");let a=null;for(;a=o.exec(t);)e.push({start:a.index,end:o.lastIndex-1});return e},E3=(n,t,e,r,i,o,a,s)=>{let l="";const u=[],c=n.date(),d=C=>{if(C==="")return null;const S=bq(n,C),w=Dq(n,t,S.contentType,S.type,C),_=a?w:S.contentType==="digit",x=i!=null&&n.isValid(i);let E=x?n.formatByString(i,C):"",R=null;if(_)if(w)R=E===""?n.formatByString(c,C).length:E.length;else{if(S.maxLength==null)throw new Error(`MUI: The token ${C} should have a 'maxDigitNumber' property on it's adapter`);R=S.maxLength,x&&(E=Oq(n,E,R))}return u.push(L({},S,{format:C,maxLength:R,value:E,placeholder:jbe(n,t,e,S,C),hasLeadingZeros:w,hasLeadingZerosInFormat:w,hasLeadingZerosInInput:_,startSeparator:u.length===0?l:"",endSeparator:"",modified:!1})),null};let p=10,h=r,f=n.expandFormat(r);for(;f!==h;)if(h=f,f=n.expandFormat(h),p-=1,p<0)throw new Error("MUI: The format expansion seems to be  enter in an infinite loop. Please open an issue with the format passed to the picker component");const v=f,g=Hbe(n,v),m=new RegExp(`^(${Object.keys(n.formatTokenMap).sort((C,S)=>S.length-C.length).join("|")})`,"g");let y="";for(let C=0;C<v.length;C+=1){const S=g.find(R=>R.start<=C&&R.end>=C),w=v[C],_=S!=null,x=`${y}${v.slice(C)}`,E=m.test(x);!_&&w.match(/([A-Za-z]+)/)&&E?(y=x.slice(0,m.lastIndex),C+=m.lastIndex-1):_&&(S==null?void 0:S.start)===C||(S==null?void 0:S.end)===C||(d(y),y="",u.length===0?l+=w:u[u.length-1].endSeparator+=w)}return d(y),u.map(C=>{const S=w=>{let _=w;return s&&_!==null&&_.includes(" ")&&(_=`⁩${_}⁦`),o==="spacious"&&["/",".","-"].includes(_)&&(_=` ${_} `),_};return C.startSeparator=S(C.startSeparator),C.endSeparator=S(C.endSeparator),C})},$be=(n,t)=>{const e=t.some(s=>s.type==="day"),r=[],i=[];for(let s=0;s<t.length;s+=1){const l=t[s];e&&l.type==="weekDay"||(r.push(l.format),i.push(lV(l,"non-input")))}const o=r.join(" "),a=i.join(" ");return n.parse(a,o)},Wbe=(n,t)=>{const r=n.map(i=>{const o=lV(i,t?"input-rtl":"input-ltr");return`${i.startSeparator}${o}${i.endSeparator}`}).join("");return t?`⁦${r}⁩`:r},Ube=(n,t)=>{const e=n.dateWithTimezone(void 0,t),r=n.endOfYear(e),i=n.endOfDay(e),{maxDaysInMonth:o,longestMonth:a}=aV(n,e).reduce((s,l)=>{const u=n.getDaysInMonth(l);return u>s.maxDaysInMonth?{maxDaysInMonth:u,longestMonth:l}:s},{maxDaysInMonth:0,longestMonth:null});return{year:({format:s})=>({minimum:0,maximum:Pq(n,t,s)?9999:99}),month:()=>({minimum:1,maximum:n.getMonth(r)+1}),day:({currentDate:s})=>({minimum:1,maximum:s!=null&&n.isValid(s)?n.getDaysInMonth(s):o,longestMonth:a}),weekDay:({format:s,contentType:l})=>{if(l==="digit"){const u=$P(n,t,s).map(Number);return{minimum:Math.min(...u),maximum:Math.max(...u)}}return{minimum:1,maximum:7}},hours:({format:s})=>{const l=n.getHours(i);return n.formatByString(n.endOfDay(e),s)!==l.toString()?{minimum:1,maximum:Number(n.formatByString(n.startOfDay(e),s))}:{minimum:0,maximum:l}},minutes:()=>({minimum:0,maximum:n.getMinutes(i)}),seconds:()=>({minimum:0,maximum:n.getSeconds(i)}),meridiem:()=>({minimum:0,maximum:0})}},zbe=(n,t,e,r,i)=>{switch(e.type){case"year":return n.setYear(i,n.getYear(r));case"month":return n.setMonth(i,n.getMonth(r));case"weekDay":{const o=$P(n,t,e.format),a=n.formatByString(r,e.format),s=o.indexOf(a),u=o.indexOf(e.value)-s;return n.addDays(r,u)}case"day":return n.setDate(i,n.getDate(r));case"meridiem":{const o=n.getHours(r)<12,a=n.getHours(i);return o&&a>=12?n.addHours(i,-12):!o&&a<12?n.addHours(i,12):i}case"hours":return n.setHours(i,n.getHours(r));case"minutes":return n.setMinutes(i,n.getMinutes(r));case"seconds":return n.setSeconds(i,n.getSeconds(r));default:return i}},O3={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8},R3=(n,t,e,r,i,o)=>[...r].sort((a,s)=>O3[a.type]-O3[s.type]).reduce((a,s)=>!o||s.modified?zbe(n,t,s,e,a):a,i),Kbe=()=>navigator.userAgent.toLowerCase().indexOf("android")>-1,Ybe=(n,t)=>{const e={};if(!t)return n.forEach((l,u)=>{const c=u===0?null:u-1,d=u===n.length-1?null:u+1;e[u]={leftIndex:c,rightIndex:d}}),{neighbors:e,startIndex:0,endIndex:n.length-1};const r={},i={};let o=0,a=0,s=n.length-1;for(;s>=0;){a=n.findIndex((l,u)=>{var c;return u>=o&&((c=l.endSeparator)==null?void 0:c.includes(" "))&&l.endSeparator!==" / "}),a===-1&&(a=n.length-1);for(let l=a;l>=o;l-=1)i[l]=s,r[s]=l,s-=1;o=a+1}return n.forEach((l,u)=>{const c=i[u],d=c===0?null:r[c-1],p=c===n.length-1?null:r[c+1];e[u]={leftIndex:d,rightIndex:p}}),{neighbors:e,startIndex:r[0],endIndex:r[n.length-1]}},qbe=["value","referenceDate"],rd={emptyValue:null,getTodayValue:xq,getInitialReferenceValue:n=>{let{value:t,referenceDate:e}=n,r=ve(n,qbe);return t!=null&&r.utils.isValid(t)?t:e??Gbe(r)},cleanValue:Dbe,areValuesEqual:Abe,isSameError:(n,t)=>n===t,hasError:n=>n!=null,defaultErrorState:null,getTimezone:(n,t)=>t==null||!n.isValid(t)?null:n.getTimezone(t),setTimezone:(n,t,e)=>e==null?null:n.setTimezone(e,t)},Xbe={updateReferenceValue:(n,t,e)=>t==null||!n.isValid(t)?e:t,getSectionsFromValue:(n,t,e,r,i)=>!n.isValid(t)&&!!e?e:Tq(i(t),r),getValueStrFromSections:Wbe,getActiveDateManager:(n,t)=>({date:t.value,referenceDate:t.referenceValue,getSections:e=>e,getNewValuesFromNewActiveDate:e=>({value:e,referenceValue:e==null||!n.isValid(e)?t.referenceValue:e})}),parseValueStr:(n,t,e)=>e(n.trim(),t)},Zbe=n=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:L({},n)}}}}),Aq={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"open previous view",openNextView:"open next view",calendarViewSwitchingButtonAriaLabel:n=>n==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(n,t,e)=>`Select ${n}. ${t===null?"No time selected":`Selected time is ${e.format(t,"fullTime")}`}`,hoursClockNumberText:n=>`${n} hours`,minutesClockNumberText:n=>`${n} minutes`,secondsClockNumberText:n=>`${n} seconds`,selectViewText:n=>`Select ${n}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:n=>`Week ${n}`,calendarWeekNumberText:n=>`${n}`,openDatePickerDialogue:(n,t)=>n!==null&&t.isValid(n)?`Choose date, selected date is ${t.format(n,"fullDate")}`:"Choose date",openTimePickerDialogue:(n,t)=>n!==null&&t.isValid(n)?`Choose time, selected time is ${t.format(n,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:n=>"Y".repeat(n.digitAmount),fieldMonthPlaceholder:n=>n.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:n=>n.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa"},Qbe=Aq;Zbe(Aq);const xv=()=>{const n=T.useContext(qI);if(n===null)throw new Error(["MUI: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(n.utils===null)throw new Error(["MUI: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const t=T.useMemo(()=>L({},Qbe,n.localeText),[n.localeText]);return T.useMemo(()=>L({},n,{localeText:t}),[n,t])},qr=()=>xv().utils,m_=()=>xv().defaultDates,dh=()=>xv().localeText,WP=n=>{const t=qr(),e=T.useRef();return e.current===void 0&&(e.current=t.dateWithTimezone(void 0,n)),e.current};function Jbe(n){return He("MuiPickersToolbar",n)}$e("MuiPickersToolbar",["root","content"]);const eEe=n=>{const{classes:t,isLandscape:e}=n;return Ge({root:["root"],content:["content"],penIconButton:["penIconButton",e&&"penIconButtonLandscape"]},Jbe,t)},tEe=le("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(n,t)=>t.root})(({theme:n,ownerState:t})=>L({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:n.spacing(2,3)},t.isLandscape&&{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"})),rEe=le("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(n,t)=>t.content})(({ownerState:n})=>{var t;return{display:"flex",flexWrap:"wrap",width:"100%",justifyContent:n.isLandscape?"flex-start":"space-between",flexDirection:n.isLandscape?(t=n.landscapeDirection)!=null?t:"column":"row",flex:1,alignItems:n.isLandscape?"flex-start":"center"}}),nEe=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiPickersToolbar"}),{children:i,className:o,toolbarTitle:a,hidden:s,titleId:l}=r,u=r,c=eEe(u);return s?null:b.jsxs(tEe,{ref:e,className:Re(c.root,o),ownerState:u,children:[b.jsx(Pr,{color:"text.secondary",variant:"overline",id:l,children:a}),b.jsx(rEe,{className:c.content,ownerState:u,children:i})]})});function iEe(n){return He("MuiDatePickerToolbar",n)}$e("MuiDatePickerToolbar",["root","title"]);const oEe=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views","className"],aEe=n=>{const{classes:t}=n;return Ge({root:["root"],title:["title"]},iEe,t)},sEe=le(nEe,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(n,t)=>t.root})({}),lEe=le(Pr,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(n,t)=>t.title})(({ownerState:n})=>L({},n.isLandscape&&{margin:"auto 16px auto auto"})),uEe=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiDatePickerToolbar"}),{value:i,isLandscape:o,toolbarFormat:a,toolbarPlaceholder:s="––",views:l,className:u}=r,c=ve(r,oEe),d=qr(),p=dh(),h=aEe(r),f=T.useMemo(()=>{if(!i)return s;const g=sV(d,{format:a,views:l},!0);return d.formatByString(i,g)},[i,a,s,d,l]),v=r;return b.jsx(sEe,L({ref:e,toolbarTitle:p.datePickerToolbarTitle,isLandscape:o,className:Re(h.root,u)},c,{children:b.jsx(lEe,{variant:"h4",align:o?"left":"center",ownerState:v,className:h.title,children:f})}))}),Mq=n=>{if(n!==void 0)return Object.keys(n).reduce((t,e)=>L({},t,{[`${e.slice(0,1).toLowerCase()}${e.slice(1)}`]:n[e]}),{})};function Lq(n,t){var e,r,i,o;const a=qr(),s=m_(),l=Ve({props:n,name:t}),u=T.useMemo(()=>{var d;return((d=l.localeText)==null?void 0:d.toolbarTitle)==null?l.localeText:L({},l.localeText,{datePickerToolbarTitle:l.localeText.toolbarTitle})},[l.localeText]),c=(e=l.slots)!=null?e:Mq(l.components);return L({},l,{localeText:u},Pbe({views:l.views,openTo:l.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:(r=l.disableFuture)!=null?r:!1,disablePast:(i=l.disablePast)!=null?i:!1,minDate:Ks(a,l.minDate,s.minDate),maxDate:Ks(a,l.maxDate,s.maxDate),slots:L({toolbar:uEe},c),slotProps:(o=l.slotProps)!=null?o:l.componentsProps})}const cEe=Dn(b.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),dEe=Dn(b.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),pEe=Dn(b.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),hEe=Dn(b.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar");Dn(b.jsxs(T.Fragment,{children:[b.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),b.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");Dn(b.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");Dn(b.jsxs(T.Fragment,{children:[b.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),b.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");const fEe=Dn(b.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function vEe(n){return He("MuiPickersArrowSwitcher",n)}$e("MuiPickersArrowSwitcher",["root","spacer","button"]);const gEe=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel"],mEe=["ownerState"],yEe=["ownerState"],CEe=le("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(n,t)=>t.root})({display:"flex"}),SEe=le("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(n,t)=>t.spacer})(({theme:n})=>({width:n.spacing(3)})),T3=le(Dl,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(n,t)=>t.button})(({ownerState:n})=>L({},n.hidden&&{visibility:"hidden"})),wEe=n=>{const{classes:t}=n;return Ge({root:["root"],spacer:["spacer"],button:["button"]},vEe,t)},_Ee=T.forwardRef(function(t,e){var r,i,o,a;const l=ma().direction==="rtl",u=Ve({props:t,name:"MuiPickersArrowSwitcher"}),{children:c,className:d,slots:p,slotProps:h,isNextDisabled:f,isNextHidden:v,onGoToNext:g,nextLabel:m,isPreviousDisabled:y,isPreviousHidden:C,onGoToPrevious:S,previousLabel:w}=u,_=ve(u,gEe),x=u,E=wEe(x),R={isDisabled:f,isHidden:v,goTo:g,label:m},P={isDisabled:y,isHidden:C,goTo:S,label:w},A=(r=p==null?void 0:p.previousIconButton)!=null?r:T3,N=jr({elementType:A,externalSlotProps:h==null?void 0:h.previousIconButton,additionalProps:{size:"medium",title:P.label,"aria-label":P.label,disabled:P.isDisabled,edge:"end",onClick:P.goTo},ownerState:L({},x,{hidden:P.isHidden}),className:E.button}),I=(i=p==null?void 0:p.nextIconButton)!=null?i:T3,G=jr({elementType:I,externalSlotProps:h==null?void 0:h.nextIconButton,additionalProps:{size:"medium",title:R.label,"aria-label":R.label,disabled:R.isDisabled,edge:"start",onClick:R.goTo},ownerState:L({},x,{hidden:R.isHidden}),className:E.button}),V=(o=p==null?void 0:p.leftArrowIcon)!=null?o:dEe,H=jr({elementType:V,externalSlotProps:h==null?void 0:h.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),j=ve(H,mEe),B=(a=p==null?void 0:p.rightArrowIcon)!=null?a:pEe,$=jr({elementType:B,externalSlotProps:h==null?void 0:h.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),W=ve($,yEe);return b.jsxs(CEe,L({ref:e,className:Re(E.root,d),ownerState:x},_,{children:[b.jsx(A,L({},N,{children:l?b.jsx(B,L({},W)):b.jsx(V,L({},j))})),c?b.jsx(Pr,{variant:"subtitle1",component:"span",children:c}):b.jsx(SEe,{className:E.spacer,ownerState:x}),b.jsx(I,L({},G,{children:l?b.jsx(V,L({},j)):b.jsx(B,L({},W))}))]}))}),h0=36,UP=2,zP=320,xEe=280,uV=334,bEe=le(_o)({[`& .${cw.container}`]:{outline:0},[`& .${cw.paper}`]:{outline:0,minWidth:zP}}),EEe=le(br)({"&:first-of-type":{padding:0}});function OEe(n){var t,e;const{children:r,onDismiss:i,open:o,slots:a,slotProps:s}=n,l=(t=a==null?void 0:a.dialog)!=null?t:bEe,u=(e=a==null?void 0:a.mobileTransition)!=null?e:gy;return b.jsx(l,L({open:o,onClose:i},s==null?void 0:s.dialog,{TransitionComponent:u,TransitionProps:s==null?void 0:s.mobileTransition,PaperComponent:a==null?void 0:a.mobilePaper,PaperProps:s==null?void 0:s.mobilePaper,children:b.jsx(EEe,{children:r})}))}var cV={};Object.defineProperty(cV,"__esModule",{value:!0});var Fq=cV.default=void 0,REe=PEe(T),TEe=S9;function Iq(n){if(typeof WeakMap!="function")return null;var t=new WeakMap,e=new WeakMap;return(Iq=function(r){return r?e:t})(n)}function PEe(n,t){if(!t&&n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var e=Iq(t);if(e&&e.has(n))return e.get(n);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in n)if(o!=="default"&&Object.prototype.hasOwnProperty.call(n,o)){var a=i?Object.getOwnPropertyDescriptor(n,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=n[o]}return r.default=n,e&&e.set(n,r),r}function DEe(n){return Object.keys(n).length===0}function AEe(n=null){const t=REe.useContext(TEe.ThemeContext);return!t||DEe(t)?n:t}Fq=cV.default=AEe;const MEe=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],LEe=le(q0e,{name:"MuiPopper",slot:"Root",overridesResolver:(n,t)=>t.root})({}),FEe=T.forwardRef(function(t,e){var r;const i=Fq(),o=Ve({props:t,name:"MuiPopper"}),{anchorEl:a,component:s,components:l,componentsProps:u,container:c,disablePortal:d,keepMounted:p,modifiers:h,open:f,placement:v,popperOptions:g,popperRef:m,transition:y,slots:C,slotProps:S}=o,w=ve(o,MEe),_=(r=C==null?void 0:C.root)!=null?r:l==null?void 0:l.Root,x=L({anchorEl:a,container:c,disablePortal:d,keepMounted:p,modifiers:h,open:f,placement:v,popperOptions:g,popperRef:m,transition:y},w);return b.jsx(LEe,L({as:s,direction:i==null?void 0:i.direction,slots:{root:_},slotProps:S??u},x,{ref:e}))}),dV=FEe;function IEe(n){return He("MuiPickersPopper",n)}$e("MuiPickersPopper",["root","paper"]);function NEe(n,t){return Array.isArray(t)?t.every(e=>n.indexOf(e)!==-1):n.indexOf(t)!==-1}const kEe=(n,t)=>e=>{(e.key==="Enter"||e.key===" ")&&(n(e),e.preventDefault(),e.stopPropagation()),t&&t(e)},nR=(n=document)=>{const t=n.activeElement;return t?t.shadowRoot?nR(t.shadowRoot):t:null},GEe="@media (pointer: fine)",VEe="@media (prefers-reduced-motion: reduce)",gm=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),P3=gm&&gm[1]?parseInt(gm[1],10):null,D3=gm&&gm[2]?parseInt(gm[2],10):null,BEe=P3&&P3<10||D3&&D3<13||!1,Nq=()=>r9(VEe,{defaultMatches:!1})||BEe,jEe=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],HEe=n=>{const{classes:t}=n;return Ge({root:["root"],paper:["paper"]},IEe,t)},$Ee=le(dV,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(n,t)=>t.root})(({theme:n})=>({zIndex:n.zIndex.modal})),WEe=le(ah,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(n,t)=>t.paper})(({ownerState:n})=>L({outline:0,transformOrigin:"top center"},n.placement.includes("top")&&{transformOrigin:"bottom center"}));function UEe(n,t){return t.documentElement.clientWidth<n.clientX||t.documentElement.clientHeight<n.clientY}function zEe(n,t){const e=T.useRef(!1),r=T.useRef(!1),i=T.useRef(null),o=T.useRef(!1);T.useEffect(()=>{if(!n)return;function l(){o.current=!0}return document.addEventListener("mousedown",l,!0),document.addEventListener("touchstart",l,!0),()=>{document.removeEventListener("mousedown",l,!0),document.removeEventListener("touchstart",l,!0),o.current=!1}},[n]);const a=it(l=>{if(!o.current)return;const u=r.current;r.current=!1;const c=vi(i.current);if(!i.current||"clientX"in l&&UEe(l,c))return;if(e.current){e.current=!1;return}let d;l.composedPath?d=l.composedPath().indexOf(i.current)>-1:d=!c.documentElement.contains(l.target)||i.current.contains(l.target),!d&&!u&&t(l)}),s=()=>{r.current=!0};return T.useEffect(()=>{if(n){const l=vi(i.current),u=()=>{e.current=!0};return l.addEventListener("touchstart",a),l.addEventListener("touchmove",u),()=>{l.removeEventListener("touchstart",a),l.removeEventListener("touchmove",u)}}},[n,a]),T.useEffect(()=>{if(n){const l=vi(i.current);return l.addEventListener("click",a),()=>{l.removeEventListener("click",a),r.current=!1}}},[n,a]),[i,s,s]}const KEe=T.forwardRef((n,t)=>{const{PaperComponent:e,popperPlacement:r,ownerState:i,children:o,paperSlotProps:a,paperClasses:s,onPaperClick:l,onPaperTouchStart:u}=n,c=ve(n,jEe),d=L({},i,{placement:r}),p=jr({elementType:e,externalSlotProps:a,additionalProps:{tabIndex:-1,elevation:8,ref:t},className:s,ownerState:d});return b.jsx(e,L({},c,p,{onClick:h=>{var f;l(h),(f=p.onClick)==null||f.call(p,h)},onTouchStart:h=>{var f;u(h),(f=p.onTouchStart)==null||f.call(p,h)},ownerState:d,children:o}))});function YEe(n){var t,e,r,i;const o=Ve({props:n,name:"MuiPickersPopper"}),{anchorEl:a,children:s,containerRef:l=null,shouldRestoreFocus:u,onBlur:c,onDismiss:d,open:p,role:h,placement:f,slots:v,slotProps:g,reduceAnimations:m}=o;T.useEffect(()=>{function $(W){p&&(W.key==="Escape"||W.key==="Esc")&&d()}return document.addEventListener("keydown",$),()=>{document.removeEventListener("keydown",$)}},[d,p]);const y=T.useRef(null);T.useEffect(()=>{h==="tooltip"||u&&!u()||(p?y.current=nR(document):y.current&&y.current instanceof HTMLElement&&setTimeout(()=>{y.current instanceof HTMLElement&&y.current.focus()}))},[p,h,u]);const[C,S,w]=zEe(p,c??d),_=T.useRef(null),x=or(_,l),E=or(x,C),R=o,P=HEe(R),A=Nq(),N=m??A,I=$=>{$.key==="Escape"&&($.stopPropagation(),d())},G=((t=v==null?void 0:v.desktopTransition)!=null?t:N)?gy:tR,V=(e=v==null?void 0:v.desktopTrapFocus)!=null?e:O9,H=(r=v==null?void 0:v.desktopPaper)!=null?r:WEe,j=(i=v==null?void 0:v.popper)!=null?i:$Ee,B=jr({elementType:j,externalSlotProps:g==null?void 0:g.popper,additionalProps:{transition:!0,role:h,open:p,anchorEl:a,placement:f,onKeyDown:I},className:P.root,ownerState:o});return b.jsx(j,L({},B,{children:({TransitionProps:$,placement:W})=>b.jsx(V,L({open:p,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:h==="tooltip",isEnabled:()=>!0},g==null?void 0:g.desktopTrapFocus,{children:b.jsx(G,L({},$,g==null?void 0:g.desktopTransition,{children:b.jsx(KEe,{PaperComponent:H,ownerState:R,popperPlacement:W,ref:E,onPaperClick:S,onPaperTouchStart:w,paperClasses:P.paper,paperSlotProps:g==null?void 0:g.desktopPaper,children:s})}))}))}))}const pV=({timezone:n,value:t,defaultValue:e,onChange:r,valueManager:i})=>{var o,a;const s=qr(),l=T.useRef(e),u=(o=t??l.current)!=null?o:i.emptyValue,c=T.useMemo(()=>i.getTimezone(s,u),[s,i,u]),d=it(v=>c==null?v:i.setTimezone(s,c,v)),p=(a=n??c)!=null?a:"default",h=T.useMemo(()=>i.setTimezone(s,p,u),[i,s,p,u]),f=it((v,...g)=>{const m=d(v);r==null||r(m,...g)});return{value:h,handleValueChange:f,timezone:p}},hV=({name:n,timezone:t,value:e,defaultValue:r,onChange:i,valueManager:o})=>{const[a,s]=va({name:n,state:"value",controlled:e,default:r??o.emptyValue}),l=it((u,...c)=>{s(u),i==null||i(u,...c)});return pV({timezone:t,value:a,defaultValue:void 0,onChange:l,valueManager:o})};function kq(n,t,e,r){const{value:i,onError:o}=n,a=xv(),s=T.useRef(r),l=t({adapter:a,value:i,props:n});return T.useEffect(()=>{o&&!e(l,s.current)&&o(l,i),s.current=l},[e,o,s,l,i]),l}const qEe=n=>{const t=qr(),e=dh(),r=xv(),o=ma().direction==="rtl",{valueManager:a,fieldValueManager:s,valueType:l,validator:u,internalProps:c,internalProps:{value:d,defaultValue:p,referenceDate:h,onChange:f,format:v,formatDensity:g="dense",selectedSections:m,onSelectedSectionsChange:y,shouldRespectLeadingZeros:C=!1,timezone:S}}=n,{timezone:w,value:_,handleValueChange:x}=pV({timezone:S,value:d,defaultValue:p,onChange:f,valueManager:a}),E=T.useMemo(()=>Ube(t,w),[t,w]),R=T.useCallback((X,ie=null)=>s.getSectionsFromValue(t,X,ie,o,z=>E3(t,w,e,v,z,g,C,o)),[s,v,e,o,C,t,g,w]),P=T.useMemo(()=>s.getValueStrFromSections(R(a.emptyValue),o),[s,R,a.emptyValue,o]),[A,N]=T.useState(()=>{const X=R(_),ie={sections:X,value:_,referenceValue:a.emptyValue,tempValueStrAndroid:null},z=kbe(X),Q=a.getInitialReferenceValue({referenceDate:h,value:_,utils:t,props:c,granularity:z,timezone:w});return L({},ie,{referenceValue:Q})}),[I,G]=va({controlled:m,default:null,name:"useField",state:"selectedSectionIndexes"}),V=X=>{G(X),y==null||y(X),N(ie=>L({},ie,{selectedSectionQuery:null}))},H=T.useMemo(()=>{if(I==null)return null;if(I==="all")return{startIndex:0,endIndex:A.sections.length-1,shouldSelectBoundarySelectors:!0};if(typeof I=="number")return{startIndex:I,endIndex:I};if(typeof I=="string"){const X=A.sections.findIndex(ie=>ie.type===I);return{startIndex:X,endIndex:X}}return I},[I,A.sections]),j=({value:X,referenceValue:ie,sections:z})=>{if(N(ue=>L({},ue,{sections:z,value:X,referenceValue:ie,tempValueStrAndroid:null})),a.areValuesEqual(t,A.value,X))return;const Q={validationError:u({adapter:r,value:X,props:L({},c,{value:X,timezone:w})})};x(X,Q)},B=(X,ie)=>{const z=[...A.sections];return z[X]=L({},z[X],{value:ie,modified:!0}),Tq(z,o)},$=()=>{j({value:a.emptyValue,referenceValue:A.referenceValue,sections:R(a.emptyValue)})},W=()=>{if(H==null)return;const X=A.sections[H.startIndex],ie=s.getActiveDateManager(t,A,X),Q=ie.getSections(A.sections).filter(oe=>oe.value!=="").length===(X.value===""?0:1),ue=B(H.startIndex,""),pe=Q?null:t.date(new Date("")),_e=ie.getNewValuesFromNewActiveDate(pe);(pe!=null&&!t.isValid(pe))!=(ie.date!=null&&!t.isValid(ie.date))?j(L({},_e,{sections:ue})):N(oe=>L({},oe,_e,{sections:ue,tempValueStrAndroid:null}))},Y=X=>{const ie=(ue,pe)=>{const _e=t.parse(ue,v);if(_e==null||!t.isValid(_e))return null;const oe=E3(t,w,e,v,_e,g,C,o);return R3(t,w,_e,oe,pe,!1)},z=s.parseValueStr(X,A.referenceValue,ie),Q=s.updateReferenceValue(t,z,A.referenceValue);j({value:z,referenceValue:Q,sections:R(z,A.sections)})},Z=({activeSection:X,newSectionValue:ie,shouldGoToNextSection:z})=>{z&&H&&H.startIndex<A.sections.length-1?V(H.startIndex+1):H&&H.startIndex!==H.endIndex&&V(H.startIndex);const Q=s.getActiveDateManager(t,A,X),ue=B(H.startIndex,ie),pe=Q.getSections(ue),_e=$be(t,pe);let oe,we;if(_e!=null&&t.isValid(_e)){const ne=R3(t,w,_e,pe,Q.referenceDate,!0);oe=Q.getNewValuesFromNewActiveDate(ne),we=!0}else oe=Q.getNewValuesFromNewActiveDate(_e),we=(_e!=null&&!t.isValid(_e))!=(Q.date!=null&&!t.isValid(Q.date));return we?j(L({},oe,{sections:ue})):N(ne=>L({},ne,oe,{sections:ue,tempValueStrAndroid:null}))},se=X=>N(ie=>L({},ie,{tempValueStrAndroid:X}));return T.useEffect(()=>{const X=R(A.value);N(ie=>L({},ie,{sections:X}))},[v,t.locale]),T.useEffect(()=>{let X=!1;a.areValuesEqual(t,A.value,_)?X=a.getTimezone(t,A.value)!==a.getTimezone(t,_):X=!0,X&&N(ie=>L({},ie,{value:_,referenceValue:s.updateReferenceValue(t,_,ie.referenceValue),sections:R(_)}))},[_]),{state:A,selectedSectionIndexes:H,setSelectedSections:V,clearValue:$,clearActiveSection:W,updateSectionValue:Z,updateValueFromValueStr:Y,setTempAndroidValueStr:se,sectionsValueBoundaries:E,placeholder:P,timezone:w}},XEe=5e3,Wv=n=>n.saveQuery!=null,ZEe=({sections:n,updateSectionValue:t,sectionsValueBoundaries:e,setTempAndroidValueStr:r,timezone:i})=>{const o=qr(),[a,s]=T.useState(null),l=it(()=>s(null));T.useEffect(()=>{var h;a!=null&&((h=n[a.sectionIndex])==null?void 0:h.type)!==a.sectionType&&l()},[n,a,l]),T.useEffect(()=>{if(a!=null){const h=setTimeout(()=>l(),XEe);return()=>{window.clearTimeout(h)}}return()=>{}},[a,l]);const u=({keyPressed:h,sectionIndex:f},v,g)=>{const m=h.toLowerCase(),y=n[f];if(a!=null&&(!g||g(a.value))&&a.sectionIndex===f){const S=`${a.value}${m}`,w=v(S,y);if(!Wv(w))return s({sectionIndex:f,value:S,sectionType:y.type}),w}const C=v(m,y);return Wv(C)&&!C.saveQuery?(l(),null):(s({sectionIndex:f,value:m,sectionType:y.type}),Wv(C)?null:C)},c=h=>{const f=(m,y,C)=>{const S=y.filter(w=>w.toLowerCase().startsWith(C));return S.length===0?{saveQuery:!1}:{sectionValue:S[0],shouldGoToNextSection:S.length===1}},v=(m,y,C,S)=>{const w=_=>Eq(o,i,y.type,_);if(y.contentType==="letter")return f(y.format,w(y.format),m);if(C&&S!=null&&bq(o,C).contentType==="letter"){const _=w(C),x=f(C,_,m);return Wv(x)?{saveQuery:!1}:L({},x,{sectionValue:S(x.sectionValue,_)})}return{saveQuery:!1}};return u(h,(m,y)=>{switch(y.type){case"month":{const C=S=>b3(o,S,o.formats.month,y.format);return v(m,y,o.formats.month,C)}case"weekDay":{const C=(S,w)=>w.indexOf(S).toString();return v(m,y,o.formats.weekday,C)}case"meridiem":return v(m,y);default:return{saveQuery:!1}}})},d=h=>{const f=(g,m)=>{const y=+`${g}`,C=e[m.type]({currentDate:null,format:m.format,contentType:m.contentType});if(y>C.maximum)return{saveQuery:!1};if(y<C.minimum)return{saveQuery:!0};const S=+`${g}0`>C.maximum||g.length===C.maximum.toString().length;return{sectionValue:Rq(o,i,y,C,m),shouldGoToNextSection:S}};return u(h,(g,m)=>{if(m.contentType==="digit"||m.contentType==="digit-with-letter")return f(g,m);if(m.type==="month"){const y=Dq(o,i,"digit","month","MM"),C=f(g,{type:m.type,format:"MM",hasLeadingZerosInFormat:y,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(Wv(C))return C;const S=b3(o,C.sectionValue,"MM",m.format);return L({},C,{sectionValue:S})}if(m.type==="weekDay"){const y=f(g,m);if(Wv(y))return y;const C=$P(o,i,m.format)[Number(y.sectionValue)-1];return L({},y,{sectionValue:C})}return{saveQuery:!1}},g=>!Number.isNaN(Number(g)))};return{applyCharacterEditing:it(h=>{const f=n[h.sectionIndex],g=!Number.isNaN(Number(h.keyPressed))?d(h):c(h);g==null?r(null):t({activeSection:f,newSectionValue:g.sectionValue,shouldGoToNextSection:g.shouldGoToNextSection})}),resetCharacterQuery:l}},QEe=["onClick","onKeyDown","onFocus","onBlur","onMouseUp","onPaste","error","clearable","onClear","disabled"],JEe=n=>{const t=qr(),{state:e,selectedSectionIndexes:r,setSelectedSections:i,clearValue:o,clearActiveSection:a,updateSectionValue:s,updateValueFromValueStr:l,setTempAndroidValueStr:u,sectionsValueBoundaries:c,placeholder:d,timezone:p}=qEe(n),{inputRef:h,internalProps:f,internalProps:{readOnly:v=!1,unstableFieldRef:g,minutesStep:m},forwardedProps:{onClick:y,onKeyDown:C,onFocus:S,onBlur:w,onMouseUp:_,onPaste:x,error:E,clearable:R,onClear:P,disabled:A},fieldValueManager:N,valueManager:I,validator:G}=n,V=ve(n.forwardedProps,QEe),{applyCharacterEditing:H,resetCharacterQuery:j}=ZEe({sections:e.sections,updateSectionValue:s,sectionsValueBoundaries:c,setTempAndroidValueStr:u,timezone:p}),B=T.useRef(null),$=or(h,B),W=T.useRef(void 0),Z=ma().direction==="rtl",se=T.useMemo(()=>Ybe(e.sections,Z),[e.sections,Z]),X=()=>{var he;if(v){i(null);return}const Ee=(he=B.current.selectionStart)!=null?he:0;let Be;Ee<=e.sections[0].startInInput||Ee>=e.sections[e.sections.length-1].endInInput?Be=1:Be=e.sections.findIndex(Ie=>Ie.startInInput-Ie.startSeparator.length>Ee);const tt=Be===-1?e.sections.length-1:Be-1;i(tt)},ie=it((he,...Ee)=>{he.isDefaultPrevented()||(y==null||y(he,...Ee),X())}),z=it(he=>{_==null||_(he),he.preventDefault()}),Q=it((...he)=>{S==null||S(...he);const Ee=B.current;window.clearTimeout(W.current),W.current=setTimeout(()=>{!Ee||Ee!==B.current||r!=null||v||(Ee.value.length&&Number(Ee.selectionEnd)-Number(Ee.selectionStart)===Ee.value.length?i("all"):X())})}),ue=it((...he)=>{w==null||w(...he),i(null)}),pe=it(he=>{if(x==null||x(he),v){he.preventDefault();return}const Ee=he.clipboardData.getData("text");if(r&&r.startIndex===r.endIndex){const Be=e.sections[r.startIndex],tt=/^[a-zA-Z]+$/.test(Ee),Ie=/^[0-9]+$/.test(Ee),rt=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(Ee);if(Be.contentType==="letter"&&tt||Be.contentType==="digit"&&Ie||Be.contentType==="digit-with-letter"&&rt){j(),s({activeSection:Be,newSectionValue:Ee,shouldGoToNextSection:!0}),he.preventDefault();return}if(tt||Ie){he.preventDefault();return}}he.preventDefault(),j(),l(Ee)}),_e=it(he=>{if(v)return;const Ee=he.target.value;if(Ee===""){j(),o();return}const Be=he.nativeEvent.data,tt=Be&&Be.length>1,Ie=tt?Be:Ee,rt=$g(Ie);if(r==null||tt){l(tt?Be:rt);return}let mt;if(r.startIndex===0&&r.endIndex===e.sections.length-1&&rt.length===1)mt=rt;else{const ft=$g(N.getValueStrFromSections(e.sections,Z));let yt=-1,We=-1;for(let Ye=0;Ye<ft.length;Ye+=1)yt===-1&&ft[Ye]!==rt[Ye]&&(yt=Ye),We===-1&&ft[ft.length-Ye-1]!==rt[rt.length-Ye-1]&&(We=Ye);const dt=e.sections[r.startIndex];if(yt<dt.start||ft.length-We-1>dt.end)return;const Ir=rt.length-ft.length+dt.end-$g(dt.endSeparator||"").length;mt=rt.slice(dt.start+$g(dt.startSeparator||"").length,Ir)}if(mt.length===0){Kbe()?u(Ie):(j(),a());return}H({keyPressed:mt,sectionIndex:r.startIndex})}),oe=it(he=>{switch(C==null||C(he),!0){case(he.key==="a"&&(he.ctrlKey||he.metaKey)):{he.preventDefault(),i("all");break}case he.key==="ArrowRight":{if(he.preventDefault(),r==null)i(se.startIndex);else if(r.startIndex!==r.endIndex)i(r.endIndex);else{const Ee=se.neighbors[r.startIndex].rightIndex;Ee!==null&&i(Ee)}break}case he.key==="ArrowLeft":{if(he.preventDefault(),r==null)i(se.endIndex);else if(r.startIndex!==r.endIndex)i(r.startIndex);else{const Ee=se.neighbors[r.startIndex].leftIndex;Ee!==null&&i(Ee)}break}case he.key==="Delete":{if(he.preventDefault(),v)break;r==null||r.startIndex===0&&r.endIndex===e.sections.length-1?o():a(),j();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(he.key):{if(he.preventDefault(),v||r==null)break;const Ee=e.sections[r.startIndex],Be=N.getActiveDateManager(t,e,Ee),tt=Bbe(t,p,Ee,he.key,c,Be.date,{minutesStep:m});s({activeSection:Ee,newSectionValue:tt,shouldGoToNextSection:!1});break}}});ti(()=>{if(!B.current)return;if(r==null){B.current.scrollLeft&&(B.current.scrollLeft=0);return}const he=e.sections[r.startIndex],Ee=e.sections[r.endIndex];let Be=he.startInInput,tt=Ee.endInInput;if(r.shouldSelectBoundarySelectors&&(Be-=he.startSeparator.length,tt+=Ee.endSeparator.length),Be!==B.current.selectionStart||tt!==B.current.selectionEnd){const Ie=B.current.scrollTop;B.current===nR(document)&&B.current.setSelectionRange(Be,tt),B.current.scrollTop=Ie}});const we=kq(L({},f,{value:e.value,timezone:p}),G,I.isSameError,I.defaultErrorState),ne=T.useMemo(()=>E!==void 0?E:I.hasError(we),[I,we,E]);T.useEffect(()=>{!ne&&!r&&j()},[e.referenceValue,r,ne]),T.useEffect(()=>(B.current&&B.current===document.activeElement&&i("all"),()=>window.clearTimeout(W.current)),[]),T.useEffect(()=>{e.tempValueStrAndroid!=null&&r!=null&&(j(),a())},[e.tempValueStrAndroid]);const xe=T.useMemo(()=>{var he;return(he=e.tempValueStrAndroid)!=null?he:N.getValueStrFromSections(e.sections,Z)},[e.sections,N,e.tempValueStrAndroid,Z]),Pe=T.useMemo(()=>r==null||e.sections[r.startIndex].contentType==="letter"?"text":"numeric",[r,e.sections]),ze=B.current&&B.current===nR(document),ht=I.areValuesEqual(t,e.value,I.emptyValue),Ae=!ze&&ht;T.useImperativeHandle(g,()=>({getSections:()=>e.sections,getActiveSectionIndex:()=>{var he,Ee;const Be=(he=B.current.selectionStart)!=null?he:0,tt=(Ee=B.current.selectionEnd)!=null?Ee:0;if(Be===0&&tt===0)return null;const Ie=Be<=e.sections[0].startInInput?1:e.sections.findIndex(rt=>rt.startInInput-rt.startSeparator.length>Be);return Ie===-1?e.sections.length-1:Ie-1},setSelectedSections:he=>i(he)}));const Ke=it((he,...Ee)=>{var Be;he.preventDefault(),P==null||P(he,...Ee),o(),B==null||(Be=B.current)==null||Be.focus(),i(0)});return L({placeholder:d,autoComplete:"off",disabled:!!A},V,{value:Ae?"":xe,inputMode:Pe,readOnly:v,onClick:ie,onFocus:Q,onBlur:ue,onPaste:pe,onChange:_e,onKeyDown:oe,onMouseUp:z,onClear:Ke,error:ne,ref:$,clearable:!!(R&&!ht&&!v&&!A)})},eOe=({open:n,onOpen:t,onClose:e})=>{const r=T.useRef(typeof n=="boolean").current,[i,o]=T.useState(!1);T.useEffect(()=>{if(r){if(typeof n!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");o(n)}},[r,n]);const a=T.useCallback(s=>{r||o(s),s&&t&&t(),!s&&e&&e()},[r,t,e]);return{isOpen:i,setIsOpen:a}},tOe=n=>{const{action:t,hasChanged:e,dateState:r,isControlled:i}=n,o=!i&&!r.hasBeenModifiedSinceMount;return t.name==="setValueFromField"?!0:t.name==="setValueFromAction"?o&&["accept","today","clear"].includes(t.pickerAction)?!0:e(r.lastPublishedValue):t.name==="setValueFromView"&&t.selectionState!=="shallow"||t.name==="setValueFromShortcut"?o?!0:e(r.lastPublishedValue):!1},rOe=n=>{const{action:t,hasChanged:e,dateState:r,isControlled:i,closeOnSelect:o}=n,a=!i&&!r.hasBeenModifiedSinceMount;return t.name==="setValueFromAction"?a&&["accept","today","clear"].includes(t.pickerAction)?!0:e(r.lastCommittedValue):t.name==="setValueFromView"&&t.selectionState==="finish"&&o?a?!0:e(r.lastCommittedValue):t.name==="setValueFromShortcut"?t.changeImportance==="accept"&&e(r.lastCommittedValue):!1},nOe=n=>{const{action:t,closeOnSelect:e}=n;return t.name==="setValueFromAction"?!0:t.name==="setValueFromView"?t.selectionState==="finish"&&e:t.name==="setValueFromShortcut"?t.changeImportance==="accept":!1},iOe=({props:n,valueManager:t,valueType:e,wrapperVariant:r,validator:i})=>{const{onAccept:o,onChange:a,value:s,defaultValue:l,closeOnSelect:u=r==="desktop",selectedSections:c,onSelectedSectionsChange:d,timezone:p}=n,{current:h}=T.useRef(l),{current:f}=T.useRef(s!==void 0),v=qr(),g=xv(),[m,y]=va({controlled:c,default:null,name:"usePickerValue",state:"selectedSections"}),{isOpen:C,setIsOpen:S}=eOe(n),[w,_]=T.useState(()=>{let Q;return s!==void 0?Q=s:h!==void 0?Q=h:Q=t.emptyValue,{draft:Q,lastPublishedValue:Q,lastCommittedValue:Q,lastControlledValue:s,hasBeenModifiedSinceMount:!1}}),{timezone:x,handleValueChange:E}=pV({timezone:p,value:s,defaultValue:h,onChange:a,valueManager:t});kq(L({},n,{value:w.draft,timezone:x}),i,t.isSameError,t.defaultErrorState);const R=it(Q=>{const ue={action:Q,dateState:w,hasChanged:we=>!t.areValuesEqual(v,Q.value,we),isControlled:f,closeOnSelect:u},pe=tOe(ue),_e=rOe(ue),oe=nOe(ue);if(_(we=>L({},we,{draft:Q.value,lastPublishedValue:pe?Q.value:we.lastPublishedValue,lastCommittedValue:_e?Q.value:we.lastCommittedValue,hasBeenModifiedSinceMount:!0})),pe){const ne={validationError:Q.name==="setValueFromField"?Q.context.validationError:i({adapter:g,value:Q.value,props:L({},n,{value:Q.value,timezone:x})})};Q.name==="setValueFromShortcut"&&Q.shortcut!=null&&(ne.shortcut=Q.shortcut),E(Q.value,ne)}_e&&o&&o(Q.value),oe&&S(!1)});if(s!==void 0&&(w.lastControlledValue===void 0||!t.areValuesEqual(v,w.lastControlledValue,s))){const Q=t.areValuesEqual(v,w.draft,s);_(ue=>L({},ue,{lastControlledValue:s},Q?{}:{lastCommittedValue:s,lastPublishedValue:s,draft:s,hasBeenModifiedSinceMount:!0}))}const P=it(()=>{R({value:t.emptyValue,name:"setValueFromAction",pickerAction:"clear"})}),A=it(()=>{R({value:w.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})}),N=it(()=>{R({value:w.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})}),I=it(()=>{R({value:w.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})}),G=it(()=>{R({value:t.getTodayValue(v,x,e),name:"setValueFromAction",pickerAction:"today"})}),V=it(()=>S(!0)),H=it(()=>S(!1)),j=it((Q,ue="partial")=>R({name:"setValueFromView",value:Q,selectionState:ue})),B=it((Q,ue,pe)=>R({name:"setValueFromShortcut",value:Q,changeImportance:ue??"accept",shortcut:pe})),$=it((Q,ue)=>R({name:"setValueFromField",value:Q,context:ue})),W=it(Q=>{y(Q),d==null||d(Q)}),Y={onClear:P,onAccept:A,onDismiss:N,onCancel:I,onSetToday:G,onOpen:V,onClose:H},Z={value:w.draft,onChange:$,selectedSections:m,onSelectedSectionsChange:W},se=T.useMemo(()=>t.cleanValue(v,w.draft),[v,t,w.draft]),X={value:se,onChange:j,onClose:H,open:C,onSelectedSectionsChange:W},z=L({},Y,{value:se,onChange:j,onSelectShortcut:B,isValid:Q=>{const ue=i({adapter:g,value:Q,props:L({},n,{value:Q,timezone:x})});return!t.hasError(ue)}});return{open:C,fieldProps:Z,viewProps:X,layoutProps:z,actions:Y}};function Gq({onChange:n,onViewChange:t,openTo:e,view:r,views:i,autoFocus:o,focusedView:a,onFocusedViewChange:s}){var l,u;const c=T.useRef(e),d=T.useRef(i),p=T.useRef(i.includes(e)?e:i[0]),[h,f]=va({name:"useViews",state:"view",controlled:r,default:p.current}),v=T.useRef(o?h:null),[g,m]=va({name:"useViews",state:"focusedView",controlled:a,default:v.current});T.useEffect(()=>{(c.current&&c.current!==e||d.current&&d.current.some(R=>!i.includes(R)))&&(f(i.includes(e)?e:i[0]),d.current=i,c.current=e)},[e,f,h,i]);const y=i.indexOf(h),C=(l=i[y-1])!=null?l:null,S=(u=i[y+1])!=null?u:null,w=it((R,P)=>{m(P?R:A=>R===A?null:A),s==null||s(R,P)}),_=it(R=>{w(R,!0),R!==h&&(f(R),t&&t(R))}),x=it(()=>{S&&_(S)}),E=it((R,P,A)=>{const N=P==="finish",I=A?i.indexOf(A)<i.length-1:!!S;if(n(R,N&&I?"partial":P,A),A&&A!==h){const V=i[i.indexOf(A)+1];V&&_(V)}else N&&x()});return{view:h,setView:_,focusedView:g,setFocusedView:w,nextView:S,previousView:C,defaultView:i.includes(e)?e:i[0],goToNextView:x,setValueAndGoToNextView:E}}const oOe=["className","sx"],aOe=({props:n,propsFromPickerValue:t,additionalViewProps:e,inputRef:r,autoFocusView:i})=>{const{onChange:o,open:a,onSelectedSectionsChange:s,onClose:l}=t,{views:u,openTo:c,onViewChange:d,disableOpenPicker:p,viewRenderers:h,timezone:f}=n,v=ve(n,oOe),{view:g,setView:m,defaultView:y,focusedView:C,setFocusedView:S,setValueAndGoToNextView:w}=Gq({view:void 0,views:u,openTo:c,onChange:o,onViewChange:d,autoFocus:i}),{hasUIView:_,viewModeLookup:x}=T.useMemo(()=>u.reduce((G,V)=>{let H;return p?H="field":h[V]!=null?H="UI":H="field",G.viewModeLookup[V]=H,H==="UI"&&(G.hasUIView=!0),G},{hasUIView:!1,viewModeLookup:{}}),[p,h,u]),E=T.useMemo(()=>u.reduce((G,V)=>h[V]!=null&&Ibe(V)?G+1:G,0),[h,u]),R=x[g],P=it(()=>R==="UI"),[A,N]=T.useState(R==="UI"?g:null);return A!==g&&x[g]==="UI"&&N(g),ti(()=>{R==="field"&&a&&(l(),setTimeout(()=>{r==null||r.current.focus(),s(g)}))},[g]),ti(()=>{if(!a)return;let G=g;R==="field"&&A!=null&&(G=A),G!==y&&x[G]==="UI"&&x[y]==="UI"&&(G=y),G!==g&&m(G),S(G,!0)},[a]),{hasUIView:_,shouldRestoreFocus:P,layoutProps:{views:u,view:A,onViewChange:m},renderCurrentView:()=>{if(A==null)return null;const G=h[A];return G==null?null:G(L({},v,e,t,{views:u,timezone:f,onChange:w,view:A,onViewChange:m,focusedView:C,onFocusedViewChange:S,showViewSwitcher:E>1,timeViewsCount:E}))}}};function A3(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const sOe=(n,t)=>{const[e,r]=T.useState(A3);return ti(()=>{const o=()=>{r(A3())};return window.addEventListener("orientationchange",o),()=>{window.removeEventListener("orientationchange",o)}},[]),NEe(n,["hours","minutes","seconds"])?!1:(t||e)==="landscape"},lOe=({props:n,propsFromPickerValue:t,propsFromPickerViews:e,wrapperVariant:r})=>{const{orientation:i}=n,o=sOe(e.views,i);return{layoutProps:L({},e,t,{isLandscape:o,wrapperVariant:r,disabled:n.disabled,readOnly:n.readOnly})}},uOe=(n,t="warning")=>{let e=!1;const r=Array.isArray(n)?n.join(`
`):n;return()=>{e||(e=!0,t==="error"?console.error(r):console.warn(r))}};uOe(["The `renderInput` prop has been removed in version 6.0 of the Date and Time Pickers.","You can replace it with the `textField` component slot in most cases.","For more information, please have a look at the migration guide (https://mui.com/x/migration/migration-pickers-v5/#input-renderer-required-in-v5)."]);const Vq=({props:n,valueManager:t,valueType:e,wrapperVariant:r,inputRef:i,additionalViewProps:o,validator:a,autoFocusView:s})=>{const l=iOe({props:n,valueManager:t,valueType:e,wrapperVariant:r,validator:a}),u=aOe({props:n,inputRef:i,additionalViewProps:o,autoFocusView:s,propsFromPickerValue:l.viewProps}),c=lOe({props:n,wrapperVariant:r,propsFromPickerValue:l.layoutProps,propsFromPickerViews:u.layoutProps});return{open:l.open,actions:l.actions,fieldProps:l.fieldProps,renderCurrentView:u.renderCurrentView,hasUIView:u.hasUIView,shouldRestoreFocus:u.shouldRestoreFocus,layoutProps:c.layoutProps}};function Bq(n){return He("MuiPickersLayout",n)}const sM=$e("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),cOe=["onAccept","onClear","onCancel","onSetToday","actions"];function dOe(n){const{onAccept:t,onClear:e,onCancel:r,onSetToday:i,actions:o}=n,a=ve(n,cOe),s=dh();if(o==null||o.length===0)return null;const l=o==null?void 0:o.map(u=>{switch(u){case"clear":return b.jsx(Et,{onClick:e,children:s.clearButtonLabel},u);case"cancel":return b.jsx(Et,{onClick:r,children:s.cancelButtonLabel},u);case"accept":return b.jsx(Et,{onClick:t,children:s.okButtonLabel},u);case"today":return b.jsx(Et,{onClick:i,children:s.todayButtonLabel},u);default:return null}});return b.jsx(xo,L({},a,{children:l}))}const pOe=Dn(b.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function hOe(n){return He("MuiChip",n)}const fOe=$e("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),dr=fOe,vOe=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],gOe=n=>{const{classes:t,disabled:e,size:r,color:i,iconColor:o,onDelete:a,clickable:s,variant:l}=n,u={root:["root",l,e&&"disabled",`size${Se(r)}`,`color${Se(i)}`,s&&"clickable",s&&`clickableColor${Se(i)}`,a&&"deletable",a&&`deletableColor${Se(i)}`,`${l}${Se(i)}`],label:["label",`label${Se(r)}`],avatar:["avatar",`avatar${Se(r)}`,`avatarColor${Se(i)}`],icon:["icon",`icon${Se(r)}`,`iconColor${Se(o)}`],deleteIcon:["deleteIcon",`deleteIcon${Se(r)}`,`deleteIconColor${Se(i)}`,`deleteIcon${Se(l)}Color${Se(i)}`]};return Ge(u,hOe,t)},mOe=le("div",{name:"MuiChip",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n,{color:r,iconColor:i,clickable:o,onDelete:a,size:s,variant:l}=e;return[{[`& .${dr.avatar}`]:t.avatar},{[`& .${dr.avatar}`]:t[`avatar${Se(s)}`]},{[`& .${dr.avatar}`]:t[`avatarColor${Se(r)}`]},{[`& .${dr.icon}`]:t.icon},{[`& .${dr.icon}`]:t[`icon${Se(s)}`]},{[`& .${dr.icon}`]:t[`iconColor${Se(i)}`]},{[`& .${dr.deleteIcon}`]:t.deleteIcon},{[`& .${dr.deleteIcon}`]:t[`deleteIcon${Se(s)}`]},{[`& .${dr.deleteIcon}`]:t[`deleteIconColor${Se(r)}`]},{[`& .${dr.deleteIcon}`]:t[`deleteIcon${Se(l)}Color${Se(r)}`]},t.root,t[`size${Se(s)}`],t[`color${Se(r)}`],o&&t.clickable,o&&r!=="default"&&t[`clickableColor${Se(r)})`],a&&t.deletable,a&&r!=="default"&&t[`deletableColor${Se(r)}`],t[l],t[`${l}${Se(r)}`]]}})(({theme:n,ownerState:t})=>{const e=n.palette.mode==="light"?n.palette.grey[700]:n.palette.grey[300];return L({maxWidth:"100%",fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(n.vars||n).palette.text.primary,backgroundColor:(n.vars||n).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:n.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${dr.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${dr.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:n.vars?n.vars.palette.Chip.defaultAvatarColor:e,fontSize:n.typography.pxToRem(12)},[`& .${dr.avatarColorPrimary}`]:{color:(n.vars||n).palette.primary.contrastText,backgroundColor:(n.vars||n).palette.primary.dark},[`& .${dr.avatarColorSecondary}`]:{color:(n.vars||n).palette.secondary.contrastText,backgroundColor:(n.vars||n).palette.secondary.dark},[`& .${dr.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:n.typography.pxToRem(10)},[`& .${dr.icon}`]:L({marginLeft:5,marginRight:-6},t.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},t.iconColor===t.color&&L({color:n.vars?n.vars.palette.Chip.defaultIconColor:e},t.color!=="default"&&{color:"inherit"})),[`& .${dr.deleteIcon}`]:L({WebkitTapHighlightColor:"transparent",color:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / 0.26)`:At(n.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / 0.4)`:At(n.palette.text.primary,.4)}},t.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},t.color!=="default"&&{color:n.vars?`rgba(${n.vars.palette[t.color].contrastTextChannel} / 0.7)`:At(n.palette[t.color].contrastText,.7),"&:hover, &:active":{color:(n.vars||n).palette[t.color].contrastText}})},t.size==="small"&&{height:24},t.color!=="default"&&{backgroundColor:(n.vars||n).palette[t.color].main,color:(n.vars||n).palette[t.color].contrastText},t.onDelete&&{[`&.${dr.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.action.selectedChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:At(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}},t.onDelete&&t.color!=="default"&&{[`&.${dr.focusVisible}`]:{backgroundColor:(n.vars||n).palette[t.color].dark}})},({theme:n,ownerState:t})=>L({},t.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.selectedChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:At(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity)},[`&.${dr.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.action.selectedChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:At(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)},"&:active":{boxShadow:(n.vars||n).shadows[1]}},t.clickable&&t.color!=="default"&&{[`&:hover, &.${dr.focusVisible}`]:{backgroundColor:(n.vars||n).palette[t.color].dark}}),({theme:n,ownerState:t})=>L({},t.variant==="outlined"&&{backgroundColor:"transparent",border:n.vars?`1px solid ${n.vars.palette.Chip.defaultBorder}`:`1px solid ${n.palette.mode==="light"?n.palette.grey[400]:n.palette.grey[700]}`,[`&.${dr.clickable}:hover`]:{backgroundColor:(n.vars||n).palette.action.hover},[`&.${dr.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`& .${dr.avatar}`]:{marginLeft:4},[`& .${dr.avatarSmall}`]:{marginLeft:2},[`& .${dr.icon}`]:{marginLeft:4},[`& .${dr.iconSmall}`]:{marginLeft:2},[`& .${dr.deleteIcon}`]:{marginRight:5},[`& .${dr.deleteIconSmall}`]:{marginRight:3}},t.variant==="outlined"&&t.color!=="default"&&{color:(n.vars||n).palette[t.color].main,border:`1px solid ${n.vars?`rgba(${n.vars.palette[t.color].mainChannel} / 0.7)`:At(n.palette[t.color].main,.7)}`,[`&.${dr.clickable}:hover`]:{backgroundColor:n.vars?`rgba(${n.vars.palette[t.color].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:At(n.palette[t.color].main,n.palette.action.hoverOpacity)},[`&.${dr.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette[t.color].mainChannel} / ${n.vars.palette.action.focusOpacity})`:At(n.palette[t.color].main,n.palette.action.focusOpacity)},[`& .${dr.deleteIcon}`]:{color:n.vars?`rgba(${n.vars.palette[t.color].mainChannel} / 0.7)`:At(n.palette[t.color].main,.7),"&:hover, &:active":{color:(n.vars||n).palette[t.color].main}}})),yOe=le("span",{name:"MuiChip",slot:"Label",overridesResolver:(n,t)=>{const{ownerState:e}=n,{size:r}=e;return[t.label,t[`label${Se(r)}`]]}})(({ownerState:n})=>L({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},n.variant==="outlined"&&{paddingLeft:11,paddingRight:11},n.size==="small"&&{paddingLeft:8,paddingRight:8},n.size==="small"&&n.variant==="outlined"&&{paddingLeft:7,paddingRight:7}));function M3(n){return n.key==="Backspace"||n.key==="Delete"}const COe=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiChip"}),{avatar:i,className:o,clickable:a,color:s="default",component:l,deleteIcon:u,disabled:c=!1,icon:d,label:p,onClick:h,onDelete:f,onKeyDown:v,onKeyUp:g,size:m="medium",variant:y="filled",tabIndex:C,skipFocusWhenDisabled:S=!1}=r,w=ve(r,vOe),_=T.useRef(null),x=or(_,e),E=$=>{$.stopPropagation(),f&&f($)},R=$=>{$.currentTarget===$.target&&M3($)&&$.preventDefault(),v&&v($)},P=$=>{$.currentTarget===$.target&&(f&&M3($)?f($):$.key==="Escape"&&_.current&&_.current.blur()),g&&g($)},A=a!==!1&&h?!0:a,N=A||f?Jc:l||"div",I=L({},r,{component:N,disabled:c,size:m,color:s,iconColor:T.isValidElement(d)&&d.props.color||s,onDelete:!!f,clickable:A,variant:y}),G=gOe(I),V=N===Jc?L({component:l||"div",focusVisibleClassName:G.focusVisible},f&&{disableRipple:!0}):{};let H=null;f&&(H=u&&T.isValidElement(u)?T.cloneElement(u,{className:Re(u.props.className,G.deleteIcon),onClick:E}):b.jsx(pOe,{className:Re(G.deleteIcon),onClick:E}));let j=null;i&&T.isValidElement(i)&&(j=T.cloneElement(i,{className:Re(G.avatar,i.props.className)}));let B=null;return d&&T.isValidElement(d)&&(B=T.cloneElement(d,{className:Re(G.icon,d.props.className)})),b.jsxs(mOe,L({as:N,className:Re(G.root,o),disabled:A&&c?!0:void 0,onClick:h,onKeyDown:R,onKeyUp:P,ref:x,tabIndex:S&&c?-1:C,ownerState:I},V,w,{children:[j||B,b.jsx(yOe,{className:Re(G.label),ownerState:I,children:p}),H]}))}),SOe=COe,wOe=["items","changeImportance","isLandscape","onChange","isValid"],_Oe=["getValue"];function xOe(n){const{items:t,changeImportance:e,onChange:r,isValid:i}=n,o=ve(n,wOe);if(t==null||t.length===0)return null;const a=t.map(s=>{let{getValue:l}=s,u=ve(s,_Oe);const c=l({isValid:i});return{label:u.label,onClick:()=>{r(c,e,u)},disabled:!i(c)}});return b.jsx(my,L({dense:!0,sx:[{maxHeight:uV,maxWidth:200,overflow:"auto"},...Array.isArray(o.sx)?o.sx:[o.sx]]},o,{children:a.map(s=>b.jsx(d_,{children:b.jsx(SOe,L({},s))},s.label))}))}function bOe(n){return n.view!==null}const EOe=n=>{const{classes:t,isLandscape:e}=n;return Ge({root:["root",e&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},Bq,t)},OOe=n=>{var t,e;const{wrapperVariant:r,onAccept:i,onClear:o,onCancel:a,onSetToday:s,view:l,views:u,onViewChange:c,value:d,onChange:p,onSelectShortcut:h,isValid:f,isLandscape:v,disabled:g,readOnly:m,children:y,components:C,componentsProps:S,slots:w,slotProps:_}=n,x=w??Mq(C),E=_??S,R=EOe(n),P=(t=x==null?void 0:x.actionBar)!=null?t:dOe,A=jr({elementType:P,externalSlotProps:E==null?void 0:E.actionBar,additionalProps:{onAccept:i,onClear:o,onCancel:a,onSetToday:s,actions:r==="desktop"?[]:["cancel","accept"],className:R.actionBar},ownerState:L({},n,{wrapperVariant:r})}),N=b.jsx(P,L({},A)),I=x==null?void 0:x.toolbar,G=jr({elementType:I,externalSlotProps:E==null?void 0:E.toolbar,additionalProps:{isLandscape:v,onChange:p,value:d,view:l,onViewChange:c,views:u,disabled:g,readOnly:m,className:R.toolbar},ownerState:L({},n,{wrapperVariant:r})}),V=bOe(G)&&I?b.jsx(I,L({},G)):null,H=y,j=x==null?void 0:x.tabs,B=l&&j?b.jsx(j,L({view:l,onViewChange:c,className:R.tabs},E==null?void 0:E.tabs)):null,$=(e=x==null?void 0:x.shortcuts)!=null?e:xOe,W=jr({elementType:$,externalSlotProps:E==null?void 0:E.shortcuts,additionalProps:{isValid:f,isLandscape:v,onChange:h,className:R.shortcuts},ownerState:{isValid:f,isLandscape:v,onChange:h,className:R.shortcuts,wrapperVariant:r}}),Y=l&&$?b.jsx($,L({},W)):null;return{toolbar:V,content:H,tabs:B,actionBar:N,shortcuts:Y}},ROe=OOe,TOe=n=>{const{isLandscape:t,classes:e}=n;return Ge({root:["root",t&&"landscape"],contentWrapper:["contentWrapper"]},Bq,e)},jq=le("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(n,t)=>t.root})(({theme:n,ownerState:t})=>({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${sM.toolbar}`]:t.isLandscape?{gridColumn:n.direction==="rtl"?3:1,gridRow:"2 / 3"}:{gridColumn:"2 / 4",gridRow:1},[`.${sM.shortcuts}`]:t.isLandscape?{gridColumn:"2 / 4",gridRow:1}:{gridColumn:n.direction==="rtl"?3:1,gridRow:"2 / 3"},[`& .${sM.actionBar}`]:{gridColumn:"1 / 4",gridRow:3}}));jq.propTypes={as:ce.elementType,ownerState:ce.shape({isLandscape:ce.bool.isRequired}).isRequired,sx:ce.oneOfType([ce.arrayOf(ce.oneOfType([ce.func,ce.object,ce.bool])),ce.func,ce.object])};const POe=le("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(n,t)=>t.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),Hq=function(t){const e=Ve({props:t,name:"MuiPickersLayout"}),{toolbar:r,content:i,tabs:o,actionBar:a,shortcuts:s}=ROe(e),{sx:l,className:u,isLandscape:c,ref:d,wrapperVariant:p}=e,h=e,f=TOe(h);return b.jsxs(jq,{ref:d,sx:l,className:Re(u,f.root),ownerState:h,children:[c?s:r,c?r:s,b.jsx(POe,{className:f.contentWrapper,children:p==="desktop"?b.jsxs(T.Fragment,{children:[i,o]}):b.jsxs(T.Fragment,{children:[o,i]})}),a]})};function DOe(n,{disableFuture:t,maxDate:e,timezone:r}){const i=qr();return T.useMemo(()=>{const o=i.dateWithTimezone(void 0,r),a=i.startOfMonth(t&&i.isBefore(o,e)?o:e);return!i.isAfter(a,n)},[t,e,n,i,r])}function AOe(n,{disablePast:t,minDate:e,timezone:r}){const i=qr();return T.useMemo(()=>{const o=i.dateWithTimezone(void 0,r),a=i.startOfMonth(t&&i.isAfter(o,e)?o:e);return!i.isBefore(a,n)},[t,e,n,i,r])}const XI=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],ZI=["disablePast","disableFuture","minTime","maxTime","shouldDisableClock","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],$q=["minDateTime","maxDateTime"],MOe=[...XI,...ZI,...$q],Wq=n=>MOe.reduce((t,e)=>(n.hasOwnProperty(e)&&(t[e]=n[e]),t),{}),LOe=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","readOnly","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef"],FOe=(n,t)=>{const e=L({},n),r={},i=o=>{e.hasOwnProperty(o)&&(r[o]=e[o],delete e[o])};return LOe.forEach(i),t==="date"?XI.forEach(i):t==="time"?ZI.forEach(i):t==="date-time"&&(XI.forEach(i),ZI.forEach(i),$q.forEach(i)),{forwardedProps:e,internalProps:r}},KP=({props:n,value:t,adapter:e})=>{if(t===null)return null;const{shouldDisableDate:r,shouldDisableMonth:i,shouldDisableYear:o,disablePast:a,disableFuture:s,timezone:l}=n,u=e.utils.dateWithTimezone(void 0,l),c=Ks(e.utils,n.minDate,e.defaultDates.minDate),d=Ks(e.utils,n.maxDate,e.defaultDates.maxDate);switch(!0){case!e.utils.isValid(t):return"invalidDate";case!!(r&&r(t)):return"shouldDisableDate";case!!(i&&i(t)):return"shouldDisableMonth";case!!(o&&o(t)):return"shouldDisableYear";case!!(s&&e.utils.isAfterDay(t,u)):return"disableFuture";case!!(a&&e.utils.isBeforeDay(t,u)):return"disablePast";case!!(c&&e.utils.isBeforeDay(t,c)):return"minDate";case!!(d&&e.utils.isAfterDay(t,d)):return"maxDate";default:return null}};function IOe(n){return He("MuiPickersDay",n)}const Dh=$e("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),NOe=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],kOe=n=>{const{selected:t,disableMargin:e,disableHighlightToday:r,today:i,disabled:o,outsideCurrentMonth:a,showDaysOutsideCurrentMonth:s,classes:l}=n,u=a&&!s;return Ge({root:["root",t&&!u&&"selected",o&&"disabled",!e&&"dayWithMargin",!r&&i&&"today",a&&s&&"dayOutsideMonth",u&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},IOe,l)},Uq=({theme:n,ownerState:t})=>L({},n.typography.caption,{width:h0,height:h0,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:n.transitions.create("background-color",{duration:n.transitions.duration.short}),color:(n.vars||n).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.hoverOpacity})`:jm(n.palette.primary.main,n.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.focusOpacity})`:jm(n.palette.primary.main,n.palette.action.focusOpacity),[`&.${Dh.selected}`]:{willChange:"background-color",backgroundColor:(n.vars||n).palette.primary.dark}},[`&.${Dh.selected}`]:{color:(n.vars||n).palette.primary.contrastText,backgroundColor:(n.vars||n).palette.primary.main,fontWeight:n.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(n.vars||n).palette.primary.dark}},[`&.${Dh.disabled}:not(.${Dh.selected})`]:{color:(n.vars||n).palette.text.disabled},[`&.${Dh.disabled}&.${Dh.selected}`]:{opacity:.6}},!t.disableMargin&&{margin:`0 ${UP}px`},t.outsideCurrentMonth&&t.showDaysOutsideCurrentMonth&&{color:(n.vars||n).palette.text.secondary},!t.disableHighlightToday&&t.today&&{[`&:not(.${Dh.selected})`]:{border:`1px solid ${(n.vars||n).palette.text.secondary}`}}),zq=(n,t)=>{const{ownerState:e}=n;return[t.root,!e.disableMargin&&t.dayWithMargin,!e.disableHighlightToday&&e.today&&t.today,!e.outsideCurrentMonth&&e.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,e.outsideCurrentMonth&&!e.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},GOe=le(Jc,{name:"MuiPickersDay",slot:"Root",overridesResolver:zq})(Uq),VOe=le("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:zq})(({theme:n,ownerState:t})=>L({},Uq({theme:n,ownerState:t}),{opacity:0,pointerEvents:"none"})),lC=()=>{},BOe=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiPickersDay"}),{autoFocus:i=!1,className:o,day:a,disabled:s=!1,disableHighlightToday:l=!1,disableMargin:u=!1,isAnimating:c,onClick:d,onDaySelect:p,onFocus:h=lC,onBlur:f=lC,onKeyDown:v=lC,onMouseDown:g=lC,onMouseEnter:m=lC,outsideCurrentMonth:y,selected:C=!1,showDaysOutsideCurrentMonth:S=!1,children:w,today:_=!1}=r,x=ve(r,NOe),E=L({},r,{autoFocus:i,disabled:s,disableHighlightToday:l,disableMargin:u,selected:C,showDaysOutsideCurrentMonth:S,today:_}),R=kOe(E),P=qr(),A=T.useRef(null),N=or(A,e);ti(()=>{i&&!s&&!c&&!y&&A.current.focus()},[i,s,c,y]);const I=V=>{g(V),y&&V.preventDefault()},G=V=>{s||p(a),y&&V.currentTarget.focus(),d&&d(V)};return y&&!S?b.jsx(VOe,{className:Re(R.root,R.hiddenDaySpacingFiller,o),ownerState:E,role:x.role}):b.jsx(GOe,L({className:Re(R.root,o),ref:N,centerRipple:!0,disabled:s,tabIndex:C?0:-1,onKeyDown:V=>v(V,a),onFocus:V=>h(V,a),onBlur:V=>f(V,a),onMouseEnter:V=>m(V,a),onClick:G,onMouseDown:I},x,{ownerState:E,children:w||P.format(a,"dayOfMonth")}))}),jOe=T.memo(BOe),HOe=n=>He("MuiPickersSlideTransition",n),fs=$e("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),$Oe=["children","className","reduceAnimations","slideDirection","transKey","classes"],WOe=n=>{const{classes:t,slideDirection:e}=n,r={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${e}`],exitActive:[`slideExitActiveLeft-${e}`]};return Ge(r,HOe,t)},UOe=le(gG,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(n,t)=>[t.root,{[`.${fs["slideEnter-left"]}`]:t["slideEnter-left"]},{[`.${fs["slideEnter-right"]}`]:t["slideEnter-right"]},{[`.${fs.slideEnterActive}`]:t.slideEnterActive},{[`.${fs.slideExit}`]:t.slideExit},{[`.${fs["slideExitActiveLeft-left"]}`]:t["slideExitActiveLeft-left"]},{[`.${fs["slideExitActiveLeft-right"]}`]:t["slideExitActiveLeft-right"]}]})(({theme:n})=>{const t=n.transitions.create("transform",{duration:n.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${fs["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${fs["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${fs.slideEnterActive}`]:{transform:"translate(0%)",transition:t},[`& .${fs.slideExit}`]:{transform:"translate(0%)"},[`& .${fs["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:t,zIndex:0},[`& .${fs["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:t,zIndex:0}}});function zOe(n){const t=Ve({props:n,name:"MuiPickersSlideTransition"}),{children:e,className:r,reduceAnimations:i,transKey:o}=t,a=ve(t,$Oe),s=WOe(t),l=ma();if(i)return b.jsx("div",{className:Re(s.root,r),children:e});const u={exit:s.exit,enterActive:s.enterActive,enter:s.enter,exitActive:s.exitActive};return b.jsx(UOe,{className:Re(s.root,r),childFactory:c=>T.cloneElement(c,{classNames:u}),role:"presentation",children:b.jsx(Qpe,L({mountOnEnter:!0,unmountOnExit:!0,timeout:l.transitions.duration.complex,classNames:u},a,{children:e}),o)})}const Kq=({shouldDisableDate:n,shouldDisableMonth:t,shouldDisableYear:e,minDate:r,maxDate:i,disableFuture:o,disablePast:a,timezone:s})=>{const l=xv();return T.useCallback(u=>KP({adapter:l,value:u,props:{shouldDisableDate:n,shouldDisableMonth:t,shouldDisableYear:e,minDate:r,maxDate:i,disableFuture:o,disablePast:a,timezone:s}})!==null,[l,n,t,e,r,i,o,a,s])},KOe=n=>He("MuiDayCalendar",n);$e("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const YOe=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],qOe=["ownerState"],XOe=n=>{const{classes:t}=n;return Ge({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},KOe,t)},Yq=(h0+UP*2)*6,ZOe=le("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(n,t)=>t.root})({}),QOe=le("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(n,t)=>t.header})({display:"flex",justifyContent:"center",alignItems:"center"}),JOe=le(Pr,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(n,t)=>t.weekDayLabel})(({theme:n})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(n.vars||n).palette.text.secondary})),eRe=le(Pr,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(n,t)=>t.weekNumberLabel})(({theme:n})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:n.palette.text.disabled})),tRe=le(Pr,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(n,t)=>t.weekNumber})(({theme:n})=>L({},n.typography.caption,{width:h0,height:h0,padding:0,margin:`0 ${UP}px`,color:n.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),rRe=le("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(n,t)=>t.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:Yq}),nRe=le(zOe,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(n,t)=>t.slideTransition})({minHeight:Yq}),iRe=le("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(n,t)=>t.monthContainer})({overflow:"hidden"}),oRe=le("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(n,t)=>t.weekContainer})({margin:`${UP}px 0`,display:"flex",justifyContent:"center"});function aRe(n){var t,e,r;let{parentProps:i,day:o,focusableDay:a,selectedDays:s,isDateDisabled:l,currentMonthNumber:u,isViewFocused:c}=n,d=ve(n,YOe);const{disabled:p,disableHighlightToday:h,isMonthSwitchingAnimating:f,showDaysOutsideCurrentMonth:v,components:g,componentsProps:m,slots:y,slotProps:C,timezone:S}=i,w=qr(),_=WP(S),x=a!==null&&w.isSameDay(o,a),E=s.some(j=>w.isSameDay(j,o)),R=w.isSameDay(o,_),P=(t=(e=y==null?void 0:y.day)!=null?e:g==null?void 0:g.Day)!=null?t:jOe,A=jr({elementType:P,externalSlotProps:(r=C==null?void 0:C.day)!=null?r:m==null?void 0:m.day,additionalProps:L({disableHighlightToday:h,showDaysOutsideCurrentMonth:v,role:"gridcell",isAnimating:f,"data-timestamp":w.toJsDate(o).valueOf()},d),ownerState:L({},i,{day:o,selected:E})}),N=ve(A,qOe),I=T.useMemo(()=>p||l(o),[p,l,o]),G=T.useMemo(()=>w.getMonth(o)!==u,[w,o,u]),V=T.useMemo(()=>{const j=w.startOfMonth(w.setMonth(o,u));return v?w.isSameDay(o,w.startOfWeek(j)):w.isSameDay(o,j)},[u,o,v,w]),H=T.useMemo(()=>{const j=w.endOfMonth(w.setMonth(o,u));return v?w.isSameDay(o,w.endOfWeek(j)):w.isSameDay(o,j)},[u,o,v,w]);return b.jsx(P,L({},N,{day:o,disabled:I,autoFocus:c&&x,today:R,outsideCurrentMonth:G,isFirstVisibleCell:V,isLastVisibleCell:H,selected:E,tabIndex:x?0:-1,"aria-selected":E,"aria-current":R?"date":void 0}))}function sRe(n){const t=Ve({props:n,name:"MuiDayCalendar"}),{onFocusedDayChange:e,className:r,currentMonth:i,selectedDays:o,focusedDay:a,loading:s,onSelectedDaysChange:l,onMonthSwitchingAnimationEnd:u,readOnly:c,reduceAnimations:d,renderLoading:p=()=>b.jsx("span",{children:"..."}),slideDirection:h,TransitionProps:f,disablePast:v,disableFuture:g,minDate:m,maxDate:y,shouldDisableDate:C,shouldDisableMonth:S,shouldDisableYear:w,dayOfWeekFormatter:_,hasFocus:x,onFocusedViewChange:E,gridLabelId:R,displayWeekNumber:P,fixedWeekNumber:A,autoFocus:N,timezone:I}=t,G=WP(I),V=qr(),H=XOe(t),B=ma().direction==="rtl",$=_||((Ae,Ke)=>V.format(Ke,"weekdayShort").charAt(0).toUpperCase()),W=Kq({shouldDisableDate:C,shouldDisableMonth:S,shouldDisableYear:w,minDate:m,maxDate:y,disablePast:v,disableFuture:g,timezone:I}),Y=dh(),[Z,se]=va({name:"DayCalendar",state:"hasFocus",controlled:x,default:N??!1}),[X,ie]=T.useState(()=>a||G),z=it(Ae=>{c||l(Ae)}),Q=Ae=>{W(Ae)||(e(Ae),ie(Ae),E==null||E(!0),se(!0))},ue=it((Ae,Ke)=>{switch(Ae.key){case"ArrowUp":Q(V.addDays(Ke,-7)),Ae.preventDefault();break;case"ArrowDown":Q(V.addDays(Ke,7)),Ae.preventDefault();break;case"ArrowLeft":{const he=V.addDays(Ke,B?1:-1),Ee=V.addMonths(Ke,B?1:-1),Be=vw({utils:V,date:he,minDate:B?he:V.startOfMonth(Ee),maxDate:B?V.endOfMonth(Ee):he,isDateDisabled:W,timezone:I});Q(Be||he),Ae.preventDefault();break}case"ArrowRight":{const he=V.addDays(Ke,B?-1:1),Ee=V.addMonths(Ke,B?-1:1),Be=vw({utils:V,date:he,minDate:B?V.startOfMonth(Ee):he,maxDate:B?he:V.endOfMonth(Ee),isDateDisabled:W,timezone:I});Q(Be||he),Ae.preventDefault();break}case"Home":Q(V.startOfWeek(Ke)),Ae.preventDefault();break;case"End":Q(V.endOfWeek(Ke)),Ae.preventDefault();break;case"PageUp":Q(V.addMonths(Ke,1)),Ae.preventDefault();break;case"PageDown":Q(V.addMonths(Ke,-1)),Ae.preventDefault();break}}),pe=it((Ae,Ke)=>Q(Ke)),_e=it((Ae,Ke)=>{Z&&V.isSameDay(X,Ke)&&(E==null||E(!1))}),oe=V.getMonth(i),we=T.useMemo(()=>o.filter(Ae=>!!Ae).map(Ae=>V.startOfDay(Ae)),[V,o]),ne=oe,xe=T.useMemo(()=>T.createRef(),[ne]),Pe=V.startOfWeek(G),ze=T.useMemo(()=>{const Ae=V.startOfMonth(i),Ke=V.endOfMonth(i);return W(X)||V.isAfterDay(X,Ke)||V.isBeforeDay(X,Ae)?vw({utils:V,date:X,minDate:Ae,maxDate:Ke,disablePast:v,disableFuture:g,isDateDisabled:W,timezone:I}):X},[i,g,v,X,W,V,I]),ht=T.useMemo(()=>{const Ae=V.setTimezone(i,I),Ke=V.getWeekArray(Ae);let he=V.addMonths(Ae,1);for(;A&&Ke.length<A;){const Ee=V.getWeekArray(he),Be=V.isSameDay(Ke[Ke.length-1][0],Ee[0][0]);Ee.slice(Be?1:0).forEach(tt=>{Ke.length<A&&Ke.push(tt)}),he=V.addMonths(he,1)}return Ke},[i,A,V,I]);return b.jsxs(ZOe,{role:"grid","aria-labelledby":R,className:H.root,children:[b.jsxs(QOe,{role:"row",className:H.header,children:[P&&b.jsx(eRe,{variant:"caption",role:"columnheader","aria-label":Y.calendarWeekNumberHeaderLabel,className:H.weekNumberLabel,children:Y.calendarWeekNumberHeaderText}),Lbe(V,G).map((Ae,Ke)=>{var he;const Ee=V.format(Ae,"weekdayShort");return b.jsx(JOe,{variant:"caption",role:"columnheader","aria-label":V.format(V.addDays(Pe,Ke),"weekday"),className:H.weekDayLabel,children:(he=$==null?void 0:$(Ee,Ae))!=null?he:Ee},Ee+Ke.toString())})]}),s?b.jsx(rRe,{className:H.loadingContainer,children:p()}):b.jsx(nRe,L({transKey:ne,onExited:u,reduceAnimations:d,slideDirection:h,className:Re(r,H.slideTransition)},f,{nodeRef:xe,children:b.jsx(iRe,{ref:xe,role:"rowgroup",className:H.monthContainer,children:ht.map((Ae,Ke)=>b.jsxs(oRe,{role:"row",className:H.weekContainer,"aria-rowindex":Ke+1,children:[P&&b.jsx(tRe,{className:H.weekNumber,role:"rowheader","aria-label":Y.calendarWeekNumberAriaLabelText(V.getWeekNumber(Ae[0])),children:Y.calendarWeekNumberText(V.getWeekNumber(Ae[0]))}),Ae.map((he,Ee)=>b.jsx(aRe,{parentProps:t,day:he,selectedDays:we,focusableDay:ze,onKeyDown:ue,onFocus:pe,onBlur:_e,onDaySelect:z,isDateDisabled:W,currentMonthNumber:oe,isViewFocused:Z,"aria-colindex":Ee+1},he.toString()))]},`week-${Ae[0]}`))})}))]})}const lRe=(n,t,e)=>(r,i)=>{switch(i.type){case"changeMonth":return L({},r,{slideDirection:i.direction,currentMonth:i.newMonth,isMonthSwitchingAnimating:!n});case"finishMonthSwitchingAnimation":return L({},r,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(r.focusedDay!=null&&i.focusedDay!=null&&e.isSameDay(i.focusedDay,r.focusedDay))return r;const o=i.focusedDay!=null&&!t&&!e.isSameMonth(r.currentMonth,i.focusedDay);return L({},r,{focusedDay:i.focusedDay,isMonthSwitchingAnimating:o&&!n&&!i.withoutMonthSwitchingAnimation,currentMonth:o?e.startOfMonth(i.focusedDay):r.currentMonth,slideDirection:i.focusedDay!=null&&e.isAfterDay(i.focusedDay,r.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},uRe=n=>{const{value:t,referenceDate:e,defaultCalendarMonth:r,disableFuture:i,disablePast:o,disableSwitchToMonthOnDayFocus:a=!1,maxDate:s,minDate:l,onMonthChange:u,reduceAnimations:c,shouldDisableDate:d,timezone:p}=n,h=qr(),f=T.useRef(lRe(!!c,a,h)).current,v=T.useMemo(()=>{let x=null;return e?x=e:r&&(x=h.startOfMonth(r)),rd.getInitialReferenceValue({value:t,utils:h,timezone:p,props:n,referenceDate:x,granularity:_u.day})},[]),[g,m]=T.useReducer(f,{isMonthSwitchingAnimating:!1,focusedDay:v,currentMonth:h.startOfMonth(v),slideDirection:"left"}),y=T.useCallback(x=>{m(L({type:"changeMonth"},x)),u&&u(x.newMonth)},[u]),C=T.useCallback(x=>{const E=x;h.isSameMonth(E,g.currentMonth)||y({newMonth:h.startOfMonth(E),direction:h.isAfterDay(E,g.currentMonth)?"left":"right"})},[g.currentMonth,y,h]),S=Kq({shouldDisableDate:d,minDate:l,maxDate:s,disableFuture:i,disablePast:o,timezone:p}),w=T.useCallback(()=>{m({type:"finishMonthSwitchingAnimation"})},[]),_=it((x,E)=>{S(x)||m({type:"changeFocusedDay",focusedDay:x,withoutMonthSwitchingAnimation:E})});return{referenceDate:v,calendarState:g,changeMonth:C,changeFocusedDay:_,isDateDisabled:S,onMonthSwitchingAnimationEnd:w,handleChangeMonth:y}};function cRe(n){return He("MuiInputAdornment",n)}const dRe=$e("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),L3=dRe;var F3;const pRe=["children","className","component","disablePointerEvents","disableTypography","position","variant"],hRe=(n,t)=>{const{ownerState:e}=n;return[t.root,t[`position${Se(e.position)}`],e.disablePointerEvents===!0&&t.disablePointerEvents,t[e.variant]]},fRe=n=>{const{classes:t,disablePointerEvents:e,hiddenLabel:r,position:i,size:o,variant:a}=n,s={root:["root",e&&"disablePointerEvents",i&&`position${Se(i)}`,a,r&&"hiddenLabel",o&&`size${Se(o)}`]};return Ge(s,cRe,t)},vRe=le("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:hRe})(({theme:n,ownerState:t})=>L({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(n.vars||n).palette.action.active},t.variant==="filled"&&{[`&.${L3.positionStart}&:not(.${L3.hiddenLabel})`]:{marginTop:16}},t.position==="start"&&{marginRight:8},t.position==="end"&&{marginLeft:8},t.disablePointerEvents===!0&&{pointerEvents:"none"})),gRe=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiInputAdornment"}),{children:i,className:o,component:a="div",disablePointerEvents:s=!1,disableTypography:l=!1,position:u,variant:c}=r,d=ve(r,pRe),p=rc()||{};let h=c;c&&p.variant,p&&!h&&(h=p.variant);const f=L({},r,{hiddenLabel:p.hiddenLabel,size:p.size,disablePointerEvents:s,position:u,variant:h}),v=fRe(f);return b.jsx(kP.Provider,{value:null,children:b.jsx(vRe,L({as:a,ownerState:f,className:Re(v.root,o),ref:e},d,{children:typeof i=="string"&&!l?b.jsx(Pr,{color:"text.secondary",children:i}):b.jsxs(T.Fragment,{children:[u==="start"?F3||(F3=b.jsx("span",{className:"notranslate",children:"​"})):null,i]})}))})}),iR=gRe,mRe=["props","getOpenDialogAriaText"],yRe=["ownerState"],CRe=["ownerState"],SRe=n=>{var t,e,r,i,o;let{props:a,getOpenDialogAriaText:s}=n,l=ve(n,mRe);const{slots:u,slotProps:c,className:d,sx:p,format:h,formatDensity:f,timezone:v,name:g,label:m,inputRef:y,readOnly:C,disabled:S,autoFocus:w,localeText:_,reduceAnimations:x}=a,E=qr(),R=T.useRef(null),P=T.useRef(null),A=tc(),N=(t=c==null||(e=c.toolbar)==null?void 0:e.hidden)!=null?t:!1,{open:I,actions:G,hasUIView:V,layoutProps:H,renderCurrentView:j,shouldRestoreFocus:B,fieldProps:$}=Vq(L({},l,{props:a,inputRef:R,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),W=(r=u.inputAdornment)!=null?r:iR,Y=jr({elementType:W,externalSlotProps:c==null?void 0:c.inputAdornment,additionalProps:{position:"end"},ownerState:a}),Z=ve(Y,yRe),se=(i=u.openPickerButton)!=null?i:Dl,X=jr({elementType:se,externalSlotProps:c==null?void 0:c.openPickerButton,additionalProps:{disabled:S||C,onClick:I?G.onClose:G.onOpen,"aria-label":s($.value,E),edge:Z.position},ownerState:a}),ie=ve(X,CRe),z=u.openPickerIcon,Q=u.field,ue=jr({elementType:Q,externalSlotProps:c==null?void 0:c.field,additionalProps:L({},$,N&&{id:A},{readOnly:C,disabled:S,className:d,sx:p,format:h,formatDensity:f,timezone:v,label:m,name:g,autoFocus:w&&!a.open,focused:I?!0:void 0}),ownerState:a});V&&(ue.InputProps=L({},ue.InputProps,{ref:P,[`${Z.position}Adornment`]:b.jsx(W,L({},Z,{children:b.jsx(se,L({},ie,{children:b.jsx(z,L({},c==null?void 0:c.openPickerIcon))}))}))}));const pe=L({textField:u.textField,clearIcon:u.clearIcon,clearButton:u.clearButton},ue.slots),_e=(o=u.layout)!=null?o:Hq,oe=or(R,ue.inputRef,y);let we=A;N&&(m?we=`${A}-label`:we=void 0);const ne=L({},c,{toolbar:L({},c==null?void 0:c.toolbar,{titleId:A}),popper:L({"aria-labelledby":we},c==null?void 0:c.popper)});return{renderPicker:()=>b.jsxs(HP,{localeText:_,children:[b.jsx(Q,L({},ue,{slots:pe,slotProps:ne,inputRef:oe})),b.jsx(YEe,L({role:"dialog",placement:"bottom-start",anchorEl:P.current},G,{open:I,slots:u,slotProps:ne,shouldRestoreFocus:B,reduceAnimations:x,children:b.jsx(_e,L({},H,ne==null?void 0:ne.layout,{slots:u,slotProps:ne,children:j()}))}))]})}},wRe=n=>{var t,e,r;const i=qr(),o=m_();return L({},n,{disablePast:(t=n.disablePast)!=null?t:!1,disableFuture:(e=n.disableFuture)!=null?e:!1,format:(r=n.format)!=null?r:i.formats.keyboardDate,minDate:Ks(i,n.minDate,o.minDate),maxDate:Ks(i,n.maxDate,o.maxDate)})},_Re=({props:n,inputRef:t})=>{const e=wRe(n),{forwardedProps:r,internalProps:i}=FOe(e,"date");return JEe({inputRef:t,forwardedProps:r,internalProps:i,valueManager:rd,fieldValueManager:Xbe,validator:KP,valueType:"date"})},xRe=["ownerState"],bRe=({clearable:n,fieldProps:t,InputProps:e,onClear:r,slots:i,slotProps:o,components:a,componentsProps:s})=>{var l,u,c,d,p,h;const f=dh(),v=(l=(u=i==null?void 0:i.clearButton)!=null?u:a==null?void 0:a.ClearButton)!=null?l:Dl,g=jr({elementType:v,externalSlotProps:(c=o==null?void 0:o.clearButton)!=null?c:s==null?void 0:s.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:f.fieldClearLabel}}),m=ve(g,xRe),y=(d=(p=i==null?void 0:i.clearIcon)!=null?p:a==null?void 0:a.ClearIcon)!=null?d:fEe,C=jr({elementType:y,externalSlotProps:(h=o==null?void 0:o.clearIcon)!=null?h:s==null?void 0:s.clearIcon,ownerState:{}}),S=L({},e,{endAdornment:b.jsxs(T.Fragment,{children:[n&&b.jsx(iR,{position:"end",sx:{marginRight:e!=null&&e.endAdornment?-1:-1.5},children:b.jsx(v,L({},m,{onClick:r,children:b.jsx(y,L({fontSize:"small"},C))}))}),e==null?void 0:e.endAdornment]})}),w=L({},t,{sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(t.sx)?t.sx:[t.sx]]});return{InputProps:S,fieldProps:w}},ERe=["components","componentsProps","slots","slotProps","InputProps","inputProps"],ORe=["inputRef"],RRe=["ref","onPaste","onKeyDown","inputMode","readOnly","clearable","onClear"],qq=T.forwardRef(function(t,e){var r,i,o;const a=Ve({props:t,name:"MuiDateField"}),{components:s,componentsProps:l,slots:u,slotProps:c,InputProps:d,inputProps:p}=a,h=ve(a,ERe),f=a,v=(r=(i=u==null?void 0:u.textField)!=null?i:s==null?void 0:s.TextField)!=null?r:Kt,g=jr({elementType:v,externalSlotProps:(o=c==null?void 0:c.textField)!=null?o:l==null?void 0:l.textField,externalForwardedProps:h,ownerState:f}),{inputRef:m}=g,y=ve(g,ORe);y.inputProps=L({},p,y.inputProps),y.InputProps=L({},d,y.InputProps);const C=_Re({props:y,inputRef:m}),{ref:S,onPaste:w,onKeyDown:_,inputMode:x,readOnly:E,clearable:R,onClear:P}=C,A=ve(C,RRe),{InputProps:N,fieldProps:I}=bRe({onClear:P,clearable:R,fieldProps:A,InputProps:A.InputProps,slots:u,slotProps:c,components:s,componentsProps:l});return b.jsx(v,L({ref:e},I,{InputProps:L({},N,{readOnly:E}),inputProps:L({},A.inputProps,{inputMode:x,onPaste:w,onKeyDown:_,ref:S})}))}),TRe=n=>He("MuiPickersFadeTransitionGroup",n);$e("MuiPickersFadeTransitionGroup",["root"]);const PRe=n=>{const{classes:t}=n;return Ge({root:["root"]},TRe,t)},DRe=le(gG,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(n,t)=>t.root})({display:"block",position:"relative"});function Xq(n){const t=Ve({props:n,name:"MuiPickersFadeTransitionGroup"}),{children:e,className:r,reduceAnimations:i,transKey:o}=t,a=PRe(t),s=ma();return i?e:b.jsx(DRe,{className:Re(a.root,r),children:b.jsx(gy,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:s.transitions.duration.enteringScreen,enter:s.transitions.duration.enteringScreen,exit:0},children:e},o)})}function ARe(n){return He("MuiPickersMonth",n)}const Lx=$e("MuiPickersMonth",["root","monthButton","disabled","selected"]),MRe=["autoFocus","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow"],LRe=n=>{const{disabled:t,selected:e,classes:r}=n;return Ge({root:["root"],monthButton:["monthButton",t&&"disabled",e&&"selected"]},ARe,r)},FRe=le("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(n,t)=>[t.root]})(({ownerState:n})=>({flexBasis:n.monthsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),IRe=le("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(n,t)=>[t.monthButton,{[`&.${Lx.disabled}`]:t.disabled},{[`&.${Lx.selected}`]:t.selected}]})(({theme:n})=>L({color:"unset",backgroundColor:"transparent",border:0,outline:0},n.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:jm(n.palette.action.active,n.palette.action.hoverOpacity)},"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:jm(n.palette.action.active,n.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Lx.disabled}`]:{color:(n.vars||n).palette.text.secondary},[`&.${Lx.selected}`]:{color:(n.vars||n).palette.primary.contrastText,backgroundColor:(n.vars||n).palette.primary.main,"&:focus, &:hover":{backgroundColor:(n.vars||n).palette.primary.dark}}})),NRe=T.memo(function(t){const e=Ve({props:t,name:"MuiPickersMonth"}),{autoFocus:r,children:i,disabled:o,selected:a,value:s,tabIndex:l,onClick:u,onKeyDown:c,onFocus:d,onBlur:p,"aria-current":h,"aria-label":f}=e,v=ve(e,MRe),g=T.useRef(null),m=LRe(e);return ti(()=>{if(r){var y;(y=g.current)==null||y.focus()}},[r]),b.jsx(FRe,L({className:m.root,ownerState:e},v,{children:b.jsx(IRe,{ref:g,disabled:o,type:"button",role:"radio",tabIndex:o?-1:l,"aria-current":h,"aria-checked":a,"aria-label":f,onClick:y=>u(y,s),onKeyDown:y=>c(y,s),onFocus:y=>d(y,s),onBlur:y=>p(y,s),className:m.monthButton,ownerState:e,children:i})}))});function kRe(n){return He("MuiMonthCalendar",n)}$e("MuiMonthCalendar",["root"]);const GRe=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId"],VRe=n=>{const{classes:t}=n;return Ge({root:["root"]},kRe,t)};function BRe(n,t){const e=qr(),r=m_(),i=Ve({props:n,name:t});return L({disableFuture:!1,disablePast:!1},i,{minDate:Ks(e,i.minDate,r.minDate),maxDate:Ks(e,i.maxDate,r.maxDate)})}const jRe=le("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(n,t)=>t.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:zP,boxSizing:"border-box"}),HRe=T.forwardRef(function(t,e){const r=BRe(t,"MuiMonthCalendar"),{className:i,value:o,defaultValue:a,referenceDate:s,disabled:l,disableFuture:u,disablePast:c,maxDate:d,minDate:p,onChange:h,shouldDisableMonth:f,readOnly:v,disableHighlightToday:g,autoFocus:m=!1,onMonthFocus:y,hasFocus:C,onFocusedViewChange:S,monthsPerRow:w=3,timezone:_,gridLabelId:x}=r,E=ve(r,GRe),{value:R,handleValueChange:P,timezone:A}=hV({name:"MonthCalendar",timezone:_,value:o,defaultValue:a,onChange:h,valueManager:rd}),N=WP(A),I=hy(),G=qr(),V=T.useMemo(()=>rd.getInitialReferenceValue({value:R,utils:G,props:r,timezone:A,referenceDate:s,granularity:_u.month}),[]),H=r,j=VRe(H),B=T.useMemo(()=>G.getMonth(N),[G,N]),$=T.useMemo(()=>R!=null?G.getMonth(R):g?null:G.getMonth(V),[R,G,g,V]),[W,Y]=T.useState(()=>$||B),[Z,se]=va({name:"MonthCalendar",state:"hasFocus",controlled:C,default:m??!1}),X=it(oe=>{se(oe),S&&S(oe)}),ie=T.useCallback(oe=>{const we=G.startOfMonth(c&&G.isAfter(N,p)?N:p),ne=G.startOfMonth(u&&G.isBefore(N,d)?N:d),xe=G.startOfMonth(oe);return G.isBefore(xe,we)||G.isAfter(xe,ne)?!0:f?f(xe):!1},[u,c,d,p,N,f,G]),z=it((oe,we)=>{if(v)return;const ne=G.setMonth(R??V,we);P(ne)}),Q=it(oe=>{ie(G.setMonth(R??V,oe))||(Y(oe),X(!0),y&&y(oe))});T.useEffect(()=>{Y(oe=>$!==null&&oe!==$?$:oe)},[$]);const ue=it((oe,we)=>{switch(oe.key){case"ArrowUp":Q((12+we-3)%12),oe.preventDefault();break;case"ArrowDown":Q((12+we+3)%12),oe.preventDefault();break;case"ArrowLeft":Q((12+we+(I.direction==="ltr"?-1:1))%12),oe.preventDefault();break;case"ArrowRight":Q((12+we+(I.direction==="ltr"?1:-1))%12),oe.preventDefault();break}}),pe=it((oe,we)=>{Q(we)}),_e=it((oe,we)=>{W===we&&X(!1)});return b.jsx(jRe,L({ref:e,className:Re(j.root,i),ownerState:H,role:"radiogroup","aria-labelledby":x},E,{children:aV(G,R??V).map(oe=>{const we=G.getMonth(oe),ne=G.format(oe,"monthShort"),xe=G.format(oe,"month"),Pe=we===$,ze=l||ie(oe);return b.jsx(NRe,{selected:Pe,value:we,onClick:z,onKeyDown:ue,autoFocus:Z&&we===W,disabled:ze,tabIndex:we===W?0:-1,onFocus:pe,onBlur:_e,"aria-current":B===we?"date":void 0,"aria-label":xe,monthsPerRow:w,children:ne},ne)})}))});function $Re(n){return He("MuiPickersYear",n)}const Fx=$e("MuiPickersYear",["root","yearButton","selected","disabled"]),WRe=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow"],URe=n=>{const{disabled:t,selected:e,classes:r}=n;return Ge({root:["root"],yearButton:["yearButton",t&&"disabled",e&&"selected"]},$Re,r)},zRe=le("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(n,t)=>[t.root]})(({ownerState:n})=>({flexBasis:n.yearsPerRow===3?"33.3%":"25%",display:"flex",alignItems:"center",justifyContent:"center"})),KRe=le("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(n,t)=>[t.yearButton,{[`&.${Fx.disabled}`]:t.disabled},{[`&.${Fx.selected}`]:t.selected}]})(({theme:n})=>L({color:"unset",backgroundColor:"transparent",border:0,outline:0},n.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.focusOpacity})`:jm(n.palette.action.active,n.palette.action.focusOpacity)},"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:jm(n.palette.action.active,n.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Fx.disabled}`]:{color:(n.vars||n).palette.text.secondary},[`&.${Fx.selected}`]:{color:(n.vars||n).palette.primary.contrastText,backgroundColor:(n.vars||n).palette.primary.main,"&:focus, &:hover":{backgroundColor:(n.vars||n).palette.primary.dark}}})),YRe=T.memo(function(t){const e=Ve({props:t,name:"MuiPickersYear"}),{autoFocus:r,className:i,children:o,disabled:a,selected:s,value:l,tabIndex:u,onClick:c,onKeyDown:d,onFocus:p,onBlur:h,"aria-current":f}=e,v=ve(e,WRe),g=T.useRef(null),m=URe(e);return T.useEffect(()=>{r&&g.current.focus()},[r]),b.jsx(zRe,L({className:Re(m.root,i),ownerState:e},v,{children:b.jsx(KRe,{ref:g,disabled:a,type:"button",role:"radio",tabIndex:a?-1:u,"aria-current":f,"aria-checked":s,onClick:y=>c(y,l),onKeyDown:y=>d(y,l),onFocus:y=>p(y,l),onBlur:y=>h(y,l),className:m.yearButton,ownerState:e,children:o})}))});function qRe(n){return He("MuiYearCalendar",n)}$e("MuiYearCalendar",["root"]);const XRe=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId"],ZRe=n=>{const{classes:t}=n;return Ge({root:["root"]},qRe,t)};function QRe(n,t){var e;const r=qr(),i=m_(),o=Ve({props:n,name:t});return L({disablePast:!1,disableFuture:!1},o,{yearsPerRow:(e=o.yearsPerRow)!=null?e:3,minDate:Ks(r,o.minDate,i.minDate),maxDate:Ks(r,o.maxDate,i.maxDate)})}const JRe=le("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(n,t)=>t.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:zP,maxHeight:xEe,boxSizing:"border-box",position:"relative"}),eTe=T.forwardRef(function(t,e){const r=QRe(t,"MuiYearCalendar"),{autoFocus:i,className:o,value:a,defaultValue:s,referenceDate:l,disabled:u,disableFuture:c,disablePast:d,maxDate:p,minDate:h,onChange:f,readOnly:v,shouldDisableYear:g,disableHighlightToday:m,onYearFocus:y,hasFocus:C,onFocusedViewChange:S,yearsPerRow:w,timezone:_,gridLabelId:x}=r,E=ve(r,XRe),{value:R,handleValueChange:P,timezone:A}=hV({name:"YearCalendar",timezone:_,value:a,defaultValue:s,onChange:f,valueManager:rd}),N=WP(A),I=hy(),G=qr(),V=T.useMemo(()=>rd.getInitialReferenceValue({value:R,utils:G,props:r,timezone:A,referenceDate:l,granularity:_u.year}),[]),H=r,j=ZRe(H),B=T.useMemo(()=>G.getYear(N),[G,N]),$=T.useMemo(()=>R!=null?G.getYear(R):m?null:G.getYear(V),[R,G,m,V]),[W,Y]=T.useState(()=>$||B),[Z,se]=va({name:"YearCalendar",state:"hasFocus",controlled:C,default:i??!1}),X=it(ne=>{se(ne),S&&S(ne)}),ie=T.useCallback(ne=>{if(d&&G.isBeforeYear(ne,N)||c&&G.isAfterYear(ne,N)||h&&G.isBeforeYear(ne,h)||p&&G.isAfterYear(ne,p))return!0;if(!g)return!1;const xe=G.startOfYear(ne);return g(xe)},[c,d,p,h,N,g,G]),z=it((ne,xe)=>{if(v)return;const Pe=G.setYear(R??V,xe);P(Pe)}),Q=it(ne=>{ie(G.setYear(R??V,ne))||(Y(ne),X(!0),y==null||y(ne))});T.useEffect(()=>{Y(ne=>$!==null&&ne!==$?$:ne)},[$]);const ue=it((ne,xe)=>{switch(ne.key){case"ArrowUp":Q(xe-w),ne.preventDefault();break;case"ArrowDown":Q(xe+w),ne.preventDefault();break;case"ArrowLeft":Q(xe+(I.direction==="ltr"?-1:1)),ne.preventDefault();break;case"ArrowRight":Q(xe+(I.direction==="ltr"?1:-1)),ne.preventDefault();break}}),pe=it((ne,xe)=>{Q(xe)}),_e=it((ne,xe)=>{W===xe&&X(!1)}),oe=T.useRef(null),we=or(e,oe);return T.useEffect(()=>{if(i||oe.current===null)return;const ne=oe.current.querySelector('[tabindex="0"]');if(!ne)return;const xe=ne.offsetHeight,Pe=ne.offsetTop,ze=oe.current.clientHeight,ht=oe.current.scrollTop,Ae=Pe+xe;xe>ze||Pe<ht||(oe.current.scrollTop=Ae-ze/2-xe/2)},[i]),b.jsx(JRe,L({ref:we,className:Re(j.root,o),ownerState:H,role:"radiogroup","aria-labelledby":x},E,{children:G.getYearRange(h,p).map(ne=>{const xe=G.getYear(ne),Pe=xe===$,ze=u||ie(ne);return b.jsx(YRe,{selected:Pe,value:xe,onClick:z,onKeyDown:ue,autoFocus:Z&&xe===W,disabled:ze,tabIndex:xe===W?0:-1,onFocus:pe,onBlur:_e,"aria-current":B===xe?"date":void 0,yearsPerRow:w,children:G.format(ne,"year")},G.format(ne,"year"))})}))}),tTe=n=>He("MuiPickersCalendarHeader",n),rTe=$e("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),nTe=["slots","slotProps","components","componentsProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone"],iTe=["ownerState"],oTe=n=>{const{classes:t}=n;return Ge({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},tTe,t)},aTe=le("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(n,t)=>t.root})({display:"flex",alignItems:"center",marginTop:16,marginBottom:8,paddingLeft:24,paddingRight:12,maxHeight:30,minHeight:30}),sTe=le("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(n,t)=>t.labelContainer})(({theme:n})=>L({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},n.typography.body1,{fontWeight:n.typography.fontWeightMedium})),lTe=le("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(n,t)=>t.label})({marginRight:6}),uTe=le(Dl,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(n,t)=>t.switchViewButton})(({ownerState:n})=>L({marginRight:"auto"},n.view==="year"&&{[`.${rTe.switchViewIcon}`]:{transform:"rotate(180deg)"}})),cTe=le(cEe,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(n,t)=>t.switchViewIcon})(({theme:n})=>({willChange:"transform",transition:n.transitions.create("transform"),transform:"rotate(0deg)"})),dTe=T.forwardRef(function(t,e){var r,i,o,a;const s=dh(),l=qr(),u=Ve({props:t,name:"MuiPickersCalendarHeader"}),{slots:c,slotProps:d,components:p,currentMonth:h,disabled:f,disableFuture:v,disablePast:g,maxDate:m,minDate:y,onMonthChange:C,onViewChange:S,view:w,reduceAnimations:_,views:x,labelId:E,className:R,timezone:P}=u,A=ve(u,nTe),N=u,I=oTe(u),G=(r=(i=c==null?void 0:c.switchViewButton)!=null?i:p==null?void 0:p.SwitchViewButton)!=null?r:uTe,V=jr({elementType:G,externalSlotProps:d==null?void 0:d.switchViewButton,additionalProps:{size:"small","aria-label":s.calendarViewSwitchingButtonAriaLabel(w)},ownerState:N,className:I.switchViewButton}),H=(o=(a=c==null?void 0:c.switchViewIcon)!=null?a:p==null?void 0:p.SwitchViewIcon)!=null?o:cTe,j=jr({elementType:H,externalSlotProps:d==null?void 0:d.switchViewIcon,ownerState:void 0,className:I.switchViewIcon}),B=ve(j,iTe),$=()=>C(l.addMonths(h,1),"left"),W=()=>C(l.addMonths(h,-1),"right"),Y=DOe(h,{disableFuture:v,maxDate:m,timezone:P}),Z=AOe(h,{disablePast:g,minDate:y,timezone:P}),se=()=>{if(!(x.length===1||!S||f))if(x.length===2)S(x.find(X=>X!==w)||x[0]);else{const X=x.indexOf(w)!==0?0:1;S(x[X])}};return x.length===1&&x[0]==="year"?null:b.jsxs(aTe,L({},A,{ownerState:N,className:Re(R,I.root),ref:e,children:[b.jsxs(sTe,{role:"presentation",onClick:se,ownerState:N,"aria-live":"polite",className:I.labelContainer,children:[b.jsx(Xq,{reduceAnimations:_,transKey:l.format(h,"monthAndYear"),children:b.jsx(lTe,{id:E,ownerState:N,className:I.label,children:l.format(h,"monthAndYear")})}),x.length>1&&!f&&b.jsx(G,L({},V,{children:b.jsx(H,L({},B))}))]}),b.jsx(gy,{in:w==="day",children:b.jsx(_Ee,{slots:c,slotProps:d,onGoToPrevious:W,isPreviousDisabled:Z,previousLabel:s.previousMonth,onGoToNext:$,isNextDisabled:Y,nextLabel:s.nextMonth})})]}))}),pTe=le("div")({overflow:"hidden",width:zP,maxHeight:uV,display:"flex",flexDirection:"column",margin:"0 auto"}),hTe=n=>He("MuiDateCalendar",n);$e("MuiDateCalendar",["root","viewTransitionContainer"]);const fTe=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","defaultCalendarMonth","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","components","componentsProps","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"],vTe=n=>{const{classes:t}=n;return Ge({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},hTe,t)};function gTe(n,t){var e,r,i,o,a,s,l;const u=qr(),c=m_(),d=Nq(),p=Ve({props:n,name:t});return L({},p,{loading:(e=p.loading)!=null?e:!1,disablePast:(r=p.disablePast)!=null?r:!1,disableFuture:(i=p.disableFuture)!=null?i:!1,openTo:(o=p.openTo)!=null?o:"day",views:(a=p.views)!=null?a:["year","day"],reduceAnimations:(s=p.reduceAnimations)!=null?s:d,renderLoading:(l=p.renderLoading)!=null?l:()=>b.jsx("span",{children:"..."}),minDate:Ks(u,p.minDate,c.minDate),maxDate:Ks(u,p.maxDate,c.maxDate)})}const mTe=le(pTe,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(n,t)=>t.root})({display:"flex",flexDirection:"column",height:uV}),yTe=le(Xq,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(n,t)=>t.viewTransitionContainer})({}),CTe=T.forwardRef(function(t,e){var r,i,o;const a=qr(),s=tc(),l=gTe(t,"MuiDateCalendar"),{autoFocus:u,onViewChange:c,value:d,defaultValue:p,referenceDate:h,disableFuture:f,disablePast:v,defaultCalendarMonth:g,onChange:m,onYearChange:y,onMonthChange:C,reduceAnimations:S,shouldDisableDate:w,shouldDisableMonth:_,shouldDisableYear:x,view:E,views:R,openTo:P,className:A,disabled:N,readOnly:I,minDate:G,maxDate:V,disableHighlightToday:H,focusedView:j,onFocusedViewChange:B,showDaysOutsideCurrentMonth:$,fixedWeekNumber:W,dayOfWeekFormatter:Y,components:Z,componentsProps:se,slots:X,slotProps:ie,loading:z,renderLoading:Q,displayWeekNumber:ue,yearsPerRow:pe,monthsPerRow:_e,timezone:oe}=l,we=ve(l,fTe),{value:ne,handleValueChange:xe,timezone:Pe}=hV({name:"DateCalendar",timezone:oe,value:d,defaultValue:p,onChange:m,valueManager:rd}),{view:ze,setView:ht,focusedView:Ae,setFocusedView:Ke,goToNextView:he,setValueAndGoToNextView:Ee}=Gq({view:E,views:R,openTo:P,onChange:xe,onViewChange:c,autoFocus:u,focusedView:j,onFocusedViewChange:B}),{referenceDate:Be,calendarState:tt,changeFocusedDay:Ie,changeMonth:rt,handleChangeMonth:mt,isDateDisabled:ft,onMonthSwitchingAnimationEnd:yt}=uRe({value:ne,defaultCalendarMonth:g,referenceDate:h,reduceAnimations:S,onMonthChange:C,minDate:G,maxDate:V,shouldDisableDate:w,disablePast:v,disableFuture:f,timezone:Pe}),We=N&&ne||G,dt=N&&ne||V,ur=`${s}-grid-label`,Ir=Ae!==null,Ye=(r=(i=X==null?void 0:X.calendarHeader)!=null?i:Z==null?void 0:Z.CalendarHeader)!=null?r:dTe,zt=jr({elementType:Ye,externalSlotProps:(o=ie==null?void 0:ie.calendarHeader)!=null?o:se==null?void 0:se.calendarHeader,additionalProps:{views:R,view:ze,currentMonth:tt.currentMonth,onViewChange:ht,onMonthChange:(te,ae)=>mt({newMonth:te,direction:ae}),minDate:We,maxDate:dt,disabled:N,disablePast:v,disableFuture:f,reduceAnimations:S,timezone:Pe,labelId:ur,slots:X,slotProps:ie},ownerState:l}),vr=it(te=>{const ae=a.startOfMonth(te),be=a.endOfMonth(te),Fe=ft(te)?vw({utils:a,date:te,minDate:a.isBefore(G,ae)?ae:G,maxDate:a.isAfter(V,be)?be:V,disablePast:v,disableFuture:f,isDateDisabled:ft,timezone:Pe}):te;Fe?(Ee(Fe,"finish"),C==null||C(ae)):(he(),rt(ae)),Ie(Fe,!0)}),an=it(te=>{const ae=a.startOfYear(te),be=a.endOfYear(te),Fe=ft(te)?vw({utils:a,date:te,minDate:a.isBefore(G,ae)?ae:G,maxDate:a.isAfter(V,be)?be:V,disablePast:v,disableFuture:f,isDateDisabled:ft,timezone:Pe}):te;Fe?(Ee(Fe,"finish"),y==null||y(Fe)):(he(),rt(ae)),Ie(Fe,!0)}),po=it(te=>xe(te&&rR(a,te,ne??Be),"finish",ze));T.useEffect(()=>{ne!=null&&a.isValid(ne)&&rt(ne)},[ne]);const Zl=l,hc=vTe(Zl),fc={disablePast:v,disableFuture:f,maxDate:V,minDate:G},ol={disableHighlightToday:H,readOnly:I,disabled:N,timezone:Pe,gridLabelId:ur},cr=T.useRef(ze);T.useEffect(()=>{cr.current!==ze&&(Ae===cr.current&&Ke(ze,!0),cr.current=ze)},[Ae,Ke,ze]);const J=T.useMemo(()=>[ne],[ne]);return b.jsxs(mTe,L({ref:e,className:Re(hc.root,A),ownerState:Zl},we,{children:[b.jsx(Ye,L({},zt)),b.jsx(yTe,{reduceAnimations:S,className:hc.viewTransitionContainer,transKey:ze,ownerState:Zl,children:b.jsxs("div",{children:[ze==="year"&&b.jsx(eTe,L({},fc,ol,{value:ne,onChange:an,shouldDisableYear:x,hasFocus:Ir,onFocusedViewChange:te=>Ke("year",te),yearsPerRow:pe,referenceDate:Be})),ze==="month"&&b.jsx(HRe,L({},fc,ol,{hasFocus:Ir,className:A,value:ne,onChange:vr,shouldDisableMonth:_,onFocusedViewChange:te=>Ke("month",te),monthsPerRow:_e,referenceDate:Be})),ze==="day"&&b.jsx(sRe,L({},tt,fc,ol,{onMonthSwitchingAnimationEnd:yt,onFocusedDayChange:Ie,reduceAnimations:S,selectedDays:J,onSelectedDaysChange:po,shouldDisableDate:w,shouldDisableMonth:_,shouldDisableYear:x,hasFocus:Ir,onFocusedViewChange:te=>Ke("day",te),showDaysOutsideCurrentMonth:$,fixedWeekNumber:W,dayOfWeekFormatter:Y,displayWeekNumber:ue,components:Z,componentsProps:se,slots:X,slotProps:ie,loading:z,renderLoading:Q}))]})})]}))}),mm=({view:n,onViewChange:t,views:e,focusedView:r,onFocusedViewChange:i,value:o,defaultValue:a,referenceDate:s,onChange:l,className:u,classes:c,disableFuture:d,disablePast:p,minDate:h,maxDate:f,shouldDisableDate:v,shouldDisableMonth:g,shouldDisableYear:m,reduceAnimations:y,onMonthChange:C,monthsPerRow:S,onYearChange:w,yearsPerRow:_,defaultCalendarMonth:x,components:E,componentsProps:R,slots:P,slotProps:A,loading:N,renderLoading:I,disableHighlightToday:G,readOnly:V,disabled:H,showDaysOutsideCurrentMonth:j,dayOfWeekFormatter:B,sx:$,autoFocus:W,fixedWeekNumber:Y,displayWeekNumber:Z,timezone:se})=>b.jsx(CTe,{view:n,onViewChange:t,views:e.filter(_3),focusedView:r&&_3(r)?r:null,onFocusedViewChange:i,value:o,defaultValue:a,referenceDate:s,onChange:l,className:u,classes:c,disableFuture:d,disablePast:p,minDate:h,maxDate:f,shouldDisableDate:v,shouldDisableMonth:g,shouldDisableYear:m,reduceAnimations:y,onMonthChange:C,monthsPerRow:S,onYearChange:w,yearsPerRow:_,defaultCalendarMonth:x,components:E,componentsProps:R,slots:P,slotProps:A,loading:N,renderLoading:I,disableHighlightToday:G,readOnly:V,disabled:H,showDaysOutsideCurrentMonth:j,dayOfWeekFormatter:B,sx:$,autoFocus:W,fixedWeekNumber:Y,displayWeekNumber:Z,timezone:se}),Zq=T.forwardRef(function(t,e){var r,i,o,a;const s=dh(),l=qr(),u=Lq(t,"MuiDesktopDatePicker"),c=L({day:mm,month:mm,year:mm},u.viewRenderers),d=L({},u,{viewRenderers:c,format:sV(l,u,!1),yearsPerRow:(r=u.yearsPerRow)!=null?r:4,slots:L({openPickerIcon:hEe,field:qq},u.slots),slotProps:L({},u.slotProps,{field:h=>{var f;return L({},RP((f=u.slotProps)==null?void 0:f.field,h),Wq(u),{ref:e})},toolbar:L({hidden:!0},(i=u.slotProps)==null?void 0:i.toolbar)})}),{renderPicker:p}=SRe({props:d,valueManager:rd,valueType:"date",getOpenDialogAriaText:(o=(a=d.localeText)==null?void 0:a.openDatePickerDialogue)!=null?o:s.openDatePickerDialogue,validator:KP});return p()});Zq.propTypes={autoFocus:ce.bool,className:ce.string,closeOnSelect:ce.bool,components:ce.object,componentsProps:ce.object,dayOfWeekFormatter:ce.func,defaultCalendarMonth:ce.any,defaultValue:ce.any,disabled:ce.bool,disableFuture:ce.bool,disableHighlightToday:ce.bool,disableOpenPicker:ce.bool,disablePast:ce.bool,displayWeekNumber:ce.bool,fixedWeekNumber:ce.number,format:ce.string,formatDensity:ce.oneOf(["dense","spacious"]),inputRef:o9,label:ce.node,loading:ce.bool,localeText:ce.object,maxDate:ce.any,minDate:ce.any,monthsPerRow:ce.oneOf([3,4]),name:ce.string,onAccept:ce.func,onChange:ce.func,onClose:ce.func,onError:ce.func,onMonthChange:ce.func,onOpen:ce.func,onSelectedSectionsChange:ce.func,onViewChange:ce.func,onYearChange:ce.func,open:ce.bool,openTo:ce.oneOf(["day","month","year"]),orientation:ce.oneOf(["landscape","portrait"]),readOnly:ce.bool,reduceAnimations:ce.bool,referenceDate:ce.any,renderLoading:ce.func,selectedSections:ce.oneOfType([ce.oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),ce.number,ce.shape({endIndex:ce.number.isRequired,startIndex:ce.number.isRequired})]),shouldDisableDate:ce.func,shouldDisableMonth:ce.func,shouldDisableYear:ce.func,showDaysOutsideCurrentMonth:ce.bool,slotProps:ce.object,slots:ce.object,sx:ce.oneOfType([ce.arrayOf(ce.oneOfType([ce.func,ce.object,ce.bool])),ce.func,ce.object]),timezone:ce.string,value:ce.any,view:ce.oneOf(["day","month","year"]),viewRenderers:ce.shape({day:ce.func,month:ce.func,year:ce.func}),views:ce.arrayOf(ce.oneOf(["day","month","year"]).isRequired),yearsPerRow:ce.oneOf([3,4])};const STe=["props","getOpenDialogAriaText"],wTe=n=>{var t,e,r;let{props:i,getOpenDialogAriaText:o}=n,a=ve(n,STe);const{slots:s,slotProps:l,className:u,sx:c,format:d,formatDensity:p,timezone:h,name:f,label:v,inputRef:g,readOnly:m,disabled:y,localeText:C}=i,S=qr(),w=T.useRef(null),_=tc(),x=(t=l==null||(e=l.toolbar)==null?void 0:e.hidden)!=null?t:!1,{open:E,actions:R,layoutProps:P,renderCurrentView:A,fieldProps:N}=Vq(L({},a,{props:i,inputRef:w,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),I=s.field,G=jr({elementType:I,externalSlotProps:l==null?void 0:l.field,additionalProps:L({},N,x&&{id:_},!(y||m)&&{onClick:R.onOpen,onKeyDown:kEe(R.onOpen)},{readOnly:m??!0,disabled:y,className:u,sx:c,format:d,formatDensity:p,timezone:h,label:v,name:f}),ownerState:i});G.inputProps=L({},G.inputProps,{"aria-label":o(N.value,S)});const V=L({textField:s.textField},G.slots),H=(r=s.layout)!=null?r:Hq,j=or(w,G.inputRef,g);let B=_;x&&(v?B=`${_}-label`:B=void 0);const $=L({},l,{toolbar:L({},l==null?void 0:l.toolbar,{titleId:_}),mobilePaper:L({"aria-labelledby":B},l==null?void 0:l.mobilePaper)});return{renderPicker:()=>b.jsxs(HP,{localeText:C,children:[b.jsx(I,L({},G,{slots:V,slotProps:$,inputRef:j})),b.jsx(OEe,L({},R,{open:E,slots:s,slotProps:$,children:b.jsx(H,L({},P,$==null?void 0:$.layout,{slots:s,slotProps:$,children:A()}))}))]})}},Qq=T.forwardRef(function(t,e){var r,i,o;const a=dh(),s=qr(),l=Lq(t,"MuiMobileDatePicker"),u=L({day:mm,month:mm,year:mm},l.viewRenderers),c=L({},l,{viewRenderers:u,format:sV(s,l,!1),slots:L({field:qq},l.slots),slotProps:L({},l.slotProps,{field:p=>{var h;return L({},RP((h=l.slotProps)==null?void 0:h.field,p),Wq(l),{ref:e})},toolbar:L({hidden:!1},(r=l.slotProps)==null?void 0:r.toolbar)})}),{renderPicker:d}=wTe({props:c,valueManager:rd,valueType:"date",getOpenDialogAriaText:(i=(o=c.localeText)==null?void 0:o.openDatePickerDialogue)!=null?i:a.openDatePickerDialogue,validator:KP});return d()});Qq.propTypes={autoFocus:ce.bool,className:ce.string,closeOnSelect:ce.bool,components:ce.object,componentsProps:ce.object,dayOfWeekFormatter:ce.func,defaultCalendarMonth:ce.any,defaultValue:ce.any,disabled:ce.bool,disableFuture:ce.bool,disableHighlightToday:ce.bool,disableOpenPicker:ce.bool,disablePast:ce.bool,displayWeekNumber:ce.bool,fixedWeekNumber:ce.number,format:ce.string,formatDensity:ce.oneOf(["dense","spacious"]),inputRef:o9,label:ce.node,loading:ce.bool,localeText:ce.object,maxDate:ce.any,minDate:ce.any,monthsPerRow:ce.oneOf([3,4]),name:ce.string,onAccept:ce.func,onChange:ce.func,onClose:ce.func,onError:ce.func,onMonthChange:ce.func,onOpen:ce.func,onSelectedSectionsChange:ce.func,onViewChange:ce.func,onYearChange:ce.func,open:ce.bool,openTo:ce.oneOf(["day","month","year"]),orientation:ce.oneOf(["landscape","portrait"]),readOnly:ce.bool,reduceAnimations:ce.bool,referenceDate:ce.any,renderLoading:ce.func,selectedSections:ce.oneOfType([ce.oneOf(["all","day","hours","meridiem","minutes","month","seconds","weekDay","year"]),ce.number,ce.shape({endIndex:ce.number.isRequired,startIndex:ce.number.isRequired})]),shouldDisableDate:ce.func,shouldDisableMonth:ce.func,shouldDisableYear:ce.func,showDaysOutsideCurrentMonth:ce.bool,slotProps:ce.object,slots:ce.object,sx:ce.oneOfType([ce.arrayOf(ce.oneOfType([ce.func,ce.object,ce.bool])),ce.func,ce.object]),timezone:ce.string,value:ce.any,view:ce.oneOf(["day","month","year"]),viewRenderers:ce.shape({day:ce.func,month:ce.func,year:ce.func}),views:ce.arrayOf(ce.oneOf(["day","month","year"]).isRequired),yearsPerRow:ce.oneOf([3,4])};const _Te=["desktopModeMediaQuery"],Jq=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiDatePicker"}),{desktopModeMediaQuery:i=GEe}=r,o=ve(r,_Te);return r9(i,{defaultMatches:!0})?b.jsx(Zq,L({ref:e},o)):b.jsx(Qq,L({ref:e},o))});function ar(n){if(n===null||n===!0||n===!1)return NaN;var t=Number(n);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function ke(n,t){if(t.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+t.length+" present")}function je(n){ke(1,arguments);var t=Object.prototype.toString.call(n);return n instanceof Date||Qc(n)==="object"&&t==="[object Date]"?new Date(n.getTime()):typeof n=="number"||t==="[object Number]"?new Date(n):((typeof n=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function IE(n,t){ke(2,arguments);var e=je(n),r=ar(t);return isNaN(r)?new Date(NaN):(r&&e.setDate(e.getDate()+r),e)}function YP(n,t){ke(2,arguments);var e=je(n).getTime(),r=ar(t);return new Date(e+r)}function xTe(n,t){ke(2,arguments);var e=ar(t);return YP(n,e*1e3)}var bTe=6e4;function ETe(n,t){ke(2,arguments);var e=ar(t);return YP(n,e*bTe)}var OTe=36e5;function RTe(n,t){ke(2,arguments);var e=ar(t);return YP(n,e*OTe)}function TTe(n,t){ke(2,arguments);var e=ar(t),r=e*7;return IE(n,r)}function NE(n,t){ke(2,arguments);var e=je(n),r=ar(t);if(isNaN(r))return new Date(NaN);if(!r)return e;var i=e.getDate(),o=new Date(e.getTime());o.setMonth(e.getMonth()+r+1,0);var a=o.getDate();return i>=a?o:(e.setFullYear(o.getFullYear(),o.getMonth(),i),e)}function I3(n,t){ke(2,arguments);var e=ar(t);return NE(n,e*12)}function PTe(n,t){ke(2,arguments);var e=je(n),r=je(t);return e.getFullYear()-r.getFullYear()}function gw(n,t){ke(2,arguments);var e=je(n),r=je(t),i=e.getTime()-r.getTime();return i<0?-1:i>0?1:i}function DTe(n,t){ke(2,arguments);var e=je(n),r=je(t),i=gw(e,r),o=Math.abs(PTe(e,r));e.setFullYear(1584),r.setFullYear(1584);var a=gw(e,r)===-i,s=i*(o-Number(a));return s===0?0:s}function ATe(n,t){ke(2,arguments);var e=je(n),r=je(t),i=e.getFullYear()-r.getFullYear(),o=e.getMonth()-r.getMonth();return i*12+o}function QI(n){ke(1,arguments);var t=je(n);return t.setHours(23,59,59,999),t}function JI(n){ke(1,arguments);var t=je(n),e=t.getMonth();return t.setFullYear(t.getFullYear(),e+1,0),t.setHours(23,59,59,999),t}function MTe(n){ke(1,arguments);var t=je(n);return QI(t).getTime()===JI(t).getTime()}function eX(n,t){ke(2,arguments);var e=je(n),r=je(t),i=gw(e,r),o=Math.abs(ATe(e,r)),a;if(o<1)a=0;else{e.getMonth()===1&&e.getDate()>27&&e.setDate(30),e.setMonth(e.getMonth()-i*o);var s=gw(e,r)===-i;MTe(je(n))&&o===1&&gw(n,r)===1&&(s=!1),a=i*(o-Number(s))}return a===0?0:a}var N3={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},LTe="trunc";function y_(n){return n?N3[n]:N3[LTe]}function FTe(n,t,e){ke(2,arguments);var r=eX(n,t)/3;return y_(e==null?void 0:e.roundingMethod)(r)}function oR(n){var t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),n.getTime()-t.getTime()}function Zm(n){ke(1,arguments);var t=je(n);return t.setHours(0,0,0,0),t}var ITe=864e5;function NTe(n,t){ke(2,arguments);var e=Zm(n),r=Zm(t),i=e.getTime()-oR(e),o=r.getTime()-oR(r);return Math.round((i-o)/ITe)}function k3(n,t){var e=n.getFullYear()-t.getFullYear()||n.getMonth()-t.getMonth()||n.getDate()-t.getDate()||n.getHours()-t.getHours()||n.getMinutes()-t.getMinutes()||n.getSeconds()-t.getSeconds()||n.getMilliseconds()-t.getMilliseconds();return e<0?-1:e>0?1:e}function tX(n,t){ke(2,arguments);var e=je(n),r=je(t),i=k3(e,r),o=Math.abs(NTe(e,r));e.setDate(e.getDate()-i*o);var a=+(k3(e,r)===-i),s=i*(o-a);return s===0?0:s}function kTe(n,t,e){ke(2,arguments);var r=tX(n,t)/7;return y_(e==null?void 0:e.roundingMethod)(r)}var qP=6e4,XP=36e5,GTe=1e3;function ZP(n,t){return ke(2,arguments),je(n).getTime()-je(t).getTime()}function VTe(n,t,e){ke(2,arguments);var r=ZP(n,t)/XP;return y_(e==null?void 0:e.roundingMethod)(r)}function BTe(n,t,e){ke(2,arguments);var r=ZP(n,t)/qP;return y_(e==null?void 0:e.roundingMethod)(r)}function jTe(n,t,e){ke(2,arguments);var r=ZP(n,t)/1e3;return y_(e==null?void 0:e.roundingMethod)(r)}function HTe(n,t){var e;ke(1,arguments);var r=n||{},i=je(r.start),o=je(r.end),a=o.getTime();if(!(i.getTime()<=a))throw new RangeError("Invalid interval");var s=[],l=i;l.setHours(0,0,0,0);var u=Number((e=t==null?void 0:t.step)!==null&&e!==void 0?e:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=a;)s.push(je(l)),l.setDate(l.getDate()+u),l.setHours(0,0,0,0);return s}var $Te={};function nc(){return $Te}function lM(n,t){var e,r,i,o,a,s,l,u;ke(1,arguments);var c=nc(),d=ar((e=(r=(i=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(s=a.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&e!==void 0?e:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=je(n),h=p.getDay(),f=(h<d?-7:0)+6-(h-d);return p.setDate(p.getDate()+f),p.setHours(23,59,59,999),p}function uM(n){ke(1,arguments);var t=je(n),e=t.getFullYear();return t.setFullYear(e+1,0,0),t.setHours(23,59,59,999),t}function WTe(n){return ke(1,arguments),n instanceof Date||Qc(n)==="object"&&Object.prototype.toString.call(n)==="[object Date]"}function rX(n){if(ke(1,arguments),!WTe(n)&&typeof n!="number")return!1;var t=je(n);return!isNaN(Number(t))}function nX(n,t){ke(2,arguments);var e=ar(t);return YP(n,-e)}var UTe=864e5;function zTe(n){ke(1,arguments);var t=je(n),e=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),i=e-r;return Math.floor(i/UTe)+1}function Qm(n){ke(1,arguments);var t=1,e=je(n),r=e.getUTCDay(),i=(r<t?7:0)+r-t;return e.setUTCDate(e.getUTCDate()-i),e.setUTCHours(0,0,0,0),e}function iX(n){ke(1,arguments);var t=je(n),e=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(e+1,0,4),r.setUTCHours(0,0,0,0);var i=Qm(r),o=new Date(0);o.setUTCFullYear(e,0,4),o.setUTCHours(0,0,0,0);var a=Qm(o);return t.getTime()>=i.getTime()?e+1:t.getTime()>=a.getTime()?e:e-1}function KTe(n){ke(1,arguments);var t=iX(n),e=new Date(0);e.setUTCFullYear(t,0,4),e.setUTCHours(0,0,0,0);var r=Qm(e);return r}var YTe=6048e5;function oX(n){ke(1,arguments);var t=je(n),e=Qm(t).getTime()-KTe(t).getTime();return Math.round(e/YTe)+1}function lv(n,t){var e,r,i,o,a,s,l,u;ke(1,arguments);var c=nc(),d=ar((e=(r=(i=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(s=a.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&e!==void 0?e:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=je(n),h=p.getUTCDay(),f=(h<d?7:0)+h-d;return p.setUTCDate(p.getUTCDate()-f),p.setUTCHours(0,0,0,0),p}function fV(n,t){var e,r,i,o,a,s,l,u;ke(1,arguments);var c=je(n),d=c.getUTCFullYear(),p=nc(),h=ar((e=(r=(i=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(s=a.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:p.firstWeekContainsDate)!==null&&r!==void 0?r:(l=p.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&e!==void 0?e:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(d+1,0,h),f.setUTCHours(0,0,0,0);var v=lv(f,t),g=new Date(0);g.setUTCFullYear(d,0,h),g.setUTCHours(0,0,0,0);var m=lv(g,t);return c.getTime()>=v.getTime()?d+1:c.getTime()>=m.getTime()?d:d-1}function qTe(n,t){var e,r,i,o,a,s,l,u;ke(1,arguments);var c=nc(),d=ar((e=(r=(i=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(s=a.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&e!==void 0?e:1),p=fV(n,t),h=new Date(0);h.setUTCFullYear(p,0,d),h.setUTCHours(0,0,0,0);var f=lv(h,t);return f}var XTe=6048e5;function aX(n,t){ke(1,arguments);var e=je(n),r=lv(e,t).getTime()-qTe(e,t).getTime();return Math.round(r/XTe)+1}function jt(n,t){for(var e=n<0?"-":"",r=Math.abs(n).toString();r.length<t;)r="0"+r;return e+r}var ZTe={y:function(t,e){var r=t.getUTCFullYear(),i=r>0?r:1-r;return jt(e==="yy"?i%100:i,e.length)},M:function(t,e){var r=t.getUTCMonth();return e==="M"?String(r+1):jt(r+1,2)},d:function(t,e){return jt(t.getUTCDate(),e.length)},a:function(t,e){var r=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,e){return jt(t.getUTCHours()%12||12,e.length)},H:function(t,e){return jt(t.getUTCHours(),e.length)},m:function(t,e){return jt(t.getUTCMinutes(),e.length)},s:function(t,e){return jt(t.getUTCSeconds(),e.length)},S:function(t,e){var r=e.length,i=t.getUTCMilliseconds(),o=Math.floor(i*Math.pow(10,r-3));return jt(o,e.length)}};const Md=ZTe;var Uv={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},QTe={G:function(t,e,r){var i=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){var i=t.getUTCFullYear(),o=i>0?i:1-i;return r.ordinalNumber(o,{unit:"year"})}return Md.y(t,e)},Y:function(t,e,r,i){var o=fV(t,i),a=o>0?o:1-o;if(e==="YY"){var s=a%100;return jt(s,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):jt(a,e.length)},R:function(t,e){var r=iX(t);return jt(r,e.length)},u:function(t,e){var r=t.getUTCFullYear();return jt(r,e.length)},Q:function(t,e,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return jt(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return jt(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,r){var i=t.getUTCMonth();switch(e){case"M":case"MM":return Md.M(t,e);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,r){var i=t.getUTCMonth();switch(e){case"L":return String(i+1);case"LL":return jt(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,r,i){var o=aX(t,i);return e==="wo"?r.ordinalNumber(o,{unit:"week"}):jt(o,e.length)},I:function(t,e,r){var i=oX(t);return e==="Io"?r.ordinalNumber(i,{unit:"week"}):jt(i,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Md.d(t,e)},D:function(t,e,r){var i=zTe(t);return e==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):jt(i,e.length)},E:function(t,e,r){var i=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,r,i){var o=t.getUTCDay(),a=(o-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return jt(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,r,i){var o=t.getUTCDay(),a=(o-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return jt(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,r){var i=t.getUTCDay(),o=i===0?7:i;switch(e){case"i":return String(o);case"ii":return jt(o,e.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,r){var i=t.getUTCHours(),o=i/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,e,r){var i=t.getUTCHours(),o;switch(i===12?o=Uv.noon:i===0?o=Uv.midnight:o=i/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,e,r){var i=t.getUTCHours(),o;switch(i>=17?o=Uv.evening:i>=12?o=Uv.afternoon:i>=4?o=Uv.morning:o=Uv.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){var i=t.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Md.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Md.H(t,e)},K:function(t,e,r){var i=t.getUTCHours()%12;return e==="Ko"?r.ordinalNumber(i,{unit:"hour"}):jt(i,e.length)},k:function(t,e,r){var i=t.getUTCHours();return i===0&&(i=24),e==="ko"?r.ordinalNumber(i,{unit:"hour"}):jt(i,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Md.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Md.s(t,e)},S:function(t,e){return Md.S(t,e)},X:function(t,e,r,i){var o=i._originalDate||t,a=o.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return V3(a);case"XXXX":case"XX":return rf(a);case"XXXXX":case"XXX":default:return rf(a,":")}},x:function(t,e,r,i){var o=i._originalDate||t,a=o.getTimezoneOffset();switch(e){case"x":return V3(a);case"xxxx":case"xx":return rf(a);case"xxxxx":case"xxx":default:return rf(a,":")}},O:function(t,e,r,i){var o=i._originalDate||t,a=o.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+G3(a,":");case"OOOO":default:return"GMT"+rf(a,":")}},z:function(t,e,r,i){var o=i._originalDate||t,a=o.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+G3(a,":");case"zzzz":default:return"GMT"+rf(a,":")}},t:function(t,e,r,i){var o=i._originalDate||t,a=Math.floor(o.getTime()/1e3);return jt(a,e.length)},T:function(t,e,r,i){var o=i._originalDate||t,a=o.getTime();return jt(a,e.length)}};function G3(n,t){var e=n>0?"-":"+",r=Math.abs(n),i=Math.floor(r/60),o=r%60;if(o===0)return e+String(i);var a=t||"";return e+String(i)+a+jt(o,2)}function V3(n,t){if(n%60===0){var e=n>0?"-":"+";return e+jt(Math.abs(n)/60,2)}return rf(n,t)}function rf(n,t){var e=t||"",r=n>0?"-":"+",i=Math.abs(n),o=jt(Math.floor(i/60),2),a=jt(i%60,2);return r+o+e+a}const JTe=QTe;var B3=function(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},sX=function(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},ePe=function(t,e){var r=t.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return B3(t,e);var a;switch(i){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",B3(i,e)).replace("{{time}}",sX(o,e))},tPe={p:sX,P:ePe};const e1=tPe;var rPe=["D","DD"],nPe=["YY","YYYY"];function lX(n){return rPe.indexOf(n)!==-1}function uX(n){return nPe.indexOf(n)!==-1}function aR(n,t,e){if(n==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var iPe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},oPe=function(t,e,r){var i,o=iPe[t];return typeof o=="string"?i=o:e===1?i=o.one:i=o.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const cX=oPe;function ym(n){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.width?String(t.width):n.defaultWidth,r=n.formats[e]||n.formats[n.defaultWidth];return r}}var aPe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},sPe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lPe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},uPe={date:ym({formats:aPe,defaultWidth:"full"}),time:ym({formats:sPe,defaultWidth:"full"}),dateTime:ym({formats:lPe,defaultWidth:"full"})};const cPe=uPe;var dPe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},pPe=function(t,e,r,i){return dPe[t]};const dX=pPe;function uC(n){return function(t,e){var r=e!=null&&e.context?String(e.context):"standalone",i;if(r==="formatting"&&n.formattingValues){var o=n.defaultFormattingWidth||n.defaultWidth,a=e!=null&&e.width?String(e.width):o;i=n.formattingValues[a]||n.formattingValues[o]}else{var s=n.defaultWidth,l=e!=null&&e.width?String(e.width):n.defaultWidth;i=n.values[l]||n.values[s]}var u=n.argumentCallback?n.argumentCallback(t):t;return i[u]}}var hPe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},fPe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},vPe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gPe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mPe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yPe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},CPe=function(t,e){var r=Number(t),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},SPe={ordinalNumber:CPe,era:uC({values:hPe,defaultWidth:"wide"}),quarter:uC({values:fPe,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:uC({values:vPe,defaultWidth:"wide"}),day:uC({values:gPe,defaultWidth:"wide"}),dayPeriod:uC({values:mPe,defaultWidth:"wide",formattingValues:yPe,defaultFormattingWidth:"wide"})};const pX=SPe;function cC(n){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],o=t.match(i);if(!o)return null;var a=o[0],s=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(s)?_Pe(s,function(d){return d.test(a)}):wPe(s,function(d){return d.test(a)}),u;u=n.valueCallback?n.valueCallback(l):l,u=e.valueCallback?e.valueCallback(u):u;var c=t.slice(a.length);return{value:u,rest:c}}}function wPe(n,t){for(var e in n)if(n.hasOwnProperty(e)&&t(n[e]))return e}function _Pe(n,t){for(var e=0;e<n.length;e++)if(t(n[e]))return e}function xPe(n){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(n.matchPattern);if(!r)return null;var i=r[0],o=t.match(n.parsePattern);if(!o)return null;var a=n.valueCallback?n.valueCallback(o[0]):o[0];a=e.valueCallback?e.valueCallback(a):a;var s=t.slice(i.length);return{value:a,rest:s}}}var bPe=/^(\d+)(th|st|nd|rd)?/i,EPe=/\d+/i,OPe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},RPe={any:[/^b/i,/^(a|c)/i]},TPe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},PPe={any:[/1/i,/2/i,/3/i,/4/i]},DPe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},APe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},MPe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},LPe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},FPe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},IPe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},NPe={ordinalNumber:xPe({matchPattern:bPe,parsePattern:EPe,valueCallback:function(t){return parseInt(t,10)}}),era:cC({matchPatterns:OPe,defaultMatchWidth:"wide",parsePatterns:RPe,defaultParseWidth:"any"}),quarter:cC({matchPatterns:TPe,defaultMatchWidth:"wide",parsePatterns:PPe,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:cC({matchPatterns:DPe,defaultMatchWidth:"wide",parsePatterns:APe,defaultParseWidth:"any"}),day:cC({matchPatterns:MPe,defaultMatchWidth:"wide",parsePatterns:LPe,defaultParseWidth:"any"}),dayPeriod:cC({matchPatterns:FPe,defaultMatchWidth:"any",parsePatterns:IPe,defaultParseWidth:"any"})};const hX=NPe;var kPe={code:"en-US",formatDistance:cX,formatLong:cPe,formatRelative:dX,localize:pX,match:hX,options:{weekStartsOn:0,firstWeekContainsDate:1}};const vV=kPe;var GPe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,VPe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,BPe=/^'([^]*?)'?$/,jPe=/''/g,HPe=/[a-zA-Z]/;function $Pe(n,t,e){var r,i,o,a,s,l,u,c,d,p,h,f,v,g,m,y,C,S;ke(2,arguments);var w=String(t),_=nc(),x=(r=(i=e==null?void 0:e.locale)!==null&&i!==void 0?i:_.locale)!==null&&r!==void 0?r:vV,E=ar((o=(a=(s=(l=e==null?void 0:e.firstWeekContainsDate)!==null&&l!==void 0?l:e==null||(u=e.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&s!==void 0?s:_.firstWeekContainsDate)!==null&&a!==void 0?a:(d=_.locale)===null||d===void 0||(p=d.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var R=ar((h=(f=(v=(g=e==null?void 0:e.weekStartsOn)!==null&&g!==void 0?g:e==null||(m=e.locale)===null||m===void 0||(y=m.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&v!==void 0?v:_.weekStartsOn)!==null&&f!==void 0?f:(C=_.locale)===null||C===void 0||(S=C.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&h!==void 0?h:0);if(!(R>=0&&R<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!x.localize)throw new RangeError("locale must contain localize property");if(!x.formatLong)throw new RangeError("locale must contain formatLong property");var P=je(n);if(!rX(P))throw new RangeError("Invalid time value");var A=oR(P),N=nX(P,A),I={firstWeekContainsDate:E,weekStartsOn:R,locale:x,_originalDate:P},G=w.match(VPe).map(function(V){var H=V[0];if(H==="p"||H==="P"){var j=e1[H];return j(V,x.formatLong)}return V}).join("").match(GPe).map(function(V){if(V==="''")return"'";var H=V[0];if(H==="'")return WPe(V);var j=JTe[H];if(j)return!(e!=null&&e.useAdditionalWeekYearTokens)&&uX(V)&&aR(V,t,String(n)),!(e!=null&&e.useAdditionalDayOfYearTokens)&&lX(V)&&aR(V,t,String(n)),j(N,V,x.localize,I);if(H.match(HPe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+H+"`");return V}).join("");return G}function WPe(n){var t=n.match(BPe);return t?t[1].replace(jPe,"'"):n}function UPe(n){ke(1,arguments);var t=je(n),e=t.getDate();return e}function fX(n){ke(1,arguments);var t=je(n),e=t.getFullYear(),r=t.getMonth(),i=new Date(0);return i.setFullYear(e,r+1,0),i.setHours(0,0,0,0),i.getDate()}function zPe(n){ke(1,arguments);var t=je(n),e=t.getHours();return e}function KPe(n){ke(1,arguments);var t=je(n),e=t.getMinutes();return e}function YPe(n){ke(1,arguments);var t=je(n),e=t.getMonth();return e}function qPe(n){ke(1,arguments);var t=je(n),e=t.getSeconds();return e}function XPe(n){ke(1,arguments);var t=je(n),e=t.getMilliseconds();return e}function jf(n,t){var e,r,i,o,a,s,l,u;ke(1,arguments);var c=nc(),d=ar((e=(r=(i=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(s=a.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&e!==void 0?e:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=je(n),h=p.getDay(),f=(h<d?7:0)+h-d;return p.setDate(p.getDate()-f),p.setHours(0,0,0,0),p}function ZPe(n,t){var e,r,i,o,a,s,l,u;ke(1,arguments);var c=je(n),d=c.getFullYear(),p=nc(),h=ar((e=(r=(i=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(s=a.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:p.firstWeekContainsDate)!==null&&r!==void 0?r:(l=p.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&e!==void 0?e:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setFullYear(d+1,0,h),f.setHours(0,0,0,0);var v=jf(f,t),g=new Date(0);g.setFullYear(d,0,h),g.setHours(0,0,0,0);var m=jf(g,t);return c.getTime()>=v.getTime()?d+1:c.getTime()>=m.getTime()?d:d-1}function QPe(n,t){var e,r,i,o,a,s,l,u;ke(1,arguments);var c=nc(),d=ar((e=(r=(i=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(s=a.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&e!==void 0?e:1),p=ZPe(n,t),h=new Date(0);h.setFullYear(p,0,d),h.setHours(0,0,0,0);var f=jf(h,t);return f}var JPe=6048e5;function eDe(n,t){ke(1,arguments);var e=je(n),r=jf(e,t).getTime()-QPe(e,t).getTime();return Math.round(r/JPe)+1}function tDe(n){return ke(1,arguments),je(n).getFullYear()}function cM(n,t){ke(2,arguments);var e=je(n),r=je(t);return e.getTime()>r.getTime()}function dC(n,t){ke(2,arguments);var e=je(n),r=je(t);return e.getTime()<r.getTime()}function rDe(n,t){ke(2,arguments);var e=je(n),r=je(t);return e.getTime()===r.getTime()}function nDe(n,t){ke(2,arguments);var e=Zm(n),r=Zm(t);return e.getTime()===r.getTime()}function iDe(n,t){ke(2,arguments);var e=je(n),r=je(t);return e.getFullYear()===r.getFullYear()}function oDe(n,t){ke(2,arguments);var e=je(n),r=je(t);return e.getFullYear()===r.getFullYear()&&e.getMonth()===r.getMonth()}function j3(n){ke(1,arguments);var t=je(n);return t.setMinutes(0,0,0),t}function aDe(n,t){ke(2,arguments);var e=j3(n),r=j3(t);return e.getTime()===r.getTime()}function H3(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function sDe(n,t){if(n){if(typeof n=="string")return H3(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return H3(n,t)}}function $3(n,t){var e=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=sDe(n))||t&&n&&typeof n.length=="number"){e&&(n=e);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,a=!1,s;return{s:function(){e=e.call(n)},n:function(){var u=e.next();return o=u.done,u},e:function(u){a=!0,s=u},f:function(){try{!o&&e.return!=null&&e.return()}finally{if(a)throw s}}}}function lDe(n,t){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n}function sr(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&jO(n,t)}function sR(n){return sR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sR(n)}function vX(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vX=function(){return!!n})()}function uDe(n,t){if(t&&(Qc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qe(n)}function lr(n){var t=vX();return function(){var r=sR(n),i;if(t){var o=sR(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return uDe(this,i)}}function qt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function W3(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,c9(r.key),r)}}function Xt(n,t,e){return t&&W3(n.prototype,t),e&&W3(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}var cDe=10,gX=function(){function n(){qt(this,n),Ze(this,"priority",void 0),Ze(this,"subPriority",0)}return Xt(n,[{key:"validate",value:function(e,r){return!0}}]),n}(),dDe=function(n){sr(e,n);var t=lr(e);function e(r,i,o,a,s){var l;return qt(this,e),l=t.call(this),l.value=r,l.validateValue=i,l.setValue=o,l.priority=a,s&&(l.subPriority=s),l}return Xt(e,[{key:"validate",value:function(i,o){return this.validateValue(i,this.value,o)}},{key:"set",value:function(i,o,a){return this.setValue(i,o,this.value,a)}}]),e}(gX),pDe=function(n){sr(e,n);var t=lr(e);function e(){var r;qt(this,e);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Ze(Qe(r),"priority",cDe),Ze(Qe(r),"subPriority",-1),r}return Xt(e,[{key:"set",value:function(i,o){if(o.timestampIsSet)return i;var a=new Date(0);return a.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),a.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),a}}]),e}(gX),wr=function(){function n(){qt(this,n),Ze(this,"incompatibleTokens",void 0),Ze(this,"priority",void 0),Ze(this,"subPriority",void 0)}return Xt(n,[{key:"run",value:function(e,r,i,o){var a=this.parse(e,r,i,o);return a?{setter:new dDe(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}},{key:"validate",value:function(e,r,i){return!0}}]),n}(),hDe=function(n){sr(e,n);var t=lr(e);function e(){var r;qt(this,e);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Ze(Qe(r),"priority",140),Ze(Qe(r),"incompatibleTokens",["R","u","t","T"]),r}return Xt(e,[{key:"parse",value:function(i,o,a){switch(o){case"G":case"GG":case"GGG":return a.era(i,{width:"abbreviated"})||a.era(i,{width:"narrow"});case"GGGGG":return a.era(i,{width:"narrow"});case"GGGG":default:return a.era(i,{width:"wide"})||a.era(i,{width:"abbreviated"})||a.era(i,{width:"narrow"})}}},{key:"set",value:function(i,o,a){return o.era=a,i.setUTCFullYear(a,0,1),i.setUTCHours(0,0,0,0),i}}]),e}(wr),Vn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ru={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Bn(n,t){return n&&{value:t(n.value),rest:n.rest}}function vn(n,t){var e=t.match(n);return e?{value:parseInt(e[0],10),rest:t.slice(e[0].length)}:null}function Tu(n,t){var e=t.match(n);if(!e)return null;if(e[0]==="Z")return{value:0,rest:t.slice(1)};var r=e[1]==="+"?1:-1,i=e[2]?parseInt(e[2],10):0,o=e[3]?parseInt(e[3],10):0,a=e[5]?parseInt(e[5],10):0;return{value:r*(i*XP+o*qP+a*GTe),rest:t.slice(e[0].length)}}function mX(n){return vn(Vn.anyDigitsSigned,n)}function Pn(n,t){switch(n){case 1:return vn(Vn.singleDigit,t);case 2:return vn(Vn.twoDigits,t);case 3:return vn(Vn.threeDigits,t);case 4:return vn(Vn.fourDigits,t);default:return vn(new RegExp("^\\d{1,"+n+"}"),t)}}function lR(n,t){switch(n){case 1:return vn(Vn.singleDigitSigned,t);case 2:return vn(Vn.twoDigitsSigned,t);case 3:return vn(Vn.threeDigitsSigned,t);case 4:return vn(Vn.fourDigitsSigned,t);default:return vn(new RegExp("^-?\\d{1,"+n+"}"),t)}}function gV(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function yX(n,t){var e=t>0,r=e?t:1-t,i;if(r<=50)i=n||100;else{var o=r+50,a=Math.floor(o/100)*100,s=n>=o%100;i=n+a-(s?100:0)}return e?i:1-i}function CX(n){return n%400===0||n%4===0&&n%100!==0}var fDe=function(n){sr(e,n);var t=lr(e);function e(){var r;qt(this,e);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Ze(Qe(r),"priority",130),Ze(Qe(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Xt(e,[{key:"parse",value:function(i,o,a){var s=function(u){return{year:u,isTwoDigitYear:o==="yy"}};switch(o){case"y":return Bn(Pn(4,i),s);case"yo":return Bn(a.ordinalNumber(i,{unit:"year"}),s);default:return Bn(Pn(o.length,i),s)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,a){var s=i.getUTCFullYear();if(a.isTwoDigitYear){var l=yX(a.year,s);return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}var u=!("era"in o)||o.era===1?a.year:1-a.year;return i.setUTCFullYear(u,0,1),i.setUTCHours(0,0,0,0),i}}]),e}(wr),vDe=function(n){sr(e,n);var t=lr(e);function e(){var r;qt(this,e);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Ze(Qe(r),"priority",130),Ze(Qe(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Xt(e,[{key:"parse",value:function(i,o,a){var s=function(u){return{year:u,isTwoDigitYear:o==="YY"}};switch(o){case"Y":return Bn(Pn(4,i),s);case"Yo":return Bn(a.ordinalNumber(i,{unit:"year"}),s);default:return Bn(Pn(o.length,i),s)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,a,s){var l=fV(i,s);if(a.isTwoDigitYear){var u=yX(a.year,l);return i.setUTCFullYear(u,0,s.firstWeekContainsDate),i.setUTCHours(0,0,0,0),lv(i,s)}var c=!("era"in o)||o.era===1?a.year:1-a.year;return i.setUTCFullYear(c,0,s.firstWeekContainsDate),i.setUTCHours(0,0,0,0),lv(i,s)}}]),e}(wr),gDe=function(n){sr(e,n);var t=lr(e);function e(){var r;qt(this,e);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Ze(Qe(r),"priority",130),Ze(Qe(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Xt(e,[{key:"parse",value:function(i,o){return lR(o==="R"?4:o.length,i)}},{key:"set",value:function(i,o,a){var s=new Date(0);return s.setUTCFullYear(a,0,4),s.setUTCHours(0,0,0,0),Qm(s)}}]),e}(wr),mDe=function(n){sr(e,n);var t=lr(e);function e(){var r;qt(this,e);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Ze(Qe(r),"priority",130),Ze(Qe(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Xt(e,[{key:"parse",value:function(i,o){return lR(o==="u"?4:o.length,i)}},{key:"set",value:function(i,o,a){return i.setUTCFullYear(a,0,1),i.setUTCHours(0,0,0,0),i}}]),e}(wr),yDe=function(n){sr(e,n);var t=lr(e);function e(){var r;qt(this,e);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Ze(Qe(r),"priority",120),Ze(Qe(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Xt(e,[{key:"parse",value:function(i,o,a){switch(o){case"Q":case"QQ":return Pn(o.length,i);case"Qo":return a.ordinalNumber(i,{unit:"quarter"});case"QQQ":return a.quarter(i,{width:"abbreviated",context:"formatting"})||a.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(i,{width:"wide",context:"formatting"})||a.quarter(i,{width:"abbreviated",context:"formatting"})||a.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,a){return i.setUTCMonth((a-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),e}(wr),CDe=function(n){sr(e,n);var t=lr(e);function e(){var r;qt(this,e);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Ze(Qe(r),"priority",120),Ze(Qe(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Xt(e,[{key:"parse",value:function(i,o,a){switch(o){case"q":case"qq":return Pn(o.length,i);case"qo":return a.ordinalNumber(i,{unit:"quarter"});case"qqq":return a.quarter(i,{width:"abbreviated",context:"standalone"})||a.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(i,{width:"wide",context:"standalone"})||a.quarter(i,{width:"abbreviated",context:"standalone"})||a.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,a){return i.setUTCMonth((a-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),e}(wr),SDe=function(n){sr(e,n);var t=lr(e);function e(){var r;qt(this,e);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Ze(Qe(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Ze(Qe(r),"priority",110),r}return Xt(e,[{key:"parse",value:function(i,o,a){var s=function(u){return u-1};switch(o){case"M":return Bn(vn(Vn.month,i),s);case"MM":return Bn(Pn(2,i),s);case"Mo":return Bn(a.ordinalNumber(i,{unit:"month"}),s);case"MMM":return a.month(i,{width:"abbreviated",context:"formatting"})||a.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(i,{width:"wide",context:"formatting"})||a.month(i,{width:"abbreviated",context:"formatting"})||a.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,a){return i.setUTCMonth(a,1),i.setUTCHours(0,0,0,0),i}}]),e}(wr),wDe=function(n){sr(e,n);var t=lr(e);function e(){var r;qt(this,e);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Ze(Qe(r),"priority",110),Ze(Qe(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Xt(e,[{key:"parse",value:function(i,o,a){var s=function(u){return u-1};switch(o){case"L":return Bn(vn(Vn.month,i),s);case"LL":return Bn(Pn(2,i),s);case"Lo":return Bn(a.ordinalNumber(i,{unit:"month"}),s);case"LLL":return a.month(i,{width:"abbreviated",context:"standalone"})||a.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(i,{width:"wide",context:"standalone"})||a.month(i,{width:"abbreviated",context:"standalone"})||a.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,a){return i.setUTCMonth(a,1),i.setUTCHours(0,0,0,0),i}}]),e}(wr);function _De(n,t,e){ke(2,arguments);var r=je(n),i=ar(t),o=aX(r,e)-i;return r.setUTCDate(r.getUTCDate()-o*7),r}var xDe=function(n){sr(e,n);var t=lr(e);function e(){var r;qt(this,e);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Ze(Qe(r),"priority",100),Ze(Qe(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Xt(e,[{key:"parse",value:function(i,o,a){switch(o){case"w":return vn(Vn.week,i);case"wo":return a.ordinalNumber(i,{unit:"week"});default:return Pn(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,a,s){return lv(_De(i,a,s),s)}}]),e}(wr);function bDe(n,t){ke(2,arguments);var e=je(n),r=ar(t),i=oX(e)-r;return e.setUTCDate(e.getUTCDate()-i*7),e}var EDe=function(n){sr(e,n);var t=lr(e);function e(){var r;qt(this,e);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Ze(Qe(r),"priority",100),Ze(Qe(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Xt(e,[{key:"parse",value:function(i,o,a){switch(o){case"I":return vn(Vn.week,i);case"Io":return a.ordinalNumber(i,{unit:"week"});default:return Pn(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,a){return Qm(bDe(i,a))}}]),e}(wr),ODe=[31,28,31,30,31,30,31,31,30,31,30,31],RDe=[31,29,31,30,31,30,31,31,30,31,30,31],TDe=function(n){sr(e,n);var t=lr(e);function e(){var r;qt(this,e);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Ze(Qe(r),"priority",90),Ze(Qe(r),"subPriority",1),Ze(Qe(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Xt(e,[{key:"parse",value:function(i,o,a){switch(o){case"d":return vn(Vn.date,i);case"do":return a.ordinalNumber(i,{unit:"date"});default:return Pn(o.length,i)}}},{key:"validate",value:function(i,o){var a=i.getUTCFullYear(),s=CX(a),l=i.getUTCMonth();return s?o>=1&&o<=RDe[l]:o>=1&&o<=ODe[l]}},{key:"set",value:function(i,o,a){return i.setUTCDate(a),i.setUTCHours(0,0,0,0),i}}]),e}(wr),PDe=function(n){sr(e,n);var t=lr(e);function e(){var r;qt(this,e);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Ze(Qe(r),"priority",90),Ze(Qe(r),"subpriority",1),Ze(Qe(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Xt(e,[{key:"parse",value:function(i,o,a){switch(o){case"D":case"DD":return vn(Vn.dayOfYear,i);case"Do":return a.ordinalNumber(i,{unit:"date"});default:return Pn(o.length,i)}}},{key:"validate",value:function(i,o){var a=i.getUTCFullYear(),s=CX(a);return s?o>=1&&o<=366:o>=1&&o<=365}},{key:"set",value:function(i,o,a){return i.setUTCMonth(0,a),i.setUTCHours(0,0,0,0),i}}]),e}(wr);function mV(n,t,e){var r,i,o,a,s,l,u,c;ke(2,arguments);var d=nc(),p=ar((r=(i=(o=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(s=e.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&o!==void 0?o:d.weekStartsOn)!==null&&i!==void 0?i:(u=d.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=je(n),f=ar(t),v=h.getUTCDay(),g=f%7,m=(g+7)%7,y=(m<p?7:0)+f-v;return h.setUTCDate(h.getUTCDate()+y),h}var DDe=function(n){sr(e,n);var t=lr(e);function e(){var r;qt(this,e);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Ze(Qe(r),"priority",90),Ze(Qe(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Xt(e,[{key:"parse",value:function(i,o,a){switch(o){case"E":case"EE":case"EEE":return a.day(i,{width:"abbreviated",context:"formatting"})||a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(i,{width:"wide",context:"formatting"})||a.day(i,{width:"abbreviated",context:"formatting"})||a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,a,s){return i=mV(i,a,s),i.setUTCHours(0,0,0,0),i}}]),e}(wr),ADe=function(n){sr(e,n);var t=lr(e);function e(){var r;qt(this,e);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Ze(Qe(r),"priority",90),Ze(Qe(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Xt(e,[{key:"parse",value:function(i,o,a,s){var l=function(c){var d=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+d};switch(o){case"e":case"ee":return Bn(Pn(o.length,i),l);case"eo":return Bn(a.ordinalNumber(i,{unit:"day"}),l);case"eee":return a.day(i,{width:"abbreviated",context:"formatting"})||a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"});case"eeeee":return a.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(i,{width:"wide",context:"formatting"})||a.day(i,{width:"abbreviated",context:"formatting"})||a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,a,s){return i=mV(i,a,s),i.setUTCHours(0,0,0,0),i}}]),e}(wr),MDe=function(n){sr(e,n);var t=lr(e);function e(){var r;qt(this,e);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Ze(Qe(r),"priority",90),Ze(Qe(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Xt(e,[{key:"parse",value:function(i,o,a,s){var l=function(c){var d=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+d};switch(o){case"c":case"cc":return Bn(Pn(o.length,i),l);case"co":return Bn(a.ordinalNumber(i,{unit:"day"}),l);case"ccc":return a.day(i,{width:"abbreviated",context:"standalone"})||a.day(i,{width:"short",context:"standalone"})||a.day(i,{width:"narrow",context:"standalone"});case"ccccc":return a.day(i,{width:"narrow",context:"standalone"});case"cccccc":return a.day(i,{width:"short",context:"standalone"})||a.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(i,{width:"wide",context:"standalone"})||a.day(i,{width:"abbreviated",context:"standalone"})||a.day(i,{width:"short",context:"standalone"})||a.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,a,s){return i=mV(i,a,s),i.setUTCHours(0,0,0,0),i}}]),e}(wr);function LDe(n,t){ke(2,arguments);var e=ar(t);e%7===0&&(e=e-7);var r=1,i=je(n),o=i.getUTCDay(),a=e%7,s=(a+7)%7,l=(s<r?7:0)+e-o;return i.setUTCDate(i.getUTCDate()+l),i}var FDe=function(n){sr(e,n);var t=lr(e);function e(){var r;qt(this,e);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Ze(Qe(r),"priority",90),Ze(Qe(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Xt(e,[{key:"parse",value:function(i,o,a){var s=function(u){return u===0?7:u};switch(o){case"i":case"ii":return Pn(o.length,i);case"io":return a.ordinalNumber(i,{unit:"day"});case"iii":return Bn(a.day(i,{width:"abbreviated",context:"formatting"})||a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"}),s);case"iiiii":return Bn(a.day(i,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Bn(a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Bn(a.day(i,{width:"wide",context:"formatting"})||a.day(i,{width:"abbreviated",context:"formatting"})||a.day(i,{width:"short",context:"formatting"})||a.day(i,{width:"narrow",context:"formatting"}),s)}}},{key:"validate",value:function(i,o){return o>=1&&o<=7}},{key:"set",value:function(i,o,a){return i=LDe(i,a),i.setUTCHours(0,0,0,0),i}}]),e}(wr),IDe=function(n){sr(e,n);var t=lr(e);function e(){var r;qt(this,e);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Ze(Qe(r),"priority",80),Ze(Qe(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Xt(e,[{key:"parse",value:function(i,o,a){switch(o){case"a":case"aa":case"aaa":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"})||a.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})||a.dayPeriod(i,{width:"abbreviated",context:"formatting"})||a.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,a){return i.setUTCHours(gV(a),0,0,0),i}}]),e}(wr),NDe=function(n){sr(e,n);var t=lr(e);function e(){var r;qt(this,e);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Ze(Qe(r),"priority",80),Ze(Qe(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Xt(e,[{key:"parse",value:function(i,o,a){switch(o){case"b":case"bb":case"bbb":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"})||a.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})||a.dayPeriod(i,{width:"abbreviated",context:"formatting"})||a.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,a){return i.setUTCHours(gV(a),0,0,0),i}}]),e}(wr),kDe=function(n){sr(e,n);var t=lr(e);function e(){var r;qt(this,e);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Ze(Qe(r),"priority",80),Ze(Qe(r),"incompatibleTokens",["a","b","t","T"]),r}return Xt(e,[{key:"parse",value:function(i,o,a){switch(o){case"B":case"BB":case"BBB":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"})||a.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})||a.dayPeriod(i,{width:"abbreviated",context:"formatting"})||a.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,a){return i.setUTCHours(gV(a),0,0,0),i}}]),e}(wr),GDe=function(n){sr(e,n);var t=lr(e);function e(){var r;qt(this,e);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Ze(Qe(r),"priority",70),Ze(Qe(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Xt(e,[{key:"parse",value:function(i,o,a){switch(o){case"h":return vn(Vn.hour12h,i);case"ho":return a.ordinalNumber(i,{unit:"hour"});default:return Pn(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=12}},{key:"set",value:function(i,o,a){var s=i.getUTCHours()>=12;return s&&a<12?i.setUTCHours(a+12,0,0,0):!s&&a===12?i.setUTCHours(0,0,0,0):i.setUTCHours(a,0,0,0),i}}]),e}(wr),VDe=function(n){sr(e,n);var t=lr(e);function e(){var r;qt(this,e);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Ze(Qe(r),"priority",70),Ze(Qe(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Xt(e,[{key:"parse",value:function(i,o,a){switch(o){case"H":return vn(Vn.hour23h,i);case"Ho":return a.ordinalNumber(i,{unit:"hour"});default:return Pn(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=23}},{key:"set",value:function(i,o,a){return i.setUTCHours(a,0,0,0),i}}]),e}(wr),BDe=function(n){sr(e,n);var t=lr(e);function e(){var r;qt(this,e);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Ze(Qe(r),"priority",70),Ze(Qe(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Xt(e,[{key:"parse",value:function(i,o,a){switch(o){case"K":return vn(Vn.hour11h,i);case"Ko":return a.ordinalNumber(i,{unit:"hour"});default:return Pn(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,a){var s=i.getUTCHours()>=12;return s&&a<12?i.setUTCHours(a+12,0,0,0):i.setUTCHours(a,0,0,0),i}}]),e}(wr),jDe=function(n){sr(e,n);var t=lr(e);function e(){var r;qt(this,e);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Ze(Qe(r),"priority",70),Ze(Qe(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Xt(e,[{key:"parse",value:function(i,o,a){switch(o){case"k":return vn(Vn.hour24h,i);case"ko":return a.ordinalNumber(i,{unit:"hour"});default:return Pn(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=24}},{key:"set",value:function(i,o,a){var s=a<=24?a%24:a;return i.setUTCHours(s,0,0,0),i}}]),e}(wr),HDe=function(n){sr(e,n);var t=lr(e);function e(){var r;qt(this,e);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Ze(Qe(r),"priority",60),Ze(Qe(r),"incompatibleTokens",["t","T"]),r}return Xt(e,[{key:"parse",value:function(i,o,a){switch(o){case"m":return vn(Vn.minute,i);case"mo":return a.ordinalNumber(i,{unit:"minute"});default:return Pn(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,a){return i.setUTCMinutes(a,0,0),i}}]),e}(wr),$De=function(n){sr(e,n);var t=lr(e);function e(){var r;qt(this,e);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Ze(Qe(r),"priority",50),Ze(Qe(r),"incompatibleTokens",["t","T"]),r}return Xt(e,[{key:"parse",value:function(i,o,a){switch(o){case"s":return vn(Vn.second,i);case"so":return a.ordinalNumber(i,{unit:"second"});default:return Pn(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,a){return i.setUTCSeconds(a,0),i}}]),e}(wr),WDe=function(n){sr(e,n);var t=lr(e);function e(){var r;qt(this,e);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Ze(Qe(r),"priority",30),Ze(Qe(r),"incompatibleTokens",["t","T"]),r}return Xt(e,[{key:"parse",value:function(i,o){var a=function(l){return Math.floor(l*Math.pow(10,-o.length+3))};return Bn(Pn(o.length,i),a)}},{key:"set",value:function(i,o,a){return i.setUTCMilliseconds(a),i}}]),e}(wr),UDe=function(n){sr(e,n);var t=lr(e);function e(){var r;qt(this,e);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Ze(Qe(r),"priority",10),Ze(Qe(r),"incompatibleTokens",["t","T","x"]),r}return Xt(e,[{key:"parse",value:function(i,o){switch(o){case"X":return Tu(Ru.basicOptionalMinutes,i);case"XX":return Tu(Ru.basic,i);case"XXXX":return Tu(Ru.basicOptionalSeconds,i);case"XXXXX":return Tu(Ru.extendedOptionalSeconds,i);case"XXX":default:return Tu(Ru.extended,i)}}},{key:"set",value:function(i,o,a){return o.timestampIsSet?i:new Date(i.getTime()-a)}}]),e}(wr),zDe=function(n){sr(e,n);var t=lr(e);function e(){var r;qt(this,e);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Ze(Qe(r),"priority",10),Ze(Qe(r),"incompatibleTokens",["t","T","X"]),r}return Xt(e,[{key:"parse",value:function(i,o){switch(o){case"x":return Tu(Ru.basicOptionalMinutes,i);case"xx":return Tu(Ru.basic,i);case"xxxx":return Tu(Ru.basicOptionalSeconds,i);case"xxxxx":return Tu(Ru.extendedOptionalSeconds,i);case"xxx":default:return Tu(Ru.extended,i)}}},{key:"set",value:function(i,o,a){return o.timestampIsSet?i:new Date(i.getTime()-a)}}]),e}(wr),KDe=function(n){sr(e,n);var t=lr(e);function e(){var r;qt(this,e);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Ze(Qe(r),"priority",40),Ze(Qe(r),"incompatibleTokens","*"),r}return Xt(e,[{key:"parse",value:function(i){return mX(i)}},{key:"set",value:function(i,o,a){return[new Date(a*1e3),{timestampIsSet:!0}]}}]),e}(wr),YDe=function(n){sr(e,n);var t=lr(e);function e(){var r;qt(this,e);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=t.call.apply(t,[this].concat(o)),Ze(Qe(r),"priority",20),Ze(Qe(r),"incompatibleTokens","*"),r}return Xt(e,[{key:"parse",value:function(i){return mX(i)}},{key:"set",value:function(i,o,a){return[new Date(a),{timestampIsSet:!0}]}}]),e}(wr),qDe={G:new hDe,y:new fDe,Y:new vDe,R:new gDe,u:new mDe,Q:new yDe,q:new CDe,M:new SDe,L:new wDe,w:new xDe,I:new EDe,d:new TDe,D:new PDe,E:new DDe,e:new ADe,c:new MDe,i:new FDe,a:new IDe,b:new NDe,B:new kDe,h:new GDe,H:new VDe,K:new BDe,k:new jDe,m:new HDe,s:new $De,S:new WDe,X:new UDe,x:new zDe,t:new KDe,T:new YDe},XDe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ZDe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,QDe=/^'([^]*?)'?$/,JDe=/''/g,eAe=/\S/,tAe=/[a-zA-Z]/;function rAe(n,t,e,r){var i,o,a,s,l,u,c,d,p,h,f,v,g,m,y,C,S,w;ke(3,arguments);var _=String(n),x=String(t),E=nc(),R=(i=(o=r==null?void 0:r.locale)!==null&&o!==void 0?o:E.locale)!==null&&i!==void 0?i:vV;if(!R.match)throw new RangeError("locale must contain match property");var P=ar((a=(s=(l=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(c=r.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:E.firstWeekContainsDate)!==null&&s!==void 0?s:(p=E.locale)===null||p===void 0||(h=p.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(P>=1&&P<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=ar((f=(v=(g=(m=r==null?void 0:r.weekStartsOn)!==null&&m!==void 0?m:r==null||(y=r.locale)===null||y===void 0||(C=y.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&g!==void 0?g:E.weekStartsOn)!==null&&v!==void 0?v:(S=E.locale)===null||S===void 0||(w=S.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&f!==void 0?f:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(x==="")return _===""?je(e):new Date(NaN);var N={firstWeekContainsDate:P,weekStartsOn:A,locale:R},I=[new pDe],G=x.match(ZDe).map(function(ue){var pe=ue[0];if(pe in e1){var _e=e1[pe];return _e(ue,R.formatLong)}return ue}).join("").match(XDe),V=[],H=$3(G),j;try{var B=function(){var pe=j.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&uX(pe)&&aR(pe,x,n),!(r!=null&&r.useAdditionalDayOfYearTokens)&&lX(pe)&&aR(pe,x,n);var _e=pe[0],oe=qDe[_e];if(oe){var we=oe.incompatibleTokens;if(Array.isArray(we)){var ne=V.find(function(Pe){return we.includes(Pe.token)||Pe.token===_e});if(ne)throw new RangeError("The format string mustn't contain `".concat(ne.fullToken,"` and `").concat(pe,"` at the same time"))}else if(oe.incompatibleTokens==="*"&&V.length>0)throw new RangeError("The format string mustn't contain `".concat(pe,"` and any other token at the same time"));V.push({token:_e,fullToken:pe});var xe=oe.run(_,pe,R.match,N);if(!xe)return{v:new Date(NaN)};I.push(xe.setter),_=xe.rest}else{if(_e.match(tAe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_e+"`");if(pe==="''"?pe="'":_e==="'"&&(pe=nAe(pe)),_.indexOf(pe)===0)_=_.slice(pe.length);else return{v:new Date(NaN)}}};for(H.s();!(j=H.n()).done;){var $=B();if(Qc($)==="object")return $.v}}catch(ue){H.e(ue)}finally{H.f()}if(_.length>0&&eAe.test(_))return new Date(NaN);var W=I.map(function(ue){return ue.priority}).sort(function(ue,pe){return pe-ue}).filter(function(ue,pe,_e){return _e.indexOf(ue)===pe}).map(function(ue){return I.filter(function(pe){return pe.priority===ue}).sort(function(pe,_e){return _e.subPriority-pe.subPriority})}).map(function(ue){return ue[0]}),Y=je(e);if(isNaN(Y.getTime()))return new Date(NaN);var Z=nX(Y,oR(Y)),se={},X=$3(W),ie;try{for(X.s();!(ie=X.n()).done;){var z=ie.value;if(!z.validate(Z,N))return new Date(NaN);var Q=z.set(Z,se,N);Array.isArray(Q)?(Z=Q[0],lDe(se,Q[1])):Z=Q}}catch(ue){X.e(ue)}finally{X.f()}return Z}function nAe(n){return n.match(QDe)[1].replace(JDe,"'")}function iAe(n,t){ke(2,arguments);var e=je(n),r=ar(t);return e.setDate(r),e}function oAe(n,t){ke(2,arguments);var e=je(n),r=ar(t);return e.setHours(r),e}function aAe(n,t){ke(2,arguments);var e=je(n),r=ar(t);return e.setMinutes(r),e}function sAe(n,t){ke(2,arguments);var e=je(n),r=ar(t),i=e.getFullYear(),o=e.getDate(),a=new Date(0);a.setFullYear(i,r,15),a.setHours(0,0,0,0);var s=fX(a);return e.setMonth(r,Math.min(o,s)),e}function lAe(n,t){ke(2,arguments);var e=je(n),r=ar(t);return e.setSeconds(r),e}function uAe(n,t){ke(2,arguments);var e=je(n),r=ar(t);return e.setMilliseconds(r),e}function cAe(n,t){ke(2,arguments);var e=je(n),r=ar(t);return isNaN(e.getTime())?new Date(NaN):(e.setFullYear(r),e)}function U3(n){ke(1,arguments);var t=je(n);return t.setDate(1),t.setHours(0,0,0,0),t}function Ix(n){ke(1,arguments);var t=je(n),e=new Date(0);return e.setFullYear(t.getFullYear(),0,1),e.setHours(0,0,0,0),e}function yV(n,t){var e;ke(1,arguments);var r=ar((e=t==null?void 0:t.additionalDigits)!==null&&e!==void 0?e:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof n=="string"||Object.prototype.toString.call(n)==="[object String]"))return new Date(NaN);var i=fAe(n),o;if(i.date){var a=vAe(i.date,r);o=gAe(a.restDateString,a.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var s=o.getTime(),l=0,u;if(i.time&&(l=mAe(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=yAe(i.timezone),isNaN(u))return new Date(NaN)}else{var c=new Date(s+l),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(s+l+u)}var Nx={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},dAe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,pAe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,hAe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function fAe(n){var t={},e=n.split(Nx.dateTimeDelimiter),r;if(e.length>2)return t;if(/:/.test(e[0])?r=e[0]:(t.date=e[0],r=e[1],Nx.timeZoneDelimiter.test(t.date)&&(t.date=n.split(Nx.timeZoneDelimiter)[0],r=n.substr(t.date.length,n.length))),r){var i=Nx.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function vAe(n,t){var e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=n.match(e);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:n.slice((r[1]||r[2]).length)}}function gAe(n,t){if(t===null)return new Date(NaN);var e=n.match(dAe);if(!e)return new Date(NaN);var r=!!e[4],i=pC(e[1]),o=pC(e[2])-1,a=pC(e[3]),s=pC(e[4]),l=pC(e[5])-1;if(r)return xAe(t,s,l)?CAe(t,s,l):new Date(NaN);var u=new Date(0);return!wAe(t,o,a)||!_Ae(t,i)?new Date(NaN):(u.setUTCFullYear(t,o,Math.max(i,a)),u)}function pC(n){return n?parseInt(n):1}function mAe(n){var t=n.match(pAe);if(!t)return NaN;var e=dM(t[1]),r=dM(t[2]),i=dM(t[3]);return bAe(e,r,i)?e*XP+r*qP+i*1e3:NaN}function dM(n){return n&&parseFloat(n.replace(",","."))||0}function yAe(n){if(n==="Z")return 0;var t=n.match(hAe);if(!t)return 0;var e=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return EAe(r,i)?e*(r*XP+i*qP):NaN}function CAe(n,t,e){var r=new Date(0);r.setUTCFullYear(n,0,4);var i=r.getUTCDay()||7,o=(t-1)*7+e+1-i;return r.setUTCDate(r.getUTCDate()+o),r}var SAe=[31,null,31,30,31,30,31,31,30,31,30,31];function SX(n){return n%400===0||n%4===0&&n%100!==0}function wAe(n,t,e){return t>=0&&t<=11&&e>=1&&e<=(SAe[t]||(SX(n)?29:28))}function _Ae(n,t){return t>=1&&t<=(SX(n)?366:365)}function xAe(n,t,e){return t>=1&&t<=53&&e>=0&&e<=6}function bAe(n,t,e){return n===24?t===0&&e===0:e>=0&&e<60&&t>=0&&t<60&&n>=0&&n<25}function EAe(n,t){return t>=0&&t<=59}function OAe(n,t){var e,r;ke(1,arguments);var i=je(n);if(isNaN(i.getTime()))throw new RangeError("Invalid time value");var o=String((e=t==null?void 0:t.format)!==null&&e!==void 0?e:"extended"),a=String((r=t==null?void 0:t.representation)!==null&&r!==void 0?r:"complete");if(o!=="extended"&&o!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(a!=="date"&&a!=="time"&&a!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var s="",l="",u=o==="extended"?"-":"",c=o==="extended"?":":"";if(a!=="time"){var d=jt(i.getDate(),2),p=jt(i.getMonth()+1,2),h=jt(i.getFullYear(),4);s="".concat(h).concat(u).concat(p).concat(u).concat(d)}if(a!=="date"){var f=i.getTimezoneOffset();if(f!==0){var v=Math.abs(f),g=jt(Math.floor(v/60),2),m=jt(v%60,2),y=f<0?"+":"-";l="".concat(y).concat(g,":").concat(m)}else l="Z";var C=jt(i.getHours(),2),S=jt(i.getMinutes(),2),w=jt(i.getSeconds(),2),_=s===""?"":"T",x=[C,S,w].join(c);s="".concat(s).concat(_).concat(x).concat(l)}return s}function RAe(n,t){ke(2,arguments);var e=je(n).getTime(),r=je(t.start).getTime(),i=je(t.end).getTime();if(!(r<=i))throw new RangeError("Invalid interval");return e>=r&&e<=i}var t1={exports:{}};(function(n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=function(l,u){switch(l){case"P":return u.date({width:"short"});case"PP":return u.date({width:"medium"});case"PPP":return u.date({width:"long"});case"PPPP":default:return u.date({width:"full"})}},r=function(l,u){switch(l){case"p":return u.time({width:"short"});case"pp":return u.time({width:"medium"});case"ppp":return u.time({width:"long"});case"pppp":default:return u.time({width:"full"})}},i=function(l,u){var c=l.match(/(P+)(p+)?/)||[],d=c[1],p=c[2];if(!p)return e(l,u);var h;switch(d){case"P":h=u.dateTime({width:"short"});break;case"PP":h=u.dateTime({width:"medium"});break;case"PPP":h=u.dateTime({width:"long"});break;case"PPPP":default:h=u.dateTime({width:"full"});break}return h.replace("{{date}}",e(d,u)).replace("{{time}}",r(p,u))},o={p:r,P:i},a=o;t.default=a,n.exports=t.default})(t1,t1.exports);var TAe=t1.exports;const PAe=q0(TAe),DAe={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},AAe={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",fullDateWithWeekday:"PPPP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",monthAndYear:"LLLL yyyy",monthAndDate:"MMMM d",fullTime:"p",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",fullDateTime:"PP p",fullDateTime12h:"PP hh:mm aa",fullDateTime24h:"PP HH:mm",keyboardDateTime:"P p",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class MAe{constructor(t){this.isMUIAdapter=!0,this.isTimezoneCompatible=!1,this.lib="date-fns",this.locale=void 0,this.formats=void 0,this.formatTokenMap=DAe,this.escapedCharacters={start:"'",end:"'"},this.longFormatters=void 0,this.date=o=>typeof o>"u"?new Date:o===null?null:new Date(o),this.dateWithTimezone=o=>this.date(o),this.getTimezone=()=>"default",this.setTimezone=o=>o,this.toJsDate=o=>o,this.getCurrentLocaleCode=()=>{var o;return((o=this.locale)==null?void 0:o.code)||"en-US"},this.is12HourCycleInCurrentLocale=()=>this.locale?/a/.test(this.locale.formatLong.time({width:"short"})):!0,this.expandFormat=o=>{const a=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return o.match(a).map(s=>{const l=s[0];if(l==="p"||l==="P"){const u=this.longFormatters[l];return u(s,this.locale.formatLong)}return s}).join("")},this.getFormatHelperText=o=>this.expandFormat(o).replace(/(aaa|aa|a)/g,"(a|p)m").toLocaleLowerCase(),this.isNull=o=>o===null,this.formatNumber=o=>o,this.getMeridiemText=o=>o==="am"?"AM":"PM";const{locale:e,formats:r,longFormatters:i}=t;this.locale=e,this.formats=L({},AAe,r),this.longFormatters=i}}class wX extends MAe{constructor({locale:t,formats:e}={}){if(typeof IE!="function")throw new Error(["MUI: The `date-fns` package v3.x is not compatible with this adapter.","Please, install v2.x of the package or use the `AdapterDateFnsV3` instead."].join(`
`));super({locale:t??vV,formats:e,longFormatters:PAe}),this.parseISO=r=>yV(r),this.toISO=r=>OAe(r,{format:"extended"}),this.parse=(r,i)=>r===""?null:rAe(r,i,new Date,{locale:this.locale}),this.isValid=r=>rX(this.date(r)),this.format=(r,i)=>this.formatByString(r,this.formats[i]),this.formatByString=(r,i)=>$Pe(r,i,{locale:this.locale}),this.getDiff=(r,i,o)=>{switch(o){case"years":return DTe(r,this.date(i));case"quarters":return FTe(r,this.date(i));case"months":return eX(r,this.date(i));case"weeks":return kTe(r,this.date(i));case"days":return tX(r,this.date(i));case"hours":return VTe(r,this.date(i));case"minutes":return BTe(r,this.date(i));case"seconds":return jTe(r,this.date(i));default:return ZP(r,this.date(i))}},this.isEqual=(r,i)=>r===null&&i===null?!0:rDe(r,i),this.isSameYear=(r,i)=>iDe(r,i),this.isSameMonth=(r,i)=>oDe(r,i),this.isSameDay=(r,i)=>nDe(r,i),this.isSameHour=(r,i)=>aDe(r,i),this.isAfter=(r,i)=>cM(r,i),this.isAfterYear=(r,i)=>cM(r,uM(i)),this.isAfterDay=(r,i)=>cM(r,QI(i)),this.isBefore=(r,i)=>dC(r,i),this.isBeforeYear=(r,i)=>dC(r,Ix(i)),this.isBeforeDay=(r,i)=>dC(r,Zm(i)),this.isWithinRange=(r,[i,o])=>RAe(r,{start:i,end:o}),this.startOfYear=r=>Ix(r),this.startOfMonth=r=>U3(r),this.startOfWeek=r=>jf(r,{locale:this.locale}),this.startOfDay=r=>Zm(r),this.endOfYear=r=>uM(r),this.endOfMonth=r=>JI(r),this.endOfWeek=r=>lM(r,{locale:this.locale}),this.endOfDay=r=>QI(r),this.addYears=(r,i)=>I3(r,i),this.addMonths=(r,i)=>NE(r,i),this.addWeeks=(r,i)=>TTe(r,i),this.addDays=(r,i)=>IE(r,i),this.addHours=(r,i)=>RTe(r,i),this.addMinutes=(r,i)=>ETe(r,i),this.addSeconds=(r,i)=>xTe(r,i),this.getYear=r=>tDe(r),this.getMonth=r=>YPe(r),this.getDate=r=>UPe(r),this.getHours=r=>zPe(r),this.getMinutes=r=>KPe(r),this.getSeconds=r=>qPe(r),this.getMilliseconds=r=>XPe(r),this.setYear=(r,i)=>cAe(r,i),this.setMonth=(r,i)=>sAe(r,i),this.setDate=(r,i)=>iAe(r,i),this.setHours=(r,i)=>oAe(r,i),this.setMinutes=(r,i)=>aAe(r,i),this.setSeconds=(r,i)=>lAe(r,i),this.setMilliseconds=(r,i)=>uAe(r,i),this.getDaysInMonth=r=>fX(r),this.getNextMonth=r=>NE(r,1),this.getPreviousMonth=r=>NE(r,-1),this.getMonthArray=r=>{const o=[Ix(r)];for(;o.length<12;){const a=o[o.length-1];o.push(this.getNextMonth(a))}return o},this.mergeDateAndTime=(r,i)=>this.setSeconds(this.setMinutes(this.setHours(r,this.getHours(i)),this.getMinutes(i)),this.getSeconds(i)),this.getWeekdays=()=>{const r=new Date;return HTe({start:jf(r,{locale:this.locale}),end:lM(r,{locale:this.locale})}).map(i=>this.formatByString(i,"EEEEEE"))},this.getWeekArray=r=>{const i=jf(U3(r),{locale:this.locale}),o=lM(JI(r),{locale:this.locale});let a=0,s=i;const l=[];for(;dC(s,o);){const u=Math.floor(a/7);l[u]=l[u]||[],l[u].push(s),s=IE(s,1),a+=1}return l},this.getWeekNumber=r=>eDe(r,{locale:this.locale}),this.getYearRange=(r,i)=>{const o=Ix(r),a=uM(i),s=[];let l=o;for(;dC(l,a);)s.push(l),l=I3(l,1);return s}}}var LAe={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"dd/MM/yyyy"},FAe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},IAe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},NAe={date:ym({formats:LAe,defaultWidth:"full"}),time:ym({formats:FAe,defaultWidth:"full"}),dateTime:ym({formats:IAe,defaultWidth:"full"})};const kAe=NAe;var GAe={code:"en-GB",formatDistance:cX,formatLong:kAe,formatRelative:dX,localize:pX,match:hX,options:{weekStartsOn:1,firstWeekContainsDate:4}};const _X=GAe;function VAe(n){return He("MuiMenuItem",n)}const BAe=$e("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),hC=BAe,jAe=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],HAe=(n,t)=>{const{ownerState:e}=n;return[t.root,e.dense&&t.dense,e.divider&&t.divider,!e.disableGutters&&t.gutters]},$Ae=n=>{const{disabled:t,dense:e,divider:r,disableGutters:i,selected:o,classes:a}=n,l=Ge({root:["root",e&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},VAe,a);return L({},a,l)},WAe=le(Jc,{shouldForwardProp:n=>mi(n)||n==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:HAe})(({theme:n,ownerState:t})=>L({},n.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(n.vars||n).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${hC.selected}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:At(n.palette.primary.main,n.palette.action.selectedOpacity),[`&.${hC.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:At(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}},[`&.${hC.selected}:hover`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:At(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:At(n.palette.primary.main,n.palette.action.selectedOpacity)}},[`&.${hC.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`&.${hC.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity},[`& + .${X$.root}`]:{marginTop:n.spacing(1),marginBottom:n.spacing(1)},[`& + .${X$.inset}`]:{marginLeft:52},[`& .${$O.root}`]:{marginTop:0,marginBottom:0},[`& .${$O.inset}`]:{paddingLeft:36},[`& .${rW.root}`]:{minWidth:36}},!t.dense&&{[n.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&L({minHeight:32,paddingTop:4,paddingBottom:4},n.typography.body2,{[`& .${rW.root} svg`]:{fontSize:"1.25rem"}}))),UAe=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:a=!1,divider:s=!1,disableGutters:l=!1,focusVisibleClassName:u,role:c="menuitem",tabIndex:d,className:p}=r,h=ve(r,jAe),f=T.useContext(ks),v=T.useMemo(()=>({dense:a||f.dense||!1,disableGutters:l}),[f.dense,a,l]),g=T.useRef(null);ti(()=>{i&&g.current&&g.current.focus()},[i]);const m=L({},r,{dense:v.dense,divider:s,disableGutters:l}),y=$Ae(r),C=or(g,e);let S;return r.disabled||(S=d!==void 0?d:-1),b.jsx(ks.Provider,{value:v,children:b.jsx(WAe,L({ref:C,role:c,tabIndex:S,component:o,focusVisibleClassName:Re(y.focusVisible,u),className:Re(y.root,p)},h,{ownerState:m,classes:y}))})}),ki=UAe;function zAe(n){const t=ya(),[e,r]=T.useState([]),[i,o]=T.useState("");T.useEffect(()=>{c0().then(s=>{s.status==200?s.json().then(l=>{r(l.results.filter(u=>u.users.length<8)),o("0")}):s.status==401&&(t(hr("/")),t(fi()),localStorage.removeItem("TOKEN"))})},[]);const a=s=>{o(s.target.value)};return b.jsxs(_o,{open:n.open,onClose:()=>n.handleClose(null),children:[b.jsx(ia,{children:"Pick a group"}),e?b.jsxs(b.Fragment,{children:[b.jsx(br,{children:b.jsx(Sl,{value:i,label:"Group",fullWidth:!0,variant:"standard",margin:"dense",onChange:a,children:e.map((s,l)=>b.jsxs(ki,{value:l,children:[s.owner.nickname,"'s Group"]},l))})}),b.jsxs(xo,{children:[b.jsx(Et,{onClick:()=>n.handleClose(null),children:"Close"}),b.jsx(Et,{onClick:()=>n.handleClose(e[parseInt(i)]),children:"Confirm"})]})]}):null]})}function KAe(n){return He("MuiFormControlLabel",n)}const YAe=$e("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),xS=YAe,qAe=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],XAe=n=>{const{classes:t,disabled:e,labelPlacement:r,error:i,required:o}=n,a={root:["root",e&&"disabled",`labelPlacement${Se(r)}`,i&&"error",o&&"required"],label:["label",e&&"disabled"],asterisk:["asterisk",i&&"error"]};return Ge(a,KAe,t)},ZAe=le("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[{[`& .${xS.label}`]:t.label},t.root,t[`labelPlacement${Se(e.labelPlacement)}`]]}})(({theme:n,ownerState:t})=>L({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${xS.disabled}`]:{cursor:"default"}},t.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},t.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},t.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${xS.label}`]:{[`&.${xS.disabled}`]:{color:(n.vars||n).palette.text.disabled}}})),QAe=le("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(n,t)=>t.asterisk})(({theme:n})=>({[`&.${xS.error}`]:{color:(n.vars||n).palette.error.main}})),JAe=T.forwardRef(function(t,e){var r,i;const o=Ve({props:t,name:"MuiFormControlLabel"}),{className:a,componentsProps:s={},control:l,disabled:u,disableTypography:c,label:d,labelPlacement:p="end",required:h,slotProps:f={}}=o,v=ve(o,qAe),g=rc(),m=(r=u??l.props.disabled)!=null?r:g==null?void 0:g.disabled,y=h??l.props.required,C={disabled:m,required:y};["checked","name","onChange","value","inputRef"].forEach(R=>{typeof l.props[R]>"u"&&typeof o[R]<"u"&&(C[R]=o[R])});const S=ch({props:o,muiFormControl:g,states:["error"]}),w=L({},o,{disabled:m,labelPlacement:p,required:y,error:S.error}),_=XAe(w),x=(i=f.typography)!=null?i:s.typography;let E=d;return E!=null&&E.type!==Pr&&!c&&(E=b.jsx(Pr,L({component:"span"},x,{className:Re(_.label,x==null?void 0:x.className),children:E}))),b.jsxs(ZAe,L({className:Re(_.root,a),ownerState:w,ref:e},v,{children:[T.cloneElement(l,C),y?b.jsxs(na,{display:"block",children:[E,b.jsxs(QAe,{ownerState:w,"aria-hidden":!0,className:_.asterisk,children:[" ","*"]})]}):E]}))}),Va=JAe;function eMe(n){return He("PrivateSwitchBase",n)}$e("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const tMe=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],rMe=n=>{const{classes:t,checked:e,disabled:r,edge:i}=n,o={root:["root",e&&"checked",r&&"disabled",i&&`edge${Se(i)}`],input:["input"]};return Ge(o,eMe,t)},nMe=le(Jc)(({ownerState:n})=>L({padding:9,borderRadius:"50%"},n.edge==="start"&&{marginLeft:n.size==="small"?-3:-12},n.edge==="end"&&{marginRight:n.size==="small"?-3:-12})),iMe=le("input",{shouldForwardProp:mi})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),oMe=T.forwardRef(function(t,e){const{autoFocus:r,checked:i,checkedIcon:o,className:a,defaultChecked:s,disabled:l,disableFocusRipple:u=!1,edge:c=!1,icon:d,id:p,inputProps:h,inputRef:f,name:v,onBlur:g,onChange:m,onFocus:y,readOnly:C,required:S=!1,tabIndex:w,type:_,value:x}=t,E=ve(t,tMe),[R,P]=va({controlled:i,default:!!s,name:"SwitchBase",state:"checked"}),A=rc(),N=$=>{y&&y($),A&&A.onFocus&&A.onFocus($)},I=$=>{g&&g($),A&&A.onBlur&&A.onBlur($)},G=$=>{if($.nativeEvent.defaultPrevented)return;const W=$.target.checked;P(W),m&&m($,W)};let V=l;A&&typeof V>"u"&&(V=A.disabled);const H=_==="checkbox"||_==="radio",j=L({},t,{checked:R,disabled:V,disableFocusRipple:u,edge:c}),B=rMe(j);return b.jsxs(nMe,L({component:"span",className:Re(B.root,a),centerRipple:!0,focusRipple:!u,disabled:V,tabIndex:null,role:void 0,onFocus:N,onBlur:I,ownerState:j,ref:e},E,{children:[b.jsx(iMe,L({autoFocus:r,checked:i,defaultChecked:s,className:B.input,disabled:V,id:H?p:void 0,name:v,onChange:G,readOnly:C,ref:f,required:S,ownerState:j,tabIndex:w,type:_},_==="checkbox"&&x===void 0?{}:{value:x},h)),R?o:d]}))}),CV=oMe,aMe=Dn(b.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),sMe=Dn(b.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),lMe=Dn(b.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function uMe(n){return He("MuiCheckbox",n)}const cMe=$e("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),pM=cMe,dMe=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],pMe=n=>{const{classes:t,indeterminate:e,color:r,size:i}=n,o={root:["root",e&&"indeterminate",`color${Se(r)}`,`size${Se(i)}`]},a=Ge(o,uMe,t);return L({},t,a)},hMe=le(CV,{shouldForwardProp:n=>mi(n)||n==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.indeterminate&&t.indeterminate,t[`size${Se(e.size)}`],e.color!=="default"&&t[`color${Se(e.color)}`]]}})(({theme:n,ownerState:t})=>L({color:(n.vars||n).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:n.vars?`rgba(${t.color==="default"?n.vars.palette.action.activeChannel:n.vars.palette[t.color].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:At(t.color==="default"?n.palette.action.active:n.palette[t.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${pM.checked}, &.${pM.indeterminate}`]:{color:(n.vars||n).palette[t.color].main},[`&.${pM.disabled}`]:{color:(n.vars||n).palette.action.disabled}})),fMe=b.jsx(sMe,{}),vMe=b.jsx(aMe,{}),gMe=b.jsx(lMe,{}),mMe=T.forwardRef(function(t,e){var r,i;const o=Ve({props:t,name:"MuiCheckbox"}),{checkedIcon:a=fMe,color:s="primary",icon:l=vMe,indeterminate:u=!1,indeterminateIcon:c=gMe,inputProps:d,size:p="medium",className:h}=o,f=ve(o,dMe),v=u?c:l,g=u?c:a,m=L({},o,{color:s,indeterminate:u,size:p}),y=pMe(m);return b.jsx(hMe,L({type:"checkbox",inputProps:L({"data-indeterminate":u},d),icon:T.cloneElement(v,{fontSize:(r=v.props.fontSize)!=null?r:p}),checkedIcon:T.cloneElement(g,{fontSize:(i=g.props.fontSize)!=null?i:p}),ownerState:m,ref:e,className:Re(y.root,h)},f,{classes:y}))}),cl=mMe;var SV={},yMe=Ki;Object.defineProperty(SV,"__esModule",{value:!0});var xX=SV.default=void 0,CMe=yMe(Ao()),SMe=b;xX=SV.default=(0,CMe.default)((0,SMe.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");function wMe(n){const[t,e]=T.useState(""),r=a=>{e(a.target.value)},i=()=>{n.handleClose(!1,"")},o=()=>{n.handleClose(!0,t),e("")};return b.jsx(b.Fragment,{children:b.jsxs(_o,{open:n.open,onClose:i,scroll:"body",children:[b.jsx(ia,{children:"Attendee "}),b.jsx(br,{children:b.jsx(Kt,{multiline:!0,rows:4,name:"telegram_message",label:"Internal Notes",value:t,helperText:"",fullWidth:!0,variant:"standard",margin:"dense",onChange:r})}),b.jsxs(xo,{children:[b.jsx(Et,{onClick:i,children:"Cancel"}),b.jsx(Et,{onClick:o,color:"error",variant:"contained",children:"Send"})]})]})})}function _Me(n){const t=ya(),[e,r]=T.useState({}),[i,o]=T.useState(null),[a,s]=T.useState(null),[l,u]=T.useState("1990-01-01"),[c,d]=T.useState(0),[p,h]=T.useState(!1),[f,v]=T.useState(!1),[g,m]=T.useState(!1);T.useEffect(()=>{$7(n.userId).then(W=>{W.status==200?W.json().then(Y=>{o(Y),u(Y.date_of_birth),Y.group&&QO(Y.group).then(Z=>{Z.status==200&&Z.json().then(se=>{s(se)})})}):W.status==401?(t(hr("/")),t(fi()),localStorage.removeItem("TOKEN")):W.json().then(Y=>{r(Y)})})},[]);const y=JSON.parse(Bg(W=>W.config.config.HOODIE_SIZES||"[]")),C=JSON.parse(Bg(W=>W.config.config.EXTRA_DAYS||"[]")),S=JSON.parse(Bg(W=>W.config.config.SPONSOR_PRICE||"[]")),w=JSON.parse(Bg(W=>W.config.config.TICKET_PRICE||"[]")),_=()=>{let W=0;if(i&&a&&a.accommodation){W=a.accommodation.price;const Y=C[a.accommodation.accommodation_type];i.email.endsWith("@furcation.org.uk")||(W+=w),i.is_early&&(W+=Y),i.is_late&&(W+=Y),i.is_sponsor&&(W+=S),W+=Number(i.adjustments)}return W},x=W=>{i&&(i[W.target.name]=W.target.value,o({...i}))},E=()=>{v(!0)},R=()=>{i&&cSe(i).then(W=>{W.status==204&&(n.handleDeleted(i),n.handleClose())})},P=W=>{i&&(i[W.target.name]=W.target.checked,o({...i}))},A=W=>{i&&(i.hoodie_size=W.target.value,o({...i}))},N=W=>{const Y=W||new Date("2000-01-01"),Z=Y.getFullYear()+"-"+("0"+(Y.getMonth()+1)).slice(-2)+"-"+("0"+Y.getDate()).slice(-2);u(Z),i&&(i.date_of_birth=Z)},I=()=>{i&&(i.telegram_id="",o({...i}))},G=()=>{m(!0)},V=(W,Y)=>{W&&i&&tSe(i.id,Y+`

Please note if you have a response for this message, please submit a ticket at https://support.furcation.org.uk as responses to this bot are not monitored.`),m(!1)},H=()=>{if(i){d(1);const W={...i};W.phone_number=j(W.phone_number),W.ice_phone=j(W.ice_phone),delete W.group,rSe(W).then(Y=>{console.log(Y.status),Y.status==200?Y.json().then(Z=>{d(2),o(Z),u(Z.date_of_birth),Z.group&&QO(Z.group).then(se=>{se.status==200&&se.json().then(X=>{s(X)})})}):Y.status==401?(t(hr("/")),t(fi()),localStorage.removeItem("TOKEN")):Y.status==400&&(d(0),Y.json().then(Z=>{console.log(Z),r(Z)}))})}},j=W=>(W=W.replaceAll(" ",""),W.charAt(0)==="0"?"+44"+W.substring(1):W),B=()=>{h(!0)},$=W=>{i&&W&&(W.users.push({id:i.id,nickname:i.nickname,fully_paid:!1,is_early:!1,is_late:!1}),_S(W).then(Y=>{Y.status==200&&(o({...i,group:W}),s(W))})),h(!1)};return b.jsxs(b.Fragment,{children:[b.jsxs(_o,{open:n.open,onClose:n.handleClose,scroll:"body",children:[b.jsx(ia,{children:"Attendee "}),i?b.jsxs(b.Fragment,{children:[b.jsxs(br,{children:[b.jsxs(En,{children:["Badge Number:"," ",i.badge_override?i.badge_override+" (Overridden from "+i.id+")":i.id]}),b.jsx(Va,{control:b.jsx(cl,{name:"checked_in",checked:i.checked_in,onChange:P}),label:"Checked In"}),i.is_sponsor?b.jsx(b.Fragment,{children:b.jsx(Va,{control:b.jsx(cl,{name:"sponsor_collected",checked:i.sponsor_collected,onChange:P}),label:"Sponsor Bag Collected"})}):null,b.jsx(Kt,{required:!0,name:"full_name",label:"Full (Legal) Name",value:i.full_name,onChange:x,autoComplete:"fullname",error:Object.prototype.hasOwnProperty.call(e,"full_name"),helperText:e.full_name,fullWidth:!0,variant:"standard",margin:"dense"}),b.jsx(Kt,{required:!0,name:"nickname",label:"Badge Name (Nickname/Furry Name)",value:i.nickname,onChange:x,autoComplete:"nickname",error:Object.prototype.hasOwnProperty.call(e,"nickname"),helperText:e.nickname,fullWidth:!0,variant:"standard",margin:"dense"}),b.jsx(Kt,{required:!0,name:"email",label:"Email",value:i.email,onChange:x,autoComplete:"email",error:Object.prototype.hasOwnProperty.call(e,"email"),helperText:e.email,fullWidth:!0,variant:"standard",margin:"dense"}),b.jsx(Kt,{name:"secondary_email",label:"Secondary email",value:i.secondary_email,onChange:x,error:Object.prototype.hasOwnProperty.call(e,"secondary_email"),helperText:e.email,fullWidth:!0,variant:"standard",margin:"dense"}),b.jsx(HP,{dateAdapter:wX,adapterLocale:_X,children:b.jsx(Jq,{label:"Date of Birth",value:yV(l),onChange:N,slotProps:{textField:{required:!0,fullWidth:!0,variant:"standard",margin:"dense"}}})}),b.jsx(Kt,{required:!0,multiline:!0,rows:4,name:"address",label:"Address",value:i.address,onChange:x,error:Object.prototype.hasOwnProperty.call(e,"address"),helperText:e.address,fullWidth:!0,variant:"standard",margin:"dense"}),b.jsx(Kt,{required:!0,type:"tel",name:"phone_number",label:"Phone Number",autoComplete:"phone",value:i.phone_number,onChange:x,error:Object.prototype.hasOwnProperty.call(e,"phone_number"),helperText:e.phone_number,fullWidth:!0,variant:"standard",margin:"dense"}),b.jsx(Kt,{multiline:!0,rows:4,name:"medical_details",label:"Any medical details we should know? (optional)",value:i.medical_details||"",onChange:x,error:Object.prototype.hasOwnProperty.call(e,"medical_details"),helperText:e.medical_details,fullWidth:!0,variant:"standard",margin:"dense"}),b.jsx(Kt,{required:!0,name:"ice_name",label:"ICE Name",value:i.ice_name,onChange:x,autoComplete:"ice_name",error:Object.prototype.hasOwnProperty.call(e,"ice_name"),helperText:e.ice_name,fullWidth:!0,variant:"standard",margin:"dense"}),b.jsx(Kt,{required:!0,name:"ice_phone",label:"ICE Phone",value:i.ice_phone,onChange:x,autoComplete:"ice_phone",error:Object.prototype.hasOwnProperty.call(e,"ice_phone"),helperText:e.ice_phone,fullWidth:!0,variant:"standard",margin:"dense"}),b.jsx(Va,{control:b.jsx(cl,{name:"is_fursuiter",checked:i.is_fursuiter,onChange:P}),label:"Fursuiter"}),b.jsx(Va,{control:b.jsx(cl,{name:"is_early",checked:i.is_early,onChange:P}),label:"Early"}),b.jsx(Va,{control:b.jsx(cl,{name:"is_late",checked:i.is_late,onChange:P}),label:"Late"}),b.jsx(Va,{control:b.jsx(cl,{name:"is_sponsor",checked:i.is_sponsor,onChange:P}),label:"Sponsor"}),i.is_sponsor?b.jsxs(b.Fragment,{children:[b.jsx(Fc,{shrink:!0,children:"Unisex T-Shirt Size"}),b.jsx(Sl,{value:i.hoodie_size,fullWidth:!0,variant:"standard",margin:"dense",label:"Garment Size",required:!0,onChange:A,children:y.map(W=>b.jsx(ki,{value:W,children:b.jsx(Pr,{color:"text.primary",children:W})},W))})]}):null,b.jsx(Va,{control:b.jsx(cl,{name:"vegan",checked:i.vegan,onChange:P}),label:"Vegan"}),b.jsx(Va,{control:b.jsx(cl,{name:"halal",checked:i.halal,onChange:P}),label:"Halal"}),b.jsx(Va,{control:b.jsx(cl,{name:"diabetic",checked:i.diabetic,onChange:P}),label:"Diabetic"}),b.jsx(Va,{control:b.jsx(cl,{name:"gluten",checked:i.gluten,onChange:P}),label:"Gluten"}),b.jsx(Kt,{name:"car_reg",label:"Car Registration (blank for no car)",value:i.car_reg,onChange:x,error:Object.prototype.hasOwnProperty.call(e,"car_reg"),helperText:e.car_reg,fullWidth:!0,variant:"standard",margin:"dense"}),b.jsx(Kt,{name:"badge_override",label:"Badge Number Override",value:i.badge_override,onChange:x,autoComplete:"badge_override",error:Object.prototype.hasOwnProperty.call(e,"badge_override"),helperText:e.badge_override,fullWidth:!0,variant:"standard",margin:"dense"}),b.jsx(Kt,{name:"paid",label:"Amount paid",value:i.paid,onChange:x,autoComplete:"paid",type:"number",error:Object.prototype.hasOwnProperty.call(e,"paid"),InputProps:{endAdornment:b.jsx(iR,{position:"end",children:"p"})},helperText:e.paid,fullWidth:!0,variant:"standard",margin:"dense"}),b.jsx(Kt,{name:"adjustments",label:"Bill adjustments",value:i.adjustments,onChange:x,autoComplete:"adjustments",type:"number",error:Object.prototype.hasOwnProperty.call(e,"adjustments"),InputProps:{endAdornment:b.jsx(iR,{position:"end",children:"p"})},helperText:e.adjustments,fullWidth:!0,variant:"standard",margin:"dense"})]}),b.jsx(br,{children:b.jsxs(En,{children:["Total Bill (ex VAT): £",(_()/120).toFixed(2)]})}),b.jsx(br,{children:b.jsxs(En,{children:["VAT: £",(_()/600).toFixed(2)]})}),b.jsx(br,{children:b.jsxs(En,{children:["Left to pay: £",((_()-i.paid)/100).toFixed(2)]})}),b.jsx(br,{children:b.jsx(Kt,{multiline:!0,rows:4,name:"internal_notes",label:"Internal Notes",value:i.internal_notes||"",onChange:x,error:Object.prototype.hasOwnProperty.call(e,"internal_notes"),helperText:e.internal_notes,fullWidth:!0,variant:"standard",margin:"dense"})}),b.jsx(br,{children:a?b.jsxs(En,{children:["Group:"," ",b.jsxs(vm,{to:"/groups/"+a.id,children:[a.owner.nickname,"'s Group"]})]}):b.jsxs(En,{sx:{"& button":{m:1}},children:["No group",b.jsx(Et,{size:"small",variant:"contained",color:"primary",onClick:B,children:"Add to a group"})]})}),b.jsx(br,{children:b.jsx(C_e,{attendee:i,badgeImageChanged:W=>{i&&o({...i,badge_image:W})}})}),b.jsx(br,{children:b.jsxs(En,{children:["Telegram Connected: ",i.telegram_id!=""?"Yes":"No",i.telegram_id!=""?b.jsxs(b.Fragment,{children:[b.jsx(Et,{onClick:G,sx:{mx:1},children:"Send Message"}),b.jsx(Et,{onClick:I,children:b.jsx(xX,{})})]}):null]})}),b.jsxs(xo,{children:[b.jsx(Et,{onClick:n.handleClose,children:"Close"}),b.jsx(Et,{color:"error",onClick:E,children:"Delete"}),b.jsx(hw,{loading:c==1,color:c==2?"success":"primary",onClick:H,children:c==2?"Saved!":"Save Changes"})]})]}):null]}),p?b.jsx(zAe,{open:!0,handleClose:$}):null,b.jsxs(_o,{open:f,onClose:n.handleClose,children:[b.jsx(ia,{children:"Delete Attendee"}),b.jsx(br,{children:b.jsx(En,{children:"Are you sure you want to delete this attendee?"})}),b.jsxs(xo,{children:[b.jsx(Et,{onClick:n.handleClose,children:"Cancel"}),b.jsx(Et,{onClick:R,color:"error",variant:"contained",children:"Delete"})]})]}),b.jsx(wMe,{open:g,handleClose:V,attendee:i})]})}var wV={},xMe=Ki;Object.defineProperty(wV,"__esModule",{value:!0});var _V=wV.default=void 0,bMe=xMe(Ao()),EMe=b;_V=wV.default=(0,bMe.default)((0,EMe.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download");function bX(n){const t=()=>{const e=new URL(n.url);fetch(e,{headers:{Authorization:"Token "+localStorage.getItem("TOKEN")}}).then(r=>r.blob()).then(r=>{const i=window.URL.createObjectURL(r),o=document.createElement("a");o.style.display="none",o.href=i,o.download=n.filename,o.click(),window.URL.revokeObjectURL(i)})};return b.jsx(b.Fragment,{children:b.jsx("a",{role:"button",onClick:t,children:n.children})})}var QP={},JP={},EX={};/**
          * @ag-grid-community/all-modules - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue * @version v31.1.1
          * @link https://www.ag-grid.com/
          * @license MIT
          */function Wu(n){return n==null||n===""?null:n}function ye(n,t){return t===void 0&&(t=!1),n!=null&&(n!==""||t)}function pt(n){return!ye(n)}function Ya(n){return n==null||n.length===0}function f0(n){return n!=null&&typeof n.toString=="function"?n.toString():null}function Lp(n){if(n!==void 0){if(n===null||n==="")return null;if(typeof n=="number")return isNaN(n)?void 0:n;var t=parseInt(n,10);return isNaN(t)?void 0:t}}function uR(n){if(n!==void 0)return n===null||n===""?!1:typeof n=="boolean"?n:/true/i.test(n)}function OMe(n){if(!(n==null||n===""))return n}function r1(n,t){var e=n?JSON.stringify(n):null,r=t?JSON.stringify(t):null;return e===r}function RMe(n,t,e){e===void 0&&(e=!1);var r=n==null,i=t==null;if(n&&n.toNumber&&(n=n.toNumber()),t&&t.toNumber&&(t=t.toNumber()),r&&i)return 0;if(r)return-1;if(i)return 1;function o(a,s){return a>s?1:a<s?-1:0}if(typeof n!="string"||!e)return o(n,t);try{return n.localeCompare(t)}catch{return o(n,t)}}function Hf(n){if(n instanceof Set||n instanceof Map){var t=[];return n.forEach(function(e){return t.push(e)}),t}return Object.values(n)}var TMe=Object.freeze({__proto__:null,makeNull:Wu,exists:ye,missing:pt,missingOrEmpty:Ya,toStringOrNull:f0,attrToNumber:Lp,attrToBoolean:uR,attrToString:OMe,jsonEquals:r1,defaultComparator:RMe,values:Hf}),OX=function(){function n(){this.existingKeys={}}return n.prototype.addExistingKeys=function(t){for(var e=0;e<t.length;e++)this.existingKeys[t[e]]=!0},n.prototype.getUniqueKey=function(t,e){t=f0(t);for(var r=0;;){var i=void 0;if(t?(i=t,r!==0&&(i+="_"+r)):e?(i=e,r!==0&&(i+="_"+r)):i=r,!this.existingKeys[i])return this.existingKeys[i]=!0,String(i);r++}},n}(),PMe=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},DMe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o};function no(n,t){var e,r;if(n!=null){if(Array.isArray(n)){for(var i=0;i<n.length;i++)t(i.toString(),n[i]);return}try{for(var o=PMe(Object.entries(n)),a=o.next();!a.done;a=o.next()){var s=DMe(a.value,2),l=s[0],u=s[1];t(l,u)}}catch(c){e={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}}}function xV(n){for(var t={},e=Object.keys(n),r=0;r<e.length;r++){var i=e[r],o=n[i];t[i]=o}return t}function cR(n,t){if(n){var e=n,r={};return Object.keys(e).forEach(function(i){if(!(t&&t.indexOf(i)>=0)){var o=e[i],a=dR(o)&&o.constructor===Object;a?r[i]=cR(o):r[i]=o}}),r}}function qp(n){if(!n)return[];var t=Object;if(typeof t.values=="function")return t.values(n);var e=[];for(var r in n)n.hasOwnProperty(r)&&n.propertyIsEnumerable(r)&&e.push(n[r]);return e}function Qa(n,t,e,r){e===void 0&&(e=!0),r===void 0&&(r=!1),ye(t)&&no(t,function(i,o){var a=n[i];if(a!==o){if(r){var s=a==null&&o!=null;if(s){var l=typeof o=="object"&&o.constructor===Object,u=l;u&&(a={},n[i]=a)}}dR(o)&&dR(a)&&!Array.isArray(a)?Qa(a,o,e,r):(e||o!==void 0)&&(n[i]=o)}})}function Cm(n,t,e){if(!(!t||!n)){if(!e)return n[t];for(var r=t.split("."),i=n,o=0;o<r.length;o++){if(i==null)return;i=i[r[o]]}return i}}function RX(n,t,e){t===void 0&&(t=[]),Object.keys(n).forEach(function(a){var s=n[a];typeof s=="object"&&!t.includes(a)&&(n[a]=void 0)});var r=Object.getPrototypeOf(n),i={},o=function(a){return"AG Grid: Grid API function ".concat(a,`() cannot be called as the grid has been destroyed.
    It is recommended to remove local references to the grid api. Alternatively, check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
    To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: `).concat(e)};Object.getOwnPropertyNames(r).forEach(function(a){var s=r[a];if(typeof s=="function"&&!t.includes(a)){var l=function(){console.warn(o(a))};i[a]={value:l,writable:!0}}}),Object.defineProperties(n,i)}function dR(n){return typeof n=="object"&&n!==null}var AMe=Object.freeze({__proto__:null,iterateObject:no,cloneObject:xV,deepCloneDefinition:cR,getAllValuesInObject:qp,mergeDeep:Qa,getValueUsingField:Cm,removeAllReferences:RX,isNonNullObject:dR}),z3={};function $f(n,t){z3[t]||(n(),z3[t]=!0)}function at(n){$f(function(){return console.warn("AG Grid: "+n)},n)}function _l(n){$f(function(){return console.error("AG Grid: "+n)},n)}function eD(n){if(n.name)return n.name;var t=/function\s+([^\(]+)/.exec(n.toString());return t&&t.length===2?t[1].trim():null}function tD(n){return!!(n&&n.constructor&&n.call&&n.apply)}function TX(n){PX(n,400)}var hM=[],fM=!1;function n1(n){hM.push(n),!fM&&(fM=!0,window.setTimeout(function(){var t=hM.slice();hM.length=0,fM=!1,t.forEach(function(e){return e()})},0))}function PX(n,t){t===void 0&&(t=0),n.length>0&&window.setTimeout(function(){return n.forEach(function(e){return e()})},t)}function Ja(n,t){var e;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=this;window.clearTimeout(e),e=window.setTimeout(function(){n.apply(o,r)},t)}}function i1(n,t){var e=0;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=this,a=new Date().getTime();a-e<t||(e=a,n.apply(o,r))}}function bV(n,t,e,r){e===void 0&&(e=100);var i=new Date().getTime(),o=null,a=!1,s=function(){var l=new Date().getTime()-i>e;(n()||l)&&(t(),a=!0,o!=null&&(window.clearInterval(o),o=null),l&&r&&console.warn(r))};s(),a||(o=window.setInterval(s,10))}function MMe(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return function(e){return n.reduce(function(r,i){return i(r)},e)}}var LMe=function(){},FMe=Object.freeze({__proto__:null,doOnce:$f,warnOnce:at,errorOnce:_l,getFunctionName:eD,isFunction:tD,executeInAWhile:TX,executeNextVMTurn:n1,executeAfter:PX,debounce:Ja,throttle:i1,waitUntil:bV,compose:MMe,noop:LMe}),Te;(function(n){n.CommunityCoreModule="@ag-grid-community/core",n.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",n.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",n.CsvExportModule="@ag-grid-community/csv-export",n.EnterpriseCoreModule="@ag-grid-enterprise/core",n.RowGroupingModule="@ag-grid-enterprise/row-grouping",n.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",n.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",n.MenuModule="@ag-grid-enterprise/menu",n.SetFilterModule="@ag-grid-enterprise/set-filter",n.MultiFilterModule="@ag-grid-enterprise/multi-filter",n.StatusBarModule="@ag-grid-enterprise/status-bar",n.SideBarModule="@ag-grid-enterprise/side-bar",n.RangeSelectionModule="@ag-grid-enterprise/range-selection",n.MasterDetailModule="@ag-grid-enterprise/master-detail",n.RichSelectModule="@ag-grid-enterprise/rich-select",n.GridChartsModule="@ag-grid-enterprise/charts",n.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",n.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",n.ExcelExportModule="@ag-grid-enterprise/excel-export",n.ClipboardModule="@ag-grid-enterprise/clipboard",n.SparklinesModule="@ag-grid-enterprise/sparklines",n.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",n.AngularModule="@ag-grid-community/angular",n.ReactModule="@ag-grid-community/react",n.VueModule="@ag-grid-community/vue"})(Te||(Te={}));var fC=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},K3=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},ut=function(){function n(){}return n.register=function(t){n.__register(t,!0,void 0)},n.registerModules=function(t){n.__registerModules(t,!0,void 0)},n.__register=function(t,e,r){n.runVersionChecks(t),r!==void 0?(n.areGridScopedModules=!0,n.gridModulesMap[r]===void 0&&(n.gridModulesMap[r]={}),n.gridModulesMap[r][t.moduleName]=t):n.globalModulesMap[t.moduleName]=t,n.setModuleBased(e)},n.__unRegisterGridModules=function(t){delete n.gridModulesMap[t]},n.__registerModules=function(t,e,r){n.setModuleBased(e),t&&t.forEach(function(i){return n.__register(i,e,r)})},n.isValidModuleVersion=function(t){var e=fC(t.version.split(".")||[],2),r=e[0],i=e[1],o=fC(n.currentModuleVersion.split(".")||[],2),a=o[0],s=o[1];return r===a&&i===s},n.runVersionChecks=function(t){if(n.currentModuleVersion||(n.currentModuleVersion=t.version),t.version?n.isValidModuleVersion(t)||console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '".concat(t.moduleName,"' is version ").concat(t.version," but the other modules are version ").concat(this.currentModuleVersion,". Please update all modules to the same version.")):console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '".concat(t.moduleName,"' is incompatible. Please update all modules to the same version.")),t.validate){var e=t.validate();if(!e.isValid){var r=e;console.error("AG Grid: ".concat(r.message))}}},n.setModuleBased=function(t){n.moduleBased===void 0?n.moduleBased=t:n.moduleBased!==t&&$f(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},n.__setIsBundled=function(){n.isBundled=!0},n.__assertRegistered=function(t,e,r){var i;if(this.__isRegistered(t,r))return!0;var o=e+t,a;if(n.isBundled)a="AG Grid: unable to use ".concat(e,` as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`);else if(n.moduleBased||n.moduleBased===void 0){var s=(i=Object.entries(Te).find(function(l){var u=fC(l,2);u[0];var c=u[1];return c===t}))===null||i===void 0?void 0:i[0];a="AG Grid: unable to use ".concat(e," as the ").concat(s," is not registered").concat(n.areGridScopedModules?" for gridId: ".concat(r):"",`. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { `).concat(s," } from '").concat(t,`';
    
    ModuleRegistry.registerModules([ `).concat(s,` ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`)}else a="AG Grid: unable to use ".concat(e,` as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';
            
For more info see: https://www.ag-grid.com/javascript-grid/packages/`);return $f(function(){console.warn(a)},o),!1},n.__warnEnterpriseChartDisabled=function(t){var e="ag-charts-enterprise",r=e+":"+t,i="https://ag-grid.com/javascript-data-grid/integrated-charts/",o="AG Grid: the '".concat(t,"' chart type is not supported in AG Charts Community. See ").concat(i," for more details.");$f(function(){console.warn(o)},r)},n.__isRegistered=function(t,e){var r;return!!n.globalModulesMap[t]||!!(!((r=n.gridModulesMap[e])===null||r===void 0)&&r[t])},n.__getRegisteredModules=function(t){return K3(K3([],fC(Hf(n.globalModulesMap)),!1),fC(Hf(n.gridModulesMap[t]||{})),!1)},n.__getGridRegisteredModules=function(t){var e;return Hf((e=n.gridModulesMap[t])!==null&&e!==void 0?e:{})||[]},n.__isPackageBased=function(){return!n.moduleBased},n.globalModulesMap={},n.gridModulesMap={},n.areGridScopedModules=!1,n}(),IMe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},NMe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},DX=function(){function n(t,e){if(this.beanWrappers={},this.destroyed=!1,!(!t||!t.beanClasses)){this.contextParams=t,this.logger=e,this.logger.log(">> creating ag-Application Context"),this.createBeans();var r=this.getBeanInstances();this.wireBeans(r),this.logger.log(">> ag-Application Context ready - component is alive")}}return n.prototype.getBeanInstances=function(){return Hf(this.beanWrappers).map(function(t){return t.beanInstance})},n.prototype.createBean=function(t,e){if(!t)throw Error("Can't wire to bean since it is null");return this.wireBeans([t],e),t},n.prototype.wireBeans=function(t,e){this.autoWireBeans(t),this.methodWireBeans(t),this.callLifeCycleMethods(t,"preConstructMethods"),ye(e)&&t.forEach(e),this.callLifeCycleMethods(t,"postConstructMethods")},n.prototype.createBeans=function(){var t=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),no(this.beanWrappers,function(r,i){var o;i.bean.__agBeanMetaData&&i.bean.__agBeanMetaData.autowireMethods&&i.bean.__agBeanMetaData.autowireMethods.agConstructor&&(o=i.bean.__agBeanMetaData.autowireMethods.agConstructor);var a=t.getBeansForParameters(o,i.bean.name),s=new(i.bean.bind.apply(i.bean,NMe([null],IMe(a),!1)));i.beanInstance=s});var e=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: ".concat(e))},n.prototype.createBeanWrapper=function(t){var e=t.__agBeanMetaData;if(!e){var r=void 0;t.prototype.constructor?r=eD(t.prototype.constructor):r=""+t,console.error("Context item ".concat(r," is not a bean"));return}var i={bean:t,beanInstance:null,beanName:e.beanName};this.beanWrappers[e.beanName]=i},n.prototype.autoWireBeans=function(t){var e=this;t.forEach(function(r){e.forEachMetaDataInHierarchy(r,function(i,o){var a=i.agClassAttributes;a&&a.forEach(function(s){var l=e.lookupBeanInstance(o,s.beanName,s.optional);r[s.attributeName]=l})})})},n.prototype.methodWireBeans=function(t){var e=this;t.forEach(function(r){e.forEachMetaDataInHierarchy(r,function(i,o){no(i.autowireMethods,function(a,s){if(a!=="agConstructor"){var l=e.getBeansForParameters(s,o);r[a].apply(r,l)}})})})},n.prototype.forEachMetaDataInHierarchy=function(t,e){for(var r=Object.getPrototypeOf(t);r!=null;){var i=r.constructor;if(i.hasOwnProperty("__agBeanMetaData")){var o=i.__agBeanMetaData,a=this.getBeanName(i);e(o,a)}r=Object.getPrototypeOf(r)}},n.prototype.getBeanName=function(t){if(t.__agBeanMetaData&&t.__agBeanMetaData.beanName)return t.__agBeanMetaData.beanName;var e=t.toString(),r=e.substring(9,e.indexOf("("));return r},n.prototype.getBeansForParameters=function(t,e){var r=this,i=[];return t&&no(t,function(o,a){var s=r.lookupBeanInstance(e,a);i[Number(o)]=s}),i},n.prototype.lookupBeanInstance=function(t,e,r){if(r===void 0&&(r=!1),this.destroyed)return this.logger.log("AG Grid: bean reference ".concat(e," is used after the grid is destroyed!")),null;if(e==="context")return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(e))return this.contextParams.providedBeanInstances[e];var i=this.beanWrappers[e];return i?i.beanInstance:(r||console.error("AG Grid: unable to find bean reference ".concat(e," while initialising ").concat(t)),null)},n.prototype.callLifeCycleMethods=function(t,e){var r=this;t.forEach(function(i){return r.callLifeCycleMethodsOnBean(i,e)})},n.prototype.callLifeCycleMethodsOnBean=function(t,e,r){var i={};this.forEachMetaDataInHierarchy(t,function(a){var s=a[e];s&&s.forEach(function(l){l!=r&&(i[l]=!0)})});var o=Object.keys(i);o.forEach(function(a){return t[a]()})},n.prototype.getBean=function(t){return this.lookupBeanInstance("getBean",t,!0)},n.prototype.destroy=function(){if(!this.destroyed){this.destroyed=!0,this.logger.log(">> Shutting down ag-Application Context");var t=this.getBeanInstances();this.destroyBeans(t),this.contextParams.providedBeanInstances=null,ut.__unRegisterGridModules(this.contextParams.gridId),this.logger.log(">> ag-Application Context shut down - component is dead")}},n.prototype.destroyBean=function(t){t&&this.destroyBeans([t])},n.prototype.destroyBeans=function(t){var e=this;return t?(t.forEach(function(r){e.callLifeCycleMethodsOnBean(r,"preDestroyMethods","destroy");var i=r;typeof i.destroy=="function"&&i.destroy()}),[]):[]},n.prototype.isDestroyed=function(){return this.destroyed},n.prototype.getGridId=function(){return this.contextParams.gridId},n}();function uv(n,t,e){var r=cv(n.constructor);r.preConstructMethods||(r.preConstructMethods=[]),r.preConstructMethods.push(t)}function q(n,t,e){var r=cv(n.constructor);r.postConstructMethods||(r.postConstructMethods=[]),r.postConstructMethods.push(t)}function Gr(n,t,e){var r=cv(n.constructor);r.preDestroyMethods||(r.preDestroyMethods=[]),r.preDestroyMethods.push(t)}function me(n){return function(t){var e=cv(t);e.beanName=n}}function O(n){return function(t,e,r){AX(t,n,!1,t,e,null)}}function xt(n){return function(t,e,r){AX(t,n,!0,t,e,null)}}function AX(n,t,e,r,i,o){if(t===null){console.error("AG Grid: Autowired name should not be null");return}if(typeof o=="number"){console.error("AG Grid: Autowired should be on an attribute");return}var a=cv(n.constructor);a.agClassAttributes||(a.agClassAttributes=[]),a.agClassAttributes.push({attributeName:i,beanName:t,optional:e})}function es(n){return function(t,e,r){var i=typeof t=="function"?t:t.constructor,o;if(typeof r=="number"){var a=void 0;e?(o=cv(i),a=e):(o=cv(i),a="agConstructor"),o.autowireMethods||(o.autowireMethods={}),o.autowireMethods[a]||(o.autowireMethods[a]={}),o.autowireMethods[a][r]=n}}}function cv(n){return n.hasOwnProperty("__agBeanMetaData")||(n.__agBeanMetaData={}),n.__agBeanMetaData}var Y3=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},kx=function(n,t){return function(e,r){t(e,r,n)}},Vl=function(){function n(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return n.prototype.setBeans=function(t,e,r,i){if(r===void 0&&(r=null),i===void 0&&(i=null),this.frameworkOverrides=e,this.gridOptionsService=t,r){var o=t.useAsyncEvents();this.addGlobalListener(r,o)}i&&this.addGlobalListener(i,!1)},n.prototype.setFrameworkOverrides=function(t){this.frameworkOverrides=t},n.prototype.getListeners=function(t,e,r){var i=e?this.allAsyncListeners:this.allSyncListeners,o=i.get(t);return!o&&r&&(o=new Set,i.set(t,o)),o},n.prototype.noRegisteredListenersExist=function(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0},n.prototype.addEventListener=function(t,e,r){r===void 0&&(r=!1),this.getListeners(t,r,!0).add(e)},n.prototype.removeEventListener=function(t,e,r){r===void 0&&(r=!1);var i=this.getListeners(t,r,!1);if(i&&(i.delete(e),i.size===0)){var o=r?this.allAsyncListeners:this.allSyncListeners;o.delete(t)}},n.prototype.addGlobalListener=function(t,e){e===void 0&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).add(t)},n.prototype.removeGlobalListener=function(t,e){e===void 0&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).delete(t)},n.prototype.dispatchEvent=function(t){var e=t;this.gridOptionsService&&this.gridOptionsService.addGridCommonParams(e),this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0},n.prototype.dispatchEventOnce=function(t){this.firedEvents[t.type]||this.dispatchEvent(t)},n.prototype.dispatchToListeners=function(t,e){var r=this,i,o=t.type;if(e&&"event"in t){var a=t.event;a instanceof Event&&(t.eventPath=a.composedPath())}var s=function(d,p){return d.forEach(function(h){if(p.has(h)){var f=r.frameworkOverrides?function(){return r.frameworkOverrides.wrapIncoming(function(){return h(t)})}:function(){return h(t)};e?r.dispatchAsync(f):f()}})},l=(i=this.getListeners(o,e,!1))!==null&&i!==void 0?i:new Set,u=new Set(l);u.size>0&&s(u,l);var c=new Set(e?this.globalAsyncListeners:this.globalSyncListeners);c.forEach(function(d){var p=r.frameworkOverrides?function(){return r.frameworkOverrides.wrapIncoming(function(){return d(o,t)})}:function(){return d(o,t)};e?r.dispatchAsync(p):p()})},n.prototype.dispatchAsync=function(t){var e=this;this.asyncFunctionsQueue.push(t),this.scheduled||(this.frameworkOverrides.wrapIncoming(function(){window.setTimeout(e.flushAsyncQueue.bind(e),0)}),this.scheduled=!0)},n.prototype.flushAsyncQueue=function(){this.scheduled=!1;var t=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],t.forEach(function(e){return e()})},Y3([kx(0,es("gridOptionsService")),kx(1,es("frameworkOverrides")),kx(2,es("globalEventListener")),kx(3,es("globalSyncEventListener"))],n.prototype,"setBeans",null),n=Y3([me("eventService")],n),n}(),EV=function(){function n(t){this.frameworkOverrides=t,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}return n.prototype.wrap=function(t){var e=this,r=t;return this.frameworkOverrides.shouldWrapOutgoing&&(r=function(i){e.frameworkOverrides.wrapOutgoing(function(){return t(i)})},this.wrappedListeners.set(t,r)),r},n.prototype.wrapGlobal=function(t){var e=this,r=t;return this.frameworkOverrides.shouldWrapOutgoing&&(r=function(i,o){e.frameworkOverrides.wrapOutgoing(function(){return t(i,o)})},this.wrappedGlobalListeners.set(t,r)),r},n.prototype.unwrap=function(t){var e;return(e=this.wrappedListeners.get(t))!==null&&e!==void 0?e:t},n.prototype.unwrapGlobal=function(t){var e;return(e=this.wrappedGlobalListeners.get(t))!==null&&e!==void 0?e:t},n}(),vC=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},kMe={resizable:!0,sortable:!0},GMe=0;function MX(){return GMe++}var Rt=function(){function n(t,e,r,i){this.instanceId=MX(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.eventService=new Vl,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=t,this.userProvidedColDef=e,this.colId=r,this.primary=i,this.setState(t)}return n.prototype.getInstanceId=function(){return this.instanceId},n.prototype.setState=function(t){t.sort!==void 0?(t.sort==="asc"||t.sort==="desc")&&(this.sort=t.sort):(t.initialSort==="asc"||t.initialSort==="desc")&&(this.sort=t.initialSort);var e=t.sortIndex,r=t.initialSortIndex;e!==void 0?e!==null&&(this.sortIndex=e):r!==null&&(this.sortIndex=r);var i=t.hide,o=t.initialHide;i!==void 0?this.visible=!i:this.visible=!o,t.pinned!==void 0?this.setPinned(t.pinned):this.setPinned(t.initialPinned);var a=t.flex,s=t.initialFlex;a!==void 0?this.flex=a:s!==void 0&&(this.flex=s)},n.prototype.setColDef=function(t,e,r){this.colDef=t,this.userProvidedColDef=e,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged",r))},n.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},n.prototype.setParent=function(t){this.parent=t},n.prototype.getParent=function(){return this.parent},n.prototype.setOriginalParent=function(t){this.originalParent=t},n.prototype.getOriginalParent=function(){return this.originalParent},n.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()},n.prototype.initDotNotation=function(){var t=this.gridOptionsService.get("suppressFieldDotNotation");this.fieldContainsDots=ye(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!t,this.tooltipFieldContainsDots=ye(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!t},n.prototype.initMinAndMaxWidths=function(){var t=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(t),this.maxWidth=this.columnUtils.calculateColMaxWidth(t)},n.prototype.initTooltip=function(){this.tooltipEnabled=ye(this.colDef.tooltipField)||ye(this.colDef.tooltipValueGetter)||ye(this.colDef.tooltipComponent)},n.prototype.resetActualWidth=function(t){var e=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(e,t,!0)},n.prototype.isEmptyGroup=function(){return!1},n.prototype.isRowGroupDisplayed=function(t){if(pt(this.colDef)||pt(this.colDef.showRowGroup))return!1;var e=this.colDef.showRowGroup===!0,r=this.colDef.showRowGroup===t;return e||r},n.prototype.isPrimary=function(){return this.primary},n.prototype.isFilterAllowed=function(){var t=!!this.colDef.filter;return t},n.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},n.prototype.isTooltipEnabled=function(){return this.tooltipEnabled},n.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},n.prototype.addEventListener=function(t,e){var r,i;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new EV(this.frameworkOverrides));var o=(i=(r=this.frameworkEventListenerService)===null||r===void 0?void 0:r.wrap(e))!==null&&i!==void 0?i:e;this.eventService.addEventListener(t,o)},n.prototype.removeEventListener=function(t,e){var r,i,o=(i=(r=this.frameworkEventListenerService)===null||r===void 0?void 0:r.unwrap(e))!==null&&i!==void 0?i:e;this.eventService.removeEventListener(t,o)},n.prototype.createColumnFunctionCallbackParams=function(t){return this.gridOptionsService.addGridCommonParams({node:t,data:t.data,column:this,colDef:this.colDef})},n.prototype.isSuppressNavigable=function(t){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){var e=this.createColumnFunctionCallbackParams(t),r=this.colDef.suppressNavigable;return r(e)}return!1},n.prototype.isCellEditable=function(t){return t.group&&!this.gridOptionsService.get("enableGroupEdit")?!1:this.isColumnFunc(t,this.colDef.editable)},n.prototype.isSuppressFillHandle=function(){return!!this.colDef.suppressFillHandle},n.prototype.isAutoHeight=function(){return!!this.colDef.autoHeight},n.prototype.isAutoHeaderHeight=function(){return!!this.colDef.autoHeaderHeight},n.prototype.isRowDrag=function(t){return this.isColumnFunc(t,this.colDef.rowDrag)},n.prototype.isDndSource=function(t){return this.isColumnFunc(t,this.colDef.dndSource)},n.prototype.isCellCheckboxSelection=function(t){return this.isColumnFunc(t,this.colDef.checkboxSelection)},n.prototype.isSuppressPaste=function(t){return this.isColumnFunc(t,this.colDef?this.colDef.suppressPaste:null)},n.prototype.isResizable=function(){return!!this.getColDefValue("resizable")},n.prototype.getColDefValue=function(t){var e;return(e=this.colDef[t])!==null&&e!==void 0?e:kMe[t]},n.prototype.isColumnFunc=function(t,e){if(typeof e=="boolean")return e;if(typeof e=="function"){var r=this.createColumnFunctionCallbackParams(t),i=e;return i(r)}return!1},n.prototype.setMoving=function(t,e){this.moving=t,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",e))},n.prototype.createColumnEvent=function(t,e){return this.gridOptionsService.addGridCommonParams({type:t,column:this,columns:[this],source:e})},n.prototype.isMoving=function(){return this.moving},n.prototype.getSort=function(){return this.sort},n.prototype.setSort=function(t,e){this.sort!==t&&(this.sort=t,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",e))),this.dispatchStateUpdatedEvent("sort")},n.prototype.setMenuVisible=function(t,e){this.menuVisible!==t&&(this.menuVisible=t,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",e)))},n.prototype.isMenuVisible=function(){return this.menuVisible},n.prototype.isSortable=function(){return!!this.getColDefValue("sortable")},n.prototype.isSortAscending=function(){return this.sort==="asc"},n.prototype.isSortDescending=function(){return this.sort==="desc"},n.prototype.isSortNone=function(){return pt(this.sort)},n.prototype.isSorting=function(){return ye(this.sort)},n.prototype.getSortIndex=function(){return this.sortIndex},n.prototype.setSortIndex=function(t){this.sortIndex=t,this.dispatchStateUpdatedEvent("sortIndex")},n.prototype.setAggFunc=function(t){this.aggFunc=t,this.dispatchStateUpdatedEvent("aggFunc")},n.prototype.getAggFunc=function(){return this.aggFunc},n.prototype.getLeft=function(){return this.left},n.prototype.getOldLeft=function(){return this.oldLeft},n.prototype.getRight=function(){return this.left+this.actualWidth},n.prototype.setLeft=function(t,e){this.oldLeft=this.left,this.left!==t&&(this.left=t,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",e)))},n.prototype.isFilterActive=function(){return this.filterActive},n.prototype.setFilterActive=function(t,e,r){this.filterActive!==t&&(this.filterActive=t,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",e)));var i=this.createColumnEvent("filterChanged",e);r&&Qa(i,r),this.eventService.dispatchEvent(i)},n.prototype.isHovered=function(){return this.columnHoverService.isHovered(this)},n.prototype.setPinned=function(t){t===!0||t==="left"?this.pinned="left":t==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")},n.prototype.setFirstRightPinned=function(t,e){this.firstRightPinned!==t&&(this.firstRightPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",e)))},n.prototype.setLastLeftPinned=function(t,e){this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",e)))},n.prototype.isFirstRightPinned=function(){return this.firstRightPinned},n.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},n.prototype.isPinned=function(){return this.pinned==="left"||this.pinned==="right"},n.prototype.isPinnedLeft=function(){return this.pinned==="left"},n.prototype.isPinnedRight=function(){return this.pinned==="right"},n.prototype.getPinned=function(){return this.pinned},n.prototype.setVisible=function(t,e){var r=t===!0;this.visible!==r&&(this.visible=r,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",e))),this.dispatchStateUpdatedEvent("hide")},n.prototype.isVisible=function(){return this.visible},n.prototype.isSpanHeaderHeight=function(){var t=this.getColDef();return!t.suppressSpanHeaderHeight&&!t.autoHeaderHeight},n.prototype.getColumnGroupPaddingInfo=function(){var t=this.getParent();if(!t||!t.isPadding())return{numberOfParents:0,isSpanningTotal:!1};for(var e=t.getPaddingLevel()+1,r=!0;t;){if(!t.isPadding()){r=!1;break}t=t.getParent()}return{numberOfParents:e,isSpanningTotal:r}},n.prototype.getColDef=function(){return this.colDef},n.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},n.prototype.getColId=function(){return this.colId},n.prototype.getId=function(){return this.colId},n.prototype.getUniqueId=function(){return this.colId},n.prototype.getDefinition=function(){return this.colDef},n.prototype.getActualWidth=function(){return this.actualWidth},n.prototype.getAutoHeaderHeight=function(){return this.autoHeaderHeight},n.prototype.setAutoHeaderHeight=function(t){var e=t!==this.autoHeaderHeight;return this.autoHeaderHeight=t,e},n.prototype.createBaseColDefParams=function(t){var e=this.gridOptionsService.addGridCommonParams({node:t,data:t.data,colDef:this.colDef,column:this});return e},n.prototype.getColSpan=function(t){if(pt(this.colDef.colSpan))return 1;var e=this.createBaseColDefParams(t),r=this.colDef.colSpan(e);return Math.max(r,1)},n.prototype.getRowSpan=function(t){if(pt(this.colDef.rowSpan))return 1;var e=this.createBaseColDefParams(t),r=this.colDef.rowSpan(e);return Math.max(r,1)},n.prototype.setActualWidth=function(t,e,r){r===void 0&&(r=!1),this.minWidth!=null&&(t=Math.max(t,this.minWidth)),this.maxWidth!=null&&(t=Math.min(t,this.maxWidth)),this.actualWidth!==t&&(this.actualWidth=t,this.flex&&e!=="flex"&&e!=="gridInitializing"&&(this.flex=null),r||this.fireColumnWidthChangedEvent(e)),this.dispatchStateUpdatedEvent("width")},n.prototype.fireColumnWidthChangedEvent=function(t){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",t))},n.prototype.isGreaterThanMax=function(t){return this.maxWidth!=null?t>this.maxWidth:!1},n.prototype.getMinWidth=function(){return this.minWidth},n.prototype.getMaxWidth=function(){return this.maxWidth},n.prototype.getFlex=function(){return this.flex||0},n.prototype.setFlex=function(t){this.flex!==t&&(this.flex=t),this.dispatchStateUpdatedEvent("flex")},n.prototype.setMinimum=function(t){ye(this.minWidth)&&this.setActualWidth(this.minWidth,t)},n.prototype.setRowGroupActive=function(t,e){this.rowGroupActive!==t&&(this.rowGroupActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",e))),this.dispatchStateUpdatedEvent("rowGroup")},n.prototype.isRowGroupActive=function(){return this.rowGroupActive},n.prototype.setPivotActive=function(t,e){this.pivotActive!==t&&(this.pivotActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",e))),this.dispatchStateUpdatedEvent("pivot")},n.prototype.isPivotActive=function(){return this.pivotActive},n.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},n.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},n.prototype.setValueActive=function(t,e){this.aggregationActive!==t&&(this.aggregationActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",e)))},n.prototype.isValueActive=function(){return this.aggregationActive},n.prototype.isAllowPivot=function(){return this.colDef.enablePivot===!0},n.prototype.isAllowValue=function(){return this.colDef.enableValue===!0},n.prototype.isAllowRowGroup=function(){return this.colDef.enableRowGroup===!0},n.prototype.getMenuTabs=function(t){at("As of v31.1, 'getMenuTabs' is deprecated. Use 'getColDef().menuTabs ?? defaultValues' instead.");var e=this.getColDef().menuTabs;return e==null&&(e=t),e},n.prototype.dispatchStateUpdatedEvent=function(t){this.eventService.dispatchEvent({type:n.EVENT_STATE_UPDATED,key:t})},n.EVENT_MOVING_CHANGED="movingChanged",n.EVENT_LEFT_CHANGED="leftChanged",n.EVENT_WIDTH_CHANGED="widthChanged",n.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",n.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",n.EVENT_VISIBLE_CHANGED="visibleChanged",n.EVENT_FILTER_CHANGED="filterChanged",n.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",n.EVENT_SORT_CHANGED="sortChanged",n.EVENT_COL_DEF_CHANGED="colDefChanged",n.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",n.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",n.EVENT_PIVOT_CHANGED="columnPivotChanged",n.EVENT_VALUE_CHANGED="columnValueChanged",n.EVENT_STATE_UPDATED="columnStateUpdated",vC([O("gridOptionsService")],n.prototype,"gridOptionsService",void 0),vC([O("columnUtils")],n.prototype,"columnUtils",void 0),vC([O("columnHoverService")],n.prototype,"columnHoverService",void 0),vC([O("frameworkOverrides")],n.prototype,"frameworkOverrides",void 0),vC([q],n.prototype,"initialise",null),n}(),VMe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},er=function(){function n(t,e,r,i){this.localEventService=new Vl,this.expandable=!1,this.instanceId=MX(),this.expandableListenerRemoveCallback=null,this.colGroupDef=t,this.groupId=e,this.expanded=!!t&&!!t.openByDefault,this.padding=r,this.level=i}return n.prototype.destroy=function(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)},n.prototype.reset=function(t,e){this.colGroupDef=t,this.level=e,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0},n.prototype.getInstanceId=function(){return this.instanceId},n.prototype.setOriginalParent=function(t){this.originalParent=t},n.prototype.getOriginalParent=function(){return this.originalParent},n.prototype.getLevel=function(){return this.level},n.prototype.isVisible=function(){return this.children?this.children.some(function(t){return t.isVisible()}):!1},n.prototype.isPadding=function(){return this.padding},n.prototype.setExpanded=function(t){this.expanded=t===void 0?!1:t;var e={type:n.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(e)},n.prototype.isExpandable=function(){return this.expandable},n.prototype.isExpanded=function(){return this.expanded},n.prototype.getGroupId=function(){return this.groupId},n.prototype.getId=function(){return this.getGroupId()},n.prototype.setChildren=function(t){this.children=t},n.prototype.getChildren=function(){return this.children},n.prototype.getColGroupDef=function(){return this.colGroupDef},n.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},n.prototype.addLeafColumns=function(t){this.children&&this.children.forEach(function(e){e instanceof Rt?t.push(e):e instanceof n&&e.addLeafColumns(t)})},n.prototype.getColumnGroupShow=function(){var t=this.colGroupDef;if(t)return t.columnGroupShow},n.prototype.setupExpandable=function(){var t=this;this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();var e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(function(r){return r.addEventListener("visibleChanged",e)}),this.expandableListenerRemoveCallback=function(){t.getLeafColumns().forEach(function(r){return r.removeEventListener("visibleChanged",e)}),t.expandableListenerRemoveCallback=null}},n.prototype.setExpandable=function(){if(!this.isPadding()){for(var t=!1,e=!1,r=!1,i=this.findChildrenRemovingPadding(),o=0,a=i.length;o<a;o++){var s=i[o];if(s.isVisible()){var l=s.getColumnGroupShow();l==="open"?(t=!0,r=!0):l==="closed"?(e=!0,r=!0):(t=!0,e=!0)}}var u=t&&e&&r;if(this.expandable!==u){this.expandable=u;var c={type:n.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(c)}}},n.prototype.findChildrenRemovingPadding=function(){var t=[],e=function(r){r.forEach(function(i){var o=i instanceof n&&i.isPadding();o?e(i.children):t.push(i)})};return e(this.children),t},n.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},n.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},n.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},n.EVENT_EXPANDED_CHANGED="expandedChanged",n.EVENT_EXPANDABLE_CHANGED="expandableChanged",VMe([Gr],n.prototype,"destroy",null),n}(),BMe={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function jMe(n){return n!=null&&n.length>0}function Yt(n){if(!(!n||!n.length))return n[n.length-1]}function kc(n,t,e){return n==null&&t==null?!0:n!=null&&t!=null&&n.length===t.length&&n.every(function(r,i){return e?e(r,t[i]):t[i]===r})}function HMe(n,t){return kc(n,t)}function LX(n){return n.sort(function(t,e){return t-e})}function $Me(n,t){if(n)for(var e=n.length-2;e>=0;e--){var r=n[e]===t,i=n[e+1]===t;r&&i&&n.splice(e+1,1)}}function OV(n,t){var e=n.indexOf(t);e>=0&&(n[e]=n[n.length-1],n.pop())}function Jo(n,t){var e=n.indexOf(t);e>=0&&n.splice(e,1)}function FX(n,t){for(var e=0;e<t.length;e++)OV(n,t[e])}function IX(n,t){for(var e=0;e<t.length;e++)Jo(n,t[e])}function v0(n,t,e){n.splice(e,0,t)}function WMe(n,t,e){if(!(n==null||t==null))for(var r=t.length-1;r>=0;r--){var i=t[r];v0(n,i,e)}}function o1(n,t,e){IX(n,t),t.slice().reverse().forEach(function(r){return v0(n,r,e)})}function Ol(n,t){return n.indexOf(t)>-1}function NX(n){return[].concat.apply([],n)}function a1(n,t){t==null||n==null||t.forEach(function(e){return n.push(e)})}function UMe(n){return n.map(f0)}function zMe(n,t){if(n!=null)for(var e=n.length-1;e>=0;e--)t(n[e],e)}var KMe=Object.freeze({__proto__:null,existsAndNotEmpty:jMe,last:Yt,areEqual:kc,shallowCompare:HMe,sortNumerically:LX,removeRepeatsFromArray:$Me,removeFromUnorderedArray:OV,removeFromArray:Jo,removeAllFromUnorderedArray:FX,removeAllFromArray:IX,insertIntoArray:v0,insertArrayIntoArray:WMe,moveInArray:o1,includes:Ol,flatten:NX,pushAll:a1,toStrings:UMe,forEachReverse:zMe}),kX="__ag_Grid_Stop_Propagation",YMe=["touchstart","touchend","touchmove","touchcancel","scroll"],vM={};function Al(n){n[kX]=!0}function Rl(n){return n[kX]===!0}var RV=function(){var n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},t=function(e){if(typeof vM[e]=="boolean")return vM[e];var r=document.createElement(n[e]||"div");return e="on"+e,vM[e]=e in r};return t}();function pR(n,t,e){for(var r=t;r;){var i=n.getDomData(r,e);if(i)return i;r=r.parentElement}return null}function hR(n,t){return!t||!n?!1:VX(t).indexOf(n)>=0}function GX(n){for(var t=[],e=n.target;e;)t.push(e),e=e.parentElement;return t}function VX(n){var t=n;return t.path?t.path:t.composedPath?t.composedPath():GX(t)}function BX(n,t,e,r){var i=Ol(YMe,e),o=i?{passive:!0}:void 0;n&&n.addEventListener&&n.addEventListener(t,e,r,o)}var qMe=Object.freeze({__proto__:null,stopPropagationForAgGrid:Al,isStopPropagationForAgGrid:Rl,isEventSupported:RV,getCtrlForEventTarget:pR,isElementInEventPath:hR,createEventPath:GX,getEventPath:VX,addSafePassiveEventListener:BX}),Ah=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},re=function(){function n(){var t=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.lastChangeSetIdLookup={},this.propertyListenerId=0,this.isAlive=function(){return!t.destroyed}}return n.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},n.prototype.getContext=function(){return this.context},n.prototype.destroy=function(){this.destroyFunctions.forEach(function(t){return t()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:n.EVENT_DESTROYED})},n.prototype.addEventListener=function(t,e){this.localEventService||(this.localEventService=new Vl),this.localEventService.addEventListener(t,e)},n.prototype.removeEventListener=function(t,e){this.localEventService&&this.localEventService.removeEventListener(t,e)},n.prototype.dispatchEvent=function(t){this.localEventService&&this.localEventService.dispatchEvent(t)},n.prototype.addManagedListener=function(t,e,r){var i=this;if(!this.destroyed){t instanceof HTMLElement?BX(this.getFrameworkOverrides(),t,e,r):t.addEventListener(e,r);var o=function(){return t.removeEventListener(e,r),i.destroyFunctions=i.destroyFunctions.filter(function(a){return a!==o}),null};return this.destroyFunctions.push(o),o}},n.prototype.setupGridOptionListener=function(t,e){var r=this;this.gridOptionsService.addEventListener(t,e);var i=function(){return r.gridOptionsService.removeEventListener(t,e),r.destroyFunctions=r.destroyFunctions.filter(function(o){return o!==i}),null};return this.destroyFunctions.push(i),i},n.prototype.addManagedPropertyListener=function(t,e){return this.destroyed?function(){return null}:this.setupGridOptionListener(t,e)},n.prototype.addManagedPropertyListeners=function(t,e){var r=this;if(!this.destroyed){var i=t.join("-")+this.propertyListenerId++,o=function(a){if(a.changeSet){if(a.changeSet&&a.changeSet.id===r.lastChangeSetIdLookup[i])return;r.lastChangeSetIdLookup[i]=a.changeSet.id}var s={type:"gridPropertyChanged",changeSet:a.changeSet,source:a.source};e(s)};t.forEach(function(a){return r.setupGridOptionListener(a,o)})}},n.prototype.addDestroyFunc=function(t){this.isAlive()?this.destroyFunctions.push(t):t()},n.prototype.createManagedBean=function(t,e){var r=this.createBean(t,e);return this.addDestroyFunc(this.destroyBean.bind(this,t,e)),r},n.prototype.createBean=function(t,e,r){return(e||this.getContext()).createBean(t,r)},n.prototype.destroyBean=function(t,e){return(e||this.getContext()).destroyBean(t)},n.prototype.destroyBeans=function(t,e){var r=this;return t&&t.forEach(function(i){return r.destroyBean(i,e)}),[]},n.EVENT_DESTROYED="destroyed",Ah([O("frameworkOverrides")],n.prototype,"frameworkOverrides",void 0),Ah([O("context")],n.prototype,"context",void 0),Ah([O("eventService")],n.prototype,"eventService",void 0),Ah([O("gridOptionsService")],n.prototype,"gridOptionsService",void 0),Ah([O("localeService")],n.prototype,"localeService",void 0),Ah([O("environment")],n.prototype,"environment",void 0),Ah([Gr],n.prototype,"destroy",null),n}(),XMe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gx=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ZMe=function(n,t){return function(e,r){t(e,r,n)}},jX=function(n){XMe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.setBeans=function(e){this.logger=e.create("ColumnFactory")},t.prototype.createColumnTree=function(e,r,i,o){var a=new OX,s=this.extractExistingTreeData(i),l=s.existingCols,u=s.existingGroups,c=s.existingColKeys;a.addExistingKeys(c);var d=this.recursivelyCreateColumns(e,0,r,l,a,u,o),p=this.findMaxDept(d,0);this.logger.log("Number of levels for grouped columns is "+p);var h=this.balanceColumnTree(d,0,p,a),f=function(v,g){v instanceof er&&v.setupExpandable(),v.setOriginalParent(g)};return this.columnUtils.depthFirstOriginalTreeSearch(null,h,f),{columnTree:h,treeDept:p}},t.prototype.extractExistingTreeData=function(e){var r=[],i=[],o=[];return e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,function(a){if(a instanceof er){var s=a;i.push(s)}else{var l=a;o.push(l.getId()),r.push(l)}}),{existingCols:r,existingGroups:i,existingColKeys:o}},t.prototype.createForAutoGroups=function(e,r){var i=this;return e.map(function(o){return i.createAutoGroupTreeItem(r,o)})},t.prototype.createAutoGroupTreeItem=function(e,r){for(var i=this.findDepth(e),o=r,a=i-1;a>=0;a--){var s=new er(null,"FAKE_PATH_".concat(r.getId(),"}_").concat(a),!0,a);this.createBean(s),s.setChildren([o]),o.setOriginalParent(s),o=s}return i===0&&r.setOriginalParent(null),o},t.prototype.findDepth=function(e){for(var r=0,i=e;i&&i[0]&&i[0]instanceof er;)r++,i=i[0].getChildren();return r},t.prototype.balanceColumnTree=function(e,r,i,o){for(var a=[],s=0;s<e.length;s++){var l=e[s];if(l instanceof er){var u=l,c=this.balanceColumnTree(u.getChildren(),r+1,i,o);u.setChildren(c),a.push(u)}else{for(var d=void 0,p=void 0,h=i-1;h>=r;h--){var f=o.getUniqueKey(null,null),v=this.createMergedColGroupDef(null),g=new er(v,f,!0,r);this.createBean(g),p&&p.setChildren([g]),p=g,d||(d=p)}if(d&&p){a.push(d);var m=e.some(function(y){return y instanceof er});if(m){p.setChildren([l]);continue}else{p.setChildren(e);break}}a.push(l)}}return a},t.prototype.findMaxDept=function(e,r){for(var i=r,o=0;o<e.length;o++){var a=e[o];if(a instanceof er){var s=a,l=this.findMaxDept(s.getChildren(),r+1);i<l&&(i=l)}}return i},t.prototype.recursivelyCreateColumns=function(e,r,i,o,a,s,l){if(!e)return[];for(var u=new Array(e.length),c=0;c<u.length;c++){var d=e[c];this.isColumnGroup(d)?u[c]=this.createColumnGroup(i,d,r,o,a,s,l):u[c]=this.createColumn(i,d,o,a,l)}return u},t.prototype.createColumnGroup=function(e,r,i,o,a,s,l){var u=this.createMergedColGroupDef(r),c=a.getUniqueKey(u.groupId||null,null),d=new er(u,c,!1,i);this.createBean(d);var p=this.findExistingGroup(r,s);p&&s.splice(p.idx,1);var h=p==null?void 0:p.group;h&&d.setExpanded(h.isExpanded());var f=this.recursivelyCreateColumns(u.children,i+1,e,o,a,s,l);return d.setChildren(f),d},t.prototype.createMergedColGroupDef=function(e){var r={};return Object.assign(r,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(r,e),r},t.prototype.createColumn=function(e,r,i,o,a){var s=this.findExistingColumn(r,i);s&&(i==null||i.splice(s.idx,1));var l=s==null?void 0:s.column;if(l){var c=this.addColumnDefaultAndTypes(r,l.getColId());l.setColDef(c,r,a),this.applyColumnState(l,c,a)}else{var u=o.getUniqueKey(r.colId,r.field),c=this.addColumnDefaultAndTypes(r,u);l=new Rt(c,r,u,e),this.context.createBean(l)}return this.dataTypeService.addColumnListeners(l),l},t.prototype.applyColumnState=function(e,r,i){var o=Lp(r.flex);o!==void 0&&e.setFlex(o);var a=e.getFlex()<=0;if(a){var s=Lp(r.width);if(s!=null)e.setActualWidth(s,i);else{var l=e.getActualWidth();e.setActualWidth(l,i)}}r.sort!==void 0&&(r.sort=="asc"||r.sort=="desc"?e.setSort(r.sort,i):e.setSort(void 0,i));var u=Lp(r.sortIndex);u!==void 0&&e.setSortIndex(u);var c=uR(r.hide);c!==void 0&&e.setVisible(!c,i),r.pinned!==void 0&&e.setPinned(r.pinned)},t.prototype.findExistingColumn=function(e,r){if(r)for(var i=0;i<r.length;i++){var o=r[i].getUserProvidedColDef();if(o){var a=e.colId!=null;if(a){if(r[i].getId()===e.colId)return{idx:i,column:r[i]};continue}var s=e.field!=null;if(s){if(o.field===e.field)return{idx:i,column:r[i]};continue}if(o===e)return{idx:i,column:r[i]}}}},t.prototype.findExistingGroup=function(e,r){var i=e.groupId!=null;if(i)for(var o=0;o<r.length;o++){var a=r[o],s=a.getColGroupDef();if(s&&a.getId()===e.groupId)return{idx:o,group:a}}},t.prototype.addColumnDefaultAndTypes=function(e,r){var i={},o=this.gridOptionsService.get("defaultColDef");Qa(i,o,!1,!0);var a=this.dataTypeService.updateColDefAndGetColumnType(i,e,r);a&&this.assignColumnTypes(a,i),Qa(i,e,!1,!0);var s=this.gridOptionsService.get("autoGroupColumnDef"),l=this.gridOptionsService.isColumnsSortingCoupledToGroup();return e.rowGroup&&s&&l&&Qa(i,{sort:s.sort,initialSort:s.initialSort},!1,!0),this.dataTypeService.validateColDef(i),i},t.prototype.assignColumnTypes=function(e,r){if(e.length){var i=Object.assign({},BMe),o=this.gridOptionsService.get("columnTypes")||{};no(o,function(a,s){if(a in i)console.warn("AG Grid: the column type '".concat(a,"' is a default column type and cannot be overridden."));else{var l=s;l.type&&at("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),i[a]=s}}),e.forEach(function(a){var s=i[a.trim()];s?Qa(r,s,!1,!0):console.warn("AG Grid: colDef.type '"+a+"' does not correspond to defined gridOptions.columnTypes")})}},t.prototype.isColumnGroup=function(e){return e.children!==void 0},Gx([O("columnUtils")],t.prototype,"columnUtils",void 0),Gx([O("dataTypeService")],t.prototype,"dataTypeService",void 0),Gx([ZMe(0,es("loggerFactory"))],t.prototype,"setBeans",null),t=Gx([me("columnFactory")],t),t}(re),QMe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Fn=function(){function n(t,e,r,i){this.displayedChildren=[],this.localEventService=new Vl,this.groupId=e,this.partId=r,this.providedColumnGroup=t,this.pinned=i}return n.createUniqueId=function(t,e){return t+"_"+e},n.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},n.prototype.getParent=function(){return this.parent},n.prototype.setParent=function(t){this.parent=t},n.prototype.getUniqueId=function(){return n.createUniqueId(this.groupId,this.partId)},n.prototype.isEmptyGroup=function(){return this.displayedChildren.length===0},n.prototype.isMoving=function(){var t=this.getProvidedColumnGroup().getLeafColumns();return!t||t.length===0?!1:t.every(function(e){return e.isMoving()})},n.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(i){i instanceof n&&i.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsService.get("enableRtl")){var t=Yt(this.displayedChildren),e=t.getLeft();this.setLeft(e)}else{var r=this.displayedChildren[0].getLeft();this.setLeft(r)}else this.setLeft(null)},n.prototype.getLeft=function(){return this.left},n.prototype.getOldLeft=function(){return this.oldLeft},n.prototype.setLeft=function(t){this.oldLeft=this.left,this.left!==t&&(this.left=t,this.localEventService.dispatchEvent(this.createAgEvent(n.EVENT_LEFT_CHANGED)))},n.prototype.getPinned=function(){return this.pinned},n.prototype.createAgEvent=function(t){return{type:t}},n.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},n.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},n.prototype.getGroupId=function(){return this.groupId},n.prototype.getPartId=function(){return this.partId},n.prototype.isChildInThisGroupDeepSearch=function(t){var e=!1;return this.children.forEach(function(r){t===r&&(e=!0),r instanceof n&&r.isChildInThisGroupDeepSearch(t)&&(e=!0)}),e},n.prototype.getActualWidth=function(){var t=0;return this.displayedChildren&&this.displayedChildren.forEach(function(e){t+=e.getActualWidth()}),t},n.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var t=!1;return this.displayedChildren.forEach(function(e){e.isResizable()&&(t=!0)}),t},n.prototype.getMinWidth=function(){var t=0;return this.displayedChildren.forEach(function(e){t+=e.getMinWidth()||0}),t},n.prototype.addChild=function(t){this.children||(this.children=[]),this.children.push(t)},n.prototype.getDisplayedChildren=function(){return this.displayedChildren},n.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},n.prototype.getDisplayedLeafColumns=function(){var t=[];return this.addDisplayedLeafColumns(t),t},n.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},n.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},n.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},n.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},n.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},n.prototype.setExpanded=function(t){this.providedColumnGroup.setExpanded(t)},n.prototype.addDisplayedLeafColumns=function(t){this.displayedChildren.forEach(function(e){e instanceof Rt?t.push(e):e instanceof n&&e.addDisplayedLeafColumns(t)})},n.prototype.addLeafColumns=function(t){this.children.forEach(function(e){e instanceof Rt?t.push(e):e instanceof n&&e.addLeafColumns(t)})},n.prototype.getChildren=function(){return this.children},n.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},n.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},n.prototype.getPaddingLevel=function(){var t=this.getParent();return!this.isPadding()||!t||!t.isPadding()?0:1+t.getPaddingLevel()},n.prototype.calculateDisplayedColumns=function(){var t=this;this.displayedChildren=[];for(var e=this;e!=null&&e.isPadding();)e=e.getParent();var r=e?e.providedColumnGroup.isExpandable():!1;if(!r){this.displayedChildren=this.children,this.localEventService.dispatchEvent(this.createAgEvent(n.EVENT_DISPLAYED_CHILDREN_CHANGED));return}this.children.forEach(function(i){var o=i instanceof n&&(!i.displayedChildren||!i.displayedChildren.length);if(!o){var a=i.getColumnGroupShow();switch(a){case"open":e.providedColumnGroup.isExpanded()&&t.displayedChildren.push(i);break;case"closed":e.providedColumnGroup.isExpanded()||t.displayedChildren.push(i);break;default:t.displayedChildren.push(i);break}}}),this.localEventService.dispatchEvent(this.createAgEvent(n.EVENT_DISPLAYED_CHILDREN_CHANGED))},n.EVENT_LEFT_CHANGED="leftChanged",n.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",QMe([O("gridOptionsService")],n.prototype,"gridOptionsService",void 0),n}(),M=function(){function n(){}return n.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",n.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",n.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",n.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",n.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",n.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",n.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",n.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",n.EVENT_COLUMN_MOVED="columnMoved",n.EVENT_COLUMN_VISIBLE="columnVisible",n.EVENT_COLUMN_PINNED="columnPinned",n.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",n.EVENT_COLUMN_RESIZED="columnResized",n.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",n.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED="suppressMovableColumns",n.EVENT_SUPPRESS_MENU_HIDE_CHANGED="suppressMenuHide",n.EVENT_SUPPRESS_FIELD_DOT_NOTATION="suppressFieldDotNotation",n.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",n.EVENT_COLUMN_HEADER_MOUSE_OVER="columnHeaderMouseOver",n.EVENT_COLUMN_HEADER_MOUSE_LEAVE="columnHeaderMouseLeave",n.EVENT_COLUMN_HEADER_CLICKED="columnHeaderClicked",n.EVENT_COLUMN_HEADER_CONTEXT_MENU="columnHeaderContextMenu",n.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",n.EVENT_ROW_GROUP_OPENED="rowGroupOpened",n.EVENT_ROW_DATA_UPDATED="rowDataUpdated",n.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",n.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",n.EVENT_CHART_CREATED="chartCreated",n.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",n.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",n.EVENT_CHART_DESTROYED="chartDestroyed",n.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",n.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",n.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",n.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",n.EVENT_MODEL_UPDATED="modelUpdated",n.EVENT_CUT_START="cutStart",n.EVENT_CUT_END="cutEnd",n.EVENT_PASTE_START="pasteStart",n.EVENT_PASTE_END="pasteEnd",n.EVENT_FILL_START="fillStart",n.EVENT_FILL_END="fillEnd",n.EVENT_RANGE_DELETE_START="rangeDeleteStart",n.EVENT_RANGE_DELETE_END="rangeDeleteEnd",n.EVENT_UNDO_STARTED="undoStarted",n.EVENT_UNDO_ENDED="undoEnded",n.EVENT_REDO_STARTED="redoStarted",n.EVENT_REDO_ENDED="redoEnded",n.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",n.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",n.EVENT_CELL_CLICKED="cellClicked",n.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",n.EVENT_CELL_MOUSE_DOWN="cellMouseDown",n.EVENT_CELL_CONTEXT_MENU="cellContextMenu",n.EVENT_CELL_VALUE_CHANGED="cellValueChanged",n.EVENT_CELL_EDIT_REQUEST="cellEditRequest",n.EVENT_ROW_VALUE_CHANGED="rowValueChanged",n.EVENT_CELL_FOCUSED="cellFocused",n.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared",n.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",n.EVENT_ROW_SELECTED="rowSelected",n.EVENT_SELECTION_CHANGED="selectionChanged",n.EVENT_TOOLTIP_SHOW="tooltipShow",n.EVENT_TOOLTIP_HIDE="tooltipHide",n.EVENT_CELL_KEY_DOWN="cellKeyDown",n.EVENT_CELL_MOUSE_OVER="cellMouseOver",n.EVENT_CELL_MOUSE_OUT="cellMouseOut",n.EVENT_FILTER_CHANGED="filterChanged",n.EVENT_FILTER_MODIFIED="filterModified",n.EVENT_FILTER_OPENED="filterOpened",n.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED="advancedFilterBuilderVisibleChanged",n.EVENT_SORT_CHANGED="sortChanged",n.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",n.EVENT_ROW_CLICKED="rowClicked",n.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",n.EVENT_GRID_READY="gridReady",n.EVENT_GRID_PRE_DESTROYED="gridPreDestroyed",n.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",n.EVENT_VIEWPORT_CHANGED="viewportChanged",n.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",n.EVENT_FIRST_DATA_RENDERED="firstDataRendered",n.EVENT_DRAG_STARTED="dragStarted",n.EVENT_DRAG_STOPPED="dragStopped",n.EVENT_CHECKBOX_CHANGED="checkboxChanged",n.EVENT_ROW_EDITING_STARTED="rowEditingStarted",n.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",n.EVENT_CELL_EDITING_STARTED="cellEditingStarted",n.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",n.EVENT_BODY_SCROLL="bodyScroll",n.EVENT_BODY_SCROLL_END="bodyScrollEnd",n.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",n.EVENT_PAGINATION_CHANGED="paginationChanged",n.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",n.EVENT_STORE_REFRESHED="storeRefreshed",n.EVENT_STATE_UPDATED="stateUpdated",n.EVENT_COLUMN_MENU_VISIBLE_CHANGED="columnMenuVisibleChanged",n.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",n.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED="columnContainerWidthChanged",n.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",n.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",n.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",n.EVENT_FLASH_CELLS="flashCells",n.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",n.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",n.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",n.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",n.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",n.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",n.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",n.EVENT_ROW_DRAG_ENTER="rowDragEnter",n.EVENT_ROW_DRAG_MOVE="rowDragMove",n.EVENT_ROW_DRAG_LEAVE="rowDragLeave",n.EVENT_ROW_DRAG_END="rowDragEnd",n.EVENT_GRID_STYLES_CHANGED="gridStylesChanged",n.EVENT_POPUP_TO_FRONT="popupToFront",n.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",n.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",n.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",n.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",n.EVENT_STORE_UPDATED="storeUpdated",n.EVENT_FILTER_DESTROYED="filterDestroyed",n.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted",n.EVENT_ROW_COUNT_READY="rowCountReady",n.EVENT_ADVANCED_FILTER_ENABLED_CHANGED="advancedFilterEnabledChanged",n.EVENT_DATA_TYPES_INFERRED="dataTypesInferred",n.EVENT_FIELD_VALUE_CHANGED="fieldValueChanged",n.EVENT_FIELD_PICKER_VALUE_SELECTED="fieldPickerValueSelected",n.EVENT_SIDE_BAR_UPDATED="sideBarUpdated",n}(),TV=function(){function n(){this.existingIds={}}return n.prototype.getInstanceIdForKey=function(t){var e=this.existingIds[t],r;return typeof e!="number"?r=0:r=e+1,this.existingIds[t]=r,r},n}(),JMe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),gM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},nd="ag-Grid-AutoColumn",eLe=function(n){JMe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.createAutoGroupColumns=function(e){var r=this,i=[],o=this.gridOptionsService.get("treeData"),a=this.gridOptionsService.isGroupMultiAutoColumn();return o&&a&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),a=!1),a?e.forEach(function(s,l){i.push(r.createOneAutoGroupColumn(s,l))}):i.push(this.createOneAutoGroupColumn()),i},t.prototype.updateAutoGroupColumns=function(e,r){var i=this;e.forEach(function(o,a){return i.updateOneAutoGroupColumn(o,a,r)})},t.prototype.createOneAutoGroupColumn=function(e,r){var i;e?i="".concat(nd,"-").concat(e.getId()):i=nd;var o=this.createAutoGroupColDef(i,e,r);o.colId=i;var a=new Rt(o,null,i,!0);return this.context.createBean(a),a},t.prototype.updateOneAutoGroupColumn=function(e,r,i){var o=e.getColDef(),a=typeof o.showRowGroup=="string"?o.showRowGroup:void 0,s=a!=null?this.columnModel.getPrimaryColumn(a):void 0,l=this.createAutoGroupColDef(e.getId(),s??void 0,r);e.setColDef(l,null,i),this.columnFactory.applyColumnState(e,l,i)},t.prototype.createAutoGroupColDef=function(e,r,i){var o=this.createBaseColDef(r),a=this.gridOptionsService.get("autoGroupColumnDef");if(Qa(o,a),o=this.columnFactory.addColumnDefaultAndTypes(o,e),!this.gridOptionsService.get("treeData")){var s=pt(o.field)&&pt(o.valueGetter)&&pt(o.filterValueGetter)&&o.filter!=="agGroupColumnFilter";s&&(o.filter=!1)}i&&i>0&&(o.headerCheckboxSelection=!1);var l=this.gridOptionsService.isColumnsSortingCoupledToGroup(),u=o.valueGetter||o.field!=null;return l&&!u&&(o.sortIndex=void 0,o.initialSort=void 0),o},t.prototype.createBaseColDef=function(e){var r=this.gridOptionsService.get("autoGroupColumnDef"),i=this.localeService.getLocaleTextFunc(),o={headerName:i("group","Group")},a=r&&(r.cellRenderer||r.cellRendererSelector);if(a||(o.cellRenderer="agGroupCellRenderer"),e){var s=e.getColDef();Object.assign(o,{headerName:this.columnModel.getDisplayNameForColumn(e,"header"),headerValueGetter:s.headerValueGetter}),s.cellRenderer&&Object.assign(o,{cellRendererParams:{innerRenderer:s.cellRenderer,innerRendererParams:s.cellRendererParams}}),o.showRowGroup=e.getColId()}else o.showRowGroup=!0;return o},gM([O("columnModel")],t.prototype,"columnModel",void 0),gM([O("columnFactory")],t.prototype,"columnFactory",void 0),t=gM([me("autoGroupColService")],t),t}(re),tLe=/[&<>"']/g,rLe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function nLe(n){var t=String.fromCharCode;function e(d){var p=[];if(!d)return[];for(var h=d.length,f=0,v,g;f<h;)v=d.charCodeAt(f++),v>=55296&&v<=56319&&f<h?(g=d.charCodeAt(f++),(g&64512)==56320?p.push(((v&1023)<<10)+(g&1023)+65536):(p.push(v),f--)):p.push(v);return p}function r(d){if(d>=55296&&d<=57343)throw Error("Lone surrogate U+"+d.toString(16).toUpperCase()+" is not a scalar value")}function i(d,p){return t(d>>p&63|128)}function o(d){if(d>=0&&d<=31&&d!==10){var p=d.toString(16).toUpperCase(),h=p.padStart(4,"0");return"_x".concat(h,"_")}if(!(d&4294967168))return t(d);var f="";return d&4294965248?d&4294901760?d&4292870144||(f=t(d>>18&7|240),f+=i(d,12),f+=i(d,6)):(r(d),f=t(d>>12&15|224),f+=i(d,6)):f=t(d>>6&31|192),f+=t(d&63|128),f}for(var a=e(n),s=a.length,l=-1,u,c="";++l<s;)u=a[l],c+=o(u);return c}function iLe(n){return n[0].toUpperCase()+n.substring(1).toLowerCase()}function Jn(n,t){if(n==null)return null;var e=n.toString().toString();return t?e:e.replace(tLe,function(r){return rLe[r]})}function HX(n){if(!n||n==null)return null;var t=/([a-z])([A-Z])/g,e=/([A-Z]+)([A-Z])([a-z])/g,r=n.replace(t,"$1 $2").replace(e,"$1 $2$3").replace(/\./g," ").split(" ");return r.map(function(i){return i.substring(0,1).toUpperCase()+(i.length>1?i.substring(1,i.length):"")}).join(" ")}function $X(n){return n.replace(/[A-Z]/g,function(t){return"-".concat(t.toLocaleLowerCase())})}var oLe=Object.freeze({__proto__:null,utf8_encode:nLe,capitalise:iLe,escapeString:Jn,camelCaseToHumanText:HX,camelCaseToHyphenated:$X});function pp(n){var t=new Map;return n.forEach(function(e){return t.set(e[0],e[1])}),t}function aLe(n,t){var e=new Map;return n.forEach(function(r){return e.set(t(r),r)}),e}function sLe(n){var t=[];return n.forEach(function(e,r){return t.push(r)}),t}var lLe=Object.freeze({__proto__:null,convertToMap:pp,mapById:aLe,keys:sLe}),uLe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Mi=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},cLe=function(n,t){return function(e,r){t(e,r,n)}},dLe=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},ba=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Ea=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},mM=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},WX=function(n){uLe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.primaryHeaderRowCount=0,e.secondaryHeaderRowCount=0,e.gridHeaderRowCount=0,e.displayedColumnsLeft=[],e.displayedColumnsRight=[],e.displayedColumnsCenter=[],e.displayedColumns=[],e.displayedColumnsAndGroupsMap={},e.viewportColumns=[],e.viewportColumnsHash="",e.headerViewportColumns=[],e.viewportColumnsCenter=[],e.headerViewportColumnsCenter=[],e.viewportRowLeft={},e.viewportRowRight={},e.viewportRowCenter={},e.autoHeightActiveAtLeastOnce=!1,e.rowGroupColumns=[],e.valueColumns=[],e.pivotColumns=[],e.ready=!1,e.changeEventsDispatching=!1,e.autoGroupsNeedBuilding=!1,e.forceRecreateAutoGroups=!1,e.pivotMode=!1,e.bodyWidth=0,e.leftWidth=0,e.rightWidth=0,e.bodyWidthDirty=!0,e.shouldQueueResizeOperations=!1,e.resizeOperationQueue=[],e}return t.prototype.init=function(){var e=this;this.suppressColumnVirtualisation=this.gridOptionsService.get("suppressColumnVirtualisation");var r=this.gridOptionsService.get("pivotMode");this.isPivotSettingAllowed(r)&&(this.pivotMode=r),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],function(i){return e.buildAutoGroupColumns(Wg(i.source))}),this.addManagedPropertyListener("autoGroupColumnDef",function(i){return e.onAutoGroupColumnDefChanged(Wg(i.source))}),this.addManagedPropertyListeners(["defaultColDef","columnTypes","suppressFieldDotNotation"],function(i){return e.onSharedColDefChanged(Wg(i.source))}),this.addManagedPropertyListener("pivotMode",function(i){return e.setPivotMode(e.gridOptionsService.get("pivotMode"),Wg(i.source))}),this.addManagedListener(this.eventService,M.EVENT_FIRST_DATA_RENDERED,function(){return e.onFirstDataRendered()})},t.prototype.buildAutoGroupColumns=function(e){this.columnDefs&&(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns(e))},t.prototype.onAutoGroupColumnDefChanged=function(e){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,e)},t.prototype.onSharedColDefChanged=function(e){this.gridColumns&&(this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,e),this.createColumnsFromColumnDefs(!0,e))},t.prototype.setColumnDefs=function(e,r){var i=!!this.columnDefs;this.columnDefs=e,this.createColumnsFromColumnDefs(i,r)},t.prototype.recreateColumnDefs=function(e){this.onSharedColDefChanged(e)},t.prototype.destroyOldColumns=function(e,r){var i={};if(e){this.columnUtils.depthFirstOriginalTreeSearch(null,e,function(a){i[a.getInstanceId()]=a}),r&&this.columnUtils.depthFirstOriginalTreeSearch(null,r,function(a){i[a.getInstanceId()]=null});var o=Object.values(i).filter(function(a){return a!=null});this.destroyBeans(o)}},t.prototype.destroyColumns=function(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)},t.prototype.createColumnsFromColumnDefs=function(e,r){var i=this,o=e?this.compareColumnStatesAndDispatchEvents(r):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var a=this.primaryColumns,s=this.primaryColumnTree,l=this.columnFactory.createColumnTree(this.columnDefs,!0,s,r);this.destroyOldColumns(this.primaryColumnTree,l.columnTree),this.primaryColumnTree=l.columnTree,this.primaryHeaderRowCount=l.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(d){return i.primaryColumnsMap[d.getId()]=d}),this.extractRowGroupColumns(r,a),this.extractPivotColumns(r,a),this.extractValueColumns(r,a),this.ready=!0;var u=this.gridColsArePrimary===void 0,c=this.gridColsArePrimary||u||this.autoGroupsNeedBuilding;c&&(this.updateGridColumns(),e&&this.gridColsArePrimary&&!this.gridOptionsService.get("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(r),this.checkViewportColumns()),this.dispatchEverythingChanged(r),this.changeEventsDispatching=!0,o&&o(),this.changeEventsDispatching=!1,this.dispatchNewColumnsLoaded(r)},t.prototype.shouldRowModelIgnoreRefresh=function(){return this.changeEventsDispatching},t.prototype.dispatchNewColumnsLoaded=function(e){var r={type:M.EVENT_NEW_COLUMNS_LOADED,source:e};this.eventService.dispatchEvent(r),e==="gridInitializing"&&this.onColumnsReady()},t.prototype.dispatchEverythingChanged=function(e){var r={type:M.EVENT_COLUMN_EVERYTHING_CHANGED,source:e};this.eventService.dispatchEvent(r)},t.prototype.orderGridColumnsLikePrimary=function(){var e=this,r=this.primaryColumns;if(r){var i=r.filter(function(a){return e.gridColumns.indexOf(a)>=0}),o=this.gridColumns.filter(function(a){return i.indexOf(a)<0});this.gridColumns=Ea(Ea([],ba(o),!1),ba(i),!1),this.gridColumns=this.placeLockedColumns(this.gridColumns)}},t.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},t.prototype.setViewport=function(){this.gridOptionsService.get("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},t.prototype.getDisplayedColumnsStartingAt=function(e){for(var r=e,i=[];r!=null;)i.push(r),r=this.getDisplayedColAfter(r);return i},t.prototype.checkViewportColumns=function(e){if(e===void 0&&(e=!1),this.displayedColumnsCenter!=null){var r=this.extractViewport();if(r){var i={type:M.EVENT_VIRTUAL_COLUMNS_CHANGED,afterScroll:e};this.eventService.dispatchEvent(i)}}},t.prototype.setViewportPosition=function(e,r,i){i===void 0&&(i=!1),(e!==this.scrollWidth||r!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=r,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns(i))},t.prototype.isPivotMode=function(){return this.pivotMode},t.prototype.isPivotSettingAllowed=function(e){return e&&this.gridOptionsService.get("treeData")?(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1):!0},t.prototype.setPivotMode=function(e,r){if(!(e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode))&&(this.pivotMode=e,!!this.gridColumns)){this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(r);var i={type:M.EVENT_COLUMN_PIVOT_MODE_CHANGED};this.eventService.dispatchEvent(i)}},t.prototype.getSecondaryPivotColumn=function(e,r){if(pt(this.secondaryColumns))return null;var i=this.getPrimaryColumn(r),o=null;return this.secondaryColumns.forEach(function(a){var s=a.getColDef().pivotKeys,l=a.getColDef().pivotValueColumn,u=kc(s,e),c=l===i;u&&c&&(o=a)}),o},t.prototype.setBeans=function(e){this.logger=e.create("columnModel")},t.prototype.setFirstRightAndLastLeftPinned=function(e){var r,i;this.gridOptionsService.get("enableRtl")?(r=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,i=this.displayedColumnsRight?Yt(this.displayedColumnsRight):null):(r=this.displayedColumnsLeft?Yt(this.displayedColumnsLeft):null,i=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(o){o.setLastLeftPinned(o===r,e),o.setFirstRightPinned(o===i,e)})},t.prototype.autoSizeColumns=function(e){var r=this;if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(function(){return r.autoSizeColumns(e)});return}var i=e.columns,o=e.skipHeader,a=e.skipHeaderGroups,s=e.stopAtGroup,l=e.source,u=l===void 0?"api":l;this.animationFrameService.flushAllFrames();for(var c=[],d=-1,p=o??this.gridOptionsService.get("skipHeaderOnAutoSize"),h=a??p;d!==0;)d=0,this.actionOnGridColumns(i,function(f){if(c.indexOf(f)>=0)return!1;var v=r.autoWidthCalculator.getPreferredWidthForColumn(f,p);if(v>0){var g=r.normaliseColumnWidth(f,v);f.setActualWidth(g,u),c.push(f),d++}return!0},u);h||this.autoSizeColumnGroupsByColumns(i,u,s),this.dispatchColumnResizedEvent(c,!0,"autosizeColumns")},t.prototype.dispatchColumnResizedEvent=function(e,r,i,o){if(o===void 0&&(o=null),e&&e.length){var a={type:M.EVENT_COLUMN_RESIZED,columns:e,column:e.length===1?e[0]:null,flexColumns:o,finished:r,source:i};this.eventService.dispatchEvent(a)}},t.prototype.dispatchColumnChangedEvent=function(e,r,i){var o={type:e,columns:r,column:r&&r.length==1?r[0]:null,source:i};this.eventService.dispatchEvent(o)},t.prototype.dispatchColumnMovedEvent=function(e){var r=e.movedColumns,i=e.source,o=e.toIndex,a=e.finished,s={type:M.EVENT_COLUMN_MOVED,columns:r,column:r&&r.length===1?r[0]:null,toIndex:o,finished:a,source:i};this.eventService.dispatchEvent(s)},t.prototype.dispatchColumnPinnedEvent=function(e,r){if(e.length){var i=e.length===1?e[0]:null,o=this.getCommonValue(e,function(s){return s.getPinned()}),a={type:M.EVENT_COLUMN_PINNED,pinned:o??null,columns:e,column:i,source:r};this.eventService.dispatchEvent(a)}},t.prototype.dispatchColumnVisibleEvent=function(e,r){if(e.length){var i=e.length===1?e[0]:null,o=this.getCommonValue(e,function(s){return s.isVisible()}),a={type:M.EVENT_COLUMN_VISIBLE,visible:o,columns:e,column:i,source:r};this.eventService.dispatchEvent(a)}},t.prototype.autoSizeColumn=function(e,r,i){e&&this.autoSizeColumns({columns:[e],skipHeader:i,skipHeaderGroups:!0,source:r})},t.prototype.autoSizeColumnGroupsByColumns=function(e,r,i){var o,a,s,l,u=new Set,c=this.getGridColumns(e);c.forEach(function(C){for(var S=C.getParent();S&&S!=i;)S.isPadding()||u.add(S),S=S.getParent()});var d,p=[];try{for(var h=mM(u),f=h.next();!f.done;f=h.next()){var v=f.value;try{for(var g=(s=void 0,mM(this.ctrlsService.getHeaderRowContainerCtrls())),m=g.next();!m.done;m=g.next()){var y=m.value;if(d=y.getHeaderCtrlForColumn(v),d)break}}catch(C){s={error:C}}finally{try{m&&!m.done&&(l=g.return)&&l.call(g)}finally{if(s)throw s.error}}d&&d.resizeLeafColumnsToFit(r)}}catch(C){o={error:C}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}return p},t.prototype.autoSizeAllColumns=function(e,r){var i=this;if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(function(){return i.autoSizeAllColumns(e,r)});return}var o=this.getAllDisplayedColumns();this.autoSizeColumns({columns:o,skipHeader:r,source:e})},t.prototype.getColumnsFromTree=function(e){var r=[],i=function(o){for(var a=0;a<o.length;a++){var s=o[a];s instanceof Rt?r.push(s):s instanceof er&&i(s.getChildren())}};return i(e),r},t.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},t.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},t.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},t.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},t.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},t.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},t.prototype.isColumnDisplayed=function(e){return this.getAllDisplayedColumns().indexOf(e)>=0},t.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},t.prototype.getViewportColumns=function(){return this.viewportColumns},t.prototype.getDisplayedLeftColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsLeft):this.displayedColumnsLeft},t.prototype.getDisplayedRightColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsRight):this.displayedColumnsRight},t.prototype.isColSpanActive=function(){return this.colSpanActive},t.prototype.getDisplayedColumnsForRow=function(e,r,i,o){for(var a=[],s=null,l=function(d){var p=r[d],h=r.length-d,f=Math.min(p.getColSpan(e),h),v=[p];if(f>1){for(var g=f-1,m=1;m<=g;m++)v.push(r[d+m]);d+=g}var y;if(i?(y=!1,v.forEach(function(S){i(S)&&(y=!0)})):y=!0,y){if(a.length===0&&s){var C=o?o(p):!1;C&&a.push(s)}a.push(p)}s=p,u=d},u,c=0;c<r.length;c++)l(c),c=u;return a},t.prototype.getViewportCenterColumnsForRow=function(e){var r=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var i=function(a){var s=a.getLeft();return ye(s)&&s>r.viewportLeft},o=this.isColumnVirtualisationSuppressed()?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedColumnsCenter,o,i)},t.prototype.isColumnAtEdge=function(e,r){var i=this.getAllDisplayedColumns();if(!i.length)return!1;var o=r==="first",a;if(e instanceof Fn){var s=e.getDisplayedLeafColumns();if(!s.length)return!1;a=o?s[0]:Yt(s)}else a=e;return(o?i[0]:Yt(i))===a},t.prototype.getAriaColumnIndex=function(e){var r;return e instanceof Fn?r=e.getLeafColumns()[0]:r=e,this.ariaOrderColumns.indexOf(r)+1},t.prototype.isColumnInHeaderViewport=function(e){return e.isAutoHeaderHeight()?!0:this.isColumnInRowViewport(e)},t.prototype.isColumnInRowViewport=function(e){if(e.isAutoHeight())return!0;var r=e.getLeft()||0,i=r+e.getActualWidth(),o=this.viewportLeft-200,a=this.viewportRight+200,s=r<o&&i<o,l=r>a&&i>a;return!s&&!l},t.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},t.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},t.prototype.updatePrimaryColumnList=function(e,r,i,o,a,s){var l=this;if(!(!e||Ya(e))){var u=!1;if(e.forEach(function(d){if(d){var p=l.getPrimaryColumn(d);if(p){if(i){if(r.indexOf(p)>=0)return;r.push(p)}else{if(r.indexOf(p)<0)return;Jo(r,p)}o(p),u=!0}}}),!!u){this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(s);var c={type:a,columns:r,column:r.length===1?r[0]:null,source:s};this.eventService.dispatchEvent(c)}}},t.prototype.setRowGroupColumns=function(e,r){this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,M.EVENT_COLUMN_ROW_GROUP_CHANGED,!0,this.setRowGroupActive.bind(this),r)},t.prototype.setRowGroupActive=function(e,r,i){e!==r.isRowGroupActive()&&(r.setRowGroupActive(e,i),e&&!this.gridOptionsService.get("suppressRowGroupHidesColumns")&&this.setColumnsVisible([r],!1,i),!e&&!this.gridOptionsService.get("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnsVisible([r],!0,i))},t.prototype.addRowGroupColumns=function(e,r){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),M.EVENT_COLUMN_ROW_GROUP_CHANGED,r)},t.prototype.removeRowGroupColumns=function(e,r){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),M.EVENT_COLUMN_ROW_GROUP_CHANGED,r)},t.prototype.addPivotColumns=function(e,r){this.updatePrimaryColumnList(e,this.pivotColumns,!0,function(i){return i.setPivotActive(!0,r)},M.EVENT_COLUMN_PIVOT_CHANGED,r)},t.prototype.setPivotColumns=function(e,r){this.setPrimaryColumnList(e,this.pivotColumns,M.EVENT_COLUMN_PIVOT_CHANGED,!0,function(i,o){o.setPivotActive(i,r)},r)},t.prototype.removePivotColumns=function(e,r){this.updatePrimaryColumnList(e,this.pivotColumns,!1,function(i){return i.setPivotActive(!1,r)},M.EVENT_COLUMN_PIVOT_CHANGED,r)},t.prototype.setPrimaryColumnList=function(e,r,i,o,a,s){var l=this;if(this.gridColumns){var u=new Map;r.forEach(function(c,d){return u.set(c,d)}),r.length=0,ye(e)&&e.forEach(function(c){var d=l.getPrimaryColumn(c);d&&r.push(d)}),r.forEach(function(c,d){var p=u.get(c);if(p===void 0){u.set(c,0);return}o&&p!==d||u.delete(c)}),(this.primaryColumns||[]).forEach(function(c){var d=r.indexOf(c)>=0;a(d,c)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(s),this.dispatchColumnChangedEvent(i,Ea([],ba(u.keys()),!1),s)}},t.prototype.setValueColumns=function(e,r){this.setPrimaryColumnList(e,this.valueColumns,M.EVENT_COLUMN_VALUE_CHANGED,!1,this.setValueActive.bind(this),r)},t.prototype.setValueActive=function(e,r,i){if(e!==r.isValueActive()&&(r.setValueActive(e,i),e&&!r.getAggFunc())){var o=this.aggFuncService.getDefaultAggFunc(r);r.setAggFunc(o)}},t.prototype.addValueColumns=function(e,r){this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),M.EVENT_COLUMN_VALUE_CHANGED,r)},t.prototype.removeValueColumns=function(e,r){this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),M.EVENT_COLUMN_VALUE_CHANGED,r)},t.prototype.normaliseColumnWidth=function(e,r){var i=e.getMinWidth();ye(i)&&r<i&&(r=i);var o=e.getMaxWidth();return ye(o)&&e.isGreaterThanMax(r)&&(r=o),r},t.prototype.getPrimaryOrGridColumn=function(e){var r=this.getPrimaryColumn(e);return r||this.getGridColumn(e)},t.prototype.setColumnWidths=function(e,r,i,o){var a=this,s=[];e.forEach(function(l){var u=a.getPrimaryOrGridColumn(l.key);if(u){s.push({width:l.newWidth,ratios:[1],columns:[u]});var c=a.gridOptionsService.get("colResizeDefault")==="shift";if(c&&(r=!r),r){var d=a.getDisplayedColAfter(u);if(!d)return;var p=u.getActualWidth()-l.newWidth,h=d.getActualWidth()+p;s.push({width:h,ratios:[1],columns:[d]})}}}),s.length!==0&&this.resizeColumnSets({resizeSets:s,finished:i,source:o})},t.prototype.checkMinAndMaxWidthsForSet=function(e){var r=e.columns,i=e.width,o=0,a=0,s=!0;r.forEach(function(c){var d=c.getMinWidth();o+=d||0;var p=c.getMaxWidth();ye(p)&&p>0?a+=p:s=!1});var l=i>=o,u=!s||i<=a;return l&&u},t.prototype.resizeColumnSets=function(e){var r=this,i=e.resizeSets,o=e.finished,a=e.source,s=!i||i.every(function(f){return r.checkMinAndMaxWidthsForSet(f)});if(!s){if(o){var l=i&&i.length>0?i[0].columns:null;this.dispatchColumnResizedEvent(l,o,a)}return}var u=[],c=[];i.forEach(function(f){var v=f.width,g=f.columns,m=f.ratios,y={},C={};g.forEach(function(E){return c.push(E)});for(var S=!0,w=0,_=function(){if(w++,w>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";S=!1;var E=[],R=0,P=v;g.forEach(function(N,I){var G=C[N.getId()];if(G)P-=y[N.getId()];else{E.push(N);var V=m[I];R+=V}});var A=1/R;E.forEach(function(N,I){var G=I===E.length-1,V;G?V=P:(V=Math.round(m[I]*v*A),P-=V);var H=N.getMinWidth(),j=N.getMaxWidth();ye(H)&&V<H?(V=H,C[N.getId()]=!0,S=!0):ye(j)&&j>0&&V>j&&(V=j,C[N.getId()]=!0,S=!0),y[N.getId()]=V})};S;){var x=_();if(x==="break")break}g.forEach(function(E){var R=y[E.getId()],P=E.getActualWidth();P!==R&&(E.setActualWidth(R,a),u.push(E))})});var d=u.length>0,p=[];d&&(p=this.refreshFlexedColumns({resizingCols:c,skipSetLeft:!0}),this.setLeftValues(a),this.updateBodyWidths(),this.checkViewportColumns());var h=c.concat(p);(d||o)&&this.dispatchColumnResizedEvent(h,o,a,p)},t.prototype.setColumnAggFunc=function(e,r,i){if(e){var o=this.getPrimaryColumn(e);o&&(o.setAggFunc(r),this.dispatchColumnChangedEvent(M.EVENT_COLUMN_VALUE_CHANGED,[o],i))}},t.prototype.moveRowGroupColumn=function(e,r,i){if(!this.isRowGroupEmpty()){var o=this.rowGroupColumns[e],a=this.rowGroupColumns.slice(e,r);this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(r,0,o);var s={type:M.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:a,column:a.length===1?a[0]:null,source:i};this.eventService.dispatchEvent(s)}},t.prototype.moveColumns=function(e,r,i,o){if(o===void 0&&(o=!0),!!this.gridColumns){if(this.columnAnimationService.start(),r>this.gridColumns.length-e.length){console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+r),console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");return}var a=this.getGridColumns(e),s=!this.doesMovePassRules(a,r);s||(o1(this.gridColumns,a,r),this.updateDisplayedColumns(i),this.dispatchColumnMovedEvent({movedColumns:a,source:i,toIndex:r,finished:o}),this.columnAnimationService.finish())}},t.prototype.doesMovePassRules=function(e,r){var i=this.getProposedColumnOrder(e,r);return this.doesOrderPassRules(i)},t.prototype.doesOrderPassRules=function(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))},t.prototype.getProposedColumnOrder=function(e,r){var i=this.gridColumns.slice();return o1(i,e,r),i},t.prototype.sortColumnsLikeGridColumns=function(e){var r=this;if(!(!e||e.length<=1)){var i=e.filter(function(o){return r.gridColumns.indexOf(o)<0}).length>0;i||e.sort(function(o,a){var s=r.gridColumns.indexOf(o),l=r.gridColumns.indexOf(a);return s-l})}},t.prototype.doesMovePassLockedPositions=function(e){var r=0,i=!0,o=function(a){return a?a===!0||a==="left"?0:2:1};return e.forEach(function(a){var s=o(a.getColDef().lockPosition);s<r&&(i=!1),r=s}),i},t.prototype.doesMovePassMarryChildren=function(e){var r=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(i){if(i instanceof er){var o=i,a=o.getColGroupDef(),s=a&&a.marryChildren;if(s){var l=[];o.getLeafColumns().forEach(function(h){var f=e.indexOf(h);l.push(f)});var u=Math.max.apply(Math,l),c=Math.min.apply(Math,l),d=u-c,p=o.getLeafColumns().length-1;d>p&&(r=!1)}}}),r},t.prototype.moveColumnByIndex=function(e,r,i){if(this.gridColumns){var o=this.gridColumns[e];this.moveColumns([o],r,i)}},t.prototype.getColumnDefs=function(){var e=this;if(this.primaryColumns){var r=this.primaryColumns.slice();return this.gridColsArePrimary?r.sort(function(i,o){return e.gridColumns.indexOf(i)-e.gridColumns.indexOf(o)}):this.lastPrimaryOrder&&r.sort(function(i,o){return e.lastPrimaryOrder.indexOf(i)-e.lastPrimaryOrder.indexOf(o)}),this.columnDefFactory.buildColumnDefs(r,this.rowGroupColumns,this.pivotColumns)}},t.prototype.getBodyContainerWidth=function(){return this.bodyWidth},t.prototype.getContainerWidth=function(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}},t.prototype.updateBodyWidths=function(){var e=this.getWidthOfColsInList(this.displayedColumnsCenter),r=this.getWidthOfColsInList(this.displayedColumnsLeft),i=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==e;var o=this.bodyWidth!==e||this.leftWidth!==r||this.rightWidth!==i;if(o){this.bodyWidth=e,this.leftWidth=r,this.rightWidth=i;var a={type:M.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED};this.eventService.dispatchEvent(a);var s={type:M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED};this.eventService.dispatchEvent(s)}},t.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},t.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},t.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},t.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},t.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},t.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},t.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},t.prototype.getDisplayedColumns=function(e){switch(e){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},t.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns:null},t.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns:null},t.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},t.prototype.getAllGridColumns=function(){var e;return(e=this.gridColumns)!==null&&e!==void 0?e:[]},t.prototype.isEmpty=function(){return Ya(this.gridColumns)},t.prototype.isRowGroupEmpty=function(){return Ya(this.rowGroupColumns)},t.prototype.setColumnsVisible=function(e,r,i){r===void 0&&(r=!1),this.applyColumnState({state:e.map(function(o){return{colId:typeof o=="string"?o:o.getColId(),hide:!r}})},i)},t.prototype.setColumnsPinned=function(e,r,i){if(this.gridColumns){if(this.gridOptionsService.isDomLayout("print")){console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();var o;r===!0||r==="left"?o="left":r==="right"?o="right":o=null,this.actionOnGridColumns(e,function(a){return a.getPinned()!==o?(a.setPinned(o),!0):!1},i,function(){var a={type:M.EVENT_COLUMN_PINNED,pinned:o,column:null,columns:null,source:i};return a}),this.columnAnimationService.finish()}},t.prototype.actionOnGridColumns=function(e,r,i,o){var a=this;if(!Ya(e)){var s=[];if(e.forEach(function(u){if(u){var c=a.getGridColumn(u);if(c){var d=r(c);d!==!1&&s.push(c)}}}),!!s.length&&(this.updateDisplayedColumns(i),ye(o)&&o)){var l=o();l.columns=s,l.column=s.length===1?s[0]:null,this.eventService.dispatchEvent(l)}}},t.prototype.getDisplayedColBefore=function(e){var r=this.getAllDisplayedColumns(),i=r.indexOf(e);return i>0?r[i-1]:null},t.prototype.getDisplayedColAfter=function(e){var r=this.getAllDisplayedColumns(),i=r.indexOf(e);return i<r.length-1?r[i+1]:null},t.prototype.getDisplayedGroupAfter=function(e){return this.getDisplayedGroupAtDirection(e,"After")},t.prototype.getDisplayedGroupBefore=function(e){return this.getDisplayedGroupAtDirection(e,"Before")},t.prototype.getDisplayedGroupAtDirection=function(e,r){for(var i=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),o=e.getDisplayedLeafColumns(),a=r==="After"?Yt(o):o[0],s="getDisplayedCol".concat(r);;){var l=this[s](a);if(!l)return null;var u=this.getColumnGroupAtLevel(l,i);if(u!==e)return u}},t.prototype.getColumnGroupAtLevel=function(e,r){for(var i=e.getParent(),o,a;;){var s=i.getProvidedColumnGroup();if(o=s.getLevel(),a=i.getPaddingLevel(),o+a<=r)break;i=i.getParent()}return i},t.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},t.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},t.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var e;return(e=[]).concat.apply(e,[this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]])},t.prototype.createStateItemFromColumn=function(e){var r=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,i=e.isPivotActive()?this.pivotColumns.indexOf(e):null,o=e.isValueActive()?e.getAggFunc():null,a=e.getSort()!=null?e.getSort():null,s=e.getSortIndex()!=null?e.getSortIndex():null,l=e.getFlex()!=null&&e.getFlex()>0?e.getFlex():null,u={colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:a,sortIndex:s,aggFunc:o,rowGroup:e.isRowGroupActive(),rowGroupIndex:r,pivot:e.isPivotActive(),pivotIndex:i,flex:l};return u},t.prototype.getColumnState=function(){if(pt(this.primaryColumns)||!this.isAlive())return[];var e=this.getPrimaryAndSecondaryAndAutoColumns(),r=e.map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(r),r},t.prototype.orderColumnStateList=function(e){var r=pp(this.gridColumns.map(function(i,o){return[i.getColId(),o]}));e.sort(function(i,o){var a=r.has(i.colId)?r.get(i.colId):-1,s=r.has(o.colId)?r.get(o.colId):-1;return a-s})},t.prototype.resetColumnState=function(e){var r=this;if(!Ya(this.primaryColumns)){var i=this.getColumnsFromTree(this.primaryColumnTree),o=[],a=1e3,s=1e3,l=[];this.groupAutoColumns&&(l=l.concat(this.groupAutoColumns)),i&&(l=l.concat(i)),l.forEach(function(u){var c=r.getColumnStateFromColDef(u);pt(c.rowGroupIndex)&&c.rowGroup&&(c.rowGroupIndex=a++),pt(c.pivotIndex)&&c.pivot&&(c.pivotIndex=s++),o.push(c)}),this.applyColumnState({state:o,applyOrder:!0},e)}},t.prototype.getColumnStateFromColDef=function(e){var r=function(g,m){return g??m??null},i=e.getColDef(),o=r(i.sort,i.initialSort),a=r(i.sortIndex,i.initialSortIndex),s=r(i.hide,i.initialHide),l=r(i.pinned,i.initialPinned),u=r(i.width,i.initialWidth),c=r(i.flex,i.initialFlex),d=r(i.rowGroupIndex,i.initialRowGroupIndex),p=r(i.rowGroup,i.initialRowGroup);d==null&&(p==null||p==!1)&&(d=null,p=null);var h=r(i.pivotIndex,i.initialPivotIndex),f=r(i.pivot,i.initialPivot);h==null&&(f==null||f==!1)&&(h=null,f=null);var v=r(i.aggFunc,i.initialAggFunc);return{colId:e.getColId(),sort:o,sortIndex:a,hide:s,pinned:l,width:u,flex:c,rowGroup:p,rowGroupIndex:d,pivot:f,pivotIndex:h,aggFunc:v}},t.prototype.applyColumnState=function(e,r){var i=this;if(Ya(this.primaryColumns))return!1;if(e&&e.state&&!e.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var o=function(u,c,d){var p=i.compareColumnStatesAndDispatchEvents(r);i.autoGroupsNeedBuilding=!0;var h=c.slice(),f={},v={},g=[],m=[],y=0,C=i.rowGroupColumns.slice(),S=i.pivotColumns.slice();u.forEach(function(E){var R=E.colId||"",P=R.startsWith(nd);if(P){g.push(E),m.push(E);return}var A=d(R);A?(i.syncColumnWithStateItem(A,E,e.defaultState,f,v,!1,r),Jo(h,A)):(m.push(E),y+=1)});var w=function(E){return i.syncColumnWithStateItem(E,null,e.defaultState,f,v,!1,r)};h.forEach(w);var _=function(E,R,P,A){var N=E[P.getId()],I=E[A.getId()],G=N!=null,V=I!=null;if(G&&V)return N-I;if(G)return-1;if(V)return 1;var H=R.indexOf(P),j=R.indexOf(A),B=H>=0,$=j>=0;return B&&$?H-j:B?-1:1};i.rowGroupColumns.sort(_.bind(i,f,C)),i.pivotColumns.sort(_.bind(i,v,S)),i.updateGridColumns();var x=i.groupAutoColumns?i.groupAutoColumns.slice():[];return g.forEach(function(E){var R=i.getAutoColumn(E.colId);Jo(x,R),i.syncColumnWithStateItem(R,E,e.defaultState,null,null,!0,r)}),x.forEach(w),i.applyOrderAfterApplyState(e),i.updateDisplayedColumns(r),i.dispatchEverythingChanged(r),p(),{unmatchedAndAutoStates:m,unmatchedCount:y}};this.columnAnimationService.start();var a=o(e.state||[],this.primaryColumns||[],function(u){return i.getPrimaryColumn(u)}),s=a.unmatchedAndAutoStates,l=a.unmatchedCount;return(s.length>0||ye(e.defaultState))&&(l=o(s,this.secondaryColumns||[],function(u){return i.getSecondaryColumn(u)}).unmatchedCount),this.columnAnimationService.finish(),l===0},t.prototype.applyOrderAfterApplyState=function(e){var r=this;if(!(!e.applyOrder||!e.state)){var i=[],o={};e.state.forEach(function(s){if(!(!s.colId||o[s.colId])){var l=r.gridColumnsMap[s.colId];l&&(i.push(l),o[s.colId]=!0)}});var a=0;if(this.gridColumns.forEach(function(s){var l=s.getColId(),u=o[l]!=null;if(!u){var c=l.startsWith(nd);c?v0(i,s,a++):i.push(s)}}),i=this.placeLockedColumns(i),!this.doesMovePassMarryChildren(i)){console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.gridColumns=i}},t.prototype.compareColumnStatesAndDispatchEvents=function(e){var r=this,i={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},o=this.getColumnState(),a={};return o.forEach(function(s){a[s.colId]=s}),function(){var s=r.getPrimaryAndSecondaryAndAutoColumns(),l=function(y,C,S,w){var _=C.map(w),x=S.map(w),E=kc(_,x);if(!E){var R=new Set(C);S.forEach(function(N){R.delete(N)||R.add(N)});var P=Ea([],ba(R),!1),A={type:y,columns:P,column:P.length===1?P[0]:null,source:e};r.eventService.dispatchEvent(A)}},u=function(y){var C=[];return s.forEach(function(S){var w=a[S.getColId()];w&&y(w,S)&&C.push(S)}),C},c=function(y){return y.getColId()};l(M.EVENT_COLUMN_ROW_GROUP_CHANGED,i.rowGroupColumns,r.rowGroupColumns,c),l(M.EVENT_COLUMN_PIVOT_CHANGED,i.pivotColumns,r.pivotColumns,c);var d=function(y,C){var S=y.aggFunc!=null,w=S!=C.isValueActive(),_=S&&y.aggFunc!=C.getAggFunc();return w||_},p=u(d);p.length>0&&r.dispatchColumnChangedEvent(M.EVENT_COLUMN_VALUE_CHANGED,p,e);var h=function(y,C){return y.width!=C.getActualWidth()};r.dispatchColumnResizedEvent(u(h),!0,e);var f=function(y,C){return y.pinned!=C.getPinned()};r.dispatchColumnPinnedEvent(u(f),e);var v=function(y,C){return y.hide==C.isVisible()};r.dispatchColumnVisibleEvent(u(v),e);var g=function(y,C){return y.sort!=C.getSort()||y.sortIndex!=C.getSortIndex()},m=u(g);m.length>0&&r.sortController.dispatchSortChangedEvents(e,m),r.normaliseColumnMovedEventForColumnState(o,e)}},t.prototype.getCommonValue=function(e,r){if(!(!e||e.length==0)){for(var i=r(e[0]),o=1;o<e.length;o++)if(i!==r(e[o]))return;return i}},t.prototype.normaliseColumnMovedEventForColumnState=function(e,r){var i=this,o=this.getColumnState(),a={};o.forEach(function(d){return a[d.colId]=d});var s={};e.forEach(function(d){a[d.colId]&&(s[d.colId]=!0)});var l=e.filter(function(d){return s[d.colId]}),u=o.filter(function(d){return s[d.colId]}),c=[];u.forEach(function(d,p){var h=l&&l[p];if(h&&h.colId!==d.colId){var f=i.getGridColumn(h.colId);f&&c.push(f)}}),c.length&&this.dispatchColumnMovedEvent({movedColumns:c,source:r,finished:!0})},t.prototype.syncColumnWithStateItem=function(e,r,i,o,a,s,l){if(e){var u=function(E,R){var P={value1:void 0,value2:void 0},A=!1;return r&&(r[E]!==void 0&&(P.value1=r[E],A=!0),ye(R)&&r[R]!==void 0&&(P.value2=r[R],A=!0)),!A&&i&&(i[E]!==void 0&&(P.value1=i[E]),ye(R)&&i[R]!==void 0&&(P.value2=i[R])),P},c=u("hide").value1;c!==void 0&&e.setVisible(!c,l);var d=u("pinned").value1;d!==void 0&&e.setPinned(d);var p=this.columnUtils.calculateColMinWidth(e.getColDef()),h=u("flex").value1;if(h!==void 0&&e.setFlex(h),h==null){var f=u("width").value1;f!=null&&p!=null&&f>=p&&e.setActualWidth(f,l)}var v=u("sort").value1;v!==void 0&&(v==="desc"||v==="asc"?e.setSort(v,l):e.setSort(void 0,l));var g=u("sortIndex").value1;if(g!==void 0&&e.setSortIndex(g),!(s||!e.isPrimary())){var m=u("aggFunc").value1;m!==void 0&&(typeof m=="string"?(e.setAggFunc(m),e.isValueActive()||(e.setValueActive(!0,l),this.valueColumns.push(e))):(ye(m)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,l),Jo(this.valueColumns,e))));var y=u("rowGroup","rowGroupIndex"),C=y.value1,S=y.value2;(C!==void 0||S!==void 0)&&(typeof S=="number"||C?(e.isRowGroupActive()||(e.setRowGroupActive(!0,l),this.rowGroupColumns.push(e)),o&&typeof S=="number"&&(o[e.getId()]=S)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,l),Jo(this.rowGroupColumns,e)));var w=u("pivot","pivotIndex"),_=w.value1,x=w.value2;(_!==void 0||x!==void 0)&&(typeof x=="number"||_?(e.isPivotActive()||(e.setPivotActive(!0,l),this.pivotColumns.push(e)),a&&typeof x=="number"&&(a[e.getId()]=x)):e.isPivotActive()&&(e.setPivotActive(!1,l),Jo(this.pivotColumns,e)))}}},t.prototype.getGridColumns=function(e){return this.getColumns(e,this.getGridColumn.bind(this))},t.prototype.getColumns=function(e,r){var i=[];return e&&e.forEach(function(o){var a=r(o);a&&i.push(a)}),i},t.prototype.getColumnWithValidation=function(e){if(e==null)return null;var r=this.getGridColumn(e);return r||console.warn("AG Grid: could not find column "+e),r},t.prototype.getPrimaryColumn=function(e){return this.primaryColumns?this.getColumn(e,this.primaryColumns,this.primaryColumnsMap):null},t.prototype.getGridColumn=function(e){return this.getColumn(e,this.gridColumns,this.gridColumnsMap)},t.prototype.lookupGridColumn=function(e){return this.gridColumnsMap[e]},t.prototype.getSecondaryColumn=function(e){return this.secondaryColumns?this.getColumn(e,this.secondaryColumns,this.secondaryColumnsMap):null},t.prototype.getColumn=function(e,r,i){if(!e||!i)return null;if(typeof e=="string"&&i[e])return i[e];for(var o=0;o<r.length;o++)if(this.columnsMatch(r[o],e))return r[o];return this.getAutoColumn(e)},t.prototype.getSourceColumnsForGroupColumn=function(e){var r=e.getColDef().showRowGroup;if(!r)return null;if(r===!0)return this.rowGroupColumns.slice(0);var i=this.getPrimaryColumn(r);return i?[i]:null},t.prototype.getAutoColumn=function(e){var r=this;return!this.groupAutoColumns||!ye(this.groupAutoColumns)||pt(this.groupAutoColumns)?null:this.groupAutoColumns.find(function(i){return r.columnsMatch(i,e)})||null},t.prototype.columnsMatch=function(e,r){var i=e===r,o=e.getColDef()===r,a=e.getColId()==r;return i||o||a},t.prototype.getDisplayNameForColumn=function(e,r,i){if(i===void 0&&(i=!1),!e)return null;var o=this.getHeaderName(e.getColDef(),e,null,null,r);return i?this.wrapHeaderNameWithAggFunc(e,o):o},t.prototype.getDisplayNameForProvidedColumnGroup=function(e,r,i){var o=r?r.getColGroupDef():null;return o?this.getHeaderName(o,null,e,r,i):null},t.prototype.getDisplayNameForColumnGroup=function(e,r){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),r)},t.prototype.getHeaderName=function(e,r,i,o,a){var s=e.headerValueGetter;if(s){var l=this.gridOptionsService.addGridCommonParams({colDef:e,column:r,columnGroup:i,providedColumnGroup:o,location:a});return typeof s=="function"?s(l):typeof s=="string"?this.expressionService.evaluate(s,l):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}else{if(e.headerName!=null)return e.headerName;if(e.field)return HX(e.field)}return""},t.prototype.wrapHeaderNameWithAggFunc=function(e,r){if(this.gridOptionsService.get("suppressAggFuncInHeader"))return r;var i=e.getColDef().pivotValueColumn,o=ye(i),a=null,s;if(o){var l=this.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn")&&this.valueColumns.length===1,u=e.getColDef().pivotTotalColumnIds!==void 0;if(l&&!u)return r;a=i?i.getAggFunc():null,s=!0}else{var c=e.isValueActive(),d=this.pivotMode||!this.isRowGroupEmpty();c&&d?(a=e.getAggFunc(),s=!0):s=!1}if(s){var p=typeof a=="string"?a:"func",h=this.localeService.getLocaleTextFunc(),f=h(p,p);return"".concat(f,"(").concat(r,")")}return r},t.prototype.getColumnGroup=function(e,r){if(!e)return null;if(e instanceof Fn)return e;var i=this.getAllDisplayedTrees(),o=typeof r=="number",a=null;return this.columnUtils.depthFirstAllColumnTreeSearch(i,function(s){if(s instanceof Fn){var l=s,u=void 0;o?u=e===l.getGroupId()&&r===l.getPartId():u=e===l.getGroupId(),u&&(a=l)}}),a},t.prototype.isReady=function(){return this.ready},t.prototype.extractValueColumns=function(e,r){this.valueColumns=this.extractColumns(r,this.valueColumns,function(i,o){return i.setValueActive(o,e)},function(){},function(){},function(i){var o=i.aggFunc;if(o===null||o==="")return null;if(o!==void 0)return!!o},function(i){return i.initialAggFunc!=null&&i.initialAggFunc!=""}),this.valueColumns.forEach(function(i){var o=i.getColDef();o.aggFunc!=null&&o.aggFunc!=""?i.setAggFunc(o.aggFunc):i.getAggFunc()||i.setAggFunc(o.initialAggFunc)})},t.prototype.extractRowGroupColumns=function(e,r){this.rowGroupColumns=this.extractColumns(r,this.rowGroupColumns,function(i,o){return i.setRowGroupActive(o,e)},function(i){return i.rowGroupIndex},function(i){return i.initialRowGroupIndex},function(i){return i.rowGroup},function(i){return i.initialRowGroup})},t.prototype.extractColumns=function(e,r,i,o,a,s,l){e===void 0&&(e=[]),r===void 0&&(r=[]);var u=[],c=[];(this.primaryColumns||[]).forEach(function(h){var f=e.indexOf(h)<0,v=h.getColDef(),g=uR(s(v)),m=uR(l(v)),y=Lp(o(v)),C=Lp(a(v)),S,w=g!==void 0,_=y!==void 0,x=m!==void 0,E=C!==void 0;if(w?S=g:_?y===null?S=!1:S=y>=0:f?x?S=m:E?S=C!=null&&C>=0:S=!1:S=r.indexOf(h)>=0,S){var R=f?y!=null||C!=null:y!=null;R?u.push(h):c.push(h)}});var d=function(h){var f=o(h.getColDef()),v=a(h.getColDef());return f??v};u.sort(function(h,f){var v=d(h),g=d(f);return v===g?0:v<g?-1:1});var p=[].concat(u);return r.forEach(function(h){c.indexOf(h)>=0&&p.push(h)}),c.forEach(function(h){p.indexOf(h)<0&&p.push(h)}),r.forEach(function(h){p.indexOf(h)<0&&i(h,!1)}),p.forEach(function(h){r.indexOf(h)<0&&i(h,!0)}),p},t.prototype.extractPivotColumns=function(e,r){this.pivotColumns=this.extractColumns(r,this.pivotColumns,function(i,o){return i.setPivotActive(o,e)},function(i){return i.pivotIndex},function(i){return i.initialPivotIndex},function(i){return i.pivot},function(i){return i.initialPivot})},t.prototype.resetColumnGroupState=function(e){if(this.primaryColumnTree){var r=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(i){if(i instanceof er){var o=i.getColGroupDef(),a={groupId:i.getGroupId(),open:o?o.openByDefault:void 0};r.push(a)}}),this.setColumnGroupState(r,e)}},t.prototype.getColumnGroupState=function(){var e=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(r){r instanceof er&&e.push({groupId:r.getGroupId(),open:r.isExpanded()})}),e},t.prototype.setColumnGroupState=function(e,r){var i=this;if(this.gridBalancedTree){this.columnAnimationService.start();var o=[];if(e.forEach(function(s){var l=s.groupId,u=s.open,c=i.getProvidedColumnGroup(l);c&&c.isExpanded()!==u&&(i.logger.log("columnGroupOpened("+c.getGroupId()+","+u+")"),c.setExpanded(u),o.push(c))}),this.updateGroupsAndDisplayedColumns(r),this.setFirstRightAndLastLeftPinned(r),o.length){var a={type:M.EVENT_COLUMN_GROUP_OPENED,columnGroup:er.length===1?o[0]:void 0,columnGroups:o};this.eventService.dispatchEvent(a)}this.columnAnimationService.finish()}},t.prototype.setColumnGroupOpened=function(e,r,i){var o;e instanceof er?o=e.getId():o=e||"",this.setColumnGroupState([{groupId:o,open:r}],i)},t.prototype.getProvidedColumnGroup=function(e){typeof e!="string"&&console.error("AG Grid: group key must be a string");var r=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(i){i instanceof er&&i.getId()===e&&(r=i)}),r},t.prototype.calculateColumnsForDisplay=function(){var e=this,r;return this.pivotMode&&pt(this.secondaryColumns)?r=this.gridColumns.filter(function(i){var o=e.groupAutoColumns&&Ol(e.groupAutoColumns,i),a=e.valueColumns&&Ol(e.valueColumns,i);return o||a}):r=this.gridColumns.filter(function(i){var o=e.groupAutoColumns&&Ol(e.groupAutoColumns,i);return o||i.isVisible()}),r},t.prototype.checkColSpanActiveInCols=function(e){var r=!1;return e.forEach(function(i){ye(i.getColDef().colSpan)&&(r=!0)}),r},t.prototype.calculateColumnsForGroupDisplay=function(){var e=this;this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};var r=function(i){var o=i.getColDef(),a=o.showRowGroup;o&&ye(a)&&(e.groupDisplayColumns.push(i),typeof a=="string"?e.groupDisplayColumnsMap[a]=i:a===!0&&e.getRowGroupColumns().forEach(function(s){e.groupDisplayColumnsMap[s.getId()]=i}))};this.gridColumns.forEach(r)},t.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},t.prototype.getGroupDisplayColumnForGroup=function(e){return this.groupDisplayColumnsMap[e]},t.prototype.updateDisplayedColumns=function(e){var r=this.calculateColumnsForDisplay();this.buildDisplayedTrees(r),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)},t.prototype.isSecondaryColumnsPresent=function(){return ye(this.secondaryColumns)},t.prototype.setSecondaryColumns=function(e,r){var i=this;if(this.gridColumns){var o=e&&e.length>0;if(!(!o&&pt(this.secondaryColumns))){if(o){this.processSecondaryColumnDefinitions(e);var a=this.columnFactory.createColumnTree(e,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0,r);this.destroyOldColumns(this.secondaryBalancedTree,a.columnTree),this.secondaryBalancedTree=a.columnTree,this.secondaryHeaderRowCount=a.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(function(s){return i.secondaryColumnsMap[s.getId()]=s}),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(r)}}},t.prototype.processSecondaryColumnDefinitions=function(e){var r=this.gridOptionsService.get("processPivotResultColDef"),i=this.gridOptionsService.get("processPivotResultColGroupDef");if(!(!r&&!i)){var o=function(a){a.forEach(function(s){var l=ye(s.children);if(l){var u=s;i&&i(u),o(u.children)}else{var c=s;r&&r(c)}})};e&&o(e)}},t.prototype.updateGridColumns=function(){var e=this,r=this.gridBalancedTree;this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns;var i=this.createGroupAutoColumnsIfNeeded();if(i){var o=pp(this.groupAutoColumns.map(function(u){return[u,!0]}));this.lastPrimaryOrder&&(this.lastPrimaryOrder=this.lastPrimaryOrder.filter(function(u){return!o.has(u)}),this.lastPrimaryOrder=Ea(Ea([],ba(this.groupAutoColumns),!1),ba(this.lastPrimaryOrder),!1)),this.lastSecondaryOrder&&(this.lastSecondaryOrder=this.lastSecondaryOrder.filter(function(u){return!o.has(u)}),this.lastSecondaryOrder=Ea(Ea([],ba(this.groupAutoColumns),!1),ba(this.lastSecondaryOrder),!1))}var a;if(this.secondaryColumns&&this.secondaryBalancedTree){var s=this.secondaryColumns.some(function(u){return e.gridColumnsMap[u.getColId()]!==void 0});this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,s&&(a=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,a=this.lastPrimaryOrder);if(this.addAutoGroupToGridColumns(),this.orderGridColsLike(a),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(u){return e.gridColumnsMap[u.getId()]=u}),this.setAutoHeightActive(),!kc(r,this.gridBalancedTree)){var l={type:M.EVENT_GRID_COLUMNS_CHANGED};this.eventService.dispatchEvent(l)}},t.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter(function(r){return r.isAutoHeight()}).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var e=this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.isRowModelType("serverSide");e||at("autoHeight columns only work with Client Side Row Model and Server Side Row Model.")}},t.prototype.orderGridColsLike=function(e){if(!pt(e)){var r=pp(e.map(function(c,d){return[c,d]})),i=!0;if(this.gridColumns.forEach(function(c){r.has(c)&&(i=!1)}),!i){var o=pp(this.gridColumns.map(function(c){return[c,!0]})),a=e.filter(function(c){return o.has(c)}),s=pp(a.map(function(c){return[c,!0]})),l=this.gridColumns.filter(function(c){return!s.has(c)}),u=a.slice();l.forEach(function(c){var d=c.getOriginalParent();if(!d){u.push(c);return}for(var p=[];!p.length&&d;){var h=d.getLeafColumns();h.forEach(function(g){var m=u.indexOf(g)>=0,y=p.indexOf(g)<0;m&&y&&p.push(g)}),d=d.getOriginalParent()}if(!p.length){u.push(c);return}var f=p.map(function(g){return u.indexOf(g)}),v=Math.max.apply(Math,Ea([],ba(f),!1));v0(u,c,v+1)}),this.gridColumns=u}}},t.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},t.prototype.refreshQuickFilterColumns=function(){var e,r=(e=this.isPivotMode()?this.secondaryColumns:this.primaryColumns)!==null&&e!==void 0?e:[];this.groupAutoColumns&&(r=r.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gridOptionsService.get("includeHiddenColumnsInQuickFilter")?r:r.filter(function(i){return i.isVisible()||i.isRowGroupActive()})},t.prototype.placeLockedColumns=function(e){var r=[],i=[],o=[];return e.forEach(function(a){var s=a.getColDef().lockPosition;s==="right"?o.push(a):s==="left"||s===!0?r.push(a):i.push(a)}),Ea(Ea(Ea([],ba(r),!1),ba(i),!1),ba(o),!1)},t.prototype.addAutoGroupToGridColumns=function(){if(pt(this.groupAutoColumns)){this.destroyOldColumns(this.groupAutoColsBalancedTree),this.groupAutoColsBalancedTree=null;return}this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,e),this.groupAutoColsBalancedTree=e,this.gridBalancedTree=e.concat(this.gridBalancedTree)},t.prototype.clearDisplayedAndViewportColumns=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.ariaOrderColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""},t.prototype.updateGroupsAndDisplayedColumns=function(e){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(e),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();var r={type:M.EVENT_DISPLAYED_COLUMNS_CHANGED};this.eventService.dispatchEvent(r)},t.prototype.deriveDisplayedColumns=function(e){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinColumnsAriaOrder(),this.joinDisplayedColumns(),this.setLeftValues(e),this.displayedAutoHeightCols=this.displayedColumns.filter(function(r){return r.isAutoHeight()})},t.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},t.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},t.prototype.joinColumnsAriaOrder=function(){var e,r,i=this.getAllGridColumns(),o=[],a=[],s=[];try{for(var l=mM(i),u=l.next();!u.done;u=l.next()){var c=u.value,d=c.getPinned();d?d===!0||d==="left"?o.push(c):s.push(c):a.push(c)}}catch(p){e={error:p}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}this.ariaOrderColumns=o.concat(a).concat(s)},t.prototype.joinDisplayedColumns=function(){this.gridOptionsService.get("enableRtl")?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},t.prototype.setLeftValues=function(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()},t.prototype.setLeftValuesOfColumns=function(e){var r=this;if(this.primaryColumns){var i=this.getPrimaryAndSecondaryAndAutoColumns().slice(0),o=this.gridOptionsService.get("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(a){if(o){var s=r.getWidthOfColsInList(a);a.forEach(function(u){s-=u.getActualWidth(),u.setLeft(s,e)})}else{var l=0;a.forEach(function(u){u.setLeft(l,e),l+=u.getActualWidth()})}FX(i,a)}),i.forEach(function(a){a.setLeft(null,e)})}},t.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(e){e.forEach(function(r){if(r instanceof Fn){var i=r;i.checkLeft()}})})},t.prototype.derivedDisplayedColumnsFromDisplayedTree=function(e,r){r.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(e,function(i){i instanceof Rt&&r.push(i)})},t.prototype.isColumnVirtualisationSuppressed=function(){return this.suppressColumnVirtualisation||this.viewportRight===0},t.prototype.extractViewportColumns=function(){this.isColumnVirtualisationSuppressed()?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},t.prototype.getVirtualHeaderGroupRow=function(e,r){var i;switch(e){case"left":i=this.viewportRowLeft[r];break;case"right":i=this.viewportRowRight[r];break;default:i=this.viewportRowCenter[r];break}return pt(i)&&(i=[]),i},t.prototype.calculateHeaderRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var e={};this.headerViewportColumns.forEach(function(i){return e[i.getId()]=!0});var r=function(i,o,a){for(var s=!1,l=0;l<i.length;l++){var u=i[l],c=!1;if(u instanceof Rt)c=e[u.getId()]===!0;else{var d=u,p=d.getDisplayedChildren();p&&(c=r(p,o,a+1))}c&&(s=!0,o[a]||(o[a]=[]),o[a].push(u))}return s};r(this.displayedTreeLeft,this.viewportRowLeft,0),r(this.displayedTreeRight,this.viewportRowRight,0),r(this.displayedTreeCentre,this.viewportRowCenter,0)},t.prototype.extractViewport=function(){var e=function(o){return"".concat(o.getId(),"-").concat(o.getPinned()||"normal")};this.extractViewportColumns();var r=this.viewportColumns.map(e).join("#"),i=this.viewportColumnsHash!==r;return i&&(this.viewportColumnsHash=r,this.calculateHeaderRows()),i},t.prototype.refreshFlexedColumns=function(e){var r;e===void 0&&(e={});var i=e.source?e.source:"flex";if(e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];var o=-1;if(e.resizingCols){for(var a=new Set(e.resizingCols),s=this.displayedColumnsCenter,l=s.length-1;l>=0;l--)if(a.has(s[l])){o=l;break}}for(var u=0,c=[],d=0,p=0,l=0;l<this.displayedColumnsCenter.length;l++){var h=this.displayedColumnsCenter[l].getFlex()&&l>o;h?(c.push(this.displayedColumnsCenter[l]),p+=this.displayedColumnsCenter[l].getFlex(),d+=(r=this.displayedColumnsCenter[l].getMinWidth())!==null&&r!==void 0?r:0):u+=this.displayedColumnsCenter[l].getActualWidth()}if(!c.length)return[];var f=[];u+d>this.flexViewportWidth&&(c.forEach(function(E){var R;return E.setActualWidth((R=E.getMinWidth())!==null&&R!==void 0?R:0,i)}),f=c,c=[]);var v=[],g;e:for(;;){g=this.flexViewportWidth-u;for(var m=g/p,l=0;l<c.length;l++){var y=c[l],C=m*y.getFlex(),S=0,w=y.getMinWidth(),_=y.getMaxWidth();if(ye(w)&&C<w?S=w:ye(_)&&C>_&&(S=_),S){y.setActualWidth(S,i),OV(c,y),p-=y.getFlex(),f.push(y),u+=y.getActualWidth();continue e}v[l]=Math.round(C)}break}var x=g;return c.forEach(function(E,R){E.setActualWidth(Math.min(v[R],x),i),f.push(E),x-=v[R]}),e.skipSetLeft||this.setLeftValues(i),e.updateBodyWidths&&this.updateBodyWidths(),e.fireResizedEvent&&this.dispatchColumnResizedEvent(f,!0,i,c),c},t.prototype.sizeColumnsToFit=function(e,r,i,o){var a=this,s,l,u,c,d;if(r===void 0&&(r="sizeColumnsToFit"),this.shouldQueueResizeOperations){this.resizeOperationQueue.push(function(){return a.sizeColumnsToFit(e,r,i,o)});return}var p={};o&&((s=o==null?void 0:o.columnLimits)===null||s===void 0||s.forEach(function(j){var B=j.key,$=dLe(j,["key"]);p[typeof B=="string"?B:B.getColId()]=$}));var h=this.getAllDisplayedColumns(),f=e===this.getWidthOfColsInList(h);if(!(e<=0||!h.length||f)){var v=[],g=[];h.forEach(function(j){j.getColDef().suppressSizeToFit===!0?g.push(j):v.push(j)});var m=v.slice(0),y=!1,C=function(j){Jo(v,j),g.push(j)};for(v.forEach(function(j){var B,$;j.resetActualWidth(r);var W=p==null?void 0:p[j.getId()],Y=(B=W==null?void 0:W.minWidth)!==null&&B!==void 0?B:o==null?void 0:o.defaultMinWidth,Z=($=W==null?void 0:W.maxWidth)!==null&&$!==void 0?$:o==null?void 0:o.defaultMaxWidth,se=j.getActualWidth();typeof Y=="number"&&se<Y?j.setActualWidth(Y,r,!0):typeof Z=="number"&&se>Z&&j.setActualWidth(Z,r,!0)});!y;){y=!0;var S=e-this.getWidthOfColsInList(g);if(S<=0)v.forEach(function(j){var B,$,W=($=(B=p==null?void 0:p[j.getId()])===null||B===void 0?void 0:B.minWidth)!==null&&$!==void 0?$:o==null?void 0:o.defaultMinWidth;if(typeof W=="number"){j.setActualWidth(W,r,!0);return}j.setMinimum(r)});else for(var w=S/this.getWidthOfColsInList(v),_=S,x=v.length-1;x>=0;x--){var E=v[x],R=p==null?void 0:p[E.getId()],P=(l=R==null?void 0:R.minWidth)!==null&&l!==void 0?l:o==null?void 0:o.defaultMinWidth,A=(u=R==null?void 0:R.maxWidth)!==null&&u!==void 0?u:o==null?void 0:o.defaultMaxWidth,N=(c=E.getMinWidth())!==null&&c!==void 0?c:0,I=(d=E.getMaxWidth())!==null&&d!==void 0?d:Number.MAX_VALUE,G=typeof P=="number"&&P>N?P:E.getMinWidth(),V=typeof A=="number"&&A<I?A:E.getMaxWidth(),H=Math.round(E.getActualWidth()*w);ye(G)&&H<G?(H=G,C(E),y=!1):ye(V)&&H>V?(H=V,C(E),y=!1):x===0&&(H=_),E.setActualWidth(H,r,!0),_-=H}}m.forEach(function(j){j.fireColumnWidthChangedEvent(r)}),this.setLeftValues(r),this.updateBodyWidths(),!i&&this.dispatchColumnResizedEvent(m,!0,r)}},t.prototype.buildDisplayedTrees=function(e){var r=[],i=[],o=[];e.forEach(function(s){switch(s.getPinned()){case"left":r.push(s);break;case"right":i.push(s);break;default:o.push(s);break}});var a=new TV;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(r,a,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(i,a,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(o,a,null,this.displayedTreeCentre),this.updateDisplayedMap()},t.prototype.updateDisplayedMap=function(){var e=this;this.displayedColumnsAndGroupsMap={};var r=function(i){e.displayedColumnsAndGroupsMap[i.getUniqueId()]=i};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,r),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,r),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,r)},t.prototype.isDisplayed=function(e){var r=this.displayedColumnsAndGroupsMap[e.getUniqueId()];return r===e},t.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var e=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(e,function(r){r instanceof Fn&&r.calculateDisplayedColumns()})},t.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},t.prototype.createGroupAutoColumnsIfNeeded=function(){var e=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;var r=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),i=this.pivotMode?this.gridOptionsService.get("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn(),o=this.rowGroupColumns.length>0||this.gridOptionsService.get("treeData"),a=o&&!i&&!r;if(a){var s=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns),l=!this.autoColsEqual(s,this.groupAutoColumns);if(l||e)return this.groupAutoColumns=s,!0}else this.groupAutoColumns=null;return!1},t.prototype.isGroupSuppressAutoColumn=function(){var e=this.gridOptionsService.get("groupDisplayType"),r=e==="custom";if(r)return!0;var i=this.gridOptionsService.get("treeDataDisplayType");return i==="custom"},t.prototype.autoColsEqual=function(e,r){return kc(e,r,function(i,o){return i.getColId()===o.getColId()})},t.prototype.getWidthOfColsInList=function(e){return e.reduce(function(r,i){return r+i.getActualWidth()},0)},t.prototype.getFirstDisplayedColumn=function(){var e=this.gridOptionsService.get("enableRtl"),r=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&r.reverse();for(var i=0;i<r.length;i++){var o=this[r[i]]();if(o.length)return e?Yt(o):o[0]}return null},t.prototype.setColumnHeaderHeight=function(e,r){var i=e.setAutoHeaderHeight(r);if(i){var o={type:M.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:e,columns:[e],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(o)}},t.prototype.getColumnGroupHeaderRowHeight=function(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()},t.prototype.getColumnHeaderRowHeight=function(){var e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),r=this.getAllDisplayedColumns().filter(function(i){return i.isAutoHeaderHeight()}).map(function(i){return i.getAutoHeaderHeight()||0});return Math.max.apply(Math,Ea([e],ba(r),!1))},t.prototype.getHeaderHeight=function(){var e;return(e=this.gridOptionsService.get("headerHeight"))!==null&&e!==void 0?e:this.environment.getFromTheme(25,"headerHeight")},t.prototype.getFloatingFiltersHeight=function(){var e;return(e=this.gridOptionsService.get("floatingFiltersHeight"))!==null&&e!==void 0?e:this.getHeaderHeight()},t.prototype.getGroupHeaderHeight=function(){var e;return(e=this.gridOptionsService.get("groupHeaderHeight"))!==null&&e!==void 0?e:this.getHeaderHeight()},t.prototype.getPivotHeaderHeight=function(){var e;return(e=this.gridOptionsService.get("pivotHeaderHeight"))!==null&&e!==void 0?e:this.getHeaderHeight()},t.prototype.getPivotGroupHeaderHeight=function(){var e;return(e=this.gridOptionsService.get("pivotGroupHeaderHeight"))!==null&&e!==void 0?e:this.getGroupHeaderHeight()},t.prototype.queueResizeOperations=function(){this.shouldQueueResizeOperations=!0},t.prototype.processResizeOperations=function(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(function(e){return e()}),this.resizeOperationQueue=[]},t.prototype.resetColumnDefIntoColumn=function(e,r){var i=e.getUserProvidedColDef();if(!i)return!1;var o=this.columnFactory.addColumnDefaultAndTypes(i,e.getColId());return e.setColDef(o,i,r),!0},t.prototype.isColumnGroupingLocked=function(e){var r=this.gridOptionsService.get("groupLockGroupColumns");if(!e.isRowGroupActive()||r===0)return!1;if(r===-1)return!0;var i=this.rowGroupColumns.findIndex(function(o){return o.getColId()===e.getColId()});return r>i},t.prototype.generateColumnStateForRowGroupAndPivotIndexes=function(e,r){var i=this,o={},a=function(s,l,u,c,d,p){if(!l.length||!i.primaryColumns)return[];for(var h=Object.keys(s),f=new Set(h),v=new Set(h),g=new Set(l.map(function(P){var A=P.getColId();return v.delete(A),A}).concat(h)),m=[],y={},C=0,S=0;S<i.primaryColumns.length;S++){var w=i.primaryColumns[S].getColId();g.has(w)&&(m.push(w),y[w]=C++)}var _=1e3,x=!1,E=0,R=function(P){for(var A=y[P],N=E;N<A;N++){var I=m[N];v.has(I)&&(s[I][d]=_++,v.delete(I))}E=A};l.forEach(function(P){var A=P.getColId();if(f.has(A))R(A),s[A][d]=_++;else{var N=P.getColDef(),I=N[d]===null||N[d]===void 0&&N[p]==null;if(I){if(!x){var G=N[u]||N[u]===void 0&&N[c];G?R(A):(v.forEach(function(V){s[V][d]=_+y[V]}),_+=m.length,x=!0)}o[A]||(o[A]={colId:A}),o[A][d]=_++}}})};return a(e,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),a(r,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(o)},t.prototype.onColumnsReady=function(){var e=this,r=this.gridOptionsService.get("autoSizeStrategy");if(r){var i=r.type;setTimeout(function(){if(i==="fitGridWidth"){var o=r.columnLimits,a=r.defaultMinWidth,s=r.defaultMaxWidth,l=o==null?void 0:o.map(function(u){var c=u.colId,d=u.minWidth,p=u.maxWidth;return{key:c,minWidth:d,maxWidth:p}});e.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:a,defaultMaxWidth:s,columnLimits:l})}else i==="fitProvidedWidth"&&e.sizeColumnsToFit(r.width,"sizeColumnsToFit")})}},t.prototype.onFirstDataRendered=function(){var e=this,r=this.gridOptionsService.get("autoSizeStrategy");if((r==null?void 0:r.type)==="fitCellContents"){var i=r.colIds,o=r.skipHeader;setTimeout(function(){i?e.autoSizeColumns({columns:i,skipHeader:o,source:"autosizeColumns"}):e.autoSizeAllColumns("autosizeColumns",o)})}},Mi([O("expressionService")],t.prototype,"expressionService",void 0),Mi([O("columnFactory")],t.prototype,"columnFactory",void 0),Mi([O("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),Mi([O("ctrlsService")],t.prototype,"ctrlsService",void 0),Mi([O("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),Mi([O("columnUtils")],t.prototype,"columnUtils",void 0),Mi([O("columnAnimationService")],t.prototype,"columnAnimationService",void 0),Mi([O("autoGroupColService")],t.prototype,"autoGroupColService",void 0),Mi([xt("aggFuncService")],t.prototype,"aggFuncService",void 0),Mi([xt("valueCache")],t.prototype,"valueCache",void 0),Mi([xt("animationFrameService")],t.prototype,"animationFrameService",void 0),Mi([O("sortController")],t.prototype,"sortController",void 0),Mi([O("columnDefFactory")],t.prototype,"columnDefFactory",void 0),Mi([q],t.prototype,"init",null),Mi([Gr],t.prototype,"destroyColumns",null),Mi([cLe(0,es("loggerFactory"))],t.prototype,"setBeans",null),t=Mi([me("columnModel")],t),t}(re);function Wg(n){return n==="gridOptionsUpdated"?"gridOptionsChanged":n}var pLe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),hLe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},UX=function(n){pLe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.calculateColMinWidth=function(e){return e.minWidth!=null?e.minWidth:this.environment.getMinColWidth()},t.prototype.calculateColMaxWidth=function(e){return e.maxWidth!=null?e.maxWidth:Number.MAX_SAFE_INTEGER},t.prototype.calculateColInitialWidth=function(e){var r=this.calculateColMinWidth(e),i=this.calculateColMaxWidth(e),o,a=Lp(e.width),s=Lp(e.initialWidth);return a!=null?o=a:s!=null?o=s:o=200,Math.max(Math.min(o,i),r)},t.prototype.getOriginalPathForColumn=function(e,r){var i=[],o=!1,a=function(s,l){for(var u=0;u<s.length;u++){if(o)return;var c=s[u];if(c instanceof er){var d=c;a(d.getChildren(),l+1),i[l]=c}else c===e&&(o=!0)}};return a(r,0),o?i:null},t.prototype.depthFirstOriginalTreeSearch=function(e,r,i){var o=this;r&&r.forEach(function(a){a instanceof er&&o.depthFirstOriginalTreeSearch(a,a.getChildren(),i),i(a,e)})},t.prototype.depthFirstAllColumnTreeSearch=function(e,r){var i=this;e&&e.forEach(function(o){o instanceof Fn&&i.depthFirstAllColumnTreeSearch(o.getChildren(),r),r(o)})},t.prototype.depthFirstDisplayedColumnTreeSearch=function(e,r){var i=this;e&&e.forEach(function(o){o instanceof Fn&&i.depthFirstDisplayedColumnTreeSearch(o.getDisplayedChildren(),r),r(o)})},t=hLe([me("columnUtils")],t),t}(re),fLe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),vLe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},zX=function(n){fLe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.createDisplayedGroups=function(e,r,i,o){for(var a=this,s=this.mapOldGroupsById(o),l=[],u=e,c=function(){var d=u;u=[];for(var p=0,h=function(w){var _=p;p=w;var x=d[_],E=x instanceof Fn?x.getProvidedColumnGroup():x,R=E.getOriginalParent();if(R==null){for(var P=_;P<w;P++)l.push(d[P]);return}for(var A=a.createColumnGroup(R,r,s,i),P=_;P<w;P++)A.addChild(d[P]);u.push(A)},f=1;f<d.length;f++){var v=d[f],g=v instanceof Fn?v.getProvidedColumnGroup():v,m=g.getOriginalParent(),y=d[p],C=y instanceof Fn?y.getProvidedColumnGroup():y,S=C.getOriginalParent();m!==S&&h(f)}p<d.length&&h(d.length)};u.length;)c();return this.setupParentsIntoColumns(l,null),l},t.prototype.createColumnGroup=function(e,r,i,o){var a=e.getGroupId(),s=r.getInstanceIdForKey(a),l=Fn.createUniqueId(a,s),u=i[l];return u&&u.getProvidedColumnGroup()!==e&&(u=null),ye(u)?u.reset():(u=new Fn(e,a,s,o),this.context.createBean(u)),u},t.prototype.mapOldGroupsById=function(e){var r={},i=function(o){o.forEach(function(a){if(a instanceof Fn){var s=a;r[a.getUniqueId()]=s,i(s.getChildren())}})};return e&&i(e),r},t.prototype.setupParentsIntoColumns=function(e,r){var i=this;e.forEach(function(o){if(o.setParent(r),o instanceof Fn){var a=o;i.setupParentsIntoColumns(a.getChildren(),a)}})},t=vLe([me("displayedGroupCreator")],t),t}(re),Ld=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Fd=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},gLe={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,excludeHiddenColumnsFromQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,enableChartToolPanelsButton:!0,suppressChartToolPanelsButton:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressParentsInRowNodes:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,suppressAggAtRootLevel:!0,removePivotHeaderRowWhenSingleValueColumn:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,functionsPassive:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0},gl=function(){function n(){}return n.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu"],n.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy"],n.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],n.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex"],n.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilterAllLevels","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents"],n.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher"],n.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering"],n.FUNCTION_PROPERTIES=Fd(Fd([],Ld(n.FUNCTIONAL_PROPERTIES),!1),Ld(n.CALLBACK_PROPERTIES),!1),n.ALL_PROPERTIES=Fd(Fd(Fd(Fd(Fd(Fd([],Ld(n.ARRAY_PROPERTIES),!1),Ld(n.OBJECT_PROPERTIES),!1),Ld(n.STRING_PROPERTIES),!1),Ld(n.NUMBER_PROPERTIES),!1),Ld(n.FUNCTION_PROPERTIES),!1),Ld(n.BOOLEAN_PROPERTIES),!1),n}(),s1=function(){return s1=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},s1.apply(this,arguments)},q3=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},X3=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},PV=function(){function n(){}n.getCallbackForEvent=function(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)},n.getGridOptionKeys=function(){return this.ALL_PROPERTIES_AND_CALLBACKS},n.combineAttributesAndGridOptions=function(e,r){typeof e!="object"&&(e={});var i=s1({},e),o=n.getGridOptionKeys();return o.forEach(function(a){var s=r[a];typeof s<"u"&&s!==n.VUE_OMITTED_PROPERTY&&(i[a]=s)}),i},n.processOnChange=function(e,r){if(e){var i={},o=!1;if(Object.keys(e).filter(function(s){return n.ALL_PROPERTIES_AND_CALLBACKS_SET.has(s)}).forEach(function(s){i[s]=e[s],o=!0}),!!o){r.__internalUpdateGridOptions(i);var a={type:M.EVENT_COMPONENT_STATE_CHANGED};no(i,function(s,l){a[s]=l}),r.dispatchEvent(a)}}};var t;return t=n,n.EVENTS=Hf(M),n.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY",n.EXCLUDED_INTERNAL_EVENTS=[M.EVENT_SCROLLBAR_WIDTH_CHANGED,M.EVENT_CHECKBOX_CHANGED,M.EVENT_HEIGHT_SCALE_CHANGED,M.EVENT_BODY_HEIGHT_CHANGED,M.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,M.EVENT_SCROLL_VISIBILITY_CHANGED,M.EVENT_COLUMN_HOVER_CHANGED,M.EVENT_FLASH_CELLS,M.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,M.EVENT_DISPLAYED_ROWS_CHANGED,M.EVENT_LEFT_PINNED_WIDTH_CHANGED,M.EVENT_RIGHT_PINNED_WIDTH_CHANGED,M.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,M.EVENT_POPUP_TO_FRONT,M.EVENT_STORE_UPDATED,M.EVENT_COLUMN_PANEL_ITEM_DRAG_START,M.EVENT_COLUMN_PANEL_ITEM_DRAG_END,M.EVENT_FILL_START,M.EVENT_FILL_END,M.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,M.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,M.EVENT_FULL_WIDTH_ROW_FOCUSED,M.EVENT_HEADER_HEIGHT_CHANGED,M.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,M.EVENT_CELL_FOCUS_CLEARED,M.EVENT_GRID_STYLES_CHANGED,M.EVENT_FILTER_DESTROYED,M.EVENT_ROW_DATA_UPDATE_STARTED,M.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,M.EVENT_DATA_TYPES_INFERRED,M.EVENT_FIELD_VALUE_CHANGED,M.EVENT_FIELD_PICKER_VALUE_SELECTED,M.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,M.EVENT_SUPPRESS_MENU_HIDE_CHANGED,M.EVENT_SUPPRESS_FIELD_DOT_NOTATION,M.EVENT_ROW_COUNT_READY,M.EVENT_SIDE_BAR_UPDATED],n.PUBLIC_EVENTS=n.EVENTS.filter(function(e){return!Ol(n.EXCLUDED_INTERNAL_EVENTS,e)}),n.EVENT_CALLBACKS=n.EVENTS.map(function(e){return n.getCallbackForEvent(e)}),n.STRING_PROPERTIES=gl.STRING_PROPERTIES,n.OBJECT_PROPERTIES=gl.OBJECT_PROPERTIES,n.ARRAY_PROPERTIES=gl.ARRAY_PROPERTIES,n.NUMBER_PROPERTIES=gl.NUMBER_PROPERTIES,n.BOOLEAN_PROPERTIES=gl.BOOLEAN_PROPERTIES,n.FUNCTION_PROPERTIES=gl.FUNCTION_PROPERTIES,n.ALL_PROPERTIES=gl.ALL_PROPERTIES,n.ALL_PROPERTIES_AND_CALLBACKS=X3(X3([],q3(t.ALL_PROPERTIES),!1),q3(t.EVENT_CALLBACKS),!1),n.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(n.ALL_PROPERTIES_AND_CALLBACKS),n}(),mLe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),yLe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},KX=function(n){mLe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.componentsMappedByName={},e}return t.prototype.setupComponents=function(e){var r=this;e&&e.forEach(function(i){return r.addComponent(i)})},t.prototype.addComponent=function(e){var r=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=r.toUpperCase();this.componentsMappedByName[i]=e.componentClass},t.prototype.getComponentClass=function(e){return this.componentsMappedByName[e]},t=yLe([me("agStackComponentsRegistry")],t),t}(re);function Qs(n,t,e){e==null||typeof e=="string"&&e==""?DV(n,t):Js(n,t,e)}function Js(n,t,e){n.setAttribute(YX(t),e.toString())}function DV(n,t){n.removeAttribute(YX(t))}function YX(n){return"aria-".concat(n)}function ri(n,t){t?n.setAttribute("role",t):n.removeAttribute("role")}function qX(n){var t;return n==="asc"?t="ascending":n==="desc"?t="descending":n==="mixed"?t="other":t="none",t}function CLe(n){return parseInt(n.getAttribute("aria-level"),10)}function XX(n){return parseInt(n.getAttribute("aria-posinset"),10)}function ZX(n){return n.getAttribute("aria-label")}function ph(n,t){Qs(n,"label",t)}function fR(n,t){Qs(n,"labelledby",t)}function SLe(n,t){Qs(n,"describedby",t)}function AV(n,t){Qs(n,"live",t)}function QX(n,t){Qs(n,"atomic",t)}function JX(n,t){Qs(n,"relevant",t)}function eZ(n,t){Qs(n,"level",t)}function MV(n,t){Qs(n,"disabled",t)}function rD(n,t){Qs(n,"hidden",t)}function LV(n,t){Qs(n,"activedescendant",t)}function id(n,t){Js(n,"expanded",t)}function tZ(n){DV(n,"expanded")}function FV(n,t){Js(n,"setsize",t)}function IV(n,t){Js(n,"posinset",t)}function rZ(n,t){Js(n,"multiselectable",t)}function nZ(n,t){Js(n,"rowcount",t)}function NV(n,t){Js(n,"rowindex",t)}function iZ(n,t){Js(n,"colcount",t)}function kV(n,t){Js(n,"colindex",t)}function oZ(n,t){Js(n,"colspan",t)}function aZ(n,t){Js(n,"sort",t)}function sZ(n){DV(n,"sort")}function Jm(n,t){Qs(n,"selected",t)}function wLe(n,t){Js(n,"checked",t===void 0?"mixed":t)}function GV(n,t){Qs(n,"controls",t.id),fR(t,n.id)}function VV(n,t){return t===void 0?n("ariaIndeterminate","indeterminate"):t===!0?n("ariaChecked","checked"):n("ariaUnchecked","unchecked")}var _Le=Object.freeze({__proto__:null,setAriaRole:ri,getAriaSortState:qX,getAriaLevel:CLe,getAriaPosInSet:XX,getAriaLabel:ZX,setAriaLabel:ph,setAriaLabelledBy:fR,setAriaDescribedBy:SLe,setAriaLive:AV,setAriaAtomic:QX,setAriaRelevant:JX,setAriaLevel:eZ,setAriaDisabled:MV,setAriaHidden:rD,setAriaActiveDescendant:LV,setAriaExpanded:id,removeAriaExpanded:tZ,setAriaSetSize:FV,setAriaPosInSet:IV,setAriaMultiSelectable:rZ,setAriaRowCount:nZ,setAriaRowIndex:NV,setAriaColCount:iZ,setAriaColIndex:kV,setAriaColSpan:oZ,setAriaSort:aZ,removeAriaSort:sZ,setAriaSelected:Jm,setAriaChecked:wLe,setAriaControls:GV,getAriaCheckboxStateName:VV}),yM,Vx,CM,SM,wM,_M,l1,u1;function Zu(){return yM===void 0&&(yM=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),yM}function BV(){if(Vx===void 0)if(Zu()){var n=navigator.userAgent.match(/version\/(\d+)/i);n&&(Vx=n[1]!=null?parseFloat(n[1]):0)}else Vx=0;return Vx}function nD(){if(CM===void 0){var n=window;CM=!!n.chrome&&(!!n.chrome.webstore||!!n.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return CM}function jV(){return SM===void 0&&(SM=/(firefox)/i.test(navigator.userAgent)),SM}function HV(){return wM===void 0&&(wM=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),wM}function vd(){return _M===void 0&&(_M=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),_M}function $V(){return!Zu()||BV()>=15}function vR(n){if(!n)return null;var t=n.tabIndex,e=n.getAttribute("tabIndex");return t===-1&&(e===null||e===""&&!jV())?null:t.toString()}function lZ(){if(!document.body)return-1;var n=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,e=document.createElement("div");for(document.body.appendChild(e);;){var r=n*2;if(e.style.height=r+"px",r>t||e.clientHeight!==r)break;n=r}return document.body.removeChild(e),n}function uZ(){var n,t,e;return(t=(n=document.body)===null||n===void 0?void 0:n.clientWidth)!==null&&t!==void 0?t:window.innerHeight||((e=document.documentElement)===null||e===void 0?void 0:e.clientWidth)||-1}function cZ(){var n,t,e;return(t=(n=document.body)===null||n===void 0?void 0:n.clientHeight)!==null&&t!==void 0?t:window.innerHeight||((e=document.documentElement)===null||e===void 0?void 0:e.clientHeight)||-1}function dZ(){return u1==null&&pZ(),u1}function pZ(){var n=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",n.appendChild(t);var e=t.offsetWidth-t.clientWidth;e===0&&t.clientWidth===0&&(e=null),t.parentNode&&t.parentNode.removeChild(t),e!=null&&(u1=e,l1=e===0)}function WV(){return l1==null&&pZ(),l1}var xLe=Object.freeze({__proto__:null,isBrowserSafari:Zu,getSafariVersion:BV,isBrowserChrome:nD,isBrowserFirefox:jV,isMacOsUserAgent:HV,isIOSUserAgent:vd,browserSupportsPreventScroll:$V,getTabIndex:vR,getMaxDivHeight:lZ,getBodyWidth:uZ,getBodyHeight:cZ,getScrollbarWidth:dZ,isInvisibleScrollbar:WV});function Sm(n,t){return n.toString().padStart(t,"0")}function hZ(n,t){for(var e=[],r=n;r<=t;r++)e.push(r);return e}function bLe(n){return typeof n=="string"&&(n=parseInt(n,10)),typeof n=="number"?Math.floor(n):null}function ELe(n,t){for(var e="",r=0;r<t;r++)e+=String.fromCharCode(n&255),n>>>=8;return e}function OLe(n,t,e){return typeof n!="number"?"":UV(Math.round(n*100)/100,t,e)}function UV(n,t,e){return typeof n!="number"?"":n.toString().replace(".",e).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1".concat(t))}function RLe(n){return n==null?null:n.reduce(function(t,e){return t+e},0)}var TLe=Object.freeze({__proto__:null,padStartWidthZeros:Sm,createArrayOfNumbers:hZ,cleanNumber:bLe,decToHex:ELe,formatNumberTwoDecimalPlacesAndCommas:OLe,formatNumberCommas:UV,sum:RLe}),xM=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o};function Vs(n,t,e){if(t===void 0&&(t=!0),e===void 0&&(e="-"),!n)return null;var r=[n.getFullYear(),n.getMonth()+1,n.getDate()].map(function(i){return Sm(i,2)}).join(e);return t&&(r+=" "+[n.getHours(),n.getMinutes(),n.getSeconds()].map(function(i){return Sm(i,2)}).join(":")),r}var bM=function(n){if(n>3&&n<21)return"th";var t=n%10;switch(t){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function wm(n,t){t===void 0&&(t="YYYY-MM-DD");var e=Sm(n.getFullYear(),4),r=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={YYYY:function(){return e.slice(e.length-4,e.length)},YY:function(){return e.slice(e.length-2,e.length)},Y:function(){return"".concat(n.getFullYear())},MMMM:function(){return r[n.getMonth()]},MMM:function(){return r[n.getMonth()].slice(0,3)},MM:function(){return Sm(n.getMonth()+1,2)},Mo:function(){return"".concat(n.getMonth()+1).concat(bM(n.getMonth()+1))},M:function(){return"".concat(n.getMonth()+1)},Do:function(){return"".concat(n.getDate()).concat(bM(n.getDate()))},DD:function(){return Sm(n.getDate(),2)},D:function(){return"".concat(n.getDate())},dddd:function(){return i[n.getDay()]},ddd:function(){return i[n.getDay()].slice(0,3)},dd:function(){return i[n.getDay()].slice(0,2)},do:function(){return"".concat(n.getDay()).concat(bM(n.getDay()))},d:function(){return"".concat(n.getDay())}},a=new RegExp(Object.keys(o).join("|"),"g");return t.replace(a,function(s){return s in o?o[s]():s})}function oa(n){if(!n)return null;var t=xM(n.split(" "),2),e=t[0],r=t[1];if(!e)return null;var i=e.split("-").map(function(f){return parseInt(f,10)});if(i.filter(function(f){return!isNaN(f)}).length!==3)return null;var o=xM(i,3),a=o[0],s=o[1],l=o[2],u=new Date(a,s-1,l);if(u.getFullYear()!==a||u.getMonth()!==s-1||u.getDate()!==l)return null;if(!r||r==="00:00:00")return u;var c=xM(r.split(":").map(function(f){return parseInt(f,10)}),3),d=c[0],p=c[1],h=c[2];return d>=0&&d<24&&u.setHours(d),p>=0&&p<60&&u.setMinutes(p),h>=0&&h<60&&u.setSeconds(h),u}var PLe=Object.freeze({__proto__:null,serialiseDate:Vs,dateToFormattedString:wm,parseDateTimeFromString:oa}),DLe=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ALe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Bx;function c1(n,t,e){for(var r=n.parentElement,i=r&&r.firstChild;i;)t&&i.classList.toggle(t,i===n),e&&i.classList.toggle(e,i!==n),i=i.nextSibling}var fZ="[tabindex], input, select, button, textarea, [href]",zV="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function KV(n){var t=Element.prototype.matches||Element.prototype.msMatchesSelector,e="input, select, button, textarea",r=t.call(n,e),i=t.call(n,zV),o=as(n),a=r&&!i&&o;return a}function $t(n,t,e){e===void 0&&(e={});var r=e.skipAriaHidden;n.classList.toggle("ag-hidden",!t),r||rD(n,!t)}function vZ(n,t,e){e===void 0&&(e={});var r=e.skipAriaHidden;n.classList.toggle("ag-invisible",!t),r||rD(n,!t)}function ey(n,t){var e="disabled",r=t?function(i){return i.setAttribute(e,"")}:function(i){return i.removeAttribute(e)};r(n),eB(n.querySelectorAll("input"),function(i){return r(i)})}function Wf(n,t,e){for(var r=0;n;){if(n.classList.contains(t))return!0;if(n=n.parentElement,typeof e=="number"){if(++r>e)break}else if(n===e)break}return!1}function hh(n){var t=window.getComputedStyle(n),e=t.height,r=t.width,i=t.borderTopWidth,o=t.borderRightWidth,a=t.borderBottomWidth,s=t.borderLeftWidth,l=t.paddingTop,u=t.paddingRight,c=t.paddingBottom,d=t.paddingLeft,p=t.marginTop,h=t.marginRight,f=t.marginBottom,v=t.marginLeft,g=t.boxSizing;return{height:parseFloat(e||"0"),width:parseFloat(r||"0"),borderTopWidth:parseFloat(i||"0"),borderRightWidth:parseFloat(o||"0"),borderBottomWidth:parseFloat(a||"0"),borderLeftWidth:parseFloat(s||"0"),paddingTop:parseFloat(l||"0"),paddingRight:parseFloat(u||"0"),paddingBottom:parseFloat(c||"0"),paddingLeft:parseFloat(d||"0"),marginTop:parseFloat(p||"0"),marginRight:parseFloat(h||"0"),marginBottom:parseFloat(f||"0"),marginLeft:parseFloat(v||"0"),boxSizing:g}}function C_(n){var t=hh(n);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function bv(n){var t=hh(n);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function YV(n){var t=hh(n),e=t.marginBottom+t.marginTop;return Math.ceil(n.offsetHeight+e)}function g0(n){var t=hh(n),e=t.marginLeft+t.marginRight;return Math.ceil(n.offsetWidth+e)}function qV(n){var t=n.getBoundingClientRect(),e=hh(n),r=e.borderTopWidth,i=e.borderLeftWidth,o=e.borderRightWidth,a=e.borderBottomWidth;return{top:t.top+(r||0),left:t.left+(i||0),right:t.right+(o||0),bottom:t.bottom+(a||0)}}function m0(){if(typeof Bx=="boolean")return Bx;var n=document.createElement("div");return n.style.direction="rtl",n.style.width="1px",n.style.height="1px",n.style.position="fixed",n.style.top="0px",n.style.overflow="hidden",n.dir="rtl",n.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(n),n.scrollLeft=1,Bx=Math.floor(n.scrollLeft)===0,document.body.removeChild(n),Bx}function y0(n,t){var e=n.scrollLeft;return t&&(e=Math.abs(e),nD()&&!m0()&&(e=n.scrollWidth-n.clientWidth-e)),e}function C0(n,t,e){e&&(m0()?t*=-1:(Zu()||nD())&&(t=n.scrollWidth-n.clientWidth-t)),n.scrollLeft=t}function gi(n){for(;n&&n.firstChild;)n.removeChild(n.firstChild)}function Lu(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function XV(n){return!!n.offsetParent}function as(n){var t=n;if(t.checkVisibility)return t.checkVisibility({checkVisibilityCSS:!0});var e=!XV(n)||window.getComputedStyle(n).visibility!=="visible";return!e}function aa(n){var t=document.createElement("div");return t.innerHTML=(n||"").trim(),t.firstChild}function ZV(n,t,e){e&&e.nextSibling===t||(e?e.nextSibling?n.insertBefore(t,e.nextSibling):n.appendChild(t):n.firstChild&&n.firstChild!==t&&n.insertAdjacentElement("afterbegin",t))}function QV(n,t){for(var e=0;e<t.length;e++){var r=t[e],i=n.children[e];i!==r&&n.insertBefore(r,i)}}function gZ(n,t,e){e?e.insertAdjacentElement("afterend",t):n.firstChild?n.insertAdjacentElement("afterbegin",t):n.appendChild(t)}function JV(n,t){var e,r;if(t)try{for(var i=DLe(Object.entries(t)),o=i.next();!o.done;o=i.next()){var a=ALe(o.value,2),s=a[0],l=a[1];if(!(!s||!s.length||l==null)){var u=$X(s),c=l.toString(),d=c.replace(/\s*!important/g,""),p=d.length!=c.length?"important":void 0;n.style.setProperty(u,d,p)}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}}function mZ(n){return n.clientWidth<n.scrollWidth}function yZ(n){return n.clientHeight<n.scrollHeight}function S0(n,t){t==="flex"?(n.style.removeProperty("width"),n.style.removeProperty("minWidth"),n.style.removeProperty("maxWidth"),n.style.flex="1 1 auto"):Bs(n,t)}function Bs(n,t){t=iD(t),n.style.width=t.toString(),n.style.maxWidth=t.toString(),n.style.minWidth=t.toString()}function MLe(n,t){t==="flex"?(n.style.removeProperty("height"),n.style.removeProperty("minHeight"),n.style.removeProperty("maxHeight"),n.style.flex="1 1 auto"):Uf(n,t)}function Uf(n,t){t=iD(t),n.style.height=t.toString(),n.style.maxHeight=t.toString(),n.style.minHeight=t.toString()}function iD(n){return typeof n=="number"?"".concat(n,"px"):n}function S_(n){return n instanceof Node||n instanceof HTMLElement}function CZ(n){if(n==null)return[];var t=[];return eB(n,function(e){return t.push(e)}),t}function SZ(n,t){if(n)for(var e=0;e<n.length;e++){var r=n[e];t(r.name,r.value)}}function Uu(n,t,e){e==null?n.removeAttribute(t):n.setAttribute(t,e.toString())}function eB(n,t){if(n!=null)for(var e=0;e<n.length;e++)t(n[e])}function tB(n,t){n.then(function(e){var r=e.getGui();r!=null&&(typeof r=="object"?t.appendChild(r):t.innerHTML=r)})}var LLe=Object.freeze({__proto__:null,radioCssClass:c1,FOCUSABLE_SELECTOR:fZ,FOCUSABLE_EXCLUDE:zV,isFocusableFormField:KV,setDisplayed:$t,setVisible:vZ,setDisabled:ey,isElementChildOfClass:Wf,getElementSize:hh,getInnerHeight:C_,getInnerWidth:bv,getAbsoluteHeight:YV,getAbsoluteWidth:g0,getElementRectWithOffset:qV,isRtlNegativeScroll:m0,getScrollLeft:y0,setScrollLeft:C0,clearElement:gi,removeFromParent:Lu,isInDOM:XV,isVisible:as,loadTemplate:aa,ensureDomOrder:ZV,setDomChildOrder:QV,insertWithDomOrder:gZ,addStylesToElement:JV,isHorizontalScrollShowing:mZ,isVerticalScrollShowing:yZ,setElementWidth:S0,setFixedWidth:Bs,setElementHeight:MLe,setFixedHeight:Uf,formatSize:iD,isNodeOrElement:S_,copyNodeList:CZ,iterateNamedNodeMap:SZ,addOrRemoveAttribute:Uu,nodeListForEach:eB,bindCellRendererToHtmlElement:tB}),FLe=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function wZ(n,t,e){var r={},i=n.filter(function(o){return!t.some(function(a){return a===o})});return i.length>0&&i.forEach(function(o){return r[o]=w_(o,e).values}),r}function w_(n,t,e,r){var i,o,a=t.map(function(f,v){return{value:f,relevance:ILe(n.toLowerCase(),f.toLocaleLowerCase()),idx:v}});if(a.sort(function(f,v){return v.relevance-f.relevance}),e&&(a=a.filter(function(f){return f.relevance!==0})),a.length>0&&r&&r>0){var s=a[0].relevance,l=s*r;a=a.filter(function(f){return l-f.relevance<0})}var u=[],c=[];try{for(var d=FLe(a),p=d.next();!p.done;p=d.next()){var h=p.value;u.push(h.value),c.push(h.idx)}}catch(f){i={error:f}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}return{values:u,indices:c}}function ILe(n,t){for(var e=n.replace(/\s/g,""),r=t.replace(/\s/g,""),i=0,o=-1,a=0;a<e.length;a++){var s=r.indexOf(e[a],o+1);s!==-1&&(o=s,i+=100-o*100/1e4*100)}return i}var NLe=Object.freeze({__proto__:null,fuzzyCheckStrings:wZ,fuzzySuggestions:w_}),_Z={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus"};function _s(n,t,e){var r=jn(n,t,e);if(r){var i=r.className;if(typeof i=="string"&&i.indexOf("ag-icon")>-1||typeof i=="object"&&i["ag-icon"])return r}var o=document.createElement("span");return o.appendChild(r),o}function jn(n,t,e,r){var i=null,o=e&&e.getColDef().icons;if(o&&(i=o[n]),t&&!i){var a=t.get("icons");a&&(i=a[n])}if(i){var s=void 0;if(typeof i=="function")s=i();else if(typeof i=="string")s=i;else throw new Error("icon from grid options needs to be a string or a function");if(typeof s=="string")return aa(s);if(S_(s))return s;console.warn("AG Grid: iconRenderer should return back a string or a dom object")}else{var l=document.createElement("span"),u=_Z[n];return u||(r?u=n:(console.warn("AG Grid: Did not find icon ".concat(n)),u="")),l.setAttribute("class","ag-icon ag-icon-".concat(u)),l.setAttribute("unselectable","on"),ri(l,"presentation"),l}}var kLe=Object.freeze({__proto__:null,iconNameClassMap:_Z,createIcon:_s,createIconNoSpan:jn}),K=function(){function n(){}return n.BACKSPACE="Backspace",n.TAB="Tab",n.ENTER="Enter",n.ESCAPE="Escape",n.SPACE=" ",n.LEFT="ArrowLeft",n.UP="ArrowUp",n.RIGHT="ArrowRight",n.DOWN="ArrowDown",n.DELETE="Delete",n.F2="F2",n.PAGE_UP="PageUp",n.PAGE_DOWN="PageDown",n.PAGE_HOME="Home",n.PAGE_END="End",n.A="KeyA",n.C="KeyC",n.D="KeyD",n.V="KeyV",n.X="KeyX",n.Y="KeyY",n.Z="KeyZ",n}(),GLe=65,VLe=67,BLe=86,jLe=68,HLe=90,$Le=89;function oD(n){if(n.altKey||n.ctrlKey||n.metaKey)return!1;var t=n.key.length===1;return t}function gR(n,t,e,r,i){var o=r?r.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;var a=n.addGridCommonParams({event:t,editing:i,column:r,node:e,data:e.data,colDef:r.getColDef()});if(o){var s=o(a);if(s)return!0}return!1}function xZ(n,t,e,r){var i=r.getDefinition(),o=i&&i.suppressHeaderKeyboardEvent;if(!ye(o))return!1;var a=n.addGridCommonParams({colDef:i,column:r,headerRowIndex:e,event:t});return!!o(a)}function bZ(n){var t=n.keyCode,e;switch(t){case GLe:e=K.A;break;case VLe:e=K.C;break;case BLe:e=K.V;break;case jLe:e=K.D;break;case HLe:e=K.Z;break;case $Le:e=K.Y;break;default:e=n.code}return e}function EZ(n,t){return t===void 0&&(t=!1),n===K.DELETE?!0:!t&&n===K.BACKSPACE?HV():!1}var WLe=Object.freeze({__proto__:null,isEventFromPrintableCharacter:oD,isUserSuppressingKeyboardEvent:gR,isUserSuppressingHeaderKeyboardEvent:xZ,normaliseQwertyAzerty:bZ,isDeleteKey:EZ});function rB(n,t,e){if(e===0)return!1;var r=Math.abs(n.clientX-t.clientX),i=Math.abs(n.clientY-t.clientY);return Math.max(r,i)<=e}var ULe=Object.freeze({__proto__:null,areEventsNear:rB});function zLe(n,t){if(!n)return!1;for(var e=function(s,l){var u=t[s.id],c=t[l.id],d=u!==void 0,p=c!==void 0,h=d&&p,f=!d&&!p;return h?u-c:f?s.__objectId-l.__objectId:d?1:-1},r,i,o=!1,a=0;a<n.length-1;a++)if(r=n[a],i=n[a+1],e(r,i)>0){o=!0;break}return o?(n.sort(e),!0):!1}var KLe=Object.freeze({__proto__:null,sortRowNodesByOrder:zLe});function nB(n){var t=new Set;return n.forEach(function(e){return t.add(e)}),t}var YLe=Object.freeze({__proto__:null,convertToSet:nB}),Kn=function(){return Kn=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Kn.apply(this,arguments)},qLe=Kn(Kn(Kn(Kn(Kn(Kn(Kn(Kn(Kn(Kn(Kn(Kn(Kn(Kn(Kn(Kn(Kn(Kn({},_Le),KMe),xLe),PLe),LLe),qMe),FMe),NLe),TMe),kLe),WLe),lLe),ULe),TLe),AMe),KLe),YLe),oLe),F=qLe,ji=function(){function n(t,e){t===void 0&&(t=0),e===void 0&&(e=1),this.nextValue=t,this.step=e}return n.prototype.next=function(){var t=this.nextValue;return this.nextValue+=this.step,t},n.prototype.peek=function(){return this.nextValue},n.prototype.skip=function(t){this.nextValue+=t},n}(),Af;(function(n){n[n.IN_PROGRESS=0]="IN_PROGRESS",n[n.RESOLVED=1]="RESOLVED"})(Af||(Af={}));var Ot=function(){function n(t){var e=this;this.status=Af.IN_PROGRESS,this.resolution=null,this.waiters=[],t(function(r){return e.onDone(r)},function(r){return e.onReject(r)})}return n.all=function(t){return new n(function(e){var r=t.length,i=new Array(r);t.forEach(function(o,a){o.then(function(s){i[a]=s,r--,r===0&&e(i)})})})},n.resolve=function(t){return t===void 0&&(t=null),new n(function(e){return e(t)})},n.prototype.then=function(t){var e=this;return new n(function(r){e.status===Af.RESOLVED?r(t(e.resolution)):e.waiters.push(function(i){return r(t(i))})})},n.prototype.resolveNow=function(t,e){return this.status===Af.RESOLVED?e(this.resolution):t},n.prototype.onDone=function(t){this.status=Af.RESOLVED,this.resolution=t,this.waiters.forEach(function(e){return e(t)})},n.prototype.onReject=function(t){console.warn("TBI")},n}(),XLe=function(){function n(){this.timestamp=new Date().getTime()}return n.prototype.print=function(t){var e=new Date().getTime()-this.timestamp;console.info("".concat(t," = ").concat(e)),this.timestamp=new Date().getTime()},n}(),ZLe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),gf=function(){return gf=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},gf.apply(this,arguments)},EM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},pl;(function(n){n[n.NOTHING=0]="NOTHING",n[n.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",n[n.SHOWING=2]="SHOWING"})(pl||(pl={}));var gu;(function(n){n[n.HOVER=0]="HOVER",n[n.FOCUS=1]="FOCUS"})(gu||(gu={}));var iB=function(n){ZLe(t,n);function t(e,r,i){var o=n.call(this)||this;return o.parentComp=e,o.tooltipShowDelayOverride=r,o.tooltipHideDelayOverride=i,o.SHOW_QUICK_TOOLTIP_DIFF=1e3,o.FADE_OUT_TOOLTIP_TIMEOUT=1e3,o.INTERACTIVE_HIDE_DELAY=100,o.interactionEnabled=!1,o.isInteractingWithTooltip=!1,o.state=pl.NOTHING,o.tooltipInstanceCount=0,o.tooltipMouseTrack=!1,o}return t.prototype.postConstruct=function(){this.gridOptionsService.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gridOptionsService.get("tooltipMouseTrack");var e=this.parentComp.getGui();this.tooltipTrigger===gu.HOVER&&(this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this))),this.tooltipTrigger===gu.FOCUS&&(this.addManagedListener(e,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(e,"focusout",this.onFocusOut.bind(this))),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.interactionEnabled||(this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this)))},t.prototype.getGridOptionsTooltipDelay=function(e){var r=this.gridOptionsService.get(e);return r<0&&at("".concat(e," should not be lower than 0")),Math.max(200,r)},t.prototype.getTooltipDelay=function(e){var r,i;return e==="show"?(r=this.tooltipShowDelayOverride)!==null&&r!==void 0?r:this.getGridOptionsTooltipDelay("tooltipShowDelay"):(i=this.tooltipHideDelayOverride)!==null&&i!==void 0?i:this.getGridOptionsTooltipDelay("tooltipHideDelay")},t.prototype.destroy=function(){this.setToDoNothing(),n.prototype.destroy.call(this)},t.prototype.getTooltipTrigger=function(){var e=this.gridOptionsService.get("tooltipTrigger");return!e||e==="hover"?gu.HOVER:gu.FOCUS},t.prototype.onMouseEnter=function(e){var r=this;this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!vd()&&(t.isLocked?this.showTooltipTimeoutId=window.setTimeout(function(){r.prepareToShowTooltip(e)},this.INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(e))},t.prototype.onMouseMove=function(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===pl.SHOWING&&this.tooltipComp&&this.positionTooltip()},t.prototype.onMouseDown=function(){this.setToDoNothing()},t.prototype.onMouseLeave=function(){this.interactionEnabled?this.lockService():this.setToDoNothing()},t.prototype.onFocusIn=function(){this.prepareToShowTooltip()},t.prototype.onFocusOut=function(e){var r,i=e.relatedTarget,o=this.parentComp.getGui(),a=(r=this.tooltipComp)===null||r===void 0?void 0:r.getGui();this.isInteractingWithTooltip||o.contains(i)||this.interactionEnabled&&(a!=null&&a.contains(i))||this.setToDoNothing()},t.prototype.onKeyDown=function(){this.setToDoNothing()},t.prototype.prepareToShowTooltip=function(e){if(this.state!=pl.NOTHING||t.isLocked)return!1;var r=0;return e&&(r=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),r),this.state=pl.WAITING_TO_SHOW,!0},t.prototype.isLastTooltipHiddenRecently=function(){var e=new Date().getTime(),r=t.lastTooltipHideTime;return e-r<this.SHOW_QUICK_TOOLTIP_DIFF},t.prototype.setToDoNothing=function(){this.state===pl.SHOWING&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=pl.NOTHING,this.lastMouseEvent=null},t.prototype.showTooltip=function(){var e=gf({},this.parentComp.getTooltipParams());if(!ye(e.value)){this.setToDoNothing();return}this.state=pl.SHOWING,this.tooltipInstanceCount++;var r=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount),i=this.userComponentFactory.getTooltipCompDetails(e);i.newAgStackInstance().then(r)},t.prototype.hideTooltip=function(e){if(!(!e&&this.isInteractingWithTooltip)){this.tooltipComp&&(this.destroyTooltipComp(),t.lastTooltipHideTime=new Date().getTime());var r={type:M.EVENT_TOOLTIP_HIDE,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(r),this.state=pl.NOTHING}},t.prototype.newTooltipComponentCallback=function(e,r){var i=this.state!==pl.SHOWING||this.tooltipInstanceCount!==e;if(i){this.getContext().destroyBean(r);return}var o=r.getGui();this.tooltipComp=r,o.classList.contains("ag-tooltip")||o.classList.add("ag-tooltip-custom"),this.tooltipTrigger===gu.HOVER&&o.classList.add("ag-tooltip-animate"),this.interactionEnabled&&o.classList.add("ag-tooltip-interactive");var a=this.localeService.getLocaleTextFunc(),s=this.popupService.addPopup({eChild:o,ariaLabel:a("ariaLabelTooltip","Tooltip")});s&&(this.tooltipPopupDestroyFunc=s.hideFunc),this.positionTooltip(),this.tooltipTrigger===gu.FOCUS&&(this.onBodyScrollEventCallback=this.addManagedListener(this.eventService,M.EVENT_BODY_SCROLL,this.setToDoNothing.bind(this)),this.onColumnMovedEventCallback=this.addManagedListener(this.eventService,M.EVENT_COLUMN_MOVED,this.setToDoNothing.bind(this))),this.interactionEnabled&&(this.tooltipTrigger===gu.HOVER?(this.tooltipMouseEnterListener=this.addManagedListener(o,"mouseenter",this.onTooltipMouseEnter.bind(this))||null,this.tooltipMouseLeaveListener=this.addManagedListener(o,"mouseleave",this.onTooltipMouseLeave.bind(this))||null):(this.tooltipFocusInListener=this.addManagedListener(o,"focusin",this.onTooltipFocusIn.bind(this))||null,this.tooltipFocusOutListener=this.addManagedListener(o,"focusout",this.onTooltipFocusOut.bind(this))||null));var l={type:M.EVENT_TOOLTIP_SHOW,tooltipGui:o,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(l),this.startHideTimeout()},t.prototype.onTooltipMouseEnter=function(){this.isInteractingWithTooltip=!0,this.unlockService()},t.prototype.onTooltipMouseLeave=function(){this.isInteractingWithTooltip=!1,this.lockService()},t.prototype.onTooltipFocusIn=function(){this.isInteractingWithTooltip=!0},t.prototype.onTooltipFocusOut=function(e){var r,i=this.parentComp.getGui(),o=(r=this.tooltipComp)===null||r===void 0?void 0:r.getGui(),a=e.relatedTarget;o!=null&&o.contains(a)||(this.isInteractingWithTooltip=!1,i.contains(a)?this.startHideTimeout():this.hideTooltip())},t.prototype.positionTooltip=function(){var e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(gf(gf({},e),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(gf(gf({},e),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))},t.prototype.destroyTooltipComp=function(){var e=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var r=this.tooltipPopupDestroyFunc,i=this.tooltipComp,o=this.tooltipTrigger===gu.HOVER?this.FADE_OUT_TOOLTIP_TIMEOUT:0;window.setTimeout(function(){r(),e.getContext().destroyBean(i)},o),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},t.prototype.clearTooltipListeners=function(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(function(e){e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null},t.prototype.lockService=function(){var e=this;t.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(function(){e.unlockService(),e.setToDoNothing()},this.INTERACTIVE_HIDE_DELAY)},t.prototype.unlockService=function(){t.isLocked=!1,this.clearInteractiveTimeout()},t.prototype.startHideTimeout=function(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))},t.prototype.clearShowTimeout=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)},t.prototype.clearHideTimeout=function(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},t.prototype.clearInteractiveTimeout=function(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)},t.prototype.clearTimeouts=function(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()},t.isLocked=!1,EM([O("popupService")],t.prototype,"popupService",void 0),EM([O("userComponentFactory")],t.prototype,"userComponentFactory",void 0),EM([q],t.prototype,"postConstruct",null),t}(re),OZ=function(){function n(t){this.cssClassStates={},this.getGui=t}return n.prototype.addCssClass=function(t){var e=this,r=(t||"").split(" ");if(r.length>1){r.forEach(function(a){return e.addCssClass(a)});return}var i=this.cssClassStates[t]!==!0;if(i&&t.length){var o=this.getGui();o&&o.classList.add(t),this.cssClassStates[t]=!0}},n.prototype.removeCssClass=function(t){var e=this,r=(t||"").split(" ");if(r.length>1){r.forEach(function(a){return e.removeCssClass(a)});return}var i=this.cssClassStates[t]!==!1;if(i&&t.length){var o=this.getGui();o&&o.classList.remove(t),this.cssClassStates[t]=!1}},n.prototype.containsCssClass=function(t){var e=this.getGui();return e?e.classList.contains(t):!1},n.prototype.addOrRemoveCssClass=function(t,e){var r=this;if(t){if(t.indexOf(" ")>=0){var i=(t||"").split(" ");if(i.length>1){i.forEach(function(s){return r.addOrRemoveCssClass(s,e)});return}}var o=this.cssClassStates[t]!==e;if(o&&t.length){var a=this.getGui();a&&a.classList.toggle(t,e),this.cssClassStates[t]=e}}},n}(),QLe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),OM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},JLe=new ji,Ce=function(n){QLe(t,n);function t(e){var r=n.call(this)||this;return r.displayed=!0,r.visible=!0,r.compId=JLe.next(),r.cssClassManager=new OZ(function(){return r.eGui}),e&&r.setTemplate(e),r}return t.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsService.get("enableBrowserTooltips")},t.prototype.getCompId=function(){return this.compId},t.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},t.prototype.setTooltip=function(e,r,i){var o=this,a=function(){o.usingBrowserTooltips?o.getGui().removeAttribute("title"):o.tooltipFeature=o.destroyBean(o.tooltipFeature)},s=function(){o.usingBrowserTooltips?o.getGui().setAttribute("title",o.tooltipText):o.tooltipFeature=o.createBean(new iB(o,r,i))};this.tooltipText!=e&&(this.tooltipText&&a(),e!=null&&(this.tooltipText=e,this.tooltipText&&s()))},t.prototype.createChildComponentsFromTags=function(e,r){var i=this,o=CZ(e.childNodes);o.forEach(function(a){if(a instanceof HTMLElement){var s=i.createComponentFromElement(a,function(u){var c=u.getGui();c&&i.copyAttributesFromNode(a,u.getGui())},r);if(s){if(s.addItems&&a.children.length){i.createChildComponentsFromTags(a,r);var l=Array.prototype.slice.call(a.children);s.addItems(l)}i.swapComponentForNode(s,e,a)}else a.childNodes&&i.createChildComponentsFromTags(a,r)}})},t.prototype.createComponentFromElement=function(e,r,i){var o=e.nodeName,a=i?i[e.getAttribute("ref")]:void 0,s=this.agStackComponentsRegistry.getComponentClass(o);if(s){t.elementGettingCreated=e;var l=new s(a);return l.setParentComponent(this),this.createBean(l,null,r),l}return null},t.prototype.copyAttributesFromNode=function(e,r){SZ(e.attributes,function(i,o){return r.setAttribute(i,o)})},t.prototype.swapComponentForNode=function(e,r,i){var o=e.getGui();r.replaceChild(o,i),r.insertBefore(document.createComment(i.nodeName),o),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,i)},t.prototype.swapInComponentForQuerySelectors=function(e,r){var i=this;this.iterateOverQuerySelectors(function(o){i[o.attributeName]===r&&(i[o.attributeName]=e)})},t.prototype.iterateOverQuerySelectors=function(e){for(var r=Object.getPrototypeOf(this);r!=null;){var i=r.__agComponentMetaData,o=eD(r.constructor);i&&i[o]&&i[o].querySelectors&&i[o].querySelectors.forEach(function(a){return e(a)}),r=Object.getPrototypeOf(r)}},t.prototype.activateTabIndex=function(e){var r=this.gridOptionsService.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(function(i){return i.setAttribute("tabindex",r.toString())})},t.prototype.setTemplate=function(e,r){var i=aa(e);this.setTemplateFromElement(i,r)},t.prototype.setTemplateFromElement=function(e,r){this.eGui=e,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),r)},t.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},t.prototype.wireQuerySelectors=function(){var e=this;if(this.eGui){var r=this;this.iterateOverQuerySelectors(function(i){var o=function(l){return r[i.attributeName]=l},a=i.refSelector&&e.getAttribute("ref")===i.refSelector;if(a)o(e.eGui);else{var s=e.eGui.querySelector(i.querySelector);s&&o(s.__agComponent||s)}})}},t.prototype.getGui=function(){return this.eGui},t.prototype.getFocusableElement=function(){return this.eGui},t.prototype.getAriaElement=function(){return this.getFocusableElement()},t.prototype.setParentComponent=function(e){this.parentComponent=e},t.prototype.getParentComponent=function(){return this.parentComponent},t.prototype.setGui=function(e){this.eGui=e},t.prototype.queryForHtmlElement=function(e){return this.eGui.querySelector(e)},t.prototype.queryForHtmlInputElement=function(e){return this.eGui.querySelector(e)},t.prototype.appendChild=function(e,r){if(e!=null)if(r||(r=this.eGui),S_(e))r.appendChild(e);else{var i=e;r.appendChild(i.getGui())}},t.prototype.isDisplayed=function(){return this.displayed},t.prototype.setVisible=function(e,r){if(r===void 0&&(r={}),e!==this.visible){this.visible=e;var i=r.skipAriaHidden;vZ(this.eGui,e,{skipAriaHidden:i})}},t.prototype.setDisplayed=function(e,r){if(r===void 0&&(r={}),e!==this.displayed){this.displayed=e;var i=r.skipAriaHidden;$t(this.eGui,e,{skipAriaHidden:i});var o={type:t.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(o)}},t.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.parentComponent&&(this.parentComponent=void 0);var e=this.eGui;e&&e.__agComponent&&(e.__agComponent=void 0),n.prototype.destroy.call(this)},t.prototype.addGuiEventListener=function(e,r,i){var o=this;this.eGui.addEventListener(e,r,i),this.addDestroyFunc(function(){return o.eGui.removeEventListener(e,r)})},t.prototype.addCssClass=function(e){this.cssClassManager.addCssClass(e)},t.prototype.removeCssClass=function(e){this.cssClassManager.removeCssClass(e)},t.prototype.containsCssClass=function(e){return this.cssClassManager.containsCssClass(e)},t.prototype.addOrRemoveCssClass=function(e,r){this.cssClassManager.addOrRemoveCssClass(e,r)},t.prototype.getAttribute=function(e){var r=this.eGui;return r?r.getAttribute(e):null},t.prototype.getRefElement=function(e){return this.queryForHtmlElement('[ref="'.concat(e,'"]'))},t.EVENT_DISPLAYED_CHANGED="displayedChanged",OM([O("agStackComponentsRegistry")],t.prototype,"agStackComponentsRegistry",void 0),OM([uv],t.prototype,"preConstructOnComponent",null),OM([uv],t.prototype,"createChildComponentsPreConstruct",null),t}(re);function eFe(n){return RZ.bind(this,n,void 0)}function U(n){return RZ.bind(this,"[ref=".concat(n,"]"),n)}function RZ(n,t,e,r,i){if(n===null){console.error("AG Grid: QuerySelector selector should not be null");return}if(typeof i=="number"){console.error("AG Grid: QuerySelector should be on an attribute");return}tFe(e,"querySelectors",{attributeName:r,querySelector:n,refSelector:t})}function tFe(n,t,e){var r=rFe(n,eD(n.constructor));r[t]||(r[t]=[]),r[t].push(e)}function rFe(n,t){return n.__agComponentMetaData||(n.__agComponentMetaData={}),n.__agComponentMetaData[t]||(n.__agComponentMetaData[t]={}),n.__agComponentMetaData[t]}var nFe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Z3=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},iFe=function(n){nFe(t,n);function t(){return n.call(this,`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>
            </div>`)||this}return t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e;var r=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel("".concat(r," ").concat(i("ariaFilterInput","Filter Input")))},t.prototype.onParentModelChanged=function(e){var r=this;if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(function(i){if(i.getModelAsString){var o=i.getModelAsString(e);r.eFloatingFilterText.setValue(o)}})},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){this.init(e)},Z3([U("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),Z3([O("columnModel")],t.prototype,"columnModel",void 0),t}(Ce),TZ=function(){function n(t,e,r,i){var o=this;this.alive=!0,this.context=t,this.eParent=i;var a=e.getDateCompDetails(r),s=a.newAgStackInstance();s.then(function(l){if(!o.alive){t.destroyBean(l);return}o.dateComp=l,l&&(i.appendChild(l.getGui()),l.afterGuiAttached&&l.afterGuiAttached(),o.tempValue&&l.setDate(o.tempValue),o.disabled!=null&&o.setDateCompDisabled(o.disabled))})}return n.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},n.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},n.prototype.setDate=function(t){this.dateComp?this.dateComp.setDate(t):this.tempValue=t},n.prototype.setDisabled=function(t){this.dateComp?this.setDateCompDisabled(t):this.disabled=t},n.prototype.setDisplayed=function(t){$t(this.eParent,t)},n.prototype.setInputPlaceholder=function(t){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(t)},n.prototype.setInputAriaLabel=function(t){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(t)},n.prototype.afterGuiAttached=function(t){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(t)},n.prototype.updateParams=function(t){var e,r,i=!1;if(!((e=this.dateComp)===null||e===void 0)&&e.refresh&&typeof this.dateComp.refresh=="function"){var o=this.dateComp.refresh(t);o!==null&&(i=!0)}if(!i&&(!((r=this.dateComp)===null||r===void 0)&&r.onParamsUpdated)&&typeof this.dateComp.onParamsUpdated=="function"){var o=this.dateComp.onParamsUpdated(t);o!==null&&at("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}},n.prototype.setDateCompDisabled=function(t){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(t)},n}(),PZ=function(){function n(){this.customFilterOptions={}}return n.prototype.init=function(t,e){this.filterOptions=t.filterOptions||e,this.mapCustomOptions(),this.selectDefaultItem(t)},n.prototype.getFilterOptions=function(){return this.filterOptions},n.prototype.mapCustomOptions=function(){var t=this;this.filterOptions&&this.filterOptions.forEach(function(e){if(typeof e!="string"){var r=[["displayKey"],["displayName"],["predicate","test"]],i=function(o){return o.some(function(a){return e[a]!=null})?!0:(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '".concat(o,"'")),!1)};if(!r.every(i)){t.filterOptions=t.filterOptions.filter(function(o){return o===e})||[];return}t.customFilterOptions[e.displayKey]=e}})},n.prototype.selectDefaultItem=function(t){if(t.defaultOption)this.defaultOption=t.defaultOption;else if(this.filterOptions.length>=1){var e=this.filterOptions[0];typeof e=="string"?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},n.prototype.getDefaultOption=function(){return this.defaultOption},n.prototype.getCustomOption=function(t){return this.customFilterOptions[t]},n}(),DZ={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},oFe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),d1=function(){return d1=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},d1.apply(this,arguments)},Q3=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ic=function(n){oFe(t,n);function t(e,r){r===void 0&&(r={});var i=n.call(this)||this;return i.eFocusableElement=e,i.callbacks=r,i.callbacks=d1({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(o){if(!o.defaultPrevented){var a=i.focusService.findNextFocusableElement(i.eFocusableElement,!1,o.shiftKey);a&&(a.focus(),o.preventDefault())}}},r),i}return t.prototype.postConstruct=function(){this.eFocusableElement.classList.add(t.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},t.prototype.addKeyDownListeners=function(e){var r=this;this.addManagedListener(e,"keydown",function(i){if(!(i.defaultPrevented||Rl(i))){if(r.callbacks.shouldStopEventPropagation(i)){Al(i);return}i.key===K.TAB?r.callbacks.onTabKeyDown(i):r.callbacks.handleKeyDown&&r.callbacks.handleKeyDown(i)}})},t.FOCUS_MANAGED_CLASS="ag-focus-managed",Q3([O("focusService")],t.prototype,"focusService",void 0),Q3([q],t.prototype,"postConstruct",null),t}(re),aFe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),RM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},AZ="ag-resizer-wrapper",sFe='<div class="'.concat(AZ,`">
        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>
        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>
        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>
        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>
        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>
        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>
        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>
        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>
    </div>`),__=function(n){aFe(t,n);function t(e,r){var i=n.call(this)||this;return i.element=e,i.dragStartPosition={x:0,y:0},i.position={x:0,y:0},i.lastSize={width:-1,height:-1},i.positioned=!1,i.resizersAdded=!1,i.resizeListeners=[],i.boundaryEl=null,i.isResizing=!1,i.isMoving=!1,i.resizable={},i.movable=!1,i.currentResizer=null,i.config=Object.assign({},{popup:!1},r),i}return t.prototype.center=function(){var e=this.offsetParent,r=e.clientHeight,i=e.clientWidth,o=i/2-this.getWidth()/2,a=r/2-this.getHeight()/2;this.offsetElement(o,a)},t.prototype.initialisePosition=function(){if(!this.positioned){var e=this.config,r=e.centered,i=e.forcePopupParentAsOffsetParent,o=e.minWidth,a=e.width,s=e.minHeight,l=e.height,u=e.x,c=e.y;this.offsetParent||this.setOffsetParent();var d=0,p=0,h=as(this.element);if(h){var f=this.findBoundaryElement(),v=window.getComputedStyle(f);if(v.minWidth!=null){var g=f.offsetWidth-this.element.offsetWidth;p=parseInt(v.minWidth,10)-g}if(v.minHeight!=null){var m=f.offsetHeight-this.element.offsetHeight;d=parseInt(v.minHeight,10)-m}}if(this.minHeight=s||d,this.minWidth=o||p,a&&this.setWidth(a),l&&this.setHeight(l),(!a||!l)&&this.refreshSize(),r)this.center();else if(u||c)this.offsetElement(u,c);else if(h&&i){var f=this.boundaryEl,y=!0;if(f||(f=this.findBoundaryElement(),y=!1),f){var C=parseFloat(f.style.top),S=parseFloat(f.style.left);y?this.offsetElement(isNaN(S)?0:S,isNaN(C)?0:C):this.setPosition(S,C)}}this.positioned=!!this.offsetParent}},t.prototype.isPositioned=function(){return this.positioned},t.prototype.getPosition=function(){return this.position},t.prototype.setMovable=function(e,r){if(!(!this.config.popup||e===this.movable)){this.movable=e;var i=this.moveElementDragListener||{eElement:r,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}},t.prototype.setResizable=function(e){var r=this;if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(function(i){var o=e,a=!!o[i],s=r.getResizerElement(i),l={dragStartPixels:0,eElement:s,onDragStart:function(u){return r.onResizeStart(u,i)},onDragging:r.onResize.bind(r),onDragStop:function(u){return r.onResizeEnd(u,i)}};(a||!r.isAlive()&&!a)&&(a?(r.dragService.addDragSource(l),r.resizeListeners.push(l),s.style.pointerEvents="all"):s.style.pointerEvents="none",r.resizable[i]=a)})},t.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},t.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var e=this.lastSize,r=e.height,i=e.width;i!==-1&&(this.element.style.width="".concat(i,"px")),r!==-1&&(this.element.style.height="".concat(r,"px"))},t.prototype.getHeight=function(){return this.element.offsetHeight},t.prototype.setHeight=function(e){var r=this.config.popup,i=this.element,o=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Uf(i,e),e=YV(i),o=!0;else if(e=Math.max(this.minHeight,e),this.positioned){var a=this.getAvailableHeight();a&&e>a&&(e=a)}this.getHeight()!==e&&(o?(i.style.maxHeight="unset",i.style.minHeight="unset"):r?Uf(i,e):(i.style.height="".concat(e,"px"),i.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))},t.prototype.getAvailableHeight=function(){var e=this.config,r=e.popup,i=e.forcePopupParentAsOffsetParent;this.positioned||this.initialisePosition();var o=this.offsetParent.clientHeight;if(!o)return null;var a=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),l=r?this.position.y:a.top,u=r?0:s.top,c=0;if(i){var d=this.element.parentElement;if(d){var p=d.getBoundingClientRect().bottom;c=p-a.bottom}}var h=o+u-l-c;return h},t.prototype.getWidth=function(){return this.element.offsetWidth},t.prototype.setWidth=function(e){var r=this.element,i=this.config.popup,o=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Bs(r,e),e=g0(r),o=!0;else if(this.positioned){e=Math.max(this.minWidth,e);var a=this.offsetParent.clientWidth,s=i?this.position.x:this.element.getBoundingClientRect().left;a&&e+s>a&&(e=a-s)}this.getWidth()!==e&&(o?(r.style.maxWidth="unset",r.style.minWidth="unset"):this.config.popup?Bs(r,e):(r.style.width="".concat(e,"px"),r.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))},t.prototype.offsetElement=function(e,r){e===void 0&&(e=0),r===void 0&&(r=0);var i=this.config.forcePopupParentAsOffsetParent,o=i?this.boundaryEl:this.element;o&&(this.popupService.positionPopup({ePopup:o,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:function(){return{x:e,y:r}}}),this.setPosition(parseFloat(o.style.left),parseFloat(o.style.top)))},t.prototype.constrainSizeToAvailableHeight=function(e){var r=this;if(this.config.forcePopupParentAsOffsetParent){var i=function(){var o=r.getAvailableHeight();r.element.style.setProperty("max-height","".concat(o,"px"))};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),i):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}},t.prototype.setPosition=function(e,r){this.position.x=e,this.position.y=r},t.prototype.updateDragStartPosition=function(e,r){this.dragStartPosition={x:e,y:r}},t.prototype.calculateMouseMovement=function(e){var r=e.e,i=e.isLeft,o=e.isTop,a=e.anywhereWithin,s=e.topBuffer,l=r.clientX-this.dragStartPosition.x,u=r.clientY-this.dragStartPosition.y,c=this.shouldSkipX(r,!!i,!!a,l)?0:l,d=this.shouldSkipY(r,!!o,s,u)?0:u;return{movementX:c,movementY:d}},t.prototype.shouldSkipX=function(e,r,i,o){var a=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),u=this.config.popup?this.position.x:a.left,c=u<=0&&s.left>=e.clientX||s.right<=e.clientX&&s.right<=l.right;return c?!0:(r?c=o<0&&e.clientX>u+s.left||o>0&&e.clientX<u+s.left:i?c=o<0&&e.clientX>l.right||o>0&&e.clientX<u+s.left:c=o<0&&e.clientX>l.right||o>0&&e.clientX<l.right,c)},t.prototype.shouldSkipY=function(e,r,i,o){i===void 0&&(i=0);var a=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),u=this.config.popup?this.position.y:a.top,c=u<=0&&s.top>=e.clientY||s.bottom<=e.clientY&&s.bottom<=l.bottom;return c?!0:(r?c=o<0&&e.clientY>u+s.top+i||o>0&&e.clientY<u+s.top:c=o<0&&e.clientY>l.bottom||o>0&&e.clientY<l.bottom,c)},t.prototype.createResizeMap=function(){var e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}},t.prototype.addResizers=function(){if(!this.resizersAdded){var e=this.element;if(e){var r=new DOMParser,i=r.parseFromString(sFe,"text/html").body;e.appendChild(i.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},t.prototype.removeResizers=function(){this.resizerMap=void 0;var e=this.element.querySelector(".".concat(AZ));e&&this.element.removeChild(e),this.resizersAdded=!1},t.prototype.getResizerElement=function(e){return this.resizerMap[e].element},t.prototype.onResizeStart=function(e,r){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!r.match(/top/i),isRight:!!r.match(/right/i),isBottom:!!r.match(/bottom/i),isLeft:!!r.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[r].element.classList.add("ag-active");var i=this.config,o=i.popup,a=i.forcePopupParentAsOffsetParent;!o&&!a&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.getSiblings=function(){var e=this.element,r=e.parentElement;return r?Array.prototype.slice.call(r.children).filter(function(i){return!i.classList.contains("ag-hidden")}):null},t.prototype.getMinSizeOfSiblings=function(){for(var e=this.getSiblings()||[],r=0,i=0,o=0;o<e.length;o++){var a=e[o],s=!!a.style.flex&&a.style.flex!=="0 0 auto";if(a!==this.element){var l=this.minHeight||0,u=this.minWidth||0;if(s){var c=window.getComputedStyle(a);c.minHeight&&(l=parseInt(c.minHeight,10)),c.minWidth&&(u=parseInt(c.minWidth,10))}else l=a.offsetHeight,u=a.offsetWidth;r+=l,i+=u}}return{height:r,width:i}},t.prototype.applySizeToSiblings=function(e){var r=null,i=this.getSiblings();if(i){for(var o=0;o<i.length;o++){var a=i[o];a!==r&&(e?a.style.height="".concat(a.offsetHeight,"px"):a.style.width="".concat(a.offsetWidth,"px"),a.style.flex="0 0 auto",a===this.element&&(r=i[o+1]))}r&&(r.style.removeProperty("height"),r.style.removeProperty("min-height"),r.style.removeProperty("max-height"),r.style.flex="1 1 auto")}},t.prototype.isResizable=function(){return Object.values(this.resizable).some(function(e){return e})},t.prototype.onResize=function(e){if(!(!this.isResizing||!this.currentResizer)){var r=this.config,i=r.popup,o=r.forcePopupParentAsOffsetParent,a=this.currentResizer,s=a.isTop,l=a.isRight,u=a.isBottom,c=a.isLeft,d=l||c,p=u||s,h=this.calculateMouseMovement({e,isLeft:c,isTop:s}),f=h.movementX,v=h.movementY,g=this.position.x,m=this.position.y,y=0,C=0;if(d&&f){var S=c?-1:1,w=this.getWidth(),_=w+f*S,x=!1;c&&(y=w-_,(g+y<=0||_<=this.minWidth)&&(x=!0,y=0)),x||this.setWidth(_)}if(p&&v){var S=s?-1:1,E=this.getHeight(),R=E+v*S,P=!1;s?(C=E-R,(m+C<=0||R<=this.minHeight)&&(P=!0,C=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&E<R&&this.getMinSizeOfSiblings().height+R>this.element.parentElement.offsetHeight&&(P=!0),P||this.setHeight(R)}this.updateDragStartPosition(e.clientX,e.clientY),((i||o)&&y||C)&&this.offsetElement(g+y,m+C)}},t.prototype.onResizeEnd=function(e,r){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var i={type:"resize"};this.element.classList.remove("ag-resizing"),this.resizerMap[r].element.classList.remove("ag-active"),this.dispatchEvent(i)},t.prototype.refreshSize=function(){var e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))},t.prototype.onMoveStart=function(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.onMove=function(e){if(this.isMoving){var r=this.position,i=r.x,o=r.y,a;this.config.calculateTopBuffer&&(a=this.config.calculateTopBuffer());var s=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:a}),l=s.movementX,u=s.movementY;this.offsetElement(i+l,o+u),this.updateDragStartPosition(e.clientX,e.clientY)}},t.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},t.prototype.setOffsetParent=function(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent},t.prototype.findBoundaryElement=function(){for(var e=this.element;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element},t.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()},RM([O("popupService")],t.prototype,"popupService",void 0),RM([O("resizeObserverService")],t.prototype,"resizeObserverService",void 0),RM([O("dragService")],t.prototype,"dragService",void 0),t}(re),lFe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),TM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Xp=function(n){lFe(t,n);function t(e){var r=n.call(this)||this;return r.filterNameKey=e,r.applyActive=!1,r.hidePopup=null,r.debouncePending=!1,r.appliedModel=null,r.buttonListeners=[],r}return t.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new ic(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new __(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},t.prototype.handleKeyDown=function(e){},t.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},t.prototype.isFilterActive=function(){return!!this.appliedModel},t.prototype.resetTemplate=function(e){var r=this.getGui();r&&r.removeEventListener("submit",this.onFormSubmit);var i=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-`.concat(this.getCssIdentifier(),`-body-wrapper" ref="eFilterBody">
                    `).concat(this.createBodyTemplate(),`
                </div>
            </form>`);this.setTemplate(i,e),r=this.getGui(),r&&r.addEventListener("submit",this.onFormSubmit)},t.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},t.prototype.init=function(e){var r=this;this.setParams(e),this.resetUiToDefaults(!0).then(function(){r.updateUiVisibility(),r.setupOnBtApplyDebounce()})},t.prototype.setParams=function(e){this.providedFilterParams=e,this.applyActive=t.isUseApplyButton(e),this.resetButtonsPanel()},t.prototype.updateParams=function(e){var r=this;this.providedFilterParams=e,this.applyActive=t.isUseApplyButton(e),this.resetUiToActiveModel(this.getModel(),function(){r.updateUiVisibility(),r.setupOnBtApplyDebounce()})},t.prototype.resetButtonsPanel=function(){var e=this,r=this.providedFilterParams.buttons,i=r&&r.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(gi(this.eButtonsPanel),this.buttonListeners.forEach(function(s){return s==null?void 0:s()}),this.buttonListeners=[]):i&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!i){this.eButtonsPanel&&Lu(this.eButtonsPanel);return}var o=document.createDocumentFragment(),a=function(s){var l,u;switch(s){case"apply":l=e.translate("applyFilter"),u=function(p){return e.onBtApply(!1,!1,p)};break;case"clear":l=e.translate("clearFilter"),u=function(){return e.onBtClear()};break;case"reset":l=e.translate("resetFilter"),u=function(){return e.onBtReset()};break;case"cancel":l=e.translate("cancelFilter"),u=function(p){e.onBtCancel(p)};break;default:console.warn("AG Grid: Unknown button type specified");return}var c=s==="apply"?"submit":"button",d=aa(`<button
                    type="`.concat(c,`"
                    ref="`).concat(s,`FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >`).concat(l,`
                </button>`));e.buttonListeners.push(e.addManagedListener(d,"click",u)),o.append(d)};nB(r).forEach(function(s){return a(s)}),this.eButtonsPanel.append(o),this.getGui().appendChild(this.eButtonsPanel)},t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.setupOnBtApplyDebounce=function(){var e=this,r=t.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),i=Ja(this.checkApplyDebounce.bind(this),r);this.onBtApplyDebounce=function(){e.debouncePending=!0,i()}},t.prototype.checkApplyDebounce=function(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())},t.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},t.prototype.setModel=function(e){var r=this,i=e!=null?this.setModelIntoUi(e):this.resetUiToDefaults();return i.then(function(){r.updateUiVisibility(),r.applyModel("api")})},t.prototype.onBtCancel=function(e){var r=this;this.resetUiToActiveModel(this.getModel(),function(){r.handleCancelEnd(e)})},t.prototype.handleCancelEnd=function(e){this.providedFilterParams.closeOnApply&&this.close(e)},t.prototype.resetUiToActiveModel=function(e,r){var i=this,o=function(){i.onUiChanged(!1,"prevent"),r==null||r()};e!=null?this.setModelIntoUi(e).then(o):this.resetUiToDefaults().then(o)},t.prototype.onBtClear=function(){var e=this;this.resetUiToDefaults().then(function(){return e.onUiChanged()})},t.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},t.prototype.applyModel=function(e){var r=this.getModelFromUi();if(!this.isModelValid(r))return!1;var i=this.appliedModel;return this.appliedModel=r,!this.areModelsEqual(i,r)},t.prototype.isModelValid=function(e){return!0},t.prototype.onFormSubmit=function(e){e.preventDefault()},t.prototype.onBtApply=function(e,r,i){if(e===void 0&&(e=!1),r===void 0&&(r=!1),i&&i.preventDefault(),this.applyModel(r?"rowDataUpdated":"ui")){var o="columnFilter";this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:r,source:o})}var a=this.providedFilterParams.closeOnApply;a&&this.applyActive&&!e&&!r&&this.close(i)},t.prototype.onNewRowsLoaded=function(){},t.prototype.close=function(e){if(this.hidePopup){var r=e,i=r&&r.key,o;(i==="Enter"||i==="Space")&&(o={keyboardEvent:r}),this.hidePopup(o),this.hidePopup=null}},t.prototype.onUiChanged=function(e,r){if(e===void 0&&(e=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){var i=this.isModelValid(this.getModelFromUi()),o=this.getRefElement("applyFilterButton");o&&ey(o,!i)}e&&!r||r==="immediately"?this.onBtApply(e):(!this.applyActive&&!r||r==="debounce")&&this.onBtApplyDebounce()},t.prototype.afterGuiAttached=function(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e==null?void 0:e.container)},t.prototype.refreshFilterResizer=function(e){if(!(!this.positionableFeature||e==="toolPanel")){var r=e==="floatingFilter"||e==="columnFilter",i=this,o=i.positionableFeature,a=i.gridOptionsService;r?(o.restoreLastSize(),o.setResizable(a.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}},t.prototype.afterGuiDetached=function(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)},t.getDebounceMs=function(e,r){return t.isUseApplyButton(e)?(e.debounceMs!=null&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):e.debounceMs!=null?e.debounceMs:r},t.isUseApplyButton=function(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0},t.prototype.refresh=function(e){return this.providedFilterParams=e,!0},t.prototype.destroy=function(){var e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,n.prototype.destroy.call(this)},t.prototype.translate=function(e){var r=this.localeService.getLocaleTextFunc();return r(e,DZ[e])},t.prototype.getCellValue=function(e){return this.providedFilterParams.getValue(e)},t.prototype.getPositionableElement=function(){return this.eFilterBody},TM([O("rowModel")],t.prototype,"rowModel",void 0),TM([U("eFilterBody")],t.prototype,"eFilterBody",void 0),TM([q],t.prototype,"postConstruct",null),t}(Ce),uFe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),cFe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},aD=function(n){uFe(t,n);function t(e,r){var i=n.call(this,r)||this;return i.labelSeparator="",i.labelAlignment="left",i.disabled=!1,i.label="",i.config=e||{},i}return t.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var e=this.config,r=e.labelSeparator,i=e.label,o=e.labelWidth,a=e.labelAlignment;r!=null&&this.setLabelSeparator(r),i!=null&&this.setLabel(i),o!=null&&this.setLabelWidth(o),this.setLabelAlignment(a||this.labelAlignment),this.refreshLabel()},t.prototype.refreshLabel=function(){gi(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?($t(this.eLabel,!1),ri(this.eLabel,"presentation")):($t(this.eLabel,!0),ri(this.eLabel,null))},t.prototype.setLabelSeparator=function(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)},t.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-".concat(this.getCompId(),"-label"),this.eLabel.id},t.prototype.getLabel=function(){return this.label},t.prototype.setLabel=function(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)},t.prototype.setLabelAlignment=function(e){var r=this.getGui(),i=r.classList;return i.toggle("ag-label-align-left",e==="left"),i.toggle("ag-label-align-right",e==="right"),i.toggle("ag-label-align-top",e==="top"),this},t.prototype.setLabelEllipsis=function(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this},t.prototype.setLabelWidth=function(e){return this.label==null?this:(S0(this.eLabel,e),this)},t.prototype.setDisabled=function(e){e=!!e;var r=this.getGui();return ey(r,e),r.classList.toggle("ag-disabled",e),this.disabled=e,this},t.prototype.isDisabled=function(){return!!this.disabled},cFe([q],t.prototype,"postConstruct",null),t}(Ce),dFe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),oB=function(n){dFe(t,n);function t(e,r,i){var o=n.call(this,e,r)||this;return o.className=i,o}return t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()},t.prototype.refreshAriaLabelledBy=function(){var e=this.getAriaElement(),r=this.getLabelId();ZX(e)!==null?fR(e,""):fR(e,r??"")},t.prototype.setAriaLabel=function(e){return ph(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this},t.prototype.onValueChange=function(e){var r=this;return this.addManagedListener(this,M.EVENT_FIELD_VALUE_CHANGED,function(){return e(r.getValue())}),this},t.prototype.getWidth=function(){return this.getGui().clientWidth},t.prototype.setWidth=function(e){return Bs(this.getGui(),e),this},t.prototype.getPreviousValue=function(){return this.previousValue},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(e,r){return this.value===e?this:(this.previousValue=this.value,this.value=e,r||this.dispatchEvent({type:M.EVENT_FIELD_VALUE_CHANGED}),this)},t}(aD),pFe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),gC=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},hFe=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,sD=function(n){pFe(t,n);function t(e){var r=n.call(this,e,(e==null?void 0:e.template)||hFe,e==null?void 0:e.className)||this;if(r.isPickerDisplayed=!1,r.skipClick=!1,r.pickerGap=4,r.hideCurrentPicker=null,r.ariaRole=e==null?void 0:e.ariaRole,r.onPickerFocusIn=r.onPickerFocusIn.bind(r),r.onPickerFocusOut=r.onPickerFocusOut.bind(r),!e)return r;var i=e.pickerGap,o=e.maxPickerHeight,a=e.variableWidth,s=e.minPickerWidth,l=e.maxPickerWidth;return i!=null&&(r.pickerGap=i),r.variableWidth=!!a,o!=null&&r.setPickerMaxHeight(o),s!=null&&r.setPickerMinWidth(s),l!=null&&r.setPickerMaxWidth(l),r}return t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.setupAria();var e="ag-".concat(this.getCompId(),"-display");this.eDisplayField.setAttribute("id",e);var r=this.getAriaElement();this.addManagedListener(r,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(this.eLabel,"mousedown",this.onLabelOrWrapperMouseDown.bind(this)),this.addManagedListener(this.eWrapper,"mousedown",this.onLabelOrWrapperMouseDown.bind(this));var i=this.config.pickerIcon;if(i){var o=jn(i,this.gridOptionsService);o&&this.eIcon.appendChild(o)}},t.prototype.setupAria=function(){var e=this.getAriaElement();e.setAttribute("tabindex",this.gridOptionsService.get("tabIndex").toString()),id(e,!1),this.ariaRole&&ri(e,this.ariaRole)},t.prototype.onLabelOrWrapperMouseDown=function(e){if(e){var r=this.getFocusableElement();if(r!==this.eWrapper&&(e==null?void 0:e.target)===r)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())},t.prototype.onKeyDown=function(e){switch(e.key){case K.UP:case K.DOWN:case K.ENTER:case K.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case K.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}},t.prototype.showPicker=function(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());var e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)},t.prototype.renderAndPositionPicker=function(){var e=this,r=this.gridOptionsService.getDocument(),i=this.pickerComponent.getGui();this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")||(this.destroyMouseWheelFunc=this.addManagedListener(this.eventService,M.EVENT_BODY_SCROLL,function(){e.hidePicker()}));var o=this.localeService.getLocaleTextFunc(),a=this.config,s=a.pickerAriaLabelKey,l=a.pickerAriaLabelValue,u=a.modalPicker,c=u===void 0?!0:u,d={modal:c,eChild:i,closeOnEsc:!0,closedCallback:function(){var C=r.activeElement===r.body;e.beforeHidePicker(),C&&e.isAlive()&&e.getFocusableElement().focus()},ariaLabel:o(s,l)},p=this.popupService.addPopup(d),h=this,f=h.maxPickerHeight,v=h.minPickerWidth,g=h.maxPickerWidth,m=h.variableWidth;m?(v&&(i.style.minWidth=v),i.style.width=iD(g0(this.eWrapper)),g&&(i.style.maxWidth=g)):S0(i,g??g0(this.eWrapper));var y=f??"".concat(C_(this.popupService.getPopupParent()),"px");return i.style.setProperty("max-height",y),i.style.position="absolute",this.alignPickerToComponent(),p.hideFunc},t.prototype.alignPickerToComponent=function(){if(this.pickerComponent){var e=this.config.pickerType,r=this.pickerGap,i=this.gridOptionsService.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:i,keepWithinBounds:!0,nudgeY:r})}},t.prototype.beforeHidePicker=function(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);var e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null},t.prototype.toggleExpandedStyles=function(e){if(this.isAlive()){var r=this.getAriaElement();id(r,e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e)}},t.prototype.onPickerFocusIn=function(){this.togglePickerHasFocus(!0)},t.prototype.onPickerFocusOut=function(e){var r;!((r=this.pickerComponent)===null||r===void 0)&&r.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)},t.prototype.togglePickerHasFocus=function(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)},t.prototype.hidePicker=function(){this.hideCurrentPicker&&this.hideCurrentPicker()},t.prototype.setInputWidth=function(e){return S0(this.eWrapper,e),this},t.prototype.getFocusableElement=function(){return this.eWrapper},t.prototype.setPickerGap=function(e){return this.pickerGap=e,this},t.prototype.setPickerMinWidth=function(e){return typeof e=="number"&&(e="".concat(e,"px")),this.minPickerWidth=e??void 0,this},t.prototype.setPickerMaxWidth=function(e){return typeof e=="number"&&(e="".concat(e,"px")),this.maxPickerWidth=e??void 0,this},t.prototype.setPickerMaxHeight=function(e){return typeof e=="number"&&(e="".concat(e,"px")),this.maxPickerHeight=e??void 0,this},t.prototype.destroy=function(){this.hidePicker(),n.prototype.destroy.call(this)},gC([O("popupService")],t.prototype,"popupService",void 0),gC([U("eLabel")],t.prototype,"eLabel",void 0),gC([U("eWrapper")],t.prototype,"eWrapper",void 0),gC([U("eDisplayField")],t.prototype,"eDisplayField",void 0),gC([U("eIcon")],t.prototype,"eIcon",void 0),t}(oB),fFe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),vFe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},J3=function(n){fFe(t,n);function t(e){e===void 0&&(e="default");var r=n.call(this,'<div class="ag-list ag-'.concat(e,'-list" role="listbox"></div>'))||this;return r.cssIdentifier=e,r.options=[],r.itemEls=[],r}return t.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){var r=e.key;switch(r){case K.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{var i=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(i)}break;case K.DOWN:case K.UP:var o=r===K.DOWN,a=void 0;if(e.preventDefault(),!this.highlightedEl)a=this.itemEls[o?0:this.itemEls.length-1];else{var s=this.itemEls.indexOf(this.highlightedEl),l=s+(o?1:-1);l=Math.min(Math.max(l,0),this.itemEls.length-1),a=this.itemEls[l]}this.highlightItem(a);break}},t.prototype.addOptions=function(e){var r=this;return e.forEach(function(i){return r.addOption(i)}),this},t.prototype.addOption=function(e){var r=e.value,i=e.text,o=Jn(i||r);return this.options.push({value:r,text:o}),this.renderOption(r,o),this.updateIndices(),this},t.prototype.updateIndices=function(){var e=this.getGui().querySelectorAll(".ag-list-item");e.forEach(function(r,i){IV(r,i+1),FV(r,e.length)})},t.prototype.renderOption=function(e,r){var i=this,o=document.createElement("div");ri(o,"option"),o.classList.add("ag-list-item","ag-".concat(this.cssIdentifier,"-list-item")),o.innerHTML="<span>".concat(r,"</span>"),o.tabIndex=-1,this.itemEls.push(o),this.addManagedListener(o,"mouseover",function(){return i.highlightItem(o)}),this.addManagedListener(o,"mouseleave",function(){return i.clearHighlighted()}),this.addManagedListener(o,"click",function(){return i.setValue(e)}),this.getGui().appendChild(o)},t.prototype.setValue=function(e,r){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(),this;var i=this.options.findIndex(function(a){return a.value===e});if(i!==-1){var o=this.options[i];this.value=o.value,this.displayValue=o.text!=null?o.text:o.value,this.highlightItem(this.itemEls[i]),r||this.fireChangeEvent()}return this},t.prototype.setValueByIndex=function(e){return this.setValue(this.options[e].value)},t.prototype.getValue=function(){return this.value},t.prototype.getDisplayValue=function(){return this.displayValue},t.prototype.refreshHighlighted=function(){var e=this;this.clearHighlighted();var r=this.options.findIndex(function(i){return i.value===e.value});r!==-1&&this.highlightItem(this.itemEls[r])},t.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},t.prototype.highlightItem=function(e){as(e)&&(this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(t.ACTIVE_CLASS),Jm(this.highlightedEl,!0),this.highlightedEl.focus())},t.prototype.clearHighlighted=function(){!this.highlightedEl||!as(this.highlightedEl)||(this.highlightedEl.classList.remove(t.ACTIVE_CLASS),Jm(this.highlightedEl,!1),this.highlightedEl=null)},t.prototype.fireChangeEvent=function(){this.dispatchEvent({type:M.EVENT_FIELD_VALUE_CHANGED}),this.fireItemSelected()},t.prototype.fireItemSelected=function(){this.dispatchEvent({type:t.EVENT_ITEM_SELECTED})},t.EVENT_ITEM_SELECTED="selectedItem",t.ACTIVE_CLASS="ag-active-item",vFe([q],t.prototype,"init",null),t}(Ce),gFe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),p1=function(){return p1=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},p1.apply(this,arguments)},Qu=function(n){gFe(t,n);function t(e){return n.call(this,p1({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox"},e))||this}return t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.createListComponent(),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex")},t.prototype.createListComponent=function(){var e=this;this.listComponent=this.createBean(new J3("select")),this.listComponent.setParentComponent(this);var r=this.listComponent.getAriaElement(),i="ag-select-list-".concat(this.listComponent.getCompId());r.setAttribute("id",i),GV(this.getAriaElement(),r),this.listComponent.addGuiEventListener("keydown",function(o){o.key===K.TAB&&(o.preventDefault(),o.stopImmediatePropagation(),e.getGui().dispatchEvent(new KeyboardEvent("keydown",{key:o.key,shiftKey:o.shiftKey,ctrlKey:o.ctrlKey,bubbles:!0})))}),this.listComponent.addManagedListener(this.listComponent,J3.EVENT_ITEM_SELECTED,function(){e.hidePicker(),e.dispatchEvent({type:t.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,M.EVENT_FIELD_VALUE_CHANGED,function(){e.listComponent&&(e.setValue(e.listComponent.getValue(),!1,!0),e.hidePicker())})},t.prototype.createPickerComponent=function(){return this.listComponent},t.prototype.showPicker=function(){this.listComponent&&(n.prototype.showPicker.call(this),this.listComponent.refreshHighlighted())},t.prototype.addOptions=function(e){var r=this;return e.forEach(function(i){return r.addOption(i)}),this},t.prototype.addOption=function(e){return this.listComponent.addOption(e),this},t.prototype.setValue=function(e,r,i){if(this.value===e||!this.listComponent)return this;i||this.listComponent.setValue(e,!0);var o=this.listComponent.getValue();return o===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),n.prototype.setValue.call(this,e,r))},t.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),n.prototype.destroy.call(this)},t.EVENT_ITEM_SELECTED="selectedItem",t}(sD),mFe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),PM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},gp=function(n){mFe(t,n);function t(e,r,i,o){i===void 0&&(i="text"),o===void 0&&(o="input");var a=n.call(this,e,`
            <div role="presentation">
                <div ref="eLabel" class="ag-input-field-label"></div>
                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <`.concat(o,' ref="eInput" class="ag-input-field-input"></').concat(o,`>
                </div>
            </div>`),r)||this;return a.inputType=i,a.displayFieldTag=o,a}return t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add("".concat(this.className,"-label")),this.eWrapper.classList.add("".concat(this.className,"-input-wrapper")),this.eInput.classList.add("".concat(this.className,"-input")),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-".concat(this.getCompId(),"-input");var e=this.config,r=e.width,i=e.value;r!=null&&this.setWidth(r),i!=null&&this.setValue(i),this.addInputListeners(),this.activateTabIndex([this.eInput])},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(r){return e.setValue(r.target.value)})},t.prototype.setInputType=function(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)},t.prototype.getInputElement=function(){return this.eInput},t.prototype.setInputWidth=function(e){return S0(this.eWrapper,e),this},t.prototype.setInputName=function(e){return this.getInputElement().setAttribute("name",e),this},t.prototype.getFocusableElement=function(){return this.eInput},t.prototype.setMaxLength=function(e){var r=this.eInput;return r.maxLength=e,this},t.prototype.setInputPlaceholder=function(e){return Uu(this.eInput,"placeholder",e),this},t.prototype.setInputAriaLabel=function(e){return ph(this.eInput,e),this.refreshAriaLabelledBy(),this},t.prototype.setDisabled=function(e){return ey(this.eInput,e),n.prototype.setDisabled.call(this,e)},t.prototype.setAutoComplete=function(e){if(e===!0)Uu(this.eInput,"autocomplete",null);else{var r=typeof e=="string"?e:"off";Uu(this.eInput,"autocomplete",r)}return this},PM([U("eLabel")],t.prototype,"eLabel",void 0),PM([U("eWrapper")],t.prototype,"eWrapper",void 0),PM([U("eInput")],t.prototype,"eInput",void 0),t}(oB),yFe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jc=function(n){yFe(t,n);function t(e,r,i){r===void 0&&(r="ag-checkbox"),i===void 0&&(i="checkbox");var o=n.call(this,e,r,i)||this;return o.labelAlignment="right",o.selected=!1,o.readOnly=!1,o.passive=!1,o}return t.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},t.prototype.getNextValue=function(){return this.selected===void 0?!0:!this.selected},t.prototype.setPassive=function(e){this.passive=e},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setReadOnly=function(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e},t.prototype.setDisabled=function(e){return this.eWrapper.classList.toggle("ag-disabled",e),n.prototype.setDisabled.call(this,e)},t.prototype.toggle=function(){if(!this.eInput.disabled){var e=this.isSelected(),r=this.getNextValue();this.passive?this.dispatchChange(r,e):this.setValue(r)}},t.prototype.getValue=function(){return this.isSelected()},t.prototype.setValue=function(e,r){return this.refreshSelectedClass(e),this.setSelected(e,r),this},t.prototype.setName=function(e){var r=this.getInputElement();return r.name=e,this},t.prototype.isSelected=function(){return this.selected},t.prototype.setSelected=function(e,r){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=e===void 0,r||this.dispatchChange(this.selected,this.previousValue))},t.prototype.dispatchChange=function(e,r,i){this.dispatchEvent({type:M.EVENT_FIELD_VALUE_CHANGED,selected:e,previousValue:r,event:i});var o=this.getInputElement(),a={type:M.EVENT_CHECKBOX_CHANGED,id:o.id,name:o.name,selected:e,previousValue:r};this.eventService.dispatchEvent(a)},t.prototype.onCheckboxClick=function(e){if(!(this.passive||this.eInput.disabled)){var r=this.isSelected(),i=this.selected=e.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,r,e)}},t.prototype.refreshSelectedClass=function(e){this.eWrapper.classList.toggle("ag-checked",e===!0),this.eWrapper.classList.toggle("ag-indeterminate",e==null)},t}(gp),CFe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),lD=function(n){CFe(t,n);function t(e){return n.call(this,e,"ag-radio-button","radio")||this}return t.prototype.isSelected=function(){return this.eInput.checked},t.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},t.prototype.addInputListeners=function(){n.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,M.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},t.prototype.onChange=function(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)},t}(jc),SFe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),wFe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},_Fe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},aB=function(){function n(t,e,r){this.localeService=t,this.optionsFactory=e,this.valueFormatter=r}return n.prototype.getModelAsString=function(t){var e=this;if(!t)return null;var r=t.operator!=null,i=this.localeService.getLocaleTextFunc();if(r){var o=t,a=o.conditions;if(!a){var s=o.condition1,l=o.condition2;a=[s,l]}var u=a.map(function(m){return e.getModelAsString(m)}),c=o.operator==="AND"?"andCondition":"orCondition";return u.join(" ".concat(i(c,DZ[c])," "))}else{if(t.type===Zr.BLANK||t.type===Zr.NOT_BLANK)return i(t.type,t.type);var d=t,p=this.optionsFactory.getCustomOption(d.type),h=p||{},f=h.displayKey,v=h.displayName,g=h.numberOfInputs;return f&&v&&g===0?(i(f,v),v):this.conditionToString(d,p)}},n.prototype.updateParams=function(t){this.optionsFactory=t.optionsFactory},n.prototype.formatValue=function(t){var e;return this.valueFormatter?(e=this.valueFormatter(t??null))!==null&&e!==void 0?e:"":String(t)},n}(),Zr=function(n){SFe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.eTypes=[],e.eJoinOperatorPanels=[],e.eJoinOperatorsAnd=[],e.eJoinOperatorsOr=[],e.eConditionBodies=[],e.listener=function(){return e.onUiChanged()},e.lastUiCompletePosition=null,e.joinOperatorId=0,e}return t.prototype.getNumberOfInputs=function(e){var r=this.optionsFactory.getCustomOption(e);if(r){var i=r.numberOfInputs;return i??1}var o=[t.EMPTY,t.NOT_BLANK,t.BLANK];return e&&o.indexOf(e)>=0?0:e===t.IN_RANGE?2:1},t.prototype.onFloatingFilterChanged=function(e,r){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(r),this.onUiChanged(!0)},t.prototype.setTypeFromFloatingFilter=function(e){var r=this;this.eTypes.forEach(function(i,o){o===0?i.setValue(e,!0):i.setValue(r.optionsFactory.getDefaultOption(),!0)})},t.prototype.getModelFromUi=function(){var e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:e[0],condition2:e[1],conditions:e}:e[0]},t.prototype.getConditionTypes=function(){return this.eTypes.map(function(e){return e.getValue()})},t.prototype.getConditionType=function(e){return this.eTypes[e].getValue()},t.prototype.getJoinOperator=function(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"},t.prototype.areModelsEqual=function(e,r){var i=this;if(!e&&!r)return!0;if(!e&&r||e&&!r)return!1;var o=!e.operator,a=!r.operator,s=!o&&a||o&&!a;if(s)return!1;var l;if(o){var u=e,c=r;l=this.areSimpleModelsEqual(u,c)}else{var d=e,p=r;l=d.operator===p.operator&&kc(d.conditions,p.conditions,function(h,f){return i.areSimpleModelsEqual(h,f)})}return l},t.prototype.shouldRefresh=function(e){var r,i,o,a=this.getModel(),s=a?(r=a.conditions)!==null&&r!==void 0?r:[a]:null,l=(o=(i=e.filterOptions)===null||i===void 0?void 0:i.map(function(c){return typeof c=="string"?c:c.displayKey}))!==null&&o!==void 0?o:this.getDefaultFilterOptions(),u=!s||s.every(function(c){return l.find(function(d){return d===c.type})!==void 0});return!(!u||typeof e.maxNumConditions=="number"&&s&&s.length>e.maxNumConditions)},t.prototype.refresh=function(e){if(!this.shouldRefresh(e))return!1;var r=n.prototype.refresh.call(this,e);return r?(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0):!1},t.prototype.setModelIntoUi=function(e){var r=this,i=e.operator;if(i){var o=e;o.conditions||(o.conditions=[o.condition1,o.condition2]);var a=this.validateAndUpdateConditions(o.conditions),s=this.getNumConditions();if(a<s)this.removeConditionsAndOperators(a);else if(a>s)for(var l=s;l<a;l++)this.createJoinOperatorPanel(),this.createOption();var u=o.operator==="OR";this.eJoinOperatorsAnd.forEach(function(d){return d.setValue(!u,!0)}),this.eJoinOperatorsOr.forEach(function(d){return d.setValue(u,!0)}),o.conditions.forEach(function(d,p){r.eTypes[p].setValue(d.type,!0),r.setConditionIntoUi(d,p)})}else{var c=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(c.type,!0),this.setConditionIntoUi(c,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),Ot.resolve()},t.prototype.validateAndUpdateConditions=function(e){var r=e.length;return r>this.maxNumConditions&&(e.splice(this.maxNumConditions),at('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),r=this.maxNumConditions),r},t.prototype.doesFilterPass=function(e){var r=this,i,o=this.getModel();if(o==null)return!0;var a=o.operator,s=[];if(a){var l=o;s.push.apply(s,_Fe([],wFe((i=l.conditions)!==null&&i!==void 0?i:[]),!1))}else s.push(o);var u=a&&a==="OR"?"some":"every";return s[u](function(c){return r.individualConditionPasses(e,c)})},t.prototype.setParams=function(e){n.prototype.setParams.call(this,e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new PZ,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")},t.prototype.setNumConditions=function(e){var r,i;e.suppressAndOrCondition!=null&&at('Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.'),e.alwaysShowBothConditions!=null&&at('Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.'),this.maxNumConditions=(r=e.maxNumConditions)!==null&&r!==void 0?r:e.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(at('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=(i=e.numAlwaysVisibleConditions)!==null&&i!==void 0?i:e.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(at('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(at('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)},t.prototype.createOption=function(){var e=this,r=this.createManagedBean(new Qu);this.eTypes.push(r),r.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(r.getGui());var i=this.createValueElement();this.eConditionBodies.push(i),this.eFilterBody.appendChild(i),this.putOptionsIntoDropdown(r),this.resetType(r);var o=this.getNumConditions()-1;this.forEachPositionInput(o,function(a){return e.resetInput(a)}),this.addChangedListeners(r,o)},t.prototype.createJoinOperatorPanel=function(){var e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");var r=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),i=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);var o=this.eJoinOperatorPanels.length-1,a=this.joinOperatorId++;this.resetJoinOperatorAnd(r,o,a),this.resetJoinOperatorOr(i,o,a),this.isReadOnly()||(r.onValueChange(this.listener),i.onValueChange(this.listener))},t.prototype.createJoinOperator=function(e,r,i){var o=this.createManagedBean(new lD);return e.push(o),o.addCssClass("ag-filter-condition-operator"),o.addCssClass("ag-filter-condition-operator-".concat(i)),r.appendChild(o.getGui()),o},t.prototype.getDefaultJoinOperator=function(e){return e==="AND"||e==="OR"?e:"AND"},t.prototype.createFilterListOptions=function(){var e=this,r=this.optionsFactory.getFilterOptions();this.filterListOptions=r.map(function(i){return typeof i=="string"?e.createBoilerplateListOption(i):e.createCustomListOption(i)})},t.prototype.putOptionsIntoDropdown=function(e){this.filterListOptions.forEach(function(r){e.addOption(r)}),e.setDisabled(this.filterListOptions.length<=1)},t.prototype.createBoilerplateListOption=function(e){return{value:e,text:this.translate(e)}},t.prototype.createCustomListOption=function(e){var r=e.displayKey,i=this.optionsFactory.getCustomOption(e.displayKey);return{value:r,text:i?this.localeService.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(r)}},t.prototype.isAllowTwoConditions=function(){return this.maxNumConditions>=2},t.prototype.createBodyTemplate=function(){return""},t.prototype.getCssIdentifier=function(){return"simple-filter"},t.prototype.updateUiVisibility=function(){var e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)},t.prototype.updateNumConditions=function(){for(var e,r=-1,i=!0,o=0;o<this.getNumConditions();o++)this.isConditionUiComplete(o)?r=o:i=!1;if(this.shouldAddNewConditionAtEnd(i))this.createJoinOperatorPanel(),this.createOption();else{var a=(e=this.lastUiCompletePosition)!==null&&e!==void 0?e:this.getNumConditions()-2;if(r<a){this.removeConditionsAndOperators(a+1);var s=r+1,l=a-s;l>0&&this.removeConditionsAndOperators(s,l),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=r},t.prototype.updateConditionStatusesAndValues=function(e,r){var i=this;this.eTypes.forEach(function(a,s){var l=i.isConditionDisabled(s,e);a.setDisabled(l||i.filterListOptions.length<=1),s===1&&(ey(i.eJoinOperatorPanels[0],l),i.eJoinOperatorsAnd[0].setDisabled(l),i.eJoinOperatorsOr[0].setDisabled(l))}),this.eConditionBodies.forEach(function(a,s){$t(a,i.isConditionBodyVisible(s))});var o=(r??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(function(a,s){a.setValue(!o,!0)}),this.eJoinOperatorsOr.forEach(function(a,s){a.setValue(o,!0)}),this.forEachInput(function(a,s,l,u){i.setElementDisplayed(a,s<u),i.setElementDisabled(a,i.isConditionDisabled(l,e))}),this.resetPlaceholder()},t.prototype.shouldAddNewConditionAtEnd=function(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()},t.prototype.removeConditionsAndOperators=function(e,r){if(!(e>=this.getNumConditions())){this.removeComponents(this.eTypes,e,r),this.removeElements(this.eConditionBodies,e,r),this.removeValueElements(e,r);var i=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,i,r),this.removeComponents(this.eJoinOperatorsAnd,i,r),this.removeComponents(this.eJoinOperatorsOr,i,r)}},t.prototype.removeElements=function(e,r,i){var o=this.removeItems(e,r,i);o.forEach(function(a){return Lu(a)})},t.prototype.removeComponents=function(e,r,i){var o=this,a=this.removeItems(e,r,i);a.forEach(function(s){Lu(s.getGui()),o.destroyBean(s)})},t.prototype.removeItems=function(e,r,i){return i==null?e.splice(r):e.splice(r,i)},t.prototype.afterGuiAttached=function(e){if(n.prototype.afterGuiAttached.call(this,e),this.resetPlaceholder(),!(e!=null&&e.suppressFocus))if(this.isReadOnly())this.eFilterBody.focus();else{var r=this.getInputs(0)[0];if(!r)return;r instanceof gp&&r.getInputElement().focus()}},t.prototype.afterGuiDetached=function(){n.prototype.afterGuiDetached.call(this);var e=this.getModel();this.resetUiToActiveModel(e);for(var r=-1,i=-1,o=!1,a=this.getJoinOperator(),s=this.getNumConditions()-1;s>=0;s--)if(this.isConditionUiComplete(s))r===-1&&(r=s,i=s);else{var l=s>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(s-1),u=s<r;(l||u)&&(this.removeConditionsAndOperators(s,1),o=!0,u&&i--)}var c=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),c=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),c=!0),c&&this.updateConditionStatusesAndValues(i,a),o&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i},t.prototype.getPlaceholderText=function(e,r){var i=this.translate(e);if(tD(this.filterPlaceholder)){var o=this.filterPlaceholder,a=this.eTypes[r].getValue(),s=this.translate(a);i=o({filterOptionKey:a,filterOption:s,placeholder:i})}else typeof this.filterPlaceholder=="string"&&(i=this.filterPlaceholder);return i},t.prototype.resetPlaceholder=function(){var e=this,r=this.localeService.getLocaleTextFunc();this.forEachInput(function(i,o,a,s){if(i instanceof gp){var l=o===0&&s>1?"inRangeStart":o===0?"filterOoo":"inRangeEnd",u=o===0&&s>1?r("ariaFilterFromValue","Filter from value"):o===0?r("ariaFilterValue","Filter Value"):r("ariaFilterToValue","Filter to Value");i.setInputPlaceholder(e.getPlaceholderText(l,a)),i.setInputAriaLabel(u)}})},t.prototype.setElementValue=function(e,r,i){e instanceof gp&&e.setValue(r!=null?String(r):null,!0)},t.prototype.setElementDisplayed=function(e,r){e instanceof Ce&&$t(e.getGui(),r)},t.prototype.setElementDisabled=function(e,r){e instanceof Ce&&ey(e.getGui(),r)},t.prototype.attachElementOnChange=function(e,r){e instanceof gp&&e.onValueChange(r)},t.prototype.forEachInput=function(e){var r=this;this.getConditionTypes().forEach(function(i,o){r.forEachPositionTypeInput(o,i,e)})},t.prototype.forEachPositionInput=function(e,r){var i=this.getConditionType(e);this.forEachPositionTypeInput(e,i,r)},t.prototype.forEachPositionTypeInput=function(e,r,i){for(var o=this.getNumberOfInputs(r),a=this.getInputs(e),s=0;s<a.length;s++){var l=a[s];l!=null&&i(l,s,e,o)}},t.prototype.isConditionDisabled=function(e,r){return this.isReadOnly()?!0:e===0?!1:e>r+1},t.prototype.isConditionBodyVisible=function(e){var r=this.getConditionType(e),i=this.getNumberOfInputs(r);return i>0},t.prototype.isConditionUiComplete=function(e){if(e>=this.getNumConditions())return!1;var r=this.getConditionType(e);return!(r===t.EMPTY||this.getValues(e).some(function(i){return i==null}))},t.prototype.getNumConditions=function(){return this.eTypes.length},t.prototype.getUiCompleteConditions=function(){for(var e=[],r=0;r<this.getNumConditions();r++)this.isConditionUiComplete(r)&&e.push(this.createCondition(r));return e},t.prototype.createMissingConditionsAndOperators=function(){if(!this.isReadOnly())for(var e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()},t.prototype.resetUiToDefaults=function(e){var r=this;return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(function(i){return r.resetType(i)}),this.eJoinOperatorsAnd.forEach(function(i,o){return r.resetJoinOperatorAnd(i,o,r.joinOperatorId+o)}),this.eJoinOperatorsOr.forEach(function(i,o){return r.resetJoinOperatorOr(i,o,r.joinOperatorId+o)}),this.joinOperatorId++,this.forEachInput(function(i){return r.resetInput(i)}),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),Ot.resolve()},t.prototype.resetType=function(e){var r=this.localeService.getLocaleTextFunc(),i=r("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(i).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)},t.prototype.resetJoinOperatorAnd=function(e,r,i){this.resetJoinOperator(e,r,this.isDefaultOperator("AND"),this.translate("andCondition"),i)},t.prototype.resetJoinOperatorOr=function(e,r,i){this.resetJoinOperator(e,r,this.isDefaultOperator("OR"),this.translate("orCondition"),i)},t.prototype.resetJoinOperator=function(e,r,i,o,a){this.updateJoinOperatorDisabled(e.setValue(i,!0).setName("ag-simple-filter-and-or-".concat(this.getCompId(),"-").concat(a)).setLabel(o),r)},t.prototype.updateJoinOperatorsDisabled=function(){var e=this;this.eJoinOperatorsAnd.forEach(function(r,i){return e.updateJoinOperatorDisabled(r,i)}),this.eJoinOperatorsOr.forEach(function(r,i){return e.updateJoinOperatorDisabled(r,i)})},t.prototype.updateJoinOperatorDisabled=function(e,r){e.setDisabled(this.isReadOnly()||r>0)},t.prototype.resetInput=function(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())},t.prototype.setConditionIntoUi=function(e,r){var i=this,o=this.mapValuesFromModel(e);this.forEachInput(function(a,s,l,u){l===r&&i.setElementValue(a,o[s]!=null?o[s]:null)})},t.prototype.setValueFromFloatingFilter=function(e){var r=this;this.forEachInput(function(i,o,a,s){r.setElementValue(i,o===0&&a===0?e:null,!0)})},t.prototype.isDefaultOperator=function(e){return e===this.defaultJoinOperator},t.prototype.addChangedListeners=function(e,r){var i=this;this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(r,function(o){i.attachElementOnChange(o,i.listener)}))},t.prototype.individualConditionPasses=function(e,r){var i=this.getCellValue(e.node),o=this.mapValuesFromModel(r),a=this.optionsFactory.getCustomOption(r.type),s=this.evaluateCustomFilter(a,o,i);return s??(i==null?this.evaluateNullValue(r.type):this.evaluateNonNullValue(o,i,r,e))},t.prototype.evaluateCustomFilter=function(e,r,i){if(e!=null){var o=e.predicate;if(o!=null&&!r.some(function(a){return a==null}))return o(r,i)}},t.prototype.isBlank=function(e){return e==null||typeof e=="string"&&e.trim().length===0},t.prototype.hasInvalidInputs=function(){return!1},t.EMPTY="empty",t.BLANK="blank",t.NOT_BLANK="notBlank",t.EQUALS="equals",t.NOT_EQUAL="notEqual",t.LESS_THAN="lessThan",t.LESS_THAN_OR_EQUAL="lessThanOrEqual",t.GREATER_THAN="greaterThan",t.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",t.IN_RANGE="inRange",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.STARTS_WITH="startsWith",t.ENDS_WITH="endsWith",t}(Xp),xFe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ln=function(n){xFe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.setParams=function(e){n.prototype.setParams.call(this,e),this.scalarFilterParams=e},t.prototype.evaluateNullValue=function(e){switch(e){case t.EQUALS:case t.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case t.GREATER_THAN:case t.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case t.LESS_THAN:case t.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case t.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case t.BLANK:return!0;case t.NOT_BLANK:return!1}return!1},t.prototype.evaluateNonNullValue=function(e,r,i){var o=this.comparator(),a=e[0]!=null?o(e[0],r):0;switch(i.type){case t.EQUALS:return a===0;case t.NOT_EQUAL:return a!==0;case t.GREATER_THAN:return a>0;case t.GREATER_THAN_OR_EQUAL:return a>=0;case t.LESS_THAN:return a<0;case t.LESS_THAN_OR_EQUAL:return a<=0;case t.IN_RANGE:{var s=o(e[1],r);return this.scalarFilterParams.inRangeInclusive?a>=0&&s<=0:a>0&&s<0}case t.BLANK:return this.isBlank(r);case t.NOT_BLANK:return!this.isBlank(r);default:return console.warn('AG Grid: Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},t}(Zr),MZ=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),h1=function(){return h1=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},h1.apply(this,arguments)},bFe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},eU=1e3,tU=1/0,LZ=function(n){MZ(t,n);function t(e,r,i){var o=n.call(this,r,i)||this;return o.dateFilterParams=e,o}return t.prototype.conditionToString=function(e,r){var i=e.type,o=(r||{}).numberOfInputs,a=i==Zr.IN_RANGE||o===2,s=oa(e.dateFrom),l=oa(e.dateTo),u=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(a){var c=s!==null?wm(s,u):"null",d=l!==null?wm(l,u):"null";return"".concat(c,"-").concat(d)}return s!=null?wm(s,u):"".concat(i)},t.prototype.updateParams=function(e){n.prototype.updateParams.call(this,e),this.dateFilterParams=e.dateFilterParams},t}(aB),sB=function(n){MZ(t,n);function t(){var e=n.call(this,"dateFilter")||this;return e.eConditionPanelsFrom=[],e.eConditionPanelsTo=[],e.dateConditionFromComps=[],e.dateConditionToComps=[],e.minValidYear=eU,e.maxValidYear=tU,e.minValidDate=null,e.maxValidDate=null,e}return t.prototype.afterGuiAttached=function(e){n.prototype.afterGuiAttached.call(this,e),this.dateConditionFromComps[0].afterGuiAttached(e)},t.prototype.mapValuesFromModel=function(e){var r=e||{},i=r.dateFrom,o=r.dateTo,a=r.type;return[i&&oa(i)||null,o&&oa(o)||null].slice(0,this.getNumberOfInputs(a))},t.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},t.prototype.defaultComparator=function(e,r){var i=r;return r==null||i<e?-1:i>e?1:0},t.prototype.setParams=function(e){this.dateFilterParams=e,n.prototype.setParams.call(this,e);var r=function(i,o){if(e[i]!=null)if(isNaN(e[i]))console.warn("AG Grid: DateFilter ".concat(i," is not a number"));else return e[i]==null?o:Number(e[i]);return o};this.minValidYear=r("minValidYear",eU),this.maxValidYear=r("maxValidYear",tU),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:oa(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:oa(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&console.warn("AG Grid: DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new LZ(this.dateFilterParams,this.localeService,this.optionsFactory)},t.prototype.createDateCompWrapper=function(e){var r=this,i=new TZ(this.getContext(),this.userComponentFactory,{onDateChanged:function(){return r.onUiChanged()},filterParams:this.dateFilterParams},e);return this.addDestroyFunc(function(){return i.destroy()}),i},t.prototype.setElementValue=function(e,r){e.setDate(r)},t.prototype.setElementDisplayed=function(e,r){e.setDisplayed(r)},t.prototype.setElementDisabled=function(e,r){e.setDisabled(r)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueElement=function(){var e=document.createElement("div");return e.classList.add("ag-filter-body"),this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e},t.prototype.createFromToElement=function(e,r,i,o){var a=document.createElement("div");a.classList.add("ag-filter-".concat(o)),a.classList.add("ag-filter-date-".concat(o)),r.push(a),e.appendChild(a),i.push(this.createDateCompWrapper(a))},t.prototype.removeValueElements=function(e,r){this.removeDateComps(this.dateConditionFromComps,e,r),this.removeDateComps(this.dateConditionToComps,e,r),this.removeItems(this.eConditionPanelsFrom,e,r),this.removeItems(this.eConditionPanelsTo,e,r)},t.prototype.removeDateComps=function(e,r,i){var o=this.removeItems(e,r,i);o.forEach(function(a){return a.destroy()})},t.prototype.isValidDateValue=function(e){if(e===null)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0},t.prototype.isConditionUiComplete=function(e){var r=this;if(!n.prototype.isConditionUiComplete.call(this,e))return!1;var i=!0;return this.forEachInput(function(o,a,s,l){s!==e||!i||a>=l||(i=i&&r.isValidDateValue(o.getDate()))}),i},t.prototype.areSimpleModelsEqual=function(e,r){return e.dateFrom===r.dateFrom&&e.dateTo===r.dateTo&&e.type===r.type},t.prototype.getFilterType=function(){return"date"},t.prototype.createCondition=function(e){var r=this.getConditionType(e),i={},o=this.getValues(e);return o.length>0&&(i.dateFrom=Vs(o[0])),o.length>1&&(i.dateTo=Vs(o[1])),h1({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:r},i)},t.prototype.resetPlaceholder=function(){var e=this.localeService.getLocaleTextFunc(),r=this.translate("dateFormatOoo"),i=e("ariaFilterValue","Filter Value");this.forEachInput(function(o){o.setInputPlaceholder(r),o.setInputAriaLabel(i)})},t.prototype.getInputs=function(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]},t.prototype.getValues=function(e){var r=[];return this.forEachPositionInput(e,function(i,o,a,s){o<s&&r.push(i.getDate())}),r},t.prototype.translate=function(e){return e===Ln.LESS_THAN?n.prototype.translate.call(this,"before"):e===Ln.GREATER_THAN?n.prototype.translate.call(this,"after"):n.prototype.translate.call(this,e)},t.prototype.getModelAsString=function(e){var r;return(r=this.filterModelFormatter.getModelAsString(e))!==null&&r!==void 0?r:""},t.DEFAULT_FILTER_OPTIONS=[Ln.EQUALS,Ln.NOT_EQUAL,Ln.LESS_THAN,Ln.GREATER_THAN,Ln.IN_RANGE,Ln.BLANK,Ln.NOT_BLANK],bFe([O("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(Ln),EFe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),FZ=function(n){EFe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.isEventFromFloatingFilter=function(e){return e&&e.afterFloatingFilter},t.prototype.isEventFromDataChange=function(e){return e==null?void 0:e.afterDataChange},t.prototype.getLastType=function(){return this.lastType},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setLastTypeFromModel=function(e){if(!e){this.lastType=this.optionsFactory.getDefaultOption();return}var r=e.operator,i;if(r){var o=e;i=o.conditions[0]}else i=e;this.lastType=i.type},t.prototype.canWeEditAfterModelFromParentFilter=function(e){if(!e)return this.isTypeEditable(this.lastType);var r=e.operator;if(r)return!1;var i=e;return this.isTypeEditable(i.type)},t.prototype.init=function(e){this.setSimpleParams(e,!1)},t.prototype.setSimpleParams=function(e,r){r===void 0&&(r=!0),this.optionsFactory=new PZ,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),r||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;var i=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(i)},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){this.setSimpleParams(e)},t.prototype.doesFilterHaveSingleInput=function(e){var r=this.optionsFactory.getCustomOption(e),i=(r||{}).numberOfInputs;return i==null||i==1},t.prototype.isTypeEditable=function(e){var r=[Zr.IN_RANGE,Zr.EMPTY,Zr.BLANK,Zr.NOT_BLANK];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&r.indexOf(e)<0},t}(Ce),OFe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),DM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},RFe=function(n){OFe(t,n);function t(){return n.call(this,`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>
                <div ref="eDateWrapper" style="display: flex;"></div>
            </div>`)||this}return t.prototype.getDefaultFilterOptions=function(){return sB.DEFAULT_FILTER_OPTIONS},t.prototype.init=function(e){n.prototype.init.call(this,e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new LZ(this.filterParams,this.localeService,this.optionsFactory);var r=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(r("ariaDateFilterInput","Date Filter Input"))},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){n.prototype.refresh.call(this,e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())},t.prototype.updateCompOnModelChange=function(e){var r=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(r),r){if(e){var i=e;this.dateComp.setDate(oa(i.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)},t.prototype.setEditable=function(e){$t(this.eDateWrapper,e),$t(this.eReadOnlyText.getGui(),!e)},t.prototype.onParentModelChanged=function(e,r){this.isEventFromFloatingFilter(r)||this.isEventFromDataChange(r)||(n.prototype.setLastTypeFromModel.call(this,e),this.updateCompOnModelChange(e))},t.prototype.onDateChanged=function(){var e=this,r=this.dateComp.getDate(),i=Vs(r);this.params.parentFilterInstance(function(o){if(o){var a=oa(i);o.onFloatingFilterChanged(e.getLastType()||null,a)}})},t.prototype.getDateComponentParams=function(){var e=Xp.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:Ja(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}},t.prototype.createDateComponent=function(){var e=this;this.dateComp=new TZ(this.getContext(),this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper),this.addDestroyFunc(function(){return e.dateComp.destroy()})},t.prototype.updateDateComponent=function(){var e=this.gridOptionsService.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},DM([O("userComponentFactory")],t.prototype,"userComponentFactory",void 0),DM([U("eReadOnlyText")],t.prototype,"eReadOnlyText",void 0),DM([U("eDateWrapper")],t.prototype,"eDateWrapper",void 0),t}(FZ),TFe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),PFe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},DFe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},AFe=function(n){TFe(t,n);function t(){return n.call(this,`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>
            </div>`)||this}return t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(e){var r=this;this.params=e,this.setParams(e);var i=this.gridOptionsService.getDocument(),o=this.eDateInput.getInputElement();this.addManagedListener(o,"mousedown",function(){r.eDateInput.isDisabled()||r.usingSafariDatePicker||o.focus()}),this.addManagedListener(o,"input",function(a){a.target===i.activeElement&&(r.eDateInput.isDisabled()||r.params.onDateChanged())})},t.prototype.setParams=function(e){var r=this.eDateInput.getInputElement(),i=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=i&&Zu(),r.type=i?"date":"text";var o=e.filterParams||{},a=o.minValidYear,s=o.maxValidYear,l=o.minValidDate,u=o.maxValidDate;if(l&&a&&at("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),u&&s&&at("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),l&&u){var c=DFe([l,u].map(function(h){return h instanceof Date?h:oa(h)}),2),d=c[0],p=c[1];d&&p&&d.getTime()>p.getTime()&&at("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}l?l instanceof Date?r.min=wm(l):r.min=l:a&&(r.min="".concat(a,"-01-01")),u?u instanceof Date?r.max=wm(u):r.max=u:s&&(r.max="".concat(s,"-12-31"))},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){this.params=e,this.setParams(e)},t.prototype.getDate=function(){return oa(this.eDateInput.getValue())},t.prototype.setDate=function(e){this.eDateInput.setValue(Vs(e,!1))},t.prototype.setInputPlaceholder=function(e){this.eDateInput.setInputPlaceholder(e)},t.prototype.setDisabled=function(e){this.eDateInput.setDisabled(e)},t.prototype.afterGuiAttached=function(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()},t.prototype.shouldUseBrowserDatePicker=function(e){return e.filterParams&&e.filterParams.browserDatePicker!=null?e.filterParams.browserDatePicker:nD()||jV()||Zu()&&BV()>=14.1},PFe([U("eDateInput")],t.prototype,"eDateInput",void 0),t}(Ce),MFe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),oc=function(n){MFe(t,n);function t(e,r,i){return r===void 0&&(r="ag-text-field"),i===void 0&&(i="text"),n.call(this,e,r,i)||this}return t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},t.prototype.setValue=function(e,r){return this.eInput.value!==e&&(this.eInput.value=ye(e)?e:""),n.prototype.setValue.call(this,e,r)},t.prototype.setStartValue=function(e){this.setValue(e,!0)},t.prototype.preventDisallowedCharacters=function(){var e=new RegExp("[".concat(this.config.allowedCharPattern,"]")),r=function(i){oD(i)&&i.key&&!e.test(i.key)&&i.preventDefault()};this.addManagedListener(this.eInput,"keydown",r),this.addManagedListener(this.eInput,"paste",function(i){var o,a=(o=i.clipboardData)===null||o===void 0?void 0:o.getData("text");a&&a.split("").some(function(s){return!e.test(s)})&&i.preventDefault()})},t}(gp),LFe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),x_=function(n){LFe(t,n);function t(e){return n.call(this,e,"ag-number-field","number")||this}return t.prototype.postConstruct=function(){var e=this;n.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var r=parseFloat(e.eInput.value),i=isNaN(r)?"":e.normalizeValue(r.toString());e.value!==i&&e.setValue(i)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"},t.prototype.onWheel=function(e){document.activeElement===this.eInput&&e.preventDefault()},t.prototype.normalizeValue=function(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));var r=parseFloat(e);return this.min!=null&&r<this.min?e=this.min.toString():this.max!=null&&r>this.max&&(e=this.max.toString()),e},t.prototype.adjustPrecision=function(e,r){if(this.precision==null)return e;if(r){var i=parseFloat(e).toFixed(this.precision);return parseFloat(i).toString()}var o=String(e).split(".");if(o.length>1){if(o[1].length<=this.precision)return e;if(this.precision>0)return"".concat(o[0],".").concat(o[1].slice(0,this.precision))}return o[0]},t.prototype.setMin=function(e){return this.min===e?this:(this.min=e,Uu(this.eInput,"min",e),this)},t.prototype.setMax=function(e){return this.max===e?this:(this.max=e,Uu(this.eInput,"max",e),this)},t.prototype.setPrecision=function(e){return this.precision=e,this},t.prototype.setStep=function(e){return this.step===e?this:(this.step=e,Uu(this.eInput,"step",e),this)},t.prototype.setValue=function(e,r){var i=this;return this.setValueOrInputValue(function(o){return n.prototype.setValue.call(i,o,r)},function(){return i},e)},t.prototype.setStartValue=function(e){var r=this;return this.setValueOrInputValue(function(i){return n.prototype.setValue.call(r,i,!0)},function(i){r.eInput.value=i},e)},t.prototype.setValueOrInputValue=function(e,r,i){if(ye(i)){var o=this.isScientificNotation(i);if(o&&this.eInput.validity.valid)return e(i);if(!o){i=this.adjustPrecision(i);var a=this.normalizeValue(i);o=i!=a}if(o)return r(i)}return e(i)},t.prototype.getValue=function(){if(this.eInput.validity.valid){var e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):n.prototype.getValue.call(this)}},t.prototype.isScientificNotation=function(e){return typeof e=="string"&&e.includes("e")},t}(oc),IZ=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),NZ=function(n){IZ(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.conditionToString=function(e,r){var i=(r||{}).numberOfInputs,o=e.type==Zr.IN_RANGE||i===2;return o?"".concat(this.formatValue(e.filter),"-").concat(this.formatValue(e.filterTo)):e.filter!=null?this.formatValue(e.filter):"".concat(e.type)},t}(aB);function f1(n){var t=(n??{}).allowedCharPattern;return t??null}var lB=function(n){IZ(t,n);function t(){var e=n.call(this,"numberFilter")||this;return e.eValuesFrom=[],e.eValuesTo=[],e}return t.prototype.refresh=function(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:n.prototype.refresh.call(this,e)},t.prototype.mapValuesFromModel=function(e){var r=e||{},i=r.filter,o=r.filterTo,a=r.type;return[this.processValue(i),this.processValue(o)].slice(0,this.getNumberOfInputs(a))},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.comparator=function(){return function(e,r){return e===r?0:e<r?1:-1}},t.prototype.setParams=function(e){this.numberFilterParams=e,n.prototype.setParams.call(this,e),this.filterModelFormatter=new NZ(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.setElementValue=function(e,r,i){var o=!i&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(r??null):r;n.prototype.setElementValue.call(this,e,o)},t.prototype.createValueElement=function(){var e=f1(this.numberFilterParams),r=document.createElement("div");return r.classList.add("ag-filter-body"),ri(r,"presentation"),this.createFromToElement(r,this.eValuesFrom,"from",e),this.createFromToElement(r,this.eValuesTo,"to",e),r},t.prototype.createFromToElement=function(e,r,i,o){var a=this.createManagedBean(o?new oc({allowedCharPattern:o}):new x_);a.addCssClass("ag-filter-".concat(i)),a.addCssClass("ag-filter-filter"),r.push(a),e.appendChild(a.getGui())},t.prototype.removeValueElements=function(e,r){this.removeComponents(this.eValuesFrom,e,r),this.removeComponents(this.eValuesTo,e,r)},t.prototype.getValues=function(e){var r=this,i=[];return this.forEachPositionInput(e,function(o,a,s,l){a<l&&i.push(r.processValue(r.stringToFloat(o.getValue())))}),i},t.prototype.areSimpleModelsEqual=function(e,r){return e.filter===r.filter&&e.filterTo===r.filterTo&&e.type===r.type},t.prototype.getFilterType=function(){return"number"},t.prototype.processValue=function(e){return e==null||isNaN(e)?null:e},t.prototype.stringToFloat=function(e){if(typeof e=="number")return e;var r=Wu(e);return r!=null&&r.trim()===""&&(r=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(r):r==null||r.trim()==="-"?null:parseFloat(r)},t.prototype.createCondition=function(e){var r=this.getConditionType(e),i={filterType:this.getFilterType(),type:r},o=this.getValues(e);return o.length>0&&(i.filter=o[0]),o.length>1&&(i.filterTo=o[1]),i},t.prototype.getInputs=function(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]},t.prototype.getModelAsString=function(e){var r;return(r=this.filterModelFormatter.getModelAsString(e))!==null&&r!==void 0?r:""},t.prototype.hasInvalidInputs=function(){var e=!1;return this.forEachInput(function(r){if(!r.getInputElement().validity.valid){e=!0;return}}),e},t.DEFAULT_FILTER_OPTIONS=[Ln.EQUALS,Ln.NOT_EQUAL,Ln.GREATER_THAN,Ln.GREATER_THAN_OR_EQUAL,Ln.LESS_THAN,Ln.LESS_THAN_OR_EQUAL,Ln.IN_RANGE,Ln.BLANK,Ln.NOT_BLANK],t}(Ln),kZ=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),mR=function(){return mR=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},mR.apply(this,arguments)},GZ=function(n){kZ(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.conditionToString=function(e,r){var i=(r||{}).numberOfInputs,o=e.type==Zr.IN_RANGE||i===2;return o?"".concat(e.filter,"-").concat(e.filterTo):e.filter!=null?"".concat(e.filter):"".concat(e.type)},t}(aB),ty=function(n){kZ(t,n);function t(){var e=n.call(this,"textFilter")||this;return e.eValuesFrom=[],e.eValuesTo=[],e}return t.trimInput=function(e){var r=e&&e.trim();return r===""?e:r},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.setParams=function(e){this.textFilterParams=e,n.prototype.setParams.call(this,e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?t.DEFAULT_FORMATTER:t.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new GZ(this.localeService,this.optionsFactory)},t.prototype.getTextMatcher=function(){var e=this.textFilterParams.textCustomComparator;return e?(F.warnOnce("textCustomComparator is deprecated, use textMatcher instead."),function(r){var i=r.filterOption,o=r.value,a=r.filterText;return e(i,o,a)}):this.textFilterParams.textMatcher||t.DEFAULT_MATCHER},t.prototype.createCondition=function(e){var r=this.getConditionType(e),i={filterType:this.getFilterType(),type:r},o=this.getValuesWithSideEffects(e,!0);return o.length>0&&(i.filter=o[0]),o.length>1&&(i.filterTo=o[1]),i},t.prototype.getFilterType=function(){return"text"},t.prototype.areSimpleModelsEqual=function(e,r){return e.filter===r.filter&&e.filterTo===r.filterTo&&e.type===r.type},t.prototype.getInputs=function(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]},t.prototype.getValues=function(e){return this.getValuesWithSideEffects(e,!1)},t.prototype.getValuesWithSideEffects=function(e,r){var i=this,o=[];return this.forEachPositionInput(e,function(a,s,l,u){var c;if(s<u){var d=Wu(a.getValue());r&&i.textFilterParams.trimInput&&(d=(c=t.trimInput(d))!==null&&c!==void 0?c:null,a.setValue(d,!0)),o.push(d)}}),o},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueElement=function(){var e=document.createElement("div");return e.classList.add("ag-filter-body"),ri(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e},t.prototype.createFromToElement=function(e,r,i){var o=this.createManagedBean(new oc);o.addCssClass("ag-filter-".concat(i)),o.addCssClass("ag-filter-filter"),r.push(o),e.appendChild(o.getGui())},t.prototype.removeValueElements=function(e,r){this.removeComponents(this.eValuesFrom,e,r),this.removeComponents(this.eValuesTo,e,r)},t.prototype.mapValuesFromModel=function(e){var r=e||{},i=r.filter,o=r.filterTo,a=r.type;return[i||null,o||null].slice(0,this.getNumberOfInputs(a))},t.prototype.evaluateNullValue=function(e){var r=[Zr.NOT_EQUAL,Zr.NOT_CONTAINS,Zr.BLANK];return e?r.indexOf(e)>=0:!1},t.prototype.evaluateNonNullValue=function(e,r,i,o){var a=this,s=e.map(function(m){return a.formatter(m)})||[],l=this.formatter(r),u=this.textFilterParams,c=u.api,d=u.colDef,p=u.column,h=u.columnApi,f=u.context,v=u.textFormatter;if(i.type===Zr.BLANK)return this.isBlank(r);if(i.type===Zr.NOT_BLANK)return!this.isBlank(r);var g={api:c,colDef:d,column:p,columnApi:h,context:f,node:o.node,data:o.data,filterOption:i.type,value:l,textFormatter:v};return s.some(function(m){return a.matcher(mR(mR({},g),{filterText:m}))})},t.prototype.getModelAsString=function(e){var r;return(r=this.filterModelFormatter.getModelAsString(e))!==null&&r!==void 0?r:""},t.DEFAULT_FILTER_OPTIONS=[Zr.CONTAINS,Zr.NOT_CONTAINS,Zr.EQUALS,Zr.NOT_EQUAL,Zr.STARTS_WITH,Zr.ENDS_WITH,Zr.BLANK,Zr.NOT_BLANK],t.DEFAULT_FORMATTER=function(e){return e},t.DEFAULT_LOWERCASE_FORMATTER=function(e){return e==null?null:e.toString().toLowerCase()},t.DEFAULT_MATCHER=function(e){var r=e.filterOption,i=e.value,o=e.filterText;if(o==null)return!1;switch(r){case t.CONTAINS:return i.indexOf(o)>=0;case t.NOT_CONTAINS:return i.indexOf(o)<0;case t.EQUALS:return i===o;case t.NOT_EQUAL:return i!=o;case t.STARTS_WITH:return i.indexOf(o)===0;case t.ENDS_WITH:var a=i.lastIndexOf(o);return a>=0&&a===i.length-o.length;default:return!1}},t}(Zr),VZ=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),AM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},BZ=function(n){VZ(t,n);function t(e){var r=n.call(this)||this;return r.params=e,r.valueChangedListener=function(){},r}return t.prototype.setupGui=function(e){var r=this,i;this.eFloatingFilterTextInput=this.createManagedBean(new oc((i=this.params)===null||i===void 0?void 0:i.config));var o=this.eFloatingFilterTextInput.getGui();e.appendChild(o),this.addManagedListener(o,"input",function(a){return r.valueChangedListener(a)}),this.addManagedListener(o,"keydown",function(a){return r.valueChangedListener(a)})},t.prototype.setEditable=function(e){this.eFloatingFilterTextInput.setDisabled(!e)},t.prototype.setAutoComplete=function(e){this.eFloatingFilterTextInput.setAutoComplete(e)},t.prototype.getValue=function(){return this.eFloatingFilterTextInput.getValue()},t.prototype.setValue=function(e,r){this.eFloatingFilterTextInput.setValue(e,r)},t.prototype.setValueChangedListener=function(e){this.valueChangedListener=e},t.prototype.setParams=function(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)},t.prototype.setAriaLabel=function(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)},t}(re),jZ=function(n){VZ(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>
        `)},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.onParentModelChanged=function(e,r){this.isEventFromFloatingFilter(r)||this.isEventFromDataChange(r)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))},t.prototype.init=function(e){this.setupFloatingFilterInputService(e),n.prototype.init.call(this,e),this.setTextInputParams(e)},t.prototype.setupFloatingFilterInputService=function(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)},t.prototype.setTextInputParams=function(e){var r;this.params=e;var i=(r=e.browserAutoComplete)!==null&&r!==void 0?r:!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:i}),this.applyActive=Xp.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){var o=Xp.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),a=Ja(this.syncUpWithParentFilter.bind(this),o);this.floatingFilterInputService.setValueChangedListener(a)}},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){n.prototype.refresh.call(this,e),this.setTextInputParams(e)},t.prototype.recreateFloatingFilterInputService=function(e){var r=this.floatingFilterInputService.getValue();gi(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(r,!0)},t.prototype.getAriaLabel=function(e){var r=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();return"".concat(r," ").concat(i("ariaFilterInput","Filter Input"))},t.prototype.syncUpWithParentFilter=function(e){var r=this,i=e.key===K.ENTER;if(!(this.applyActive&&!i)){var o=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(o=ty.trimInput(o),this.floatingFilterInputService.setValue(o,!0)),this.params.parentFilterInstance(function(a){a&&a.onFloatingFilterChanged(r.getLastType()||null,o||null)})}},t.prototype.setEditable=function(e){this.floatingFilterInputService.setEditable(e)},AM([O("columnModel")],t.prototype,"columnModel",void 0),AM([U("eFloatingFilterInputContainer")],t.prototype,"eFloatingFilterInputContainer",void 0),AM([q],t.prototype,"postConstruct",null),t}(FZ),HZ=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),FFe=function(n){HZ(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.valueChangedListener=function(){},e.numberInputActive=!0,e}return t.prototype.setupGui=function(e){var r=this;this.eFloatingFilterNumberInput=this.createManagedBean(new x_),this.eFloatingFilterTextInput=this.createManagedBean(new oc),this.eFloatingFilterTextInput.setDisabled(!0);var i=this.eFloatingFilterNumberInput.getGui(),o=this.eFloatingFilterTextInput.getGui();e.appendChild(i),e.appendChild(o),this.setupListeners(i,function(a){return r.valueChangedListener(a)}),this.setupListeners(o,function(a){return r.valueChangedListener(a)})},t.prototype.setEditable=function(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)},t.prototype.setAutoComplete=function(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)},t.prototype.getValue=function(){return this.getActiveInputElement().getValue()},t.prototype.setValue=function(e,r){this.getActiveInputElement().setValue(e,r)},t.prototype.getActiveInputElement=function(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput},t.prototype.setValueChangedListener=function(e){this.valueChangedListener=e},t.prototype.setupListeners=function(e,r){this.addManagedListener(e,"input",r),this.addManagedListener(e,"keydown",r)},t.prototype.setParams=function(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)},t.prototype.setAriaLabel=function(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)},t}(re),IFe=function(n){HZ(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(e){var r;n.prototype.init.call(this,e),this.filterModelFormatter=new NZ(this.localeService,this.optionsFactory,(r=e.filterParams)===null||r===void 0?void 0:r.numberFormatter)},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){var r=f1(e.filterParams);r!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),n.prototype.refresh.call(this,e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},t.prototype.getDefaultFilterOptions=function(){return lB.DEFAULT_FILTER_OPTIONS},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},t.prototype.createFloatingFilterInputService=function(e){return this.allowedCharPattern=f1(e.filterParams),this.allowedCharPattern?this.createManagedBean(new BZ({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new FFe)},t}(jZ),NFe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$Z=function(n){NFe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(e){n.prototype.init.call(this,e),this.filterModelFormatter=new GZ(this.localeService,this.optionsFactory)},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){n.prototype.refresh.call(this,e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},t.prototype.getDefaultFilterOptions=function(){return ty.DEFAULT_FILTER_OPTIONS},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},t.prototype.createFloatingFilterInputService=function(){return this.createManagedBean(new BZ)},t}(jZ),kn=function(){function n(t,e){e===void 0&&(e=!1);var r=this;this.destroyFuncs=[],this.touching=!1,this.eventService=new Vl,this.eElement=t,this.preventMouseClick=e;var i=this.onTouchStart.bind(this),o=this.onTouchMove.bind(this),a=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:!0}),this.eElement.addEventListener("touchmove",o,{passive:!0}),this.eElement.addEventListener("touchend",a,{passive:!1}),this.destroyFuncs.push(function(){r.eElement.removeEventListener("touchstart",i,{passive:!0}),r.eElement.removeEventListener("touchmove",o,{passive:!0}),r.eElement.removeEventListener("touchend",a,{passive:!1})})}return n.prototype.getActiveTouch=function(t){for(var e=0;e<t.length;e++){var r=t[e].identifier===this.touchStart.identifier;if(r)return t[e]}return null},n.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},n.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},n.prototype.onTouchStart=function(t){var e=this;if(!this.touching){this.touchStart=t.touches[0],this.touching=!0,this.moved=!1;var r=this.touchStart;window.setTimeout(function(){var i=e.touchStart===r;if(e.touching&&i&&!e.moved){e.moved=!0;var o={type:n.EVENT_LONG_TAP,touchStart:e.touchStart,touchEvent:t};e.eventService.dispatchEvent(o)}},500)}},n.prototype.onTouchMove=function(t){if(this.touching){var e=this.getActiveTouch(t.touches);if(e){var r=!rB(e,this.touchStart,4);r&&(this.moved=!0)}}},n.prototype.onTouchEnd=function(t){if(this.touching){if(!this.moved){var e={type:n.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(e),this.checkForDoubleTap()}this.preventMouseClick&&t.cancelable&&t.preventDefault(),this.touching=!1}},n.prototype.checkForDoubleTap=function(){var t=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0){var e=t-this.lastTapTime;if(e>n.DOUBLE_TAP_MILLIS){var r={type:n.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(r),this.lastTapTime=null}else this.lastTapTime=t}else this.lastTapTime=t},n.prototype.destroy=function(){this.destroyFuncs.forEach(function(t){return t()})},n.EVENT_TAP="tap",n.EVENT_DOUBLE_TAP="doubleTap",n.EVENT_LONG_TAP="longTap",n.DOUBLE_TAP_MILLIS=500,n}(),kFe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Mh=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},uD=function(n){kFe(t,n);function t(e){var r=n.call(this)||this;return e||r.setTemplate(t.TEMPLATE),r}return t.prototype.attachCustomElements=function(e,r,i,o,a){this.eSortOrder=e,this.eSortAsc=r,this.eSortDesc=i,this.eSortMixed=o,this.eSortNone=a},t.prototype.setupSort=function(e,r){var i=this;r===void 0&&(r=!1),this.column=e,this.suppressOrder=r,this.setupMultiSortIndicator(),this.column.isSortable()&&(this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addManagedPropertyListener("unSortIcon",function(){return i.updateIcons()}),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,function(){return i.updateIcons()}),this.addManagedListener(this.eventService,M.EVENT_SORT_CHANGED,function(){return i.onSortChanged()}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return i.onSortChanged()}),this.onSortChanged())},t.prototype.addInIcon=function(e,r,i){if(r!=null){var o=jn(e,this.gridOptionsService,i);o&&r.appendChild(o)}},t.prototype.onSortChanged=function(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()},t.prototype.updateIcons=function(){var e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){var r=e==="asc";$t(this.eSortAsc,r,{skipAriaHidden:!0})}if(this.eSortDesc){var i=e==="desc";$t(this.eSortDesc,i,{skipAriaHidden:!0})}if(this.eSortNone){var o=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.get("unSortIcon"),a=e==null;$t(this.eSortNone,!o&&a,{skipAriaHidden:!0})}},t.prototype.setupMultiSortIndicator=function(){var e=this;this.addInIcon("sortUnSort",this.eSortMixed,this.column);var r=this.column.getColDef().showRowGroup,i=this.gridOptionsService.isColumnsSortingCoupledToGroup();i&&r&&(this.addManagedListener(this.eventService,M.EVENT_SORT_CHANGED,function(){return e.updateMultiSortIndicator()}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.updateMultiSortIndicator()}),this.updateMultiSortIndicator())},t.prototype.updateMultiSortIndicator=function(){if(this.eSortMixed){var e=this.sortController.getDisplaySortForColumn(this.column)==="mixed";$t(this.eSortMixed,e,{skipAriaHidden:!0})}},t.prototype.updateSortOrder=function(){var e=this,r;if(this.eSortOrder){var i=this.sortController.getColumnsWithSortingOrdered(),o=(r=this.sortController.getDisplaySortIndexForColumn(this.column))!==null&&r!==void 0?r:-1,a=i.some(function(l){var u;return(u=e.sortController.getDisplaySortIndexForColumn(l))!==null&&u!==void 0?u:-1>=1}),s=o>=0&&a;$t(this.eSortOrder,s,{skipAriaHidden:!0}),o>=0?this.eSortOrder.textContent=(o+1).toString():gi(this.eSortOrder)}},t.TEMPLATE=`<span class="ag-sort-indicator-container">
            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>
            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>
        </span>`,Mh([U("eSortOrder")],t.prototype,"eSortOrder",void 0),Mh([U("eSortAsc")],t.prototype,"eSortAsc",void 0),Mh([U("eSortDesc")],t.prototype,"eSortDesc",void 0),Mh([U("eSortMixed")],t.prototype,"eSortMixed",void 0),Mh([U("eSortNone")],t.prototype,"eSortNone",void 0),Mh([O("columnModel")],t.prototype,"columnModel",void 0),Mh([O("sortController")],t.prototype,"sortController",void 0),t}(Ce),GFe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Vo=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},v1=function(n){GFe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.lastMovingChanged=0,e}return t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.refresh=function(e){return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide?!1:(this.setDisplayName(e),!0)},t.prototype.workOutTemplate=function(){var e,r=(e=this.params.template)!==null&&e!==void 0?e:t.TEMPLATE;return r=r&&r.trim?r.trim():r,r},t.prototype.init=function(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)},t.prototype.setDisplayName=function(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;var r=Jn(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=r)}},t.prototype.addInIcon=function(e,r,i){if(r!=null){var o=jn(e,this.gridOptionsService,i);o&&r.appendChild(o)}},t.prototype.setupTap=function(){var e=this,r=this.gridOptionsService;if(!r.get("suppressTouch")){var i=new kn(this.getGui(),!0),o=this.shouldSuppressMenuHide(),a=o&&ye(this.eMenu),s=a?new kn(this.eMenu,!0):i;if(this.params.enableMenu){var l=a?"EVENT_TAP":"EVENT_LONG_TAP",u=function(p){return e.params.showColumnMenuAfterMouseClick(p.touchStart)};this.addManagedListener(s,kn[l],u)}if(this.params.enableSorting){var c=function(p){var h,f,v=p.touchStart.target;o&&(!((h=e.eMenu)===null||h===void 0)&&h.contains(v)||!((f=e.eFilterButton)===null||f===void 0)&&f.contains(v))||e.sortController.progressSort(e.params.column,!1,"uiColumnSorted")};this.addManagedListener(i,kn.EVENT_TAP,c)}if(this.params.enableFilterButton){var d=new kn(this.eFilterButton,!0);this.addManagedListener(d,"tap",function(){return e.params.showFilter(e.eFilterButton)}),this.addDestroyFunc(function(){return d.destroy()})}this.addDestroyFunc(function(){return i.destroy()}),a&&this.addDestroyFunc(function(){return s.destroy()})}},t.prototype.workOutShowMenu=function(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()},t.prototype.shouldSuppressMenuHide=function(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()},t.prototype.setMenu=function(){var e=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Lu(this.eMenu),this.eMenu=void 0;return}var r=this.menuService.isLegacyMenuEnabled();this.addInIcon(r?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!r),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedListener(this.eMenu,"click",function(){return e.params.showColumnMenu(e.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}},t.prototype.onMenuKeyboardShortcut=function(e){var r,i,o,a,s=this.params.column,l=this.menuService.isLegacyMenuEnabled();if(e&&!l){if(this.menuService.isFilterMenuInHeaderEnabled(s))return this.params.showFilter((i=(r=this.eFilterButton)!==null&&r!==void 0?r:this.eMenu)!==null&&i!==void 0?i:this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu((a=(o=this.eMenu)!==null&&o!==void 0?o:this.eFilterButton)!==null&&a!==void 0?a:this.getGui()),!0;return!1},t.prototype.workOutSort=function(){return this.params.enableSorting},t.prototype.setupSort=function(){var e=this;if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new uD(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!!this.currentSort){this.addManagedListener(this.params.column,Rt.EVENT_MOVING_CHANGED,function(){e.lastMovingChanged=new Date().getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(i){var o=e.params.column.isMoving(),a=new Date().getTime(),s=a-e.lastMovingChanged<50,l=o||s;if(!l){var u=e.gridOptionsService.get("multiSortKey")==="ctrl",c=u?i.ctrlKey||i.metaKey:i.shiftKey;e.params.progressSort(c)}});var r=function(){if(e.addOrRemoveCssClass("ag-header-cell-sorted-asc",e.params.column.isSortAscending()),e.addOrRemoveCssClass("ag-header-cell-sorted-desc",e.params.column.isSortDescending()),e.addOrRemoveCssClass("ag-header-cell-sorted-none",e.params.column.isSortNone()),e.params.column.getColDef().showRowGroup){var i=e.columnModel.getSourceColumnsForGroupColumn(e.params.column),o=i==null?void 0:i.every(function(s){return e.params.column.getSort()==s.getSort()}),a=!o;e.addOrRemoveCssClass("ag-header-cell-sorted-mixed",a)}};this.addManagedListener(this.eventService,M.EVENT_SORT_CHANGED,r),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,r)}},t.prototype.setupFilterIcon=function(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))},t.prototype.setupFilterButton=function(){var e=this;if(this.eFilterButton){var r=this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this));r?this.addManagedListener(this.eFilterButton,"click",function(){return e.params.showFilter(e.eFilterButton)}):this.eFilterButton=void 0}},t.prototype.configureFilter=function(e,r,i){if(!e)return Lu(r),!1;var o=this.params.column;return this.addInIcon("filter",r,o),this.addManagedListener(o,Rt.EVENT_FILTER_CHANGED,i),i(),!0},t.prototype.onFilterChangedIcon=function(){var e=this.params.column.isFilterActive();$t(this.eFilter,e,{skipAriaHidden:!0})},t.prototype.onFilterChangedButton=function(){var e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)},t.prototype.getAnchorElementForMenu=function(e){var r,i,o,a;return e?(i=(r=this.eFilterButton)!==null&&r!==void 0?r:this.eMenu)!==null&&i!==void 0?i:this.getGui():(a=(o=this.eMenu)!==null&&o!==void 0?o:this.eFilterButton)!==null&&a!==void 0?a:this.getGui()},t.TEMPLATE=`<div class="ag-cell-label-container" role="presentation">
            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
            <span ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
            <div ref="eLabel" class="ag-header-cell-label" role="presentation">
                <span ref="eText" class="ag-header-cell-text"></span>
                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>
            </div>
        </div>`,Vo([O("sortController")],t.prototype,"sortController",void 0),Vo([O("menuService")],t.prototype,"menuService",void 0),Vo([O("columnModel")],t.prototype,"columnModel",void 0),Vo([U("eFilter")],t.prototype,"eFilter",void 0),Vo([U("eFilterButton")],t.prototype,"eFilterButton",void 0),Vo([U("eSortIndicator")],t.prototype,"eSortIndicator",void 0),Vo([U("eMenu")],t.prototype,"eMenu",void 0),Vo([U("eLabel")],t.prototype,"eLabel",void 0),Vo([U("eText")],t.prototype,"eText",void 0),Vo([U("eSortOrder")],t.prototype,"eSortOrder",void 0),Vo([U("eSortAsc")],t.prototype,"eSortAsc",void 0),Vo([U("eSortDesc")],t.prototype,"eSortDesc",void 0),Vo([U("eSortMixed")],t.prototype,"eSortMixed",void 0),Vo([U("eSortNone")],t.prototype,"eSortNone",void 0),t}(Ce),VFe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),MM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},BFe=function(n){VFe(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},t.prototype.checkWarnings=function(){var e=this.params;e.template&&at("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")},t.prototype.setupExpandIcons=function(){var e=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var r=function(a){if(!Rl(a)){var s=!e.params.columnGroup.isExpanded();e.columnModel.setColumnGroupOpened(e.params.columnGroup.getProvidedColumnGroup(),s,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,r),this.addTouchAndClickListeners(this.eOpenIcon,r);var i=function(a){Al(a)};this.addManagedListener(this.eCloseIcon,"dblclick",i),this.addManagedListener(this.eOpenIcon,"dblclick",i),this.addManagedListener(this.getGui(),"dblclick",r),this.updateIconVisibility();var o=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(o,er.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(o,er.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},t.prototype.addTouchAndClickListeners=function(e,r){var i=new kn(e,!0);this.addManagedListener(i,kn.EVENT_TAP,r),this.addDestroyFunc(function(){return i.destroy()}),this.addManagedListener(e,"click",r)},t.prototype.updateIconVisibility=function(){var e=this.params.columnGroup;if(e.isExpandable()){var r=this.params.columnGroup.isExpanded();$t(this.eOpenIcon,r),$t(this.eCloseIcon,!r)}else $t(this.eOpenIcon,!1),$t(this.eCloseIcon,!1)},t.prototype.addInIcon=function(e,r){var i=jn(e,this.gridOptionsService,null);i&&this.getRefElement(r).appendChild(i)},t.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable()){$t(this.eOpenIcon,!1),$t(this.eCloseIcon,!1);return}},t.prototype.setupLabel=function(){var e,r=this.params,i=r.displayName,o=r.columnGroup;if(ye(i)){var a=Jn(i,!0);this.getRefElement("agLabel").textContent=a}this.addOrRemoveCssClass("ag-sticky-label",!(!((e=o.getColGroupDef())===null||e===void 0)&&e.suppressStickyLabel))},t.TEMPLATE=`<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">
            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`,MM([O("columnModel")],t.prototype,"columnModel",void 0),MM([U("agOpened")],t.prototype,"eOpenIcon",void 0),MM([U("agClosed")],t.prototype,"eCloseIcon",void 0),t}(Ce),jFe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),gd=function(n){jFe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.isPopup=function(){return!0},t.prototype.setParentComponent=function(e){e.addCssClass("ag-has-popup"),n.prototype.setParentComponent.call(this,e)},t.prototype.destroy=function(){var e=this.parentComponent,r=e&&e.isAlive();r&&e.getGui().classList.remove("ag-has-popup"),n.prototype.destroy.call(this)},t}(Ce),HFe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$Fe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},WZ=function(n){HFe(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.init=function(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),ye(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()},t.prototype.onKeyDown=function(e){var r=e.key;(r===K.LEFT||r===K.UP||r===K.RIGHT||r===K.DOWN||e.shiftKey&&r===K.ENTER)&&e.stopPropagation()},t.prototype.afterGuiAttached=function(){var e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},t.prototype.getValue=function(){var e=this.eTextArea.getValue();return!ye(e)&&!ye(this.params.value)?this.params.value:this.params.parseValue(e)},t.TEMPLATE=`<div class="ag-large-text">
            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,$Fe([U("eTextArea")],t.prototype,"eTextArea",void 0),t}(gd),WFe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),rU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},UZ=function(n){WFe(t,n);function t(){var e=n.call(this,`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" ref="eSelect"></ag-select>
            </div>`)||this;return e.startedByEnter=!1,e}return t.prototype.init=function(e){this.focusAfterAttached=e.cellStartedEdit;var r=this,i=r.eSelect,o=r.valueFormatterService,a=r.gridOptionsService,s=e.values,l=e.value,u=e.eventKey;if(pt(s)){console.warn("AG Grid: no values found for select cellEditor");return}this.startedByEnter=u!=null?u===K.ENTER:!1;var c=!1;s.forEach(function(f){var v={value:f},g=o.formatValue(e.column,null,f),m=g!=null;v.text=m?g:f,i.addOption(v),c=c||l===f}),c?i.setValue(e.value,!0):e.values.length&&i.setValue(e.values[0],!0);var d=e.valueListGap,p=e.valueListMaxWidth,h=e.valueListMaxHeight;d!=null&&i.setPickerGap(d),h!=null&&i.setPickerMaxHeight(h),p!=null&&i.setPickerMaxWidth(p),a.get("editType")!=="fullRow"&&this.addManagedListener(this.eSelect,Qu.EVENT_ITEM_SELECTED,function(){return e.stopEditing()})},t.prototype.afterGuiAttached=function(){var e=this;this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(function(){e.isAlive()&&e.eSelect.showPicker()})},t.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},t.prototype.getValue=function(){return this.eSelect.getValue()},t.prototype.isPopup=function(){return!1},rU([O("valueFormatterService")],t.prototype,"valueFormatterService",void 0),rU([U("eSelect")],t.prototype,"eSelect",void 0),t}(gd),UFe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zFe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},cD=function(n){UFe(t,n);function t(e){var r=n.call(this,`
            <div class="ag-cell-edit-wrapper">
                `.concat(e.getTemplate(),`
            </div>`))||this;return r.cellEditorInput=e,r}return t.prototype.init=function(e){this.params=e;var r=this.eInput;this.cellEditorInput.init(r,e);var i;if(e.cellStartedEdit){this.focusAfterAttached=!0;var o=e.eventKey;o===K.BACKSPACE||e.eventKey===K.DELETE?i="":o&&o.length===1?i=o:(i=this.cellEditorInput.getStartValue(),o!==K.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,i=this.cellEditorInput.getStartValue();i!=null&&r.setStartValue(i),this.addManagedListener(r.getGui(),"keydown",function(a){var s=a.key;(s===K.PAGE_UP||s===K.PAGE_DOWN)&&a.preventDefault()})},t.prototype.afterGuiAttached=function(){var e,r,i=this.localeService.getLocaleTextFunc(),o=this.eInput;if(o.setInputAriaLabel(i("ariaInputEditor","Input Editor")),!!this.focusAfterAttached){Zu()||o.getFocusableElement().focus();var a=o.getInputElement();this.highlightAllOnFocus?a.select():(r=(e=this.cellEditorInput).setCaret)===null||r===void 0||r.call(e)}},t.prototype.focusIn=function(){var e=this.eInput,r=e.getFocusableElement(),i=e.getInputElement();r.focus(),i.select()},t.prototype.getValue=function(){return this.cellEditorInput.getValue()},t.prototype.isPopup=function(){return!1},zFe([U("eInput")],t.prototype,"eInput",void 0),t}(gd),KFe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),YFe=function(){function n(){}return n.prototype.getTemplate=function(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'},n.prototype.init=function(t,e){this.eInput=t,this.params=e,e.maxLength!=null&&t.setMaxLength(e.maxLength)},n.prototype.getValue=function(){var t=this.eInput.getValue();return!ye(t)&&!ye(this.params.value)?this.params.value:this.params.parseValue(t)},n.prototype.getStartValue=function(){var t=this.params.useFormatter||this.params.column.getColDef().refData;return t?this.params.formatValue(this.params.value):this.params.value},n.prototype.setCaret=function(){var t=this.eInput.getValue(),e=ye(t)&&t.length||0;e&&this.eInput.getInputElement().setSelectionRange(e,e)},n}(),g1=function(n){KFe(t,n);function t(){return n.call(this,new YFe)||this}return t}(cD),qFe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),XFe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ZFe="↑",QFe="↓",zZ=function(n){qFe(t,n);function t(){var e=n.call(this)||this;e.refreshCount=0;var r=document.createElement("span"),i=document.createElement("span");i.setAttribute("class","ag-value-change-delta");var o=document.createElement("span");return o.setAttribute("class","ag-value-change-value"),r.appendChild(i),r.appendChild(o),e.setTemplateFromElement(r),e}return t.prototype.init=function(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)},t.prototype.showDelta=function(e,r){var i=Math.abs(r),o=e.formatValue(i),a=ye(o)?o:i,s=r>=0;s?this.eDelta.textContent=ZFe+a:this.eDelta.textContent=QFe+a,this.eDelta.classList.toggle("ag-value-change-delta-up",s),this.eDelta.classList.toggle("ag-value-change-delta-down",!s)},t.prototype.setTimerToRemoveDelta=function(){var e=this;this.refreshCount++;var r=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(function(){window.setTimeout(function(){r===e.refreshCount&&e.hideDeltaValue()},2e3)})},t.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),gi(this.eDelta)},t.prototype.refresh=function(e,r){r===void 0&&(r=!1);var i=e.value;if(i===this.lastValue||(ye(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:ye(e.value)?this.eValue.textContent=i:gi(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof i=="number"&&typeof this.lastValue=="number"){var o=i-this.lastValue;this.showDelta(e,o)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),r||this.setTimerToRemoveDelta(),this.lastValue=i,!0},XFe([O("filterManager")],t.prototype,"filterManager",void 0),t}(Ce),JFe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),eIe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},KZ=function(n){JFe(t,n);function t(){var e=n.call(this)||this;e.refreshCount=0;var r=document.createElement("span"),i=document.createElement("span");return i.setAttribute("class","ag-value-slide-current"),r.appendChild(i),e.setTemplateFromElement(r),e.eCurrent=e.queryForHtmlElement(".ag-value-slide-current"),e}return t.prototype.init=function(e){this.refresh(e,!0)},t.prototype.addSlideAnimation=function(){var e=this;this.refreshCount++;var r=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);var i=document.createElement("span");i.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=i,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(function(){window.setTimeout(function(){r===e.refreshCount&&e.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){r===e.refreshCount&&(e.getGui().removeChild(e.ePrevious),e.ePrevious=null)},3e3)})},t.prototype.refresh=function(e,r){r===void 0&&(r=!1);var i=e.value;return pt(i)&&(i=""),i===this.lastValue||this.filterManager.isSuppressFlashingCellsBecauseFiltering()?!1:(r||this.addSlideAnimation(),this.lastValue=i,ye(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:ye(e.value)?this.eCurrent.textContent=i:gi(this.eCurrent),!0)},eIe([O("filterManager")],t.prototype,"filterManager",void 0),t}(Ce),Ug=function(){return Ug=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ug.apply(this,arguments)},Ct=function(){function n(t){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=n.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}return n.prototype.setData=function(t){this.setDataCommon(t,!1)},n.prototype.updateData=function(t){this.setDataCommon(t,!0)},n.prototype.setDataCommon=function(t,e){var r=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();var i=this.createDataChangedEvent(t,r,e);this.dispatchLocalEvent(i)},n.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},n.prototype.createDataChangedEvent=function(t,e,r){return{type:n.EVENT_DATA_CHANGED,node:this,oldData:e,newData:t,update:r}},n.prototype.createLocalRowEvent=function(t){return{type:t,node:this}},n.prototype.getRowIndexString=function(){return this.rowPinned==="top"?"t-"+this.rowIndex:this.rowPinned==="bottom"?"b-"+this.rowIndex:this.rowIndex.toString()},n.prototype.createDaemonNode=function(){var t=new n(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t},n.prototype.setDataAndId=function(t,e){var r=ye(this.id)?this.createDaemonNode():null,i=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(e),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,r);var o=this.createDataChangedEvent(t,i,!1);this.dispatchLocalEvent(o)},n.prototype.checkRowSelectable=function(){var t=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(t?t(this):!0)},n.prototype.setRowSelectable=function(t,e){if(this.selectable!==t){if(this.selectable=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_SELECTABLE_CHANGED)),e)return;var r=this.beans.gridOptionsService.get("groupSelectsChildren");if(r){var i=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:i??!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}},n.prototype.setId=function(t){var e=this.beans.gridOptionsService.getCallback("getRowId");if(e)if(this.data){var r=this.getGroupKeys(!0);this.id=e({data:this.data,parentKeys:r.length>0?r:void 0,level:this.level}),this.id!==null&&typeof this.id=="string"&&this.id.startsWith(n.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with ".concat(n.ID_PREFIX_ROW_GROUP,", this is a reserved prefix for AG Grid's row grouping feature.")),this.id!==null&&typeof this.id!="string"&&(this.id=""+this.id)}else this.id=void 0;else this.id=t},n.prototype.getGroupKeys=function(t){t===void 0&&(t=!1);var e=[],r=this;for(t&&(r=r.parent);r&&r.level>=0;)e.push(r.key),r=r.parent;return e.reverse(),e},n.prototype.isPixelInRange=function(t){return!ye(this.rowTop)||!ye(this.rowHeight)?!1:t>=this.rowTop&&t<this.rowTop+this.rowHeight},n.prototype.setFirstChild=function(t){this.firstChild!==t&&(this.firstChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_FIRST_CHILD_CHANGED)))},n.prototype.setLastChild=function(t){this.lastChild!==t&&(this.lastChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_LAST_CHILD_CHANGED)))},n.prototype.setChildIndex=function(t){this.childIndex!==t&&(this.childIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_CHILD_INDEX_CHANGED)))},n.prototype.setRowTop=function(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_TOP_CHANGED)),this.setDisplayed(t!==null))},n.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},n.prototype.setDisplayed=function(t){this.displayed!==t&&(this.displayed=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_DISPLAYED_CHANGED)))},n.prototype.setDragging=function(t){this.dragging!==t&&(this.dragging=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_DRAGGING_CHANGED)))},n.prototype.setHighlighted=function(t){t!==this.highlighted&&(this.highlighted=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_HIGHLIGHT_CHANGED)))},n.prototype.setHovered=function(t){this.hovered!==t&&(this.hovered=t)},n.prototype.isHovered=function(){return this.hovered},n.prototype.setAllChildrenCount=function(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},n.prototype.setMaster=function(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_MASTER_CHANGED)))},n.prototype.setGroup=function(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_GROUP_CHANGED)))},n.prototype.setRowHeight=function(t,e){e===void 0&&(e=!1),this.rowHeight=t,this.rowHeightEstimated=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_HEIGHT_CHANGED))},n.prototype.setRowAutoHeight=function(t,e){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[e.getId()]=t,t!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=Ja(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},n.prototype.checkAutoHeights=function(){var t=this,e=!1,r=!0,i=0,o=this.__autoHeights;if(o!=null){var a=this.beans.columnModel.getAllDisplayedAutoHeightCols();if(a.forEach(function(l){var u=o[l.getId()];if(u==null)if(t.beans.columnModel.isColSpanActive()){var c=[];switch(l.getPinned()){case"left":c=t.beans.columnModel.getDisplayedLeftColumnsForRow(t);break;case"right":c=t.beans.columnModel.getDisplayedRightColumnsForRow(t);break;case null:c=t.beans.columnModel.getViewportCenterColumnsForRow(t);break}if(c.includes(l)){e=!0;return}u=-1}else{e=!0;return}else r=!1;u>i&&(i=u)}),!e&&((r||i<10)&&(i=this.beans.gridOptionsService.getRowHeightForNode(this).height),i!=this.rowHeight)){this.setRowHeight(i);var s=this.beans.rowModel;s.onRowHeightChangedDebounced&&s.onRowHeightChangedDebounced()}}},n.prototype.setRowIndex=function(t){this.rowIndex!==t&&(this.rowIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_ROW_INDEX_CHANGED)))},n.prototype.setUiLevel=function(t){this.uiLevel!==t&&(this.uiLevel=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_UI_LEVEL_CHANGED)))},n.prototype.setExpanded=function(t,e){if(this.expanded!==t){this.expanded=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_EXPANDED_CHANGED));var r=Object.assign({},this.createGlobalRowEvent(M.EVENT_ROW_GROUP_OPENED),{expanded:t,event:e||null});this.beans.rowNodeEventThrottle.dispatchExpanded(r),this.sibling&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},n.prototype.createGlobalRowEvent=function(t){return this.beans.gridOptionsService.addGridCommonParams({type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})},n.prototype.dispatchLocalEvent=function(t){this.eventService&&this.eventService.dispatchEvent(t)},n.prototype.setDataValue=function(t,e,r){var i=this,o=function(){var u;return typeof t!="string"?t:(u=i.beans.columnModel.getGridColumn(t))!==null&&u!==void 0?u:i.beans.columnModel.getPrimaryColumn(t)},a=o(),s=this.getValueFromValueService(a);if(this.beans.gridOptionsService.get("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(a,s,e,r),!1;var l=this.beans.valueService.setValue(this,a,e,r);return this.dispatchCellChangedEvent(a,e,s),this.checkRowSelectable(),l},n.prototype.getValueFromValueService=function(t){var e=this.leafGroup&&this.beans.columnModel.isPivotMode(),r=this.group&&this.expanded&&!this.footer&&!e,i=this.beans.gridOptionsService.getGroupIncludeFooter(),o=i({node:this}),a=this.beans.gridOptionsService.get("groupSuppressBlankHeader"),s=r&&o&&!a,l=this.beans.valueService.getValue(t,this,!1,s);return l},n.prototype.dispatchEventForSaveValueReadOnly=function(t,e,r,i){var o=this.beans.gridOptionsService.addGridCommonParams({type:M.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:t,colDef:t.getColDef(),data:this.data,node:this,oldValue:e,newValue:r,value:r,source:i});this.beans.eventService.dispatchEvent(o)},n.prototype.setGroupValue=function(t,e){var r=this.beans.columnModel.getGridColumn(t);pt(this.groupData)&&(this.groupData={});var i=r.getColId(),o=this.groupData[i];o!==e&&(this.groupData[i]=e,this.dispatchCellChangedEvent(r,e,o))},n.prototype.setAggData=function(t){var e=this,r=this.aggData;if(this.aggData=t,this.eventService){var i=function(a){var s=e.aggData?e.aggData[a]:void 0,l=r?r[a]:void 0;if(s!==l){var u=e.beans.columnModel.lookupGridColumn(a);u&&e.dispatchCellChangedEvent(u,s,l)}};for(var o in this.aggData)i(o);for(var o in t)o in this.aggData||i(o)}},n.prototype.updateHasChildren=function(){var t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0,e=this.beans.gridOptionsService.isRowModelType("serverSide");if(e){var r=this.beans.gridOptionsService.get("treeData"),i=this.beans.gridOptionsService.get("isServerSideGroup");t=!this.stub&&!this.footer&&(r?!!i&&i(this.data):!!this.group)}t!==this.__hasChildren&&(this.__hasChildren=!!t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(n.EVENT_HAS_CHILDREN_CHANGED)))},n.prototype.hasChildren=function(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren},n.prototype.isEmptyRowGroupNode=function(){return this.group&&Ya(this.childrenAfterGroup)},n.prototype.dispatchCellChangedEvent=function(t,e,r){var i={type:n.EVENT_CELL_CHANGED,node:this,column:t,newValue:e,oldValue:r};this.dispatchLocalEvent(i)},n.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},n.prototype.isExpandable=function(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master},n.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},n.prototype.depthFirstSearch=function(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(e){return e.depthFirstSearch(t)}),t(this)},n.prototype.calculateSelectedFromChildren=function(){var t,e=!1,r=!1,i=!1;if(!(!((t=this.childrenAfterGroup)===null||t===void 0)&&t.length))return this.selectable?this.selected:null;for(var o=0;o<this.childrenAfterGroup.length;o++){var a=this.childrenAfterGroup[o],s=a.isSelected();if(!a.selectable){var l=a.calculateSelectedFromChildren();if(l===null)continue;s=l}switch(s){case!0:e=!0;break;case!1:r=!0;break;default:i=!0;break}}if(!(i||e&&r))return e?!0:r?!1:this.selectable?this.selected:null},n.prototype.setSelectedInitialValue=function(t){this.selected=t},n.prototype.selectThisNode=function(t,e,r){r===void 0&&(r="api");var i=!this.selectable&&t,o=this.selected===t;if(i||o)return!1;if(this.selected=t,this.eventService){this.dispatchLocalEvent(this.createLocalRowEvent(n.EVENT_ROW_SELECTED));var a=this.sibling;a&&a.footer&&a.dispatchLocalEvent(a.createLocalRowEvent(n.EVENT_ROW_SELECTED))}var s=Ug(Ug({},this.createGlobalRowEvent(M.EVENT_ROW_SELECTED)),{event:e||null,source:r});return this.beans.eventService.dispatchEvent(s),!0},n.prototype.setSelected=function(t,e,r){if(e===void 0&&(e=!1),r===void 0&&(r="api"),typeof r=="boolean"){console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:t,clearSelection:e,rangeSelect:!1,source:r})},n.prototype.setSelectedParams=function(t){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):this.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(Ug(Ug({},t),{nodes:[this.footer?this.sibling:this]}))},n.prototype.isRowPinned=function(){return this.rowPinned==="top"||this.rowPinned==="bottom"},n.prototype.isParentOfNode=function(t){for(var e=this.parent;e;){if(e===t)return!0;e=e.parent}return!1},n.prototype.addEventListener=function(t,e){var r,i;this.eventService||(this.eventService=new Vl),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new EV(this.beans.frameworkOverrides));var o=(i=(r=this.frameworkEventListenerService)===null||r===void 0?void 0:r.wrap(e))!==null&&i!==void 0?i:e;this.eventService.addEventListener(t,o)},n.prototype.removeEventListener=function(t,e){var r,i;if(this.eventService){var o=(i=(r=this.frameworkEventListenerService)===null||r===void 0?void 0:r.unwrap(e))!==null&&i!==void 0?i:e;this.eventService.removeEventListener(t,o),this.eventService.noRegisteredListenersExist()&&(this.eventService=null)}},n.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(n.EVENT_MOUSE_ENTER))},n.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(n.EVENT_MOUSE_LEAVE))},n.prototype.getFirstChildOfFirstChild=function(t){for(var e=this,r=!0,i=!1,o=null;r&&!i;){var a=e.parent,s=ye(a)&&e.firstChild;s?a.rowGroupColumn===t&&(i=!0,o=a):r=!1,e=a}return i?o:null},n.prototype.isFullWidthCell=function(){if(this.detail)return!0;var t=this.beans.gridOptionsService.getCallback("isFullWidthRow");return t?t({rowNode:this}):!1},n.prototype.getRoute=function(){if(this.key!=null){for(var t=[],e=this;e.key!=null;)t.push(e.key),e=e.parent;return t.reverse()}},n.prototype.createFooter=function(){var t=this;if(!this.sibling){var e=new Set(["eventService","__objectId","sticky"]),r=new n(this.beans);Object.keys(this).forEach(function(i){e.has(i)||(r[i]=t[i])}),r.footer=!0,r.setRowTop(null),r.setRowIndex(null),r.oldRowTop=null,r.id="rowGroupFooter_"+this.id,r.sibling=this,this.sibling=r}},n.prototype.destroyFooter=function(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)},n.ID_PREFIX_ROW_GROUP="row-group-",n.ID_PREFIX_TOP_PINNED="t-",n.ID_PREFIX_BOTTOM_PINNED="b-",n.OBJECT_ID_SEQUENCE=0,n.EVENT_ROW_SELECTED="rowSelected",n.EVENT_DATA_CHANGED="dataChanged",n.EVENT_CELL_CHANGED="cellChanged",n.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",n.EVENT_MASTER_CHANGED="masterChanged",n.EVENT_GROUP_CHANGED="groupChanged",n.EVENT_MOUSE_ENTER="mouseEnter",n.EVENT_MOUSE_LEAVE="mouseLeave",n.EVENT_HEIGHT_CHANGED="heightChanged",n.EVENT_TOP_CHANGED="topChanged",n.EVENT_DISPLAYED_CHANGED="displayedChanged",n.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",n.EVENT_LAST_CHILD_CHANGED="lastChildChanged",n.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",n.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",n.EVENT_EXPANDED_CHANGED="expandedChanged",n.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",n.EVENT_SELECTABLE_CHANGED="selectableChanged",n.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",n.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",n.EVENT_DRAGGING_CHANGED="draggingChanged",n}(),tIe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),yR=function(){return yR=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},yR.apply(this,arguments)},nU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},uB=function(n){tIe(t,n);function t(){return n.call(this,`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)||this}return t.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},t.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},t.prototype.onDataChanged=function(){this.onSelectionChanged()},t.prototype.onSelectableChanged=function(){this.showOrHideSelect()},t.prototype.onSelectionChanged=function(){var e=this.rowNode.isSelected();this.eCheckbox.setValue(e,!0)},t.prototype.onClicked=function(e,r,i){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:i.shiftKey,groupSelectsFiltered:r,event:i,source:"checkboxSelected"})},t.prototype.init=function(e){var r=this;this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",function(s){Al(s)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(s){Al(s);var l=r.gridOptionsService.get("groupSelectsFiltered"),u=r.eCheckbox.getValue();if(r.shouldHandleIndeterminateState(u,l)){var c=r.onClicked(!0,l,s||{});c===0&&r.onClicked(!1,l,s)}else u?r.onClicked(!1,l,s):r.onClicked(!0,l,s||{})}),this.addManagedListener(this.rowNode,Ct.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,Ct.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,Ct.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this));var i=this.gridOptionsService.get("isRowSelectable"),o=i||typeof this.getIsVisible()=="function";if(o){var a=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,a),this.addManagedListener(this.rowNode,Ct.EVENT_DATA_CHANGED,a),this.addManagedListener(this.rowNode,Ct.EVENT_CELL_CHANGED,a),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},t.prototype.shouldHandleIndeterminateState=function(e,r){return r&&(this.eCheckbox.getPreviousValue()===void 0||e===void 0)&&this.gridOptionsService.isRowModelType("clientSide")},t.prototype.showOrHideSelect=function(){var e,r,i,o,a=this.rowNode.selectable,s=this.getIsVisible();if(a)if(typeof s=="function"){var l=(e=this.overrides)===null||e===void 0?void 0:e.callbackParams,u=(r=this.column)===null||r===void 0?void 0:r.createColumnFunctionCallbackParams(this.rowNode);a=u?s(yR(yR({},l),u)):!1}else a=s??!1;var c=(i=this.column)===null||i===void 0?void 0:i.getColDef().showDisabledCheckboxes;if(c){this.eCheckbox.setDisabled(!a),this.setVisible(!0),this.setDisplayed(!0);return}if(!((o=this.overrides)===null||o===void 0)&&o.removeHidden){this.setDisplayed(a);return}this.setVisible(a)},t.prototype.getIsVisible=function(){var e,r;return this.overrides?this.overrides.isVisible:(r=(e=this.column)===null||e===void 0?void 0:e.getColDef())===null||r===void 0?void 0:r.checkboxSelection},nU([U("eCheckbox")],t.prototype,"eCheckbox",void 0),nU([q],t.prototype,"postConstruct",null),t}(Ce),dv;(function(n){n[n.Up=0]="Up",n[n.Down=1]="Down"})(dv||(dv={}));var sa;(function(n){n[n.Left=0]="Left",n[n.Right=1]="Right"})(sa||(sa={}));var rIe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Lh=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},jx=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},on;(function(n){n[n.ToolPanel=0]="ToolPanel",n[n.HeaderCell=1]="HeaderCell",n[n.RowDrag=2]="RowDrag",n[n.ChartPanel=3]="ChartPanel",n[n.AdvancedFilterBuilder=4]="AdvancedFilterBuilder"})(on||(on={}));var Wt=function(n){rIe(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.dragSourceAndParamsList=[],r.dropTargets=[],r}e=t,t.prototype.init=function(){this.ePinnedIcon=_s("columnMovePin",this.gridOptionsService,null),this.eHideIcon=_s("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=_s("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=_s("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=_s("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=_s("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=_s("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=_s("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=_s("dropNotAllowed",this.gridOptionsService,null)},t.prototype.addDragSource=function(r,i){i===void 0&&(i=!1);var o={eElement:r.eElement,dragStartPixels:r.dragStartPixels,onDragStart:this.onDragStart.bind(this,r),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:i};this.dragSourceAndParamsList.push({params:o,dragSource:r}),this.dragService.addDragSource(o)},t.prototype.removeDragSource=function(r){var i=this.dragSourceAndParamsList.find(function(o){return o.dragSource===r});i&&(this.dragService.removeDragSource(i.params),Jo(this.dragSourceAndParamsList,i))},t.prototype.clearDragSourceParamsList=function(){var r=this;this.dragSourceAndParamsList.forEach(function(i){return r.dragService.removeDragSource(i.params)}),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0},t.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},t.prototype.onDragStart=function(r,i){this.dragging=!0,this.dragSource=r,this.eventLastTime=i,this.dragItem=this.dragSource.getDragItem(),this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},t.prototype.onDragStop=function(r){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var i=this.createDropTargetEvent(this.lastDropTarget,r,null,null,!1);this.lastDropTarget.onDragStop(i)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},t.prototype.onDragging=function(r,i){var o=this,a,s,l,u,c=this.getHorizontalDirection(r),d=this.getVerticalDirection(r);this.eventLastTime=r,this.positionGhost(r);var p=this.dropTargets.filter(function(v){return o.isMouseOnDropTarget(r,v)}),h=this.findCurrentDropTarget(r,p);if(h!==this.lastDropTarget)this.leaveLastTargetIfExists(r,c,d,i),this.lastDropTarget!==null&&h===null&&((s=(a=this.dragSource).onGridExit)===null||s===void 0||s.call(a,this.dragItem)),this.lastDropTarget===null&&h!==null&&((u=(l=this.dragSource).onGridEnter)===null||u===void 0||u.call(l,this.dragItem)),this.enterDragTargetIfExists(h,r,c,d,i),this.lastDropTarget=h;else if(h&&h.onDragging){var f=this.createDropTargetEvent(h,r,c,d,i);h.onDragging(f)}},t.prototype.getAllContainersFromDropTarget=function(r){var i=r.getSecondaryContainers?r.getSecondaryContainers():null,o=[[r.getContainer()]];return i?o.concat(i):o},t.prototype.allContainersIntersect=function(r,i){var o,a;try{for(var s=jx(i),l=s.next();!l.done;l=s.next()){var u=l.value,c=u.getBoundingClientRect();if(c.width===0||c.height===0)return!1;var d=r.clientX>=c.left&&r.clientX<c.right,p=r.clientY>=c.top&&r.clientY<c.bottom;if(!d||!p)return!1}}catch(h){o={error:h}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}return!0},t.prototype.isMouseOnDropTarget=function(r,i){var o,a,s=this.getAllContainersFromDropTarget(i),l=!1;try{for(var u=jx(s),c=u.next();!c.done;c=u.next()){var d=c.value;if(this.allContainersIntersect(r,d)){l=!0;break}}}catch(p){o={error:p}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}return i.targetContainsSource&&!i.getContainer().contains(this.dragSource.eElement)?!1:l&&i.isInterestedIn(this.dragSource.type,this.dragSource.eElement)},t.prototype.findCurrentDropTarget=function(r,i){var o,a,s,l,u=i.length;if(u===0)return null;if(u===1)return i[0];var c=this.gridOptionsService.getRootNode(),d=c.elementsFromPoint(r.clientX,r.clientY);try{for(var p=jx(d),h=p.next();!h.done;h=p.next()){var f=h.value;try{for(var v=(s=void 0,jx(i)),g=v.next();!g.done;g=v.next()){var m=g.value,y=NX(this.getAllContainersFromDropTarget(m));if(y.indexOf(f)!==-1)return m}}catch(C){s={error:C}}finally{try{g&&!g.done&&(l=v.return)&&l.call(v)}finally{if(s)throw s.error}}}}catch(C){o={error:C}}finally{try{h&&!h.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}return null},t.prototype.enterDragTargetIfExists=function(r,i,o,a,s){if(r){if(r.onDragEnter){var l=this.createDropTargetEvent(r,i,o,a,s);r.onDragEnter(l)}this.setGhostIcon(r.getIconName?r.getIconName():null)}},t.prototype.leaveLastTargetIfExists=function(r,i,o,a){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var s=this.createDropTargetEvent(this.lastDropTarget,r,i,o,a);this.lastDropTarget.onDragLeave(s)}this.setGhostIcon(null)}},t.prototype.addDropTarget=function(r){this.dropTargets.push(r)},t.prototype.removeDropTarget=function(r){this.dropTargets=this.dropTargets.filter(function(i){return i.getContainer()!==r.getContainer()})},t.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(r){return r.external})},t.prototype.findExternalZone=function(r){var i=this.dropTargets.filter(function(o){return o.external});return i.find(function(o){return o.getContainer()===r.getContainer()})||null},t.prototype.getHorizontalDirection=function(r){var i=this.eventLastTime&&this.eventLastTime.clientX,o=r.clientX;return i===o?null:i>o?sa.Left:sa.Right},t.prototype.getVerticalDirection=function(r){var i=this.eventLastTime&&this.eventLastTime.clientY,o=r.clientY;return i===o?null:i>o?dv.Up:dv.Down},t.prototype.createDropTargetEvent=function(r,i,o,a,s){var l=r.getContainer(),u=l.getBoundingClientRect(),c=this,d=c.gridApi,p=c.columnApi,h=c.dragItem,f=c.dragSource,v=i.clientX-u.left,g=i.clientY-u.top;return{event:i,x:v,y:g,vDirection:a,hDirection:o,dragSource:f,fromNudge:s,dragItem:h,api:d,columnApi:p,dropZoneTarget:l}},t.prototype.positionGhost=function(r){var i=this.eGhost;if(i){var o=i.getBoundingClientRect(),a=o.height,s=uZ()-2,l=cZ()-2,u=qV(i.offsetParent),c=r.clientY,d=r.clientX,p=c-u.top-a/2,h=d-u.left-10,f=this.gridOptionsService.getDocument(),v=f.defaultView||window,g=v.pageYOffset||f.documentElement.scrollTop,m=v.pageXOffset||f.documentElement.scrollLeft;s>0&&h+i.clientWidth>s+m&&(h=s+m-i.clientWidth),h<0&&(h=0),l>0&&p+i.clientHeight>l+g&&(p=l+g-i.clientHeight),p<0&&(p=0),i.style.left="".concat(h,"px"),i.style.top="".concat(p,"px")}},t.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},t.prototype.createGhost=function(){this.eGhost=aa(e.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);var r=this.environment.getTheme().theme;r&&this.eGhost.classList.add(r),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var i=this.eGhost.querySelector(".ag-dnd-ghost-label"),o=this.dragSource.dragItemName;tD(o)&&(o=o()),i.innerHTML=Jn(o)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var a=this.gridOptionsService.getDocument(),s=null,l=null;try{s=a.fullscreenElement}catch{}finally{s||(s=this.gridOptionsService.getRootNode());var u=s.querySelector("body");u?l=u:s instanceof ShadowRoot?l=s:s instanceof Document?l=s==null?void 0:s.documentElement:l=s}this.eGhostParent=l,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},t.prototype.setGhostIcon=function(r,i){i===void 0&&(i=!1),gi(this.eGhostIcon);var o=null;switch(r||(r=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():e.ICON_NOT_ALLOWED),r){case e.ICON_PINNED:o=this.ePinnedIcon;break;case e.ICON_MOVE:o=this.eMoveIcon;break;case e.ICON_LEFT:o=this.eLeftIcon;break;case e.ICON_RIGHT:o=this.eRightIcon;break;case e.ICON_GROUP:o=this.eGroupIcon;break;case e.ICON_AGGREGATE:o=this.eAggregateIcon;break;case e.ICON_PIVOT:o=this.ePivotIcon;break;case e.ICON_NOT_ALLOWED:o=this.eDropNotAllowedIcon;break;case e.ICON_HIDE:o=this.eHideIcon;break}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",i),!(o===this.eHideIcon&&this.gridOptionsService.get("suppressDragLeaveHidesColumns"))&&o&&this.eGhostIcon.appendChild(o)};var e;return t.ICON_PINNED="pinned",t.ICON_MOVE="move",t.ICON_LEFT="left",t.ICON_RIGHT="right",t.ICON_GROUP="group",t.ICON_AGGREGATE="aggregate",t.ICON_PIVOT="pivot",t.ICON_NOT_ALLOWED="notAllowed",t.ICON_HIDE="hide",t.GHOST_TEMPLATE=`<div class="ag-dnd-ghost ag-unselectable">
            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
            <div class="ag-dnd-ghost-label"></div>
        </div>`,Lh([O("dragService")],t.prototype,"dragService",void 0),Lh([O("mouseEventService")],t.prototype,"mouseEventService",void 0),Lh([O("columnApi")],t.prototype,"columnApi",void 0),Lh([O("gridApi")],t.prototype,"gridApi",void 0),Lh([q],t.prototype,"init",null),Lh([Gr],t.prototype,"clearDragSourceParamsList",null),t=e=Lh([me("dragAndDropService")],t),t}(re),dD=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),mw=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},CR=function(n){dD(t,n);function t(e,r,i,o,a,s){var l=n.call(this)||this;return l.cellValueFn=e,l.rowNode=r,l.column=i,l.customGui=o,l.dragStartPixels=a,l.suppressVisibilityChange=s,l.dragSource=null,l}return t.prototype.isCustomGui=function(){return this.customGui!=null},t.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(jn("rowDrag",this.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var e=this.gridOptionsService.get("rowDragManaged")?new iIe(this,this.beans,this.rowNode,this.column):new nIe(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}},t.prototype.setDragElement=function(e,r){this.setTemplateFromElement(e),this.addDragSource(r)},t.prototype.getSelectedNodes=function(){var e=this.gridOptionsService.get("rowDragMultiRow");if(!e)return[this.rowNode];var r=this.beans.selectionService.getSelectedNodes();return r.indexOf(this.rowNode)!==-1?r:[this.rowNode]},t.prototype.checkCompatibility=function(){var e=this.gridOptionsService.get("rowDragManaged"),r=this.gridOptionsService.get("treeData");r&&e&&at("If using row drag with tree data, you cannot have rowDragManaged=true")},t.prototype.getDragItem=function(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}},t.prototype.getRowDragText=function(e){if(e){var r=e.getColDef();if(r.rowDragText)return r.rowDragText}return this.gridOptionsService.get("rowDragText")},t.prototype.addDragSource=function(e){var r=this;e===void 0&&(e=4),this.dragSource&&this.removeDragSource();var i=this.localeService.getLocaleTextFunc();this.dragSource={type:on.RowDrag,eElement:this.getGui(),dragItemName:function(){var o,a=r.getDragItem(),s=((o=a.rowNodes)===null||o===void 0?void 0:o.length)||1,l=r.getRowDragText(r.column);return l?l(a,s):s===1?r.cellValueFn():"".concat(s," ").concat(i("rowDragRows","rows"))},getDragItem:function(){return r.getDragItem()},dragStartPixels:e,dragSourceDomDataKey:this.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},t.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},mw([O("beans")],t.prototype,"beans",void 0),mw([q],t.prototype,"postConstruct",null),mw([Gr],t.prototype,"removeDragSource",null),t}(Ce),YZ=function(n){dD(t,n);function t(e,r,i){var o=n.call(this)||this;return o.parent=e,o.rowNode=r,o.column=i,o}return t.prototype.setDisplayedOrVisible=function(e){var r={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,r);else{var i=!0,o=!1;this.column&&(i=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),o=tD(this.column.getColDef().rowDrag)),o?(this.parent.setDisplayed(!0,r),this.parent.setVisible(i,r)):(this.parent.setDisplayed(i,r),this.parent.setVisible(!0,r))}},t}(re),nIe=function(n){dD(t,n);function t(e,r,i,o){var a=n.call(this,e,i,o)||this;return a.beans=r,a}return t.prototype.postConstruct=function(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,Ct.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ct.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ct.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,M.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.gridOptionsService.get("suppressRowDrag");this.setDisplayedOrVisible(e)},mw([q],t.prototype,"postConstruct",null),t}(YZ),iIe=function(n){dD(t,n);function t(e,r,i,o){var a=n.call(this,e,i,o)||this;return a.beans=r,a}return t.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,M.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,M.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,M.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ct.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ct.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.beans.ctrlsService.getGridBodyCtrl(),r=e.getRowDragFeature(),i=r&&r.shouldPreventRowMove(),o=this.gridOptionsService.get("suppressRowDrag"),a=this.beans.dragAndDropService.hasExternalDropZones(),s=i&&!a||o;this.setDisplayedOrVisible(s)},mw([q],t.prototype,"postConstruct",null),t}(YZ),oIe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),SR=function(){return SR=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},SR.apply(this,arguments)},mC=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},qZ=function(n){oIe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(e,r,i,o,a,s,l){var u,c,d,p;this.params=l,this.eGui=r,this.eCheckbox=i,this.eExpanded=o,this.eContracted=a,this.comp=e,this.compClass=s;var h=l.node;l.value;var f=l.colDef,v=this.isTopLevelFooter();if(!v){var g=this.isEmbeddedRowMismatch();if(g)return;if(h.footer&&this.gridOptionsService.get("groupHideOpenParents")){var m=f&&f.showRowGroup,y=h.rowGroupColumn&&h.rowGroupColumn.getColId();if(m!==y)return}}if(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),!v){var C=l.node.footer&&l.node.rowGroupIndex===this.columnModel.getRowGroupColumns().findIndex(function(P){var A;return P.getColId()===((A=l.colDef)===null||A===void 0?void 0:A.showRowGroup)}),S=this.gridOptionsService.get("groupDisplayType")!="multipleColumns"||this.gridOptionsService.get("treeData"),w=S||this.gridOptionsService.get("showOpenedGroup")&&!l.node.footer&&(!l.node.group||l.node.rowGroupIndex!=null&&l.node.rowGroupIndex>this.columnModel.getRowGroupColumns().findIndex(function(P){var A;return P.getColId()===((A=l.colDef)===null||A===void 0?void 0:A.showRowGroup)})),_=!h.group&&(((u=this.params.colDef)===null||u===void 0?void 0:u.field)||((c=this.params.colDef)===null||c===void 0?void 0:c.valueGetter)),x=this.isExpandable(),E=this.columnModel.isPivotMode()&&h.leafGroup&&((d=h.rowGroupColumn)===null||d===void 0?void 0:d.getColId())===((p=l.column)===null||p===void 0?void 0:p.getColDef().showRowGroup),R=!this.showingValueForOpenedParent&&!x&&!_&&!w&&!C&&!E;if(R)return}this.addExpandAndContract(),this.addFullWidthRowDraggerIfNeeded(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded()},t.prototype.getCellAriaRole=function(){var e,r,i=(e=this.params.colDef)===null||e===void 0?void 0:e.cellAriaRole,o=(r=this.params.column)===null||r===void 0?void 0:r.getColDef().cellAriaRole;return i||o||"gridcell"},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.expandListener=null},t.prototype.refreshAriaExpanded=function(){var e=this.params,r=e.node,i=e.eGridCell;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable()){tZ(i);return}var o=function(){id(i,!!r.expanded)};this.expandListener=this.addManagedListener(r,Ct.EVENT_EXPANDED_CHANGED,o)||null,o()},t.prototype.isTopLevelFooter=function(){if(!this.gridOptionsService.get("groupIncludeTotalFooter")||this.params.value!=null||this.params.node.level!=-1)return!1;var e=this.params.colDef,r=e==null;if(r||e.showRowGroup===!0)return!0;var i=this.columnModel.getRowGroupColumns();if(!i||i.length===0)return!0;var o=i[0];return o.getId()===e.showRowGroup},t.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsService.get("embedFullWidthRows"))return!1;var e=this.params.pinned==="left",r=this.params.pinned==="right",i=!e&&!r;return this.gridOptionsService.get("enableRtl")?this.columnModel.isPinningLeft()?!r:!i:this.columnModel.isPinningLeft()?!e:!i},t.prototype.findDisplayedGroupNode=function(){var e=this.params.column,r=this.params.node;if(this.showingValueForOpenedParent)for(var i=r.parent;i!=null;){if(i.rowGroupColumn&&e.isRowGroupDisplayed(i.rowGroupColumn.getId())){this.displayedGroupNode=i;break}i=i.parent}pt(this.displayedGroupNode)&&(this.displayedGroupNode=r)},t.prototype.setupShowingValueForOpenedParent=function(){var e=this.params.node,r=this.params.column;if(!this.gridOptionsService.get("groupHideOpenParents")){this.showingValueForOpenedParent=!1;return}if(!e.groupData){this.showingValueForOpenedParent=!1;return}var i=e.rowGroupColumn!=null;if(i){var o=e.rowGroupColumn.getId(),a=r.isRowGroupDisplayed(o);if(a){this.showingValueForOpenedParent=!1;return}}var s=e.groupData[r.getId()]!=null;this.showingValueForOpenedParent=s},t.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},t.prototype.addGroupValue=function(){var e,r=this.adjustParamsWithDetailsFromRelatedColumn(),i=this.getInnerCompDetails(r),o=r.valueFormatted,a=r.value,s=o;if(s==null){var l=this.displayedGroupNode.rowGroupColumn&&((e=this.params.column)===null||e===void 0?void 0:e.isRowGroupDisplayed(this.displayedGroupNode.rowGroupColumn.getId()));if(this.displayedGroupNode.key===""&&this.displayedGroupNode.group&&l){var u=this.localeService.getLocaleTextFunc();s=u("blanks","(Blanks)")}else s=a??null}this.comp.setInnerRenderer(i,s)},t.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var e=this.displayedGroupNode.rowGroupColumn,r=this.params.column;if(!e)return this.params;var i=r!=null;if(i){var o=r.isRowGroupDisplayed(e.getId());if(!o)return this.params}var a=this.params,s=this.params,l=s.value,u=s.node,c=this.valueFormatterService.formatValue(e,u,l),d=SR(SR({},a),{valueFormatted:c});return d},t.prototype.addFooterValue=function(){var e=this.params.footerValueGetter,r="";if(e){var i=xV(this.params);i.value=this.params.value,typeof e=="function"?r=e(i):typeof e=="string"?r=this.expressionService.evaluate(e,i):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else{var o=this.localeService.getLocaleTextFunc(),a=o("footerTotal","Total");r=a+" "+(this.params.value!=null?this.params.value:"")}var s=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(s,r)},t.prototype.getInnerCompDetails=function(e){var r=this;if(e.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),e);var i=this.userComponentFactory.getInnerRendererDetails(e,e),o=function(c){return c&&c.componentClass==r.compClass};if(i&&!o(i))return i;var a=this.displayedGroupNode.rowGroupColumn,s=a?a.getColDef():void 0;if(s){var l=this.userComponentFactory.getCellRendererDetails(s,e);if(l&&!o(l))return l;if(o(l)&&s.cellRendererParams&&s.cellRendererParams.innerRenderer){var u=this.userComponentFactory.getInnerRendererDetails(s.cellRendererParams,e);return u}}},t.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,Ct.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},t.prototype.updateChildCount=function(){var e=this.displayedGroupNode.allChildrenCount,r=this.isShowRowGroupForThisRow(),i=r&&e!=null&&e>=0,o=i?"(".concat(e,")"):"";this.comp.setChildCount(o)},t.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsService.get("treeData"))return!0;var e=this.displayedGroupNode.rowGroupColumn;if(!e)return!1;var r=this.params.column,i=r==null||r.isRowGroupDisplayed(e.getId());return i},t.prototype.addExpandAndContract=function(){var e,r=this.params,i=jn("groupExpanded",this.gridOptionsService,null),o=jn("groupContracted",this.gridOptionsService,null);i&&this.eExpanded.appendChild(i),o&&this.eContracted.appendChild(o);var a=r.eGridCell,s=((e=this.params.column)===null||e===void 0?void 0:e.isCellEditable(r.node))&&this.gridOptionsService.get("enableGroupEdit");!s&&this.isExpandable()&&!r.suppressDoubleClickExpand&&this.addManagedListener(a,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(a,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(r.node,Ct.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var l=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,Ct.EVENT_ALL_CHILDREN_COUNT_CHANGED,l),this.addManagedListener(this.displayedGroupNode,Ct.EVENT_MASTER_CHANGED,l),this.addManagedListener(this.displayedGroupNode,Ct.EVENT_GROUP_CHANGED,l),this.addManagedListener(this.displayedGroupNode,Ct.EVENT_HAS_CHILDREN_CHANGED,l)},t.prototype.onExpandClicked=function(e){Rl(e)||(Al(e),this.onExpandOrContract(e))},t.prototype.onExpandOrContract=function(e){var r=this.displayedGroupNode,i=!r.expanded;!i&&r.sticky&&this.scrollToStickyNode(r),r.setExpanded(i,e)},t.prototype.scrollToStickyNode=function(e){var r=this.ctrlsService.getGridBodyCtrl(),i=r.getScrollFeature();i.setVerticalScrollPosition(e.rowTop-e.stickyRowTop)},t.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var e=this.displayedGroupNode,r=this.columnModel.isPivotMode()&&e.leafGroup,i=e.isExpandable()&&!e.footer&&!r;if(!i)return!1;var o=this.params.column,a=o!=null&&typeof o.getColDef().showRowGroup=="string";if(a){var s=this.isShowRowGroupForThisRow();return s}return!0},t.prototype.showExpandAndContractIcons=function(){var e=this,r=e.params,i=e.displayedGroupNode,o=e.columnModel,a=r.node,s=this.isExpandable();if(s){var l=this.showingValueForOpenedParent?!0:a.expanded;this.comp.setExpandedDisplayed(l),this.comp.setContractedDisplayed(!l)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var u=o.isPivotMode(),c=u&&i.leafGroup,d=s&&!c,p=a.footer&&a.level===-1;this.comp.addOrRemoveCssClass("ag-cell-expandable",d),this.comp.addOrRemoveCssClass("ag-row-group",d),u?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",c):p||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!d)},t.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},t.prototype.setupIndent=function(){var e=this.params.node,r=this.params.suppressPadding;r||(this.addManagedListener(e,Ct.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},t.prototype.setIndent=function(){if(!this.gridOptionsService.get("groupHideOpenParents")){var e=this.params,r=e.node,i=!!e.colDef,o=this.gridOptionsService.get("treeData"),a=!i||o||e.colDef.showRowGroup===!0,s=a?r.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+s,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},t.prototype.addFullWidthRowDraggerIfNeeded=function(){var e=this;if(!(!this.params.fullWidth||!this.params.rowDrag)){var r=new CR(function(){return e.params.value},this.params.node);this.createManagedBean(r,this.context),this.eGui.insertAdjacentElement("afterbegin",r.getGui())}},t.prototype.isUserWantsSelected=function(){var e=this.params.checkbox;return typeof e=="function"||e===!0},t.prototype.addCheckboxIfNeeded=function(){var e=this,r=this.displayedGroupNode,i=this.isUserWantsSelected()&&!r.footer&&!r.rowPinned&&!r.detail;if(i){var o=new uB;this.getContext().createBean(o),o.init({rowNode:this.params.node,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(o.getGui()),this.addDestroyFunc(function(){return e.getContext().destroyBean(o)})}this.comp.setCheckboxVisible(i)},t.prototype.onKeyDown=function(e){var r=e.key===K.ENTER;if(!(!r||this.params.suppressEnterExpand)){var i=this.params.column&&this.params.column.isCellEditable(this.params.node);i||this.onExpandOrContract(e)}},t.prototype.onCellDblClicked=function(e){if(!Rl(e)){var r=hR(this.eExpanded,e)||hR(this.eContracted,e);r||this.onExpandOrContract(e)}},mC([O("expressionService")],t.prototype,"expressionService",void 0),mC([O("valueFormatterService")],t.prototype,"valueFormatterService",void 0),mC([O("columnModel")],t.prototype,"columnModel",void 0),mC([O("userComponentFactory")],t.prototype,"userComponentFactory",void 0),mC([O("ctrlsService")],t.prototype,"ctrlsService",void 0),t}(re),aIe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),yC=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},m1=function(n){aIe(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.init=function(e){var r=this,i={setInnerRenderer:function(l,u){return r.setRenderDetails(l,u)},setChildCount:function(l){return r.eChildCount.textContent=l},addOrRemoveCssClass:function(l,u){return r.addOrRemoveCssClass(l,u)},setContractedDisplayed:function(l){return $t(r.eContracted,l)},setExpandedDisplayed:function(l){return $t(r.eExpanded,l)},setCheckboxVisible:function(l){return r.eCheckbox.classList.toggle("ag-invisible",!l)}},o=this.createManagedBean(new qZ),a=!e.colDef,s=this.getGui();o.init(i,s,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),a&&ri(s,o.getCellAriaRole())},t.prototype.setRenderDetails=function(e,r){var i=this;if(e){var o=e.newAgStackInstance();if(!o)return;o.then(function(a){if(a){var s=function(){return i.context.destroyBean(a)};i.isAlive()?(i.eValue.appendChild(a.getGui()),i.addDestroyFunc(s)):s()}})}else this.eValue.innerText=r},t.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),n.prototype.destroy.call(this)},t.prototype.refresh=function(){return!1},t.TEMPLATE=`<span class="ag-cell-wrapper">
            <span class="ag-group-expanded" ref="eExpanded"></span>
            <span class="ag-group-contracted" ref="eContracted"></span>
            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>
            <span class="ag-group-value" ref="eValue"></span>
            <span class="ag-group-child-count" ref="eChildCount"></span>
        </span>`,yC([U("eExpanded")],t.prototype,"eExpanded",void 0),yC([U("eContracted")],t.prototype,"eContracted",void 0),yC([U("eCheckbox")],t.prototype,"eCheckbox",void 0),yC([U("eValue")],t.prototype,"eValue",void 0),yC([U("eChildCount")],t.prototype,"eChildCount",void 0),t}(Ce),sIe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),iU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},lIe=function(n){sIe(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.init=function(e){e.node.failedLoad?this.setupFailed():this.setupLoading()},t.prototype.setupFailed=function(){var e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")},t.prototype.setupLoading=function(){var e=jn("groupLoading",this.gridOptionsService,null);e&&this.eLoadingIcon.appendChild(e);var r=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=r("loadingOoo","Loading")},t.prototype.refresh=function(e){return!1},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.TEMPLATE=`<div class="ag-loading">
            <span class="ag-loading-icon" ref="eLoadingIcon"></span>
            <span class="ag-loading-text" ref="eLoadingText"></span>
        </div>`,iU([U("eLoadingIcon")],t.prototype,"eLoadingIcon",void 0),iU([U("eLoadingText")],t.prototype,"eLoadingText",void 0),t}(Ce),uIe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),cIe=function(n){uIe(t,n);function t(){return n.call(this)||this}return t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(e){var r=this,i=this.gridOptionsService.get("overlayLoadingTemplate");if(this.setTemplate(i??t.DEFAULT_LOADING_OVERLAY_TEMPLATE),!i){var o=this.localeService.getLocaleTextFunc();setTimeout(function(){r.getGui().textContent=o("loadingOoo","Loading...")})}},t.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>',t}(Ce),dIe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),pIe=function(n){dIe(t,n);function t(){return n.call(this)||this}return t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(e){var r=this,i=this.gridOptionsService.get("overlayNoRowsTemplate");if(this.setTemplate(i??t.DEFAULT_NO_ROWS_TEMPLATE),!i){var o=this.localeService.getLocaleTextFunc();setTimeout(function(){r.getGui().textContent=o("noRowsToShow","No Rows To Show")})}},t.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center"></span>',t}(Ce),hIe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),fIe=function(n){hIe(t,n);function t(){return n.call(this,'<div class="ag-tooltip"></div>')||this}return t.prototype.init=function(e){var r=e.value;this.getGui().textContent=Jn(r,!0)},t}(gd),vIe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),gIe=function(){function n(){}return n.prototype.getTemplate=function(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'},n.prototype.init=function(t,e){this.eInput=t,this.params=e,e.max!=null&&t.setMax(e.max),e.min!=null&&t.setMin(e.min),e.precision!=null&&t.setPrecision(e.precision),e.step!=null&&t.setStep(e.step);var r=t.getInputElement();e.preventStepping?t.addManagedListener(r,"keydown",this.preventStepping):e.showStepperButtons&&r.classList.add("ag-number-field-input-stepper")},n.prototype.preventStepping=function(t){(t.key===K.UP||t.key===K.DOWN)&&t.preventDefault()},n.prototype.getValue=function(){var t=this.eInput.getValue();if(!ye(t)&&!ye(this.params.value))return this.params.value;var e=this.params.parseValue(t);if(e==null)return e;if(typeof e=="string"){if(e==="")return null;e=Number(e)}return isNaN(e)?null:e},n.prototype.getStartValue=function(){return this.params.value},n}(),XZ=function(n){vIe(t,n);function t(){return n.call(this,new gIe)||this}return t}(cD),mIe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),yIe=function(){function n(){}return n.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},n.prototype.init=function(t,e){this.eInput=t,this.params=e,e.min!=null&&t.setMin(e.min),e.max!=null&&t.setMax(e.max),e.step!=null&&t.setStep(e.step)},n.prototype.getValue=function(){var t=this.eInput.getDate();return!ye(t)&&!ye(this.params.value)?this.params.value:t??null},n.prototype.getStartValue=function(){var t=this.params.value;if(t instanceof Date)return Vs(t,!1)},n}(),ZZ=function(n){mIe(t,n);function t(){return n.call(this,new yIe)||this}return t}(cD),CIe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),SIe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},wIe=function(){function n(t){this.getDataTypeService=t}return n.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},n.prototype.init=function(t,e){this.eInput=t,this.params=e,e.min!=null&&t.setMin(e.min),e.max!=null&&t.setMax(e.max),e.step!=null&&t.setStep(e.step)},n.prototype.getValue=function(){var t=this.formatDate(this.eInput.getDate());return!ye(t)&&!ye(this.params.value)?this.params.value:this.params.parseValue(t??"")},n.prototype.getStartValue=function(){var t,e;return Vs((e=this.parseDate((t=this.params.value)!==null&&t!==void 0?t:void 0))!==null&&e!==void 0?e:null,!1)},n.prototype.parseDate=function(t){return this.getDataTypeService().getDateParserFunction(this.params.column)(t)},n.prototype.formatDate=function(t){return this.getDataTypeService().getDateFormatterFunction(this.params.column)(t)},n}(),QZ=function(n){CIe(t,n);function t(){var e=n.call(this,new wIe(function(){return e.dataTypeService}))||this;return e}return SIe([O("dataTypeService")],t.prototype,"dataTypeService",void 0),t}(cD),_Ie=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),xIe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},JZ=function(n){_Ie(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.init=function(e){var r=this;this.params=e,this.updateCheckbox(e);var i=this.eCheckbox.getInputElement();i.setAttribute("tabindex","-1"),AV(i,"polite"),this.addManagedListener(i,"click",function(a){if(Al(a),!r.eCheckbox.isDisabled()){var s=r.eCheckbox.getValue();r.onCheckboxChanged(s)}}),this.addManagedListener(i,"dblclick",function(a){Al(a)});var o=this.gridOptionsService.getDocument();this.addManagedListener(this.params.eGridCell,"keydown",function(a){if(a.key===K.SPACE&&!r.eCheckbox.isDisabled()){r.params.eGridCell===o.activeElement&&r.eCheckbox.toggle();var s=r.eCheckbox.getValue();r.onCheckboxChanged(s),a.preventDefault()}})},t.prototype.refresh=function(e){return this.params=e,this.updateCheckbox(e),!0},t.prototype.updateCheckbox=function(e){var r,i,o,a,s=!0;if(e.node.group&&e.column){var l=e.column.getColId();l.startsWith(nd)?a=e.value==null||e.value===""?void 0:e.value==="true":e.node.aggData&&e.node.aggData[l]!==void 0?a=(r=e.value)!==null&&r!==void 0?r:void 0:s=!1}else a=(i=e.value)!==null&&i!==void 0?i:void 0;if(!s){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(a);var u=e.disabled!=null?e.disabled:!(!((o=e.column)===null||o===void 0)&&o.isCellEditable(e.node));this.eCheckbox.setDisabled(u);var c=this.localeService.getLocaleTextFunc(),d=VV(c,a),p=u?d:"".concat(c("ariaToggleCellValue","Press SPACE to toggle cell value")," (").concat(d,")");this.eCheckbox.setInputAriaLabel(p)},t.prototype.onCheckboxChanged=function(e){var r=this.params,i=r.column,o=r.node,a=r.rowIndex,s=r.value,l={type:M.EVENT_CELL_EDITING_STARTED,column:i,colDef:i==null?void 0:i.getColDef(),data:o.data,node:o,rowIndex:a,rowPinned:o.rowPinned,value:s};this.eventService.dispatchEvent(l);var u=this.params.node.setDataValue(this.params.column,e,"edit"),c={type:M.EVENT_CELL_EDITING_STOPPED,column:i,colDef:i==null?void 0:i.getColDef(),data:o.data,node:o,rowIndex:a,rowPinned:o.rowPinned,value:s,oldValue:s,newValue:e,valueChanged:u};this.eventService.dispatchEvent(c)},t.TEMPLATE=`
        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
        </div>`,xIe([U("eCheckbox")],t.prototype,"eCheckbox",void 0),t}(Ce),bIe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),EIe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},eQ=function(n){bIe(t,n);function t(){return n.call(this,`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)||this}return t.prototype.init=function(e){var r=this,i;this.params=e;var o=(i=e.value)!==null&&i!==void 0?i:void 0;this.eCheckbox.setValue(o);var a=this.eCheckbox.getInputElement();a.setAttribute("tabindex","-1"),this.setAriaLabel(o),this.addManagedListener(this.eCheckbox,M.EVENT_FIELD_VALUE_CHANGED,function(s){return r.setAriaLabel(s.selected)})},t.prototype.getValue=function(){return this.eCheckbox.getValue()},t.prototype.focusIn=function(){this.eCheckbox.getFocusableElement().focus()},t.prototype.afterGuiAttached=function(){this.params.cellStartedEdit&&this.focusIn()},t.prototype.isPopup=function(){return!1},t.prototype.setAriaLabel=function(e){var r=this.localeService.getLocaleTextFunc(),i=VV(r,e),o=r("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel("".concat(o," (").concat(i,")"))},EIe([U("eCheckbox")],t.prototype,"eCheckbox",void 0),t}(gd),OIe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),cB=function(n){OIe(t,n);function t(){var e=n.call(this)||this;return e.setTemplate("<div></div>"),e}return t.prototype.init=function(e){var r;this.params=e,this.cssClassPrefix=(r=this.params.cssClassPrefix)!==null&&r!==void 0?r:"ag-menu-option",this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu()},t.prototype.configureDefaults=function(){return!0},t.prototype.addIcon=function(){if(!this.params.isCompact){var e=aa('<span ref="eIcon" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("icon"),'" role="presentation"></span>'));this.params.checked?e.appendChild(jn("check",this.gridOptionsService)):this.params.icon&&(S_(this.params.icon)?e.appendChild(this.params.icon):typeof this.params.icon=="string"?e.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(e)}},t.prototype.addName=function(){var e=aa('<span ref="eName" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("text"),'">').concat(this.params.name||"","</span>"));this.getGui().appendChild(e)},t.prototype.addShortcut=function(){if(!this.params.isCompact){var e=aa('<span ref="eShortcut" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("shortcut"),'">').concat(this.params.shortcut||"","</span>"));this.getGui().appendChild(e)}},t.prototype.addSubMenu=function(){var e=aa('<span ref="ePopupPointer" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("popup-pointer"),'"></span>')),r=this.getGui();if(this.params.subMenu){var i=this.gridOptionsService.get("enableRtl")?"smallLeft":"smallRight";id(r,!1),e.appendChild(jn(i,this.gridOptionsService))}r.appendChild(e)},t.prototype.getClassName=function(e){return"".concat(this.cssClassPrefix,"-").concat(e)},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t}(Ce),RIe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),LM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},oU=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},aU=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},tQ=function(n){RIe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.agGridDefaults={agDateInput:AFe,agColumnHeader:v1,agColumnGroupHeader:BFe,agSortIndicator:uD,agTextColumnFloatingFilter:$Z,agNumberColumnFloatingFilter:IFe,agDateColumnFloatingFilter:RFe,agReadOnlyFloatingFilter:iFe,agAnimateShowChangeCellRenderer:zZ,agAnimateSlideCellRenderer:KZ,agGroupCellRenderer:m1,agGroupRowRenderer:m1,agLoadingCellRenderer:lIe,agCheckboxCellRenderer:JZ,agCellEditor:g1,agTextCellEditor:g1,agNumberCellEditor:XZ,agDateCellEditor:ZZ,agDateStringCellEditor:QZ,agSelectCellEditor:UZ,agLargeTextCellEditor:WZ,agCheckboxCellEditor:eQ,agTextColumnFilter:ty,agNumberColumnFilter:lB,agDateColumnFilter:sB,agLoadingOverlay:cIe,agNoRowsOverlay:pIe,agTooltipComponent:fIe,agMenuItem:cB},e.enterpriseAgDefaultCompsModule={agSetColumnFilter:Te.SetFilterModule,agSetColumnFloatingFilter:Te.SetFilterModule,agMultiColumnFilter:Te.MultiFilterModule,agMultiColumnFloatingFilter:Te.MultiFilterModule,agGroupColumnFilter:Te.RowGroupingModule,agGroupColumnFloatingFilter:Te.RowGroupingModule,agRichSelect:Te.RichSelectModule,agRichSelectCellEditor:Te.RichSelectModule,agDetailCellRenderer:Te.MasterDetailModule,agSparklineCellRenderer:Te.SparklinesModule},e.jsComps={},e}return t.prototype.init=function(){var e=this;this.gridOptions.components!=null&&no(this.gridOptions.components,function(r,i){return e.registerJsComponent(r,i)})},t.prototype.registerDefaultComponent=function(e,r){if(this.agGridDefaults[e]){console.error("Trying to overwrite a default component. You should call registerComponent");return}this.agGridDefaults[e]=r},t.prototype.registerJsComponent=function(e,r){this.jsComps[e]=r},t.prototype.retrieve=function(e,r){var i=this,o=function(d,p){return{componentFromFramework:p,component:d}},a=this.getFrameworkOverrides().frameworkComponent(r,this.gridOptions.components);if(a!=null)return o(a,!0);var s=this.jsComps[r];if(s){var l=this.getFrameworkOverrides().isFrameworkComponent(s);return o(s,l)}var u=this.agGridDefaults[r];if(u)return o(u,!1);var c=this.enterpriseAgDefaultCompsModule[r];return c?ut.__assertRegistered(c,"AG Grid '".concat(e,"' component: ").concat(r),this.context.getGridId()):$f(function(){i.warnAboutMissingComponent(e,r)},"MissingComp"+r),null},t.prototype.warnAboutMissingComponent=function(e,r){var i=aU(aU([],oU(Object.keys(this.agGridDefaults).filter(function(a){return!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(a)})),!1),oU(Object.keys(this.jsComps)),!1),o=w_(r,i,!0,.8).values;console.warn("AG Grid: Could not find '".concat(r,`' component. It was configured as "`).concat(e,": '").concat(r,`'" but it wasn't found in the list of registered components.`)),o.length>0&&console.warn("         Did you mean: [".concat(o.slice(0,3),"]?")),console.warn("If using a custom component check it has been registered as described in: ".concat(this.getFrameworkOverrides().getDocLink("components/")))},LM([O("gridOptions")],t.prototype,"gridOptions",void 0),LM([q],t.prototype,"init",null),t=LM([me("userComponentRegistry")],t),t}(re),TIe={propertyName:"dateComponent",cellRenderer:!1},PIe={propertyName:"headerComponent",cellRenderer:!1},DIe={propertyName:"headerGroupComponent",cellRenderer:!1},sU={propertyName:"cellRenderer",cellRenderer:!0},AIe={propertyName:"cellEditor",cellRenderer:!1},lU={propertyName:"innerRenderer",cellRenderer:!0},MIe={propertyName:"loadingOverlayComponent",cellRenderer:!1},LIe={propertyName:"noRowsOverlayComponent",cellRenderer:!1},FIe={propertyName:"tooltipComponent",cellRenderer:!1},y1={propertyName:"filter",cellRenderer:!1},IIe={propertyName:"floatingFilterComponent",cellRenderer:!1},NIe={propertyName:"toolPanel",cellRenderer:!1},kIe={propertyName:"statusPanel",cellRenderer:!1},GIe={propertyName:"fullWidthCellRenderer",cellRenderer:!0},VIe={propertyName:"loadingCellRenderer",cellRenderer:!0},BIe={propertyName:"groupRowRenderer",cellRenderer:!0},jIe={propertyName:"detailCellRenderer",cellRenderer:!0},HIe={propertyName:"menuItem",cellRenderer:!1},rQ=function(){function n(){}return n.getFloatingFilterType=function(t){return this.filterToFloatingFilterMapping[t]},n.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},n}(),$Ie=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zv=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},nQ=function(n){$Ie(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getHeaderCompDetails=function(e,r){return this.getCompDetails(e,PIe,"agColumnHeader",r)},t.prototype.getHeaderGroupCompDetails=function(e){var r=e.columnGroup.getColGroupDef();return this.getCompDetails(r,DIe,"agColumnGroupHeader",e)},t.prototype.getFullWidthCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,GIe,null,e,!0)},t.prototype.getFullWidthLoadingCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,VIe,"agLoadingCellRenderer",e,!0)},t.prototype.getFullWidthGroupCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,BIe,"agGroupRowRenderer",e,!0)},t.prototype.getFullWidthDetailCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,jIe,"agDetailCellRenderer",e,!0)},t.prototype.getInnerRendererDetails=function(e,r){return this.getCompDetails(e,lU,null,r)},t.prototype.getFullWidthGroupRowInnerCellRenderer=function(e,r){return this.getCompDetails(e,lU,null,r)},t.prototype.getCellRendererDetails=function(e,r){return this.getCompDetails(e,sU,null,r)},t.prototype.getCellEditorDetails=function(e,r){return this.getCompDetails(e,AIe,"agCellEditor",r,!0)},t.prototype.getFilterDetails=function(e,r,i){return this.getCompDetails(e,y1,i,r,!0)},t.prototype.getDateCompDetails=function(e){return this.getCompDetails(this.gridOptions,TIe,"agDateInput",e,!0)},t.prototype.getLoadingOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,MIe,"agLoadingOverlay",e,!0)},t.prototype.getNoRowsOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,LIe,"agNoRowsOverlay",e,!0)},t.prototype.getTooltipCompDetails=function(e){return this.getCompDetails(e.colDef,FIe,"agTooltipComponent",e,!0)},t.prototype.getSetFilterCellRendererDetails=function(e,r){return this.getCompDetails(e,sU,null,r)},t.prototype.getFloatingFilterCompDetails=function(e,r,i){return this.getCompDetails(e,IIe,i,r)},t.prototype.getToolPanelCompDetails=function(e,r){return this.getCompDetails(e,NIe,null,r,!0)},t.prototype.getStatusPanelCompDetails=function(e,r){return this.getCompDetails(e,kIe,null,r,!0)},t.prototype.getMenuItemCompDetails=function(e,r){return this.getCompDetails(e,HIe,"agMenuItem",r,!0)},t.prototype.getCompDetails=function(e,r,i,o,a){var s=this;a===void 0&&(a=!1);var l=r.propertyName,u=r.cellRenderer,c=this.getCompKeys(e,r,o),d=c.compName,p=c.jsComp,h=c.fwComp,f=c.paramsFromSelector,v=c.popupFromSelector,g=c.popupPositionFromSelector,m=function(w){var _=s.userComponentRegistry.retrieve(l,w);_&&(p=_.componentFromFramework?void 0:_.component,h=_.componentFromFramework?_.component:void 0)};if(d!=null&&m(d),p==null&&h==null&&i!=null&&m(i),p&&u&&!this.agComponentUtils.doesImplementIComponent(p)&&(p=this.agComponentUtils.adaptFunction(l,p)),!p&&!h){a&&console.error("AG Grid: Could not find component ".concat(d,", did you forget to configure this component?"));return}var y=this.mergeParamsWithApplicationProvidedParams(e,r,o,f),C=p==null,S=p||h;return{componentFromFramework:C,componentClass:S,params:y,type:r,popupFromSelector:v,popupPositionFromSelector:g,newAgStackInstance:function(){return s.newAgStackInstance(S,C,y,r)}}},t.prototype.getCompKeys=function(e,r,i){var o=this,a=r.propertyName,s,l,u,c,d,p;if(e){var h=e,f=h[a+"Selector"],v=f?f(i):null,g=function(m){if(typeof m=="string")s=m;else if(m!=null&&m!==!0){var y=o.getFrameworkOverrides().isFrameworkComponent(m);y?u=m:l=m}};v?(g(v.component),c=v.params,d=v.popup,p=v.popupPosition):g(h[a])}return{compName:s,jsComp:l,fwComp:u,paramsFromSelector:c,popupFromSelector:d,popupPositionFromSelector:p}},t.prototype.newAgStackInstance=function(e,r,i,o){var a=o.propertyName,s=!r,l;if(s)l=new e;else{var u=this.componentMetadataProvider.retrieve(a);l=this.frameworkComponentWrapper.wrap(e,u.mandatoryMethodList,u.optionalMethodList,o)}var c=this.initComponent(l,i);return c==null?Ot.resolve(l):c.then(function(){return l})},t.prototype.mergeParamsWithApplicationProvidedParams=function(e,r,i,o){o===void 0&&(o=null);var a=this.gridOptionsService.getGridCommonParams();Qa(a,i);var s=e,l=s&&s[r.propertyName+"Params"];if(typeof l=="function"){var u=l(i);Qa(a,u)}else typeof l=="object"&&Qa(a,l);return Qa(a,o),a},t.prototype.initComponent=function(e,r){if(this.context.createBean(e),e.init!=null)return e.init(r)},t.prototype.getDefaultFloatingFilterType=function(e,r){if(e==null)return null;var i=null,o=this.getCompKeys(e,y1),a=o.compName,s=o.jsComp,l=o.fwComp;if(a)i=rQ.getFloatingFilterType(a);else{var u=s==null&&l==null&&e.filter===!0;u&&(i=r())}return i},zv([O("gridOptions")],t.prototype,"gridOptions",void 0),zv([O("agComponentUtils")],t.prototype,"agComponentUtils",void 0),zv([O("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),zv([O("userComponentRegistry")],t.prototype,"userComponentRegistry",void 0),zv([xt("frameworkComponentWrapper")],t.prototype,"frameworkComponentWrapper",void 0),t=zv([me("userComponentFactory")],t),t}(re),iQ=function(){function n(){}return n.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0},n.ALL_PROPERTIES=Object.keys(n.ColDefPropertyMap),n}(),pv;(function(n){n[n.SINGLE_SHEET=0]="SINGLE_SHEET",n[n.MULTI_SHEET=1]="MULTI_SHEET"})(pv||(pv={}));var WIe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),FM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},oQ=function(n){WIe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.dragEndFunctions=[],e.dragSources=[],e}return t.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},t.prototype.removeListener=function(e){var r=e.dragSource.eElement,i=e.mouseDownListener;if(r.removeEventListener("mousedown",i),e.touchEnabled){var o=e.touchStartListener;r.removeEventListener("touchstart",o,{passive:!0})}},t.prototype.removeDragSource=function(e){var r=this.dragSources.find(function(i){return i.dragSource===e});r&&(this.removeListener(r),Jo(this.dragSources,r))},t.prototype.isDragging=function(){return this.dragging},t.prototype.addDragSource=function(e){var r=this,i=this.onMouseDown.bind(this,e),o=e.eElement,a=e.includeTouch,s=e.stopPropagationForTouch;o.addEventListener("mousedown",i);var l=null,u=this.gridOptionsService.get("suppressTouch");a&&!u&&(l=function(c){KV(c.target)||(c.cancelable&&(c.preventDefault(),s&&c.stopPropagation()),r.onTouchStart(e,c))},o.addEventListener("touchstart",l,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:i,touchStartListener:l,touchEnabled:!!a})},t.prototype.getStartTarget=function(){return this.startTarget},t.prototype.onTouchStart=function(e,r){var i=this;this.currentDragParams=e,this.dragging=!1;var o=r.touches[0];this.touchLastTime=o,this.touchStart=o;var a=function(d){return i.onTouchMove(d,e.eElement)},s=function(d){return i.onTouchUp(d,e.eElement)},l=function(d){d.cancelable&&d.preventDefault()},u=r.target,c=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:l,options:{passive:!1}},{target:u,type:"touchmove",listener:a,options:{passive:!0}},{target:u,type:"touchend",listener:s,options:{passive:!0}},{target:u,type:"touchcancel",listener:s,options:{passive:!0}}];this.addTemporaryEvents(c),e.dragStartPixels===0&&this.onCommonMove(o,this.touchStart,e.eElement)},t.prototype.onMouseDown=function(e,r){var i=this,o=r;if(!(e.skipMouseEvent&&e.skipMouseEvent(r))&&!o._alreadyProcessedByDragService&&(o._alreadyProcessedByDragService=!0,r.button===0)){this.shouldPreventMouseEvent(r)&&r.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=r,this.startTarget=r.target;var a=function(d){return i.onMouseMove(d,e.eElement)},s=function(d){return i.onMouseUp(d,e.eElement)},l=function(d){return d.preventDefault()},u=this.gridOptionsService.getRootNode(),c=[{target:u,type:"mousemove",listener:a},{target:u,type:"mouseup",listener:s},{target:u,type:"contextmenu",listener:l}];this.addTemporaryEvents(c),e.dragStartPixels===0&&this.onMouseMove(r,e.eElement)}},t.prototype.addTemporaryEvents=function(e){e.forEach(function(r){var i=r.target,o=r.type,a=r.listener,s=r.options;i.addEventListener(o,a,s)}),this.dragEndFunctions.push(function(){e.forEach(function(r){var i=r.target,o=r.type,a=r.listener,s=r.options;i.removeEventListener(o,a,s)})})},t.prototype.isEventNearStartEvent=function(e,r){var i=this.currentDragParams.dragStartPixels,o=ye(i)?i:4;return rB(e,r,o)},t.prototype.getFirstActiveTouch=function(e){for(var r=0;r<e.length;r++)if(e[r].identifier===this.touchStart.identifier)return e[r];return null},t.prototype.onCommonMove=function(e,r,i){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,r))return;this.dragging=!0;var o={type:M.EVENT_DRAG_STARTED,target:i};this.eventService.dispatchEvent(o),this.currentDragParams.onDragStart(r),this.currentDragParams.onDragging(r)}this.currentDragParams.onDragging(e)},t.prototype.onTouchMove=function(e,r){var i=this.getFirstActiveTouch(e.touches);i&&this.onCommonMove(i,this.touchStart,r)},t.prototype.onMouseMove=function(e,r){var i;if(Zu()){var o=this.gridOptionsService.getDocument();(i=o.getSelection())===null||i===void 0||i.removeAllRanges()}this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,r)},t.prototype.shouldPreventMouseEvent=function(e){var r=this.gridOptionsService.get("enableCellTextSelection"),i=e.type==="mousemove";return r&&i&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)},t.prototype.isOverFormFieldElement=function(e){var r=e.target,i=r==null?void 0:r.tagName.toLocaleLowerCase();return!!(i!=null&&i.match("^a$|textarea|input|select|button"))},t.prototype.onTouchUp=function(e,r){var i=this.getFirstActiveTouch(e.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,r)},t.prototype.onMouseUp=function(e,r){this.onUpCommon(e,r)},t.prototype.onUpCommon=function(e,r){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(e);var i={type:M.EVENT_DRAG_STOPPED,target:r};this.eventService.dispatchEvent(i)}this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(o){return o()}),this.dragEndFunctions.length=0},FM([O("mouseEventService")],t.prototype,"mouseEventService",void 0),FM([Gr],t.prototype,"removeAllListeners",null),t=FM([me("dragService")],t),t}(re),b_=function(){function n(t){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=t.scrollContainer,this.scrollHorizontally=t.scrollAxis.indexOf("x")!==-1,this.scrollVertically=t.scrollAxis.indexOf("y")!==-1,this.scrollByTick=t.scrollByTick!=null?t.scrollByTick:20,t.onScrollCallback&&(this.onScrollCallback=t.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=t.getVerticalPosition,this.setVerticalPosition=t.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=t.getHorizontalPosition,this.setHorizontalPosition=t.setHorizontalPosition),this.shouldSkipVerticalScroll=t.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=t.shouldSkipHorizontalScroll||function(){return!1}}return n.prototype.check=function(t,e){e===void 0&&(e=!1);var r=e||this.shouldSkipVerticalScroll();if(!(r&&this.shouldSkipHorizontalScroll())){var i=this.scrollContainer.getBoundingClientRect(),o=this.scrollByTick;this.tickLeft=t.clientX<i.left+o,this.tickRight=t.clientX>i.right-o,this.tickUp=t.clientY<i.top+o&&!r,this.tickDown=t.clientY>i.bottom-o&&!r,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},n.prototype.ensureTickingStarted=function(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},n.prototype.doTick=function(){this.tickCount++;var t;if(t=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var e=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(e-t),this.tickDown&&this.setVerticalPosition(e+t)}if(this.scrollHorizontally){var r=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(r-t),this.tickRight&&this.setHorizontalPosition(r+t)}this.onScrollCallback&&this.onScrollCallback()},n.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},n}(),UIe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),uU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},IM="ag-list-item-hovered",dB=function(n){UIe(t,n);function t(e,r,i){var o=n.call(this)||this;return o.comp=e,o.virtualList=r,o.params=i,o.currentDragValue=null,o.lastHoveredListItem=null,o}return t.prototype.postConstruct=function(){this.addManagedListener(this.params.eventSource,this.params.listItemDragStartEvent,this.listItemDragStart.bind(this)),this.addManagedListener(this.params.eventSource,this.params.listItemDragEndEvent,this.listItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()},t.prototype.listItemDragStart=function(e){this.currentDragValue=this.params.getCurrentDragValue(e),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)},t.prototype.listItemDragEnd=function(){var e=this;window.setTimeout(function(){e.currentDragValue=null,e.moveBlocked=!1},10)},t.prototype.createDropTarget=function(){var e=this,r={isInterestedIn:function(i){return i===e.params.dragSourceType},getIconName:function(){return e.moveBlocked?Wt.ICON_PINNED:Wt.ICON_MOVE},getContainer:function(){return e.comp.getGui()},onDragging:function(i){return e.onDragging(i)},onDragStop:function(){return e.onDragStop()},onDragLeave:function(){return e.onDragLeave()}};this.dragAndDropService.addDropTarget(r)},t.prototype.createAutoScrollService=function(){var e=this.virtualList.getGui();this.autoScrollService=new b_({scrollContainer:e,scrollAxis:"y",getVerticalPosition:function(){return e.scrollTop},setVerticalPosition:function(r){return e.scrollTop=r}})},t.prototype.onDragging=function(e){if(!(!this.currentDragValue||this.moveBlocked)){var r=this.getListDragItem(e),i=this.virtualList.getComponentAt(r.rowIndex);if(i){var o=i.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===r.rowIndex&&this.lastHoveredListItem.position===r.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredListItem=r,c1(o,IM),c1(o,"ag-item-highlight-".concat(r.position)))}}},t.prototype.getListDragItem=function(e){var r=this.virtualList.getGui(),i=parseFloat(window.getComputedStyle(r).paddingTop),o=this.virtualList.getRowHeight(),a=this.virtualList.getScrollTop(),s=Math.max(0,(e.y-i+a)/o),l=this.params.getNumRows(this.comp)-1,u=Math.min(l,s)|0;return{rowIndex:u,position:Math.round(s)>s||s>l?"bottom":"top",component:this.virtualList.getComponentAt(u)}},t.prototype.onDragStop=function(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearHoveredItems(),this.autoScrollService.ensureCleared())},t.prototype.onDragLeave=function(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()},t.prototype.clearHoveredItems=function(){var e=this.virtualList.getGui();e.querySelectorAll(".".concat(IM)).forEach(function(r){[IM,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(function(i){r.classList.remove(i)})}),this.lastHoveredListItem=null},uU([O("dragAndDropService")],t.prototype,"dragAndDropService",void 0),uU([q],t.prototype,"postConstruct",null),t}(re),zu;(function(n){n[n.Above=0]="Above",n[n.Below=1]="Below"})(zu||(zu={}));var Gt=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};function Mf(n){var t=n,e=t!=null&&t.getFrameworkComponentInstance!=null;return e?t.getFrameworkComponentInstance():n}var pB=function(){function n(){this.detailGridInfoMap={},this.destroyCalled=!1}return n.prototype.init=function(){var t=this;switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel;break}this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl()})},n.prototype.__getAlignedGridService=function(){return this.alignedGridsService},n.prototype.__getContext=function(){return this.context},n.prototype.__getModel=function(){return this.rowModel},n.prototype.getGridId=function(){return this.context.getGridId()},n.prototype.addDetailGridInfo=function(t,e){this.detailGridInfoMap[t]=e},n.prototype.removeDetailGridInfo=function(t){this.detailGridInfoMap[t]=void 0},n.prototype.getDetailGridInfo=function(t){return this.detailGridInfoMap[t]},n.prototype.forEachDetailGridInfo=function(t){var e=0;no(this.detailGridInfoMap,function(r,i){ye(i)&&(t(i,e),e++)})},n.prototype.getDataAsCsv=function(t){if(ut.__assertRegistered(Te.CsvExportModule,"api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(t)},n.prototype.exportDataAsCsv=function(t){ut.__assertRegistered(Te.CsvExportModule,"api.exportDataAsCSv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(t)},n.prototype.assertNotExcelMultiSheet=function(t,e){return ut.__assertRegistered(Te.ExcelExportModule,"api."+t,this.context.getGridId())?this.excelCreator.getFactoryMode()===pv.MULTI_SHEET?(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1):!0:!1},n.prototype.getDataAsExcel=function(t){if(this.assertNotExcelMultiSheet("getDataAsExcel",t))return this.excelCreator.getDataAsExcel(t)},n.prototype.exportDataAsExcel=function(t){this.assertNotExcelMultiSheet("exportDataAsExcel",t)&&this.excelCreator.exportDataAsExcel(t)},n.prototype.getSheetDataForExcel=function(t){if(ut.__assertRegistered(Te.ExcelExportModule,"api.getSheetDataForExcel",this.context.getGridId()))return this.excelCreator.setFactoryMode(pv.MULTI_SHEET),this.excelCreator.getSheetDataForExcel(t)},n.prototype.getMultipleSheetsAsExcel=function(t){if(ut.__assertRegistered(Te.ExcelExportModule,"api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(t)},n.prototype.exportMultipleSheetsAsExcel=function(t){ut.__assertRegistered(Te.ExcelExportModule,"api.exportMultipleSheetsAsExcel",this.context.getGridId())&&this.excelCreator.exportMultipleSheetsAsExcel(t)},n.prototype.setGridAriaProperty=function(t,e){if(t){var r=this.ctrlsService.getGridBodyCtrl().getGui(),i="aria-".concat(t);e===null?r.removeAttribute(i):r.setAttribute(i,e)}},n.prototype.logMissingRowModel=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];console.error("AG Grid: api.".concat(t," can only be called when gridOptions.rowModelType is ").concat(e.join(" or ")))},n.prototype.logDeprecation=function(t,e,r,i){at("Since ".concat(t," api.").concat(e," is deprecated. Please use ").concat(r," instead. ").concat(i))},n.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},n.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},n.prototype.getPinnedTopRow=function(t){return this.pinnedRowModel.getPinnedTopRow(t)},n.prototype.getPinnedBottomRow=function(t){return this.pinnedRowModel.getPinnedBottomRow(t)},n.prototype.expireValueCache=function(){this.valueCache.expire()},n.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},n.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},n.prototype.refreshCells=function(t){var e=this;t===void 0&&(t={}),this.frameworkOverrides.wrapIncoming(function(){return e.rowRenderer.refreshCells(t)})},n.prototype.flashCells=function(t){var e=this;t===void 0&&(t={});var r=function(i){return at("Since v31.1 api.flashCells parameter '".concat(i,"Delay' is deprecated. Please use '").concat(i,"Duration' instead."))};ye(t.fadeDelay)&&r("fade"),ye(t.flashDelay)&&r("flash"),this.frameworkOverrides.wrapIncoming(function(){return e.rowRenderer.flashCells(t)})},n.prototype.redrawRows=function(t){var e=this;t===void 0&&(t={});var r=t?t.rowNodes:void 0;this.frameworkOverrides.wrapIncoming(function(){return e.rowRenderer.redrawRows(r)})},n.prototype.refreshHeader=function(){var t=this;this.frameworkOverrides.wrapIncoming(function(){return t.ctrlsService.getHeaderRowContainerCtrls().forEach(function(e){return e.refresh()})})},n.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},n.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},n.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},n.prototype.getModel=function(){return at("Since v31.1 getModel() is deprecated. Please use the appropriate grid API methods instead."),this.rowModel},n.prototype.setRowNodeExpanded=function(t,e,r){this.expansionService.setRowNodeExpanded(t,e,r)},n.prototype.onGroupExpandedOrCollapsed=function(){if(pt(this.clientSideRowModel)){this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide");return}this.expansionService.onGroupExpandedOrCollapsed()},n.prototype.refreshClientSideRowModel=function(t){if(pt(this.clientSideRowModel)){this.logMissingRowModel("refreshClientSideRowModel","clientSide");return}this.clientSideRowModel.refreshModel(t)},n.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},n.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},n.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},n.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gos.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}},n.prototype.expandAll=function(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")},n.prototype.collapseAll=function(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!1):this.logMissingRowModel("collapseAll","clientSide","serverSide")},n.prototype.addRenderedRowListener=function(t,e,r){this.rowRenderer.addRenderedRowListener(t,e,r)},n.prototype.getQuickFilter=function(){return this.gos.get("quickFilterText")},n.prototype.getAdvancedFilterModel=function(){return ut.__assertRegistered(Te.AdvancedFilterModule,"api.getAdvancedFilterModel",this.context.getGridId())?this.filterManager.getAdvancedFilterModel():null},n.prototype.setAdvancedFilterModel=function(t){this.filterManager.setAdvancedFilterModel(t)},n.prototype.showAdvancedFilterBuilder=function(){ut.__assertRegistered(Te.AdvancedFilterModule,"api.setAdvancedFilterModel",this.context.getGridId())&&this.filterManager.showAdvancedFilterBuilder("api")},n.prototype.setNodesSelected=function(t){var e=t.nodes.every(function(s){return s.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):s.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),!1):!0});if(e){var r=t.nodes,i=t.source,o=t.newValue,a=r;this.selectionService.setNodesSelected({nodes:a,source:i??"api",newValue:o})}},n.prototype.selectAll=function(t){t===void 0&&(t="apiSelectAll"),this.selectionService.selectAllRowNodes({source:t})},n.prototype.deselectAll=function(t){t===void 0&&(t="apiSelectAll"),this.selectionService.deselectAllRowNodes({source:t})},n.prototype.selectAllFiltered=function(t){t===void 0&&(t="apiSelectAllFiltered"),this.selectionService.selectAllRowNodes({source:t,justFiltered:!0})},n.prototype.deselectAllFiltered=function(t){t===void 0&&(t="apiSelectAllFiltered"),this.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})},n.prototype.getServerSideSelectionState=function(){return pt(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getSelectionState()},n.prototype.setServerSideSelectionState=function(t){if(pt(this.serverSideRowModel)){this.logMissingRowModel("setServerSideSelectionState","serverSide");return}this.selectionService.setSelectionState(t,"api")},n.prototype.selectAllOnCurrentPage=function(t){t===void 0&&(t="apiSelectAllCurrentPage"),this.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})},n.prototype.deselectAllOnCurrentPage=function(t){t===void 0&&(t="apiSelectAllCurrentPage"),this.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})},n.prototype.showLoadingOverlay=function(){this.overlayService.showLoadingOverlay()},n.prototype.showNoRowsOverlay=function(){this.overlayService.showNoRowsOverlay()},n.prototype.hideOverlay=function(){this.overlayService.hideOverlay()},n.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},n.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},n.prototype.getBestCostNodeSelection=function(){if(pt(this.clientSideRowModel)){this.logMissingRowModel("getBestCostNodeSelection","clientSide");return}return this.selectionService.getBestCostNodeSelection()},n.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},n.prototype.ensureColumnVisible=function(t,e){var r=this;e===void 0&&(e="auto"),this.frameworkOverrides.wrapIncoming(function(){return r.gridBodyCtrl.getScrollFeature().ensureColumnVisible(t,e)},"ensureVisible")},n.prototype.ensureIndexVisible=function(t,e){var r=this;this.frameworkOverrides.wrapIncoming(function(){return r.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t,e)},"ensureVisible")},n.prototype.ensureNodeVisible=function(t,e){var r=this;e===void 0&&(e=null),this.frameworkOverrides.wrapIncoming(function(){return r.gridBodyCtrl.getScrollFeature().ensureNodeVisible(t,e)},"ensureVisible")},n.prototype.forEachLeafNode=function(t){if(pt(this.clientSideRowModel)){this.logMissingRowModel("forEachLeafNode","clientSide");return}this.clientSideRowModel.forEachLeafNode(t)},n.prototype.forEachNode=function(t,e){this.rowModel.forEachNode(t,e)},n.prototype.forEachNodeAfterFilter=function(t){if(pt(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilter","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilter(t)},n.prototype.forEachNodeAfterFilterAndSort=function(t){if(pt(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilterAndSort(t)},n.prototype.getFilterInstance=function(t,e){return at("'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."),this.filterManager.getFilterInstance(t,e)},n.prototype.getColumnFilterInstance=function(t){return this.filterManager.getColumnFilterInstance(t)},n.prototype.destroyFilter=function(t){var e=this.columnModel.getPrimaryColumn(t);if(e)return this.filterManager.destroyFilter(e,"api")},n.prototype.getStatusPanel=function(t){if(ut.__assertRegistered(Te.StatusBarModule,"api.getStatusPanel",this.context.getGridId())){var e=this.statusBarService.getStatusPanel(t);return Mf(e)}},n.prototype.getColumnDef=function(t){var e=this.columnModel.getPrimaryColumn(t);return e?e.getColDef():null},n.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},n.prototype.onFilterChanged=function(t){t===void 0&&(t="api"),this.filterManager.onFilterChanged({source:t})},n.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},n.prototype.setFilterModel=function(t){var e=this;this.frameworkOverrides.wrapIncoming(function(){return e.filterManager.setFilterModel(t)})},n.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},n.prototype.getColumnFilterModel=function(t){return this.filterManager.getColumnFilterModel(t)},n.prototype.setColumnFilterModel=function(t,e){return this.filterManager.setColumnFilterModel(t,e)},n.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},n.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},n.prototype.setFocusedCell=function(t,e,r){this.focusService.setFocusedCell({rowIndex:t,column:e,rowPinned:r,forceBrowserFocus:!0})},n.prototype.addRowDropZone=function(t){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(t)},n.prototype.removeRowDropZone=function(t){var e=this.dragAndDropService.findExternalZone(t);e&&this.dragAndDropService.removeDropTarget(e)},n.prototype.getRowDropZoneParams=function(t){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(t)},n.prototype.assertSideBarLoaded=function(t){return ut.__assertRegistered(Te.SideBarModule,"api."+t,this.context.getGridId())},n.prototype.isSideBarVisible=function(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarService.getSideBarComp().isDisplayed()},n.prototype.setSideBarVisible=function(t){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarService.getSideBarComp().setDisplayed(t)},n.prototype.setSideBarPosition=function(t){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarService.getSideBarComp().setSideBarPosition(t)},n.prototype.openToolPanel=function(t){this.assertSideBarLoaded("openToolPanel")&&this.sideBarService.getSideBarComp().openToolPanel(t,"api")},n.prototype.closeToolPanel=function(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarService.getSideBarComp().close("api")},n.prototype.getOpenedToolPanel=function(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarService.getSideBarComp().openedItem():null},n.prototype.refreshToolPanel=function(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarService.getSideBarComp().refresh()},n.prototype.isToolPanelShowing=function(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarService.getSideBarComp().isToolPanelShowing()},n.prototype.getToolPanelInstance=function(t){if(this.assertSideBarLoaded("getToolPanelInstance")){var e=this.sideBarService.getSideBarComp().getToolPanelInstance(t);return Mf(e)}},n.prototype.getSideBar=function(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarService.getSideBarComp().getDef()},n.prototype.resetRowHeights=function(){if(ye(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive()){console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}this.clientSideRowModel.resetRowHeights()}},n.prototype.setRowCount=function(t,e){if(this.serverSideRowModel){if(this.columnModel.isRowGroupEmpty()){this.serverSideRowModel.setRowCount(t,e);return}console.error("AG Grid: setRowCount cannot be used while using row grouping.");return}if(this.infiniteRowModel){this.infiniteRowModel.setRowCount(t,e);return}this.logMissingRowModel("setRowCount","infinite","serverSide")},n.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},n.prototype.getValue=function(t,e){var r=this.columnModel.getPrimaryColumn(t);return pt(r)&&(r=this.columnModel.getGridColumn(t)),pt(r)?null:this.valueService.getValue(r,e)},n.prototype.addEventListener=function(t,e){this.apiEventService.addEventListener(t,e)},n.prototype.addGlobalListener=function(t){this.apiEventService.addGlobalListener(t)},n.prototype.removeEventListener=function(t,e){this.apiEventService.removeEventListener(t,e)},n.prototype.removeGlobalListener=function(t){this.apiEventService.removeGlobalListener(t)},n.prototype.dispatchEvent=function(t){this.eventService.dispatchEvent(t)},n.prototype.destroy=function(){var t="See ".concat(this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed"));if(!this.destroyCalled){var e={type:M.EVENT_GRID_PRE_DESTROYED,state:this.getState()};this.dispatchEvent(e),this.destroyCalled=!0;var r=this.ctrlsService.getGridCtrl();r&&r.destroyGridUi(),this.context.destroy(),RX(this,["isDestroyed"],t)}},n.prototype.isDestroyed=function(){return this.destroyCalled},n.prototype.resetQuickFilter=function(){this.filterManager.resetQuickFilterCache()},n.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(ut.__assertRegistered(Te.RangeSelectionModule,"api.getCellRanges",this.context.getGridId()),null)},n.prototype.addCellRange=function(t){if(this.rangeService){this.rangeService.addCellRange(t);return}ut.__assertRegistered(Te.RangeSelectionModule,"api.addCellRange",this.context.getGridId())},n.prototype.clearRangeSelection=function(){this.rangeService&&this.rangeService.removeAllCellRanges(),ut.__assertRegistered(Te.RangeSelectionModule,"gridApi.clearRangeSelection",this.context.getGridId())},n.prototype.undoCellEditing=function(){this.undoRedoService.undo("api")},n.prototype.redoCellEditing=function(){this.undoRedoService.redo("api")},n.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},n.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},n.prototype.assertChart=function(t,e){if(ut.__assertRegistered(Te.GridChartsModule,"api."+t,this.context.getGridId()))return this.frameworkOverrides.wrapIncoming(function(){return e()})},n.prototype.getChartModels=function(){var t=this;return this.assertChart("getChartModels",function(){return t.chartService.getChartModels()})},n.prototype.getChartRef=function(t){var e=this;return this.assertChart("getChartRef",function(){return e.chartService.getChartRef(t)})},n.prototype.getChartImageDataURL=function(t){var e=this;return this.assertChart("getChartImageDataURL",function(){return e.chartService.getChartImageDataURL(t)})},n.prototype.downloadChart=function(t){var e=this;return this.assertChart("downloadChart",function(){return e.chartService.downloadChart(t)})},n.prototype.openChartToolPanel=function(t){var e=this;return this.assertChart("openChartToolPanel",function(){return e.chartService.openChartToolPanel(t)})},n.prototype.closeChartToolPanel=function(t){var e=this;return this.assertChart("closeChartToolPanel",function(){return e.chartService.closeChartToolPanel(t.chartId)})},n.prototype.createRangeChart=function(t){var e=this;return this.assertChart("createRangeChart",function(){return e.chartService.createRangeChart(t)})},n.prototype.createPivotChart=function(t){var e=this;return this.assertChart("createPivotChart",function(){return e.chartService.createPivotChart(t)})},n.prototype.createCrossFilterChart=function(t){var e=this;return this.assertChart("createCrossFilterChart",function(){return e.chartService.createCrossFilterChart(t)})},n.prototype.updateChart=function(t){var e=this;return this.assertChart("updateChart",function(){return e.chartService.updateChart(t)})},n.prototype.restoreChart=function(t,e){var r=this;return this.assertChart("restoreChart",function(){return r.chartService.restoreChart(t,e)})},n.prototype.assertClipboard=function(t,e){ut.__assertRegistered(Te.ClipboardModule,"api"+t,this.context.getGridId())&&e()},n.prototype.copyToClipboard=function(t){var e=this;this.assertClipboard("copyToClipboard",function(){return e.clipboardService.copyToClipboard(t)})},n.prototype.cutToClipboard=function(t){var e=this;this.assertClipboard("cutToClipboard",function(){return e.clipboardService.cutToClipboard(t)})},n.prototype.copySelectedRowsToClipboard=function(t){var e=this;this.assertClipboard("copySelectedRowsToClipboard",function(){return e.clipboardService.copySelectedRowsToClipboard(t)})},n.prototype.copySelectedRangeToClipboard=function(t){var e=this;this.assertClipboard("copySelectedRangeToClipboard",function(){return e.clipboardService.copySelectedRangeToClipboard(t)})},n.prototype.copySelectedRangeDown=function(){var t=this;this.assertClipboard("copySelectedRangeDown",function(){return t.clipboardService.copyRangeDown()})},n.prototype.pasteFromClipboard=function(){var t=this;this.assertClipboard("pasteFromClipboard",function(){return t.clipboardService.pasteFromClipboard()})},n.prototype.showColumnMenuAfterButtonClick=function(t,e){at("'showColumnMenuAfterButtonClick' is deprecated. Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere.");var r=this.columnModel.getGridColumn(t);this.menuService.showColumnMenu({column:r,buttonElement:e,positionBy:"button"})},n.prototype.showColumnMenuAfterMouseClick=function(t,e){at("'showColumnMenuAfterMouseClick' is deprecated. Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere.");var r=this.columnModel.getGridColumn(t);if(r||(r=this.columnModel.getPrimaryColumn(t)),!r){console.error("AG Grid: column '".concat(t,"' not found"));return}this.menuService.showColumnMenu({column:r,mouseEvent:e,positionBy:"mouse"})},n.prototype.showColumnChooser=function(t){this.menuService.showColumnChooser({chooserParams:t})},n.prototype.showColumnFilter=function(t){var e=this.columnModel.getGridColumn(t);if(!e){console.error("AG Grid: column '".concat(t,"' not found"));return}this.menuService.showFilterMenu({column:e,containerType:"columnFilter",positionBy:"auto"})},n.prototype.showColumnMenu=function(t){var e=this.columnModel.getGridColumn(t);if(!e){console.error("AG Grid: column '".concat(t,"' not found"));return}this.menuService.showColumnMenu({column:e,positionBy:"auto"})},n.prototype.hidePopupMenu=function(){this.menuService.hidePopupMenu()},n.prototype.hideColumnChooser=function(){this.menuService.hideColumnChooser()},n.prototype.tabToNextCell=function(t){return this.navigationService.tabToNextCell(!1,t)},n.prototype.tabToPreviousCell=function(t){return this.navigationService.tabToNextCell(!0,t)},n.prototype.getCellRendererInstances=function(t){t===void 0&&(t={});var e=this.rowRenderer.getCellRendererInstances(t),r=e.map(Mf);return r},n.prototype.getCellEditorInstances=function(t){t===void 0&&(t={});var e=this.rowRenderer.getCellEditorInstances(t),r=e.map(Mf);return r},n.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},n.prototype.stopEditing=function(t){t===void 0&&(t=!1),this.rowRenderer.stopEditing(t)},n.prototype.startEditingCell=function(t){var e=this.columnModel.getGridColumn(t.colKey);if(!e){console.warn("AG Grid: no column found for ".concat(t.colKey));return}var r={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:e},i=t.rowPinned==null;i&&this.ensureIndexVisible(t.rowIndex),this.ensureColumnVisible(t.colKey);var o=this.navigationService.getCellByPosition(r);o&&(this.focusService.isCellFocused(r)||this.focusService.setFocusedCell(r),o.startRowOrCellEdit(t.key))},n.prototype.addAggFunc=function(t,e){this.logDeprecation("v31.1","addAggFunc(key, func)","addAggFuncs({ key: func })"),this.aggFuncService&&this.aggFuncService.addAggFuncs({key:e})},n.prototype.addAggFuncs=function(t){this.aggFuncService&&this.aggFuncService.addAggFuncs(t)},n.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},n.prototype.applyServerSideTransaction=function(t){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransaction","serverSide");return}return this.serverSideTransactionManager.applyTransaction(t)},n.prototype.applyServerSideTransactionAsync=function(t,e){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransactionAsync","serverSide");return}return this.serverSideTransactionManager.applyTransactionAsync(t,e)},n.prototype.applyServerSideRowData=function(t){var e,r,i=(e=t.startRow)!==null&&e!==void 0?e:0,o=(r=t.route)!==null&&r!==void 0?r:[];if(i<0){console.warn("AG Grid: invalid value ".concat(t.startRow," for startRow, the value should be >= 0"));return}this.serverSideRowModel?this.serverSideRowModel.applyRowData(t.successParams,i,o):this.logMissingRowModel("setServerSideDatasource","serverSide")},n.prototype.retryServerSideLoads=function(){if(!this.serverSideRowModel){this.logMissingRowModel("retryServerSideLoads","serverSide");return}this.serverSideRowModel.retryLoads()},n.prototype.flushServerSideAsyncTransactions=function(){if(!this.serverSideTransactionManager){this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide");return}return this.serverSideTransactionManager.flushAsyncTransactions()},n.prototype.applyTransaction=function(t){var e=this;if(!this.clientSideRowModel){this.logMissingRowModel("applyTransaction","clientSide");return}return this.frameworkOverrides.wrapIncoming(function(){return e.clientSideRowModel.updateRowData(t)})},n.prototype.applyTransactionAsync=function(t,e){var r=this;if(!this.clientSideRowModel){this.logMissingRowModel("applyTransactionAsync","clientSide");return}this.frameworkOverrides.wrapIncoming(function(){return r.clientSideRowModel.batchUpdateRowData(t,e)})},n.prototype.flushAsyncTransactions=function(){var t=this;if(!this.clientSideRowModel){this.logMissingRowModel("flushAsyncTransactions","clientSide");return}this.frameworkOverrides.wrapIncoming(function(){return t.clientSideRowModel.flushAsyncTransactions()})},n.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")},n.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")},n.prototype.refreshServerSide=function(t){if(!this.serverSideRowModel){this.logMissingRowModel("refreshServerSide","serverSide");return}this.serverSideRowModel.refreshStore(t)},n.prototype.getServerSideGroupLevelState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])},n.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")},n.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")},n.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},n.prototype.getFirstDisplayedRow=function(){return this.logDeprecation("v31.1","getFirstDisplayedRow","getFirstDisplayedRowIndex"),this.getFirstDisplayedRowIndex()},n.prototype.getFirstDisplayedRowIndex=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},n.prototype.getLastDisplayedRow=function(){return this.logDeprecation("v31.1","getLastDisplayedRow","getLastDisplayedRowIndex"),this.getLastDisplayedRowIndex()},n.prototype.getLastDisplayedRowIndex=function(){return this.rowRenderer.getLastVirtualRenderedRow()},n.prototype.getDisplayedRowAtIndex=function(t){return this.rowModel.getRow(t)},n.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},n.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},n.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},n.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},n.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},n.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},n.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},n.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},n.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},n.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},n.prototype.paginationGoToPage=function(t){this.paginationProxy.goToPage(t)},n.prototype.sizeColumnsToFit=function(t){typeof t=="number"?this.columnModel.sizeColumnsToFit(t,"api"):this.gridBodyCtrl.sizeColumnsToFit(t)},n.prototype.setColumnGroupOpened=function(t,e){this.columnModel.setColumnGroupOpened(t,e,"api")},n.prototype.getColumnGroup=function(t,e){return this.columnModel.getColumnGroup(t,e)},n.prototype.getProvidedColumnGroup=function(t){return this.columnModel.getProvidedColumnGroup(t)},n.prototype.getDisplayNameForColumn=function(t,e){return this.columnModel.getDisplayNameForColumn(t,e)||""},n.prototype.getDisplayNameForColumnGroup=function(t,e){return this.columnModel.getDisplayNameForColumnGroup(t,e)||""},n.prototype.getColumn=function(t){return this.columnModel.getPrimaryColumn(t)},n.prototype.getColumns=function(){return this.columnModel.getAllPrimaryColumns()},n.prototype.applyColumnState=function(t){return this.columnModel.applyColumnState(t,"api")},n.prototype.getColumnState=function(){return this.columnModel.getColumnState()},n.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},n.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},n.prototype.setColumnGroupState=function(t){this.columnModel.setColumnGroupState(t,"api")},n.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},n.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},n.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},n.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},n.prototype.getDisplayedColAfter=function(t){return this.columnModel.getDisplayedColAfter(t)},n.prototype.getDisplayedColBefore=function(t){return this.columnModel.getDisplayedColBefore(t)},n.prototype.setColumnVisible=function(t,e){this.logDeprecation("v31.1","setColumnVisible(key,visible)","setColumnsVisible([key],visible)"),this.columnModel.setColumnsVisible([t],e,"api")},n.prototype.setColumnsVisible=function(t,e){this.columnModel.setColumnsVisible(t,e,"api")},n.prototype.setColumnPinned=function(t,e){this.logDeprecation("v31.1","setColumnPinned(key,pinned)","setColumnsPinned([key],pinned)"),this.columnModel.setColumnsPinned([t],e,"api")},n.prototype.setColumnsPinned=function(t,e){this.columnModel.setColumnsPinned(t,e,"api")},n.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},n.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},n.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},n.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},n.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},n.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},n.prototype.moveColumn=function(t,e){this.logDeprecation("v31.1","moveColumn(key, toIndex)","moveColumns([key], toIndex)"),this.columnModel.moveColumns([t],e,"api")},n.prototype.moveColumnByIndex=function(t,e){this.columnModel.moveColumnByIndex(t,e,"api")},n.prototype.moveColumns=function(t,e){this.columnModel.moveColumns(t,e,"api")},n.prototype.moveRowGroupColumn=function(t,e){this.columnModel.moveRowGroupColumn(t,e,"api")},n.prototype.setColumnAggFunc=function(t,e){this.columnModel.setColumnAggFunc(t,e,"api")},n.prototype.setColumnWidth=function(t,e,r,i){r===void 0&&(r=!0),i===void 0&&(i="api"),this.logDeprecation("v31.1","setColumnWidth(col, width)","setColumnWidths([{key: col, newWidth: width}])"),this.columnModel.setColumnWidths([{key:t,newWidth:e}],!1,r,i)},n.prototype.setColumnWidths=function(t,e,r){e===void 0&&(e=!0),r===void 0&&(r="api"),this.columnModel.setColumnWidths(t,!1,e,r)},n.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},n.prototype.getPivotResultColumn=function(t,e){return this.columnModel.getSecondaryPivotColumn(t,e)},n.prototype.setValueColumns=function(t){this.columnModel.setValueColumns(t,"api")},n.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},n.prototype.removeValueColumn=function(t){this.logDeprecation("v31.1","removeValueColumn(colKey)","removeValueColumns([colKey])"),this.columnModel.removeValueColumns([t],"api")},n.prototype.removeValueColumns=function(t){this.columnModel.removeValueColumns(t,"api")},n.prototype.addValueColumn=function(t){this.logDeprecation("v31.1","addValueColumn(colKey)","addValueColumns([colKey])"),this.columnModel.addValueColumns([t],"api")},n.prototype.addValueColumns=function(t){this.columnModel.addValueColumns(t,"api")},n.prototype.setRowGroupColumns=function(t){this.columnModel.setRowGroupColumns(t,"api")},n.prototype.removeRowGroupColumn=function(t){this.logDeprecation("v31.1","removeRowGroupColumn(colKey)","removeRowGroupColumns([colKey])"),this.columnModel.removeRowGroupColumns([t],"api")},n.prototype.removeRowGroupColumns=function(t){this.columnModel.removeRowGroupColumns(t,"api")},n.prototype.addRowGroupColumn=function(t){this.logDeprecation("v31.1","addRowGroupColumn(colKey)","addRowGroupColumns([colKey])"),this.columnModel.addRowGroupColumns([t],"api")},n.prototype.addRowGroupColumns=function(t){this.columnModel.addRowGroupColumns(t,"api")},n.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},n.prototype.setPivotColumns=function(t){this.columnModel.setPivotColumns(t,"api")},n.prototype.removePivotColumn=function(t){this.logDeprecation("v31.1","removePivotColumn(colKey)","removePivotColumns([colKey])"),this.columnModel.removePivotColumns([t],"api")},n.prototype.removePivotColumns=function(t){this.columnModel.removePivotColumns(t,"api")},n.prototype.addPivotColumn=function(t){this.logDeprecation("v31.1","addPivotColumn(colKey)","addPivotColumns([colKey])"),this.columnModel.addPivotColumns([t],"api")},n.prototype.addPivotColumns=function(t){this.columnModel.addPivotColumns(t,"api")},n.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},n.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},n.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},n.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},n.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},n.prototype.autoSizeColumn=function(t,e){return this.logDeprecation("v31.1","autoSizeColumn(key, skipHeader)","autoSizeColumns([key], skipHeader)"),this.columnModel.autoSizeColumns({columns:[t],skipHeader:e,source:"api"})},n.prototype.autoSizeColumns=function(t,e){this.columnModel.autoSizeColumns({columns:t,skipHeader:e,source:"api"})},n.prototype.autoSizeAllColumns=function(t){this.columnModel.autoSizeAllColumns("api",t)},n.prototype.setPivotResultColumns=function(t){this.columnModel.setSecondaryColumns(t,"api")},n.prototype.getPivotResultColumns=function(){return this.columnModel.getSecondaryColumns()},n.prototype.getState=function(){return this.stateService.getState()},n.prototype.getGridOption=function(t){return this.gos.get(t)},n.prototype.setGridOption=function(t,e){var r;this.updateGridOptions((r={},r[t]=e,r))},n.prototype.updateGridOptions=function(t){this.gos.updateGridOptions({options:t})},n.prototype.__internalUpdateGridOptions=function(t){this.gos.updateGridOptions({options:t,source:"gridOptionsUpdated"})},n.prototype.deprecatedUpdateGridOption=function(t,e){at("set".concat(t.charAt(0).toUpperCase()).concat(t.slice(1,t.length)," is deprecated. Please use 'api.setGridOption('").concat(t,"', newValue)' or 'api.updateGridOptions({ ").concat(t,": newValue })' instead.")),this.setGridOption(t,e)},n.prototype.setPivotMode=function(t){this.deprecatedUpdateGridOption("pivotMode",t)},n.prototype.setPinnedTopRowData=function(t){this.deprecatedUpdateGridOption("pinnedTopRowData",t)},n.prototype.setPinnedBottomRowData=function(t){this.deprecatedUpdateGridOption("pinnedBottomRowData",t)},n.prototype.setPopupParent=function(t){this.deprecatedUpdateGridOption("popupParent",t)},n.prototype.setSuppressModelUpdateAfterUpdateTransaction=function(t){this.deprecatedUpdateGridOption("suppressModelUpdateAfterUpdateTransaction",t)},n.prototype.setDataTypeDefinitions=function(t){this.deprecatedUpdateGridOption("dataTypeDefinitions",t)},n.prototype.setPagination=function(t){this.deprecatedUpdateGridOption("pagination",t)},n.prototype.paginationSetPageSize=function(t){this.deprecatedUpdateGridOption("paginationPageSize",t)},n.prototype.setSideBar=function(t){this.deprecatedUpdateGridOption("sideBar",t)},n.prototype.setSuppressClipboardPaste=function(t){this.deprecatedUpdateGridOption("suppressClipboardPaste",t)},n.prototype.setGroupRemoveSingleChildren=function(t){this.deprecatedUpdateGridOption("groupRemoveSingleChildren",t)},n.prototype.setGroupRemoveLowestSingleChildren=function(t){this.deprecatedUpdateGridOption("groupRemoveLowestSingleChildren",t)},n.prototype.setGroupDisplayType=function(t){this.deprecatedUpdateGridOption("groupDisplayType",t)},n.prototype.setGroupIncludeFooter=function(t){this.deprecatedUpdateGridOption("groupIncludeFooter",t)},n.prototype.setGroupIncludeTotalFooter=function(t){this.deprecatedUpdateGridOption("groupIncludeTotalFooter",t)},n.prototype.setRowClass=function(t){this.deprecatedUpdateGridOption("rowClass",t)},n.prototype.setDeltaSort=function(t){this.deprecatedUpdateGridOption("deltaSort",t)},n.prototype.setSuppressRowDrag=function(t){this.deprecatedUpdateGridOption("suppressRowDrag",t)},n.prototype.setSuppressMoveWhenRowDragging=function(t){this.deprecatedUpdateGridOption("suppressMoveWhenRowDragging",t)},n.prototype.setSuppressRowClickSelection=function(t){this.deprecatedUpdateGridOption("suppressRowClickSelection",t)},n.prototype.setEnableAdvancedFilter=function(t){this.deprecatedUpdateGridOption("enableAdvancedFilter",t)},n.prototype.setIncludeHiddenColumnsInAdvancedFilter=function(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInAdvancedFilter",t)},n.prototype.setAdvancedFilterParent=function(t){this.deprecatedUpdateGridOption("advancedFilterParent",t)},n.prototype.setAdvancedFilterBuilderParams=function(t){this.deprecatedUpdateGridOption("advancedFilterBuilderParams",t)},n.prototype.setQuickFilter=function(t){at("setQuickFilter is deprecated. Please use 'api.setGridOption('quickFilterText', newValue)' or 'api.updateGridOptions({ quickFilterText: newValue })' instead."),this.gos.updateGridOptions({options:{quickFilterText:t}})},n.prototype.setExcludeHiddenColumnsFromQuickFilter=function(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",!t)},n.prototype.setIncludeHiddenColumnsInQuickFilter=function(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",t)},n.prototype.setQuickFilterParser=function(t){this.deprecatedUpdateGridOption("quickFilterParser",t)},n.prototype.setQuickFilterMatcher=function(t){this.deprecatedUpdateGridOption("quickFilterMatcher",t)},n.prototype.setAlwaysShowHorizontalScroll=function(t){this.deprecatedUpdateGridOption("alwaysShowHorizontalScroll",t)},n.prototype.setAlwaysShowVerticalScroll=function(t){this.deprecatedUpdateGridOption("alwaysShowVerticalScroll",t)},n.prototype.setFunctionsReadOnly=function(t){this.deprecatedUpdateGridOption("functionsReadOnly",t)},n.prototype.setColumnDefs=function(t,e){e===void 0&&(e="api"),at("setColumnDefs is deprecated. Please use 'api.setGridOption('columnDefs', newValue)' or 'api.updateGridOptions({ columnDefs: newValue })' instead."),this.gos.updateGridOptions({options:{columnDefs:t},source:e})},n.prototype.setAutoGroupColumnDef=function(t,e){e===void 0&&(e="api"),at("setAutoGroupColumnDef is deprecated. Please use 'api.setGridOption('autoGroupColumnDef', newValue)' or 'api.updateGridOptions({ autoGroupColumnDef: newValue })' instead."),this.gos.updateGridOptions({options:{autoGroupColumnDef:t},source:e})},n.prototype.setDefaultColDef=function(t,e){e===void 0&&(e="api"),at("setDefaultColDef is deprecated. Please use 'api.setGridOption('defaultColDef', newValue)' or 'api.updateGridOptions({ defaultColDef: newValue })' instead."),this.gos.updateGridOptions({options:{defaultColDef:t},source:e})},n.prototype.setColumnTypes=function(t,e){e===void 0&&(e="api"),at("setColumnTypes is deprecated. Please use 'api.setGridOption('columnTypes', newValue)' or 'api.updateGridOptions({ columnTypes: newValue })' instead."),this.gos.updateGridOptions({options:{columnTypes:t},source:e})},n.prototype.setTreeData=function(t){this.deprecatedUpdateGridOption("treeData",t)},n.prototype.setServerSideDatasource=function(t){this.deprecatedUpdateGridOption("serverSideDatasource",t)},n.prototype.setCacheBlockSize=function(t){this.deprecatedUpdateGridOption("cacheBlockSize",t)},n.prototype.setDatasource=function(t){this.deprecatedUpdateGridOption("datasource",t)},n.prototype.setViewportDatasource=function(t){this.deprecatedUpdateGridOption("viewportDatasource",t)},n.prototype.setRowData=function(t){this.deprecatedUpdateGridOption("rowData",t)},n.prototype.setEnableCellTextSelection=function(t){this.deprecatedUpdateGridOption("enableCellTextSelection",t)},n.prototype.setHeaderHeight=function(t){this.deprecatedUpdateGridOption("headerHeight",t)},n.prototype.setDomLayout=function(t){this.deprecatedUpdateGridOption("domLayout",t)},n.prototype.setFillHandleDirection=function(t){this.deprecatedUpdateGridOption("fillHandleDirection",t)},n.prototype.setGroupHeaderHeight=function(t){this.deprecatedUpdateGridOption("groupHeaderHeight",t)},n.prototype.setFloatingFiltersHeight=function(t){this.deprecatedUpdateGridOption("floatingFiltersHeight",t)},n.prototype.setPivotHeaderHeight=function(t){this.deprecatedUpdateGridOption("pivotHeaderHeight",t)},n.prototype.setPivotGroupHeaderHeight=function(t){this.deprecatedUpdateGridOption("pivotGroupHeaderHeight",t)},n.prototype.setAnimateRows=function(t){this.deprecatedUpdateGridOption("animateRows",t)},n.prototype.setIsExternalFilterPresent=function(t){this.deprecatedUpdateGridOption("isExternalFilterPresent",t)},n.prototype.setDoesExternalFilterPass=function(t){this.deprecatedUpdateGridOption("doesExternalFilterPass",t)},n.prototype.setNavigateToNextCell=function(t){this.deprecatedUpdateGridOption("navigateToNextCell",t)},n.prototype.setTabToNextCell=function(t){this.deprecatedUpdateGridOption("tabToNextCell",t)},n.prototype.setTabToNextHeader=function(t){this.deprecatedUpdateGridOption("tabToNextHeader",t)},n.prototype.setNavigateToNextHeader=function(t){this.deprecatedUpdateGridOption("navigateToNextHeader",t)},n.prototype.setRowGroupPanelShow=function(t){this.deprecatedUpdateGridOption("rowGroupPanelShow",t)},n.prototype.setGetGroupRowAgg=function(t){this.deprecatedUpdateGridOption("getGroupRowAgg",t)},n.prototype.setGetBusinessKeyForNode=function(t){this.deprecatedUpdateGridOption("getBusinessKeyForNode",t)},n.prototype.setGetChildCount=function(t){this.deprecatedUpdateGridOption("getChildCount",t)},n.prototype.setProcessRowPostCreate=function(t){this.deprecatedUpdateGridOption("processRowPostCreate",t)},n.prototype.setGetRowId=function(t){at("getRowId is a static property and can no longer be updated.")},n.prototype.setGetRowClass=function(t){this.deprecatedUpdateGridOption("getRowClass",t)},n.prototype.setIsFullWidthRow=function(t){this.deprecatedUpdateGridOption("isFullWidthRow",t)},n.prototype.setIsRowSelectable=function(t){this.deprecatedUpdateGridOption("isRowSelectable",t)},n.prototype.setIsRowMaster=function(t){this.deprecatedUpdateGridOption("isRowMaster",t)},n.prototype.setPostSortRows=function(t){this.deprecatedUpdateGridOption("postSortRows",t)},n.prototype.setGetDocument=function(t){this.deprecatedUpdateGridOption("getDocument",t)},n.prototype.setGetContextMenuItems=function(t){this.deprecatedUpdateGridOption("getContextMenuItems",t)},n.prototype.setGetMainMenuItems=function(t){this.deprecatedUpdateGridOption("getMainMenuItems",t)},n.prototype.setProcessCellForClipboard=function(t){this.deprecatedUpdateGridOption("processCellForClipboard",t)},n.prototype.setSendToClipboard=function(t){this.deprecatedUpdateGridOption("sendToClipboard",t)},n.prototype.setProcessCellFromClipboard=function(t){this.deprecatedUpdateGridOption("processCellFromClipboard",t)},n.prototype.setProcessPivotResultColDef=function(t){this.deprecatedUpdateGridOption("processPivotResultColDef",t)},n.prototype.setProcessPivotResultColGroupDef=function(t){this.deprecatedUpdateGridOption("processPivotResultColGroupDef",t)},n.prototype.setPostProcessPopup=function(t){this.deprecatedUpdateGridOption("postProcessPopup",t)},n.prototype.setInitialGroupOrderComparator=function(t){this.deprecatedUpdateGridOption("initialGroupOrderComparator",t)},n.prototype.setGetChartToolbarItems=function(t){this.deprecatedUpdateGridOption("getChartToolbarItems",t)},n.prototype.setPaginationNumberFormatter=function(t){this.deprecatedUpdateGridOption("paginationNumberFormatter",t)},n.prototype.setGetServerSideGroupLevelParams=function(t){this.deprecatedUpdateGridOption("getServerSideGroupLevelParams",t)},n.prototype.setIsServerSideGroupOpenByDefault=function(t){this.deprecatedUpdateGridOption("isServerSideGroupOpenByDefault",t)},n.prototype.setIsApplyServerSideTransaction=function(t){this.deprecatedUpdateGridOption("isApplyServerSideTransaction",t)},n.prototype.setIsServerSideGroup=function(t){this.deprecatedUpdateGridOption("isServerSideGroup",t)},n.prototype.setGetServerSideGroupKey=function(t){this.deprecatedUpdateGridOption("getServerSideGroupKey",t)},n.prototype.setGetRowStyle=function(t){this.deprecatedUpdateGridOption("getRowStyle",t)},n.prototype.setGetRowHeight=function(t){this.deprecatedUpdateGridOption("getRowHeight",t)},Gt([xt("csvCreator")],n.prototype,"csvCreator",void 0),Gt([xt("excelCreator")],n.prototype,"excelCreator",void 0),Gt([O("rowRenderer")],n.prototype,"rowRenderer",void 0),Gt([O("navigationService")],n.prototype,"navigationService",void 0),Gt([O("filterManager")],n.prototype,"filterManager",void 0),Gt([O("columnModel")],n.prototype,"columnModel",void 0),Gt([O("selectionService")],n.prototype,"selectionService",void 0),Gt([O("gridOptionsService")],n.prototype,"gos",void 0),Gt([O("valueService")],n.prototype,"valueService",void 0),Gt([O("alignedGridsService")],n.prototype,"alignedGridsService",void 0),Gt([O("eventService")],n.prototype,"eventService",void 0),Gt([O("pinnedRowModel")],n.prototype,"pinnedRowModel",void 0),Gt([O("context")],n.prototype,"context",void 0),Gt([O("rowModel")],n.prototype,"rowModel",void 0),Gt([O("sortController")],n.prototype,"sortController",void 0),Gt([O("paginationProxy")],n.prototype,"paginationProxy",void 0),Gt([O("focusService")],n.prototype,"focusService",void 0),Gt([O("dragAndDropService")],n.prototype,"dragAndDropService",void 0),Gt([xt("rangeService")],n.prototype,"rangeService",void 0),Gt([xt("clipboardService")],n.prototype,"clipboardService",void 0),Gt([xt("aggFuncService")],n.prototype,"aggFuncService",void 0),Gt([O("menuService")],n.prototype,"menuService",void 0),Gt([O("valueCache")],n.prototype,"valueCache",void 0),Gt([O("animationFrameService")],n.prototype,"animationFrameService",void 0),Gt([xt("statusBarService")],n.prototype,"statusBarService",void 0),Gt([xt("chartService")],n.prototype,"chartService",void 0),Gt([xt("undoRedoService")],n.prototype,"undoRedoService",void 0),Gt([xt("rowNodeBlockLoader")],n.prototype,"rowNodeBlockLoader",void 0),Gt([xt("ssrmTransactionManager")],n.prototype,"serverSideTransactionManager",void 0),Gt([O("ctrlsService")],n.prototype,"ctrlsService",void 0),Gt([O("overlayService")],n.prototype,"overlayService",void 0),Gt([xt("sideBarService")],n.prototype,"sideBarService",void 0),Gt([O("stateService")],n.prototype,"stateService",void 0),Gt([O("expansionService")],n.prototype,"expansionService",void 0),Gt([O("apiEventService")],n.prototype,"apiEventService",void 0),Gt([O("frameworkOverrides")],n.prototype,"frameworkOverrides",void 0),Gt([q],n.prototype,"init",null),n=Gt([me("gridApi")],n),n}(),zIe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),CC=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},aQ=function(n){zIe(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.quickFilter=null,r.quickFilterParts=null,r}e=t,t.prototype.postConstruct=function(){var r=this;this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return r.resetQuickFilterCache()}),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,function(){return r.resetQuickFilterCache()}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return r.resetQuickFilterCache()}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VISIBLE,function(){r.gridOptionsService.get("includeHiddenColumnsInQuickFilter")||r.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",function(i){return r.setQuickFilter(i.currentValue)}),this.addManagedPropertyListener("includeHiddenColumnsInQuickFilter",function(){return r.onIncludeHiddenColumnsInQuickFilterChanged()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.parser=this.gridOptionsService.get("quickFilterParser"),this.matcher=this.gridOptionsService.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],function(){return r.setQuickFilterParserAndMatcher()})},t.prototype.isQuickFilterPresent=function(){return this.quickFilter!==null},t.prototype.doesRowPassQuickFilter=function(r){var i=this,o=this.gridOptionsService.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(o,r):this.quickFilterParts.every(function(a){return o?i.doesRowPassQuickFilterCache(r,a):i.doesRowPassQuickFilterNoCache(r,a)})},t.prototype.resetQuickFilterCache=function(){this.rowModel.forEachNode(function(r){return r.quickFilterAggregateText=null})},t.prototype.setQuickFilterParts=function(){var r=this,i=r.quickFilter,o=r.parser;i?this.quickFilterParts=o?o(i):i.split(" "):this.quickFilterParts=null},t.prototype.parseQuickFilter=function(r){return ye(r)?this.gridOptionsService.isRowModelType("clientSide")?r.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},t.prototype.setQuickFilter=function(r){if(r!=null&&typeof r!="string"){console.warn("AG Grid - Grid option quickFilterText only supports string inputs, received: ".concat(typeof r));return}var i=this.parseQuickFilter(r);this.quickFilter!==i&&(this.quickFilter=i,this.setQuickFilterParts(),this.dispatchEvent({type:e.EVENT_QUICK_FILTER_CHANGED}))},t.prototype.setQuickFilterParserAndMatcher=function(){var r=this.gridOptionsService.get("quickFilterParser"),i=this.gridOptionsService.get("quickFilterMatcher"),o=r!==this.parser||i!==this.matcher;this.parser=r,this.matcher=i,o&&(this.setQuickFilterParts(),this.dispatchEvent({type:e.EVENT_QUICK_FILTER_CHANGED}))},t.prototype.onIncludeHiddenColumnsInQuickFilterChanged=function(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchEvent({type:e.EVENT_QUICK_FILTER_CHANGED})},t.prototype.doesRowPassQuickFilterNoCache=function(r,i){var o=this,a=this.columnModel.getAllColumnsForQuickFilter();return a.some(function(s){var l=o.getQuickFilterTextForColumn(s,r);return ye(l)&&l.indexOf(i)>=0})},t.prototype.doesRowPassQuickFilterCache=function(r,i){return this.checkGenerateQuickFilterAggregateText(r),r.quickFilterAggregateText.indexOf(i)>=0},t.prototype.doesRowPassQuickFilterMatcher=function(r,i){var o;r?(this.checkGenerateQuickFilterAggregateText(i),o=i.quickFilterAggregateText):o=this.getQuickFilterAggregateText(i);var a=this,s=a.quickFilterParts,l=a.matcher;return l(s,o)},t.prototype.checkGenerateQuickFilterAggregateText=function(r){r.quickFilterAggregateText||(r.quickFilterAggregateText=this.getQuickFilterAggregateText(r))},t.prototype.getQuickFilterTextForColumn=function(r,i){var o=this.valueService.getValue(r,i,!0),a=r.getColDef();if(a.getQuickFilterText){var s=this.gridOptionsService.addGridCommonParams({value:o,node:i,data:i.data,column:r,colDef:a});o=a.getQuickFilterText(s)}return ye(o)?o.toString().toUpperCase():null},t.prototype.getQuickFilterAggregateText=function(r){var i=this,o=[],a=this.columnModel.getAllColumnsForQuickFilter();return a.forEach(function(s){var l=i.getQuickFilterTextForColumn(s,r);ye(l)&&o.push(l)}),o.join(e.QUICK_FILTER_SEPARATOR)};var e;return t.EVENT_QUICK_FILTER_CHANGED="quickFilterChanged",t.QUICK_FILTER_SEPARATOR=`
`,CC([O("valueService")],t.prototype,"valueService",void 0),CC([O("columnModel")],t.prototype,"columnModel",void 0),CC([O("rowModel")],t.prototype,"rowModel",void 0),CC([q],t.prototype,"postConstruct",null),t=e=CC([me("quickFilterService")],t),t}(re),KIe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),mu=function(){return mu=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},mu.apply(this,arguments)},eu=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},sQ=function(n){KIe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.allColumnFilters=new Map,e.allColumnListeners=new Map,e.activeAggregateFilters=[],e.activeColumnFilters=[],e.processingFilterChange=!1,e.filterModelUpdateQueue=[],e.columnFilterModelUpdateQueue=[],e.advancedFilterModelUpdateQueue=[],e}return t.prototype.init=function(){var e=this,r,i,o;this.addManagedListener(this.eventService,M.EVENT_GRID_COLUMNS_CHANGED,function(){return e.onColumnsChanged()}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VALUE_CHANGED,function(){return e.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_CHANGED,function(){return e.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return e.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,function(){return e.updateAdvancedFilterColumns()}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VISIBLE,function(){return e.updateAdvancedFilterColumns()}),this.addManagedListener(this.eventService,M.EVENT_ROW_DATA_UPDATED,function(){return e.onNewRowsLoaded("rowDataUpdated")}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],function(){e.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",function(){e.updateAggFiltering(),e.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",function(a){return e.setAdvancedFilterModel(a.currentValue)}),this.addManagedListener(this.eventService,M.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,function(a){var s=a.enabled;return e.onAdvancedFilterEnabledChanged(s)}),this.addManagedListener(this.eventService,M.EVENT_DATA_TYPES_INFERRED,function(){return e.processFilterModelUpdateQueue()}),this.addManagedListener(this.quickFilterService,aQ.EVENT_QUICK_FILTER_CHANGED,function(){return e.onFilterChanged({source:"quickFilter"})}),this.initialFilterModel=mu({},(o=(i=(r=this.gridOptionsService.get("initialState"))===null||r===void 0?void 0:r.filter)===null||i===void 0?void 0:i.filterModel)!==null&&o!==void 0?o:{})},t.prototype.isExternalFilterPresentCallback=function(){var e=this.gridOptionsService.getCallback("isExternalFilterPresent");return typeof e=="function"?e({}):!1},t.prototype.doesExternalFilterPass=function(e){var r=this.gridOptionsService.get("doesExternalFilterPass");return typeof r=="function"?r(e):!1},t.prototype.setFilterModel=function(e,r){var i=this;if(r===void 0&&(r="api"),this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}if(this.dataTypeService.isPendingInference()){this.filterModelUpdateQueue.push({model:e,source:r});return}var o=[],a=this.getFilterModel();if(e){var s=nB(Object.keys(e));this.allColumnFilters.forEach(function(l,u){var c=e[u];o.push(i.setModelOnFilterWrapper(l.filterPromise,c)),s.delete(u)}),s.forEach(function(l){var u=i.columnModel.getPrimaryColumn(l)||i.columnModel.getGridColumn(l);if(!u){console.warn("AG Grid: setFilterModel() - no column found for colId: "+l);return}if(!u.isFilterAllowed()){console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+l);return}var c=i.getOrCreateFilterWrapper(u,"NO_UI");if(!c){console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+l);return}o.push(i.setModelOnFilterWrapper(c.filterPromise,e[l]))})}else this.allColumnFilters.forEach(function(l){o.push(i.setModelOnFilterWrapper(l.filterPromise,null))});Ot.all(o).then(function(){var l=i.getFilterModel(),u=[];i.allColumnFilters.forEach(function(c,d){var p=a?a[d]:null,h=l?l[d]:null;F.jsonEquals(p,h)||u.push(c.column)}),u.length>0&&i.onFilterChanged({columns:u,source:r})})},t.prototype.setModelOnFilterWrapper=function(e,r){return new Ot(function(i){e.then(function(o){typeof o.setModel!="function"&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),i()),(o.setModel(r)||Ot.resolve()).then(function(){return i()})})})},t.prototype.getFilterModel=function(){var e=this,r={};return this.allColumnFilters.forEach(function(i,o){var a=e.getModelFromFilterWrapper(i);ye(a)&&(r[o]=a)}),r},t.prototype.getModelFromFilterWrapper=function(e){var r,i=e.filterPromise,o=i.resolveNow(null,function(a){return a});return o==null?(r=this.initialFilterModel[e.column.getColId()])!==null&&r!==void 0?r:null:typeof o.getModel!="function"?(console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel"),null):o.getModel()},t.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},t.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},t.prototype.isExternalFilterPresent=function(){return this.externalFilterPresent},t.prototype.isChildFilterPresent=function(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()},t.prototype.isAdvancedFilterPresent=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()},t.prototype.onAdvancedFilterEnabledChanged=function(e){var r=this,i;e?this.allColumnFilters.size&&(this.allColumnFilters.forEach(function(o){return r.disposeFilterWrapper(o,"advancedFilterEnabled")}),this.onFilterChanged({source:"advancedFilter"})):!((i=this.advancedFilterService)===null||i===void 0)&&i.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))},t.prototype.isAdvancedFilterEnabled=function(){var e;return(e=this.advancedFilterService)===null||e===void 0?void 0:e.isEnabled()},t.prototype.isAdvancedFilterHeaderActive=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()},t.prototype.doAggregateFiltersPass=function(e,r){return this.doColumnFiltersPass(e,r,!0)},t.prototype.updateActiveFilters=function(){var e=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var r=function(a){return a?a.isFilterActive?a.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1):!1},i=!!this.gridOptionsService.getGroupAggFiltering(),o=function(a){var s=!a.isPrimary();if(s)return!0;var l=!e.columnModel.isPivotActive(),u=a.isValueActive();return!u||!l?!1:e.columnModel.isPivotMode()?!0:i};this.allColumnFilters.forEach(function(a){if(a.filterPromise.resolveNow(!1,r)){var s=a.filterPromise.resolveNow(null,function(l){return l});o(a.column)?e.activeAggregateFilters.push(s):e.activeColumnFilters.push(s)}})},t.prototype.updateFilterFlagInColumns=function(e,r){this.allColumnFilters.forEach(function(i){var o=i.filterPromise.resolveNow(!1,function(a){return a.isFilterActive()});i.column.setFilterActive(o,e,r)})},t.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()},t.prototype.doColumnFiltersPass=function(e,r,i){for(var o=e.data,a=e.aggData,s=i?this.activeAggregateFilters:this.activeColumnFilters,l=i?a:o,u=0;u<s.length;u++){var c=s[u];if(!(c==null||c===r)){if(typeof c.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!c.doesFilterPass({node:e,data:l}))return!1}}return!0},t.prototype.resetQuickFilterCache=function(){this.quickFilterService.resetQuickFilterCache()},t.prototype.refreshFiltersForAggregations=function(){var e=this.gridOptionsService.getGroupAggFiltering();e&&this.onFilterChanged()},t.prototype.callOnFilterChangedOutsideRenderCycle=function(e){var r=this,i=function(){return r.onFilterChanged(e)};this.rowRenderer.isRefreshInProgress()?setTimeout(i,0):i()},t.prototype.onFilterChanged=function(e){e===void 0&&(e={});var r=e.source,i=e.filterInstance,o=e.additionalEventAttributes,a=e.columns;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",o),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(function(l){l.filterPromise&&l.filterPromise.then(function(u){u&&u!==i&&u.onAnyFilterChanged&&u.onAnyFilterChanged()})});var s={source:r,type:M.EVENT_FILTER_CHANGED,columns:a||[]};o&&Qa(s,o),this.processingFilterChange=!0,this.eventService.dispatchEvent(s),this.processingFilterChange=!1},t.prototype.isSuppressFlashingCellsBecauseFiltering=function(){var e,r=(e=this.gridOptionsService.get("allowShowChangeAfterFilter"))!==null&&e!==void 0?e:!1;return!r&&this.processingFilterChange},t.prototype.isQuickFilterPresent=function(){return this.quickFilterService.isQuickFilterPresent()},t.prototype.updateAggFiltering=function(){this.aggFiltering=!!this.gridOptionsService.getGroupAggFiltering()},t.prototype.isAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&(this.aggFiltering||this.columnModel.isPivotMode())},t.prototype.isNonAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&!(this.aggFiltering||this.columnModel.isPivotMode())},t.prototype.doesRowPassOtherFilters=function(e,r){return this.doesRowPassFilter({rowNode:r,filterInstanceToSkip:e})},t.prototype.doesRowPassAggregateFilters=function(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))},t.prototype.doesRowPassFilter=function(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))},t.prototype.onNewRowsLoaded=function(e){this.allColumnFilters.forEach(function(r){r.filterPromise.then(function(i){i.onNewRowsLoaded&&i.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(e,{afterDataChange:!0}),this.updateActiveFilters()},t.prototype.createValueGetter=function(e){var r=this;return function(i){var o=i.node;return r.valueService.getValue(e,o,!0)}},t.prototype.createGetValue=function(e){var r=this;return function(i,o){var a=o?r.columnModel.getGridColumn(o):e;return a?r.valueService.getValue(a,i,!0):void 0}},t.prototype.getFilterComponent=function(e,r,i){var o;if(i===void 0&&(i=!0),i)return((o=this.getOrCreateFilterWrapper(e,r))===null||o===void 0?void 0:o.filterPromise)||null;var a=this.cachedFilter(e);return a?a.filterPromise:null},t.prototype.isFilterActive=function(e){var r=this.cachedFilter(e);return!!r&&r.filterPromise.resolveNow(!1,function(i){return i.isFilterActive()})},t.prototype.getOrCreateFilterWrapper=function(e,r){if(!e.isFilterAllowed())return null;var i=this.cachedFilter(e);return i?r!=="NO_UI"&&this.putIntoGui(i,r):(i=this.createFilterWrapper(e,r),this.setColumnFilterWrapper(e,i)),i},t.prototype.cachedFilter=function(e){return this.allColumnFilters.get(e.getColId())},t.prototype.getDefaultFilter=function(e){var r;if(ut.__isRegistered(Te.SetFilterModule,this.context.getGridId()))r="agSetColumnFilter";else{var i=this.dataTypeService.getBaseDataType(e);i==="number"?r="agNumberColumnFilter":i==="date"||i==="dateString"?r="agDateColumnFilter":r="agTextColumnFilter"}return r},t.prototype.getDefaultFloatingFilter=function(e){var r;if(ut.__isRegistered(Te.SetFilterModule,this.context.getGridId()))r="agSetColumnFloatingFilter";else{var i=this.dataTypeService.getBaseDataType(e);i==="number"?r="agNumberColumnFloatingFilter":i==="date"||i==="dateString"?r="agDateColumnFloatingFilter":r="agTextColumnFloatingFilter"}return r},t.prototype.createFilterInstance=function(e){var r=this,i=this.getDefaultFilter(e),o=e.getColDef(),a,s=mu(mu({},this.createFilterParams(e,o)),{filterModifiedCallback:function(){return r.filterModifiedCallbackFactory(a,e)()},filterChangedCallback:function(u){return r.filterChangedCallbackFactory(a,e)(u)},doesRowPassOtherFilter:function(u){return r.doesRowPassOtherFilters(a,u)}}),l=this.userComponentFactory.getFilterDetails(o,s,i);return l?{filterPromise:function(){var u=l.newAgStackInstance();return u&&u.then(function(c){return a=c}),u},compDetails:l}:{filterPromise:null,compDetails:null}},t.prototype.createFilterParams=function(e,r){var i=this.gridOptionsService.addGridCommonParams({column:e,colDef:xV(r),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:function(){return!0}});return i},t.prototype.createFilterWrapper=function(e,r){var i,o={column:e,filterPromise:null,compiledElement:null,guiPromise:Ot.resolve(null),compDetails:null},a=this.createFilterInstance(e),s=a.filterPromise,l=a.compDetails;return o.filterPromise=(i=s==null?void 0:s())!==null&&i!==void 0?i:null,o.compDetails=l,s&&this.putIntoGui(o,r),o},t.prototype.putIntoGui=function(e,r){var i=this,o=document.createElement("div");o.className="ag-filter",e.guiPromise=new Ot(function(a){e.filterPromise.then(function(s){var l=s.getGui();ye(l)||console.warn("AG Grid: getGui method from filter returned ".concat(l,", it should be a DOM element or an HTML template string.")),typeof l=="string"&&(l=aa(l)),o.appendChild(l),a(o);var u={type:M.EVENT_FILTER_OPENED,column:e.column,source:r,eGui:o};i.eventService.dispatchEvent(u)})})},t.prototype.onColumnsChanged=function(){var e=this,r=[];this.allColumnFilters.forEach(function(i,o){var a;i.column.isPrimary()?a=e.columnModel.getPrimaryColumn(o):a=e.columnModel.getGridColumn(o),!a&&(r.push(i.column),e.disposeFilterWrapper(i,"columnChanged"),e.disposeColumnListener(o))}),r.length>0?this.onFilterChanged({columns:r,source:"api"}):this.updateDependantFilters()},t.prototype.updateDependantFilters=function(){var e=this,r=this.columnModel.getGroupAutoColumns();r==null||r.forEach(function(i){i.getColDef().filter==="agGroupColumnFilter"&&e.getOrCreateFilterWrapper(i,"NO_UI")})},t.prototype.isFilterAllowed=function(e){var r,i;if(this.isAdvancedFilterEnabled())return!1;var o=e.isFilterAllowed();if(!o)return!1;var a=this.allColumnFilters.get(e.getColId());return(i=(r=a==null?void 0:a.filterPromise)===null||r===void 0?void 0:r.resolveNow(!0,function(s){return typeof(s==null?void 0:s.isFilterAllowed)=="function"?s==null?void 0:s.isFilterAllowed():!0}))!==null&&i!==void 0?i:!0},t.prototype.getFloatingFilterCompDetails=function(e,r){var i=this,o=function(d){var p=i.getFilterComponent(e,"NO_UI");p!=null&&p.then(function(h){d(Mf(h))})},a=e.getColDef(),s=mu(mu({},this.createFilterParams(e,a)),{filterChangedCallback:function(){return o(function(d){return i.filterChangedCallbackFactory(d,e)()})}}),l=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(a,y1,s),u=this.userComponentFactory.getDefaultFloatingFilterType(a,function(){return i.getDefaultFloatingFilter(e)});u==null&&(u="agReadOnlyFloatingFilter");var c={column:e,filterParams:l,currentParentModel:function(){return i.getCurrentFloatingFilterParentModel(e)},parentFilterInstance:o,showParentFilter:r,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(a,c,u)},t.prototype.getCurrentFloatingFilterParentModel=function(e){var r=this.getFilterComponent(e,"NO_UI",!1);return r?r.resolveNow(null,function(i){return i&&i.getModel()}):null},t.prototype.destroyFilter=function(e,r){r===void 0&&(r="api");var i=e.getColId(),o=this.allColumnFilters.get(i);this.disposeColumnListener(i),delete this.initialFilterModel[i],o&&(this.disposeFilterWrapper(o,r),this.onFilterChanged({columns:[e],source:"api"}))},t.prototype.disposeColumnListener=function(e){var r=this.allColumnListeners.get(e);r&&(this.allColumnListeners.delete(e),r())},t.prototype.disposeFilterWrapper=function(e,r){var i=this;e.filterPromise.then(function(o){i.getContext().destroyBean(o),e.column.setFilterActive(!1,"filterDestroyed"),i.allColumnFilters.delete(e.column.getColId());var a={type:M.EVENT_FILTER_DESTROYED,source:r,column:e.column};i.eventService.dispatchEvent(a)})},t.prototype.filterModifiedCallbackFactory=function(e,r){var i=this;return function(){var o={type:M.EVENT_FILTER_MODIFIED,column:r,filterInstance:e};i.eventService.dispatchEvent(o)}},t.prototype.filterChangedCallbackFactory=function(e,r){var i=this;return function(o){var a,s=(a=o==null?void 0:o.source)!==null&&a!==void 0?a:"api",l={filter:e,additionalEventAttributes:o,columns:[r],source:s};i.callOnFilterChangedOutsideRenderCycle(l)}},t.prototype.checkDestroyFilter=function(e){var r=this,i=this.allColumnFilters.get(e);if(i){var o=i.column,a=(o.isFilterAllowed()?this.createFilterInstance(o):{compDetails:null}).compDetails;if(this.areFilterCompsDifferent(i.compDetails,a)){this.destroyFilter(o,"paramsUpdated");return}var s=o.getColDef().filterParams;if(!i.filterPromise){this.destroyFilter(o,"paramsUpdated");return}i.filterPromise.then(function(l){var u=l!=null&&l.refresh?l.refresh(mu(mu(mu({},r.createFilterParams(o,o.getColDef())),{filterModifiedCallback:r.filterModifiedCallbackFactory(l,o),filterChangedCallback:r.filterChangedCallbackFactory(l,o),doesRowPassOtherFilter:function(c){return r.doesRowPassOtherFilters(l,c)}}),s)):!0;u===!1&&r.destroyFilter(o,"paramsUpdated")})}},t.prototype.setColumnFilterWrapper=function(e,r){var i=this,o=e.getColId();this.allColumnFilters.set(o,r),this.allColumnListeners.set(o,this.addManagedListener(e,Rt.EVENT_COL_DEF_CHANGED,function(){return i.checkDestroyFilter(o)}))},t.prototype.areFilterCompsDifferent=function(e,r){if(!r||!e)return!0;var i=e.componentClass,o=r.componentClass,a=i===o||(i==null?void 0:i.render)&&(o==null?void 0:o.render)&&i.render===o.render;return!a},t.prototype.getAdvancedFilterModel=function(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null},t.prototype.setAdvancedFilterModel=function(e){if(this.isAdvancedFilterEnabled()){if(this.dataTypeService.isPendingInference()){this.advancedFilterModelUpdateQueue.push(e);return}this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}},t.prototype.showAdvancedFilterBuilder=function(e){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(e,!0)},t.prototype.updateAdvancedFilterColumns=function(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})},t.prototype.hasFloatingFilters=function(){if(this.isAdvancedFilterEnabled())return!1;var e=this.columnModel.getAllGridColumns();return e.some(function(r){return r.getColDef().floatingFilter})},t.prototype.getFilterInstance=function(e,r){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}var i=this.getFilterInstanceImpl(e,function(a){if(r){var s=Mf(a);r(s)}}),o=Mf(i);return o},t.prototype.getColumnFilterInstance=function(e){var r=this;return new Promise(function(i){r.getFilterInstance(e,function(o){i(o)})})},t.prototype.getFilterInstanceImpl=function(e,r){var i=this.columnModel.getPrimaryColumn(e);if(i){var o=this.getFilterComponent(i,"NO_UI"),a=o&&o.resolveNow(null,function(s){return s});return a?setTimeout(r,0,a):o&&o.then(function(s){r(s)}),a}},t.prototype.warnAdvancedFilters=function(){at("Column Filter API methods have been disabled as Advanced Filters are enabled.")},t.prototype.setupAdvancedFilterHeaderComp=function(e){var r;(r=this.advancedFilterService)===null||r===void 0||r.getCtrl().setupHeaderComp(e)},t.prototype.getHeaderRowCount=function(){return this.isAdvancedFilterHeaderActive()?1:0},t.prototype.getHeaderHeight=function(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0},t.prototype.processFilterModelUpdateQueue=function(){var e=this;this.filterModelUpdateQueue.forEach(function(r){var i=r.model,o=r.source;return e.setFilterModel(i,o)}),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(function(r){var i=r.key,o=r.model,a=r.resolve;e.setColumnFilterModel(i,o).then(function(){return a()})}),this.columnFilterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue.forEach(function(r){return e.setAdvancedFilterModel(r)}),this.advancedFilterModelUpdateQueue=[]},t.prototype.getColumnFilterModel=function(e){var r=this.getFilterWrapper(e);return r?this.getModelFromFilterWrapper(r):null},t.prototype.setColumnFilterModel=function(e,r){if(this.isAdvancedFilterEnabled())return this.warnAdvancedFilters(),Promise.resolve();if(this.dataTypeService.isPendingInference()){var i=function(){},o=new Promise(function(u){i=u});return this.columnFilterModelUpdateQueue.push({key:e,model:r,resolve:i}),o}var a=this.columnModel.getPrimaryColumn(e),s=a?this.getOrCreateFilterWrapper(a,"NO_UI"):null,l=function(u){return new Promise(function(c){u.then(function(d){return c(d)})})};return s?l(this.setModelOnFilterWrapper(s.filterPromise,r)):Promise.resolve()},t.prototype.getFilterWrapper=function(e){var r,i=this.columnModel.getPrimaryColumn(e);return i&&(r=this.cachedFilter(i))!==null&&r!==void 0?r:null},t.prototype.destroy=function(){var e=this;n.prototype.destroy.call(this),this.allColumnFilters.forEach(function(r){return e.disposeFilterWrapper(r,"gridDestroyed")}),this.allColumnListeners.clear()},eu([O("valueService")],t.prototype,"valueService",void 0),eu([O("columnModel")],t.prototype,"columnModel",void 0),eu([O("rowModel")],t.prototype,"rowModel",void 0),eu([O("userComponentFactory")],t.prototype,"userComponentFactory",void 0),eu([O("rowRenderer")],t.prototype,"rowRenderer",void 0),eu([O("dataTypeService")],t.prototype,"dataTypeService",void 0),eu([O("quickFilterService")],t.prototype,"quickFilterService",void 0),eu([xt("advancedFilterService")],t.prototype,"advancedFilterService",void 0),eu([q],t.prototype,"init",null),t=eu([me("filterManager")],t),t}(re),YIe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),hB=function(n){YIe(t,n);function t(e,r){var i=n.call(this,e)||this;return i.ctrl=r,i}return t.prototype.getCtrl=function(){return this.ctrl},t}(Ce),qIe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),SC=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},lQ=function(n){qIe(t,n);function t(e){return n.call(this,t.TEMPLATE,e)||this}return t.prototype.postConstruct=function(){var e=this,r=this.getGui(),i={addOrRemoveCssClass:function(o,a){return e.addOrRemoveCssClass(o,a)},addOrRemoveBodyCssClass:function(o,a){return e.eFloatingFilterBody.classList.toggle(o,a)},setButtonWrapperDisplayed:function(o){return $t(e.eButtonWrapper,o)},setCompDetails:function(o){return e.setCompDetails(o)},getFloatingFilterComp:function(){return e.compPromise},setWidth:function(o){return r.style.width=o},setMenuIcon:function(o){return e.eButtonShowMainFilter.appendChild(o)}};this.ctrl.setComp(i,r,this.eButtonShowMainFilter,this.eFloatingFilterBody)},t.prototype.setCompDetails=function(e){var r=this;if(!e){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=e.newAgStackInstance(),this.compPromise.then(function(i){return r.afterCompCreated(i)})},t.prototype.destroyFloatingFilterComp=function(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))},t.prototype.afterCompCreated=function(e){if(e){if(!this.isAlive()){this.destroyBean(e);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}},t.TEMPLATE=`<div class="ag-header-cell ag-floating-filter" role="gridcell">
            <div ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">
                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`,SC([U("eFloatingFilterBody")],t.prototype,"eFloatingFilterBody",void 0),SC([U("eButtonWrapper")],t.prototype,"eButtonWrapper",void 0),SC([U("eButtonShowMainFilter")],t.prototype,"eButtonShowMainFilter",void 0),SC([q],t.prototype,"postConstruct",null),SC([Gr],t.prototype,"destroyFloatingFilterComp",null),t}(hB),XIe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ZIe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Nn;(function(n){n.AUTO_HEIGHT="ag-layout-auto-height",n.NORMAL="ag-layout-normal",n.PRINT="ag-layout-print"})(Nn||(Nn={}));var fB=function(n){XIe(t,n);function t(e){var r=n.call(this)||this;return r.view=e,r}return t.prototype.postConstruct=function(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},t.prototype.updateLayoutClasses=function(){var e=this.getDomLayout(),r={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},i=r.autoHeight?Nn.AUTO_HEIGHT:r.print?Nn.PRINT:Nn.NORMAL;this.view.updateLayoutClasses(i,r)},t.prototype.getDomLayout=function(){var e,r=(e=this.gridOptionsService.get("domLayout"))!==null&&e!==void 0?e:"normal",i=["normal","print","autoHeight"];return i.indexOf(r)===-1?(at("".concat(r," is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.")),"normal"):r},ZIe([q],t.prototype,"postConstruct",null),t}(re),QIe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),wR=function(){return wR=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},wR.apply(this,arguments)},Id=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Qi;(function(n){n[n.Vertical=0]="Vertical",n[n.Horizontal=1]="Horizontal"})(Qi||(Qi={}));var fo;(function(n){n[n.Container=0]="Container",n[n.FakeContainer=1]="FakeContainer"})(fo||(fo={}));var JIe=function(n){QIe(t,n);function t(e){var r=n.call(this)||this;return r.lastScrollSource=[null,null],r.scrollLeft=-1,r.nextScrollTop=-1,r.scrollTop=-1,r.lastOffsetHeight=-1,r.lastScrollTop=-1,r.eBodyViewport=e,r.resetLastHScrollDebounced=Ja(function(){return r.lastScrollSource[Qi.Horizontal]=null},500),r.resetLastVScrollDebounced=Ja(function(){return r.lastScrollSource[Qi.Vertical]=null},500),r}return t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsService.get("enableRtl"),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(r){e.centerRowContainerCtrl=r.centerRowContainerCtrl,e.onDisplayedColumnsWidthChanged(),e.addScrollListener()})},t.prototype.addScrollListener=function(){var e=this.ctrlsService.getFakeHScrollComp(),r=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),e.onScrollCallback(this.onFakeHScroll.bind(this));var i=this.gridOptionsService.get("debounceVerticalScrollbar"),o=i?Ja(this.onVScroll.bind(this),100):this.onVScroll.bind(this),a=i?Ja(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",o),r.onScrollCallback(a)},t.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},t.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(e){var r=this.centerRowContainerCtrl==null;if(!r){e===void 0&&(e=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var i=this.enableRtl?e:-e,o=this.ctrlsService.getTopCenterRowContainerCtrl(),a=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),s=this.ctrlsService.getBottomCenterRowContainerCtrl(),l=this.ctrlsService.getFakeHScrollComp(),u=this.ctrlsService.getHeaderRowContainerCtrl();u.setHorizontalScroll(-i),s.setContainerTranslateX(i),o.setContainerTranslateX(i),a.setContainerTranslateX(i);var c=this.centerRowContainerCtrl.getViewportElement(),d=this.lastScrollSource[Qi.Horizontal]===fo.Container;e=Math.abs(e),d?l.setScrollPosition(e):C0(c,e,this.enableRtl)}},t.prototype.isControllingScroll=function(e,r){return this.lastScrollSource[r]==null?(this.lastScrollSource[r]=e,!0):this.lastScrollSource[r]===e},t.prototype.onFakeHScroll=function(){this.isControllingScroll(fo.FakeContainer,Qi.Horizontal)&&this.onHScrollCommon(fo.FakeContainer)},t.prototype.onHScroll=function(){this.isControllingScroll(fo.Container,Qi.Horizontal)&&this.onHScrollCommon(fo.Container)},t.prototype.onHScrollCommon=function(e){var r=this.centerRowContainerCtrl.getViewportElement(),i=r.scrollLeft;if(!this.shouldBlockScrollUpdate(Qi.Horizontal,i,!0)){var o;e===fo.Container?o=y0(r,this.enableRtl):o=this.ctrlsService.getFakeHScrollComp().getScrollPosition(),this.doHorizontalScroll(Math.round(o)),this.resetLastHScrollDebounced()}},t.prototype.onFakeVScroll=function(){this.isControllingScroll(fo.FakeContainer,Qi.Vertical)&&this.onVScrollCommon(fo.FakeContainer)},t.prototype.onVScroll=function(){this.isControllingScroll(fo.Container,Qi.Vertical)&&this.onVScrollCommon(fo.Container)},t.prototype.onVScrollCommon=function(e){var r;e===fo.Container?r=this.eBodyViewport.scrollTop:r=this.ctrlsService.getFakeVScrollComp().getScrollPosition(),!this.shouldBlockScrollUpdate(Qi.Vertical,r,!0)&&(this.animationFrameService.setScrollTop(r),this.nextScrollTop=r,e===fo.Container?this.ctrlsService.getFakeVScrollComp().setScrollPosition(r):this.eBodyViewport.scrollTop=r,this.gridOptionsService.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())},t.prototype.doHorizontalScroll=function(e){var r=this.ctrlsService.getFakeHScrollComp().getScrollPosition();this.scrollLeft===e&&e===r||(this.scrollLeft=e,this.fireScrollEvent(Qi.Horizontal),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowContainerCtrl.onHorizontalViewportChanged(!0))},t.prototype.fireScrollEvent=function(e){var r=this,i={type:M.EVENT_BODY_SCROLL,direction:e===Qi.Horizontal?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(i),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var o=wR(wR({},i),{type:M.EVENT_BODY_SCROLL_END});r.eventService.dispatchEvent(o)},100)},t.prototype.shouldBlockScrollUpdate=function(e,r,i){return i===void 0&&(i=!1),i&&!vd()?!1:e===Qi.Vertical?this.shouldBlockVerticalScroll(r):this.shouldBlockHorizontalScroll(r)},t.prototype.shouldBlockVerticalScroll=function(e){var r=C_(this.eBodyViewport),i=this.eBodyViewport.scrollHeight;return e<0||e+r>i},t.prototype.shouldBlockHorizontalScroll=function(e){var r=this.centerRowContainerCtrl.getCenterWidth(),i=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&m0()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+r>i},t.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent(Qi.Vertical)},t.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(fo.Container)},t.prototype.scrollGridIfNeeded=function(){var e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e},t.prototype.setHorizontalScrollPosition=function(e,r){r===void 0&&(r=!1);var i=0,o=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();!r&&this.shouldBlockScrollUpdate(Qi.Horizontal,e)&&(this.enableRtl&&m0()?e=e>0?0:o:e=Math.min(Math.max(e,i),o)),C0(this.centerRowContainerCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)},t.prototype.setVerticalScrollPosition=function(e){this.eBodyViewport.scrollTop=e},t.prototype.getVScrollPosition=function(){this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight;var e={top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight};return e},t.prototype.getApproximateVScollPosition=function(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()},t.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},t.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},t.prototype.scrollHorizontally=function(e){var r=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(r+e),this.centerRowContainerCtrl.getViewportElement().scrollLeft-r},t.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},t.prototype.ensureNodeVisible=function(e,r){r===void 0&&(r=null);for(var i=this.rowModel.getRowCount(),o=-1,a=0;a<i;a++){var s=this.rowModel.getRow(a);if(typeof e=="function"){var l=e;if(s&&l(s)){o=a;break}}else if(e===s||e===s.data){o=a;break}}o>=0&&this.ensureIndexVisible(o,r)},t.prototype.ensureIndexVisible=function(e,r){var i=this;if(!this.gridOptionsService.isDomLayout("print")){var o=this.paginationProxy.getRowCount();if(typeof e!="number"||e<0||e>=o){console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+e);return}var a=this.gridOptionsService.get("pagination"),s=a&&!this.gridOptionsService.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(function(){s||i.paginationProxy.goToPageWithIndex(e);var l=i.ctrlsService.getGridBodyCtrl(),u=l.getStickyTopHeight(),c=i.paginationProxy.getRow(e),d;do{var p=c.rowTop,h=c.rowHeight,f=i.paginationProxy.getPixelOffset(),v=c.rowTop-f,g=v+c.rowHeight,m=i.getVScrollPosition(),y=i.heightScaler.getDivStretchOffset(),C=m.top+y,S=m.bottom+y,w=S-C,_=i.heightScaler.getScrollPositionForPixel(v),x=i.heightScaler.getScrollPositionForPixel(g-w),E=Math.min((_+x)/2,v),R=C+u>v,P=S<g,A=null;r==="top"?A=_:r==="bottom"?A=x:r==="middle"?A=E:R?A=_-u:P&&(A=x),A!==null&&(i.setVerticalScrollPosition(A),i.rowRenderer.redraw({afterScroll:!0})),d=p!==c.rowTop||h!==c.rowHeight}while(d);i.animationFrameService.flushAllFrames()})}},t.prototype.ensureColumnVisible=function(e,r){var i=this;r===void 0&&(r="auto");var o=this.columnModel.getGridColumn(e);if(o&&!o.isPinned()&&this.columnModel.isColumnDisplayed(o)){var a=this.getPositionedHorizontalScroll(o,r);this.getFrameworkOverrides().wrapIncoming(function(){a!==null&&i.centerRowContainerCtrl.setCenterViewportScrollLeft(a),i.centerRowContainerCtrl.onHorizontalViewportChanged(),i.animationFrameService.flushAllFrames()})}},t.prototype.setScrollPosition=function(e,r){var i=this;this.getFrameworkOverrides().wrapIncoming(function(){i.centerRowContainerCtrl.setCenterViewportScrollLeft(r),i.setVerticalScrollPosition(e),i.rowRenderer.redraw({afterScroll:!0}),i.animationFrameService.flushAllFrames()})},t.prototype.getPositionedHorizontalScroll=function(e,r){var i=this.isColumnOutsideViewport(e),o=i.columnBeforeStart,a=i.columnAfterEnd,s=this.centerRowContainerCtrl.getCenterWidth()<e.getActualWidth(),l=this.centerRowContainerCtrl.getCenterWidth(),u=this.enableRtl,c=(u?o:a)||s,d=u?a:o;r!=="auto"&&(c=r==="start",d=r==="end");var p=r==="middle";if(c||d||p){var h=this.getColumnBounds(e),f=h.colLeft,v=h.colMiddle,g=h.colRight;return p?v-l/2:c?u?g:f:u?f-l:g-l}return null},t.prototype.isColumnOutsideViewport=function(e){var r=this.getViewportBounds(),i=r.start,o=r.end,a=this.getColumnBounds(e),s=a.colLeft,l=a.colRight,u=this.enableRtl,c=u?i>l:o<l,d=u?o<s:i>s;return{columnBeforeStart:c,columnAfterEnd:d}},t.prototype.getColumnBounds=function(e){var r=this.enableRtl,i=this.columnModel.getBodyContainerWidth(),o=e.getActualWidth(),a=e.getLeft(),s=r?-1:1,l=r?i-a:a,u=l+o*s,c=l+o/2*s;return{colLeft:l,colMiddle:c,colRight:u}},t.prototype.getViewportBounds=function(){var e=this.centerRowContainerCtrl.getCenterWidth(),r=this.centerRowContainerCtrl.getCenterViewportScrollLeft(),i=r,o=e+r;return{start:i,end:o,width:e}},Id([O("ctrlsService")],t.prototype,"ctrlsService",void 0),Id([O("animationFrameService")],t.prototype,"animationFrameService",void 0),Id([O("paginationProxy")],t.prototype,"paginationProxy",void 0),Id([O("rowModel")],t.prototype,"rowModel",void 0),Id([O("rowContainerHeightService")],t.prototype,"heightScaler",void 0),Id([O("rowRenderer")],t.prototype,"rowRenderer",void 0),Id([O("columnModel")],t.prototype,"columnModel",void 0),Id([q],t.prototype,"postConstruct",null),t}(re),e1e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),C1=function(){return C1=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},C1.apply(this,arguments)},vs=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},t1e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},r1e=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},n1e=function(n){e1e(t,n);function t(e){var r=n.call(this)||this;return r.isMultiRowDrag=!1,r.eContainer=e,r}return t.prototype.postConstruct=function(){var e=this;this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(function(){var r=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new b_({scrollContainer:r.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return r.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(i){return r.getScrollFeature().setVerticalScrollPosition(i)},onScrollCallback:function(){e.onDragging(e.lastDraggingEvent)}})})},t.prototype.getContainer=function(){return this.eContainer},t.prototype.isInterestedIn=function(e){return e===on.RowDrag},t.prototype.getIconName=function(){var e=this.gridOptionsService.get("rowDragManaged");return e&&this.shouldPreventRowMove()?Wt.ICON_NOT_ALLOWED:Wt.ICON_MOVE},t.prototype.shouldPreventRowMove=function(){var e=this.columnModel.getRowGroupColumns();if(e.length)return!0;var r=this.filterManager.isAnyFilterPresent();if(r)return!0;var i=this.sortController.isSortActive();return!!i},t.prototype.getRowNodes=function(e){var r=this;if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];var i=this.gridOptionsService.get("rowDragMultiRow"),o=r1e([],t1e(this.selectionService.getSelectedNodes()),!1).sort(function(s,l){return s.rowIndex==null||l.rowIndex==null?0:r.getRowIndexNumber(s)-r.getRowIndexNumber(l)}),a=e.dragItem.rowNode;return i&&o.indexOf(a)!==-1?(this.isMultiRowDrag=!0,o):(this.isMultiRowDrag=!1,[a])},t.prototype.onDragEnter=function(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent(M.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach(function(r){r.setDragging(!0)}),this.onEnterOrDragging(e)},t.prototype.onDragging=function(e){this.onEnterOrDragging(e)},t.prototype.isFromThisGrid=function(e){var r=e.dragSource.dragSourceDomDataKey;return r===this.gridOptionsService.getDomDataKey()},t.prototype.isDropZoneWithinThisGrid=function(e){var r=this.ctrlsService.getGridBodyCtrl(),i=r.getGui(),o=e.dropZoneTarget;return!i.contains(o)},t.prototype.onEnterOrDragging=function(e){this.dispatchGridEvent(M.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;var r=this.mouseEventService.getNormalisedPosition(e).y,i=this.gridOptionsService.get("rowDragManaged");i&&this.doManagedDrag(e,r),this.autoScrollService.check(e.event)},t.prototype.doManagedDrag=function(e,r){var i=this.isFromThisGrid(e),o=this.gridOptionsService.get("rowDragManaged"),a=e.dragItem.rowNodes;o&&this.shouldPreventRowMove()||(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!i?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(a[0],r):this.moveRows(a,r))},t.prototype.getRowIndexNumber=function(e){return parseInt(Yt(e.getRowIndexString().split("-")),10)},t.prototype.moveRowAndClearHighlight=function(e){var r=this,i=this.clientSideRowModel.getLastHighlightedRowNode(),o=i&&i.highlighted===zu.Below,a=this.mouseEventService.getNormalisedPosition(e).y,s=e.dragItem.rowNodes,l=o?1:0;if(this.isFromThisGrid(e))s.forEach(function(d){d.rowTop<a&&(l-=1)}),this.moveRows(s,a,l);else{var u=this.gridOptionsService.getCallback("getRowId"),c=this.clientSideRowModel.getRowIndexAtPixel(a)+1;this.clientSideRowModel.getHighlightPosition(a)===zu.Above&&c--,this.clientSideRowModel.updateRowData({add:s.map(function(d){return d.data}).filter(function(d){return!r.clientSideRowModel.getRowNode(u?u({data:d,level:0}):d.id)}),addIndex:c})}this.clearRowHighlight()},t.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},t.prototype.moveRows=function(e,r,i){i===void 0&&(i=0);var o=this.clientSideRowModel.ensureRowsAtPixel(e,r,i);o&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},t.prototype.addRowDropZone=function(e){var r=this;if(!e.getContainer()){at("addRowDropZone - A container target needs to be provided");return}if(this.dragAndDropService.findExternalZone(e)){console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}var i={getContainer:e.getContainer};e.fromGrid?(e.fromGrid=void 0,i=e):(e.onDragEnter&&(i.onDragEnter=function(o){e.onDragEnter(r.draggingToRowDragEvent(M.EVENT_ROW_DRAG_ENTER,o))}),e.onDragLeave&&(i.onDragLeave=function(o){e.onDragLeave(r.draggingToRowDragEvent(M.EVENT_ROW_DRAG_LEAVE,o))}),e.onDragging&&(i.onDragging=function(o){e.onDragging(r.draggingToRowDragEvent(M.EVENT_ROW_DRAG_MOVE,o))}),e.onDragStop&&(i.onDragStop=function(o){e.onDragStop(r.draggingToRowDragEvent(M.EVENT_ROW_DRAG_END,o))})),this.dragAndDropService.addDropTarget(C1({isInterestedIn:function(o){return o===on.RowDrag},getIconName:function(){return Wt.ICON_MOVE},external:!0},i))},t.prototype.getRowDropZone=function(e){var r=this,i=this.getContainer.bind(this),o=this.onDragEnter.bind(this),a=this.onDragLeave.bind(this),s=this.onDragging.bind(this),l=this.onDragStop.bind(this);return e?{getContainer:i,onDragEnter:e.onDragEnter?function(u){o(u),e.onDragEnter(r.draggingToRowDragEvent(M.EVENT_ROW_DRAG_ENTER,u))}:o,onDragLeave:e.onDragLeave?function(u){a(u),e.onDragLeave(r.draggingToRowDragEvent(M.EVENT_ROW_DRAG_LEAVE,u))}:a,onDragging:e.onDragging?function(u){s(u),e.onDragging(r.draggingToRowDragEvent(M.EVENT_ROW_DRAG_MOVE,u))}:s,onDragStop:e.onDragStop?function(u){l(u),e.onDragStop(r.draggingToRowDragEvent(M.EVENT_ROW_DRAG_END,u))}:l,fromGrid:!0}:{getContainer:i,onDragEnter:o,onDragLeave:a,onDragging:s,onDragStop:l,fromGrid:!0}},t.prototype.draggingToRowDragEvent=function(e,r){var i=this.mouseEventService.getNormalisedPosition(r).y,o=i>this.paginationProxy.getCurrentPageHeight(),a=-1,s;o||(a=this.rowModel.getRowIndexAtPixel(i),s=this.rowModel.getRow(a));var l;switch(r.vDirection){case dv.Down:l="down";break;case dv.Up:l="up";break;default:l=null;break}var u=this.gridOptionsService.addGridCommonParams({type:e,event:r.event,node:r.dragItem.rowNode,nodes:r.dragItem.rowNodes,overIndex:a,overNode:s,y:i,vDirection:l});return u},t.prototype.dispatchGridEvent=function(e,r){var i=this.draggingToRowDragEvent(e,r);this.eventService.dispatchEvent(i)},t.prototype.onDragLeave=function(e){this.dispatchGridEvent(M.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.gridOptionsService.get("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(e)&&(this.isMultiRowDrag=!1)},t.prototype.onDragStop=function(e){this.dispatchGridEvent(M.EVENT_ROW_DRAG_END,e),this.stopDragging(e),this.gridOptionsService.get("rowDragManaged")&&(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&!this.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)},t.prototype.stopDragging=function(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(function(r){r.setDragging(!1)})},vs([O("dragAndDropService")],t.prototype,"dragAndDropService",void 0),vs([O("rowModel")],t.prototype,"rowModel",void 0),vs([O("paginationProxy")],t.prototype,"paginationProxy",void 0),vs([O("columnModel")],t.prototype,"columnModel",void 0),vs([O("focusService")],t.prototype,"focusService",void 0),vs([O("sortController")],t.prototype,"sortController",void 0),vs([O("filterManager")],t.prototype,"filterManager",void 0),vs([O("selectionService")],t.prototype,"selectionService",void 0),vs([O("mouseEventService")],t.prototype,"mouseEventService",void 0),vs([O("ctrlsService")],t.prototype,"ctrlsService",void 0),vs([xt("rangeService")],t.prototype,"rangeService",void 0),vs([q],t.prototype,"postConstruct",null),t}(re),i1e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Bo=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},hv;(function(n){n.ANIMATION_ON="ag-row-animation",n.ANIMATION_OFF="ag-row-no-animation"})(hv||(hv={}));var uQ="ag-force-vertical-scroll",o1e="ag-selectable",a1e="ag-column-moving",cQ=function(n){i1e(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.stickyTopHeight=0,e}return t.prototype.getScrollFeature=function(){return this.bodyScrollFeature},t.prototype.getBodyViewportElement=function(){return this.eBodyViewport},t.prototype.setComp=function(e,r,i,o,a,s){var l=this;this.comp=e,this.eGridBody=r,this.eBodyViewport=i,this.eTop=o,this.eBottom=a,this.eStickyTop=s,this.setCellTextSelection(this.gridOptionsService.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",function(u){return l.setCellTextSelection(u.currentValue)}),this.createManagedBean(new fB(this.comp)),this.bodyScrollFeature=this.createManagedBean(new JIe(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([o,i,a,s]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager.setupAdvancedFilterHeaderComp(o),this.ctrlsService.registerGridBodyCtrl(this)},t.prototype.getComp=function(){return this.comp},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,M.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},t.prototype.addFocusListeners=function(e){var r=this;e.forEach(function(i){r.addManagedListener(i,"focusin",function(o){var a=o.target,s=Wf(a,"ag-root",i);i.classList.toggle("ag-has-focus",!s)}),r.addManagedListener(i,"focusout",function(o){var a=o.target,s=o.relatedTarget,l=i.contains(s),u=Wf(s,"ag-root",i),c=Wf(a,"ag-root",i);c||(!l||u)&&i.classList.remove("ag-has-focus")})})},t.prototype.setColumnMovingCss=function(e){this.comp.setColumnMovingCss(a1e,e)},t.prototype.setCellTextSelection=function(e){e===void 0&&(e=!1),this.comp.setCellSelectableCss(o1e,e)},t.prototype.onScrollVisibilityChanged=function(){var e=this,r=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(r),this.setStickyTopWidth(r);var i=r&&this.gridOptionsService.getScrollbarWidth()||0,o=WV()?16:0,a="calc(100% + ".concat(i+o,"px)");this.animationFrameService.requestAnimationFrame(function(){return e.comp.setBodyViewportWidth(a)})},t.prototype.onGridColumnsChanged=function(){var e=this.columnModel.getAllGridColumns();this.comp.setColumnCount(e.length)},t.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(e){if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1})},t.prototype.addStopEditingWhenGridLosesFocus=function(){var e=this;if(this.gridOptionsService.get("stopEditingWhenCellsLoseFocus")){var r=function(o){var a=o.relatedTarget;if(vR(a)===null){e.rowRenderer.stopEditing();return}var s=i.some(function(u){return u.contains(a)})&&e.mouseEventService.isElementInThisGrid(a);if(!s){var l=e.popupService;s=l.getActivePopups().some(function(u){return u.contains(a)})||l.isElementWithinCustomPopup(a)}s||e.rowRenderer.stopEditing()},i=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];i.forEach(function(o){return e.addManagedListener(o,"focusout",r)})}},t.prototype.updateRowCount=function(){var e=this.headerNavigationService.getHeaderRowCount()+this.filterManager.getHeaderRowCount(),r=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,i=r===-1?-1:e+r;this.comp.setRowCount(i)},t.prototype.registerBodyViewportResizeListener=function(e){this.comp.registerBodyViewportResizeListener(e)},t.prototype.setVerticalScrollPaddingVisible=function(e){var r=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(r)},t.prototype.isVerticalScrollShowing=function(){var e=this.gridOptionsService.get("alwaysShowVerticalScroll"),r=e?uQ:null,i=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(r,e),e||i&&yZ(this.eBodyViewport)},t.prototype.setupRowAnimationCssClass=function(){var e=this,r=function(){var i=e.gridOptionsService.isAnimateRows()&&!e.rowContainerHeightService.isStretching(),o=i?hv.ANIMATION_ON:hv.ANIMATION_OFF;e.comp.setRowAnimationCssOnBodyViewport(o,i)};r(),this.addManagedListener(this.eventService,M.EVENT_HEIGHT_SCALE_CHANGED,r),this.addManagedPropertyListener("animateRows",r)},t.prototype.getGridBodyElement=function(){return this.eGridBody},t.prototype.addBodyViewportListener=function(){var e=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",e),this.mockContextMenuForIPad(e),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()},t.prototype.addFullWidthContainerWheelListener=function(){var e=this,r=this.eBodyViewport.querySelector(".ag-full-width-container"),i=this.eBodyViewport.querySelector(".ag-center-cols-viewport");r&&i&&this.addManagedListener(r,"wheel",function(o){return e.onFullWidthContainerWheel(o,i)})},t.prototype.onFullWidthContainerWheel=function(e,r){!e.deltaX||Math.abs(e.deltaY)>Math.abs(e.deltaX)||!this.mouseEventService.isEventFromThisGrid(e)||(e.preventDefault(),r.scrollBy({left:e.deltaX}))},t.prototype.onBodyViewportContextMenu=function(e,r,i){if(!(!e&&!i)){if(this.gridOptionsService.get("preventDefaultOnContextMenu")){var o=e||i;o.preventDefault()}var a=(e||r).target;(a===this.eBodyViewport||a===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement())&&this.menuService.showContextMenu({mouseEvent:e,touchEvent:i,value:null,anchorToElement:this.eGridBody})}},t.prototype.mockContextMenuForIPad=function(e){if(vd()){var r=new kn(this.eBodyViewport),i=function(o){e(void 0,o.touchStart,o.touchEvent)};this.addManagedListener(r,kn.EVENT_LONG_TAP,i),this.addDestroyFunc(function(){return r.destroy()})}},t.prototype.onBodyViewportWheel=function(e){this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()},t.prototype.onStickyTopWheel=function(e){e.preventDefault(),e.offsetY&&this.scrollVertically(e.deltaY)},t.prototype.getGui=function(){return this.eGridBody},t.prototype.scrollVertically=function(e){var r=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(r+e),this.eBodyViewport.scrollTop-r},t.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new n1e(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},t.prototype.getRowDragFeature=function(){return this.rowDragFeature},t.prototype.onPinnedRowDataChanged=function(){this.setFloatingHeights()},t.prototype.setFloatingHeights=function(){var e=this.pinnedRowModel,r=e.getPinnedTopTotalHeight(),i=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(r),this.comp.setBottomHeight(i),this.comp.setTopDisplay(r?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop()},t.prototype.setStickyTopHeight=function(e){e===void 0&&(e=0),this.comp.setStickyTopHeight("".concat(e,"px")),this.stickyTopHeight=e},t.prototype.getStickyTopHeight=function(){return this.stickyTopHeight},t.prototype.setStickyTopWidth=function(e){if(!e)this.comp.setStickyTopWidth("100%");else{var r=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - ".concat(r,"px)"))}},t.prototype.onHeaderHeightChanged=function(){this.setStickyTopOffsetTop()},t.prototype.setStickyTopOffsetTop=function(){var e=this.ctrlsService.getGridHeaderCtrl(),r=e.getHeaderHeight()+this.filterManager.getHeaderHeight(),i=this.pinnedRowModel.getPinnedTopTotalHeight(),o=0;r>0&&(o+=r+1),i>0&&(o+=i+1),this.comp.setStickyTopTop("".concat(o,"px"))},t.prototype.sizeColumnsToFit=function(e,r){var i=this,o=this.isVerticalScrollShowing(),a=o?this.gridOptionsService.getScrollbarWidth():0,s=bv(this.eGridBody),l=s-a;if(l>0){this.columnModel.sizeColumnsToFit(l,"sizeColumnsToFit",!1,e);return}r===void 0?window.setTimeout(function(){i.sizeColumnsToFit(e,100)},0):r===100?window.setTimeout(function(){i.sizeColumnsToFit(e,500)},100):r===500?window.setTimeout(function(){i.sizeColumnsToFit(e,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},t.prototype.addScrollEventListener=function(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})},t.prototype.removeScrollEventListener=function(e){this.eBodyViewport.removeEventListener("scroll",e)},Bo([O("animationFrameService")],t.prototype,"animationFrameService",void 0),Bo([O("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),Bo([O("ctrlsService")],t.prototype,"ctrlsService",void 0),Bo([O("columnModel")],t.prototype,"columnModel",void 0),Bo([O("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Bo([O("menuService")],t.prototype,"menuService",void 0),Bo([O("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Bo([O("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Bo([O("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Bo([O("rowRenderer")],t.prototype,"rowRenderer",void 0),Bo([O("popupService")],t.prototype,"popupService",void 0),Bo([O("mouseEventService")],t.prototype,"mouseEventService",void 0),Bo([O("rowModel")],t.prototype,"rowModel",void 0),Bo([O("filterManager")],t.prototype,"filterManager",void 0),t}(re),od;(function(n){n[n.FILL=0]="FILL",n[n.RANGE=1]="RANGE"})(od||(od={}));var ta;(function(n){n[n.VALUE=0]="VALUE",n[n.DIMENSION=1]="DIMENSION"})(ta||(ta={}));var wC="ag-cell-range-selected",s1e="ag-cell-range-chart",l1e="ag-cell-range-single-cell",u1e="ag-cell-range-chart-category",c1e="ag-cell-range-handle",d1e="ag-cell-range-top",p1e="ag-cell-range-right",h1e="ag-cell-range-bottom",f1e="ag-cell-range-left",v1e=function(){function n(t,e){this.beans=t,this.cellCtrl=e}return n.prototype.setComp=function(t,e){this.cellComp=t,this.eGui=e,this.onRangeSelectionChanged()},n.prototype.onRangeSelectionChanged=function(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(wC,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass("".concat(wC,"-1"),this.rangeCount===1),this.cellComp.addOrRemoveCssClass("".concat(wC,"-2"),this.rangeCount===2),this.cellComp.addOrRemoveCssClass("".concat(wC,"-3"),this.rangeCount===3),this.cellComp.addOrRemoveCssClass("".concat(wC,"-4"),this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(s1e,this.hasChartRange),Jm(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(l1e,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},n.prototype.updateRangeBorders=function(){var t=this.getRangeBorders(),e=this.isSingleCell(),r=!e&&t.top,i=!e&&t.right,o=!e&&t.bottom,a=!e&&t.left;this.cellComp.addOrRemoveCssClass(d1e,r),this.cellComp.addOrRemoveCssClass(p1e,i),this.cellComp.addOrRemoveCssClass(h1e,o),this.cellComp.addOrRemoveCssClass(f1e,a)},n.prototype.isSingleCell=function(){var t=this.beans.rangeService;return this.rangeCount===1&&t&&!t.isMoreThanOneCell()},n.prototype.getHasChartRange=function(){var t=this.beans.rangeService;if(!this.rangeCount||!t)return!1;var e=t.getCellRanges();return e.length>0&&e.every(function(r){return Ol([ta.DIMENSION,ta.VALUE],r.type)})},n.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},n.prototype.getRangeBorders=function(){var t=this,e=this.beans.gridOptionsService.get("enableRtl"),r=!1,i=!1,o=!1,a=!1,s=this.cellCtrl.getCellPosition().column,l=this.beans,u=l.rangeService,c=l.columnModel,d,p;e?(d=c.getDisplayedColAfter(s),p=c.getDisplayedColBefore(s)):(d=c.getDisplayedColBefore(s),p=c.getDisplayedColAfter(s));var h=u.getCellRanges().filter(function(y){return u.isCellInSpecificRange(t.cellCtrl.getCellPosition(),y)});d||(a=!0),p||(i=!0);for(var f=0;f<h.length&&!(r&&i&&o&&a);f++){var v=h[f],g=u.getRangeStartRow(v),m=u.getRangeEndRow(v);!r&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(r=!0),!o&&this.beans.rowPositionUtils.sameRow(m,this.cellCtrl.getCellPosition())&&(o=!0),!a&&d&&v.columns.indexOf(d)<0&&(a=!0),!i&&p&&v.columns.indexOf(p)<0&&(i=!0)}return{top:r,right:i,bottom:o,left:a}},n.prototype.refreshHandle=function(){if(!(!this.beans.rangeService||this.beans.context.isDestroyed())){var t=this.shouldHaveSelectionHandle();this.selectionHandle&&!t&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),t&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(c1e,!!this.selectionHandle)}},n.prototype.shouldHaveSelectionHandle=function(){var t=this.beans,e=t.gridOptionsService,r=t.rangeService,i=r.getCellRanges(),o=i.length;if(this.rangeCount<1||o<1)return!1;var a=Yt(i),s=this.cellCtrl.getCellPosition(),l=e.get("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),u=e.get("enableRangeHandle"),c=o===1&&!this.cellCtrl.isEditing()&&(l||u);if(this.hasChartRange){var d=i[0].type===ta.DIMENSION,p=d&&r.isCellInSpecificRange(s,i[0]);this.cellComp.addOrRemoveCssClass(u1e,p),c=a.type===ta.VALUE}return c&&a.endRow!=null&&r.isContiguousRange(a)&&r.isBottomRightCell(a,s)},n.prototype.addSelectionHandle=function(){var t=this.beans,e=t.gridOptionsService,r=t.rangeService,i=Yt(r.getCellRanges()).type,o=e.get("enableFillHandle")&&pt(i),a=o?od.FILL:od.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==a&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(a)),this.selectionHandle.refresh(this.cellCtrl)},n.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},n}(),g1e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),m1e=function(n){g1e(t,n);function t(e,r){var i=n.call(this)||this;return i.cellCtrl=e,i.beans=r,i.column=e.getColumn(),i.rowNode=e.getRowNode(),i.setupColSpan(),i.setupRowSpan(),i}return t.prototype.setupRowSpan=function(){var e=this;this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListener(this.beans.eventService,M.EVENT_NEW_COLUMNS_LOADED,function(){return e.onNewColumnsLoaded()})},t.prototype.setComp=function(e){this.eGui=e,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},t.prototype.onNewColumnsLoaded=function(){var e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))},t.prototype.onDisplayColumnsChanged=function(){var e=this.getColSpanningList();kc(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())},t.prototype.setupColSpan=function(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},t.prototype.onWidthChanged=function(){if(this.eGui){var e=this.getCellWidth();this.eGui.style.width="".concat(e,"px")}},t.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(e,r){return e+r.getActualWidth()},0):this.column.getActualWidth()},t.prototype.getColSpanningList=function(){var e=this.column.getColSpan(this.rowNode),r=[];if(e===1)r.push(this.column);else for(var i=this.column,o=this.column.getPinned(),a=0;i&&a<e&&(r.push(i),i=this.beans.columnModel.getDisplayedColAfter(i),!(!i||pt(i)||o!==i.getPinned()));a++);return r},t.prototype.onLeftChanged=function(){if(this.eGui){var e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}},t.prototype.getCellLeft=function(){var e;return this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?e=Yt(this.colsSpanning):e=this.column,e.getLeft()},t.prototype.modifyLeftForPrintLayout=function(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return e;var r=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(this.column.getPinned()==="right"){var i=this.beans.columnModel.getBodyContainerWidth();return r+i+(e||0)}return r+(e||0)},t.prototype.applyRowSpan=function(e){if(!(this.rowSpan===1&&!e)){var r=this.beans.gridOptionsService.getRowHeightAsNumber(),i=r*this.rowSpan;this.eGui.style.height="".concat(i,"px"),this.eGui.style.zIndex="1"}},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t}(re),y1e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),C1e=function(n){y1e(t,n);function t(e,r){var i=n.call(this)||this;return i.staticClasses=[],i.cellCtrl=e,i.beans=r,i.column=e.getColumn(),i.rowNode=e.getRowNode(),i}return t.prototype.setComp=function(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},t.prototype.applyCellClassRules=function(){var e=this,r=this.column.getColDef(),i=r.cellClassRules,o=this.beans.gridOptionsService.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:r,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(i===this.cellClassRules?void 0:this.cellClassRules,i,o,function(a){return e.cellComp.addOrRemoveCssClass(a,!0)},function(a){return e.cellComp.addOrRemoveCssClass(a,!1)}),this.cellClassRules=i},t.prototype.applyUserStyles=function(){var e=this.column.getColDef();if(e.cellStyle){var r;if(typeof e.cellStyle=="function"){var i=this.beans.gridOptionsService.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex}),o=e.cellStyle;r=o(i)}else r=e.cellStyle;r&&this.cellComp.setUserStyles(r)}},t.prototype.applyClassesFromColDef=function(){var e=this,r=this.column.getColDef(),i=this.beans.gridOptionsService.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:r,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(function(o){return e.cellComp.addOrRemoveCssClass(o,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(r,i),this.staticClasses.length&&this.staticClasses.forEach(function(o){return e.cellComp.addOrRemoveCssClass(o,!0)})},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t}(re),S1e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ds=function(n){S1e(t,n);function t(e,r){var i=n.call(this)||this;return i.ctrl=e,i.beans=r,i}return t.prototype.setComp=function(e){this.eGui=e,this.setupTooltip()},t.prototype.setBrowserTooltip=function(e){var r="title";e!=null&&e!=""?this.eGui.setAttribute(r,e):this.eGui.removeAttribute(r)},t.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsService.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?this.setBrowserTooltip(this.tooltip):this.createTooltipFeatureIfNeeded()},t.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},t.prototype.createTooltipFeatureIfNeeded=function(){var e=this,r,i,o,a;if(this.genericTooltipFeature==null){var s={getTooltipParams:function(){return e.getTooltipParams()},getGui:function(){return e.ctrl.getGui()}};this.genericTooltipFeature=this.createManagedBean(new iB(s,(i=(r=this.ctrl).getTooltipShowDelayOverride)===null||i===void 0?void 0:i.call(r),(a=(o=this.ctrl).getTooltipHideDelayOverride)===null||a===void 0?void 0:a.call(o)),this.beans.context)}},t.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.setBrowserTooltip(this.tooltip)},t.prototype.getTooltipParams=function(){var e=this,r=this.ctrl,i=r.getColumn?r.getColumn():void 0,o=r.getColDef?r.getColDef():void 0,a=r.getRowNode?r.getRowNode():void 0;return{location:r.getLocation(),colDef:o,column:i,rowIndex:r.getRowIndex?r.getRowIndex():void 0,node:a,data:a?a.data:void 0,value:this.getTooltipText(),valueFormatted:r.getValueFormatted?r.getValueFormatted():void 0,hideTooltipCallback:function(){return e.genericTooltipFeature.hideTooltip(!0)}}},t.prototype.getTooltipText=function(){return this.tooltip},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t}(re),_t=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vB=function(){function n(){}return n.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)},_t([O("resizeObserverService")],n.prototype,"resizeObserverService",void 0),_t([O("paginationProxy")],n.prototype,"paginationProxy",void 0),_t([O("context")],n.prototype,"context",void 0),_t([O("columnApi")],n.prototype,"columnApi",void 0),_t([O("gridApi")],n.prototype,"gridApi",void 0),_t([O("gridOptionsService")],n.prototype,"gridOptionsService",void 0),_t([O("expressionService")],n.prototype,"expressionService",void 0),_t([O("environment")],n.prototype,"environment",void 0),_t([O("rowRenderer")],n.prototype,"rowRenderer",void 0),_t([O("templateService")],n.prototype,"templateService",void 0),_t([O("valueService")],n.prototype,"valueService",void 0),_t([O("eventService")],n.prototype,"eventService",void 0),_t([O("columnModel")],n.prototype,"columnModel",void 0),_t([O("headerNavigationService")],n.prototype,"headerNavigationService",void 0),_t([O("navigationService")],n.prototype,"navigationService",void 0),_t([O("columnAnimationService")],n.prototype,"columnAnimationService",void 0),_t([xt("rangeService")],n.prototype,"rangeService",void 0),_t([O("focusService")],n.prototype,"focusService",void 0),_t([O("popupService")],n.prototype,"popupService",void 0),_t([O("valueFormatterService")],n.prototype,"valueFormatterService",void 0),_t([O("stylingService")],n.prototype,"stylingService",void 0),_t([O("columnHoverService")],n.prototype,"columnHoverService",void 0),_t([O("userComponentFactory")],n.prototype,"userComponentFactory",void 0),_t([O("userComponentRegistry")],n.prototype,"userComponentRegistry",void 0),_t([O("animationFrameService")],n.prototype,"animationFrameService",void 0),_t([O("dragService")],n.prototype,"dragService",void 0),_t([O("dragAndDropService")],n.prototype,"dragAndDropService",void 0),_t([O("sortController")],n.prototype,"sortController",void 0),_t([O("filterManager")],n.prototype,"filterManager",void 0),_t([O("rowContainerHeightService")],n.prototype,"rowContainerHeightService",void 0),_t([O("frameworkOverrides")],n.prototype,"frameworkOverrides",void 0),_t([O("cellPositionUtils")],n.prototype,"cellPositionUtils",void 0),_t([O("rowPositionUtils")],n.prototype,"rowPositionUtils",void 0),_t([O("selectionService")],n.prototype,"selectionService",void 0),_t([xt("selectionHandleFactory")],n.prototype,"selectionHandleFactory",void 0),_t([O("rowCssClassCalculator")],n.prototype,"rowCssClassCalculator",void 0),_t([O("rowModel")],n.prototype,"rowModel",void 0),_t([O("ctrlsService")],n.prototype,"ctrlsService",void 0),_t([O("ctrlsFactory")],n.prototype,"ctrlsFactory",void 0),_t([O("agStackComponentsRegistry")],n.prototype,"agStackComponentsRegistry",void 0),_t([O("valueCache")],n.prototype,"valueCache",void 0),_t([O("rowNodeEventThrottle")],n.prototype,"rowNodeEventThrottle",void 0),_t([O("localeService")],n.prototype,"localeService",void 0),_t([O("valueParserService")],n.prototype,"valueParserService",void 0),_t([O("syncService")],n.prototype,"syncService",void 0),_t([O("ariaAnnouncementService")],n.prototype,"ariaAnnouncementService",void 0),_t([q],n.prototype,"postConstruct",null),n=_t([me("beans")],n),n}(),w1e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),_1e=function(n){w1e(t,n);function t(e,r,i){var o=n.call(this)||this;return o.cellCtrl=e,o.beans=r,o.column=i,o}return t.prototype.onMouseEvent=function(e,r){if(!Rl(r))switch(e){case"click":this.onCellClicked(r);break;case"mousedown":case"touchstart":this.onMouseDown(r);break;case"dblclick":this.onCellDoubleClicked(r);break;case"mouseout":this.onMouseOut(r);break;case"mouseover":this.onMouseOver(r);break}},t.prototype.onCellClicked=function(e){var r=this;if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(e),e.preventDefault();return}var i=this.beans,o=i.eventService,a=i.rangeService,s=i.gridOptionsService,l=e.ctrlKey||e.metaKey;a&&l&&a.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&a.intersectLastRange(!0);var u=this.cellCtrl.createEvent(e,M.EVENT_CELL_CLICKED);o.dispatchEvent(u);var c=this.column.getColDef();c.onCellClicked&&window.setTimeout(function(){r.beans.frameworkOverrides.wrapOutgoing(function(){c.onCellClicked(u)})},0);var d=(s.get("singleClickEdit")||c.singleClickEdit)&&!s.get("suppressClickEdit");d&&!(e.shiftKey&&(a==null?void 0:a.getCellRanges().length)!=0)&&this.cellCtrl.startRowOrCellEdit()},t.prototype.isDoubleClickOnIPad=function(){if(!vd()||RV("dblclick"))return!1;var e=new Date().getTime(),r=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,r},t.prototype.onCellDoubleClicked=function(e){var r=this,i=this.column.getColDef(),o=this.cellCtrl.createEvent(e,M.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(o),typeof i.onCellDoubleClicked=="function"&&window.setTimeout(function(){r.beans.frameworkOverrides.wrapOutgoing(function(){i.onCellDoubleClicked(o)})},0);var a=!this.beans.gridOptionsService.get("singleClickEdit")&&!this.beans.gridOptionsService.get("suppressClickEdit");a&&this.cellCtrl.startRowOrCellEdit(null,e)},t.prototype.onMouseDown=function(e){var r=e.ctrlKey,i=e.metaKey,o=e.shiftKey,a=e.target,s=this,l=s.cellCtrl,u=s.beans,c=u.eventService,d=u.rangeService,p=u.focusService;if(!this.isRightClickInExistingRange(e)){var h=d&&d.getCellRanges().length!=0;if(!o||!h){var f=Zu()&&!l.isEditing()&&!KV(a);l.focusCell(f)}if(o&&h&&!p.isCellFocused(l.getCellPosition())){e.preventDefault();var v=p.getFocusedCell();if(v){var g=v.column,m=v.rowIndex,y=v.rowPinned,C=u.rowRenderer.getRowByPosition({rowIndex:m,rowPinned:y}),S=C==null?void 0:C.getCellCtrl(g);S!=null&&S.isEditing()&&S.stopEditing(),p.setFocusedCell({column:g,rowIndex:m,rowPinned:y,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(a)){if(d){var w=this.cellCtrl.getCellPosition();if(o)d.extendLatestRangeToCell(w);else{var _=r||i;d.setRangeToCell(w,_)}}c.dispatchEvent(this.cellCtrl.createEvent(e,M.EVENT_CELL_MOUSE_DOWN))}}},t.prototype.isRightClickInExistingRange=function(e){var r=this.beans.rangeService;if(r){var i=r.isCellInAnyRange(this.cellCtrl.getCellPosition()),o=e.button===2||e.ctrlKey&&this.beans.gridOptionsService.get("allowContextMenuWithControlKey");if(i&&o)return!0}return!1},t.prototype.containsWidget=function(e){return Wf(e,"ag-selection-checkbox",3)},t.prototype.onMouseOut=function(e){if(!this.mouseStayingInsideCell(e)){var r=this.cellCtrl.createEvent(e,M.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(r),this.beans.columnHoverService.clearMouseOver()}},t.prototype.onMouseOver=function(e){if(!this.mouseStayingInsideCell(e)){var r=this.cellCtrl.createEvent(e,M.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(r),this.beans.columnHoverService.setMouseOver([this.column])}},t.prototype.mouseStayingInsideCell=function(e){if(!e.target||!e.relatedTarget)return!1;var r=this.cellCtrl.getGui(),i=r.contains(e.target),o=r.contains(e.relatedTarget);return i&&o},t.prototype.destroy=function(){},t}(vB),x1e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),b1e=function(n){x1e(t,n);function t(e,r,i,o,a){var s=n.call(this)||this;return s.cellCtrl=e,s.beans=r,s.rowNode=o,s.rowCtrl=a,s}return t.prototype.setComp=function(e){this.eGui=e},t.prototype.onKeyDown=function(e){var r=e.key;switch(r){case K.ENTER:this.onEnterKeyDown(e);break;case K.F2:this.onF2KeyDown(e);break;case K.ESCAPE:this.onEscapeKeyDown(e);break;case K.TAB:this.onTabKeyDown(e);break;case K.BACKSPACE:case K.DELETE:this.onBackspaceOrDeleteKeyDown(r,e);break;case K.DOWN:case K.UP:case K.RIGHT:case K.LEFT:this.onNavigationKeyDown(e,r);break}},t.prototype.onNavigationKeyDown=function(e,r){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,r,this.cellCtrl.getCellPosition(),!0),e.preventDefault())},t.prototype.onShiftRangeSelect=function(e){if(this.beans.rangeService){var r=this.beans.rangeService.extendLatestRangeInDirection(e);r&&this.beans.navigationService.ensureCellVisible(r)}},t.prototype.onTabKeyDown=function(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)},t.prototype.onBackspaceOrDeleteKeyDown=function(e,r){var i=this,o=i.cellCtrl,a=i.beans,s=i.rowNode,l=a.gridOptionsService,u=a.rangeService,c=a.eventService;o.isEditing()||(c.dispatchEvent({type:M.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),EZ(e,l.get("enableCellEditingOnBackspace"))?u&&l.get("enableRangeSelection")?u.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"}):o.isCellEditable()&&s.setDataValue(o.getColumn(),null,"cellClear"):o.startRowOrCellEdit(e,r),c.dispatchEvent({type:M.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))},t.prototype.onEnterKeyDown=function(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gridOptionsService.get("enterNavigatesVertically")){var r=e.shiftKey?K.UP:K.DOWN;this.beans.navigationService.navigateToNextCell(null,r,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(K.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()},t.prototype.onF2KeyDown=function(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(K.F2,e)},t.prototype.onEscapeKeyDown=function(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},t.prototype.processCharacter=function(e){var r=e.target,i=r!==this.eGui;if(!(i||this.cellCtrl.isEditing())){var o=e.key;o===" "?this.onSpaceKeyDown(e):(this.cellCtrl.startRowOrCellEdit(o,e),e.preventDefault())}},t.prototype.onSpaceKeyDown=function(e){var r=this.beans.gridOptionsService;if(!this.cellCtrl.isEditing()&&r.isRowSelection()){var i=this.rowNode.isSelected(),o=!i;if(o||!r.get("suppressRowDeselection")){var a=this.beans.gridOptionsService.get("groupSelectsFiltered"),s=this.rowNode.setSelectedParams({newValue:o,rangeSelect:e.shiftKey,groupSelectsFiltered:a,event:e,source:"spaceKey"});i===void 0&&s===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:a,event:e,source:"spaceKey"})}}e.preventDefault()},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t}(re),E1e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),O1e=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},R1e=function(n){E1e(t,n);function t(e,r,i){var o=n.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return o.rowNode=e,o.column=r,o.eCell=i,o}return t.prototype.postConstruct=function(){var e=this.getGui();e.appendChild(jn("rowDrag",this.gridOptionsService,null)),this.addGuiEventListener("mousedown",function(r){r.stopPropagation()}),this.addDragSource(),this.checkVisibility()},t.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},t.prototype.onDragStart=function(e){var r=this,i=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);var o=function(){try{var s=JSON.stringify(r.rowNode.data);e.dataTransfer.setData("application/json",s),e.dataTransfer.setData("text/plain",s)}catch{}};if(i){var a=this.gridOptionsService.addGridCommonParams({rowNode:this.rowNode,dragEvent:e});i(a)}else o()},t.prototype.checkVisibility=function(){var e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)},O1e([q],t.prototype,"postConstruct",null),t}(Ce),T1e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},P1e=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},D1e="ag-column-first",A1e="ag-column-last",fh=function(){function n(){}return n.getHeaderClassesFromColDef=function(t,e,r,i){return pt(t)?[]:this.getColumnClassesFromCollDef(t.headerClass,t,e,r,i)},n.getToolPanelClassesFromColDef=function(t,e,r,i){return pt(t)?[]:this.getColumnClassesFromCollDef(t.toolPanelClass,t,e,r,i)},n.refreshFirstAndLastStyles=function(t,e,r){t.addOrRemoveCssClass(D1e,r.isColumnAtEdge(e,"first")),t.addOrRemoveCssClass(A1e,r.isColumnAtEdge(e,"last"))},n.getClassParams=function(t,e,r,i){return e.addGridCommonParams({colDef:t,column:r,columnGroup:i})},n.getColumnClassesFromCollDef=function(t,e,r,i,o){if(pt(t))return[];var a;if(typeof t=="function"){var s=this.getClassParams(e,r,i,o);a=t(s)}else a=t;return typeof a=="string"?[a]:Array.isArray(a)?P1e([],T1e(a),!1):[]},n}(),M1e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),_R=function(){return _R=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},_R.apply(this,arguments)},L1e="ag-cell",F1e="ag-cell-auto-height",I1e="ag-cell-normal-height",N1e="ag-cell-focus",k1e="ag-cell-first-right-pinned",G1e="ag-cell-last-left-pinned",V1e="ag-cell-not-inline-editing",B1e="ag-column-hover",j1e="ag-cell-wrap-text",H1e=0,Hc=function(n){M1e(t,n);function t(e,r,i,o){var a=n.call(this)||this;return a.cellRangeFeature=null,a.cellPositionFeature=null,a.cellCustomStyleFeature=null,a.tooltipFeature=null,a.cellMouseListenerFeature=null,a.cellKeyboardListenerFeature=null,a.suppressRefreshCell=!1,a.onCellCompAttachedFuncs=[],a.column=e,a.rowNode=r,a.beans=i,a.rowCtrl=o,a.instanceId=e.getId()+"-"+H1e++,a.colIdSanitised=Jn(a.column.getId()),i.gridOptionsService.get("suppressCellFocus")||(a.tabIndex=-1),a.createCellPosition(),a.addFeatures(),a.updateAndFormatValue(!1),a}return t.prototype.shouldRestoreFocus=function(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)},t.prototype.addFeatures=function(){var e=this;this.cellPositionFeature=new m1e(this,this.beans),this.addDestroyFunc(function(){var i;(i=e.cellPositionFeature)===null||i===void 0||i.destroy(),e.cellPositionFeature=null}),this.cellCustomStyleFeature=new C1e(this,this.beans),this.addDestroyFunc(function(){var i;(i=e.cellCustomStyleFeature)===null||i===void 0||i.destroy(),e.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new _1e(this,this.beans,this.column),this.addDestroyFunc(function(){var i;(i=e.cellMouseListenerFeature)===null||i===void 0||i.destroy(),e.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new b1e(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(function(){var i;(i=e.cellKeyboardListenerFeature)===null||i===void 0||i.destroy(),e.cellKeyboardListenerFeature=null}),this.column.isTooltipEnabled()&&(this.enableTooltipFeature(),this.addDestroyFunc(function(){e.disableTooltipFeature()}));var r=this.beans.rangeService&&this.beans.gridOptionsService.get("enableRangeSelection");r&&(this.cellRangeFeature=new v1e(this.beans,this),this.addDestroyFunc(function(){var i;(i=e.cellRangeFeature)===null||i===void 0||i.destroy(),e.cellRangeFeature=null}))},t.prototype.enableTooltipFeature=function(){var e=this,r=function(){var o=e.column.getColDef(),a=e.rowNode.data;if(o.tooltipField&&ye(a))return Cm(a,o.tooltipField,e.column.isTooltipFieldContainsDots());var s=o.tooltipValueGetter;return s?s(e.beans.gridOptionsService.addGridCommonParams({location:"cell",colDef:e.column.getColDef(),column:e.column,rowIndex:e.cellPosition.rowIndex,node:e.rowNode,data:e.rowNode.data,value:e.value,valueFormatted:e.valueFormatted})):null},i={getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getRowIndex:function(){return e.cellPosition.rowIndex},getRowNode:function(){return e.rowNode},getGui:function(){return e.getGui()},getLocation:function(){return"cell"},getTooltipValue:r,getValueFormatted:function(){return e.valueFormatted}};this.tooltipFeature=new Ds(i,this.beans)},t.prototype.disableTooltipFeature=function(){this.tooltipFeature&&(this.tooltipFeature.destroy(),this.tooltipFeature=null)},t.prototype.setComp=function(e,r,i,o,a){var s,l,u,c;this.cellComp=e,this.eGui=r,this.printLayout=o,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(i),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(s=this.cellPositionFeature)===null||s===void 0||s.setComp(r),(l=this.cellCustomStyleFeature)===null||l===void 0||l.setComp(e),(u=this.tooltipFeature)===null||u===void 0||u.setComp(r),(c=this.cellKeyboardListenerFeature)===null||c===void 0||c.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,r),a&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(function(d){return d()}),this.onCellCompAttachedFuncs=[])},t.prototype.setupAutoHeight=function(e){var r=this;if(this.isAutoHeight=this.column.isAutoHeight(),!(!this.isAutoHeight||!e)){var i=e.parentElement,o=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,a=function(u){if(!r.editing&&r.isAlive()){var c=hh(i),d=c.paddingTop,p=c.paddingBottom,h=c.borderBottomWidth,f=c.borderTopWidth,v=d+p+h+f,g=e.offsetHeight,m=g+v;if(u<5){var y=r.beans.gridOptionsService.getDocument(),C=!y||!y.contains(e),S=m==0;if(C||S){window.setTimeout(function(){return a(u+1)},0);return}}var w=Math.max(m,o);r.rowNode.setRowAutoHeight(w,r.column)}},s=function(){return a(0)};s();var l=this.beans.resizeObserverService.observeResize(e,s);this.addDestroyFunc(function(){l(),r.rowNode.setRowAutoHeight(void 0,r.column)})}},t.prototype.getCellAriaRole=function(){var e;return(e=this.column.getColDef().cellAriaRole)!==null&&e!==void 0?e:"gridcell"},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.getIncludeSelection=function(){return this.includeSelection},t.prototype.getIncludeRowDrag=function(){return this.includeRowDrag},t.prototype.getIncludeDndSource=function(){return this.includeDndSource},t.prototype.getColumnIdSanitised=function(){return this.colIdSanitised},t.prototype.getTabIndex=function(){return this.tabIndex},t.prototype.isCellRenderer=function(){var e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null},t.prototype.getValueToDisplay=function(){return this.valueFormatted!=null?this.valueFormatted:this.value},t.prototype.showValue=function(e){e===void 0&&(e=!1);var r=this.getValueToDisplay(),i;if(this.isCellRenderer()){var o=this.createCellRendererParams();i=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),o)}this.cellComp.setRenderDetails(i,r,e),this.refreshHandle()},t.prototype.setupControlComps=function(){var e=this.column.getColDef();this.includeSelection=this.isIncludeControl(e.checkboxSelection),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},t.prototype.isForceWrapper=function(){var e=this.beans.gridOptionsService.get("enableCellTextSelection")||this.column.isAutoHeight();return e},t.prototype.isIncludeControl=function(e){var r=this.rowNode.rowPinned!=null,i=typeof e=="function",o=r?!1:i||e===!0;return o},t.prototype.refreshShouldDestroy=function(){var e=this.column.getColDef(),r=this.includeSelection!=this.isIncludeControl(e.checkboxSelection),i=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),o=this.includeDndSource!=this.isIncludeControl(e.dndSource);return r||i||o},t.prototype.startEditing=function(e,r,i){var o=this;if(e===void 0&&(e=null),r===void 0&&(r=!1),i===void 0&&(i=null),!(!this.isCellEditable()||this.editing)){if(!this.cellComp){this.onCellCompAttachedFuncs.push(function(){o.startEditing(e,r,i)});return}var a=this.createCellEditorParams(e,r),s=this.column.getColDef(),l=this.beans.userComponentFactory.getCellEditorDetails(s,a);this.editCompDetails=l;var u=(l==null?void 0:l.popupFromSelector)!=null?l.popupFromSelector:!!s.cellEditorPopup,c=(l==null?void 0:l.popupPositionFromSelector)!=null?l.popupPositionFromSelector:s.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(l,u,c,this.beans.gridOptionsService.get("reactiveCustomComponents"));var d=this.createEvent(i,M.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(d)}},t.prototype.setEditing=function(e){this.editing!==e&&(this.editing=e,this.refreshHandle())},t.prototype.stopRowOrCellEdit=function(e){e===void 0&&(e=!1),this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.stopEditing(e):this.stopEditing(e)},t.prototype.onPopupEditorClosed=function(){this.isEditing()&&this.stopEditingAndFocus()},t.prototype.takeValueFromCellEditor=function(e){var r={newValueExists:!1};if(e)return r;var i=this.cellComp.getCellEditor();if(!i)return r;var o=i.isCancelAfterEnd&&i.isCancelAfterEnd();if(o)return r;var a=i.getValue();return{newValue:a,newValueExists:!0}},t.prototype.saveNewValue=function(e,r){if(r===e)return!1;this.suppressRefreshCell=!0;var i=this.rowNode.setDataValue(this.column,r,"edit");return this.suppressRefreshCell=!1,i},t.prototype.stopEditing=function(e){if(e===void 0&&(e=!1),!this.editing)return!1;var r=this.takeValueFromCellEditor(e),i=r.newValue,o=r.newValueExists,a=this.rowNode.getValueFromValueService(this.column),s=!1;return o&&(s=this.saveNewValue(a,i)),this.setEditing(!1),this.cellComp.setEditDetails(),this.editCompDetails=void 0,this.updateAndFormatValue(!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(a,i,!e&&!!s),s},t.prototype.dispatchEditingStoppedEvent=function(e,r,i){var o=_R(_R({},this.createEvent(null,M.EVENT_CELL_EDITING_STOPPED)),{oldValue:e,newValue:r,valueChanged:i});this.beans.eventService.dispatchEvent(o)},t.prototype.createCellEditorParams=function(e,r){return this.beans.gridOptionsService.addGridCommonParams({value:this.rowNode.getValueFromValueService(this.column),eventKey:e,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,cellStartedEdit:r,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)})},t.prototype.createCellRendererParams=function(){var e=this,r=this.beans.gridOptionsService.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:function(){return e.rowNode.getValueFromValueService(e.column)},setValue:function(i){return e.beans.valueService.setValue(e.rowNode,e.column,i)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(i,o,a,s){return e.registerRowDragger(i,o,s)}});return r},t.prototype.parseValue=function(e){return this.beans.valueParserService.parseValue(this.column,this.rowNode,e,this.getValue())},t.prototype.setFocusOutOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusOut&&e.focusOut()}},t.prototype.setFocusInOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusIn?e.focusIn():this.focusCell(!0)}},t.prototype.onCellChanged=function(e){var r=e.column===this.column;r&&this.refreshCell({})},t.prototype.refreshOrDestroyCell=function(e){var r;this.refreshShouldDestroy()?(r=this.rowCtrl)===null||r===void 0||r.refreshCell(this):this.refreshCell(e)},t.prototype.refreshCell=function(e){var r,i,o;if(!(this.suppressRefreshCell||this.editing)){var a=this.column.getColDef(),s=e!=null&&!!e.newData,l=e!=null&&!!e.suppressFlash||!!a.suppressCellFlash,u=a.field==null&&a.valueGetter==null&&a.showRowGroup==null,c=e&&e.forceRefresh||u||s,d=!!this.cellComp,p=this.updateAndFormatValue(d),h=c||p;if(d){if(h){this.showValue(s);var f=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering(),v=!l&&!f&&(this.beans.gridOptionsService.get("enableCellChangeFlash")||a.enableCellChangeFlash);v&&this.flashCell(),(r=this.cellCustomStyleFeature)===null||r===void 0||r.applyUserStyles(),(i=this.cellCustomStyleFeature)===null||i===void 0||i.applyClassesFromColDef()}this.refreshToolTip(),(o=this.cellCustomStyleFeature)===null||o===void 0||o.applyCellClassRules()}}},t.prototype.stopEditingAndFocus=function(e,r){e===void 0&&(e=!1),r===void 0&&(r=!1),this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit(r)},t.prototype.navigateAfterEdit=function(e){var r=this.beans.gridOptionsService.get("enterNavigatesVerticallyAfterEdit");if(r){var i=e?K.UP:K.DOWN;this.beans.navigationService.navigateToNextCell(null,i,this.getCellPosition(),!1)}},t.prototype.flashCell=function(e){var r,i,o=(r=e==null?void 0:e.flashDuration)!==null&&r!==void 0?r:e==null?void 0:e.flashDelay,a=(i=e==null?void 0:e.fadeDuration)!==null&&i!==void 0?i:e==null?void 0:e.fadeDelay;this.animateCell("data-changed",o,a)},t.prototype.animateCell=function(e,r,i){var o=this;if(this.cellComp){var a="ag-cell-".concat(e),s="ag-cell-".concat(e,"-animation"),l=this.beans.gridOptionsService;r||(r=l.get("cellFlashDuration")),ye(i)||(i=l.get("cellFadeDuration")),this.cellComp.addOrRemoveCssClass(a,!0),this.cellComp.addOrRemoveCssClass(s,!1),this.beans.frameworkOverrides.wrapIncoming(function(){window.setTimeout(function(){o.isAlive()&&(o.cellComp.addOrRemoveCssClass(a,!1),o.cellComp.addOrRemoveCssClass(s,!0),o.eGui.style.transition="background-color ".concat(i,"ms"),window.setTimeout(function(){o.isAlive()&&(o.cellComp.addOrRemoveCssClass(s,!1),o.eGui.style.transition="")},i))},r)})}},t.prototype.onFlashCells=function(e){if(this.cellComp){var r=this.beans.cellPositionUtils.createId(this.getCellPosition()),i=e.cells[r];i&&this.animateCell("highlight")}},t.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},t.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},t.prototype.formatValue=function(e){var r;return(r=this.callValueFormatter(e))!==null&&r!==void 0?r:e},t.prototype.callValueFormatter=function(e){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,e)},t.prototype.updateAndFormatValue=function(e){var r=this.value,i=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),e?!this.valuesAreEqual(r,this.value)||this.valueFormatted!=i:!0},t.prototype.valuesAreEqual=function(e,r){var i=this.column.getColDef();return i.equals?i.equals(e,r):e===r},t.prototype.getComp=function(){return this.cellComp},t.prototype.getValue=function(){return this.value},t.prototype.getValueFormatted=function(){return this.valueFormatted},t.prototype.addDomData=function(){var e=this,r=this.getGui();this.beans.gridOptionsService.setDomData(r,t.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return e.beans.gridOptionsService.setDomData(r,t.DOM_DATA_KEY_CELL_CTRL,null)})},t.prototype.createEvent=function(e,r){var i=this.beans.gridOptionsService.addGridCommonParams({type:r,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex});return i},t.prototype.processCharacter=function(e){var r;(r=this.cellKeyboardListenerFeature)===null||r===void 0||r.processCharacter(e)},t.prototype.onKeyDown=function(e){var r;(r=this.cellKeyboardListenerFeature)===null||r===void 0||r.onKeyDown(e)},t.prototype.onMouseEvent=function(e,r){var i;(i=this.cellMouseListenerFeature)===null||i===void 0||i.onMouseEvent(e,r)},t.prototype.getGui=function(){return this.eGui},t.prototype.refreshToolTip=function(){var e;(e=this.tooltipFeature)===null||e===void 0||e.refreshToolTip()},t.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},t.prototype.onLeftChanged=function(){var e;this.cellComp&&((e=this.cellPositionFeature)===null||e===void 0||e.onLeftChanged())},t.prototype.onDisplayedColumnsChanged=function(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())},t.prototype.refreshFirstAndLastStyles=function(){var e=this,r=e.cellComp,i=e.column,o=e.beans;fh.refreshFirstAndLastStyles(r,i,o.columnModel)},t.prototype.refreshAriaColIndex=function(){var e=this.beans.columnModel.getAriaColumnIndex(this.column);kV(this.getGui(),e)},t.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},t.prototype.onWidthChanged=function(){var e;return(e=this.cellPositionFeature)===null||e===void 0?void 0:e.onWidthChanged()},t.prototype.getColumn=function(){return this.column},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getBeans=function(){return this.beans},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.appendChild=function(e){this.eGui.appendChild(e)},t.prototype.refreshHandle=function(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},t.prototype.getCellPosition=function(){return this.cellPosition},t.prototype.isEditing=function(){return this.editing},t.prototype.startRowOrCellEdit=function(e,r){var i=this;if(r===void 0&&(r=null),!this.cellComp){this.onCellCompAttachedFuncs.push(function(){i.startRowOrCellEdit(e,r)});return}this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(e,this):this.startEditing(e,!0,r)},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},t.prototype.updateRangeBordersIfRangeCount=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},t.prototype.onRangeSelectionChanged=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.isRangeSelectionEnabled=function(){return this.cellRangeFeature!=null},t.prototype.focusCell=function(e){e===void 0&&(e=!1),this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})},t.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(k1e,e)}},t.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(G1e,e)}},t.prototype.onCellFocused=function(e){if(!this.beans.gridOptionsService.get("suppressCellFocus")){var r=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){r&&(e!=null&&e.forceBrowserFocus)&&(this.focusEventToRestore=e);return}if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(N1e,r),r&&e&&e.forceBrowserFocus){var i=this.cellComp.getFocusableElement();i.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}var o=this.beans.gridOptionsService.get("editType")==="fullRow";!r&&!o&&this.editing&&this.stopRowOrCellEdit(),r&&this.rowCtrl.announceDescription()}},t.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:Wu(this.rowNode.rowPinned),column:this.column}},t.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass(L1e,!0),this.cellComp.addOrRemoveCssClass(V1e,!0);var e=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(F1e,e),this.cellComp.addOrRemoveCssClass(I1e,!e)},t.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsService.get("columnHoverHighlight")){var e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(B1e,e)}},t.prototype.onColDefChanged=function(){var e,r;if(this.cellComp){var i=this.column.isAutoHeight();i!==this.isAutoHeight&&((e=this.rowCtrl)===null||e===void 0||e.refreshCell(this));var o=this.column.isTooltipEnabled();if(o?(this.disableTooltipFeature(),this.enableTooltipFeature(),(r=this.tooltipFeature)===null||r===void 0||r.setComp(this.eGui)):this.disableTooltipFeature(),this.setWrapText(),!this.editing)this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0});else{var a=this.getCellEditor();if(a!=null&&a.refresh){var s=this.editCompDetails.params,l=s.eventKey,u=s.cellStartedEdit,c=this.createCellEditorParams(l,u),d=this.column.getColDef(),p=this.beans.userComponentFactory.getCellEditorDetails(d,c);a.refresh(p.params)}}}},t.prototype.setWrapText=function(){var e=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(j1e,e)},t.prototype.dispatchCellContextMenuEvent=function(e){var r=this,i=this.column.getColDef(),o=this.createEvent(e,M.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(o),i.onCellContextMenu&&window.setTimeout(function(){r.beans.frameworkOverrides.wrapOutgoing(function(){i.onCellContextMenu(o)})},0)},t.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},t.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},t.prototype.destroy=function(){this.onCellCompAttachedFuncs=[],n.prototype.destroy.call(this)},t.prototype.createSelectionCheckbox=function(){var e=new uB;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e},t.prototype.createDndSource=function(){var e=new R1e(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(e),e},t.prototype.registerRowDragger=function(e,r,i){var o=this;if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,r);return}var a=this.createRowDragComp(e,r,i);a&&(this.customRowDragComp=a,this.addDestroyFunc(function(){o.beans.context.destroyBean(a),o.customRowDragComp=null}))},t.prototype.createRowDragComp=function(e,r,i){var o=this,a=this.beans.gridOptionsService.get("pagination"),s=this.beans.gridOptionsService.get("rowDragManaged"),l=this.beans.gridOptionsService.isRowModelType("clientSide");if(s){if(!l){at("managed row dragging is only allowed in the Client Side Row Model");return}if(a){at("managed row dragging is not possible when doing pagination");return}}var u=new CR(function(){return o.value},this.rowNode,this.column,e,r,i);return this.beans.context.createBean(u),u},t.DOM_DATA_KEY_CELL_CTRL="cellCtrl",t}(re),$1e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),W1e=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},NM=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},kM=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},Yo;(function(n){n.Normal="Normal",n.FullWidth="FullWidth",n.FullWidthLoading="FullWidthLoading",n.FullWidthGroup="FullWidthGroup",n.FullWidthDetail="FullWidthDetail"})(Yo||(Yo={}));var U1e=0,Fp=function(n){$1e(t,n);function t(e,r,i,o,a){var s=n.call(this)||this;return s.allRowGuis=[],s.active=!0,s.centerCellCtrls={list:[],map:{}},s.leftCellCtrls={list:[],map:{}},s.rightCellCtrls={list:[],map:{}},s.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},s.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},s.rowDragComps=[],s.lastMouseDownOnDragger=!1,s.emptyStyle={},s.updateColumnListsPending=!1,s.rowId=null,s.businessKeySanitised=null,s.beans=r,s.gridOptionsService=r.gridOptionsService,s.rowNode=e,s.paginationPage=r.paginationProxy.getCurrentPage(),s.useAnimationFrameForCreate=o,s.printLayout=a,s.suppressRowTransform=s.gridOptionsService.get("suppressRowTransform"),s.instanceId=e.id+"-"+U1e++,s.rowId=Jn(e.id),s.initRowBusinessKey(),s.rowFocused=r.focusService.isRowFocused(s.rowNode.rowIndex,s.rowNode.rowPinned),s.rowLevel=r.rowCssClassCalculator.calculateRowLevel(s.rowNode),s.setRowType(),s.setAnimateFlags(i),s.rowStyles=s.processStylesFromGridOptions(),s.isFullWidth()&&!s.gridOptionsService.get("suppressCellFocus")&&(s.tabIndex=-1),s.addListeners(),s}return t.prototype.initRowBusinessKey=function(){this.businessKeyForNodeFunc=this.gridOptionsService.get("getBusinessKeyForNode"),this.updateRowBusinessKey()},t.prototype.updateRowBusinessKey=function(){if(typeof this.businessKeyForNodeFunc=="function"){var e=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=Jn(e)}},t.prototype.getRowId=function(){return this.rowId},t.prototype.getRowStyles=function(){return this.rowStyles},t.prototype.getTabIndex=function(){return this.tabIndex},t.prototype.isSticky=function(){return this.rowNode.sticky},t.prototype.getBeans=function(){return this.beans},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setComp=function(e,r,i){var o={rowComp:e,element:r,containerType:i};this.allRowGuis.push(o),i===Yn.LEFT?this.leftGui=o:i===Yn.RIGHT?this.rightGui=o:i===Yn.FULL_WIDTH?this.fullWidthGui=o:this.centerGui=o,this.initialiseRowComp(o),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()},t.prototype.unsetComp=function(e){switch(this.allRowGuis=this.allRowGuis.filter(function(r){return r.containerType!==e}),e){case Yn.LEFT:this.leftGui=void 0;break;case Yn.RIGHT:this.rightGui=void 0;break;case Yn.FULL_WIDTH:this.fullWidthGui=void 0;break;case Yn.CENTER:this.centerGui=void 0;break}},t.prototype.isCacheable=function(){return this.rowType===Yo.FullWidthDetail&&this.gridOptionsService.get("keepDetailRows")},t.prototype.setCached=function(e){var r=e?"none":"";this.allRowGuis.forEach(function(i){return i.element.style.display=r})},t.prototype.initialiseRowComp=function(e){var r=this,i=this.gridOptionsService;this.listenOnDomOrder(e),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),i.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);var o=e.rowComp,a=this.getInitialRowClasses(e.containerType);a.forEach(function(s){return o.addOrRemoveCssClass(s,!0)}),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&id(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(o),this.setRowCompRowBusinessKey(o),i.setDomData(e.element,t.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(function(){return i.setDomData(e.element,t.DOM_DATA_KEY_ROW_CTRL,null)}),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,e.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e.element),this.isFullWidth()&&this.setupFullWidth(e),i.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(function(){r.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()},t.prototype.setRowCompRowBusinessKey=function(e){this.businessKeySanitised!=null&&e.setRowBusinessKey(this.businessKeySanitised)},t.prototype.getBusinessKey=function(){return this.businessKeySanitised},t.prototype.setRowCompRowId=function(e){this.rowId=Jn(this.rowNode.id),this.rowId!=null&&e.setRowId(this.rowId)},t.prototype.executeSlideAndFadeAnimations=function(e){var r=this,i=e.containerType,o=this.slideInAnimation[i];o&&(n1(function(){r.onTopChanged()}),this.slideInAnimation[i]=!1);var a=this.fadeInAnimation[i];a&&(n1(function(){e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[i]=!1)},t.prototype.addRowDraggerToRow=function(e){if(this.gridOptionsService.get("enableRangeSelection")){at("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`");return}var r=this.beans.localeService.getLocaleTextFunc(),i=new CR(function(){return"1 ".concat(r("rowDragRow","row"))},this.rowNode,void 0,e.element,void 0,!0),o=this.createBean(i,this.beans.context);this.rowDragComps.push(o)},t.prototype.setupFullWidth=function(e){var r=this.getPinnedForContainer(e.containerType),i=this.createFullWidthParams(e.element,r);if(!(this.rowType==Yo.FullWidthDetail&&!ut.__assertRegistered(Te.MasterDetailModule,"cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))){var o;switch(this.rowType){case Yo.FullWidthDetail:o=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(i);break;case Yo.FullWidthGroup:o=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(i);break;case Yo.FullWidthLoading:o=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(i);break;default:o=this.beans.userComponentFactory.getFullWidthCellRendererDetails(i);break}e.rowComp.showFullWidth(o)}},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.getFullWidthCellRenderers=function(){var e,r;return this.gridOptionsService.get("embedFullWidthRows")?this.allRowGuis.map(function(i){var o;return(o=i==null?void 0:i.rowComp)===null||o===void 0?void 0:o.getFullWidthCellRenderer()}):[(r=(e=this.fullWidthGui)===null||e===void 0?void 0:e.rowComp)===null||r===void 0?void 0:r.getFullWidthCellRenderer()]},t.prototype.getCellElement=function(e){var r=this.getCellCtrl(e);return r?r.getGui():null},t.prototype.executeProcessRowPostCreateFunc=function(){var e=this.gridOptionsService.getCallback("processRowPostCreate");if(!(!e||!this.areAllContainersReady())){var r={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(r)}},t.prototype.areAllContainersReady=function(){var e=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),r=!!this.centerGui,i=!!this.rightGui||!this.beans.columnModel.isPinningRight();return e&&r&&i},t.prototype.setRowType=function(){var e=this.rowNode.stub,r=this.rowNode.isFullWidthCell(),i=this.gridOptionsService.get("masterDetail")&&this.rowNode.detail,o=this.beans.columnModel.isPivotMode(),a=!!this.rowNode.group&&!this.rowNode.footer,s=a&&this.gridOptionsService.isGroupUseEntireRow(o);e?this.rowType=Yo.FullWidthLoading:i?this.rowType=Yo.FullWidthDetail:r?this.rowType=Yo.FullWidth:s?this.rowType=Yo.FullWidthGroup:this.rowType=Yo.Normal},t.prototype.updateColumnLists=function(e,r){var i=this;if(e===void 0&&(e=!1),r===void 0&&(r=!1),!this.isFullWidth()){var o=e||this.gridOptionsService.get("suppressAnimationFrame")||this.printLayout;if(o){this.updateColumnListsImpl(r);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){i.active&&i.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},t.prototype.createCellCtrls=function(e,r,i){var o=this;i===void 0&&(i=null);var a={list:[],map:{}},s=function(l,u){a.list.push(u),a.map[l]=u};return r.forEach(function(l){var u=l.getInstanceId(),c=e.map[u];c||(c=new Hc(l,o.rowNode,o.beans,o)),s(u,c)}),e.list.forEach(function(l){var u=a.map[l.getColumn().getInstanceId()]!=null;if(!u){var c=!o.isCellEligibleToBeRemoved(l,i);if(c){s(l.getColumn().getInstanceId(),l);return}l.destroy()}}),a},t.prototype.updateColumnListsImpl=function(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)},t.prototype.setCellCtrls=function(e){var r=this;this.allRowGuis.forEach(function(i){var o=r.getCellCtrlsForContainer(i.containerType);i.rowComp.setCellCtrls(o,e)})},t.prototype.getCellCtrlsForContainer=function(e){switch(e){case Yn.LEFT:return this.leftCellCtrls.list;case Yn.RIGHT:return this.rightCellCtrls.list;case Yn.FULL_WIDTH:return[];case Yn.CENTER:return this.centerCellCtrls.list;default:var r=e;throw new Error("Unhandled case: ".concat(r))}},t.prototype.createAllCellCtrls=function(){var e=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,e.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var r=e.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,r);var i=e.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,"left");var o=e.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,o,"right")}},t.prototype.isCellEligibleToBeRemoved=function(e,r){var i=!0,o=!1,a=e.getColumn();if(a.getPinned()!=r)return i;var s=e.isEditing(),l=this.beans.focusService.isCellFocused(e.getCellPosition()),u=s||l;if(u){var c=e.getColumn(),d=this.beans.columnModel.getAllDisplayedColumns(),p=d.indexOf(c)>=0;return p?o:i}return i},t.prototype.getDomOrder=function(){var e=this.gridOptionsService.get("ensureDomOrder");return e||this.gridOptionsService.isDomLayout("print")},t.prototype.listenOnDomOrder=function(e){var r=this,i=function(){e.rowComp.setDomOrder(r.getDomOrder())};this.addManagedPropertyListener("domLayout",i),this.addManagedPropertyListener("ensureDomOrder",i)},t.prototype.setAnimateFlags=function(e){if(!(this.isSticky()||!e)){var r=ye(this.rowNode.oldRowTop),i=this.beans.columnModel.isPinningLeft(),o=this.beans.columnModel.isPinningRight();if(r){if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=i,this.slideInAnimation.right=o}else{if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=i,this.fadeInAnimation.right=o}}},t.prototype.isEditing=function(){return this.editingRow},t.prototype.isFullWidth=function(){return this.rowType!==Yo.Normal},t.prototype.getRowType=function(){return this.rowType},t.prototype.refreshFullWidth=function(){var e=this,r=function(u,c){return u?u.rowComp.refreshFullWidth(function(){return e.createFullWidthParams(u.element,c)}):!0},i=r(this.fullWidthGui,null),o=r(this.centerGui,null),a=r(this.leftGui,"left"),s=r(this.rightGui,"right"),l=i&&o&&a&&s;return l},t.prototype.addListeners=function(){var e=this;this.addManagedListener(this.rowNode,Ct.EVENT_HEIGHT_CHANGED,function(){return e.onRowHeightChanged()}),this.addManagedListener(this.rowNode,Ct.EVENT_ROW_SELECTED,function(){return e.onRowSelected()}),this.addManagedListener(this.rowNode,Ct.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,Ct.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,Ct.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Ct.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.rowNode.detail&&this.addManagedListener(this.rowNode.parent,Ct.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Ct.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Ct.EVENT_CELL_CHANGED,this.postProcessCss.bind(this)),this.addManagedListener(this.rowNode,Ct.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,Ct.EVENT_DRAGGING_CHANGED,this.postProcessRowDragging.bind(this)),this.addManagedListener(this.rowNode,Ct.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var r=this.beans.eventService;this.addManagedListener(r,M.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(r,M.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(r,M.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(r,M.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(r,M.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(r,M.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusChanged.bind(this)),this.addManagedListener(r,M.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(r,M.EVENT_MODEL_UPDATED,this.refreshFirstAndLastRowStyles.bind(this)),this.addManagedListener(r,M.EVENT_COLUMN_MOVED,this.updateColumnLists.bind(this)),this.addDestroyFunc(function(){e.destroyBeans(e.rowDragComps,e.beans.context)}),this.addManagedPropertyListeners(["rowDragEntireRow"],function(){var i=e.gridOptionsService.get("rowDragEntireRow");if(i){e.allRowGuis.forEach(function(o){e.addRowDraggerToRow(o)});return}e.destroyBeans(e.rowDragComps,e.beans.context),e.rowDragComps=[]}),this.addListenersForCellComps()},t.prototype.addListenersForCellComps=function(){var e=this;this.addManagedListener(this.rowNode,Ct.EVENT_ROW_INDEX_CHANGED,function(){e.getAllCellCtrls().forEach(function(r){return r.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,Ct.EVENT_CELL_CHANGED,function(r){e.getAllCellCtrls().forEach(function(i){return i.onCellChanged(r)})})},t.prototype.onRowNodeDataChanged=function(e){var r=this,i=this.isFullWidth()!==!!this.rowNode.isFullWidthCell();if(i){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){var o=this.refreshFullWidth();o||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(function(a){return a.refreshCell({suppressFlash:!e.update,newData:!e.update})}),this.allRowGuis.forEach(function(a){r.setRowCompRowId(a.rowComp),r.updateRowBusinessKey(),r.setRowCompRowBusinessKey(a.rowComp)}),this.onRowSelected(),this.postProcessCss()},t.prototype.postProcessCss=function(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},t.prototype.onRowNodeHighlightChanged=function(){var e=this.rowNode.highlighted;this.allRowGuis.forEach(function(r){var i=e===zu.Above,o=e===zu.Below;r.rowComp.addOrRemoveCssClass("ag-row-highlight-above",i),r.rowComp.addOrRemoveCssClass("ag-row-highlight-below",o)})},t.prototype.postProcessRowDragging=function(){var e=this.rowNode.dragging;this.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass("ag-row-dragging",e)})},t.prototype.updateExpandedCss=function(){var e=this.rowNode.isExpandable(),r=this.rowNode.expanded==!0;this.allRowGuis.forEach(function(i){i.rowComp.addOrRemoveCssClass("ag-row-group",e),i.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&r),i.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!r),id(i.element,e&&r)})},t.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},t.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists(!1,!0)},t.prototype.getRowPosition=function(){return{rowPinned:Wu(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},t.prototype.onKeyboardNavigate=function(e){var r=this.allRowGuis.find(function(u){return u.element.contains(e.target)}),i=r?r.element:null,o=i===e.target;if(o){var a=this.rowNode,s=this.beans.focusService.getFocusedCell(),l={rowIndex:a.rowIndex,rowPinned:a.rowPinned,column:s&&s.column};this.beans.navigationService.navigateToNextCell(e,e.key,l,!0),e.preventDefault()}},t.prototype.onTabKeyDown=function(e){if(!(e.defaultPrevented||Rl(e))){var r=this.allRowGuis.find(function(s){return s.element.contains(e.target)}),i=r?r.element:null,o=i===e.target,a=null;o||(a=this.beans.focusService.findNextFocusableElement(i,!1,e.shiftKey)),(this.isFullWidth()&&o||!a)&&this.beans.navigationService.onTabKeyDown(this,e)}},t.prototype.onFullWidthRowFocused=function(e){var r,i=this.rowNode,o=e?this.isFullWidth()&&e.rowIndex===i.rowIndex&&e.rowPinned==i.rowPinned:!1,a=this.fullWidthGui?this.fullWidthGui.element:(r=this.centerGui)===null||r===void 0?void 0:r.element;a&&(a.classList.toggle("ag-full-width-focus",o),o&&a.focus({preventScroll:!0}))},t.prototype.refreshCell=function(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),this.updateColumnLists()},t.prototype.removeCellCtrl=function(e,r){var i={list:[],map:{}};return e.list.forEach(function(o){o!==r&&(i.list.push(o),i.map[o.getInstanceId()]=o)}),i},t.prototype.onMouseEvent=function(e,r){switch(e){case"dblclick":this.onRowDblClick(r);break;case"click":this.onRowClick(r);break;case"touchstart":case"mousedown":this.onRowMouseDown(r);break}},t.prototype.createRowEvent=function(e,r){return this.gridOptionsService.addGridCommonParams({type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:r})},t.prototype.createRowEventWithSource=function(e,r){var i=this.createRowEvent(e,r);return i.source=this,i},t.prototype.onRowDblClick=function(e){if(!Rl(e)){var r=this.createRowEventWithSource(M.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(r)}},t.prototype.onRowMouseDown=function(e){if(this.lastMouseDownOnDragger=Wf(e.target,"ag-row-drag",3),!!this.isFullWidth()){var r=this.rowNode,i=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:r.rowIndex,column:i.getAllDisplayedColumns()[0],rowPinned:r.rowPinned,forceBrowserFocus:!0})}},t.prototype.onRowClick=function(e){var r=Rl(e)||this.lastMouseDownOnDragger;if(!r){var i=this.createRowEventWithSource(M.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(i);var o=e.ctrlKey||e.metaKey,a=e.shiftKey,s=this.gridOptionsService.get("groupSelectsChildren");if(!(s&&this.rowNode.group||this.isRowSelectionBlocked()||this.gridOptionsService.get("suppressRowClickSelection"))){var l=this.gridOptionsService.get("rowMultiSelectWithClick"),u=!this.gridOptionsService.get("suppressRowDeselection"),c="rowClicked";if(this.rowNode.isSelected())l?this.rowNode.setSelectedParams({newValue:!1,event:e,source:c}):o?u&&this.rowNode.setSelectedParams({newValue:!1,event:e,source:c}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!a,rangeSelect:a,event:e,source:c});else{var d=l?!1:!o;this.rowNode.setSelectedParams({newValue:!0,clearSelection:d,rangeSelect:a,event:e,source:c})}}}},t.prototype.isRowSelectionBlocked=function(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!this.gridOptionsService.isRowSelection()},t.prototype.setupDetailRowAutoHeight=function(e){var r=this;if(this.rowType===Yo.FullWidthDetail&&this.gridOptionsService.get("detailRowAutoHeight")){var i=function(){var a=e.clientHeight;if(a!=null&&a>0){var s=function(){r.rowNode.setRowHeight(a),r.beans.clientSideRowModel?r.beans.clientSideRowModel.onRowHeightChanged():r.beans.serverSideRowModel&&r.beans.serverSideRowModel.onRowHeightChanged()};window.setTimeout(s,0)}},o=this.beans.resizeObserverService.observeResize(e,i);this.addDestroyFunc(o),i()}},t.prototype.createFullWidthParams=function(e,r){var i=this,o=this.gridOptionsService.addGridCommonParams({fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,eGridCell:e,eParentOfValue:e,pinned:r,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(a,s,l,u){return i.addFullWidthRowDragging(a,s,l,u)}});return o},t.prototype.addFullWidthRowDragging=function(e,r,i,o){if(i===void 0&&(i=""),!!this.isFullWidth()){var a=new CR(function(){return i},this.rowNode,void 0,e,r,o);this.createManagedBean(a,this.beans.context)}},t.prototype.onUiLevelChanged=function(){var e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){var r="ag-row-level-"+e,i="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(o){o.rowComp.addOrRemoveCssClass(r,!0),o.rowComp.addOrRemoveCssClass(i,!1)})}this.rowLevel=e},t.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},t.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},t.prototype.refreshFirstAndLastRowStyles=function(){var e=this.isFirstRowOnPage(),r=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-first",e)})),this.lastRowOnPage!==r&&(this.lastRowOnPage=r,this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-last",r)}))},t.prototype.stopEditing=function(e){var r,i;if(e===void 0&&(e=!1),!this.stoppingRowEdit){var o=this.getAllCellCtrls(),a=this.editingRow;this.stoppingRowEdit=!0;var s=!1;try{for(var l=W1e(o),u=l.next();!u.done;u=l.next()){var c=u.value,d=c.stopEditing(e);a&&!e&&!s&&d&&(s=!0)}}catch(h){r={error:h}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}if(s){var p=this.createRowEvent(M.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(p)}a&&this.setEditingRow(!1),this.stoppingRowEdit=!1}},t.prototype.setInlineEditingCss=function(e){this.allRowGuis.forEach(function(r){r.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),r.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)})},t.prototype.setEditingRow=function(e){this.editingRow=e,this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-editing",e)});var r=e?this.createRowEvent(M.EVENT_ROW_EDITING_STARTED):this.createRowEvent(M.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(r)},t.prototype.startRowEditing=function(e,r,i){if(e===void 0&&(e=null),r===void 0&&(r=null),i===void 0&&(i=null),!this.editingRow){var o=this.getAllCellCtrls().reduce(function(a,s){var l=s===r;return l?s.startEditing(e,l,i):s.startEditing(null,l,i),a?!0:s.isEditing()},!1);o&&this.setEditingRow(!0)}},t.prototype.getAllCellCtrls=function(){if(this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0)return this.centerCellCtrls.list;var e=kM(kM(kM([],NM(this.centerCellCtrls.list),!1),NM(this.leftCellCtrls.list),!1),NM(this.rightCellCtrls.list),!1);return e},t.prototype.postProcessClassesFromGridOptions=function(){var e=this,r=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!r||!r.length||r.forEach(function(i){e.allRowGuis.forEach(function(o){return o.rowComp.addOrRemoveCssClass(i,!0)})})},t.prototype.postProcessRowClassRules=function(){var e=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,function(r){e.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass(r,!0)})},function(r){e.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass(r,!1)})})},t.prototype.setStylesFromGridOptions=function(e,r){var i=this;e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(r,function(o){return o.rowComp.setUserStyles(i.rowStyles)})},t.prototype.getPinnedForContainer=function(e){var r=e===Yn.LEFT?"left":e===Yn.RIGHT?"right":null;return r},t.prototype.getInitialRowClasses=function(e){var r=this.getPinnedForContainer(e),i={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[e],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:r};return this.beans.rowCssClassCalculator.getInitialRowClasses(i)},t.prototype.processStylesFromGridOptions=function(){var e=this.gridOptionsService.get("rowStyle");if(e&&typeof e=="function"){console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}var r=this.gridOptionsService.getCallback("getRowStyle"),i;if(r){var o={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};i=r(o)}return i||e?Object.assign({},e,i):this.emptyStyle},t.prototype.onRowSelected=function(e){var r=this,i=this.beans.gridOptionsService.getDocument(),o=!!this.rowNode.isSelected();this.forEachGui(e,function(a){a.rowComp.addOrRemoveCssClass("ag-row-selected",o),Jm(a.element,o);var s=a.element.contains(i.activeElement);s&&(a===r.centerGui||a===r.fullWidthGui)&&r.announceDescription()})},t.prototype.announceDescription=function(){if(!this.isRowSelectionBlocked()){var e=this.rowNode.isSelected();if(!(e&&this.beans.gridOptionsService.get("suppressRowDeselection"))){var r=this.beans.localeService.getLocaleTextFunc(),i=r(e?"ariaRowDeselect":"ariaRowSelect","Press SPACE to ".concat(e?"deselect":"select"," this row."));this.beans.ariaAnnouncementService.announceValue(i)}}},t.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},t.prototype.addHoverFunctionality=function(e){var r=this;this.active&&(this.addManagedListener(e,"mouseenter",function(){return r.rowNode.onMouseEnter()}),this.addManagedListener(e,"mouseleave",function(){return r.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,Ct.EVENT_MOUSE_ENTER,function(){!r.beans.dragService.isDragging()&&!r.gridOptionsService.get("suppressRowHoverHighlight")&&(e.classList.add("ag-row-hover"),r.rowNode.setHovered(!0))}),this.addManagedListener(this.rowNode,Ct.EVENT_MOUSE_LEAVE,function(){e.classList.remove("ag-row-hover"),r.rowNode.setHovered(!1)}))},t.prototype.roundRowTopToBounds=function(e){var r=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),i=this.applyPaginationOffset(r.top,!0)-100,o=this.applyPaginationOffset(r.bottom,!0)+100;return Math.min(Math.max(i,e),o)},t.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},t.prototype.forEachGui=function(e,r){e?r(e):this.allRowGuis.forEach(r)},t.prototype.onRowHeightChanged=function(e){if(this.rowNode.rowHeight!=null){var r=this.rowNode.rowHeight,i=this.beans.environment.getDefaultRowHeight(),o=this.gridOptionsService.isGetRowHeightFunction(),a=o?this.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,s=a?"".concat(Math.min(i,a)-2,"px"):void 0;this.forEachGui(e,function(l){l.element.style.height="".concat(r,"px"),s&&l.element.style.setProperty("--ag-line-height",s)})}},t.prototype.addEventListener=function(e,r){n.prototype.addEventListener.call(this,e,r)},t.prototype.removeEventListener=function(e,r){n.prototype.removeEventListener.call(this,e,r)},t.prototype.destroyFirstPass=function(e){if(e===void 0&&(e=!1),this.active=!1,!e&&this.gridOptionsService.isAnimateRows()&&!this.isSticky()){var r=this.rowNode.rowTop!=null;if(r){var i=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(i)}else this.allRowGuis.forEach(function(a){return a.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})}this.rowNode.setHovered(!1);var o=this.createRowEvent(M.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(o),this.beans.eventService.dispatchEvent(o),n.prototype.destroy.call(this)},t.prototype.destroySecondPass=function(){this.allRowGuis.length=0,this.stopEditing();var e=function(r){return r.list.forEach(function(i){return i.destroy()}),{list:[],map:{}}};this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)},t.prototype.setFocusedClasses=function(e){var r=this;this.forEachGui(e,function(i){i.rowComp.addOrRemoveCssClass("ag-row-focus",r.rowFocused),i.rowComp.addOrRemoveCssClass("ag-row-no-focus",!r.rowFocused)})},t.prototype.onCellFocusChanged=function(){var e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)},t.prototype.onPaginationChanged=function(){var e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},t.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},t.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},t.prototype.applyPaginationOffset=function(e,r){if(r===void 0&&(r=!1),this.rowNode.isRowPinned()||this.rowNode.sticky)return e;var i=this.beans.paginationProxy.getPixelOffset(),o=r?1:-1;return e+i*o},t.prototype.setRowTop=function(e){if(!this.printLayout&&ye(e)){var r=this.applyPaginationOffset(e),i=this.rowNode.isRowPinned()||this.rowNode.sticky,o=i?r:this.beans.rowContainerHeightService.getRealPixelPosition(r),a="".concat(o,"px");this.setRowTopStyle(a)}},t.prototype.getInitialRowTop=function(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0},t.prototype.getInitialTransform=function(e){return this.suppressRowTransform?void 0:"translateY(".concat(this.getInitialRowTopShared(e),")")},t.prototype.getInitialRowTopShared=function(e){if(this.printLayout)return"";var r;if(this.isSticky())r=this.rowNode.stickyRowTop;else{var i=this.slideInAnimation[e]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,o=this.applyPaginationOffset(i);r=this.rowNode.isRowPinned()?o:this.beans.rowContainerHeightService.getRealPixelPosition(o)}return r+"px"},t.prototype.setRowTopStyle=function(e){var r=this;this.allRowGuis.forEach(function(i){return r.suppressRowTransform?i.rowComp.setTop(e):i.rowComp.setTransform("translateY(".concat(e,")"))})},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getCellCtrl=function(e){var r=null;return this.getAllCellCtrls().forEach(function(i){i.getColumn()==e&&(r=i)}),r!=null||this.getAllCellCtrls().forEach(function(i){i.getColSpanningList().indexOf(e)>=0&&(r=i)}),r},t.prototype.onRowIndexChanged=function(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},t.prototype.getRowIndex=function(){return this.rowNode.getRowIndexString()},t.prototype.updateRowIndexes=function(e){var r=this.rowNode.getRowIndexString(),i=this.beans.headerNavigationService.getHeaderRowCount()+this.beans.filterManager.getHeaderRowCount(),o=this.rowNode.rowIndex%2===0,a=i+this.rowNode.rowIndex+1;this.forEachGui(e,function(s){s.rowComp.setRowIndex(r),s.rowComp.addOrRemoveCssClass("ag-row-even",o),s.rowComp.addOrRemoveCssClass("ag-row-odd",!o),NV(s.element,a)})},t.DOM_DATA_KEY_ROW_CTRL="renderedRow",t}(re),z1e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Oa=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},K1e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Y1e=function(n){z1e(t,n);function t(e){var r=n.call(this)||this;return r.element=e,r}return t.prototype.postConstruct=function(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()},t.prototype.addKeyboardListeners=function(){var e="keydown",r=this.processKeyboardEvent.bind(this,e);this.addManagedListener(this.element,e,r)},t.prototype.addMouseListeners=function(){var e=this,r=RV("touchstart")?"touchstart":"mousedown",i=["dblclick","contextmenu","mouseover","mouseout","click",r];i.forEach(function(o){var a=e.processMouseEvent.bind(e,o);e.addManagedListener(e.element,o,a)})},t.prototype.processMouseEvent=function(e,r){if(!(!this.mouseEventService.isEventFromThisGrid(r)||Rl(r))){var i=this.getRowForEvent(r),o=this.mouseEventService.getRenderedCellForEvent(r);e==="contextmenu"?this.handleContextMenuMouseEvent(r,void 0,i,o):(o&&o.onMouseEvent(e,r),i&&i.onMouseEvent(e,r))}},t.prototype.mockContextMenuForIPad=function(){var e=this;if(vd()){var r=new kn(this.element),i=function(o){var a=e.getRowForEvent(o.touchEvent),s=e.mouseEventService.getRenderedCellForEvent(o.touchEvent);e.handleContextMenuMouseEvent(void 0,o.touchEvent,a,s)};this.addManagedListener(r,kn.EVENT_LONG_TAP,i),this.addDestroyFunc(function(){return r.destroy()})}},t.prototype.getRowForEvent=function(e){for(var r=e.target;r;){var i=this.gridOptionsService.getDomData(r,Fp.DOM_DATA_KEY_ROW_CTRL);if(i)return i;r=r.parentElement}return null},t.prototype.handleContextMenuMouseEvent=function(e,r,i,o){var a=i?i.getRowNode():null,s=o?o.getColumn():null,l=null;if(s){var u=e||r;o.dispatchCellContextMenuEvent(u??null),l=this.valueService.getValue(s,a)}var c=this.ctrlsService.getGridBodyCtrl(),d=o?o.getGui():c.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:r,rowNode:a,column:s,value:l,anchorToElement:d})},t.prototype.getControlsForEventTarget=function(e){return{cellCtrl:pR(this.gridOptionsService,e,Hc.DOM_DATA_KEY_CELL_CTRL),rowCtrl:pR(this.gridOptionsService,e,Fp.DOM_DATA_KEY_ROW_CTRL)}},t.prototype.processKeyboardEvent=function(e,r){var i=this.getControlsForEventTarget(r.target),o=i.cellCtrl,a=i.rowCtrl;r.defaultPrevented||(o?this.processCellKeyboardEvent(o,e,r):a&&a.isFullWidth()&&this.processFullWidthRowKeyboardEvent(a,e,r))},t.prototype.processCellKeyboardEvent=function(e,r,i){var o=e.getRowNode(),a=e.getColumn(),s=e.isEditing(),l=!gR(this.gridOptionsService,i,o,a,s);if(l&&r==="keydown"){var u=!s&&this.navigationService.handlePageScrollingKey(i);u||e.onKeyDown(i),this.doGridOperations(i,e.isEditing()),oD(i)&&e.processCharacter(i)}if(r==="keydown"){var c=e.createEvent(i,M.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(c)}},t.prototype.processFullWidthRowKeyboardEvent=function(e,r,i){var o=e.getRowNode(),a=this.focusService.getFocusedCell(),s=a&&a.column,l=!gR(this.gridOptionsService,i,o,s,!1);if(l){var u=i.key;if(r==="keydown")switch(u){case K.PAGE_HOME:case K.PAGE_END:case K.PAGE_UP:case K.PAGE_DOWN:this.navigationService.handlePageScrollingKey(i,!0);break;case K.UP:case K.DOWN:e.onKeyboardNavigate(i);break;case K.TAB:e.onTabKeyDown(i);break}}if(r==="keydown"){var c=e.createRowEvent(M.EVENT_CELL_KEY_DOWN,i);this.eventService.dispatchEvent(c)}},t.prototype.doGridOperations=function(e,r){if(!(!e.ctrlKey&&!e.metaKey)&&!r&&this.mouseEventService.isEventFromThisGrid(e)){var i=bZ(e);if(i===K.A)return this.onCtrlAndA(e);if(i===K.C)return this.onCtrlAndC(e);if(i===K.D)return this.onCtrlAndD(e);if(i===K.V)return this.onCtrlAndV(e);if(i===K.X)return this.onCtrlAndX(e);if(i===K.Y)return this.onCtrlAndY();if(i===K.Z)return this.onCtrlAndZ(e)}},t.prototype.onCtrlAndA=function(e){var r=this,i=r.pinnedRowModel,o=r.paginationProxy,a=r.rangeService;if(a&&o.isRowsToRender()){var s=K1e([i.isEmpty("top"),i.isEmpty("bottom")],2),l=s[0],u=s[1],c=l?null:"top",d=void 0,p=void 0;u?(d=null,p=this.paginationProxy.getRowCount()-1):(d="bottom",p=i.getPinnedBottomRowData().length-1);var h=this.columnModel.getAllDisplayedColumns();if(Ya(h))return;a.setCellRange({rowStartIndex:0,rowStartPinned:c,rowEndIndex:p,rowEndPinned:d,columnStart:h[0],columnEnd:Yt(h)})}e.preventDefault()},t.prototype.onCtrlAndC=function(e){if(!(!this.clipboardService||this.gridOptionsService.get("enableCellTextSelection"))){var r=this.getControlsForEventTarget(e.target),i=r.cellCtrl,o=r.rowCtrl;i!=null&&i.isEditing()||o!=null&&o.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}},t.prototype.onCtrlAndX=function(e){if(!(!this.clipboardService||this.gridOptionsService.get("enableCellTextSelection")||this.gridOptionsService.get("suppressCutToClipboard"))){var r=this.getControlsForEventTarget(e.target),i=r.cellCtrl,o=r.rowCtrl;i!=null&&i.isEditing()||o!=null&&o.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}},t.prototype.onCtrlAndV=function(e){var r=this.getControlsForEventTarget(e.target),i=r.cellCtrl,o=r.rowCtrl;i!=null&&i.isEditing()||o!=null&&o.isEditing()||this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()},t.prototype.onCtrlAndD=function(e){this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()},t.prototype.onCtrlAndZ=function(e){this.gridOptionsService.get("undoRedoCellEditing")&&(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))},t.prototype.onCtrlAndY=function(){this.undoRedoService.redo("ui")},Oa([O("mouseEventService")],t.prototype,"mouseEventService",void 0),Oa([O("valueService")],t.prototype,"valueService",void 0),Oa([O("menuService")],t.prototype,"menuService",void 0),Oa([O("ctrlsService")],t.prototype,"ctrlsService",void 0),Oa([O("navigationService")],t.prototype,"navigationService",void 0),Oa([O("focusService")],t.prototype,"focusService",void 0),Oa([O("undoRedoService")],t.prototype,"undoRedoService",void 0),Oa([O("columnModel")],t.prototype,"columnModel",void 0),Oa([O("paginationProxy")],t.prototype,"paginationProxy",void 0),Oa([O("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Oa([xt("rangeService")],t.prototype,"rangeService",void 0),Oa([xt("clipboardService")],t.prototype,"clipboardService",void 0),Oa([q],t.prototype,"postConstruct",null),t}(re),q1e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),_C=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},cU=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},dU=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},X1e=function(n){q1e(t,n);function t(e){var r=n.call(this)||this;return r.centerContainerCtrl=e,r}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.listenForResize()}),this.addManagedListener(this.eventService,M.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this)),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],function(){e.checkViewportAndScrolls()})},t.prototype.listenForResize=function(){var e=this,r=function(){return e.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(r),this.gridBodyCtrl.registerBodyViewportResizeListener(r)},t.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},t.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();var e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},t.prototype.keepPinnedColumnsNarrowerThanViewport=function(){var e=this.gridBodyCtrl.getBodyViewportElement(),r=bv(e);if(!(r<=50)){var i=this.getPinnedColumnsOverflowingViewport(r-50),o=this.gridOptionsService.getCallback("processUnpinnedColumns");if(i.length){if(o){var a={columns:i,viewportWidth:r};i=o(a)}this.columnModel.setColumnsPinned(i,null,"viewportSizeFeature")}}},t.prototype.getPinnedColumnsOverflowingViewport=function(e){var r=this.pinnedWidthService.getPinnedRightWidth(),i=this.pinnedWidthService.getPinnedLeftWidth(),o=r+i;if(o<e)return[];for(var a=dU([],cU(this.columnModel.getDisplayedLeftColumns()),!1),s=dU([],cU(this.columnModel.getDisplayedRightColumns()),!1),l=0,u=0,c=0,d=[],p=o-c-e;(u<a.length||l<s.length)&&p>0;){if(l<s.length){var h=s[l++];p-=h.getActualWidth(),d.push(h)}if(u<a.length&&p>0){var h=a[u++];p-=h.getActualWidth(),d.push(h)}}return d},t.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},t.prototype.getBodyHeight=function(){return this.bodyHeight},t.prototype.checkBodyHeight=function(){var e=this.gridBodyCtrl.getBodyViewportElement(),r=C_(e);if(this.bodyHeight!==r){this.bodyHeight=r;var i={type:M.EVENT_BODY_HEIGHT_CHANGED};this.eventService.dispatchEvent(i)}},t.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},t.prototype.updateScrollVisibleServiceImpl=function(){var e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)},t.prototype.isHorizontalScrollShowing=function(){return this.centerContainerCtrl.isHorizontalScrollShowing()},t.prototype.onHorizontalViewportChanged=function(){var e=this.centerContainerCtrl.getCenterWidth(),r=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(e,r)},_C([O("ctrlsService")],t.prototype,"ctrlsService",void 0),_C([O("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),_C([O("columnModel")],t.prototype,"columnModel",void 0),_C([O("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),_C([q],t.prototype,"postConstruct",null),t}(re),Z1e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),pU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Q1e=function(n){Z1e(t,n);function t(e){var r=n.call(this)||this;return r.element=e,r}return t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,M.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},t.prototype.onPinnedLeftWidthChanged=function(){var e=this.pinnedWidthService.getPinnedLeftWidth(),r=e>0;$t(this.element,r),Bs(this.element,e)},t.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedLeftWidth()},pU([O("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),pU([q],t.prototype,"postConstruct",null),t}(re),J1e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),hU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},eNe=function(n){J1e(t,n);function t(e){var r=n.call(this)||this;return r.element=e,r}return t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,M.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},t.prototype.onPinnedRightWidthChanged=function(){var e=this.pinnedWidthService.getPinnedRightWidth(),r=e>0;$t(this.element,r),Bs(this.element,e)},t.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedRightWidth()},hU([O("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),hU([q],t.prototype,"postConstruct",null),t}(re),tNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),fU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},dQ=function(n){tNe(t,n);function t(e,r){var i=n.call(this)||this;return i.eContainer=e,i.eViewport=r,i}return t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,M.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},t.prototype.onHeightChanged=function(){var e=this.maxDivHeightScaler.getUiContainerHeight(),r=e!=null?"".concat(e,"px"):"";this.eContainer.style.height=r,this.eViewport&&(this.eViewport.style.height=r)},fU([O("rowContainerHeightService")],t.prototype,"maxDivHeightScaler",void 0),fU([q],t.prototype,"postConstruct",null),t}(re),rNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),GM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},nNe=function(n){rNe(t,n);function t(e){var r=n.call(this)||this;return r.eContainer=e,r}return t.prototype.postConstruct=function(){var e=this;if(!pt(this.rangeService)){this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListener("enableRangeSelection",function(i){var o=i.currentValue;if(o){e.enableFeature();return}e.disableFeature()}),this.addDestroyFunc(function(){return e.disableFeature()});var r=this.gridOptionsService.get("enableRangeSelection");r&&this.enableFeature()}},t.prototype.enableFeature=function(){this.dragService.addDragSource(this.params)},t.prototype.disableFeature=function(){this.dragService.removeDragSource(this.params)},GM([xt("rangeService")],t.prototype,"rangeService",void 0),GM([O("dragService")],t.prototype,"dragService",void 0),GM([q],t.prototype,"postConstruct",null),t}(re),iNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),VM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},gB=function(n){iNe(t,n);function t(e,r){r===void 0&&(r=!1);var i=n.call(this)||this;return i.callback=e,i.addSpacer=r,i}return t.prototype.postConstruct=function(){var e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedListener(this.eventService,M.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,M.EVENT_LEFT_PINNED_WIDTH_CHANGED,e),this.addSpacer&&(this.addManagedListener(this.eventService,M.EVENT_RIGHT_PINNED_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,M.EVENT_SCROLL_VISIBILITY_CHANGED,e),this.addManagedListener(this.eventService,M.EVENT_SCROLLBAR_WIDTH_CHANGED,e)),this.setWidth()},t.prototype.setWidth=function(){var e=this.columnModel,r=this.gridOptionsService.isDomLayout("print"),i=e.getBodyContainerWidth(),o=e.getDisplayedColumnsLeftWidth(),a=e.getDisplayedColumnsRightWidth(),s;if(r)s=i+o+a;else if(s=i,this.addSpacer){var l=this.gridOptionsService.get("enableRtl")?o:a;l===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(s+=this.gridOptionsService.getScrollbarWidth())}this.callback(s)},VM([O("columnModel")],t.prototype,"columnModel",void 0),VM([O("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),VM([q],t.prototype,"postConstruct",null),t}(re),oNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Kv=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Hx=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},$x=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},fe;(function(n){n.LEFT="left",n.RIGHT="right",n.CENTER="center",n.FULL_WIDTH="fullWidth",n.TOP_LEFT="topLeft",n.TOP_RIGHT="topRight",n.TOP_CENTER="topCenter",n.TOP_FULL_WIDTH="topFullWidth",n.STICKY_TOP_LEFT="stickyTopLeft",n.STICKY_TOP_RIGHT="stickyTopRight",n.STICKY_TOP_CENTER="stickyTopCenter",n.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",n.BOTTOM_LEFT="bottomLeft",n.BOTTOM_RIGHT="bottomRight",n.BOTTOM_CENTER="bottomCenter",n.BOTTOM_FULL_WIDTH="bottomFullWidth"})(fe||(fe={}));var Yn;(function(n){n.LEFT="left",n.RIGHT="right",n.CENTER="center",n.FULL_WIDTH="fullWidth"})(Yn||(Yn={}));function pQ(n){switch(n){case fe.CENTER:case fe.TOP_CENTER:case fe.STICKY_TOP_CENTER:case fe.BOTTOM_CENTER:return Yn.CENTER;case fe.LEFT:case fe.TOP_LEFT:case fe.STICKY_TOP_LEFT:case fe.BOTTOM_LEFT:return Yn.LEFT;case fe.RIGHT:case fe.TOP_RIGHT:case fe.STICKY_TOP_RIGHT:case fe.BOTTOM_RIGHT:return Yn.RIGHT;case fe.FULL_WIDTH:case fe.TOP_FULL_WIDTH:case fe.STICKY_TOP_FULL_WIDTH:case fe.BOTTOM_FULL_WIDTH:return Yn.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}var aNe=pp([[fe.CENTER,"ag-center-cols-container"],[fe.LEFT,"ag-pinned-left-cols-container"],[fe.RIGHT,"ag-pinned-right-cols-container"],[fe.FULL_WIDTH,"ag-full-width-container"],[fe.TOP_CENTER,"ag-floating-top-container"],[fe.TOP_LEFT,"ag-pinned-left-floating-top"],[fe.TOP_RIGHT,"ag-pinned-right-floating-top"],[fe.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[fe.STICKY_TOP_CENTER,"ag-sticky-top-container"],[fe.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[fe.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[fe.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[fe.BOTTOM_CENTER,"ag-floating-bottom-container"],[fe.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[fe.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[fe.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),sNe=pp([[fe.CENTER,"ag-center-cols-viewport"],[fe.TOP_CENTER,"ag-floating-top-viewport"],[fe.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[fe.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),mB=function(n){oNe(t,n);function t(e){var r=n.call(this)||this;return r.visible=!0,r.EMPTY_CTRLS=[],r.name=e,r.isFullWithContainer=r.name===fe.TOP_FULL_WIDTH||r.name===fe.STICKY_TOP_FULL_WIDTH||r.name===fe.BOTTOM_FULL_WIDTH||r.name===fe.FULL_WIDTH,r}return t.getRowContainerCssClasses=function(e){var r=aNe.get(e),i=sNe.get(e);return{container:r,viewport:i}},t.getPinned=function(e){switch(e){case fe.BOTTOM_LEFT:case fe.TOP_LEFT:case fe.STICKY_TOP_LEFT:case fe.LEFT:return"left";case fe.BOTTOM_RIGHT:case fe.TOP_RIGHT:case fe.STICKY_TOP_RIGHT:case fe.RIGHT:return"right";default:return null}},t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsService.get("enableRtl"),this.forContainers([fe.CENTER],function(){return e.viewportSizeFeature=e.createManagedBean(new X1e(e))})},t.prototype.registerWithCtrlsService=function(){switch(this.name){case fe.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case fe.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case fe.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case fe.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case fe.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case fe.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case fe.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case fe.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case fe.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case fe.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case fe.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case fe.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this);break}},t.prototype.forContainers=function(e,r){e.indexOf(this.name)>=0&&r()},t.prototype.getContainerElement=function(){return this.eContainer},t.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},t.prototype.setComp=function(e,r,i){var o=this;this.comp=e,this.eContainer=r,this.eViewport=i,this.createManagedBean(new Y1e(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var a=[fe.TOP_CENTER,fe.TOP_LEFT,fe.TOP_RIGHT],s=[fe.STICKY_TOP_CENTER,fe.STICKY_TOP_LEFT,fe.STICKY_TOP_RIGHT],l=[fe.BOTTOM_CENTER,fe.BOTTOM_LEFT,fe.BOTTOM_RIGHT],u=[fe.CENTER,fe.LEFT,fe.RIGHT],c=$x($x($x($x([],Hx(a),!1),Hx(l),!1),Hx(u),!1),Hx(s),!1),d=[fe.CENTER,fe.LEFT,fe.RIGHT,fe.FULL_WIDTH],p=[fe.CENTER,fe.TOP_CENTER,fe.STICKY_TOP_CENTER,fe.BOTTOM_CENTER],h=[fe.LEFT,fe.BOTTOM_LEFT,fe.TOP_LEFT,fe.STICKY_TOP_LEFT],f=[fe.RIGHT,fe.BOTTOM_RIGHT,fe.TOP_RIGHT,fe.STICKY_TOP_RIGHT];this.forContainers(h,function(){o.pinnedWidthFeature=o.createManagedBean(new Q1e(o.eContainer)),o.addManagedListener(o.eventService,M.EVENT_LEFT_PINNED_WIDTH_CHANGED,function(){return o.onPinnedWidthChanged()})}),this.forContainers(f,function(){o.pinnedWidthFeature=o.createManagedBean(new eNe(o.eContainer)),o.addManagedListener(o.eventService,M.EVENT_RIGHT_PINNED_WIDTH_CHANGED,function(){return o.onPinnedWidthChanged()})}),this.forContainers(d,function(){return o.createManagedBean(new dQ(o.eContainer,o.name===fe.CENTER?i:void 0))}),this.forContainers(c,function(){return o.createManagedBean(new nNe(o.eContainer))}),this.forContainers(p,function(){return o.createManagedBean(new gB(function(v){return o.comp.setContainerWidth("".concat(v,"px"))}))}),this.addListeners(),this.registerWithCtrlsService()},t.prototype.addListeners=function(){var e=this;this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return e.onDisplayedColumnsChanged()}),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){return e.onDisplayedColumnsWidthChanged()}),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_ROWS_CHANGED,function(r){return e.onDisplayedRowsChanged(r.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},t.prototype.listenOnDomOrder=function(){var e=this,r=[fe.STICKY_TOP_CENTER,fe.STICKY_TOP_LEFT,fe.STICKY_TOP_RIGHT,fe.STICKY_TOP_FULL_WIDTH],i=r.indexOf(this.name)>=0;if(i){this.comp.setDomOrder(!0);return}var o=function(){var a=e.gridOptionsService.get("ensureDomOrder"),s=e.gridOptionsService.isDomLayout("print");e.comp.setDomOrder(a||s)};this.addManagedPropertyListener("domLayout",o),o()},t.prototype.stopHScrollOnPinnedRows=function(){var e=this;this.forContainers([fe.TOP_CENTER,fe.STICKY_TOP_CENTER,fe.BOTTOM_CENTER],function(){var r=function(){return e.eViewport.scrollLeft=0};e.addManagedListener(e.eViewport,"scroll",r)})},t.prototype.onDisplayedColumnsChanged=function(){var e=this;this.forContainers([fe.CENTER],function(){return e.onHorizontalViewportChanged()})},t.prototype.onDisplayedColumnsWidthChanged=function(){var e=this;this.forContainers([fe.CENTER],function(){return e.onHorizontalViewportChanged()})},t.prototype.addPreventScrollWhileDragging=function(){var e=this,r=function(i){e.dragService.isDragging()&&i.cancelable&&i.preventDefault()};this.eContainer.addEventListener("touchmove",r,{passive:!1}),this.addDestroyFunc(function(){return e.eContainer.removeEventListener("touchmove",r)})},t.prototype.onHorizontalViewportChanged=function(e){e===void 0&&(e=!1);var r=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(r,i,e)},t.prototype.getCenterWidth=function(){return bv(this.eViewport)},t.prototype.getCenterViewportScrollLeft=function(){return y0(this.eViewport,this.enableRtl)},t.prototype.registerViewportResizeListener=function(e){var r=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(function(){return r()})},t.prototype.isViewportInTheDOMTree=function(){return XV(this.eViewport)},t.prototype.getViewportScrollLeft=function(){return y0(this.eViewport,this.enableRtl)},t.prototype.isHorizontalScrollShowing=function(){var e=this.gridOptionsService.get("alwaysShowHorizontalScroll");return e||mZ(this.eViewport)},t.prototype.getViewportElement=function(){return this.eViewport},t.prototype.setContainerTranslateX=function(e){this.eContainer.style.transform="translateX(".concat(e,"px)")},t.prototype.getHScrollPosition=function(){var e={left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth};return e},t.prototype.setCenterViewportScrollLeft=function(e){C0(this.eViewport,e,this.enableRtl)},t.prototype.isContainerVisible=function(){var e=t.getPinned(this.name);return!e||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0},t.prototype.onPinnedWidthChanged=function(){var e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())},t.prototype.onDisplayedRowsChanged=function(e){var r=this;if(e===void 0&&(e=!1),!this.visible){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}var i=this.gridOptionsService.isDomLayout("print"),o=this.gridOptionsService.get("embedFullWidthRows"),a=o||i,s=this.getRowCtrls().filter(function(l){var u=l.isFullWidth(),c=r.isFullWithContainer?!a&&u:a||!u;return c});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:e})},t.prototype.getRowCtrls=function(){switch(this.name){case fe.TOP_CENTER:case fe.TOP_LEFT:case fe.TOP_RIGHT:case fe.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case fe.STICKY_TOP_CENTER:case fe.STICKY_TOP_LEFT:case fe.STICKY_TOP_RIGHT:case fe.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case fe.BOTTOM_CENTER:case fe.BOTTOM_LEFT:case fe.BOTTOM_RIGHT:case fe.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getCentreRowCtrls()}},Kv([O("dragService")],t.prototype,"dragService",void 0),Kv([O("ctrlsService")],t.prototype,"ctrlsService",void 0),Kv([O("columnModel")],t.prototype,"columnModel",void 0),Kv([O("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Kv([O("rowRenderer")],t.prototype,"rowRenderer",void 0),Kv([q],t.prototype,"postConstruct",null),t}(re),lNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Cc=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},uNe=`<div class="ag-root ag-unselectable" role="treegrid">
        <ag-header-root ref="gridHeader"></ag-header-root>
        <div class="ag-floating-top" ref="eTop" role="presentation">
            <ag-row-container ref="topLeftContainer" name="`.concat(fe.TOP_LEFT,`"></ag-row-container>
            <ag-row-container ref="topCenterContainer" name="`).concat(fe.TOP_CENTER,`"></ag-row-container>
            <ag-row-container ref="topRightContainer" name="`).concat(fe.TOP_RIGHT,`"></ag-row-container>
            <ag-row-container ref="topFullWidthContainer" name="`).concat(fe.TOP_FULL_WIDTH,`"></ag-row-container>
        </div>
        <div class="ag-body" ref="eBody" role="presentation">
            <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">
                <ag-row-container ref="leftContainer" name="`).concat(fe.LEFT,`"></ag-row-container>
                <ag-row-container ref="centerContainer" name="`).concat(fe.CENTER,`"></ag-row-container>
                <ag-row-container ref="rightContainer" name="`).concat(fe.RIGHT,`"></ag-row-container>
                <ag-row-container ref="fullWidthContainer" name="`).concat(fe.FULL_WIDTH,`"></ag-row-container>
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">
            <ag-row-container ref="stickyTopLeftContainer" name="`).concat(fe.STICKY_TOP_LEFT,`"></ag-row-container>
            <ag-row-container ref="stickyTopCenterContainer" name="`).concat(fe.STICKY_TOP_CENTER,`"></ag-row-container>
            <ag-row-container ref="stickyTopRightContainer" name="`).concat(fe.STICKY_TOP_RIGHT,`"></ag-row-container>
            <ag-row-container ref="stickyTopFullWidthContainer" name="`).concat(fe.STICKY_TOP_FULL_WIDTH,`"></ag-row-container>
        </div>
        <div class="ag-floating-bottom" ref="eBottom" role="presentation">
            <ag-row-container ref="bottomLeftContainer" name="`).concat(fe.BOTTOM_LEFT,`"></ag-row-container>
            <ag-row-container ref="bottomCenterContainer" name="`).concat(fe.BOTTOM_CENTER,`"></ag-row-container>
            <ag-row-container ref="bottomRightContainer" name="`).concat(fe.BOTTOM_RIGHT,`"></ag-row-container>
            <ag-row-container ref="bottomFullWidthContainer" name="`).concat(fe.BOTTOM_FULL_WIDTH,`"></ag-row-container>
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`),hQ=function(n){lNe(t,n);function t(){return n.call(this,uNe)||this}return t.prototype.init=function(){var e=this,r=function(o,a){var s="".concat(o,"px");a.style.minHeight=s,a.style.height=s},i={setRowAnimationCssOnBodyViewport:function(o,a){return e.setRowAnimationCssOnBodyViewport(o,a)},setColumnCount:function(o){return iZ(e.getGui(),o)},setRowCount:function(o){return nZ(e.getGui(),o)},setTopHeight:function(o){return r(o,e.eTop)},setBottomHeight:function(o){return r(o,e.eBottom)},setTopDisplay:function(o){return e.eTop.style.display=o},setBottomDisplay:function(o){return e.eBottom.style.display=o},setStickyTopHeight:function(o){return e.eStickyTop.style.height=o},setStickyTopTop:function(o){return e.eStickyTop.style.top=o},setStickyTopWidth:function(o){return e.eStickyTop.style.width=o},setColumnMovingCss:function(o,a){return e.addOrRemoveCssClass(o,a)},updateLayoutClasses:function(o,a){var s=[e.eBodyViewport.classList,e.eBody.classList];s.forEach(function(l){l.toggle(Nn.AUTO_HEIGHT,a.autoHeight),l.toggle(Nn.NORMAL,a.normal),l.toggle(Nn.PRINT,a.print)}),e.addOrRemoveCssClass(Nn.AUTO_HEIGHT,a.autoHeight),e.addOrRemoveCssClass(Nn.NORMAL,a.normal),e.addOrRemoveCssClass(Nn.PRINT,a.print)},setAlwaysVerticalScrollClass:function(o,a){return e.eBodyViewport.classList.toggle(uQ,a)},registerBodyViewportResizeListener:function(o){var a=e.resizeObserverService.observeResize(e.eBodyViewport,o);e.addDestroyFunc(function(){return a()})},setPinnedTopBottomOverflowY:function(o){return e.eTop.style.overflowY=e.eBottom.style.overflowY=o},setCellSelectableCss:function(o,a){[e.eTop,e.eBodyViewport,e.eBottom].forEach(function(s){return s.classList.toggle(o,a)})},setBodyViewportWidth:function(o){return e.eBodyViewport.style.width=o}};this.ctrl=this.createManagedBean(new cQ),this.ctrl.setComp(i,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService&&this.gridOptionsService.get("enableRangeSelection")||this.gridOptionsService.get("rowSelection")==="multiple")&&rZ(this.getGui(),!0)},t.prototype.setRowAnimationCssOnBodyViewport=function(e,r){var i=this.eBodyViewport.classList;i.toggle(hv.ANIMATION_ON,r),i.toggle(hv.ANIMATION_OFF,!r)},t.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},Cc([O("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Cc([xt("rangeService")],t.prototype,"rangeService",void 0),Cc([U("eBodyViewport")],t.prototype,"eBodyViewport",void 0),Cc([U("eStickyTop")],t.prototype,"eStickyTop",void 0),Cc([U("eTop")],t.prototype,"eTop",void 0),Cc([U("eBottom")],t.prototype,"eBottom",void 0),Cc([U("gridHeader")],t.prototype,"headerRootComp",void 0),Cc([U("eBody")],t.prototype,"eBody",void 0),Cc([q],t.prototype,"init",null),t}(Ce),cNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Wx=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},fQ=function(n){cNe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},t.prototype.onDisplayedColumnsChanged=function(){this.update()},t.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},t.prototype.update=function(){var e=this;this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(function(){e.columnAnimationService.executeLaterVMTurn(function(){return e.updateImpl()})}):this.updateImpl()},t.prototype.updateImpl=function(){var e=this.ctrlsService.getCenterRowContainerCtrl();if(!(!e||this.columnAnimationService.isActive())){var r={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(r)}},t.prototype.setScrollsVisible=function(e){var r=this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing;if(r){this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing;var i={type:M.EVENT_SCROLL_VISIBILITY_CHANGED};this.eventService.dispatchEvent(i)}},t.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},t.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},Wx([O("ctrlsService")],t.prototype,"ctrlsService",void 0),Wx([O("columnAnimationService")],t.prototype,"columnAnimationService",void 0),Wx([q],t.prototype,"postConstruct",null),t=Wx([me("scrollVisibleService")],t),t}(re),dNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),vU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vQ=function(n){dNe(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.gridInstanceId=e.gridInstanceSequence.next(),r}e=t,t.prototype.stampTopLevelGridCompWithGridInstance=function(r){r[e.GRID_DOM_KEY]=this.gridInstanceId},t.prototype.getRenderedCellForEvent=function(r){return pR(this.gridOptionsService,r.target,Hc.DOM_DATA_KEY_CELL_CTRL)},t.prototype.isEventFromThisGrid=function(r){var i=this.isElementInThisGrid(r.target);return i},t.prototype.isElementInThisGrid=function(r){for(var i=r;i;){var o=i[e.GRID_DOM_KEY];if(ye(o)){var a=o===this.gridInstanceId;return a}i=i.parentElement}return!1},t.prototype.getCellPositionForEvent=function(r){var i=this.getRenderedCellForEvent(r);return i?i.getCellPosition():null},t.prototype.getNormalisedPosition=function(r){var i=this.gridOptionsService.isDomLayout("normal"),o=r,a,s;if(o.clientX!=null||o.clientY!=null?(a=o.clientX,s=o.clientY):(a=o.x,s=o.y),i){var l=this.ctrlsService.getGridBodyCtrl(),u=l.getScrollFeature().getVScrollPosition(),c=l.getScrollFeature().getHScrollPosition();a+=c.left,s+=u.top}return{x:a,y:s}};var e;return t.gridInstanceSequence=new ji,t.GRID_DOM_KEY="__ag_grid_instance",vU([O("ctrlsService")],t.prototype,"ctrlsService",void 0),t=e=vU([me("mouseEventService")],t),t}(re),pNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),xR=function(){return xR=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},xR.apply(this,arguments)},jo=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},gQ=function(n){pNe(t,n);function t(){var e=n.call(this)||this;return e.onPageDown=i1(e.onPageDown,100),e.onPageUp=i1(e.onPageUp,100),e}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(r){e.gridBodyCon=r.gridBodyCtrl})},t.prototype.handlePageScrollingKey=function(e,r){r===void 0&&(r=!1);var i=e.key,o=e.altKey,a=e.ctrlKey||e.metaKey,s=!!this.rangeService&&e.shiftKey,l=this.mouseEventService.getCellPositionForEvent(e),u=!1;switch(i){case K.PAGE_HOME:case K.PAGE_END:!a&&!o&&(this.onHomeOrEndKey(i),u=!0);break;case K.LEFT:case K.RIGHT:case K.UP:case K.DOWN:if(!l)return!1;a&&!o&&!s&&(this.onCtrlUpDownLeftRight(i,l),u=!0);break;case K.PAGE_DOWN:case K.PAGE_UP:!a&&!o&&(u=this.handlePageUpDown(i,l,r));break}return u&&e.preventDefault(),u},t.prototype.handlePageUpDown=function(e,r,i){return i&&(r=this.focusService.getFocusedCell()),r?(e===K.PAGE_UP?this.onPageUp(r):this.onPageDown(r),!0):!1},t.prototype.navigateTo=function(e){var r=e.scrollIndex,i=e.scrollType,o=e.scrollColumn,a=e.focusIndex,s=e.focusColumn;if(ye(o)&&!o.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(o),ye(r)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(r,i),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(a),this.focusService.setFocusedCell({rowIndex:a,column:s,rowPinned:null,forceBrowserFocus:!0}),this.rangeService){var l={rowIndex:a,rowPinned:null,column:s};this.rangeService.setRangeToCell(l)}},t.prototype.onPageDown=function(e){var r=this.ctrlsService.getGridBodyCtrl(),i=r.getScrollFeature().getVScrollPosition(),o=this.getViewportHeight(),a=this.paginationProxy.getPixelOffset(),s=i.top+o,l=this.paginationProxy.getRowIndexAtPixel(s+a);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,l):this.navigateToNextPage(e,l)},t.prototype.onPageUp=function(e){var r=this.ctrlsService.getGridBodyCtrl(),i=r.getScrollFeature().getVScrollPosition(),o=this.paginationProxy.getPixelOffset(),a=i.top,s=this.paginationProxy.getRowIndexAtPixel(a+o);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,s,!0):this.navigateToNextPage(e,s,!0)},t.prototype.navigateToNextPage=function(e,r,i){i===void 0&&(i=!1);var o=this.getViewportHeight(),a=this.paginationProxy.getPageFirstRow(),s=this.paginationProxy.getPageLastRow(),l=this.paginationProxy.getPixelOffset(),u=this.paginationProxy.getRow(e.rowIndex),c=i?(u==null?void 0:u.rowHeight)-o-l:o-l,d=(u==null?void 0:u.rowTop)+c,p=this.paginationProxy.getRowIndexAtPixel(d+l);if(p===e.rowIndex){var h=i?-1:1;r=p=e.rowIndex+h}var f;i?(f="bottom",p<a&&(p=a),r<a&&(r=a)):(f="top",p>s&&(p=s),r>s&&(r=s)),this.isRowTallerThanView(p)&&(r=p,f="top"),this.navigateTo({scrollIndex:r,scrollType:f,scrollColumn:null,focusIndex:p,focusColumn:e.column})},t.prototype.navigateToNextPageWithAutoHeight=function(e,r,i){var o=this;i===void 0&&(i=!1),this.navigateTo({scrollIndex:r,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:r,focusColumn:e.column}),setTimeout(function(){var a=o.getNextFocusIndexForAutoHeight(e,i);o.navigateTo({scrollIndex:r,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:a,focusColumn:e.column,isAsync:!0})},50)},t.prototype.getNextFocusIndexForAutoHeight=function(e,r){var i;r===void 0&&(r=!1);for(var o=r?-1:1,a=this.getViewportHeight(),s=this.paginationProxy.getPageLastRow(),l=0,u=e.rowIndex;u>=0&&u<=s;){var c=this.paginationProxy.getRow(u);if(c){var d=(i=c.rowHeight)!==null&&i!==void 0?i:0;if(l+d>a)break;l+=d}u+=o}return Math.max(0,Math.min(u,s))},t.prototype.getViewportHeight=function(){var e=this.ctrlsService.getGridBodyCtrl(),r=e.getScrollFeature().getVScrollPosition(),i=this.gridOptionsService.getScrollbarWidth(),o=r.bottom-r.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(o-=i),o},t.prototype.isRowTallerThanView=function(e){var r=this.paginationProxy.getRow(e);if(!r)return!1;var i=r.rowHeight;return typeof i!="number"?!1:i>this.getViewportHeight()},t.prototype.onCtrlUpDownLeftRight=function(e,r){var i=this.cellNavigationService.getNextCellToFocus(e,r,!0),o=i.rowIndex,a=i.column;this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:a,focusIndex:o,focusColumn:a})},t.prototype.onHomeOrEndKey=function(e){var r=e===K.PAGE_HOME,i=this.columnModel.getAllDisplayedColumns(),o=r?i[0]:Yt(i),a=r?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:a,scrollType:null,scrollColumn:o,focusIndex:a,focusColumn:o})},t.prototype.onTabKeyDown=function(e,r){var i=r.shiftKey,o=this.tabToNextCellCommon(e,i,r);if(o){r.preventDefault();return}if(i){var a=e.getRowPosition(),s=a.rowIndex,l=a.rowPinned,u=l?s===0:s===this.paginationProxy.getPageFirstRow();u&&(this.gridOptionsService.get("headerHeight")===0||this.gridOptionsService.get("suppressHeaderFocus")?this.focusService.focusNextGridCoreContainer(!0,!0):(r.preventDefault(),this.focusService.focusPreviousFromFirstCell(r)))}else e instanceof Hc&&e.focusCell(!0),this.focusService.focusNextGridCoreContainer(i)&&r.preventDefault()},t.prototype.tabToNextCell=function(e,r){var i=this.focusService.getFocusedCell();if(!i)return!1;var o=this.getCellByPosition(i);return!o&&(o=this.rowRenderer.getRowByPosition(i),!o||!o.isFullWidth())?!1:this.tabToNextCellCommon(o,e,r)},t.prototype.tabToNextCellCommon=function(e,r,i){var o=e.isEditing();if(!o&&e instanceof Hc){var a=e,s=a.getRowCtrl();s&&(o=s.isEditing())}var l;return o?this.gridOptionsService.get("editType")==="fullRow"?l=this.moveToNextEditingRow(e,r,i):l=this.moveToNextEditingCell(e,r,i):l=this.moveToNextCellNotEditing(e,r),l||!!this.focusService.getFocusedHeader()},t.prototype.moveToNextEditingCell=function(e,r,i){i===void 0&&(i=null);var o=e.getCellPosition();e.getGui().focus(),e.stopEditing();var a=this.findNextCellToFocusOn(o,r,!0);return a==null?!1:(a.startEditing(null,!0,i),a.focusCell(!1),!0)},t.prototype.moveToNextEditingRow=function(e,r,i){i===void 0&&(i=null);var o=e.getCellPosition(),a=this.findNextCellToFocusOn(o,r,!0);if(a==null)return!1;var s=a.getCellPosition(),l=this.isCellEditable(o),u=this.isCellEditable(s),c=s&&o.rowIndex===s.rowIndex&&o.rowPinned===s.rowPinned;if(l&&e.setFocusOutOnEditor(),!c){var d=e.getRowCtrl();d.stopEditing();var p=a.getRowCtrl();p.startRowEditing(void 0,void 0,i)}return u?(a.setFocusInOnEditor(),a.focusCell()):a.focusCell(!0),!0},t.prototype.moveToNextCellNotEditing=function(e,r){var i=this.columnModel.getAllDisplayedColumns(),o;e instanceof Fp?o=xR(xR({},e.getRowPosition()),{column:r?i[0]:Yt(i)}):o=e.getCellPosition();var a=this.findNextCellToFocusOn(o,r,!1);if(a instanceof Hc)a.focusCell(!0);else if(a)return this.tryToFocusFullWidthRow(a.getRowPosition(),r);return ye(a)},t.prototype.findNextCellToFocusOn=function(e,r,i){for(var o=e;;){e!==o&&(e=o),r||(o=this.getLastCellOfColSpan(o)),o=this.cellNavigationService.getNextTabbedCell(o,r);var a=this.gridOptionsService.getCallback("tabToNextCell");if(ye(a)){var s={backwards:r,editing:i,previousCellPosition:e,nextCellPosition:o||null},l=a(s);ye(l)?(l.floating&&(at("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),l.rowPinned=l.floating),o={rowIndex:l.rowIndex,column:l.column,rowPinned:l.rowPinned}):o=null}if(!o)return null;if(o.rowIndex<0){var u=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:u+o.rowIndex,column:o.column},fromCell:!0}),null}var c=this.gridOptionsService.get("editType")==="fullRow";if(i&&!c){var d=this.isCellEditable(o);if(!d)continue}this.ensureCellVisible(o);var p=this.getCellByPosition(o);if(!p){var h=this.rowRenderer.getRowByPosition(o);if(!h||!h.isFullWidth()||i)continue;return h}if(!p.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(o),p}},t.prototype.isCellEditable=function(e){var r=this.lookupRowNodeForCell(e);return r?e.column.isCellEditable(r):!1},t.prototype.getCellByPosition=function(e){var r=this.rowRenderer.getRowByPosition(e);return r?r.getCellCtrl(e.column):null},t.prototype.lookupRowNodeForCell=function(e){return e.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)},t.prototype.navigateToNextCell=function(e,r,i,o){for(var a=i,s=!1;a&&(a===i||!this.isValidNavigateCell(a));)this.gridOptionsService.get("enableRtl")?r===K.LEFT&&(a=this.getLastCellOfColSpan(a)):r===K.RIGHT&&(a=this.getLastCellOfColSpan(a)),a=this.cellNavigationService.getNextCellToFocus(r,a),s=pt(a);if(s&&e&&e.key===K.UP&&(a={rowIndex:-1,rowPinned:null,column:i.column}),o){var l=this.gridOptionsService.getCallback("navigateToNextCell");if(ye(l)){var u={key:r,previousCellPosition:i,nextCellPosition:a||null,event:e},c=l(u);ye(c)?(c.floating&&(at("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),c.rowPinned=c.floating),a={rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}):a=null}}if(a){if(a.rowIndex<0){var d=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:d+a.rowIndex,column:i.column},event:e||void 0,fromCell:!0});return}var p=this.getNormalisedPosition(a);p?this.focusPosition(p):this.tryToFocusFullWidthRow(a)}},t.prototype.getNormalisedPosition=function(e){this.ensureCellVisible(e);var r=this.getCellByPosition(e);return r?(e=r.getCellPosition(),this.ensureCellVisible(e),e):null},t.prototype.tryToFocusFullWidthRow=function(e,r){r===void 0&&(r=!1);var i=this.columnModel.getAllDisplayedColumns(),o=this.rowRenderer.getRowByPosition(e);if(!o||!o.isFullWidth())return!1;var a=this.focusService.getFocusedCell(),s={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(r?Yt(i):i[0])};this.focusPosition(s);var l=a!=null?this.rowPositionUtils.before(s,a):!1,u={type:M.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:s.column,isFullWidthCell:!0,floating:s.rowPinned,fromBelow:l};return this.eventService.dispatchEvent(u),!0},t.prototype.focusPosition=function(e){this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(e)},t.prototype.isValidNavigateCell=function(e){var r=this.rowPositionUtils.getRowNode(e);return!!r},t.prototype.getLastCellOfColSpan=function(e){var r=this.getCellByPosition(e);if(!r)return e;var i=r.getColSpanningList();return i.length===1?e:{rowIndex:e.rowIndex,column:Yt(i),rowPinned:e.rowPinned}},t.prototype.ensureCellVisible=function(e){var r=this.gridOptionsService.isGroupRowsSticky(),i=this.rowModel.getRow(e.rowIndex),o=r&&(i==null?void 0:i.sticky);!o&&pt(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)},jo([O("mouseEventService")],t.prototype,"mouseEventService",void 0),jo([O("paginationProxy")],t.prototype,"paginationProxy",void 0),jo([O("focusService")],t.prototype,"focusService",void 0),jo([xt("rangeService")],t.prototype,"rangeService",void 0),jo([O("columnModel")],t.prototype,"columnModel",void 0),jo([O("rowModel")],t.prototype,"rowModel",void 0),jo([O("ctrlsService")],t.prototype,"ctrlsService",void 0),jo([O("rowRenderer")],t.prototype,"rowRenderer",void 0),jo([O("headerNavigationService")],t.prototype,"headerNavigationService",void 0),jo([O("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),jo([O("cellNavigationService")],t.prototype,"cellNavigationService",void 0),jo([O("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),jo([q],t.prototype,"postConstruct",null),t=jo([me("navigationService")],t),t}(re),hNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),fNe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},mQ=function(n){hNe(t,n);function t(e){var r=n.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return r.params=e,r}return t.prototype.postConstruct=function(){this.gridOptionsService.setDomData(this.getGui(),t.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},t.prototype.addKeyDownListener=function(){var e=this,r=this.getGui(),i=this.params,o=function(a){gR(e.gridOptionsService,a,i.node,i.column,!0)||i.onKeyDown(a)};this.addManagedListener(r,"keydown",o)},t.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",fNe([q],t.prototype,"postConstruct",null),t}(gd),vNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),yQ=function(n){vNe(t,n);function t(e,r,i,o,a){var s=n.call(this)||this;s.rendererVersion=0,s.editorVersion=0,s.beans=e,s.column=r.getColumn(),s.rowNode=r.getRowNode(),s.rowCtrl=r.getRowCtrl(),s.eRow=o,s.cellCtrl=r;var l=document.createElement("div");l.setAttribute("comp-id","".concat(s.getCompId())),s.setTemplateFromElement(l);var u=s.getGui();s.forceWrapper=r.isForceWrapper(),s.refreshWrapper(!1);var c=function(h,f){f!=null&&f!=""?u.setAttribute(h,f):u.removeAttribute(h)};ri(u,r.getCellAriaRole()),c("col-id",r.getColumnIdSanitised());var d=r.getTabIndex();d!==void 0&&c("tabindex",d.toString());var p={addOrRemoveCssClass:function(h,f){return s.addOrRemoveCssClass(h,f)},setUserStyles:function(h){return JV(u,h)},getFocusableElement:function(){return s.getFocusableElement()},setIncludeSelection:function(h){return s.includeSelection=h},setIncludeRowDrag:function(h){return s.includeRowDrag=h},setIncludeDndSource:function(h){return s.includeDndSource=h},setRenderDetails:function(h,f,v){return s.setRenderDetails(h,f,v)},setEditDetails:function(h,f,v){return s.setEditDetails(h,f,v)},getCellEditor:function(){return s.cellEditor||null},getCellRenderer:function(){return s.cellRenderer||null},getParentOfValue:function(){return s.getParentOfValue()}};return r.setComp(p,s.getGui(),s.eCellWrapper,i,a),s}return t.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},t.prototype.setRenderDetails=function(e,r,i){var o=this.cellEditor&&!this.cellEditorPopupWrapper;if(!o){this.firstRender=this.firstRender==null;var a=this.refreshWrapper(!1);if(this.refreshEditStyles(!1),e){var s=i||a,l=s?!1:this.refreshCellRenderer(e);l||(this.destroyRenderer(),this.createCellRendererInstance(e))}else this.destroyRenderer(),this.insertValueWithoutCellRenderer(r)}},t.prototype.setEditDetails=function(e,r,i){e?this.createCellEditorInstance(e,r,i):this.destroyEditor()},t.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},t.prototype.refreshWrapper=function(e){var r=this.includeRowDrag||this.includeDndSource||this.includeSelection,i=r||this.forceWrapper,o=i&&this.eCellWrapper==null;if(o){var a=document.createElement("div");a.setAttribute("role","presentation"),a.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=a,this.getGui().appendChild(this.eCellWrapper)}var s=!i&&this.eCellWrapper!=null;s&&(Lu(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!i);var l=!e&&i,u=l&&this.eCellValue==null;if(u){var c=document.createElement("span");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-value"),this.eCellValue=c,this.eCellWrapper.appendChild(this.eCellValue)}var d=!l&&this.eCellValue!=null;d&&(Lu(this.eCellValue),this.eCellValue=void 0);var p=o||s||u||d;return p&&this.removeControls(),e||r&&this.addControls(),p},t.prototype.addControls=function(){this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))},t.prototype.createCellEditorInstance=function(e,r,i){var o=this,a=this.editorVersion,s=e.newAgStackInstance();if(s){var l=e.params;s.then(function(c){return o.afterCellEditorCreated(a,c,l,r,i)});var u=pt(this.cellEditor);u&&l.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},t.prototype.insertValueWithoutCellRenderer=function(e){var r=this.getParentOfValue();gi(r);var i=e!=null?Jn(e,!0):null;i!=null&&(r.textContent=i)},t.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},t.prototype.destroyRenderer=function(){var e=this.beans.context;this.cellRenderer=e.destroyBean(this.cellRenderer),Lu(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},t.prototype.destroyEditor=function(){var e=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),Lu(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},t.prototype.refreshCellRenderer=function(e){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==e.componentClass)return!1;var r=this.cellRenderer.refresh(e.params);return r===!0||r===void 0},t.prototype.createCellRendererInstance=function(e){var r=this,i=this.beans.gridOptionsService.get("suppressAnimationFrame"),o=!i,a=this.rendererVersion,s=e.componentClass,l=function(){var u=r.rendererVersion!==a||!r.isAlive();if(!u){var c=e.newAgStackInstance(),d=r.afterCellRendererCreated.bind(r,a,s);c&&c.then(d)}};o&&this.firstRender?this.beans.animationFrameService.createTask(l,this.rowNode.rowIndex,"createTasksP2"):l()},t.prototype.getCtrl=function(){return this.cellCtrl},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getCellRenderer=function(){return this.cellRenderer},t.prototype.getCellEditor=function(){return this.cellEditor},t.prototype.afterCellRendererCreated=function(e,r,i){var o=!this.isAlive()||e!==this.rendererVersion;if(o){this.beans.context.destroyBean(i);return}if(this.cellRenderer=i,this.cellRendererClass=r,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){var a=this.getParentOfValue();gi(a),a.appendChild(this.cellRendererGui)}},t.prototype.afterCellEditorCreated=function(e,r,i,o,a){var s=e!==this.editorVersion;if(s){this.beans.context.destroyBean(r);return}var l=r.isCancelBeforeStart&&r.isCancelBeforeStart();if(l){this.beans.context.destroyBean(r),this.cellCtrl.stopEditing(!0);return}if(!r.getGui){console.warn("AG Grid: cellEditor for column ".concat(this.column.getId()," is missing getGui() method")),this.beans.context.destroyBean(r);return}this.cellEditor=r,this.cellEditorGui=r.getGui();var u=o||r.isPopup!==void 0&&r.isPopup();u?this.addPopupCellEditor(i,a):this.addInCellEditor(),this.refreshEditStyles(!0,u),r.afterGuiAttached&&r.afterGuiAttached()},t.prototype.refreshEditStyles=function(e,r){var i;this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!r),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!r),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!r),(i=this.rowCtrl)===null||i===void 0||i.setInlineEditingCss(e)},t.prototype.addInCellEditor=function(){var e=this.getGui(),r=this.beans.gridOptionsService.getDocument();if(e.contains(r.activeElement)&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui){var i=this.getParentOfValue();i.appendChild(this.cellEditorGui)}},t.prototype.addPopupCellEditor=function(e,r){var i=this;this.beans.gridOptionsService.get("editType")==="fullRow"&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var o=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new mQ(e));var a=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&a.appendChild(this.cellEditorGui);var s=this.beans.popupService,l=this.beans.gridOptionsService.get("stopEditingWhenCellsLoseFocus"),u=r??(o.getPopupPosition?o.getPopupPosition():"over"),c=this.beans.gridOptionsService.get("enableRtl"),d={ePopup:a,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:u,alignSide:c?"right":"left",keepWithinBounds:!0},p=s.positionPopupByComponent.bind(s,d),h=this.beans.localeService.getLocaleTextFunc(),f=s.addPopup({modal:l,eChild:a,closeOnEsc:!0,closedCallback:function(){i.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:p,ariaLabel:h("ariaLabelCellEditor","Cell Editor")});f&&(this.hideEditorPopup=f.hideFunc)},t.prototype.detach=function(){this.eRow.removeChild(this.getGui())},t.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),n.prototype.destroy.call(this)},t.prototype.clearParentOfValue=function(){var e=this.getGui(),r=this.beans.gridOptionsService.getDocument();e.contains(r.activeElement)&&$V()&&e.focus({preventScroll:!0}),gi(this.getParentOfValue())},t}(Ce),gNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),mNe=function(n){gNe(t,n);function t(e,r,i){var o=n.call(this)||this;o.cellComps={},o.beans=r,o.rowCtrl=e;var a=document.createElement("div");a.setAttribute("comp-id","".concat(o.getCompId())),a.setAttribute("style",o.getInitialStyle(i)),o.setTemplateFromElement(a);var s=o.getGui(),l=s.style;o.domOrder=o.rowCtrl.getDomOrder(),ri(s,"row");var u=o.rowCtrl.getTabIndex();u!=null&&s.setAttribute("tabindex",u.toString());var c={setDomOrder:function(d){return o.domOrder=d},setCellCtrls:function(d){return o.setCellCtrls(d)},showFullWidth:function(d){return o.showFullWidth(d)},getFullWidthCellRenderer:function(){return o.getFullWidthCellRenderer()},addOrRemoveCssClass:function(d,p){return o.addOrRemoveCssClass(d,p)},setUserStyles:function(d){return JV(s,d)},setTop:function(d){return l.top=d},setTransform:function(d){return l.transform=d},setRowIndex:function(d){return s.setAttribute("row-index",d)},setRowId:function(d){return s.setAttribute("row-id",d)},setRowBusinessKey:function(d){return s.setAttribute("row-business-key",d)},refreshFullWidth:function(d){return o.refreshFullWidth(d)}};return e.setComp(c,o.getGui(),i),o.addDestroyFunc(function(){e.unsetComp(i)}),o}return t.prototype.getInitialStyle=function(e){var r=this.rowCtrl.getInitialTransform(e);return r?"transform: ".concat(r):"top: ".concat(this.rowCtrl.getInitialRowTop(e))},t.prototype.showFullWidth=function(e){var r=this,i=function(a){if(r.isAlive()){var s=a.getGui();r.getGui().appendChild(s),r.rowCtrl.setupDetailRowAutoHeight(s),r.setFullWidthRowComp(a)}else r.beans.context.destroyBean(a)},o=e.newAgStackInstance();o&&o.then(i)},t.prototype.setCellCtrls=function(e){var r=this,i=Object.assign({},this.cellComps);e.forEach(function(a){var s=a.getInstanceId(),l=r.cellComps[s];l==null?r.newCellComp(a):i[s]=null});var o=qp(i).filter(function(a){return a!=null});this.destroyCells(o),this.ensureDomOrder(e)},t.prototype.ensureDomOrder=function(e){var r=this;if(this.domOrder){var i=[];e.forEach(function(o){var a=r.cellComps[o.getInstanceId()];a&&i.push(a.getGui())}),QV(this.getGui(),i)}},t.prototype.newCellComp=function(e){var r=new yQ(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.getInstanceId()]=r,this.getGui().appendChild(r.getGui())},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.destroyAllCells()},t.prototype.destroyAllCells=function(){var e=qp(this.cellComps).filter(function(r){return r!=null});this.destroyCells(e)},t.prototype.setFullWidthRowComp=function(e){var r=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(function(){r.fullWidthCellRenderer=r.beans.context.destroyBean(r.fullWidthCellRenderer)})},t.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},t.prototype.destroyCells=function(e){var r=this;e.forEach(function(i){if(i){var o=i.getCtrl().getInstanceId();r.cellComps[o]===i&&(i.detach(),i.destroy(),r.cellComps[o]=null)}})},t.prototype.refreshFullWidth=function(e){var r=this.fullWidthCellRenderer;if(!r||!r.refresh)return!1;var i=e();return r.refresh(i)},t}(Ce),yNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),S1=function(){return S1=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},S1.apply(this,arguments)},xC=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};function CNe(){var n=Ce.elementGettingCreated.getAttribute("name"),t=mB.getRowContainerCssClasses(n),e,r=n===fe.CENTER||n===fe.TOP_CENTER||n===fe.STICKY_TOP_CENTER||n===fe.BOTTOM_CENTER;return r?e='<div class="'.concat(t.viewport,`" ref="eViewport" role="presentation">
                <div class="`).concat(t.container,`" ref="eContainer"></div>
            </div>`):e='<div class="'.concat(t.container,'" ref="eContainer"></div>'),e}var CQ=function(n){yNe(t,n);function t(){var e=n.call(this,CNe())||this;return e.rowComps={},e.name=Ce.elementGettingCreated.getAttribute("name"),e.type=pQ(e.name),e}return t.prototype.postConstruct=function(){var e=this,r={setViewportHeight:function(o){return e.eViewport.style.height=o},setRowCtrls:function(o){var a=o.rowCtrls;return e.setRowCtrls(a)},setDomOrder:function(o){e.domOrder=o},setContainerWidth:function(o){return e.eContainer.style.width=o}},i=this.createManagedBean(new mB(this.name));i.setComp(r,this.eContainer,this.eViewport)},t.prototype.preDestroy=function(){this.setRowCtrls([])},t.prototype.setRowCtrls=function(e){var r=this,i=S1({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;var o=function(a){var s=a.getInstanceId(),l=i[s];if(l)r.rowComps[s]=l,delete i[s],r.ensureDomOrder(l.getGui());else{if(!a.getRowNode().displayed)return;var u=new mNe(a,r.beans,r.type);r.rowComps[s]=u,r.appendRow(u.getGui())}};e.forEach(o),qp(i).forEach(function(a){r.eContainer.removeChild(a.getGui()),a.destroy()}),ri(this.eContainer,"rowgroup")},t.prototype.appendRow=function(e){this.domOrder?gZ(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e},t.prototype.ensureDomOrder=function(e){this.domOrder&&(ZV(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)},xC([O("beans")],t.prototype,"beans",void 0),xC([U("eViewport")],t.prototype,"eViewport",void 0),xC([U("eContainer")],t.prototype,"eContainer",void 0),xC([q],t.prototype,"postConstruct",null),xC([Gr],t.prototype,"preDestroy",null),t}(Ce),gU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},SQ=function(){function n(t){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=t}return n.prototype.onDragEnter=function(t){var e=this;if(this.clearColumnsList(),!this.gridOptionsService.get("functionsReadOnly")){var r=t.dragItem.columns;r&&r.forEach(function(i){i.isPrimary()&&(i.isAnyFunctionActive()||(i.isAllowValue()?e.columnsToAggregate.push(i):i.isAllowRowGroup()?e.columnsToGroup.push(i):i.isAllowPivot()&&e.columnsToPivot.push(i)))})}},n.prototype.getIconName=function(){var t=this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length;return t>0?this.pinned?Wt.ICON_PINNED:Wt.ICON_MOVE:null},n.prototype.onDragLeave=function(t){this.clearColumnsList()},n.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},n.prototype.onDragging=function(t){},n.prototype.onDragStop=function(t){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},gU([O("columnModel")],n.prototype,"columnModel",void 0),gU([O("gridOptionsService")],n.prototype,"gridOptionsService",void 0),n}(),SNe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},zf=function(){function n(){}return n.attemptMoveColumns=function(t){var e=t.isFromHeader,r=t.hDirection,i=t.xPosition,o=t.fromEnter,a=t.fakeEvent,s=t.pinned,l=t.gridOptionsService,u=t.columnModel,c=r===sa.Left,d=r===sa.Right,p=t.allMovingColumns;if(e){var h=[];p.forEach(function(A){for(var N,I=null,G=A.getParent();G!=null&&G.getDisplayedLeafColumns().length===1;)I=G,G=G.getParent();if(I!=null){var V=!!(!((N=I.getColGroupDef())===null||N===void 0)&&N.marryChildren),H=V?I.getProvidedColumnGroup().getLeafColumns():I.getLeafColumns();H.forEach(function(j){h.includes(j)||h.push(j)})}else h.includes(A)||h.push(A)}),p=h}var f=p.slice();u.sortColumnsLikeGridColumns(f);var v=this.calculateValidMoves({movingCols:f,draggingRight:d,xPosition:i,pinned:s,gridOptionsService:l,columnModel:u}),g=this.calculateOldIndex(f,u);if(v.length!==0){var m=v[0],y=g!==null&&!o;if(e&&(y=g!==null),!(y&&!a&&(c&&m>=g||d&&m<=g))){for(var C=u.getAllDisplayedColumns(),S=[],w=null,_=0;_<v.length;_++){var x=v[_],E=u.getProposedColumnOrder(f,x);if(u.doesOrderPassRules(E)){var R=E.filter(function(A){return C.includes(A)});if(w===null)w=R;else if(!kc(R,w))break;var P=this.groupFragCount(E);S.push({move:x,fragCount:P})}}if(S.length!==0)return S.sort(function(A,N){return A.fragCount-N.fragCount}),this.moveColumns(p,S[0].move,"uiColumnMoved",!1,u)}}},n.moveColumns=function(t,e,r,i,o){return o.moveColumns(t,e,r,i),i?null:{columns:t,toIndex:e}},n.calculateOldIndex=function(t,e){var r=e.getAllGridColumns(),i=LX(t.map(function(u){return r.indexOf(u)})),o=i[0],a=Yt(i),s=a-o,l=s!==i.length-1;return l?null:o},n.groupFragCount=function(t){function e(a){for(var s=[],l=a.getOriginalParent();l!=null;)s.push(l),l=l.getOriginalParent();return s}for(var r=0,i=function(a){var s,l=e(t[a]),u=e(t[a+1]);s=SNe(l.length>u.length?[l,u]:[u,l],2),l=s[0],u=s[1],l.forEach(function(c){u.indexOf(c)===-1&&r++})},o=0;o<t.length-1;o++)i(o);return r},n.calculateValidMoves=function(t){var e=t.movingCols,r=t.draggingRight,i=t.xPosition,o=t.pinned,a=t.gridOptionsService,s=t.columnModel,l=a.get("suppressMovableColumns")||e.some(function(A){return A.getColDef().suppressMovable});if(l)return[];var u=s.getDisplayedColumns(o),c=s.getAllGridColumns(),d=u.filter(function(A){return Ol(e,A)}),p=u.filter(function(A){return!Ol(e,A)}),h=c.filter(function(A){return!Ol(e,A)}),f=0,v=i;if(r){var g=0;d.forEach(function(A){return g+=A.getActualWidth()}),v-=g}if(v>0){for(var m=0;m<p.length;m++){var y=p[m];if(v-=y.getActualWidth(),v<0)break;f++}r&&f++}var C;if(f>0){var S=p[f-1];C=h.indexOf(S)+1}else C=h.indexOf(p[0]),C===-1&&(C=0);var w=[C],_=function(A,N){return A-N};if(r){for(var x=C+1,E=c.length-1;x<=E;)w.push(x),x++;w.sort(_)}else{for(var x=C,E=c.length-1,R=c[x];x<=E&&u.indexOf(R)<0;)x++,w.push(x),R=c[x];x=C-1;for(var P=0;x>=P;)w.push(x),x--;w.sort(_).reverse()}return w},n.normaliseX=function(t,e,r,i,o){var a=o.getHeaderRowContainerCtrl(e).getViewport();if(r&&(t-=a.getBoundingClientRect().left),i.get("enableRtl")){var s=a.clientWidth;t=s-t}return e==null&&(t+=o.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),t},n}(),bC=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},wQ=function(){function n(t,e){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=t,this.eContainer=e,this.centerContainer=!ye(t)}return n.prototype.init=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCon=t.ctrlsService.getGridBodyCtrl()})},n.prototype.getIconName=function(){return this.pinned?Wt.ICON_PINNED:Wt.ICON_MOVE},n.prototype.onDragEnter=function(t){var e=t.dragItem.columns,r=t.dragSource.type===on.ToolPanel;if(r)this.setColumnsVisible(e,!0,"uiColumnDragged");else{var i=t.dragItem.visibleState,o=(e||[]).filter(function(a){return i[a.getId()]});this.setColumnsVisible(o,!0,"uiColumnDragged")}this.setColumnsPinned(e,this.pinned,"uiColumnDragged"),this.onDragging(t,!0,!0)},n.prototype.onDragLeave=function(){this.ensureIntervalCleared(),this.lastMovedInfo=null},n.prototype.setColumnsVisible=function(t,e,r){if(t){var i=t.filter(function(o){return!o.getColDef().lockVisible});this.columnModel.setColumnsVisible(i,e,r)}},n.prototype.setColumnsPinned=function(t,e,r){if(t){var i=t.filter(function(o){return!o.getColDef().lockPinned});this.columnModel.setColumnsPinned(i,e,r)}},n.prototype.onDragStop=function(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null},n.prototype.checkCenterForScrolling=function(t){if(this.centerContainer){var e=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),r=e+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.get("enableRtl")?(this.needToMoveRight=t<e+50,this.needToMoveLeft=t>r-50):(this.needToMoveLeft=t<e+50,this.needToMoveRight=t>r-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},n.prototype.onDragging=function(t,e,r,i){var o=this,a;if(t===void 0&&(t=this.lastDraggingEvent),e===void 0&&(e=!1),r===void 0&&(r=!1),i===void 0&&(i=!1),i){if(this.lastMovedInfo){var s=this.lastMovedInfo,l=s.columns,u=s.toIndex;zf.moveColumns(l,u,"uiColumnMoved",!0,this.columnModel)}return}if(this.lastDraggingEvent=t,!pt(t.hDirection)){var c=zf.normaliseX(t.x,this.pinned,!1,this.gridOptionsService,this.ctrlsService);e||this.checkCenterForScrolling(c);var d=this.normaliseDirection(t.hDirection),p=t.dragSource.type,h=((a=t.dragSource.getDragItem().columns)===null||a===void 0?void 0:a.filter(function(v){return v.getColDef().lockPinned?v.getPinned()==o.pinned:!0}))||[],f=zf.attemptMoveColumns({allMovingColumns:h,isFromHeader:p===on.HeaderCell,hDirection:d,xPosition:c,pinned:this.pinned,fromEnter:e,fakeEvent:r,gridOptionsService:this.gridOptionsService,columnModel:this.columnModel});f&&(this.lastMovedInfo=f)}},n.prototype.normaliseDirection=function(t){if(this.gridOptionsService.get("enableRtl"))switch(t){case sa.Left:return sa.Right;case sa.Right:return sa.Left;default:console.error("AG Grid: Unknown direction ".concat(t))}else return t},n.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(Wt.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(Wt.ICON_RIGHT,!0))},n.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(Wt.ICON_MOVE))},n.prototype.moveInterval=function(){var t;this.intervalCount++,t=10+this.intervalCount*5,t>100&&(t=100);var e=null,r=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?e=r.scrollHorizontally(-t):this.needToMoveRight&&(e=r.scrollHorizontally(t)),e!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var i=this.lastDraggingEvent.dragItem.columns,o=i.filter(function(s){return!s.getColDef().lockPinned});if(o.length>0&&(this.dragAndDropService.setGhostIcon(Wt.ICON_PINNED),this.failedMoveAttempts>7)){var a=this.needToMoveLeft?"left":"right";this.setColumnsPinned(o,a,"uiColumnDragged"),this.dragAndDropService.nudge()}}},bC([O("columnModel")],n.prototype,"columnModel",void 0),bC([O("dragAndDropService")],n.prototype,"dragAndDropService",void 0),bC([O("gridOptionsService")],n.prototype,"gridOptionsService",void 0),bC([O("ctrlsService")],n.prototype,"ctrlsService",void 0),bC([q],n.prototype,"init",null),n}(),wNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),EC=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},_Q=function(n){wNe(t,n);function t(e,r){var i=n.call(this)||this;return i.pinned=e,i.eContainer=r,i}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(r){switch(e.pinned){case"left":e.eSecondaryContainers=[[r.gridBodyCtrl.getBodyViewportElement(),r.leftRowContainerCtrl.getContainerElement()],[r.bottomLeftRowContainerCtrl.getContainerElement()],[r.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":e.eSecondaryContainers=[[r.gridBodyCtrl.getBodyViewportElement(),r.rightRowContainerCtrl.getContainerElement()],[r.bottomRightRowContainerCtrl.getContainerElement()],[r.topRightRowContainerCtrl.getContainerElement()]];break;default:e.eSecondaryContainers=[[r.gridBodyCtrl.getBodyViewportElement(),r.centerRowContainerCtrl.getViewportElement()],[r.bottomCenterRowContainerCtrl.getViewportElement()],[r.topCenterRowContainerCtrl.getViewportElement()]];break}})},t.prototype.isInterestedIn=function(e){return e===on.HeaderCell||e===on.ToolPanel&&this.gridOptionsService.get("allowDragFromColumnsToolPanel")},t.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},t.prototype.getContainer=function(){return this.eContainer},t.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new wQ(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new SQ(this.pinned)),this.dragAndDropService.addDropTarget(this)},t.prototype.getIconName=function(){return this.currentDropListener.getIconName()},t.prototype.isDropColumnInPivotMode=function(e){return this.columnModel.isPivotMode()&&e.dragSource.type===on.ToolPanel},t.prototype.onDragEnter=function(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)},t.prototype.onDragLeave=function(e){this.currentDropListener.onDragLeave(e)},t.prototype.onDragging=function(e){this.currentDropListener.onDragging(e)},t.prototype.onDragStop=function(e){this.currentDropListener.onDragStop(e)},EC([O("dragAndDropService")],t.prototype,"dragAndDropService",void 0),EC([O("columnModel")],t.prototype,"columnModel",void 0),EC([O("ctrlsService")],t.prototype,"ctrlsService",void 0),EC([q],t.prototype,"postConstruct",null),EC([q],t.prototype,"init",null),t}(re),_Ne=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ux=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},xNe=function(n){_Ne(t,n);function t(e){var r=n.call(this,t.TEMPLATE,e)||this;return r.headerCompVersion=0,r.column=e.getColumnGroupChild(),r.pinned=e.getPinned(),r}return t.prototype.postConstruct=function(){var e=this,r=this.getGui(),i=function(s,l){l!=null&&l!=""?r.setAttribute(s,l):r.removeAttribute(s)};i("col-id",this.column.getColId());var o={setWidth:function(s){return r.style.width=s},addOrRemoveCssClass:function(s,l){return e.addOrRemoveCssClass(s,l)},setAriaSort:function(s){return s?aZ(r,s):sZ(r)},setUserCompDetails:function(s){return e.setUserCompDetails(s)},getUserCompInstance:function(){return e.headerComp}};this.ctrl.setComp(o,this.getGui(),this.eResize,this.eHeaderCompWrapper);var a=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",a)},t.prototype.destroyHeaderComp=function(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},t.prototype.setUserCompDetails=function(e){var r=this;this.headerCompVersion++;var i=this.headerCompVersion;e.newAgStackInstance().then(function(o){return r.afterCompCreated(i,o)})},t.prototype.afterCompCreated=function(e,r){if(e!=this.headerCompVersion||!this.isAlive()){this.destroyBean(r);return}this.destroyHeaderComp(),this.headerComp=r,this.headerCompGui=r.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())},t.TEMPLATE=`<div class="ag-header-cell" role="columnheader">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`,Ux([U("eResize")],t.prototype,"eResize",void 0),Ux([U("eHeaderCompWrapper")],t.prototype,"eHeaderCompWrapper",void 0),Ux([q],t.prototype,"postConstruct",null),Ux([Gr],t.prototype,"destroyHeaderComp",null),t}(hB),bNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),mU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ENe=function(n){bNe(t,n);function t(e){return n.call(this,t.TEMPLATE,e)||this}return t.prototype.postConstruct=function(){var e=this,r=this.getGui(),i=function(a,s){return s!=null?r.setAttribute(a,s):r.removeAttribute(a)};r.setAttribute("col-id",this.ctrl.getColId());var o={addOrRemoveCssClass:function(a,s){return e.addOrRemoveCssClass(a,s)},setResizableDisplayed:function(a){return $t(e.eResize,a)},setWidth:function(a){return r.style.width=a},setAriaExpanded:function(a){return i("aria-expanded",a)},setUserCompDetails:function(a){return e.setUserCompDetails(a)},getUserCompInstance:function(){return e.headerGroupComp}};this.ctrl.setComp(o,r,this.eResize)},t.prototype.setUserCompDetails=function(e){var r=this;e.newAgStackInstance().then(function(i){return r.afterHeaderCompCreated(i)})},t.prototype.afterHeaderCompCreated=function(e){var r=this,i=function(){return r.destroyBean(e)};if(!this.isAlive()){i();return}var o=this.getGui(),a=e.getGui();o.appendChild(a),this.addDestroyFunc(i),this.headerGroupComp=e,this.ctrl.setDragSource(o)},t.TEMPLATE=`<div class="ag-header-group-cell" role="columnheader">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`,mU([U("eResize")],t.prototype,"eResize",void 0),mU([q],t.prototype,"postConstruct",null),t}(hB),ONe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),yU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ei;(function(n){n.COLUMN_GROUP="group",n.COLUMN="column",n.FLOATING_FILTER="filter"})(Ei||(Ei={}));var xQ=function(n){ONe(t,n);function t(e){var r=n.call(this)||this;return r.headerComps={},r.ctrl=e,r.setTemplate('<div class="'.concat(r.ctrl.getHeaderRowClass(),'" role="row"></div>')),r}return t.prototype.init=function(){var e=this;NV(this.getGui(),this.ctrl.getAriaRowIndex());var r={setHeight:function(i){return e.getGui().style.height=i},setTop:function(i){return e.getGui().style.top=i},setHeaderCtrls:function(i,o){return e.setHeaderCtrls(i,o)},setWidth:function(i){return e.getGui().style.width=i}};this.ctrl.setComp(r)},t.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([],!1)},t.prototype.setHeaderCtrls=function(e,r){var i=this;if(this.isAlive()){var o=this.headerComps;if(this.headerComps={},e.forEach(function(l){var u=l.getInstanceId(),c=o[u];delete o[u],c==null&&(c=i.createHeaderComp(l),i.getGui().appendChild(c.getGui())),i.headerComps[u]=c}),no(o,function(l,u){i.getGui().removeChild(u.getGui()),i.destroyBean(u)}),r){var a=qp(this.headerComps);a.sort(function(l,u){var c=l.getCtrl().getColumnGroupChild().getLeft(),d=u.getCtrl().getColumnGroupChild().getLeft();return c-d});var s=a.map(function(l){return l.getGui()});QV(this.getGui(),s)}}},t.prototype.createHeaderComp=function(e){var r;switch(this.ctrl.getType()){case Ei.COLUMN_GROUP:r=new ENe(e);break;case Ei.FLOATING_FILTER:r=new lQ(e);break;default:r=new xNe(e);break}return this.createBean(r),r.setParentComponent(this),r},yU([q],t.prototype,"init",null),yU([Gr],t.prototype,"destroyHeaderCtrls",null),t}(Ce),RNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Fh=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},TNe=0,E_=function(n){RNe(t,n);function t(e,r,i){var o=n.call(this)||this;return o.resizeToggleTimeout=0,o.resizeMultiplier=1,o.resizeFeature=null,o.lastFocusEvent=null,o.dragSource=null,o.columnGroupChild=e,o.parentRowCtrl=i,o.beans=r,o.instanceId=e.getUniqueId()+"-"+TNe++,o}return t.prototype.postConstruct=function(){var e=this;this.addManagedPropertyListeners(["suppressHeaderFocus"],function(){return e.refreshTabIndex()})},t.prototype.shouldStopEventPropagation=function(e){var r=this.focusService.getFocusedHeader(),i=r.headerRowIndex,o=r.column;return xZ(this.gridOptionsService,e,i,o)},t.prototype.getWrapperHasFocus=function(){var e=this.gridOptionsService.getDocument(),r=e.activeElement;return r===this.eGui},t.prototype.setGui=function(e){this.eGui=e,this.addDomData(),this.addManagedListener(this.beans.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onDisplayedColumnsChanged(),this.refreshTabIndex()},t.prototype.onDisplayedColumnsChanged=function(){!this.comp||!this.column||(this.refreshFirstAndLastStyles(),this.refreshAriaColIndex())},t.prototype.refreshFirstAndLastStyles=function(){var e=this,r=e.comp,i=e.column,o=e.beans;fh.refreshFirstAndLastStyles(r,i,o.columnModel)},t.prototype.refreshAriaColIndex=function(){var e=this,r=e.beans,i=e.column,o=r.columnModel.getAriaColumnIndex(i);kV(this.eGui,o)},t.prototype.addResizeAndMoveKeyboardListeners=function(){this.resizeFeature&&(this.addManagedListener(this.eGui,"keydown",this.onGuiKeyDown.bind(this)),this.addManagedListener(this.eGui,"keyup",this.onGuiKeyUp.bind(this)))},t.prototype.refreshTabIndex=function(){var e=this.gridOptionsService.get("suppressHeaderFocus");e?this.eGui.removeAttribute("tabindex"):this.eGui.setAttribute("tabindex","-1")},t.prototype.onGuiKeyDown=function(e){var r,i=this.gridOptionsService.getDocument(),o=i.activeElement,a=e.key===K.LEFT||e.key===K.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),!(o!==this.eGui||!e.shiftKey&&!e.altKey)&&((this.isResizing||a)&&(e.preventDefault(),e.stopImmediatePropagation()),!!a)){var s=e.key===K.LEFT!==this.gridOptionsService.get("enableRtl"),l=sa[s?"Left":"Right"];if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;var u=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(u,e.shiftKey),(r=this.resizeFeature)===null||r===void 0||r.toggleColumnResizing(!0)}else this.moveHeader(l)}},t.prototype.getViewportAdjustedResizeDiff=function(e){var r=this.getResizeDiff(e),i=this.column.getPinned();if(i){var o=this.pinnedWidthService.getPinnedLeftWidth(),a=this.pinnedWidthService.getPinnedRightWidth(),s=bv(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(o+a+r>s)if(s>o+a)r=s-o-a;else return 0}return r},t.prototype.getResizeDiff=function(e){var r=e.key===K.LEFT!==this.gridOptionsService.get("enableRtl"),i=this.column.getPinned(),o=this.gridOptionsService.get("enableRtl");return i&&o!==(i==="right")&&(r=!r),(r?-1:1)*this.resizeMultiplier},t.prototype.onGuiKeyUp=function(){var e=this;this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=setTimeout(function(){var r;(r=e.resizeFeature)===null||r===void 0||r.toggleColumnResizing(!1)},150))},t.prototype.handleKeyDown=function(e){var r=this.getWrapperHasFocus();switch(e.key){case K.PAGE_DOWN:case K.PAGE_UP:case K.PAGE_HOME:case K.PAGE_END:r&&e.preventDefault()}},t.prototype.addDomData=function(){var e=this,r=t.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,r,this),this.addDestroyFunc(function(){return e.gridOptionsService.setDomData(e.eGui,r,null)})},t.prototype.getGui=function(){return this.eGui},t.prototype.focus=function(e){return this.eGui?(this.lastFocusEvent=e||null,this.eGui.focus(),!0):!1},t.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},t.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},t.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.getColumnGroupChild=function(){return this.columnGroupChild},t.prototype.removeDragSource=function(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)},t.prototype.handleContextMenuMouseEvent=function(e,r,i){var o=e??r;this.gridOptionsService.get("preventDefaultOnContextMenu")&&o.preventDefault();var a=i instanceof Rt?i:void 0;this.menuService.isHeaderContextMenuEnabled(a)&&this.menuService.showHeaderContextMenu(a,e,r),this.dispatchColumnMouseEvent(M.EVENT_COLUMN_HEADER_CONTEXT_MENU,i)},t.prototype.dispatchColumnMouseEvent=function(e,r){var i={type:e,column:r};this.eventService.dispatchEvent(i)},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.removeDragSource(),this.comp=null,this.column=null,this.resizeFeature=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null,this.eGui=null},t.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",Fh([O("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),Fh([O("focusService")],t.prototype,"focusService",void 0),Fh([O("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Fh([O("ctrlsService")],t.prototype,"ctrlsService",void 0),Fh([O("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Fh([O("menuService")],t.prototype,"menuService",void 0),Fh([q],t.prototype,"postConstruct",null),t}(re),PNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),DNe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},pD=function(n){PNe(t,n);function t(e,r,i,o){var a=n.call(this)||this;return a.columnOrGroup=e,a.eCell=r,a.ariaEl=a.eCell.querySelector("[role=columnheader]")||a.eCell,a.colsSpanning=o,a.beans=i,a}return t.prototype.setColsSpanning=function(e){this.colsSpanning=e,this.onLeftChanged()},t.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?Yt(this.colsSpanning):this.columnOrGroup},t.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,Rt.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))},t.prototype.setLeftFirstTime=function(){var e=this.beans.gridOptionsService.get("suppressColumnMoveAnimation"),r=ye(this.columnOrGroup.getOldLeft()),i=this.beans.columnAnimationService.isActive()&&r&&!e;i?this.animateInLeft():this.onLeftChanged()},t.prototype.animateInLeft=function(){var e=this,r=this.getColumnOrGroup(),i=r.getLeft(),o=r.getOldLeft(),a=this.modifyLeftForPrintLayout(r,o),s=this.modifyLeftForPrintLayout(r,i);this.setLeft(a),this.actualLeft=s,this.beans.columnAnimationService.executeNextVMTurn(function(){e.actualLeft===s&&e.setLeft(s)})},t.prototype.onLeftChanged=function(){var e=this.getColumnOrGroup(),r=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,r),this.setLeft(this.actualLeft)},t.prototype.modifyLeftForPrintLayout=function(e,r){var i=this.beans.gridOptionsService.isDomLayout("print");if(!i||e.getPinned()==="left")return r;var o=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(e.getPinned()==="right"){var a=this.beans.columnModel.getBodyContainerWidth();return o+a+r}return o+r},t.prototype.setLeft=function(e){if(ye(e)&&(this.eCell.style.left="".concat(e,"px")),this.columnOrGroup instanceof Rt)this.columnOrGroup;else{var r=this.columnOrGroup,i=r.getLeafColumns();if(!i.length)return;i.length>1&&oZ(this.ariaEl,i.length),i[0]}},DNe([q],t.prototype,"postConstruct",null),t}(re),ANe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),CU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},yB=function(n){ANe(t,n);function t(e,r){var i=n.call(this)||this;return i.columns=e,i.element=r,i}return t.prototype.postConstruct=function(){this.gridOptionsService.get("columnHoverHighlight")&&this.addMouseHoverListeners()},t.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},t.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},t.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},CU([O("columnHoverService")],t.prototype,"columnHoverService",void 0),CU([q],t.prototype,"postConstruct",null),t}(re),MNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),bQ=function(n){MNe(t,n);function t(e,r,i){var o=n.call(this,e,r,i)||this;return o.iconCreated=!1,o.column=e,o}return t.prototype.setComp=function(e,r,i,o){this.comp=e,this.eButtonShowMainFilter=i,this.eFloatingFilterBody=o,this.setGui(r),this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,Rt.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))},t.prototype.resizeHeader=function(){},t.prototype.moveHeader=function(){},t.prototype.setupActive=function(){var e=this.column.getColDef(),r=!!e.filter,i=!!e.floatingFilter;this.active=r&&i},t.prototype.setupUi=function(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!(!this.active||this.iconCreated)){var e=jn("filter",this.gridOptionsService,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}},t.prototype.setupFocus=function(){this.createManagedBean(new ic(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},t.prototype.setupAria=function(){var e=this.localeService.getLocaleTextFunc();ph(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))},t.prototype.onTabKeyDown=function(e){var r=this.gridOptionsService.getDocument(),i=r.activeElement,o=i===this.eGui;if(!o){var a=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(a){this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),a.focus();return}var s=this.findNextColumnWithFloatingFilter(e.shiftKey);s&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:s},event:e})&&e.preventDefault()}},t.prototype.findNextColumnWithFloatingFilter=function(e){var r=this.beans.columnModel,i=this.column;do if(i=e?r.getDisplayedColBefore(i):r.getDisplayedColAfter(i),!i)break;while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i},t.prototype.handleKeyDown=function(e){n.prototype.handleKeyDown.call(this,e);var r=this.getWrapperHasFocus();switch(e.key){case K.UP:case K.DOWN:r||e.preventDefault();case K.LEFT:case K.RIGHT:if(r)return;e.stopPropagation();case K.ENTER:r&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case K.ESCAPE:r||this.eGui.focus()}},t.prototype.onFocusIn=function(e){var r=this.eGui.contains(e.relatedTarget);if(!r){var i=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),o=!!e.relatedTarget&&Wf(e.relatedTarget,"ag-floating-filter");if(i&&o&&e.target===this.eGui){var a=this.lastFocusEvent,s=!!(a&&a.key===K.TAB);if(a&&s){var l=a.shiftKey;this.focusService.focusInto(this.eGui,l)}}var u=this.getRowIndex();this.beans.focusService.setFocusedHeader(u,this.column)}},t.prototype.setupHover=function(){var e=this;this.createManagedBean(new yB([this.column],this.eGui));var r=function(){if(e.gridOptionsService.get("columnHoverHighlight")){var i=e.beans.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",i)}};this.addManagedListener(this.eventService,M.EVENT_COLUMN_HOVER_CHANGED,r),r()},t.prototype.setupLeft=function(){var e=new pD(this.column,this.eGui,this.beans);this.createManagedBean(e)},t.prototype.setupFilterButton=function(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()},t.prototype.setupUserComp=function(){var e=this;if(this.active){var r=this.beans.filterManager.getFloatingFilterCompDetails(this.column,function(){return e.showParentFilter()});r&&this.setCompDetails(r)}},t.prototype.setCompDetails=function(e){this.userCompDetails=e,this.comp.setCompDetails(e)},t.prototype.showParentFilter=function(){var e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})},t.prototype.setupSyncWithFilter=function(){var e=this;if(this.active){var r=this.beans.filterManager,i=function(o){var a=e.comp.getFloatingFilterComp();a&&a.then(function(s){if(s){var l=r.getCurrentFloatingFilterParentModel(e.column);s.onParentModelChanged(l,o)}})};this.destroySyncListener=this.addManagedListener(this.column,Rt.EVENT_FILTER_CHANGED,i),r.isFilterActive(this.column)&&i(null)}},t.prototype.setupWidth=function(){var e=this,r=function(){var i="".concat(e.column.getActualWidth(),"px");e.comp.setWidth(i)};this.addManagedListener(this.column,Rt.EVENT_WIDTH_CHANGED,r),r()},t.prototype.setupFilterChangedListener=function(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,Rt.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)),this.updateFilterButton())},t.prototype.updateFilterButton=function(){if(!this.suppressFilterButton&&this.comp){var e=this.beans.filterManager.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}},t.prototype.onColDefChanged=function(){var e=this,r,i,o=this.active;this.setupActive();var a=!o&&this.active;o&&!this.active&&((r=this.destroySyncListener)===null||r===void 0||r.call(this),(i=this.destroyFilterChangedListener)===null||i===void 0||i.call(this));var s=this.active?this.beans.filterManager.getFloatingFilterCompDetails(this.column,function(){return e.showParentFilter()}):null,l=this.comp.getFloatingFilterComp();!l||!s?this.updateCompDetails(s,a):l.then(function(u){var c;!u||e.beans.filterManager.areFilterCompsDifferent((c=e.userCompDetails)!==null&&c!==void 0?c:null,s)?e.updateCompDetails(s,a):e.updateFloatingFilterParams(s)})},t.prototype.updateCompDetails=function(e,r){this.isAlive()&&(this.setCompDetails(e),this.setupFilterButton(),this.setupUi(),r&&(this.setupSyncWithFilter(),this.setupFilterChangedListener()))},t.prototype.updateFloatingFilterParams=function(e){var r;if(e){var i=e.params;(r=this.comp.getFloatingFilterComp())===null||r===void 0||r.then(function(o){var a=!1;if(o!=null&&o.refresh&&typeof o.refresh=="function"){var s=o.refresh(i);s!==null&&(a=!0)}if(!a&&(o!=null&&o.onParamsUpdated)&&typeof o.onParamsUpdated=="function"){var s=o.onParamsUpdated(i);s!==null&&at("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}})}},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.destroySyncListener=null,this.destroyFilterChangedListener=null},t}(E_),LNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),OC=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},FNe=function(n){LNe(t,n);function t(e,r,i,o,a){var s=n.call(this)||this;return s.pinned=e,s.column=r,s.eResize=i,s.comp=o,s.ctrl=a,s}return t.prototype.postConstruct=function(){var e=this,r=[],i,o,a=function(){if($t(e.eResize,i),!!i){var u=e.horizontalResizeService.addResizeBar({eResizeBar:e.eResize,onResizeStart:e.onResizeStart.bind(e),onResizing:e.onResizing.bind(e,!1),onResizeEnd:e.onResizing.bind(e,!0)});if(r.push(u),o){var c=e.gridOptionsService.get("skipHeaderOnAutoSize"),d=function(){e.columnModel.autoSizeColumn(e.column,"uiColumnResized",c)};e.eResize.addEventListener("dblclick",d);var p=new kn(e.eResize);p.addEventListener(kn.EVENT_DOUBLE_TAP,d),r.push(function(){e.eResize.removeEventListener("dblclick",d),p.removeEventListener(kn.EVENT_DOUBLE_TAP,d),p.destroy()})}}},s=function(){r.forEach(function(u){return u()}),r.length=0},l=function(){var u=e.column.isResizable(),c=!e.gridOptionsService.get("suppressAutoSize")&&!e.column.getColDef().suppressAutoSize,d=u!==i||c!==o;d&&(i=u,o=c,s(),a())};l(),this.addDestroyFunc(s),this.ctrl.addRefreshFunction(l)},t.prototype.onResizing=function(e,r){var i=this,o=i.column,a=i.lastResizeAmount,s=i.resizeStartWidth,l=this.normaliseResizeAmount(r),u=s+l,c=[{key:o,newWidth:u}];if(this.column.getPinned()){var d=this.pinnedWidthService.getPinnedLeftWidth(),p=this.pinnedWidthService.getPinnedRightWidth(),h=bv(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(d+p+(l-a)>h)return}this.lastResizeAmount=l,this.columnModel.setColumnWidths(c,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)},t.prototype.onResizeStart=function(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)},t.prototype.toggleColumnResizing=function(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)},t.prototype.normaliseResizeAmount=function(e){var r=e,i=this.pinned!=="left",o=this.pinned==="right";return this.gridOptionsService.get("enableRtl")?i&&(r*=-1):o&&(r*=-1),r},OC([O("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),OC([O("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),OC([O("ctrlsService")],t.prototype,"ctrlsService",void 0),OC([O("columnModel")],t.prototype,"columnModel",void 0),OC([q],t.prototype,"postConstruct",null),t}(re),INe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),SU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},NNe=function(n){INe(t,n);function t(e){var r=n.call(this)||this;return r.cbSelectAllVisible=!1,r.processingEventFromCheckbox=!1,r.column=e,r}return t.prototype.onSpaceKeyDown=function(e){var r=this.cbSelectAll,i=this.gridOptionsService.getDocument();r.isDisplayed()&&!r.getGui().contains(i.activeElement)&&(e.preventDefault(),r.setValue(!r.getValue()))},t.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},t.prototype.setComp=function(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new jc),this.cbSelectAll.addCssClass("ag-header-select-all"),ri(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,M.EVENT_FIELD_VALUE_CHANGED,this.onCbSelectAll.bind(this)),rD(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},t.prototype.onNewColumnsLoaded=function(){this.showOrHideSelectAll()},t.prototype.onDisplayedColumnsChanged=function(){this.isAlive()&&this.showOrHideSelectAll()},t.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},t.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);var r=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!r),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},t.prototype.refreshSelectAllLabel=function(){var e=this.localeService.getLocaleTextFunc(),r=this.cbSelectAll.getValue(),i=r?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),o=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll","".concat(o," (").concat(i,")")):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel("".concat(o," (").concat(i,")")),this.headerCellCtrl.announceAriaDescription()},t.prototype.checkSelectionType=function(e){var r=this.gridOptionsService.get("rowSelection")==="multiple";return r?!0:(console.warn("AG Grid: ".concat(e," is only available if using 'multiple' rowSelection.")),!1)},t.prototype.checkRightRowModelType=function(e){var r=this.rowModel.getType(),i=r==="clientSide"||r==="serverSide";return i?!0:(console.warn("AG Grid: ".concat(e," is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ").concat(r,".")),!1)},t.prototype.onCbSelectAll=function(){if(!this.processingEventFromCheckbox&&this.cbSelectAllVisible){var e=this.cbSelectAll.getValue(),r=this.isFilteredOnly(),i=this.isCurrentPageOnly(),o="uiSelectAll";i?o="uiSelectAllCurrentPage":r&&(o="uiSelectAllFiltered");var a={source:o,justFiltered:r,justCurrentPage:i};e?this.selectionService.selectAllRowNodes(a):this.selectionService.deselectAllRowNodes(a)}},t.prototype.isCheckboxSelection=function(){var e=this.column.getColDef().headerCheckboxSelection;if(typeof e=="function"){var r=e,i=this.gridOptionsService.addGridCommonParams({column:this.column,colDef:this.column.getColDef()});e=r(i)}return e?this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection"):!1},t.prototype.isFilteredOnly=function(){return!!this.column.getColDef().headerCheckboxSelectionFilteredOnly},t.prototype.isCurrentPageOnly=function(){return!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly},SU([O("rowModel")],t.prototype,"rowModel",void 0),SU([O("selectionService")],t.prototype,"selectionService",void 0),t}(re),kNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),EQ=function(n){kNe(t,n);function t(e,r,i){var o=n.call(this,e,r,i)||this;return o.refreshFunctions=[],o.userHeaderClasses=new Set,o.ariaDescriptionProperties=new Map,o.column=e,o}return t.prototype.setComp=function(e,r,i,o){var a=this;this.comp=e,this.setGui(r),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(o),this.addColumnHoverListener(),this.setupFilterClass(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.resizeFeature=this.createManagedBean(new FNe(this.getPinned(),this.column,i,e,this)),this.createManagedBean(new yB([this.column],r)),this.createManagedBean(new pD(this.column,r,this.beans)),this.createManagedBean(new ic(r,{shouldStopEventPropagation:function(s){return a.shouldStopEventPropagation(s)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(),this.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],this.refresh.bind(this)),this.addManagedListener(this.column,Rt.EVENT_COL_DEF_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},t.prototype.resizeHeader=function(e,r){var i,o;if(this.column.isResizable()){var a=this.column.getActualWidth(),s=(i=this.column.getMinWidth())!==null&&i!==void 0?i:0,l=(o=this.column.getMaxWidth())!==null&&o!==void 0?o:Number.MAX_SAFE_INTEGER,u=Math.min(Math.max(a+e,s),l);this.beans.columnModel.setColumnWidths([{key:this.column,newWidth:u}],r,!0,"uiColumnResized")}},t.prototype.moveHeader=function(e){var r=this,i=r.eGui,o=r.column,a=r.gridOptionsService,s=r.ctrlsService,l=this.getPinned(),u=i.getBoundingClientRect().left,c=o.getActualWidth(),d=a.get("enableRtl"),p=e===sa.Left!==d,h=zf.normaliseX(p?u-20:u+c+20,l,!0,a,s);zf.attemptMoveColumns({allMovingColumns:[o],isFromHeader:!0,hDirection:e,xPosition:h,pinned:l,fromEnter:!1,fakeEvent:!1,gridOptionsService:a,columnModel:this.beans.columnModel}),s.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(o,"auto")},t.prototype.setupUserComp=function(){var e=this.lookupUserCompDetails();this.setCompDetails(e)},t.prototype.setCompDetails=function(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)},t.prototype.lookupUserCompDetails=function(){var e=this.createParams(),r=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(r,e)},t.prototype.createParams=function(){var e=this,r=this.gridOptionsService.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:function(i){e.menuService.showColumnMenu({column:e.column,buttonElement:i,positionBy:"button"})},showColumnMenuAfterMouseClick:function(i){e.menuService.showColumnMenu({column:e.column,mouseEvent:i,positionBy:"mouse"})},showFilter:function(i){e.menuService.showFilterMenu({column:e.column,buttonElement:i,containerType:"columnFilter",positionBy:"button"})},progressSort:function(i){e.beans.sortController.progressSort(e.column,!!i,"uiColumnSorted")},setSort:function(i,o){e.beans.sortController.setSortForColumn(e.column,i,!!o,"uiColumnSorted")},eGridHeader:this.getGui()});return r},t.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new NNe(this.column)),this.selectAllFeature.setComp(this)},t.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},t.prototype.handleKeyDown=function(e){n.prototype.handleKeyDown.call(this,e),e.key===K.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===K.ENTER&&this.onEnterKeyDown(e),e.key===K.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)},t.prototype.onEnterKeyDown=function(e){if(e.ctrlKey||e.metaKey)this.showMenuOnKeyPress(e,!0);else if(this.sortable){var r=e.shiftKey;this.beans.sortController.progressSort(this.column,r,"uiColumnSorted")}},t.prototype.showMenuOnKeyPress=function(e,r){var i=this.comp.getUserCompInstance();!i||!(i instanceof v1)||i.onMenuKeyboardShortcut(r)&&e.preventDefault()},t.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var r=this.getRowIndex();this.focusService.setFocusedHeader(r,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)},t.prototype.onFocusOut=function(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)},t.prototype.setupTooltip=function(){var e=this,r={getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getGui:function(){return e.eGui},getLocation:function(){return"header"},getTooltipValue:function(){var o=e.column.getColDef().headerTooltip;return o}},i=this.createManagedBean(new Ds(r,this.beans));i.setComp(this.eGui),this.refreshFunctions.push(function(){return i.refreshToolTip()})},t.prototype.setupClassesFromColDef=function(){var e=this,r=function(){var i=e.column.getColDef(),o=fh.getHeaderClassesFromColDef(i,e.gridOptionsService,e.column,null),a=e.userHeaderClasses;e.userHeaderClasses=new Set(o),o.forEach(function(s){a.has(s)?a.delete(s):e.comp.addOrRemoveCssClass(s,!0)}),a.forEach(function(s){return e.comp.addOrRemoveCssClass(s,!1)})};this.refreshFunctions.push(r),r()},t.prototype.setDragSource=function(e){var r=this;if(this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)){var i=this,o=i.column,a=i.beans,s=i.displayName,l=i.dragAndDropService,u=i.gridOptionsService,c=a.columnModel,d=!this.gridOptionsService.get("suppressDragLeaveHidesColumns"),p=this.dragSource={type:on.HeaderCell,eElement:e,getDefaultIconName:function(){return d?Wt.ICON_HIDE:Wt.ICON_NOT_ALLOWED},getDragItem:function(){return r.createDragItem(o)},dragItemName:s,onDragStarted:function(){d=!u.get("suppressDragLeaveHidesColumns"),o.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return o.setMoving(!1,"uiColumnMoved")},onGridEnter:function(h){var f;if(d){var v=((f=h==null?void 0:h.columns)===null||f===void 0?void 0:f.filter(function(g){return!g.getColDef().lockVisible}))||[];c.setColumnsVisible(v,!0,"uiColumnMoved")}},onGridExit:function(h){var f;if(d){var v=((f=h==null?void 0:h.columns)===null||f===void 0?void 0:f.filter(function(g){return!g.getColDef().lockVisible}))||[];c.setColumnsVisible(v,!1,"uiColumnMoved")}}};l.addDragSource(p,!0)}},t.prototype.createDragItem=function(e){var r={};return r[e.getId()]=e.isVisible(),{columns:[e],visibleState:r}},t.prototype.updateState=function(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},t.prototype.addRefreshFunction=function(e){this.refreshFunctions.push(e)},t.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(function(e){return e()})},t.prototype.refreshHeaderComp=function(){var e=this.lookupUserCompDetails(),r=this.comp.getUserCompInstance(),i=r!=null&&this.userCompDetails.componentClass==e.componentClass,o=i?this.attemptHeaderCompRefresh(e.params):!1;o?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)},t.prototype.attemptHeaderCompRefresh=function(e){var r=this.comp.getUserCompInstance();if(!r||!r.refresh)return!1;var i=r.refresh(e);return i},t.prototype.calculateDisplayName=function(){return this.beans.columnModel.getDisplayNameForColumn(this.column,"header",!0)},t.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},t.prototype.workOutDraggable=function(){var e=this.column.getColDef(),r=this.gridOptionsService.get("suppressMovableColumns"),i=!r&&!e.suppressMovable&&!e.lockPosition;return!!i||!!e.enableRowGroup||!!e.enablePivot},t.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},t.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},t.prototype.onColumnValueChanged=function(){this.checkDisplayName()},t.prototype.setupWidth=function(){var e=this,r=function(){var i=e.column.getActualWidth();e.comp.setWidth("".concat(i,"px"))};this.addManagedListener(this.column,Rt.EVENT_WIDTH_CHANGED,r),r()},t.prototype.setupMovingCss=function(){var e=this,r=function(){e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.column.isMoving())};this.addManagedListener(this.column,Rt.EVENT_MOVING_CHANGED,r),r()},t.prototype.setupMenuClass=function(){var e=this,r=function(){e.comp.addOrRemoveCssClass("ag-column-menu-visible",e.column.isMenuVisible())};this.addManagedListener(this.column,Rt.EVENT_MENU_VISIBLE_CHANGED,r),r()},t.prototype.setupSortableClass=function(){var e=this,r=function(){e.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!e.sortable)};r(),this.addRefreshFunction(r),this.addManagedListener(this.eventService,Rt.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},t.prototype.setupFilterClass=function(){var e=this,r=function(){var i=e.column.isFilterActive();e.comp.addOrRemoveCssClass("ag-header-cell-filtered",i),e.refreshAria()};this.addManagedListener(this.column,Rt.EVENT_FILTER_ACTIVE_CHANGED,r),r()},t.prototype.setupWrapTextClass=function(){var e=this,r=function(){var i=!!e.column.getColDef().wrapHeaderText;e.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",i)};r(),this.addRefreshFunction(r)},t.prototype.onDisplayedColumnsChanged=function(){n.prototype.onDisplayedColumnsChanged.call(this),this.isAlive()&&this.onHeaderHeightChanged()},t.prototype.onHeaderHeightChanged=function(){this.refreshSpanHeaderHeight()},t.prototype.refreshSpanHeaderHeight=function(){var e=this,r=e.eGui,i=e.column,o=e.comp,a=e.beans;if(!i.isSpanHeaderHeight()){r.style.removeProperty("top"),r.style.removeProperty("height"),o.addOrRemoveCssClass("ag-header-span-height",!1),o.addOrRemoveCssClass("ag-header-span-total",!1);return}var s=this.column.getColumnGroupPaddingInfo(),l=s.numberOfParents,u=s.isSpanningTotal;o.addOrRemoveCssClass("ag-header-span-height",l>0);var c=a.columnModel,d=c.getColumnHeaderRowHeight();if(l===0){o.addOrRemoveCssClass("ag-header-span-total",!1),r.style.setProperty("top","0px"),r.style.setProperty("height","".concat(d,"px"));return}o.addOrRemoveCssClass("ag-header-span-total",u);var p=c.isPivotMode(),h=p?c.getPivotGroupHeaderHeight():c.getGroupHeaderHeight(),f=l*h;r.style.setProperty("top","".concat(-f,"px")),r.style.setProperty("height","".concat(d+f,"px"))},t.prototype.setupAutoHeight=function(e){var r=this,i=this.beans,o=i.columnModel,a=i.resizeObserverService,s=function(h){if(r.isAlive()){var f=hh(r.getGui()),v=f.paddingTop,g=f.paddingBottom,m=f.borderBottomWidth,y=f.borderTopWidth,C=v+g+m+y,S=e.offsetHeight,w=S+C;if(h<5){var _=r.beans.gridOptionsService.getDocument(),x=!_||!_.contains(e),E=w==0;if(x||E){window.setTimeout(function(){return s(h+1)},0);return}}o.setColumnHeaderHeight(r.column,w)}},l=!1,u,c=function(){var h=r.column.isAutoHeaderHeight();h&&!l&&d(),!h&&l&&p()},d=function(){l=!0,s(0),r.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),u=a.observeResize(e,function(){return s(0)})},p=function(){l=!1,u&&u(),r.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),u=void 0};c(),this.addDestroyFunc(function(){return p()}),this.addManagedListener(this.column,Rt.EVENT_WIDTH_CHANGED,function(){return l&&s(0)}),this.addManagedListener(this.eventService,Rt.EVENT_SORT_CHANGED,function(){l&&window.setTimeout(function(){return s(0)})}),this.addRefreshFunction(c)},t.prototype.refreshAriaSort=function(){if(this.sortable){var e=this.localeService.getLocaleTextFunc(),r=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(qX(r)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},t.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)},t.prototype.refreshAriaFilterButton=function(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){var e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)},t.prototype.refreshAriaFiltered=function(){var e=this.localeService.getLocaleTextFunc(),r=this.column.isFilterActive();r?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)},t.prototype.setAriaDescriptionProperty=function(e,r){r!=null?this.ariaDescriptionProperties.set(e,r):this.ariaDescriptionProperties.delete(e)},t.prototype.announceAriaDescription=function(){var e=this,r=this.beans.gridOptionsService.getDocument();if(this.eGui.contains(r.activeElement)){var i=Array.from(this.ariaDescriptionProperties.keys()).sort(function(o,a){return o==="filter"?-1:a.charCodeAt(0)-o.charCodeAt(0)}).map(function(o){return e.ariaDescriptionProperties.get(o)}).join(". ");this.beans.ariaAnnouncementService.announceValue(i)}},t.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()},t.prototype.addColumnHoverListener=function(){var e=this,r=function(){if(e.gridOptionsService.get("columnHoverHighlight")){var i=e.beans.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",i)}};this.addManagedListener(this.eventService,M.EVENT_COLUMN_HOVER_CHANGED,r),r()},t.prototype.getColId=function(){return this.column.getColId()},t.prototype.addActiveHeaderMouseListeners=function(){var e=this,r=function(a){return e.handleMouseOverChange(a.type==="mouseenter")},i=function(){return e.dispatchColumnMouseEvent(M.EVENT_COLUMN_HEADER_CLICKED,e.column)},o=function(a){return e.handleContextMenuMouseEvent(a,void 0,e.column)};this.addManagedListener(this.getGui(),"mouseenter",r),this.addManagedListener(this.getGui(),"mouseleave",r),this.addManagedListener(this.getGui(),"click",i),this.addManagedListener(this.getGui(),"contextmenu",o)},t.prototype.handleMouseOverChange=function(e){this.setActiveHeader(e);var r=e?M.EVENT_COLUMN_HEADER_MOUSE_OVER:M.EVENT_COLUMN_HEADER_MOUSE_LEAVE,i={type:r,column:this.column};this.eventService.dispatchEvent(i)},t.prototype.setActiveHeader=function(e){this.comp.addOrRemoveCssClass("ag-header-active",e)},t.prototype.getAnchorElementForMenu=function(e){var r=this.comp.getUserCompInstance();return r instanceof v1?r.getAnchorElementForMenu(e):this.getGui()},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.refreshFunctions=null,this.selectAllFeature=null,this.dragSourceElement=null,this.userCompDetails=null,this.userHeaderClasses=null,this.ariaDescriptionProperties=null},t}(E_),GNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zx=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},VNe=function(n){GNe(t,n);function t(e,r,i,o){var a=n.call(this)||this;return a.eResize=r,a.comp=e,a.pinned=i,a.columnGroup=o,a}return t.prototype.postConstruct=function(){var e=this;if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}var r=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(r),!this.gridOptionsService.get("suppressAutoSize")){var i=this.gridOptionsService.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",function(){var o=[],a=e.columnGroup.getDisplayedLeafColumns();a.forEach(function(s){s.getColDef().suppressAutoSize||o.push(s.getColId())}),o.length>0&&e.columnModel.autoSizeColumns({columns:o,skipHeader:i,stopAtGroup:e.columnGroup,source:"uiColumnResized"}),e.resizeLeafColumnsToFit("uiColumnResized")})}},t.prototype.onResizeStart=function(e){var r=this.getInitialValues(e);this.storeLocalValues(r),this.toggleColumnResizing(!0)},t.prototype.onResizing=function(e,r,i){i===void 0&&(i="uiColumnResized");var o=this.normaliseDragChange(r),a=this.resizeStartWidth+o;this.resizeColumnsFromLocalValues(a,i,e)},t.prototype.getInitialValues=function(e){var r=this.getColumnsToResize(),i=this.getInitialSizeOfColumns(r),o=this.getSizeRatiosOfColumns(r,i),a={columnsToResize:r,resizeStartWidth:i,resizeRatios:o},s=null;if(e&&(s=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),s){var l=s.getDisplayedLeafColumns(),u=a.groupAfterColumns=l.filter(function(d){return d.isResizable()}),c=a.groupAfterStartWidth=this.getInitialSizeOfColumns(u);a.groupAfterRatios=this.getSizeRatiosOfColumns(u,c)}else a.groupAfterColumns=void 0,a.groupAfterStartWidth=void 0,a.groupAfterRatios=void 0;return a},t.prototype.storeLocalValues=function(e){var r=e.columnsToResize,i=e.resizeStartWidth,o=e.resizeRatios,a=e.groupAfterColumns,s=e.groupAfterStartWidth,l=e.groupAfterRatios;this.resizeCols=r,this.resizeStartWidth=i,this.resizeRatios=o,this.resizeTakeFromCols=a,this.resizeTakeFromStartWidth=s,this.resizeTakeFromRatios=l},t.prototype.clearLocalValues=function(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0},t.prototype.resizeLeafColumnsToFit=function(e){var r=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),i=this.getInitialValues();r>i.resizeStartWidth&&this.resizeColumns(i,r,e,!0)},t.prototype.resizeColumnsFromLocalValues=function(e,r,i){var o,a,s;if(i===void 0&&(i=!0),!(!this.resizeCols||!this.resizeRatios)){var l={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:(o=this.resizeTakeFromCols)!==null&&o!==void 0?o:void 0,groupAfterStartWidth:(a=this.resizeTakeFromStartWidth)!==null&&a!==void 0?a:void 0,groupAfterRatios:(s=this.resizeTakeFromRatios)!==null&&s!==void 0?s:void 0};this.resizeColumns(l,e,r,i)}},t.prototype.resizeColumns=function(e,r,i,o){o===void 0&&(o=!0);var a=e.columnsToResize,s=e.resizeStartWidth,l=e.resizeRatios,u=e.groupAfterColumns,c=e.groupAfterStartWidth,d=e.groupAfterRatios,p=[];if(p.push({columns:a,ratios:l,width:r}),u){var h=r-s;p.push({columns:u,ratios:d,width:c-h})}this.columnModel.resizeColumnSets({resizeSets:p,finished:o,source:i}),o&&this.toggleColumnResizing(!1)},t.prototype.toggleColumnResizing=function(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)},t.prototype.getColumnsToResize=function(){var e=this.columnGroup.getDisplayedLeafColumns();return e.filter(function(r){return r.isResizable()})},t.prototype.getInitialSizeOfColumns=function(e){return e.reduce(function(r,i){return r+i.getActualWidth()},0)},t.prototype.getSizeRatiosOfColumns=function(e,r){return e.map(function(i){return i.getActualWidth()/r})},t.prototype.normaliseDragChange=function(e){var r=e;return this.gridOptionsService.get("enableRtl")?this.pinned!=="left"&&(r*=-1):this.pinned==="right"&&(r*=-1),r},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.clearLocalValues()},zx([O("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),zx([O("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),zx([O("columnModel")],t.prototype,"columnModel",void 0),zx([q],t.prototype,"postConstruct",null),t}(re),BNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jNe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},HNe=function(n){BNe(t,n);function t(e,r){var i=n.call(this)||this;return i.removeChildListenersFuncs=[],i.columnGroup=r,i.comp=e,i}return t.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,Fn.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},t.prototype.addListenersToChildrenColumns=function(){var e=this;this.removeListenersOnChildrenColumns();var r=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(i){i.addEventListener("widthChanged",r),i.addEventListener("visibleChanged",r),e.removeChildListenersFuncs.push(function(){i.removeEventListener("widthChanged",r),i.removeEventListener("visibleChanged",r)})})},t.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(e){return e()}),this.removeChildListenersFuncs=[]},t.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},t.prototype.onWidthChanged=function(){var e=this.columnGroup.getActualWidth();this.comp.setWidth("".concat(e,"px")),this.comp.addOrRemoveCssClass("ag-hidden",e===0)},jNe([q],t.prototype,"postConstruct",null),t}(re),$Ne=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),bR=function(){return bR=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},bR.apply(this,arguments)},OQ=function(n){$Ne(t,n);function t(e,r,i){var o=n.call(this,e,r,i)||this;return o.onSuppressColMoveChange=function(){if(!o.isAlive()||o.isSuppressMoving())o.removeDragSource();else if(!o.dragSource){var a=o.getGui();o.setDragSource(a)}},o.column=e,o}return t.prototype.setComp=function(e,r,i){this.comp=e,this.setGui(r),this.displayName=this.beans.columnModel.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp(),this.addHeaderMouseListeners();var o=this.getParentRowCtrl().getPinned(),a=this.column.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new yB(a,r)),this.createManagedBean(new pD(this.column,r,this.beans)),this.createManagedBean(new HNe(e,this.column)),this.resizeFeature=this.createManagedBean(new VNe(e,i,o,this.column)),this.createManagedBean(new ic(r,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addManagedPropertyListener(M.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners()},t.prototype.resizeHeader=function(e,r){if(this.resizeFeature){var i=this.resizeFeature.getInitialValues(r);this.resizeFeature.resizeColumns(i,i.resizeStartWidth+e,"uiColumnResized",!0)}},t.prototype.moveHeader=function(e){var r=this,i=r.beans,o=r.eGui,a=r.column,s=r.gridOptionsService,l=r.ctrlsService,u=s.get("enableRtl"),c=e===sa.Left,d=this.getPinned(),p=o.getBoundingClientRect(),h=p.left,f=p.width,v=zf.normaliseX(c!==u?h-20:h+f+20,d,!0,s,l),g=a.getGroupId(),m=this.focusService.getFocusedHeader();zf.attemptMoveColumns({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,hDirection:e,xPosition:v,pinned:d,fromEnter:!1,fakeEvent:!1,gridOptionsService:s,columnModel:i.columnModel});var y=a.getDisplayedLeafColumns(),C=c?y[0]:Yt(y);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(C,"auto"),!this.isAlive()&&m&&this.restoreFocus(g,a,m)},t.prototype.restoreFocus=function(e,r,i){var o=r.getLeafColumns();if(o.length){var a=o[0].getParent();if(a){var s=this.findGroupWidthId(a,e);s&&this.focusService.focusHeaderPosition({headerPosition:bR(bR({},i),{column:s})})}}},t.prototype.findGroupWidthId=function(e,r){for(;e;){if(e.getGroupId()===r)return e;e=e.getParent()}return null},t.prototype.resizeLeafColumnsToFit=function(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)},t.prototype.setupUserComp=function(){var e=this,r=this.gridOptionsService.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:function(o){e.beans.columnModel.setColumnGroupOpened(e.column.getProvidedColumnGroup(),o,"gridInitializing")}}),i=this.userComponentFactory.getHeaderGroupCompDetails(r);this.comp.setUserCompDetails(i)},t.prototype.addHeaderMouseListeners=function(){var e=this,r=function(a){return e.handleMouseOverChange(a.type==="mouseenter")},i=function(){return e.dispatchColumnMouseEvent(M.EVENT_COLUMN_HEADER_CLICKED,e.column.getProvidedColumnGroup())},o=function(a){return e.handleContextMenuMouseEvent(a,void 0,e.column.getProvidedColumnGroup())};this.addManagedListener(this.getGui(),"mouseenter",r),this.addManagedListener(this.getGui(),"mouseleave",r),this.addManagedListener(this.getGui(),"click",i),this.addManagedListener(this.getGui(),"contextmenu",o)},t.prototype.handleMouseOverChange=function(e){var r=e?M.EVENT_COLUMN_HEADER_MOUSE_OVER:M.EVENT_COLUMN_HEADER_MOUSE_LEAVE,i={type:r,column:this.column.getProvidedColumnGroup()};this.eventService.dispatchEvent(i)},t.prototype.setupTooltip=function(){var e=this,r=this.column.getColGroupDef(),i={getColumn:function(){return e.column},getGui:function(){return e.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return r&&r.headerTooltip}};r&&(i.getColDef=function(){return r});var o=this.createManagedBean(new Ds(i,this.beans));o.setComp(this.eGui)},t.prototype.setupExpandable=function(){var e=this.column.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(e,er.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(e,er.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},t.prototype.refreshExpanded=function(){var e=this.column;this.expandable=e.isExpandable();var r=e.isExpanded();this.expandable?this.comp.setAriaExpanded(r?"true":"false"):this.comp.setAriaExpanded(void 0)},t.prototype.getColId=function(){return this.column.getUniqueId()},t.prototype.addClasses=function(){var e=this,r=this.column.getColGroupDef(),i=fh.getHeaderClassesFromColDef(r,this.gridOptionsService,null,this.column);if(this.column.isPadding()){i.push("ag-header-group-cell-no-group");var o=this.column.getLeafColumns();o.every(function(a){return a.isSpanHeaderHeight()})&&i.push("ag-header-span-height")}else i.push("ag-header-group-cell-with-group");i.forEach(function(a){return e.comp.addOrRemoveCssClass(a,!0)})},t.prototype.setupMovingCss=function(){var e=this,r=this.column.getProvidedColumnGroup(),i=r.getLeafColumns(),o=function(){return e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.column.isMoving())};i.forEach(function(a){e.addManagedListener(a,Rt.EVENT_MOVING_CHANGED,o)}),o()},t.prototype.onFocusIn=function(e){if(!this.eGui.contains(e.relatedTarget)){var r=this.getRowIndex();this.beans.focusService.setFocusedHeader(r,this.column)}},t.prototype.handleKeyDown=function(e){n.prototype.handleKeyDown.call(this,e);var r=this.getWrapperHasFocus();if(!(!this.expandable||!r)&&e.key===K.ENTER){var i=this.column,o=!i.isExpanded();this.beans.columnModel.setColumnGroupOpened(i.getProvidedColumnGroup(),o,"uiColumnExpanded")}},t.prototype.setDragSource=function(e){var r=this;if(!(!this.isAlive()||this.isSuppressMoving())&&(this.removeDragSource(),!!e)){var i=this,o=i.beans,a=i.column,s=i.displayName,l=i.gridOptionsService,u=i.dragAndDropService,c=o.columnModel,d=a.getProvidedColumnGroup().getLeafColumns(),p=!l.get("suppressDragLeaveHidesColumns"),h=this.dragSource={type:on.HeaderCell,eElement:e,getDefaultIconName:function(){return p?Wt.ICON_HIDE:Wt.ICON_NOT_ALLOWED},dragItemName:s,getDragItem:function(){return r.getDragItemForGroup(a)},onDragStarted:function(){p=!l.get("suppressDragLeaveHidesColumns"),d.forEach(function(f){return f.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return d.forEach(function(f){return f.setMoving(!1,"uiColumnDragged")})},onGridEnter:function(f){var v;if(p){var g=((v=f==null?void 0:f.columns)===null||v===void 0?void 0:v.filter(function(m){return!m.getColDef().lockVisible}))||[];c.setColumnsVisible(g,!0,"uiColumnMoved")}},onGridExit:function(f){var v;if(p){var g=((v=f==null?void 0:f.columns)===null||v===void 0?void 0:v.filter(function(m){return!m.getColDef().lockVisible}))||[];c.setColumnsVisible(g,!1,"uiColumnMoved")}}};u.addDragSource(h,!0)}},t.prototype.getDragItemForGroup=function(e){var r=e.getProvidedColumnGroup().getLeafColumns(),i={};r.forEach(function(a){return i[a.getId()]=a.isVisible()});var o=[];return this.beans.columnModel.getAllDisplayedColumns().forEach(function(a){r.indexOf(a)>=0&&(o.push(a),Jo(r,a))}),r.forEach(function(a){return o.push(a)}),{columns:o,visibleState:i}},t.prototype.isSuppressMoving=function(){var e=!1;this.column.getLeafColumns().forEach(function(i){(i.getColDef().suppressMovable||i.getColDef().lockPosition)&&(e=!0)});var r=e||this.gridOptionsService.get("suppressMovableColumns");return r},t}(E_),WNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),wU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},_U=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},UNe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},zNe=0,kE=function(n){WNe(t,n);function t(e,r,i){var o=n.call(this)||this;o.instanceId=zNe++,o.rowIndex=e,o.pinned=r,o.type=i;var a=i==Ei.COLUMN_GROUP?"ag-header-row-column-group":i==Ei.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return o.headerRowClass="ag-header-row ".concat(a),o}return t.prototype.postConstruct=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.isEnsureDomOrder=this.gridOptionsService.get("ensureDomOrder")},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setComp=function(e,r){r===void 0&&(r=!0),this.comp=e,r&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()},t.prototype.getHeaderRowClass=function(){return this.headerRowClass},t.prototype.getAriaRowIndex=function(){return this.rowIndex+1},t.prototype.addEventListeners=function(){var e=this;this.addManagedListener(this.eventService,M.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_VIRTUAL_COLUMNS_CHANGED,function(r){return e.onVirtualColumnsChanged(r.afterScroll)}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",function(r){return e.isEnsureDomOrder=r.currentValue}),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))},t.prototype.getHeaderCellCtrl=function(e){if(this.headerCellCtrls)return Hf(this.headerCellCtrls).find(function(r){return r.getColumnGroupChild()===e})},t.prototype.onDisplayedColumnsChanged=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()},t.prototype.getType=function(){return this.type},t.prototype.onColumnResized=function(){this.setWidth()},t.prototype.setWidth=function(){var e=this.getWidthForRow();this.comp.setWidth("".concat(e,"px"))},t.prototype.getWidthForRow=function(){var e=this.beans.columnModel;if(this.isPrintLayout){var r=this.pinned!=null;return r?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null)}return e.getContainerWidth(this.pinned)},t.prototype.onRowHeightChanged=function(){var e=this.getTopAndHeight(),r=e.topOffset,i=e.rowHeight;this.comp.setTop(r+"px"),this.comp.setHeight(i+"px")},t.prototype.getTopAndHeight=function(){var e=this.beans,r=e.columnModel,i=e.filterManager,o=r.getHeaderRowCount(),a=[],s=0;i.hasFloatingFilters()&&(o++,s=1);for(var l=r.getColumnGroupHeaderRowHeight(),u=r.getColumnHeaderRowHeight(),c=1+s,d=o-c,p=0;p<d;p++)a.push(l);a.push(u);for(var p=0;p<s;p++)a.push(r.getFloatingFiltersHeight());for(var h=0,p=0;p<this.rowIndex;p++)h+=a[p];var f=a[this.rowIndex];return{topOffset:h,rowHeight:f}},t.prototype.getPinned=function(){return this.pinned},t.prototype.getRowIndex=function(){return this.rowIndex},t.prototype.onVirtualColumnsChanged=function(e){e===void 0&&(e=!1);var r=this.getHeaderCtrls(),i=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(r,i,e)},t.prototype.getHeaderCtrls=function(){var e,r,i,o,a=this,s=this.headerCellCtrls;this.headerCellCtrls=new Map;var l=this.getColumnsInViewport();try{for(var u=_U(l),c=u.next();!c.done;c=u.next()){var d=c.value;this.recycleAndCreateHeaderCtrls(d,s)}}catch(S){e={error:S}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}var p=function(S){var w=a.beans,_=w.focusService,x=w.columnModel,E=_.isHeaderWrapperFocused(S);if(!E)return!1;var R=x.isDisplayed(S.getColumnGroupChild());return R};if(s)try{for(var h=_U(s),f=h.next();!f.done;f=h.next()){var v=UNe(f.value,2),g=v[0],m=v[1],y=p(m);y?this.headerCellCtrls.set(g,m):this.destroyBean(m)}}catch(S){i={error:S}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}var C=Array.from(this.headerCellCtrls.values());return C},t.prototype.recycleAndCreateHeaderCtrls=function(e,r){if(this.headerCellCtrls&&!e.isEmptyGroup()){var i=e.getUniqueId(),o;r&&(o=r.get(i),r.delete(i));var a=o&&o.getColumnGroupChild()!=e;if(a&&(this.destroyBean(o),o=void 0),o==null)switch(this.type){case Ei.FLOATING_FILTER:o=this.createBean(new bQ(e,this.beans,this));break;case Ei.COLUMN_GROUP:o=this.createBean(new OQ(e,this.beans,this));break;default:o=this.createBean(new EQ(e,this.beans,this));break}this.headerCellCtrls.set(i,o)}},t.prototype.getColumnsInViewport=function(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},t.prototype.getColumnsInViewportPrintLayout=function(){if(this.pinned!=null)return[];var e=[],r=this.getActualDepth(),i=this.beans.columnModel;return["left",null,"right"].forEach(function(o){var a=i.getVirtualHeaderGroupRow(o,r);e=e.concat(a)}),e},t.prototype.getActualDepth=function(){return this.type==Ei.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},t.prototype.getColumnsInViewportNormalLayout=function(){return this.beans.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},t.prototype.focusHeader=function(e,r){if(!this.headerCellCtrls)return!1;var i=Array.from(this.headerCellCtrls.values()),o=i.find(function(a){return a.getColumnGroupChild()==e});return o?o.focus(r):!1},t.prototype.destroy=function(){var e=this;this.headerCellCtrls&&this.headerCellCtrls.forEach(function(r){e.destroyBean(r)}),this.headerCellCtrls=void 0,n.prototype.destroy.call(this)},wU([O("beans")],t.prototype,"beans",void 0),wU([q],t.prototype,"postConstruct",null),t}(re),KNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Yv=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},YNe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},qNe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},RQ=function(n){KNe(t,n);function t(e){var r=n.call(this)||this;return r.hidden=!1,r.includeFloatingFilter=!1,r.groupsRowCtrls=[],r.pinned=e,r}return t.prototype.setComp=function(e,r){this.comp=e,this.eViewport=r,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,M.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},t.prototype.setupDragAndDrop=function(e){var r=new _Q(this.pinned,e);this.createManagedBean(r)},t.prototype.refresh=function(e){var r=this;e===void 0&&(e=!1);var i=new ji,o=this.focusService.getFocusHeaderToUseAfterRefresh(),a=function(){var c=r.columnModel.getHeaderRowCount()-1;r.groupsRowCtrls=r.destroyBeans(r.groupsRowCtrls);for(var d=0;d<c;d++){var p=r.createBean(new kE(i.next(),r.pinned,Ei.COLUMN_GROUP));r.groupsRowCtrls.push(p)}},s=function(){var c=i.next(),d=!r.hidden&&(r.columnsRowCtrl==null||!e||r.columnsRowCtrl.getRowIndex()!==c),p=d||r.hidden;p&&(r.columnsRowCtrl=r.destroyBean(r.columnsRowCtrl)),d&&(r.columnsRowCtrl=r.createBean(new kE(c,r.pinned,Ei.COLUMN)))},l=function(){r.includeFloatingFilter=r.filterManager.hasFloatingFilters()&&!r.hidden;var c=function(){r.filtersRowCtrl=r.destroyBean(r.filtersRowCtrl)};if(!r.includeFloatingFilter){c();return}var d=i.next();if(r.filtersRowCtrl){var p=r.filtersRowCtrl.getRowIndex()!==d;(!e||p)&&c()}r.filtersRowCtrl||(r.filtersRowCtrl=r.createBean(new kE(d,r.pinned,Ei.FLOATING_FILTER)))};a(),s(),l();var u=this.getAllCtrls();this.comp.setCtrls(u),this.restoreFocusOnHeader(o)},t.prototype.restoreFocusOnHeader=function(e){e==null||e.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:e})},t.prototype.getAllCtrls=function(){var e=qNe([],YNe(this.groupsRowCtrls),!1);return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e},t.prototype.onGridColumnsChanged=function(){this.refresh(!0)},t.prototype.onDisplayedColumnsChanged=function(){var e=this.filterManager.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)},t.prototype.setupCenterWidth=function(){var e=this;this.pinned==null&&this.createManagedBean(new gB(function(r){return e.comp.setCenterWidth("".concat(r,"px"))},!0))},t.prototype.setHorizontalScroll=function(e){this.comp.setViewportScrollLeft(e)},t.prototype.setupPinnedWidth=function(){var e=this;if(this.pinned!=null){var r=this.pinned==="left",i=this.pinned==="right";this.hidden=!0;var o=function(){var a=r?e.pinnedWidthService.getPinnedLeftWidth():e.pinnedWidthService.getPinnedRightWidth();if(a!=null){var s=a==0,l=e.hidden!==s,u=e.gridOptionsService.get("enableRtl"),c=e.gridOptionsService.getScrollbarWidth(),d=e.scrollVisibleService.isVerticalScrollShowing()&&(u&&r||!u&&i),p=d?a+c:a;e.comp.setPinnedContainerWidth("".concat(p,"px")),e.comp.setDisplayed(!s),l&&(e.hidden=s,e.refresh())}};this.addManagedListener(this.eventService,M.EVENT_LEFT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,M.EVENT_RIGHT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,M.EVENT_SCROLL_VISIBILITY_CHANGED,o),this.addManagedListener(this.eventService,M.EVENT_SCROLLBAR_WIDTH_CHANGED,o)}},t.prototype.getHeaderCtrlForColumn=function(e){if(e instanceof Rt)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(e):void 0;if(this.groupsRowCtrls.length!==0)for(var r=0;r<this.groupsRowCtrls.length;r++){var i=this.groupsRowCtrls[r].getHeaderCellCtrl(e);if(i)return i}},t.prototype.getHtmlElementForColumnHeader=function(e){var r=this.getHeaderCtrlForColumn(e);return r?r.getGui():null},t.prototype.getRowType=function(e){var r=this.getAllCtrls(),i=r[e];return i?i.getType():void 0},t.prototype.focusHeader=function(e,r,i){var o=this.getAllCtrls(),a=o[e];return a?a.focusHeader(r,i):!1},t.prototype.getViewport=function(){return this.eViewport},t.prototype.getRowCount=function(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)},t.prototype.destroy=function(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),n.prototype.destroy.call(this)},Yv([O("ctrlsService")],t.prototype,"ctrlsService",void 0),Yv([O("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Yv([O("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),Yv([O("columnModel")],t.prototype,"columnModel",void 0),Yv([O("focusService")],t.prototype,"focusService",void 0),Yv([O("filterManager")],t.prototype,"filterManager",void 0),t}(re),XNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),BM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},GE=function(n){XNe(t,n);function t(e){var r=n.call(this)||this;return r.headerRowComps={},r.rowCompsList=[],r.pinned=e,r}return t.prototype.init=function(){var e=this;this.selectAndSetTemplate();var r={setDisplayed:function(o){return e.setDisplayed(o)},setCtrls:function(o){return e.setCtrls(o)},setCenterWidth:function(o){return e.eCenterContainer.style.width=o},setViewportScrollLeft:function(o){return e.getGui().scrollLeft=o},setPinnedContainerWidth:function(o){var a=e.getGui();a.style.width=o,a.style.maxWidth=o,a.style.minWidth=o}},i=this.createManagedBean(new RQ(this.pinned));i.setComp(r,this.getGui())},t.prototype.selectAndSetTemplate=function(){var e=this.pinned=="left",r=this.pinned=="right",i=e?t.PINNED_LEFT_TEMPLATE:r?t.PINNED_RIGHT_TEMPLATE:t.CENTER_TEMPLATE;this.setTemplate(i),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},t.prototype.destroyRowComps=function(){this.setCtrls([])},t.prototype.destroyRowComp=function(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())},t.prototype.setCtrls=function(e){var r=this,i=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];var o,a=function(s){var l=s.getGui(),u=l.parentElement!=r.eRowContainer;u&&r.eRowContainer.appendChild(l),o&&ZV(r.eRowContainer,l,o),o=l};e.forEach(function(s){var l=s.getInstanceId(),u=i[l];delete i[l];var c=u||r.createBean(new xQ(s));r.headerRowComps[l]=c,r.rowCompsList.push(c),a(c)}),qp(i).forEach(function(s){return r.destroyRowComp(s)})},t.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="rowgroup"></div>',t.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="rowgroup"></div>',t.CENTER_TEMPLATE=`<div class="ag-header-viewport" role="presentation">
            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>
        </div>`,BM([U("eCenterContainer")],t.prototype,"eCenterContainer",void 0),BM([q],t.prototype,"init",null),BM([Gr],t.prototype,"destroyRowComps",null),t}(Ce),ZNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),RC=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},yl;(function(n){n[n.UP=0]="UP",n[n.DOWN=1]="DOWN",n[n.LEFT=2]="LEFT",n[n.RIGHT=3]="RIGHT"})(yl||(yl={}));var TQ=function(n){ZNe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.currentHeaderRowWithoutSpan=-1,e}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(i){e.gridBodyCon=i.gridBodyCtrl});var r=this.gridOptionsService.getDocument();this.addManagedListener(r,"mousedown",function(){return e.setCurrentHeaderRowWithoutSpan(-1)})},t.prototype.getHeaderRowCount=function(){var e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0},t.prototype.navigateVertically=function(e,r,i){if(r||(r=this.focusService.getFocusedHeader()),!r)return!1;var o=r.headerRowIndex,a=r.column,s=this.getHeaderRowCount(),l=e===yl.UP,u=l?this.headerPositionUtils.getColumnVisibleParent(a,o):this.headerPositionUtils.getColumnVisibleChild(a,o),c=u.headerRowIndex,d=u.column,p=u.headerRowIndexWithoutSpan,h=!1;return c<0&&(c=0,d=a,h=!0),c>=s?(c=-1,this.setCurrentHeaderRowWithoutSpan(-1)):p!==void 0&&(this.currentHeaderRowWithoutSpan=p),!h&&!d?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:c,column:d},allowUserOverride:!0,event:i})},t.prototype.setCurrentHeaderRowWithoutSpan=function(e){this.currentHeaderRowWithoutSpan=e},t.prototype.navigateHorizontally=function(e,r,i){r===void 0&&(r=!1);var o=this.focusService.getFocusedHeader(),a=e===yl.LEFT,s=this.gridOptionsService.get("enableRtl"),l,u;return this.currentHeaderRowWithoutSpan!==-1?o.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=o.headerRowIndex,a!==s?(u="Before",l=this.headerPositionUtils.findHeader(o,u)):(u="After",l=this.headerPositionUtils.findHeader(o,u)),l||!r?this.focusService.focusHeaderPosition({headerPosition:l,direction:u,fromTab:r,allowUserOverride:!0,event:i}):this.focusNextHeaderRow(o,u,i)},t.prototype.focusNextHeaderRow=function(e,r,i){var o=e.headerRowIndex,a=null,s;if(r==="Before"?o>0&&(s=o-1,this.currentHeaderRowWithoutSpan-=1,a=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"end")):(s=o+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),a=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"start")),!a)return!1;var l=this.headerPositionUtils.getHeaderIndexToFocus(a.column,a==null?void 0:a.headerRowIndex),u=l.column,c=l.headerRowIndex;return this.focusService.focusHeaderPosition({headerPosition:{column:u,headerRowIndex:c},direction:r,fromTab:!0,allowUserOverride:!0,event:i})},t.prototype.scrollToColumn=function(e,r){if(r===void 0&&(r="After"),!e.getPinned()){var i;if(e instanceof Fn){var o=e.getDisplayedLeafColumns();i=r==="Before"?Yt(o):o[0]}else i=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(i)}},RC([O("focusService")],t.prototype,"focusService",void 0),RC([O("headerPositionUtils")],t.prototype,"headerPositionUtils",void 0),RC([O("ctrlsService")],t.prototype,"ctrlsService",void 0),RC([q],t.prototype,"postConstruct",null),t=RC([me("headerNavigationService")],t),t}(re),QNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),qv=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},PQ=function(n){QNe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.setComp=function(e,r,i){this.comp=e,this.eGui=r,this.createManagedBean(new ic(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight();var o=this.onHeaderContextMenu.bind(this);this.addManagedListener(this.eGui,"contextmenu",o),this.mockContextMenuForIPad(o),this.ctrlsService.registerGridHeaderCtrl(this)},t.prototype.setupHeaderHeight=function(){var e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListener("headerHeight",e),this.addManagedPropertyListener("pivotHeaderHeight",e),this.addManagedPropertyListener("groupHeaderHeight",e),this.addManagedPropertyListener("pivotGroupHeaderHeight",e),this.addManagedPropertyListener("floatingFiltersHeight",e),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,M.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,e),this.addManagedListener(this.eventService,M.EVENT_GRID_STYLES_CHANGED,e),this.addManagedListener(this.eventService,M.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,e)},t.prototype.getHeaderHeight=function(){return this.headerHeight},t.prototype.setHeaderHeight=function(){var e=this.columnModel,r=0,i=e.getHeaderRowCount(),o,a=this.filterManager.hasFloatingFilters();a&&(i++,r=1);var s=this.columnModel.getColumnGroupHeaderRowHeight(),l=this.columnModel.getColumnHeaderRowHeight(),u=1+r,c=i-u;if(o=r*e.getFloatingFiltersHeight(),o+=c*s,o+=l,this.headerHeight!==o){this.headerHeight=o;var d="".concat(o+1,"px");this.comp.setHeightAndMinHeight(d),this.eventService.dispatchEvent({type:M.EVENT_HEADER_HEIGHT_CHANGED})}},t.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)},t.prototype.onDisplayedColumnsChanged=function(){var e=this.columnModel.getAllDisplayedColumns(),r=e.some(function(i){return i.isSpanHeaderHeight()});this.comp.addOrRemoveCssClass("ag-header-allow-overflow",r)},t.prototype.onTabKeyDown=function(e){var r=this.gridOptionsService.get("enableRtl"),i=e.shiftKey!==r?yl.LEFT:yl.RIGHT;(this.headerNavigationService.navigateHorizontally(i,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()},t.prototype.handleKeyDown=function(e){var r=null;switch(e.key){case K.LEFT:r=yl.LEFT;case K.RIGHT:ye(r)||(r=yl.RIGHT),this.headerNavigationService.navigateHorizontally(r,!1,e);break;case K.UP:r=yl.UP;case K.DOWN:ye(r)||(r=yl.DOWN),this.headerNavigationService.navigateVertically(r,null,e)&&e.preventDefault();break;default:return}},t.prototype.onFocusOut=function(e){var r=this.gridOptionsService.getDocument(),i=e.relatedTarget;!i&&this.eGui.contains(r.activeElement)||this.eGui.contains(i)||this.focusService.clearFocusedHeader()},t.prototype.onHeaderContextMenu=function(e,r,i){if(!(!e&&!i||!this.menuService.isHeaderContextMenuEnabled())){var o=(e??r).target;(o===this.eGui||o===this.ctrlsService.getHeaderRowContainerCtrl().getViewport())&&this.menuService.showHeaderContextMenu(void 0,e,i)}},t.prototype.mockContextMenuForIPad=function(e){if(vd()){var r=new kn(this.eGui),i=function(o){e(void 0,o.touchStart,o.touchEvent)};this.addManagedListener(r,kn.EVENT_LONG_TAP,i),this.addDestroyFunc(function(){return r.destroy()})}},qv([O("headerNavigationService")],t.prototype,"headerNavigationService",void 0),qv([O("focusService")],t.prototype,"focusService",void 0),qv([O("columnModel")],t.prototype,"columnModel",void 0),qv([O("ctrlsService")],t.prototype,"ctrlsService",void 0),qv([O("filterManager")],t.prototype,"filterManager",void 0),qv([O("menuService")],t.prototype,"menuService",void 0),t}(re),JNe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),eke=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},DQ=function(n){JNe(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.postConstruct=function(){var e=this,r={addOrRemoveCssClass:function(a,s){return e.addOrRemoveCssClass(a,s)},setHeightAndMinHeight:function(a){e.getGui().style.height=a,e.getGui().style.minHeight=a}},i=this.createManagedBean(new PQ);i.setComp(r,this.getGui(),this.getFocusableElement());var o=function(a){e.createManagedBean(a),e.appendChild(a)};o(new GE("left")),o(new GE(null)),o(new GE("right"))},t.TEMPLATE='<div class="ag-header" role="presentation"/>',eke([q],t.prototype,"postConstruct",null),t}(Ce),tke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},AQ=function(n){tke(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.addResizeBar=function(e){var r=this,i={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};this.dragService.addDragSource(i);var o=function(){return r.dragService.removeDragSource(i)};return o},t.prototype.onDragStart=function(e,r){this.dragStartX=r.clientX,this.setResizeIcons();var i=r instanceof MouseEvent&&r.shiftKey===!0;e.onResizeStart(i)},t.prototype.setResizeIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!0),e.disableUserSelect(!0)},t.prototype.onDragStop=function(e,r){e.onResizeEnd(this.resizeAmount),this.resetIcons()},t.prototype.resetIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!1),e.disableUserSelect(!1)},t.prototype.onDragging=function(e,r){this.resizeAmount=r.clientX-this.dragStartX,e.onResizing(this.resizeAmount)},jM([O("dragService")],t.prototype,"dragService",void 0),jM([O("ctrlsService")],t.prototype,"ctrlsService",void 0),t=jM([me("horizontalResizeService")],t),t}(re),rke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Xv=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},MQ=function(n){rke(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},t.prototype.showMenuAfterMouseEvent=function(e,r,i){var o=this;this.showPopup(e,function(a){o.popupService.positionPopupUnderMouseEvent({column:e,type:i,mouseEvent:r,ePopup:a})},i,r.target,this.menuService.isLegacyMenuEnabled())},t.prototype.showMenuAfterButtonClick=function(e,r,i){var o=this,a=-1,s="left",l=this.menuService.isLegacyMenuEnabled();!l&&this.gridOptionsService.get("enableRtl")&&(a=1,s="right");var u=l?void 0:4*a,c=l?void 0:4;this.showPopup(e,function(d){o.popupService.positionPopupByComponent({type:i,eventSource:r,ePopup:d,nudgeX:u,nudgeY:c,alignSide:s,keepWithinBounds:!0,position:"under",column:e})},i,r,l)},t.prototype.showPopup=function(e,r,i,o,a){var s=this,l=e?this.filterManager.getOrCreateFilterWrapper(e,"COLUMN_MENU"):void 0;if(!l||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var u=document.createElement("div");ri(u,"presentation"),u.classList.add("ag-menu"),a||u.classList.add("ag-filter-menu"),this.tabListener=this.addManagedListener(u,"keydown",function(m){return s.trapFocusWithin(m,u)}),l.guiPromise.then(function(m){return u.appendChild(m)});var c,d=function(){var m;return(m=l.filterPromise)===null||m===void 0?void 0:m.then(function(y){var C;return(C=y==null?void 0:y.afterGuiDetached)===null||C===void 0?void 0:C.call(y)})},p=this.menuService.isColumnMenuAnchoringEnabled()?o??this.ctrlsService.getGridBodyCtrl().getGui():void 0,h=function(m){e.setMenuVisible(!1,"contextMenu");var y=m instanceof KeyboardEvent;if(s.tabListener&&(s.tabListener=s.tabListener()),y&&o&&as(o)){var C=s.focusService.findTabbableParent(o);C&&C.focus()}d(),s.dispatchVisibleChangedEvent(!1,i,e)},f=this.localeService.getLocaleTextFunc(),v=a&&i!=="columnFilter"?f("ariaLabelColumnMenu","Column Menu"):f("ariaLabelColumnFilter","Column Filter"),g=this.popupService.addPopup({modal:!0,eChild:u,closeOnEsc:!0,closedCallback:h,positionCallback:function(){return r(u)},anchorToElement:p,ariaLabel:v});g&&(this.hidePopup=c=g.hideFunc),l.filterPromise.then(function(m){r(u),m.afterGuiAttached&&m.afterGuiAttached({container:i,hidePopup:c})}),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,i,e)},t.prototype.trapFocusWithin=function(e,r){e.key!==K.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(r,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(r,e.shiftKey))},t.prototype.dispatchVisibleChangedEvent=function(e,r,i){var o={type:M.EVENT_COLUMN_MENU_VISIBLE_CHANGED,visible:e,switchingTab:!1,key:r,column:i??null};this.eventService.dispatchEvent(o)},t.prototype.isMenuEnabled=function(e){var r;return e.isFilterAllowed()&&((r=e.getColDef().menuTabs)!==null&&r!==void 0?r:["filterMenuTab"]).includes("filterMenuTab")},t.prototype.showMenuAfterContextMenuEvent=function(){},Xv([O("filterManager")],t.prototype,"filterManager",void 0),Xv([O("popupService")],t.prototype,"popupService",void 0),Xv([O("focusService")],t.prototype,"focusService",void 0),Xv([O("ctrlsService")],t.prototype,"ctrlsService",void 0),Xv([O("menuService")],t.prototype,"menuService",void 0),t=Xv([me("filterMenuFactory")],t),t}(re),nke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),xU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Kf;(function(n){n.TAB_GUARD="ag-tab-guard",n.TAB_GUARD_TOP="ag-tab-guard-top",n.TAB_GUARD_BOTTOM="ag-tab-guard-bottom"})(Kf||(Kf={}));var LQ=function(n){nke(t,n);function t(e){var r=n.call(this)||this;r.skipTabGuardFocus=!1,r.forcingFocusOut=!1;var i=e.comp,o=e.eTopGuard,a=e.eBottomGuard,s=e.focusTrapActive,l=e.forceFocusOutWhenTabGuardsAreEmpty,u=e.focusInnerElement,c=e.onFocusIn,d=e.onFocusOut,p=e.shouldStopEventPropagation,h=e.onTabKeyDown,f=e.handleKeyDown,v=e.eFocusableElement;return r.comp=i,r.eTopGuard=o,r.eBottomGuard=a,r.providedFocusInnerElement=u,r.eFocusableElement=v,r.focusTrapActive=!!s,r.forceFocusOutWhenTabGuardsAreEmpty=!!l,r.providedFocusIn=c,r.providedFocusOut=d,r.providedShouldStopEventPropagation=p,r.providedOnTabKeyDown=h,r.providedHandleKeyDown=f,r}return t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new ic(this.eFocusableElement,{shouldStopEventPropagation:function(){return e.shouldStopEventPropagation()},onTabKeyDown:function(r){return e.onTabKeyDown(r)},handleKeyDown:function(r){return e.handleKeyDown(r)},onFocusIn:function(r){return e.onFocusIn(r)},onFocusOut:function(r){return e.onFocusOut(r)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(r){return e.addManagedListener(r,"focus",e.onFocus.bind(e))})},t.prototype.handleKeyDown=function(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)},t.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},t.prototype.shouldStopEventPropagation=function(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1},t.prototype.activateTabGuards=function(){if(!this.forcingFocusOut){var e=this.gridOptionsService.get("tabIndex");this.comp.setTabIndex(e.toString())}},t.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},t.prototype.onFocus=function(e){if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty){var r=this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length===0;if(r){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}}var i=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(i):this.focusInnerElement(i)},t.prototype.findNextElementOutsideAndFocus=function(e){var r=this.gridOptionsService.getDocument(),i=this.focusService.findFocusableElements(r.body,null,!0),o=i.indexOf(e?this.eTopGuard:this.eBottomGuard);if(o!==-1){var a,s;e?(a=0,s=o):(a=o+1,s=i.length);var l=i.slice(a,s),u=this.gridOptionsService.get("tabIndex");l.sort(function(c,d){var p=parseInt(c.getAttribute("tabindex")||"0"),h=parseInt(d.getAttribute("tabindex")||"0");return h===u?1:p===u?-1:p===0?1:h===0?-1:p-h}),l[e?l.length-1:0].focus()}},t.prototype.onFocusIn=function(e){this.focusTrapActive||(this.providedFocusIn&&this.providedFocusIn(e),this.deactivateTabGuards())},t.prototype.onFocusOut=function(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())},t.prototype.onTabKeyDown=function(e){var r=this;if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(!this.focusTrapActive&&!e.defaultPrevented){var i=this.tabGuardsAreActive();i&&this.deactivateTabGuards();var o=this.getNextFocusableElement(e.shiftKey);i&&setTimeout(function(){return r.activateTabGuards()},0),o&&(o.focus(),e.preventDefault())}},t.prototype.focusInnerElement=function(e){e===void 0&&(e=!1);var r=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(r.splice(0,1),r.splice(r.length-1,1)),r.length&&r[e?r.length-1:0].focus({preventScroll:!0})},t.prototype.getNextFocusableElement=function(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)},t.prototype.forceFocusOutOfContainer=function(e){var r=this;if(e===void 0&&(e=!1),!this.forcingFocusOut){var i=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,i.focus(),window.setTimeout(function(){r.forcingFocusOut=!1,r.activateTabGuards()})}},t.prototype.isTabGuard=function(e){return e===this.eTopGuard||e===this.eBottomGuard},xU([O("focusService")],t.prototype,"focusService",void 0),xU([q],t.prototype,"postConstruct",null),t}(re),ike=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),oke=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},ake=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},md=function(n){ike(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.initialiseTabGuard=function(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var r=[this.eTopGuard,this.eBottomGuard],i={setTabIndex:function(o){r.forEach(function(a){return o!=null?a.setAttribute("tabindex",o):a.removeAttribute("tabindex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new LQ({comp:i,focusTrapActive:!!e.focusTrapActive,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:e.onFocusIn,onFocusOut:e.onFocusOut,focusInnerElement:e.focusInnerElement,handleKeyDown:e.handleKeyDown,onTabKeyDown:e.onTabKeyDown,shouldStopEventPropagation:e.shouldStopEventPropagation,forceFocusOutWhenTabGuardsAreEmpty:e.forceFocusOutWhenTabGuardsAreEmpty}))},t.prototype.createTabGuard=function(e){var r=document.createElement("div"),i=e==="top"?Kf.TAB_GUARD_TOP:Kf.TAB_GUARD_BOTTOM;return r.classList.add(Kf.TAB_GUARD,i),ri(r,"presentation"),r},t.prototype.addTabGuards=function(e,r){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",r)},t.prototype.removeAllChildrenExceptTabGuards=function(){var e=[this.eTopGuard,this.eBottomGuard];gi(this.getFocusableElement()),this.addTabGuards.apply(this,ake([],oke(e),!1))},t.prototype.forceFocusOutOfContainer=function(e){e===void 0&&(e=!1),this.tabGuardCtrl.forceFocusOutOfContainer(e)},t.prototype.appendChild=function(e,r){S_(e)||(e=e.getGui());var i=this.eBottomGuard;i?i.insertAdjacentElement("beforebegin",e):n.prototype.appendChild.call(this,e,r)},t}(Ce),ske=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Kx=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},CB=function(n){ske(t,n);function t(e){var r=n.call(this,t.getTemplate(e.cssClass))||this;return r.items=[],r.tabbedItemScrollMap=new Map,r.params=e,e.items&&e.items.forEach(function(i){return r.addItem(i)}),r}return t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),focusInnerElement:this.focusInnerElement.bind(this),focusTrapActive:!0}),this.addDestroyFunc(function(){var r,i,o;return(o=(i=(r=e.activeItem)===null||r===void 0?void 0:r.tabbedItem)===null||i===void 0?void 0:i.afterDetachedCallback)===null||o===void 0?void 0:o.call(i)})},t.getTemplate=function(e){return'<div class="ag-tabs '.concat(e,`">
            <div ref="eHeader" role="tablist" class="ag-tabs-header `).concat(e?"".concat(e,"-header"):"",`"></div>
            <div ref="eBody" role="presentation" class="ag-tabs-body `).concat(e?"".concat(e,"-body"):"",`"></div>
        </div>`)},t.prototype.handleKeyDown=function(e){var r=this.gridOptionsService.getDocument();switch(e.key){case K.RIGHT:case K.LEFT:if(!this.eHeader.contains(r.activeElement))return;var i=e.key===K.RIGHT,o=this.gridOptionsService.get("enableRtl"),a=this.items.indexOf(this.activeItem),s=i!==o?Math.min(a+1,this.items.length-1):Math.max(a-1,0);if(a===s)return;e.preventDefault();var l=this.items[s];this.showItemWrapper(l),l.eHeaderButton.focus();break;case K.UP:case K.DOWN:e.stopPropagation();break}},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var r=this,i=r.focusService,o=r.eHeader,a=r.eBody,s=r.activeItem,l=this.gridOptionsService.getDocument(),u=l.activeElement,c=e.target;if(e.preventDefault(),o.contains(u)){this.focusBody(e.shiftKey);return}var d=null;i.isTargetUnderManagedComponent(a,c)&&(e.shiftKey&&(d=this.focusService.findFocusableElementBeforeTabGuard(a,c)),d||(d=s.eHeaderButton)),!d&&a.contains(u)&&(d=i.findNextFocusableElement(a,!1,e.shiftKey),d||this.focusHeader()),d&&d.focus()}},t.prototype.focusInnerElement=function(e){e?this.focusHeader():this.focusBody(!0)},t.prototype.focusHeader=function(){this.activeItem.eHeaderButton.focus()},t.prototype.focusBody=function(e){this.focusService.focusInto(this.eBody,e)},t.prototype.setAfterAttachedParams=function(e){this.afterAttachedParams=e},t.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},t.prototype.addItem=function(e){var r=document.createElement("span");ri(r,"tab"),r.setAttribute("tabindex","-1"),r.appendChild(e.title),r.classList.add("ag-tab"),this.eHeader.appendChild(r),ph(r,e.titleLabel);var i={tabbedItem:e,eHeaderButton:r};this.items.push(i),r.addEventListener("click",this.showItemWrapper.bind(this,i))},t.prototype.showItem=function(e){var r=this.items.find(function(i){return i.tabbedItem===e});r&&this.showItemWrapper(r)},t.prototype.showItemWrapper=function(e){var r=this,i,o,a,s,l,u,c=e.tabbedItem,d=e.eHeaderButton;if((o=(i=this.params).onItemClicked)===null||o===void 0||o.call(i,{item:c}),this.activeItem===e){(s=(a=this.params).onActiveItemClicked)===null||s===void 0||s.call(a);return}this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),gi(this.eBody),c.bodyPromise.then(function(p){r.eBody.appendChild(p);var h=!r.focusService.isKeyboardMode();if(r.focusService.focusInto(r.eBody,!1,h),c.afterAttachedCallback&&c.afterAttachedCallback(r.afterAttachedParams),r.params.keepScrollPosition){var f=c.getScrollableContainer&&c.getScrollableContainer()||p;r.lastScrollListener=r.addManagedListener(f,"scroll",function(){r.tabbedItemScrollMap.set(c.name,f.scrollTop)});var v=r.tabbedItemScrollMap.get(c.name);v!==void 0&&setTimeout(function(){f.scrollTop=v},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),(u=(l=this.activeItem.tabbedItem).afterDetachedCallback)===null||u===void 0||u.call(l)),d.classList.add("ag-tab-selected"),this.activeItem=e},Kx([O("focusService")],t.prototype,"focusService",void 0),Kx([U("eHeader")],t.prototype,"eHeader",void 0),Kx([U("eBody")],t.prototype,"eBody",void 0),Kx([q],t.prototype,"postConstruct",null),t}(md),lke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),uke=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},cke=50,FQ=function(n){lke(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.polyfillFunctions=[],e}return t.prototype.observeResize=function(e,r){var i=this,o=this.gridOptionsService.getWindow(),a=function(){var c=new o.ResizeObserver(r);return c.observe(e),function(){return c.disconnect()}},s=function(){var c,d,p=(c=e==null?void 0:e.clientWidth)!==null&&c!==void 0?c:0,h=(d=e==null?void 0:e.clientHeight)!==null&&d!==void 0?d:0,f=!0,v=function(){var g,m;if(f){var y=(g=e==null?void 0:e.clientWidth)!==null&&g!==void 0?g:0,C=(m=e==null?void 0:e.clientHeight)!==null&&m!==void 0?m:0,S=y!==p||C!==h;S&&(p=y,h=C,r()),i.doNextPolyfillTurn(v)}};return v(),function(){return f=!1}},l=this.gridOptionsService.get("suppressBrowserResizeObserver"),u=!!o.ResizeObserver;return u&&!l?a():this.getFrameworkOverrides().wrapIncoming(function(){return s()},"resize-observer")},t.prototype.doNextPolyfillTurn=function(e){this.polyfillFunctions.push(e),this.schedulePolyfill()},t.prototype.schedulePolyfill=function(){var e=this;if(!this.polyfillScheduled){var r=function(){var i=e.polyfillFunctions;e.polyfillScheduled=!1,e.polyfillFunctions=[],i.forEach(function(o){return o()})};this.polyfillScheduled=!0,window.setTimeout(r,cke)}},t=uke([me("resizeObserverService")],t),t}(re),dke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Yx=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},IQ=function(n){dke(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.createTasksP1={list:[],sorted:!1},e.createTasksP2={list:[],sorted:!1},e.destroyTasks=[],e.ticking=!1,e.scrollGoingDown=!0,e.lastPage=0,e.lastScrollTop=0,e.taskCount=0,e.cancelledTasks=new Set,e}return t.prototype.setScrollTop=function(e){var r=this.gridOptionsService.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,r&&e===0){var i=this.paginationProxy.getCurrentPage();i!==this.lastPage&&(this.lastPage=i,this.scrollGoingDown=!0)}this.lastScrollTop=e},t.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsService.get("suppressAnimationFrame")},t.prototype.isOn=function(){return this.useAnimationFrame},t.prototype.verifyAnimationFrameOn=function(e){this.useAnimationFrame===!1&&console.warn("AG Grid: AnimationFrameService.".concat(e," called but animation frames are off"))},t.prototype.createTask=function(e,r,i){this.verifyAnimationFrameOn(i);var o={task:e,index:r,createOrder:++this.taskCount};this.addTaskToList(this[i],o),this.schedule()},t.prototype.cancelTask=function(e){this.cancelledTasks.add(e)},t.prototype.addTaskToList=function(e,r){e.list.push(r),e.sorted=!1},t.prototype.sortTaskList=function(e){if(!e.sorted){var r=this.scrollGoingDown?1:-1;e.list.sort(function(i,o){return i.index!==o.index?r*(o.index-i.index):o.createOrder-i.createOrder}),e.sorted=!0}},t.prototype.addDestroyTask=function(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()},t.prototype.executeFrame=function(e){this.verifyAnimationFrameOn("executeFrame");for(var r=this.createTasksP1,i=r.list,o=this.createTasksP2,a=o.list,s=this.destroyTasks,l=new Date().getTime(),u=new Date().getTime()-l,c=e<=0,d=this.ctrlsService.getGridBodyCtrl();c||u<e;){var p=d.getScrollFeature().scrollGridIfNeeded();if(!p){var h=void 0;if(i.length)this.sortTaskList(r),h=i.pop().task;else if(a.length)this.sortTaskList(o),h=a.pop().task;else if(s.length)h=s.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(h)||h()}u=new Date().getTime()-l}i.length||a.length||s.length?this.requestFrame():this.stopTicking()},t.prototype.stopTicking=function(){this.ticking=!1},t.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},t.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},t.prototype.requestFrame=function(){var e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)},t.prototype.requestAnimationFrame=function(e){var r=this.gridOptionsService.getWindow();r.requestAnimationFrame?r.requestAnimationFrame(e):r.webkitRequestAnimationFrame?r.webkitRequestAnimationFrame(e):r.setTimeout(e,0)},t.prototype.isQueueEmpty=function(){return!this.ticking},t.prototype.debounce=function(e){var r=this,i=!1;return function(){if(!r.isOn()){window.setTimeout(e,0);return}i||(i=!0,r.addDestroyTask(function(){i=!1,e()}))}},Yx([O("ctrlsService")],t.prototype,"ctrlsService",void 0),Yx([O("paginationProxy")],t.prototype,"paginationProxy",void 0),Yx([q],t.prototype,"init",null),t=Yx([me("animationFrameService")],t),t}(re),Ft;(function(n){n.EVERYTHING="group",n.FILTER="filter",n.SORT="sort",n.MAP="map",n.AGGREGATE="aggregate",n.FILTER_AGGREGATES="filter_aggregates",n.PIVOT="pivot",n.NOTHING="nothing"})(Ft||(Ft={}));var pke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),HM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},SB=function(n){pke(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.isClientSideRowModel=this.rowModel.getType()==="clientSide"},t.prototype.expandRows=function(e){if(this.isClientSideRowModel){var r=new Set(e);this.rowModel.forEachNode(function(i){i.id&&r.has(i.id)&&(i.expanded=!0)}),this.onGroupExpandedOrCollapsed()}},t.prototype.getExpandedRows=function(){var e=[];return this.rowModel.forEachNode(function(r){var i=r.expanded,o=r.id;i&&o&&e.push(o)}),e},t.prototype.expandAll=function(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)},t.prototype.setRowNodeExpanded=function(e,r,i){e&&(i&&e.parent&&e.parent.level!==-1&&this.setRowNodeExpanded(e.parent,r,i),e.setExpanded(r))},t.prototype.onGroupExpandedOrCollapsed=function(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:Ft.MAP})},HM([O("rowModel")],t.prototype,"rowModel",void 0),HM([q],t.prototype,"postConstruct",null),t=HM([me("expansionService")],t),t}(re),hke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Sc=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},NQ=function(n){hke(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){var e;this.activeMenuFactory=(e=this.enterpriseMenuFactory)!==null&&e!==void 0?e:this.filterMenuFactory},t.prototype.showColumnMenu=function(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")},t.prototype.showFilterMenu=function(e){var r=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(r,e,e.containerType,!0)},t.prototype.showHeaderContextMenu=function(e,r,i){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,r,i)},t.prototype.showContextMenu=function(e){var r,i,o,a=e.column,s=e.anchorToElement,l=e.rowNode,u=e.value;(r=this.contextMenuFactory)===null||r===void 0||r.onContextMenu((i=e.mouseEvent)!==null&&i!==void 0?i:null,(o=e.touchEvent)!==null&&o!==void 0?o:null,l??null,a??null,u,s)},t.prototype.showColumnChooser=function(e){var r;(r=this.columnChooserFactory)===null||r===void 0||r.showColumnChooser(e)},t.prototype.hidePopupMenu=function(){var e;(e=this.contextMenuFactory)===null||e===void 0||e.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()},t.prototype.hideColumnChooser=function(){var e;(e=this.columnChooserFactory)===null||e===void 0||e.hideActiveColumnChooser()},t.prototype.isColumnMenuInHeaderEnabled=function(e){var r=e.getColDef(),i=r.suppressMenu,o=r.suppressHeaderMenuButton,a=o??i;return!a&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)},t.prototype.isFilterMenuInHeaderEnabled=function(e){return!e.getColDef().suppressHeaderFilterButton&&this.filterManager.isFilterAllowed(e)},t.prototype.isHeaderContextMenuEnabled=function(e){return!(e!=null&&e.getColDef().suppressHeaderContextMenu)&&this.getColumnMenuType()==="new"},t.prototype.isHeaderMenuButtonAlwaysShowEnabled=function(){return this.isSuppressMenuHide()},t.prototype.isHeaderMenuButtonEnabled=function(){var e=!this.isSuppressMenuHide(),r=vd()&&e;return!r},t.prototype.isHeaderFilterButtonEnabled=function(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)},t.prototype.isFilterMenuItemEnabled=function(e){return this.filterManager.isFilterAllowed(e)&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)},t.prototype.isColumnMenuAnchoringEnabled=function(){return!this.isLegacyMenuEnabled()},t.prototype.areAdditionalColumnMenuItemsEnabled=function(){return this.getColumnMenuType()==="new"},t.prototype.isLegacyMenuEnabled=function(){return this.getColumnMenuType()==="legacy"},t.prototype.isFloatingFilterButtonEnabled=function(e){var r,i=e.getColDef(),o=(r=i.floatingFilterComponentParams)===null||r===void 0?void 0:r.suppressFilterButton;return o!=null&&at("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),i.suppressFloatingFilterButton==null?!o:!i.suppressFloatingFilterButton},t.prototype.getColumnMenuType=function(){var e;return(e=this.gridOptionsService.get("columnMenu"))!==null&&e!==void 0?e:"legacy"},t.prototype.isFloatingFilterButtonDisplayed=function(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)},t.prototype.isSuppressMenuHide=function(){var e=this.gridOptionsService.get("suppressMenuHide");return this.isLegacyMenuEnabled()||this.gridOptionsService.exists("suppressMenuHide")?e:!0},t.prototype.showColumnMenuCommon=function(e,r,i,o){var a=this,s=r.column,l=r.positionBy;if(l==="button"){var u=r.buttonElement;e.showMenuAfterButtonClick(s,u,i,o)}else if(l==="mouse"){var c=r.mouseEvent;e.showMenuAfterMouseEvent(s,c,i,o)}else s&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(s,"auto"),this.animationFrameService.requestAnimationFrame(function(){var d=a.ctrlsService.getHeaderRowContainerCtrl(s.getPinned()).getHeaderCtrlForColumn(s);e.showMenuAfterButtonClick(s,d.getAnchorElementForMenu(o),i,!0)}))},Sc([xt("enterpriseMenuFactory")],t.prototype,"enterpriseMenuFactory",void 0),Sc([O("filterMenuFactory")],t.prototype,"filterMenuFactory",void 0),Sc([xt("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),Sc([O("ctrlsService")],t.prototype,"ctrlsService",void 0),Sc([O("animationFrameService")],t.prototype,"animationFrameService",void 0),Sc([xt("columnChooserFactory")],t.prototype,"columnChooserFactory",void 0),Sc([O("filterManager")],t.prototype,"filterManager",void 0),Sc([q],t.prototype,"postConstruct",null),t=Sc([me("menuService")],t),t}(re),fke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),TC=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},kQ=function(n){fke(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(r){e.centerRowContainerCtrl=r.centerRowContainerCtrl})},t.prototype.getPreferredWidthForColumn=function(e,r){var i=this.getHeaderCellForColumn(e);if(!i)return-1;var o=this.rowRenderer.getAllCellsForColumn(e);return r||o.push(i),this.addElementsToContainerAndGetWidth(o)},t.prototype.getPreferredWidthForColumnGroup=function(e){var r=this.getHeaderCellForColumn(e);return r?this.addElementsToContainerAndGetWidth([r]):-1},t.prototype.addElementsToContainerAndGetWidth=function(e){var r=this,i=document.createElement("form");i.style.position="fixed";var o=this.centerRowContainerCtrl.getContainerElement();e.forEach(function(l){return r.cloneItemIntoDummy(l,i)}),o.appendChild(i);var a=i.offsetWidth;o.removeChild(i);var s=this.getAutoSizePadding();return a+s},t.prototype.getAutoSizePadding=function(){return this.gridOptionsService.get("autoSizePadding")},t.prototype.getHeaderCellForColumn=function(e){var r=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(i){var o=i.getHtmlElementForColumnHeader(e);o!=null&&(r=o)}),r},t.prototype.cloneItemIntoDummy=function(e,r){var i=e.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";var o=document.createElement("div"),a=o.classList,s=["ag-header-cell","ag-header-group-cell"].some(function(p){return i.classList.contains(p)});s?(a.add("ag-header","ag-header-row"),o.style.position="static"):a.add("ag-row");for(var l=e.parentElement;l;){var u=["ag-header-row","ag-row"].some(function(p){return l.classList.contains(p)});if(u){for(var c=0;c<l.classList.length;c++){var d=l.classList[c];d!="ag-row-position-absolute"&&a.add(d)}break}l=l.parentElement}o.appendChild(i),r.appendChild(o)},TC([O("rowRenderer")],t.prototype,"rowRenderer",void 0),TC([O("ctrlsService")],t.prototype,"ctrlsService",void 0),TC([O("rowCssClassCalculator")],t.prototype,"rowCssClassCalculator",void 0),TC([q],t.prototype,"postConstruct",null),t=TC([me("autoWidthCalculator")],t),t}(re),vke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),qx=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},gke=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},mke=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},yke=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},Cke=function(n){vke(t,n);function t(e,r){var i=n.call(this)||this;return i.createRowCon=e,i.destroyRowCtrls=r,i.stickyRowCtrls=[],i.containerHeight=0,i}return t.prototype.postConstruct=function(){var e=this;this.isClientSide=this.rowModel.getType()==="clientSide",this.ctrlsService.whenReady(function(r){e.gridBodyCtrl=r.gridBodyCtrl})},t.prototype.getStickyRowCtrls=function(){return this.stickyRowCtrls},t.prototype.checkStickyRows=function(){var e=this,r=0;if(!this.gridOptionsService.isGroupRowsSticky())return this.refreshNodesAndContainerHeight([],r);for(var i=[],o=this.rowRenderer.getFirstVisibleVerticalPixel(),a=function(f){var v,g,m;i.push(f);var y;if(e.isClientSide){for(var C=f;C.isExpandable()&&C.expanded;)if(C.master)C=C.detailNode;else if(C.childrenAfterSort){if(C.childrenAfterSort.length===0)break;C=Yt(C.childrenAfterSort)}y=C.rowTop+C.rowHeight}else if(f.master)y=f.detailNode.rowTop+f.detailNode.rowHeight;else{var S=(v=f.childStore)===null||v===void 0?void 0:v.getStoreBounds();y=((g=S==null?void 0:S.heightPx)!==null&&g!==void 0?g:0)+((m=S==null?void 0:S.topPx)!==null&&m!==void 0?m:0)}var w=o+r+f.rowHeight;y<w?f.stickyRowTop=r+(y-w):f.stickyRowTop=r,r=0,i.forEach(function(_){var x=_.stickyRowTop+_.rowHeight;r<x&&(r=x)})},s=0;;){var l=o+r,u=this.rowModel.getRowIndexAtPixel(l),c=this.rowModel.getRow(u);if(c==null||c.level<0||s++===100)break;for(var d=[],p=c.parent;p.level>=0;)d.push(p),p=p.parent;var h=d.reverse().find(function(f){return i.indexOf(f)<0&&f.displayed});if(h){a(h);continue}if(c.isExpandable()&&c.expanded&&c.rowTop<l){a(c);continue}break}return this.refreshNodesAndContainerHeight(i,r)},t.prototype.refreshStickyNode=function(e){for(var r=[],i=0;i<this.stickyRowCtrls.length;i++){var o=this.stickyRowCtrls[i].getRowNode();o!==e&&r.push(o)}this.refreshNodesAndContainerHeight(r,this.containerHeight)&&this.checkStickyRows()},t.prototype.refreshNodesAndContainerHeight=function(e,r){var i,o,a,s=this,l=!1,u=this.stickyRowCtrls.filter(function(g){return e.indexOf(g.getRowNode())===-1}),c=e.filter(function(g){return s.stickyRowCtrls.findIndex(function(m){return m.getRowNode()===g})===-1});(u.length||c.length)&&(l=!0);var d={};u.forEach(function(g){d[g.getRowNode().id]=g,s.stickyRowCtrls=s.stickyRowCtrls.filter(function(m){return m!==g})});try{for(var p=gke(Object.values(d)),h=p.next();!h.done;h=p.next()){var f=h.value;f.getRowNode().sticky=!1}}catch(g){i={error:g}}finally{try{h&&!h.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}this.destroyRowCtrls(d,!1);var v=c.map(function(g){return g.sticky=!0,s.createRowCon(g,!1,!1)});return(a=this.stickyRowCtrls).push.apply(a,yke([],mke(v),!1)),this.stickyRowCtrls.forEach(function(g){return g.setRowTop(g.getRowNode().stickyRowTop)}),this.stickyRowCtrls.sort(function(g,m){return m.getRowNode().rowIndex-g.getRowNode().rowIndex}),this.containerHeight!==r&&(this.containerHeight=r,this.gridBodyCtrl.setStickyTopHeight(r),l=!0),l},qx([O("rowModel")],t.prototype,"rowModel",void 0),qx([O("rowRenderer")],t.prototype,"rowRenderer",void 0),qx([O("ctrlsService")],t.prototype,"ctrlsService",void 0),qx([q],t.prototype,"postConstruct",null),t}(re),Ske=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sl=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Nd=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},kd=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},wke=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},GQ=function(n){Ske(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.destroyFuncsForColumnListeners=[],e.rowCtrlsByRowIndex={},e.zombieRowCtrls={},e.allRowCtrls=[],e.topRowCtrls=[],e.bottomRowCtrls=[],e.refreshInProgress=!1,e.dataFirstRenderedFired=!1,e.setupRangeSelectionListeners=function(){var r=function(){e.getAllCellCtrls().forEach(function(l){return l.onRangeSelectionChanged()})},i=function(){e.getAllCellCtrls().forEach(function(l){return l.updateRangeBordersIfRangeCount()})},o=function(){e.eventService.addEventListener(M.EVENT_RANGE_SELECTION_CHANGED,r),e.eventService.addEventListener(M.EVENT_COLUMN_MOVED,i),e.eventService.addEventListener(M.EVENT_COLUMN_PINNED,i),e.eventService.addEventListener(M.EVENT_COLUMN_VISIBLE,i)},a=function(){e.eventService.removeEventListener(M.EVENT_RANGE_SELECTION_CHANGED,r),e.eventService.removeEventListener(M.EVENT_COLUMN_MOVED,i),e.eventService.removeEventListener(M.EVENT_COLUMN_PINNED,i),e.eventService.removeEventListener(M.EVENT_COLUMN_VISIBLE,i)};e.addDestroyFunc(function(){return a()}),e.addManagedPropertyListener("enableRangeSelection",function(l){var u=l.currentValue;u?o():a()});var s=e.gridOptionsService.get("enableRangeSelection");s&&o()},e}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.initialise()})},t.prototype.initialise=function(){var e=this;if(this.addManagedListener(this.eventService,M.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,M.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,M.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],function(){return e.onDomLayoutChanged()}),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],function(){return e.redraw()}),this.addManagedPropertyListeners(["suppressCellFocus","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],function(){return e.redrawRows()}),this.gridOptionsService.isGroupRowsSticky()){var r=this.rowModel.getType();(r==="clientSide"||r==="serverSide")&&(this.stickyRowFeature=this.createManagedBean(new Cke(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.get("embedFullWidthRows"),this.redrawAfterModelUpdate()},t.prototype.initialiseCache=function(){if(this.gridOptionsService.get("keepDetailRows")){var e=this.getKeepDetailRowsCount(),r=e??3;this.cachedRowCtrls=new _ke(r)}},t.prototype.getKeepDetailRowsCount=function(){return this.gridOptionsService.get("keepDetailRowsCount")},t.prototype.getStickyTopRowCtrls=function(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]},t.prototype.updateAllRowCtrls=function(){var e=qp(this.rowCtrlsByRowIndex),r=qp(this.zombieRowCtrls),i=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];r.length>0||i.length>0?this.allRowCtrls=kd(kd(kd([],Nd(e),!1),Nd(r),!1),Nd(i),!1):this.allRowCtrls=e},t.prototype.onCellFocusChanged=function(e){this.getAllCellCtrls().forEach(function(r){return r.onCellFocused(e)}),this.getFullWidthRowCtrls().forEach(function(r){return r.onFullWidthRowFocused(e)})},t.prototype.registerCellEventListeners=function(){var e=this;this.addManagedListener(this.eventService,M.EVENT_CELL_FOCUSED,function(r){e.onCellFocusChanged(r)}),this.addManagedListener(this.eventService,M.EVENT_CELL_FOCUS_CLEARED,function(){e.onCellFocusChanged()}),this.addManagedListener(this.eventService,M.EVENT_FLASH_CELLS,function(r){e.getAllCellCtrls().forEach(function(i){return i.onFlashCells(r)})}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_HOVER_CHANGED,function(){e.getAllCellCtrls().forEach(function(r){return r.onColumnHover()})}),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){e.getAllCellCtrls().forEach(function(r){return r.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){e.printLayout&&e.getAllCellCtrls().forEach(function(r){return r.onLeftChanged()})}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,M.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},t.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(e){return e()}),this.destroyFuncsForColumnListeners.length=0},t.prototype.refreshListenersToColumnsForCellComps=function(){var e=this;this.removeGridColumnListeners();var r=this.columnModel.getAllGridColumns();r.forEach(function(i){var o=function(d){e.getAllCellCtrls().forEach(function(p){p.getColumn()===i&&d(p)})},a=function(){o(function(d){return d.onLeftChanged()})},s=function(){o(function(d){return d.onWidthChanged()})},l=function(){o(function(d){return d.onFirstRightPinnedChanged()})},u=function(){o(function(d){return d.onLastLeftPinnedChanged()})},c=function(){o(function(d){return d.onColDefChanged()})};i.addEventListener("leftChanged",a),i.addEventListener("widthChanged",s),i.addEventListener("firstRightPinnedChanged",l),i.addEventListener("lastLeftPinnedChanged",u),i.addEventListener("colDefChanged",c),e.destroyFuncsForColumnListeners.push(function(){i.removeEventListener("leftChanged",a),i.removeEventListener("widthChanged",s),i.removeEventListener("firstRightPinnedChanged",l),i.removeEventListener("lastLeftPinnedChanged",u),i.removeEventListener("colDefChanged",c)})})},t.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsService.isDomLayout("print"),r=e||this.gridOptionsService.get("embedFullWidthRows"),i=r!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=r,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})},t.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.onPageLoaded=function(e){var r={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(r)},t.prototype.getAllCellsForColumn=function(e){var r=[];return this.getAllRowCtrls().forEach(function(i){var o=i.getCellElement(e);o&&r.push(o)}),r},t.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},t.prototype.getTopRowCtrls=function(){return this.topRowCtrls},t.prototype.getCentreRowCtrls=function(){return this.allRowCtrls},t.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},t.prototype.refreshFloatingRows=function(e,r){var i=this;e.forEach(function(o){o.destroyFirstPass(),o.destroySecondPass()}),e.length=0,r&&r.forEach(function(o){var a=new Fp(o,i.beans,!1,!1,i.printLayout);e.push(a)})},t.prototype.onPinnedRowDataChanged=function(){var e={recycleRows:!0};this.redrawAfterModelUpdate(e)},t.prototype.redrawRow=function(e,r){var i=this,o;if(r===void 0&&(r=!1),e.sticky)this.stickyRowFeature.refreshStickyNode(e);else if(!((o=this.cachedRowCtrls)===null||o===void 0)&&o.has(e)){this.cachedRowCtrls.removeRow(e);return}else{var a=function(s){var l=s[e.rowIndex];l&&l.getRowNode()===e&&(l.destroyFirstPass(),l.destroySecondPass(),s[e.rowIndex]=i.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":a(this.topRowCtrls);break;case"bottom":a(this.bottomRowCtrls);break;default:a(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}r||this.dispatchDisplayedRowsChanged(!1)},t.prototype.redrawRows=function(e){var r=this,i=e!=null;if(i){e==null||e.forEach(function(o){return r.redrawRow(o,!0)}),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()},t.prototype.getCellToRestoreFocusToAfterRefresh=function(e){var r=e!=null&&e.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(r==null)return null;var i=this.gridOptionsService.getDocument(),o=i.activeElement,a=this.gridOptionsService.getDomData(o,Hc.DOM_DATA_KEY_CELL_CTRL),s=this.gridOptionsService.getDomData(o,Fp.DOM_DATA_KEY_ROW_CTRL),l=a||s;return l?r:null},t.prototype.redrawAfterModelUpdate=function(e){e===void 0&&(e={}),this.getLockOnRefresh();var r=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);var i=!e.domLayoutChanged&&!!e.recycleRows,o=e.animate&&this.gridOptionsService.isAnimateRows(),a=i?this.getRowsToRecycle():null;i||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows(),this.recycleRows(a,o),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),r!=null&&this.restoreFocusedCell(r),this.releaseLockOnRefresh()},t.prototype.scrollToTopIfNewData=function(e){var r=e.newData||e.newPage,i=this.gridOptionsService.get("suppressScrollOnNewData");r&&!i&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},t.prototype.updateContainerHeights=function(){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}var e=this.paginationProxy.getCurrentPageHeight();e===0&&(e=1),this.rowContainerHeightService.setModelHeight(e)},t.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},t.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},t.prototype.isRefreshInProgress=function(){return this.refreshInProgress},t.prototype.restoreFocusedCell=function(e){e&&(this.focusService.setRestoreFocusedCell(e),this.onCellFocusChanged(this.beans.gridOptionsService.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"mock"})))},t.prototype.stopEditing=function(e){e===void 0&&(e=!1),this.getAllRowCtrls().forEach(function(r){r.stopEditing(e)})},t.prototype.getAllCellCtrls=function(){for(var e=[],r=this.getAllRowCtrls(),i=r.length,o=0;o<i;o++)for(var a=r[o].getAllCellCtrls(),s=a.length,l=0;l<s;l++)e.push(a[l]);return e},t.prototype.getAllRowCtrls=function(){var e,r,i=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],o=kd(kd(kd([],Nd(this.topRowCtrls),!1),Nd(this.bottomRowCtrls),!1),Nd(i),!1);try{for(var a=wke(Object.keys(this.rowCtrlsByRowIndex)),s=a.next();!s.done;s=a.next()){var l=s.value;o.push(this.rowCtrlsByRowIndex[l])}}catch(u){e={error:u}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return o},t.prototype.addRenderedRowListener=function(e,r,i){var o=this.rowCtrlsByRowIndex[r];o&&o.addEventListener(e,i)},t.prototype.flashCells=function(e){e===void 0&&(e={}),this.getCellCtrls(e.rowNodes,e.columns).forEach(function(r){return r.flashCell(e)})},t.prototype.refreshCells=function(e){var r=this;e===void 0&&(e={});var i={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.getCellCtrls(e.rowNodes,e.columns).forEach(function(o){return o.refreshOrDestroyCell(i)}),e.rowNodes&&(this.getRowCtrls(e.rowNodes).forEach(function(o){if(o.isFullWidth()){var a=o.refreshFullWidth();a||r.redrawRow(o.getRowNode(),!0)}}),this.dispatchDisplayedRowsChanged(!1))},t.prototype.getCellRendererInstances=function(e){var r=this,i,o=this.getCellCtrls(e.rowNodes,e.columns).map(function(l){return l.getCellRenderer()}).filter(function(l){return l!=null});if(!((i=e.columns)===null||i===void 0)&&i.length)return o;var a=[],s=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(function(l){if(!(s&&!r.isRowInMap(l.getRowNode(),s))&&l.isFullWidth())for(var u=l.getFullWidthCellRenderers(),c=0;c<u.length;c++){var d=u[c];d!=null&&a.push(d)}}),kd(kd([],Nd(a),!1),Nd(o),!1)},t.prototype.getCellEditorInstances=function(e){var r=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(function(i){var o=i.getCellEditor();o&&r.push(o)}),r},t.prototype.getEditingCells=function(){var e=[];return this.getAllCellCtrls().forEach(function(r){if(r.isEditing()){var i=r.getCellPosition();e.push(i)}}),e},t.prototype.mapRowNodes=function(e){if(e){var r={top:{},bottom:{},normal:{}};return e.forEach(function(i){var o=i.id;i.rowPinned==="top"?r.top[o]=i:i.rowPinned==="bottom"?r.bottom[o]=i:r.normal[o]=i}),r}},t.prototype.isRowInMap=function(e,r){var i=e.id,o=e.rowPinned;return o==="bottom"?r.bottom[i]!=null:o==="top"?r.top[i]!=null:r.normal[i]!=null},t.prototype.getRowCtrls=function(e){var r=this,i=this.mapRowNodes(e),o=this.getAllRowCtrls();return!e||!i?o:o.filter(function(a){var s=a.getRowNode();return r.isRowInMap(s,i)})},t.prototype.getCellCtrls=function(e,r){var i=this,o;ye(r)&&(o={},r.forEach(function(s){var l=i.columnModel.getGridColumn(s);ye(l)&&(o[l.getId()]=!0)}));var a=[];return this.getRowCtrls(e).forEach(function(s){s.getAllCellCtrls().forEach(function(l){var u=l.getColumn().getId(),c=o&&!o[u];c||a.push(l)})}),a},t.prototype.destroy=function(){this.removeAllRowComps(),n.prototype.destroy.call(this)},t.prototype.removeAllRowComps=function(){var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.getRowsToRecycle=function(){var e=[];no(this.rowCtrlsByRowIndex,function(i,o){var a=o.getRowNode().id==null;a&&e.push(i)}),this.removeRowCtrls(e);var r={};return no(this.rowCtrlsByRowIndex,function(i,o){var a=o.getRowNode();r[a.id]=o}),this.rowCtrlsByRowIndex={},r},t.prototype.removeRowCtrls=function(e,r){var i=this;r===void 0&&(r=!1),e.forEach(function(o){var a=i.rowCtrlsByRowIndex[o];a&&(a.destroyFirstPass(r),a.destroySecondPass()),delete i.rowCtrlsByRowIndex[o]})},t.prototype.onBodyScroll=function(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})},t.prototype.redraw=function(e){e===void 0&&(e={});var r=e.afterScroll,i;this.stickyRowFeature&&$V()&&(i=this.getCellToRestoreFocusToAfterRefresh()||void 0);var o=this.firstRenderedRow,a=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();var s=!1;this.stickyRowFeature&&(s=this.stickyRowFeature.checkStickyRows());var l=this.firstRenderedRow!==o||this.lastRenderedRow!==a;if(!(r&&!s&&!l)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,r),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(r&&!s),i!=null)){var u=this.getCellToRestoreFocusToAfterRefresh();i!=null&&u==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(i))}},t.prototype.removeRowCompsNotToDraw=function(e,r){var i={};e.forEach(function(s){return i[s]=!0});var o=Object.keys(this.rowCtrlsByRowIndex),a=o.filter(function(s){return!i[s]});this.removeRowCtrls(a,r)},t.prototype.calculateIndexesToDraw=function(e){var r=this,i=hZ(this.firstRenderedRow,this.lastRenderedRow),o=function(c,d){var p=d.getRowNode().rowIndex;p!=null&&(p<r.firstRenderedRow||p>r.lastRenderedRow)&&r.doNotUnVirtualiseRow(d)&&i.push(p)};no(this.rowCtrlsByRowIndex,o),no(e,o),i.sort(function(c,d){return c-d});for(var a=[],s=0;s<i.length;s++){var l=i[s],u=this.paginationProxy.getRow(l);u&&!u.sticky&&a.push(l)}return a},t.prototype.recycleRows=function(e,r,i){var o=this;r===void 0&&(r=!1),i===void 0&&(i=!1);var a=this.calculateIndexesToDraw(e);if((this.printLayout||i)&&(r=!1),this.removeRowCompsNotToDraw(a,!r),a.forEach(function(l){var u=o.createOrUpdateRowCtrl(l,e,r,i);ye(u)}),e){var s=i&&!this.gridOptionsService.get("suppressAnimationFrame")&&!this.printLayout;s?this.beans.animationFrameService.addDestroyTask(function(){o.destroyRowCtrls(e,r),o.updateAllRowCtrls(),o.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,r)}this.updateAllRowCtrls()},t.prototype.dispatchDisplayedRowsChanged=function(e){e===void 0&&(e=!1);var r={type:M.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:e};this.eventService.dispatchEvent(r)},t.prototype.onDisplayedColumnsChanged=function(){var e=this.columnModel.isPinningLeft(),r=this.columnModel.isPinningRight(),i=this.pinningLeft!==e||r!==this.pinningRight;i&&(this.pinningLeft=e,this.pinningRight=r,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},t.prototype.redrawFullWidthEmbeddedRows=function(){var e=[];this.getFullWidthRowCtrls().forEach(function(r){var i=r.getRowNode().rowIndex;e.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})},t.prototype.getFullWidthRowCtrls=function(e){var r=this,i=this.mapRowNodes(e);return this.getAllRowCtrls().filter(function(o){if(!o.isFullWidth())return!1;var a=o.getRowNode();return!(i!=null&&!r.isRowInMap(a,i))})},t.prototype.createOrUpdateRowCtrl=function(e,r,i,o){var a,s=this.rowCtrlsByRowIndex[e];s||(a=this.paginationProxy.getRow(e),ye(a)&&ye(r)&&r[a.id]&&a.alreadyRendered&&(s=r[a.id],r[a.id]=null));var l=!s;if(l)if(a||(a=this.paginationProxy.getRow(e)),ye(a))s=this.createRowCon(a,i,o);else return;return a&&(a.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=s,s},t.prototype.destroyRowCtrls=function(e,r){var i=this,o=[];no(e,function(a,s){if(s){if(i.cachedRowCtrls&&s.isCacheable()){i.cachedRowCtrls.addRow(s);return}s.destroyFirstPass(!r),r?(i.zombieRowCtrls[s.getInstanceId()]=s,o.push(function(){s.destroySecondPass(),delete i.zombieRowCtrls[s.getInstanceId()]})):s.destroySecondPass()}}),r&&(o.push(function(){i.updateAllRowCtrls(),i.dispatchDisplayedRowsChanged()}),TX(o))},t.prototype.getRowBuffer=function(){return this.gridOptionsService.get("rowBuffer")},t.prototype.getRowBufferInPixels=function(){var e=this.getRowBuffer(),r=this.gridOptionsService.getRowHeightAsNumber();return e*r},t.prototype.workOutFirstAndLastRowsToRender=function(){this.rowContainerHeightService.updateOffset();var e,r;if(!this.paginationProxy.isRowsToRender())e=0,r=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.paginationProxy.getPageFirstRow(),r=this.paginationProxy.getPageLastRow();else{var i=this.getRowBufferInPixels(),o=this.ctrlsService.getGridBodyCtrl(),a=this.gridOptionsService.get("suppressRowVirtualisation"),s=!1,l=void 0,u=void 0;do{var c=this.paginationProxy.getPixelOffset(),d=this.paginationProxy.getCurrentPagePixelRange(),p=d.pageFirstPixel,h=d.pageLastPixel,f=this.rowContainerHeightService.getDivStretchOffset(),v=o.getScrollFeature().getVScrollPosition(),g=v.top,m=v.bottom;a?(l=p+f,u=h+f):(l=Math.max(g+c-i,p)+f,u=Math.min(m+c+i,h)+f),this.firstVisibleVPixel=Math.max(g+c,p)+f,s=this.ensureAllRowsInRangeHaveHeightsCalculated(l,u)}while(s);var y=this.paginationProxy.getRowIndexAtPixel(l),C=this.paginationProxy.getRowIndexAtPixel(u),S=this.paginationProxy.getPageFirstRow(),w=this.paginationProxy.getPageLastRow();y<S&&(y=S),C>w&&(C=w),e=y,r=C}var _=this.gridOptionsService.isDomLayout("normal"),x=this.gridOptionsService.get("suppressMaxRenderedRowRestriction"),E=Math.max(this.getRowBuffer(),500);_&&!x&&r-e>E&&(r=e+E);var R=e!==this.firstRenderedRow,P=r!==this.lastRenderedRow;if(R||P){this.firstRenderedRow=e,this.lastRenderedRow=r;var A={type:M.EVENT_VIEWPORT_CHANGED,firstRow:e,lastRow:r};this.eventService.dispatchEvent(A)}},t.prototype.dispatchFirstDataRenderedEvent=function(){var e=this;if(!this.dataFirstRenderedFired){this.dataFirstRenderedFired=!0;var r={type:M.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(function(){e.beans.eventService.dispatchEvent(r)})}},t.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(e,r){var i=this.paginationProxy.ensureRowHeightsValid(e,r,-1,-1);return i&&this.updateContainerHeights(),i},t.prototype.getFirstVisibleVerticalPixel=function(){return this.firstVisibleVPixel},t.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},t.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},t.prototype.doNotUnVirtualiseRow=function(e){var r=!1,i=!0,o=e.getRowNode(),a=this.focusService.isRowNodeFocused(o),s=e.isEditing(),l=o.detail,u=a||s||l;if(!u)return r;var c=this.paginationProxy.isRowPresent(o);return c?i:r},t.prototype.createRowCon=function(e,r,i){var o=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(o)return o;var a=this.gridOptionsService.get("suppressAnimationFrame"),s=i&&!a&&!this.printLayout,l=new Fp(e,this.beans,r,s,this.printLayout);return l},t.prototype.getRenderedNodes=function(){var e=this.rowCtrlsByRowIndex;return Object.keys(e).map(function(r){return e[r].getRowNode()})},t.prototype.getRowByPosition=function(e){var r,i=e.rowIndex;switch(e.rowPinned){case"top":r=this.topRowCtrls[i];break;case"bottom":r=this.bottomRowCtrls[i];break;default:r=this.rowCtrlsByRowIndex[i],r||(r=this.getStickyTopRowCtrls().find(function(o){return o.getRowNode().rowIndex===i})||null);break}return r},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.isRangeInRenderedViewport=function(e,r){var i=e==null||r==null;if(i)return!1;var o=e>this.lastRenderedRow,a=r<this.firstRenderedRow,s=!a&&!o;return s},sl([O("animationFrameService")],t.prototype,"animationFrameService",void 0),sl([O("paginationProxy")],t.prototype,"paginationProxy",void 0),sl([O("columnModel")],t.prototype,"columnModel",void 0),sl([O("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),sl([O("rowModel")],t.prototype,"rowModel",void 0),sl([O("focusService")],t.prototype,"focusService",void 0),sl([O("beans")],t.prototype,"beans",void 0),sl([O("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),sl([O("ctrlsService")],t.prototype,"ctrlsService",void 0),sl([q],t.prototype,"postConstruct",null),t=sl([me("rowRenderer")],t),t}(re),_ke=function(){function n(t){this.entriesMap={},this.entriesList=[],this.maxCount=t}return n.prototype.addRow=function(t){if(this.entriesMap[t.getRowNode().id]=t,this.entriesList.push(t),t.setCached(!0),this.entriesList.length>this.maxCount){var e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}},n.prototype.getRow=function(t){if(t==null||t.id==null)return null;var e=this.entriesMap[t.id];if(!e)return null;this.removeFromCache(e),e.setCached(!1);var r=e.getRowNode()!=t;return r?null:e},n.prototype.has=function(t){return this.entriesMap[t.id]!=null},n.prototype.removeRow=function(t){var e=t.id,r=this.entriesMap[e];delete this.entriesMap[e],Jo(this.entriesList,r)},n.prototype.removeFromCache=function(t){var e=t.getRowNode().id;delete this.entriesMap[e],Jo(this.entriesList,t)},n.prototype.getEntries=function(){return this.entriesList},n}(),xke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),bU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},VQ=function(n){xke(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.formatValue=function(e,r,i,o,a){a===void 0&&(a=!0);var s=null,l,u=e.getColDef();if(o?l=o:a&&(l=u.valueFormatter),l){var c=this.gridOptionsService.addGridCommonParams({value:i,node:r,data:r?r.data:null,colDef:u,column:e});typeof l=="function"?s=l(c):s=this.expressionService.evaluate(l,c)}else if(u.refData)return u.refData[i]||"";return s==null&&Array.isArray(i)&&(s=i.join(", ")),s},bU([O("expressionService")],t.prototype,"expressionService",void 0),t=bU([me("valueFormatterService")],t),t}(re),bke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$M=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},BQ=function(n){bke(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(){var e=this;this.setPinnedTopRowData(),this.setPinnedBottomRowData(),this.addManagedPropertyListener("pinnedTopRowData",function(){return e.setPinnedTopRowData()}),this.addManagedPropertyListener("pinnedBottomRowData",function(){return e.setPinnedBottomRowData()})},t.prototype.isEmpty=function(e){var r=e==="top"?this.pinnedTopRows:this.pinnedBottomRows;return Ya(r)},t.prototype.isRowsToRender=function(e){return!this.isEmpty(e)},t.prototype.getRowAtPixel=function(e,r){var i=r==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(Ya(i))return 0;for(var o=0;o<i.length;o++){var a=i[o],s=a.rowTop+a.rowHeight-1;if(s>=e)return o}return i.length-1},t.prototype.setPinnedTopRowData=function(){var e=this.gridOptionsService.get("pinnedTopRowData");this.pinnedTopRows=this.createNodesFromData(e,!0);var r={type:M.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(r)},t.prototype.setPinnedBottomRowData=function(){var e=this.gridOptionsService.get("pinnedBottomRowData");this.pinnedBottomRows=this.createNodesFromData(e,!1);var r={type:M.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(r)},t.prototype.createNodesFromData=function(e,r){var i=this,o=[];if(e){var a=0;e.forEach(function(s,l){var u=new Ct(i.beans);u.data=s;var c=r?Ct.ID_PREFIX_TOP_PINNED:Ct.ID_PREFIX_BOTTOM_PINNED;u.id=c+l,u.rowPinned=r?"top":"bottom",u.setRowTop(a),u.setRowHeight(i.gridOptionsService.getRowHeightForNode(u).height),u.setRowIndex(l),a+=u.rowHeight,o.push(u)})}return o},t.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},t.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},t.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},t.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},t.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},t.prototype.getPinnedTopRow=function(e){return this.pinnedTopRows[e]},t.prototype.getPinnedBottomRow=function(e){return this.pinnedBottomRows[e]},t.prototype.forEachPinnedTopRow=function(e){Ya(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)},t.prototype.forEachPinnedBottomRow=function(e){Ya(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)},t.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},t.prototype.getTotalHeight=function(e){if(!e||e.length===0)return 0;var r=Yt(e);return r.rowTop+r.rowHeight},$M([O("beans")],t.prototype,"beans",void 0),$M([q],t.prototype,"init",null),t=$M([me("pinnedRowModel")],t),t}(re),Vi;(function(n){n.Applied="Applied",n.StoreNotFound="StoreNotFound",n.StoreLoading="StoreLoading",n.StoreWaitingToLoad="StoreWaitingToLoad",n.StoreLoadingFailed="StoreLoadingFailed",n.StoreWrongType="StoreWrongType",n.Cancelled="Cancelled",n.StoreNotStarted="StoreNotStarted"})(Vi||(Vi={}));var Sy=function(){function n(t,e){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=t,this.pathRoot={rowNode:e,children:null},this.mapToItems[e.id]=this.pathRoot}return n.prototype.setInactive=function(){this.active=!1},n.prototype.isActive=function(){return this.active},n.prototype.depthFirstSearchChangedPath=function(t,e){if(t.children)for(var r=0;r<t.children.length;r++)this.depthFirstSearchChangedPath(t.children[r],e);e(t.rowNode)},n.prototype.depthFirstSearchEverything=function(t,e,r){if(t.childrenAfterGroup)for(var i=0;i<t.childrenAfterGroup.length;i++){var o=t.childrenAfterGroup[i];o.childrenAfterGroup?this.depthFirstSearchEverything(t.childrenAfterGroup[i],e,r):r&&e(o)}e(t)},n.prototype.forEachChangedNodeDepthFirst=function(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1),this.active&&!r?this.depthFirstSearchChangedPath(this.pathRoot,t):this.depthFirstSearchEverything(this.pathRoot.rowNode,t,e)},n.prototype.executeFromRootNode=function(t){t(this.pathRoot.rowNode)},n.prototype.createPathItems=function(t){for(var e=t,r=0;!this.mapToItems[e.id];){var i={rowNode:e,children:null};this.mapToItems[e.id]=i,r++,e=e.parent}return r},n.prototype.populateColumnsMap=function(t,e){var r=this;if(!(!this.keepingColumns||!e))for(var i=t;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),e.forEach(function(o){return r.nodeIdsToColumns[i.id][o.getId()]=!0}),i=i.parent},n.prototype.linkPathItems=function(t,e){for(var r=t,i=0;i<e;i++){var o=this.mapToItems[r.id],a=this.mapToItems[r.parent.id];a.children||(a.children=[]),a.children.push(o),r=r.parent}},n.prototype.addParentNode=function(t,e){if(!(!t||t.isRowPinned())){var r=this.createPathItems(t);this.linkPathItems(t,r),this.populateColumnsMap(t,e)}},n.prototype.canSkip=function(t){return this.active&&!this.mapToItems[t.id]},n.prototype.getValueColumnsForNode=function(t,e){if(!this.keepingColumns)return e;var r=this.nodeIdsToColumns[t.id],i=e.filter(function(o){return r[o.getId()]});return i},n.prototype.getNotValueColumnsForNode=function(t,e){if(!this.keepingColumns)return null;var r=this.nodeIdsToColumns[t.id],i=e.filter(function(o){return!r[o.getId()]});return i},n}(),Eke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),xu=function(n){Eke(t,n);function t(e){var r=n.call(this)||this;return r.state=t.STATE_WAITING_TO_LOAD,r.version=0,r.id=e,r}return t.prototype.getId=function(){return this.id},t.prototype.load=function(){this.state=t.STATE_LOADING,this.loadFromDatasource()},t.prototype.getVersion=function(){return this.version},t.prototype.setStateWaitingToLoad=function(){this.version++,this.state=t.STATE_WAITING_TO_LOAD},t.prototype.getState=function(){return this.state},t.prototype.pageLoadFailed=function(e){var r=this.isRequestMostRecentAndLive(e);r&&(this.state=t.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},t.prototype.success=function(e,r){this.successCommon(e,r)},t.prototype.pageLoaded=function(e,r,i){this.successCommon(e,{rowData:r,rowCount:i})},t.prototype.isRequestMostRecentAndLive=function(e){var r=e===this.version,i=this.isAlive();return r&&i},t.prototype.successCommon=function(e,r){this.dispatchLoadCompleted();var i=this.isRequestMostRecentAndLive(e);i&&(this.state=t.STATE_LOADED,this.processServerResult(r))},t.prototype.dispatchLoadCompleted=function(e){e===void 0&&(e=!0);var r={type:t.EVENT_LOAD_COMPLETE,success:e,block:this};this.dispatchEvent(r)},t.EVENT_LOAD_COMPLETE="loadComplete",t.STATE_WAITING_TO_LOAD="needsLoading",t.STATE_LOADING="loading",t.STATE_LOADED="loaded",t.STATE_FAILED="failed",t}(re),Oke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Xx=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Rke=function(n,t){return function(e,r){t(e,r,n)}},wB=function(n){Oke(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.activeBlockLoadsCount=0,r.blocks=[],r.active=!0,r}e=t,t.prototype.postConstruct=function(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();var r=this.gridOptionsService.get("blockLoadDebounceMillis");r&&r>0&&(this.checkBlockToLoadDebounce=F.debounce(this.performCheckBlocksToLoad.bind(this),r))},t.prototype.setBeans=function(r){this.logger=r.create("RowNodeBlockLoader")},t.prototype.getMaxConcurrentDatasourceRequests=function(){var r=this.gridOptionsService.get("maxConcurrentDatasourceRequests");if(r==null)return 2;if(!(r<=0))return r},t.prototype.addBlock=function(r){this.blocks.push(r),r.addEventListener(xu.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},t.prototype.removeBlock=function(r){F.removeFromArray(this.blocks,r)},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.active=!1},t.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:e.BLOCK_LOADED_EVENT}),this.activeBlockLoadsCount==0&&this.dispatchEvent({type:e.BLOCK_LOADER_FINISHED_EVENT})},t.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},t.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.logger.log("checkBlockToLoad: max loads exceeded");return}var r=this.getAvailableLoadingCount(),i=this.blocks.filter(function(o){return o.getState()===xu.STATE_WAITING_TO_LOAD}).slice(0,r);this.registerLoads(i.length),i.forEach(function(o){return o.load()}),this.printCacheStatus()}},t.prototype.getBlockState=function(){if(this.gridOptionsService.isRowModelType("serverSide")){var r=this.rowModel;return r.getBlockStates()}var i={};return this.blocks.forEach(function(o){var a=o.getBlockStateJson(),s=a.id,l=a.state;i[s]=l}),i},t.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = ".concat(this.activeBlockLoadsCount,",")+" blocks = ".concat(JSON.stringify(this.getBlockState())))},t.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},t.prototype.registerLoads=function(r){this.activeBlockLoadsCount+=r},t.prototype.getAvailableLoadingCount=function(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0};var e;return t.BLOCK_LOADED_EVENT="blockLoaded",t.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",Xx([O("rowModel")],t.prototype,"rowModel",void 0),Xx([q],t.prototype,"postConstruct",null),Xx([Rke(0,es("loggerFactory"))],t.prototype,"setBeans",null),t=e=Xx([me("rowNodeBlockLoader")],t),t}(re),Tke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),WM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},jQ=function(n){Tke(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.currentPage=0,e.topDisplayedRowIndex=0,e.bottomDisplayedRowIndex=0,e.pixelOffset=0,e.masterRowCount=0,e}return t.prototype.postConstruct=function(){this.active=this.gridOptionsService.get("pagination"),this.pageSizeFromGridOptions=this.gridOptionsService.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,M.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this)),this.onModelUpdated()},t.prototype.ensureRowHeightsValid=function(e,r,i,o){var a=this.rowModel.ensureRowHeightsValid(e,r,this.getPageFirstRow(),this.getPageLastRow());return a&&this.calculatePages(),a},t.prototype.isPaginateChildRows=function(){var e=this.gridOptionsService.get("groupRemoveSingleChildren")||this.gridOptionsService.get("groupRemoveLowestSingleChildren");return e?!0:this.gridOptionsService.get("paginateChildRows")},t.prototype.onModelUpdated=function(e){this.calculatePages();var r={type:M.EVENT_PAGINATION_CHANGED,animate:e?e.animate:!1,newData:e?e.newData:!1,newPage:e?e.newPage:!1,newPageSize:e?e.newPageSize:!1,keepRenderedRows:e?e.keepRenderedRows:!1};this.eventService.dispatchEvent(r)},t.prototype.onPaginationGridOptionChanged=function(){this.active=this.gridOptionsService.get("pagination"),this.calculatePages();var e={type:M.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,newPageSize:!1,keepRenderedRows:!0};this.eventService.dispatchEvent(e)},t.prototype.onPageSizeGridOptionChanged=function(){this.setPageSize(this.gridOptionsService.get("paginationPageSize"),"gridOptions")},t.prototype.goToPage=function(e){if(!(!this.active||this.currentPage===e||typeof this.currentPage!="number")){this.currentPage=e;var r={type:M.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,newPageSize:!1};this.onModelUpdated(r)}},t.prototype.getPixelOffset=function(){return this.pixelOffset},t.prototype.getRow=function(e){return this.rowModel.getRow(e)},t.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},t.prototype.getRowIndexAtPixel=function(e){return this.rowModel.getRowIndexAtPixel(e)},t.prototype.getCurrentPageHeight=function(){return pt(this.topRowBounds)||pt(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},t.prototype.getCurrentPagePixelRange=function(){var e=this.topRowBounds?this.topRowBounds.rowTop:0,r=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:e,pageLastPixel:r}},t.prototype.isRowPresent=function(e){if(!this.rowModel.isRowPresent(e))return!1;var r=e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex;return r},t.prototype.isEmpty=function(){return this.rowModel.isEmpty()},t.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},t.prototype.forEachNode=function(e){return this.rowModel.forEachNode(e)},t.prototype.forEachNodeOnPage=function(e){for(var r=this.getPageFirstRow(),i=this.getPageLastRow(),o=r;o<=i;o++){var a=this.getRow(o);a&&e(a)}},t.prototype.getType=function(){return this.rowModel.getType()},t.prototype.getRowBounds=function(e){var r=this.rowModel.getRowBounds(e);return r.rowIndex=e,r},t.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},t.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},t.prototype.getRowCount=function(){return this.rowModel.getRowCount()},t.prototype.getPageForIndex=function(e){return Math.floor(e/this.pageSize)},t.prototype.goToPageWithIndex=function(e){if(this.active){var r=this.getPageForIndex(e);this.goToPage(r)}},t.prototype.isRowInPage=function(e){if(!this.active)return!0;var r=this.getPageForIndex(e.rowIndex);return r===this.currentPage},t.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},t.prototype.getCurrentPage=function(){return this.currentPage},t.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},t.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},t.prototype.goToFirstPage=function(){this.goToPage(0)},t.prototype.goToLastPage=function(){var e=this.rowModel.getRowCount(),r=Math.floor(e/this.pageSize);this.goToPage(r)},t.prototype.getPageSize=function(){return this.pageSize},t.prototype.getTotalPages=function(){return this.totalPages},t.prototype.setPage=function(e){this.currentPage=e},Object.defineProperty(t.prototype,"pageSize",{get:function(){return ye(this.pageSizeAutoCalculated)?this.pageSizeAutoCalculated:ye(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:ye(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:ye(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize},enumerable:!1,configurable:!0}),t.prototype.unsetAutoCalculatedPageSize=function(){if(this.pageSizeAutoCalculated!==void 0){var e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&this.onModelUpdated({type:M.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0})}},t.prototype.setPageSize=function(e,r){var i=this.pageSize;switch(r){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}if(i!==this.pageSize){var o={type:M.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0};this.onModelUpdated(o)}},t.prototype.calculatePages=function(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(ye(this.topRowBounds)?this.topRowBounds.rowTop:0)},t.prototype.setPixelOffset=function(e){this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:M.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},t.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},t.prototype.adjustCurrentPageIfInvalid=function(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)},t.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();var r=this.pageSize*this.currentPage,i=this.pageSize*(this.currentPage+1)-1;if(i>e&&(i=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(r),i===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var o=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=o-1}},t.prototype.getMasterRowCount=function(){return this.masterRowCount},t.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)},t.prototype.calculatedPagesNotActive=function(){this.setPageSize(this.masterRowCount,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},WM([O("rowModel")],t.prototype,"rowModel",void 0),WM([q],t.prototype,"postConstruct",null),t=WM([me("paginationProxy")],t),t}(re),Pke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),EU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},HQ=function(n){Pke(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.processAllCellClasses=function(e,r,i,o){this.processClassRules(void 0,e.cellClassRules,r,i,o),this.processStaticCellClasses(e,r,i)},t.prototype.processClassRules=function(e,r,i,o,a){if(!(r==null&&e==null)){var s={},l={},u=function(f,v){f.split(" ").forEach(function(g){g.trim()!=""&&v(g)})};if(r)for(var c=Object.keys(r),d=function(f){var v=c[f],g=r[v],m;typeof g=="string"?m=p.expressionService.evaluate(g,i):typeof g=="function"&&(m=g(i)),u(v,function(y){m?s[y]=!0:l[y]=!0})},p=this,h=0;h<c.length;h++)d(h);e&&a&&Object.keys(e).forEach(function(f){return u(f,function(v){s[v]||(l[v]=!0)})}),a&&Object.keys(l).forEach(a),Object.keys(s).forEach(o)}},t.prototype.getStaticCellClasses=function(e,r){var i=e.cellClass;if(!i)return[];var o;if(typeof i=="function"){var a=i;o=a(r)}else o=i;return typeof o=="string"&&(o=[o]),o||[]},t.prototype.processStaticCellClasses=function(e,r,i){var o=this.getStaticCellClasses(e,r);o.forEach(function(a){i(a)})},EU([O("expressionService")],t.prototype,"expressionService",void 0),t=EU([me("stylingService")],t),t}(re),Dke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),hD=function(n){Dke(t,n);function t(e){return n.call(this,e,"ag-toggle-button")||this}return t.prototype.setValue=function(e,r){return n.prototype.setValue.call(this,e,r),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},t}(jc),Ake=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$Q=function(n){Ake(t,n);function t(e){return n.call(this,e,"ag-text-area",null,"textarea")||this}return t.prototype.setValue=function(e,r){var i=n.prototype.setValue.call(this,e,r);return this.eInput.value=e,i},t.prototype.setCols=function(e){return this.eInput.cols=e,this},t.prototype.setRows=function(e){return this.eInput.rows=e,this},t}(gp),Mke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),_B=function(n){Mke(t,n);function t(e){return n.call(this,e,"ag-date-field","date")||this}return t.prototype.postConstruct=function(){var e=this;n.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this));var r=Zu();this.addManagedListener(this.eInput,"mousedown",function(){e.isDisabled()||r||e.eInput.focus()}),this.eInput.step="any"},t.prototype.onWheel=function(e){document.activeElement===this.eInput&&e.preventDefault()},t.prototype.setMin=function(e){var r,i=e instanceof Date?(r=Vs(e??null,!1))!==null&&r!==void 0?r:void 0:e;return this.min===i?this:(this.min=i,Uu(this.eInput,"min",i),this)},t.prototype.setMax=function(e){var r,i=e instanceof Date?(r=Vs(e??null,!1))!==null&&r!==void 0?r:void 0:e;return this.max===i?this:(this.max=i,Uu(this.eInput,"max",i),this)},t.prototype.setStep=function(e){return this.step===e?this:(this.step=e,Uu(this.eInput,"step",e),this)},t.prototype.getDate=function(){var e;if(this.eInput.validity.valid)return(e=oa(this.getValue()))!==null&&e!==void 0?e:void 0},t.prototype.setDate=function(e,r){this.setValue(Vs(e??null,!1),r)},t}(oc),Lke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),WQ=function(n){Lke(t,n);function t(e){return n.call(this,e,"ag-range-field","range")||this}return t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this);var e=this.config,r=e.min,i=e.max,o=e.step;r!=null&&this.setMinValue(r),i!=null&&this.setMaxValue(i),this.setStep(o||1)},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(r){var i=r.target.value;e.setValue(i)})},t.prototype.setMinValue=function(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this},t.prototype.setMaxValue=function(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this},t.prototype.setStep=function(e){return this.eInput.setAttribute("step",e.toString()),this},t.prototype.setValue=function(e,r){this.min!=null&&(e=Math.max(parseFloat(e),this.min).toString()),this.max!=null&&(e=Math.min(parseFloat(e),this.max).toString());var i=n.prototype.setValue.call(this,e,r);return this.eInput.value=e,i},t}(gp),Fke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),OU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ike=function(n){Fke(t,n);function t(e,r){var i=n.call(this,'<div class="ag-rich-select-row" role="presentation"></div>')||this;return i.params=e,i.wrapperEl=r,i}return t.prototype.postConstruct=function(){this.addManagedListener(this.getGui(),"click",this.onClick.bind(this))},t.prototype.setState=function(e){var r="";this.params.valueFormatter&&(r=this.params.valueFormatter(e));var i=this.populateWithRenderer(e,r);i||this.populateWithoutRenderer(e,r),this.value=e},t.prototype.highlightString=function(e){var r=this.parsedValue;if(!(this.params.cellRenderer||!ye(r))){var i=ye(e);if(i){var o=r==null?void 0:r.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(o>=0){var a=o+e.length,s=Jn(r.slice(0,o),!0),l=Jn(r.slice(o,a),!0),u=Jn(r.slice(a));this.renderValueWithoutRenderer("".concat(s,'<span class="ag-rich-select-row-text-highlight">').concat(l,"</span>").concat(u))}else i=!1}i||this.renderValueWithoutRenderer(r)}},t.prototype.updateHighlighted=function(e){var r,i=this.getGui(),o="ag-rich-select-row-".concat(this.getCompId());if((r=i.parentElement)===null||r===void 0||r.setAttribute("id",o),e){var a=this.getParentComponent().getAriaElement();LV(a,o),this.wrapperEl.setAttribute("data-active-option",o)}Jm(i.parentElement,e),this.addOrRemoveCssClass("ag-rich-select-row-selected",e)},t.prototype.populateWithoutRenderer=function(e,r){var i=this.gridOptionsService.getDocument(),o=this.getGui(),a=i.createElement("span");a.style.overflow="hidden",a.style.textOverflow="ellipsis";var s=Jn(ye(r)?r:e,!0);this.parsedValue=ye(s)?s:null,o.appendChild(a),this.renderValueWithoutRenderer(s)},t.prototype.renderValueWithoutRenderer=function(e){var r=this.getGui().querySelector("span");r&&(r.innerHTML=ye(e)?e:"&nbsp;")},t.prototype.populateWithRenderer=function(e,r){var i=this,o,a;return this.params.cellRenderer&&(a=this.userComponentFactory.getCellRendererDetails(this.params,{value:e,valueFormatted:r})),a&&(o=a.newAgStackInstance()),o&&tB(o,this.getGui()),o?(o.then(function(s){i.addDestroyFunc(function(){i.getContext().destroyBean(s)})}),!0):!1},t.prototype.onClick=function(){var e=this.getParentComponent(),r={type:M.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:!1,value:this.value};e==null||e.dispatchEvent(r)},OU([O("userComponentFactory")],t.prototype,"userComponentFactory",void 0),OU([q],t.prototype,"postConstruct",null),t}(Ce),Nke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Zx=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ev=function(n){Nke(t,n);function t(e){var r=n.call(this,t.getTemplate((e==null?void 0:e.cssIdentifier)||"default"))||this;r.renderedRows=new Map,r.rowHeight=20;var i=e||{},o=i.cssIdentifier,a=o===void 0?"default":o,s=i.ariaRole,l=s===void 0?"listbox":s,u=i.listName;return r.cssIdentifier=a,r.ariaRole=l,r.listName=u,r}return t.prototype.postConstruct=function(){var e=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(r){return e.onFocusIn(r)},onFocusOut:function(r){return e.onFocusOut(r)},focusInnerElement:function(r){return e.focusInnerElement(r)},onTabKeyDown:function(r){return e.onTabKeyDown(r)},handleKeyDown:function(r){return e.handleKeyDown(r)}}),this.setAriaProperties(),this.addManagedListener(this.eventService,M.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))},t.prototype.onGridStylesChanged=function(){this.rowHeight=this.getItemHeight(),this.refresh()},t.prototype.setAriaProperties=function(){var e=this.localeService.getLocaleTextFunc(),r=e("ariaDefaultListName",this.listName||"List"),i=this.eContainer;ri(i,this.ariaRole),ph(i,r)},t.prototype.addResizeObserver=function(){var e=this,r=function(){return e.animationFrameService.requestAnimationFrame(function(){return e.drawVirtualRows()})},i=this.resizeObserverService.observeResize(this.getGui(),r);this.addDestroyFunc(i)},t.prototype.focusInnerElement=function(e){this.focusRow(e?this.model.getRowCount()-1:0)},t.prototype.onFocusIn=function(e){var r=e.target;r.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=XX(r)-1)},t.prototype.onFocusOut=function(e){this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null)},t.prototype.handleKeyDown=function(e){switch(e.key){case K.UP:case K.DOWN:this.navigate(e.key===K.UP)&&e.preventDefault();break}},t.prototype.onTabKeyDown=function(e){this.navigate(e.shiftKey)?e.preventDefault():(Al(e),this.forceFocusOutOfContainer(e.shiftKey))},t.prototype.navigate=function(e){if(this.lastFocusedRowIndex==null)return!1;var r=this.lastFocusedRowIndex+(e?-1:1);return r<0||r>=this.model.getRowCount()?!1:(this.focusRow(r),!0)},t.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},t.prototype.focusRow=function(e){var r=this;this.ensureIndexVisible(e),window.setTimeout(function(){if(r.isAlive()){var i=r.renderedRows.get(e);i&&i.eDiv.focus()}},10)},t.prototype.getComponentAt=function(e){var r=this.renderedRows.get(e);return r&&r.rowComponent},t.prototype.forEachRenderedRow=function(e){this.renderedRows.forEach(function(r,i){return e(r.rowComponent,i)})},t.getTemplate=function(e){return'<div class="ag-virtual-list-viewport ag-'.concat(e,`-virtual-list-viewport" role="presentation">
                <div class="ag-virtual-list-container ag-`).concat(e,`-virtual-list-container" ref="eContainer"></div>
            </div>`)},t.prototype.getItemHeight=function(){return this.environment.getListItemHeight()},t.prototype.ensureIndexVisible=function(e,r){r===void 0&&(r=!0);var i=this.model.getRowCount();if(typeof e!="number"||e<0||e>=i)return console.warn("AG Grid: invalid row index for ensureIndexVisible: "+e),!1;var o=e*this.rowHeight,a=o+this.rowHeight,s=this.getGui(),l=s.scrollTop,u=s.offsetHeight,c=l+u,d=r?0:this.rowHeight,p=l>o+d,h=c<a-d;if(p)return s.scrollTop=o,!0;if(h){var f=a-u;return s.scrollTop=f,!0}return!1},t.prototype.setComponentCreator=function(e){this.componentCreator=e},t.prototype.setComponentUpdater=function(e){this.componentUpdater=e},t.prototype.getRowHeight=function(){return this.rowHeight},t.prototype.getScrollTop=function(){return this.getGui().scrollTop},t.prototype.setRowHeight=function(e){this.rowHeight=e,this.refresh()},t.prototype.refresh=function(e){var r=this;if(!(this.model==null||!this.isAlive())){var i=this.model.getRowCount();this.eContainer.style.height="".concat(i*this.rowHeight,"px"),bV(function(){return r.eContainer.clientHeight>=i*r.rowHeight},function(){r.isAlive()&&(r.canSoftRefresh(e)?r.drawVirtualRows(!0):(r.clearVirtualRows(),r.drawVirtualRows()))})}},t.prototype.canSoftRefresh=function(e){return!!(e&&this.renderedRows.size&&typeof this.model.areRowsEqual=="function"&&this.componentUpdater)},t.prototype.clearVirtualRows=function(){var e=this;this.renderedRows.forEach(function(r,i){return e.removeRow(i)})},t.prototype.drawVirtualRows=function(e){if(!(!this.isAlive()||!this.model)){var r=this.getGui(),i=r.scrollTop,o=i+r.offsetHeight,a=Math.floor(i/this.rowHeight),s=Math.floor(o/this.rowHeight);this.ensureRowsRendered(a,s,e)}},t.prototype.ensureRowsRendered=function(e,r,i){var o=this;this.renderedRows.forEach(function(s,l){(l<e||l>r)&&l!==o.lastFocusedRowIndex&&o.removeRow(l)}),i&&this.refreshRows();for(var a=e;a<=r;a++)this.renderedRows.has(a)||a<this.model.getRowCount()&&this.insertRow(a)},t.prototype.insertRow=function(e){var r=this,i=this.model.getRow(e),o=document.createElement("div");o.classList.add("ag-virtual-list-item","ag-".concat(this.cssIdentifier,"-virtual-list-item")),ri(o,this.ariaRole==="tree"?"treeitem":"option"),FV(o,this.model.getRowCount()),IV(o,e+1),o.setAttribute("tabindex","-1"),o.style.height="".concat(this.rowHeight,"px"),o.style.top="".concat(this.rowHeight*e,"px");var a=this.componentCreator(i,o);a.addGuiEventListener("focusin",function(){return r.lastFocusedRowIndex=e}),o.appendChild(a.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",o):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",o):this.eContainer.appendChild(o),this.renderedRows.set(e,{rowComponent:a,eDiv:o,value:i})},t.prototype.removeRow=function(e){var r=this.renderedRows.get(e);this.eContainer.removeChild(r.eDiv),this.destroyBean(r.rowComponent),this.renderedRows.delete(e)},t.prototype.refreshRows=function(){var e=this,r=this.model.getRowCount();this.renderedRows.forEach(function(i,o){var a,s;if(o>=r)e.removeRow(o);else{var l=e.model.getRow(o);!((s=(a=e.model).areRowsEqual)===null||s===void 0)&&s.call(a,i.value,l)?e.componentUpdater(l,i.rowComponent):e.removeRow(o)}})},t.prototype.addScrollListener=function(){var e=this;this.addGuiEventListener("scroll",function(){return e.drawVirtualRows()},{passive:!0})},t.prototype.setModel=function(e){this.model=e},t.prototype.getAriaElement=function(){return this.eContainer},t.prototype.destroy=function(){this.isAlive()&&(this.clearVirtualRows(),n.prototype.destroy.call(this))},Zx([O("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Zx([O("animationFrameService")],t.prototype,"animationFrameService",void 0),Zx([U("eContainer")],t.prototype,"eContainer",void 0),Zx([q],t.prototype,"postConstruct",null),t}(md),kke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ER=function(){return ER=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ER.apply(this,arguments)},RU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Gke=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,O_=function(n){kke(t,n);function t(e){var r=this,i,o;r=n.call(this,ER(ER({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"smallDown",ariaRole:"combobox",template:(i=e==null?void 0:e.template)!==null&&i!==void 0?i:Gke,modalPicker:!1},e),{maxPickerHeight:(o=e==null?void 0:e.maxPickerHeight)!==null&&o!==void 0?o:"calc(var(--ag-row-height) * 6.5)"}))||this,r.searchString="",r.highlightedItem=-1,r.lastRowHovered=-1,r.searchStringCreator=null;var a=e||{},s=a.cellRowHeight,l=a.value,u=a.valueList,c=a.searchStringCreator;return s!=null&&(r.cellRowHeight=s),l!==void 0&&(r.value=l),u!=null&&(r.values=u),c&&(r.searchStringCreator=c),r}return t.prototype.postConstruct=function(){var e=this;n.prototype.postConstruct.call(this),this.createLoadingElement(),this.createListComponent();var r=this.config,i=r.allowTyping,o=r.placeholder;i?(this.eInput.setAutoComplete(!1).setInputPlaceholder(o),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex");var a=this.config.searchDebounceDelay,s=a===void 0?300:a;this.clearSearchString=Ja(this.clearSearchString,s),this.renderSelectedValue(),i&&(this.eInput.onValueChange(function(l){return e.searchTextFromString(l)}),this.addManagedListener(this.eWrapper,"focus",this.onWrapperFocus.bind(this))),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))},t.prototype.createLoadingElement=function(){var e=this.gridOptionsService.getDocument(),r=this.localeService.getLocaleTextFunc(),i=e.createElement("div");i.classList.add("ag-loading-text"),i.innerText=r("loadingOoo","Loading..."),this.eLoading=i},t.prototype.createListComponent=function(){var e=this;this.listComponent=this.createBean(new Ev({cssIdentifier:"rich-select"})),this.listComponent.setComponentCreator(this.createRowComponent.bind(this));var r=function(c,d){};this.listComponent.setComponentUpdater(r),this.listComponent.setParentComponent(this),this.addManagedListener(this.listComponent,M.EVENT_FIELD_PICKER_VALUE_SELECTED,function(c){e.onListValueSelected(c.value,c.fromEnterKey)});var i=this.cellRowHeight;i&&this.listComponent.setRowHeight(i);var o=this.listComponent.getGui(),a=this.listComponent.getAriaElement();this.addManagedListener(o,"mousemove",this.onPickerMouseMove.bind(this)),this.addManagedListener(o,"mousedown",function(c){return c.preventDefault()}),o.classList.add("ag-rich-select-list");var s="ag-rich-select-list-".concat(this.listComponent.getCompId());a.setAttribute("id",s);var l=this.localeService.getLocaleTextFunc(),u=l(this.config.pickerAriaLabelKey,this.config.pickerAriaLabelValue);ph(a,u),GV(this.eWrapper,a)},t.prototype.renderSelectedValue=function(){var e=this,r=this,i=r.value,o=r.eDisplayField,a=r.config,s=this.config,l=s.allowTyping,u=s.initialInputValue,c=this.config.valueFormatter?this.config.valueFormatter(i):i;if(l){this.eInput.setValue(u??c);return}var d;a.cellRenderer&&(d=this.userComponentFactory.getCellRendererDetails(this.config,{value:i,valueFormatted:c}));var p;if(d&&(p=d.newAgStackInstance()),p)gi(o),tB(p,o),p.then(function(f){e.addDestroyFunc(function(){return e.getContext().destroyBean(f)})});else if(ye(this.value))o.innerText=c,o.classList.remove("ag-display-as-placeholder");else{var h=a.placeholder;ye(h)?(o.innerHTML="".concat(Jn(h)),o.classList.add("ag-display-as-placeholder")):gi(o)}},t.prototype.getCurrentValueIndex=function(){var e=this,r=e.currentList,i=e.value;if(i==null||!r)return-1;for(var o=0;o<r.length;o++)if(r[o]===i)return o;return-1},t.prototype.highlightFilterMatch=function(){var e=this,r;(r=this.listComponent)===null||r===void 0||r.forEachRenderedRow(function(i,o){i.highlightString(e.searchString)})},t.prototype.highlightSelectedValue=function(e){var r=this,i;e==null&&(e=this.getCurrentValueIndex()),this.highlightedItem=e,(i=this.listComponent)===null||i===void 0||i.forEachRenderedRow(function(o,a){var s=e===-1?!1:r.highlightedItem===a;o.updateHighlighted(s)})},t.prototype.setRowHeight=function(e){e!==this.cellRowHeight&&(this.cellRowHeight=e),this.listComponent&&this.listComponent.setRowHeight(e)},t.prototype.createPickerComponent=function(){var e=this.values;return e&&this.setValueList({valueList:e}),this.listComponent},t.prototype.setSearchStringCreator=function(e){this.searchStringCreator=e},t.prototype.setValueList=function(e){var r=e.valueList,i=e.refresh;this.listComponent&&this.currentList!==r&&(this.currentList=r,this.listComponent.setModel({getRowCount:function(){return r.length},getRow:function(o){return r[o]},areRowsEqual:function(o,a){return o===a}}),i&&(this.values?this.listComponent.refresh(!0):(this.values=r,this.isPickerDisplayed&&this.showCurrentValueInPicker())))},t.prototype.showPicker=function(){n.prototype.showPicker.call(this),this.showCurrentValueInPicker(),this.displayOrHidePicker()},t.prototype.showCurrentValueInPicker=function(){var e,r;if(this.listComponent){if(!this.currentList){this.isPickerDisplayed&&this.eLoading&&this.listComponent.appendChild(this.eLoading);return}!((e=this.eLoading)===null||e===void 0)&&e.offsetParent&&((r=this.eLoading.parentElement)===null||r===void 0||r.removeChild(this.eLoading));var i=this.getCurrentValueIndex();i!==-1?(this.listComponent.refresh(),this.listComponent.ensureIndexVisible(i),this.listComponent.refresh(!0),this.highlightSelectedValue(i)):this.listComponent.refresh()}},t.prototype.beforeHidePicker=function(){this.highlightedItem=-1,n.prototype.beforeHidePicker.call(this)},t.prototype.onWrapperFocus=function(){if(this.eInput){var e=this.eInput.getFocusableElement();e.focus(),e.select()}},t.prototype.onWrapperFocusOut=function(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()},t.prototype.buildSearchStringFromKeyboardEvent=function(e){var r=e.key;if(r===K.BACKSPACE)this.searchString=this.searchString.slice(0,-1),r="";else if(!oD(e))return;e.preventDefault(),this.searchTextFromCharacter(r)},t.prototype.searchTextFromCharacter=function(e){this.searchString+=e,this.runSearch(),this.clearSearchString()},t.prototype.searchTextFromString=function(e){e==null&&(e=""),this.searchString=e,this.runSearch()},t.prototype.buildSearchStrings=function(e){var r=this.config.valueFormatter,i=r===void 0?function(a){return a}:r,o;return typeof e[0]=="number"||typeof e[0]=="string"?o=e.map(function(a){return i(a)}):typeof e[0]=="object"&&this.searchStringCreator&&(o=this.searchStringCreator(e)),o},t.prototype.getSuggestionsAndFilteredValues=function(e,r){var i=this,o=[],a=[];if(!e.length)return{suggestions:o,filteredValues:a};var s=this.config,l=s.searchType,u=l===void 0?"fuzzy":l,c=s.filterList;if(u==="fuzzy"){var d=w_(this.searchString,r,!0);o=d.values;var p=d.indices;if(c&&p.length)for(var h=0;h<p.length;h++)a.push(this.values[p[h]])}else o=r.filter(function(f,v){var g=f.toLocaleLowerCase(),m=i.searchString.toLocaleLowerCase(),y=u==="match"?g.startsWith(m):g.indexOf(m)!==-1;return c&&y&&a.push(i.values[v]),y});return{suggestions:o,filteredValues:a}},t.prototype.filterListModel=function(e){var r=this.config.filterList;r&&(this.setValueList({valueList:e,refresh:!0}),this.alignPickerToComponent())},t.prototype.runSearch=function(){var e,r,i=this.values,o=this.buildSearchStrings(i);if(!o){this.highlightSelectedValue(-1);return}var a=this.getSuggestionsAndFilteredValues(this.searchString,o),s=a.suggestions,l=a.filteredValues,u=this.config,c=u.filterList,d=u.highlightMatch,p=u.searchType,h=p===void 0?"fuzzy":p,f=l.length,v=!!(c&&this.searchString!=="");if(this.filterListModel(v?l:i),s.length){var g=v?0:o.indexOf(s[0]);this.selectListItem(g)}else if(this.highlightSelectedValue(-1),!v||f)(e=this.listComponent)===null||e===void 0||e.ensureIndexVisible(0);else if(v){this.getAriaElement().removeAttribute("data-active-option");var m=(r=this.listComponent)===null||r===void 0?void 0:r.getAriaElement();m&&LV(m,null)}d&&h!=="fuzzy"&&this.highlightFilterMatch(),this.displayOrHidePicker()},t.prototype.displayOrHidePicker=function(){var e,r=(e=this.listComponent)===null||e===void 0?void 0:e.getGui(),i=this.currentList?this.currentList.length===0:!1;r==null||r.classList.toggle("ag-hidden",i)},t.prototype.clearSearchString=function(){this.searchString=""},t.prototype.selectListItem=function(e,r){if(!(!this.isPickerDisplayed||!this.currentList||!this.listComponent||e<0||e>=this.currentList.length)){var i=this.listComponent.ensureIndexVisible(e,!r);i&&!r&&this.listComponent.refresh(!0),this.highlightSelectedValue(e)}},t.prototype.setValue=function(e,r,i){var o=this.currentList?this.currentList.indexOf(e):-1;return o===-1?this:(this.value=e,i||this.selectListItem(o),this.renderSelectedValue(),n.prototype.setValue.call(this,e,r))},t.prototype.createRowComponent=function(e){var r=new Ike(this.config,this.eWrapper);r.setParentComponent(this.listComponent),this.getContext().createBean(r),r.setState(e);var i=this.config,o=i.highlightMatch,a=i.searchType,s=a===void 0?"fuzzy":a;return o&&s!=="fuzzy"&&r.highlightString(this.searchString),r},t.prototype.getRowForMouseEvent=function(e){var r=this.listComponent;if(!r)return-1;var i=r==null?void 0:r.getGui(),o=i.getBoundingClientRect(),a=r.getScrollTop(),s=e.clientY-o.top+a;return Math.floor(s/r.getRowHeight())},t.prototype.onPickerMouseMove=function(e){if(this.listComponent){var r=this.getRowForMouseEvent(e);r!==-1&&r!=this.lastRowHovered&&(this.lastRowHovered=r,this.selectListItem(r,!0))}},t.prototype.onNavigationKeyDown=function(e,r){e.preventDefault();var i=r===K.DOWN;if(!this.isPickerDisplayed&&i){this.showPicker();return}var o=this.highlightedItem,a=i?1:-1,s=o===-1?0:o+a;this.selectListItem(s)},t.prototype.onEnterKeyDown=function(e){this.isPickerDisplayed&&(e.preventDefault(),this.currentList&&this.onListValueSelected(this.currentList[this.highlightedItem],!0))},t.prototype.onTabKeyDown=function(){!this.isPickerDisplayed||!this.currentList||this.setValue(this.currentList[this.highlightedItem],!1,!0)},t.prototype.onListValueSelected=function(e,r){this.setValue(e,!1,!0),this.dispatchPickerEvent(e,r),this.hidePicker()},t.prototype.dispatchPickerEvent=function(e,r){var i={type:M.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:r,value:e};this.dispatchEvent(i)},t.prototype.getFocusableElement=function(){var e=this.config.allowTyping;return e?this.eInput.getFocusableElement():n.prototype.getFocusableElement.call(this)},t.prototype.onKeyDown=function(e){var r=e.key,i=this.config.allowTyping;switch(r){case K.LEFT:case K.RIGHT:case K.PAGE_HOME:case K.PAGE_END:i||e.preventDefault();break;case K.PAGE_UP:case K.PAGE_DOWN:e.preventDefault();break;case K.DOWN:case K.UP:this.onNavigationKeyDown(e,r);break;case K.ESCAPE:this.isPickerDisplayed&&(as(this.listComponent.getGui())&&(e.preventDefault(),Al(e)),this.hidePicker());break;case K.ENTER:this.onEnterKeyDown(e);break;case K.TAB:this.onTabKeyDown();break;default:i||this.buildSearchStringFromKeyboardEvent(e)}},t.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),this.eLoading=void 0,n.prototype.destroy.call(this)},RU([O("userComponentFactory")],t.prototype,"userComponentFactory",void 0),RU([U("eInput")],t.prototype,"eInput",void 0),t}(sD),Vke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Qx=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ua=function(n){Vke(t,n);function t(e){var r=n.call(this,e,t.TEMPLATE)||this;return r.labelAlignment="top",r}return t.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},t.prototype.onValueChange=function(e){var r=this,i=M.EVENT_FIELD_VALUE_CHANGED;return this.addManagedListener(this.eText,i,function(){var o=parseFloat(r.eText.getValue());r.eSlider.setValue(o.toString(),!0),e(o||0)}),this.addManagedListener(this.eSlider,i,function(){var o=r.eSlider.getValue();r.eText.setValue(o,!0),e(parseFloat(o))}),this},t.prototype.setSliderWidth=function(e){return this.eSlider.setWidth(e),this},t.prototype.setTextFieldWidth=function(e){return this.eText.setWidth(e),this},t.prototype.setMinValue=function(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this},t.prototype.setMaxValue=function(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this},t.prototype.getValue=function(){return this.eText.getValue()},t.prototype.setValue=function(e){return this.getValue()===e?this:(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),this.dispatchEvent({type:M.EVENT_FIELD_VALUE_CHANGED}),this)},t.prototype.setStep=function(e){return this.eSlider.setStep(e),this.eText.setStep(e),this},t.TEMPLATE=`<div class="ag-slider">
            <label ref="eLabel"></label>
            <div class="ag-wrapper ag-slider-wrapper">
                <ag-input-range ref="eSlider"></ag-input-range>
                <ag-input-number-field ref="eText"></ag-input-number-field>
            </div>
        </div>`,Qx([U("eLabel")],t.prototype,"eLabel",void 0),Qx([U("eSlider")],t.prototype,"eSlider",void 0),Qx([U("eText")],t.prototype,"eText",void 0),Qx([q],t.prototype,"init",null),t}(aD),Bke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gd=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ls=function(n){Bke(t,n);function t(e){e===void 0&&(e={});var r=n.call(this,t.getTemplate(e))||this;r.suppressEnabledCheckbox=!0,r.suppressOpenCloseIcons=!1;var i=e.title,o=e.enabled,a=e.items,s=e.suppressEnabledCheckbox,l=e.suppressOpenCloseIcons;return r.title=i,r.cssIdentifier=e.cssIdentifier||"default",r.enabled=o??!0,r.items=a||[],r.alignItems=e.alignItems||"center",s!=null&&(r.suppressEnabledCheckbox=s),l!=null&&(r.suppressOpenCloseIcons=l),r}return t.getTemplate=function(e){var r=e.cssIdentifier||"default",i=e.direction||"vertical";return'<div class="ag-group ag-'.concat(r,`-group" role="presentation">
            <div class="ag-group-title-bar ag-`).concat(r,`-group-title-bar ag-unselectable" ref="eTitleBar" role="button">
                <span class="ag-group-title-bar-icon ag-`).concat(r,`-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>
                <span class="ag-group-title-bar-icon ag-`).concat(r,`-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>
                <span ref="eTitle" class="ag-group-title ag-`).concat(r,`-group-title"></span>
            </div>
            <div ref="eToolbar" class="ag-group-toolbar ag-`).concat(r,`-group-toolbar">
                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>
            </div>
            <div ref="eContainer" class="ag-group-container ag-group-container-`).concat(i," ag-").concat(r,`-group-container"></div>
        </div>`)},t.prototype.postConstruct=function(){if(this.items.length){var e=this.items;this.items=[],this.addItems(e)}var r=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(r("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},t.prototype.setupExpandContract=function(){var e=this;this.eGroupClosedIcon.appendChild(_s("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(_s("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eTitleBar,"click",function(){return e.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(r){switch(r.key){case K.ENTER:case K.SPACE:r.preventDefault(),e.toggleGroupExpand();break;case K.RIGHT:case K.LEFT:r.preventDefault(),e.toggleGroupExpand(r.key===K.RIGHT);break}})},t.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||id(this.eTitleBar,this.expanded)},t.prototype.refreshChildDisplay=function(){var e=!this.suppressOpenCloseIcons;$t(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),$t(this.eGroupOpenedIcon,e&&this.expanded),$t(this.eGroupClosedIcon,e&&!this.expanded)},t.prototype.isExpanded=function(){return this.expanded},t.prototype.setAlignItems=function(e){this.alignItems!==e&&this.removeCssClass("ag-group-item-alignment-".concat(this.alignItems)),this.alignItems=e;var r="ag-group-item-alignment-".concat(this.alignItems);return this.addCssClass(r),this},t.prototype.toggleGroupExpand=function(e){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),$t(this.eContainer,!0),this):(e=e??!this.expanded,this.expanded===e?this:(this.expanded=e,this.refreshAriaStatus(),this.refreshChildDisplay(),$t(this.eContainer,e),this.dispatchEvent({type:this.expanded?t.EVENT_EXPANDED:t.EVENT_COLLAPSED}),this))},t.prototype.addItems=function(e){var r=this;e.forEach(function(i){return r.addItem(i)})},t.prototype.prependItem=function(e){this.insertItem(e,this.eContainer.firstChild)},t.prototype.addItem=function(e){this.insertItem(e,null)},t.prototype.insertItem=function(e,r){var i=this.eContainer,o=e instanceof Ce?e.getGui():e;o.classList.add("ag-group-item","ag-".concat(this.cssIdentifier,"-group-item")),i.insertBefore(o,r),this.items.push(o)},t.prototype.hideItem=function(e,r){var i=this.items[r];$t(i,!e)},t.prototype.setTitle=function(e){return this.eTitle.innerText=e,this},t.prototype.addCssClassToTitleBar=function(e){this.eTitleBar.classList.add(e)},t.prototype.setEnabled=function(e,r){return this.enabled=e,this.refreshDisabledStyles(),this.toggleGroupExpand(e),r||this.cbGroupEnabled.setValue(e),this},t.prototype.isEnabled=function(){return this.enabled},t.prototype.onEnableChange=function(e){var r=this;return this.cbGroupEnabled.onValueChange(function(i){r.setEnabled(i,!0),e(i)}),this},t.prototype.hideEnabledCheckbox=function(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},t.prototype.hideOpenCloseIcons=function(e){return this.suppressOpenCloseIcons=e,e&&this.toggleGroupExpand(!0),this},t.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},t.EVENT_EXPANDED="expanded",t.EVENT_COLLAPSED="collapsed",Gd([U("eTitleBar")],t.prototype,"eTitleBar",void 0),Gd([U("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),Gd([U("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),Gd([U("eToolbar")],t.prototype,"eToolbar",void 0),Gd([U("cbGroupEnabled")],t.prototype,"cbGroupEnabled",void 0),Gd([U("eTitle")],t.prototype,"eTitle",void 0),Gd([U("eContainer")],t.prototype,"eContainer",void 0),Gd([q],t.prototype,"postConstruct",null),t}(Ce),jke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),TU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},R_=function(n){jke(t,n);function t(e,r){e===void 0&&(e=0);var i=n.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return i.level=e,i.menuItems=[],i.params=r??{column:null,node:null,value:null},i}return t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(r){return e.onTabKeyDown(r)},handleKeyDown:function(r){return e.handleKeyDown(r)},onFocusIn:function(r){return e.handleFocusIn(r)},onFocusOut:function(r){return e.handleFocusOut(r)}})},t.prototype.onTabKeyDown=function(e){var r=this.getParentComponent(),i=r&&r.getGui(),o=i&&i.classList.contains("ag-focus-managed");o||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)},t.prototype.handleKeyDown=function(e){switch(e.key){case K.UP:case K.RIGHT:case K.DOWN:case K.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case K.ESCAPE:this.closeIfIsChild()&&Al(e);break}},t.prototype.handleFocusIn=function(e){var r,i,o=e.relatedTarget;!this.tabGuardCtrl.isTabGuard(o)&&(this.getGui().contains(o)||!((i=(r=this.activeMenuItem)===null||r===void 0?void 0:r.getSubMenuGui())===null||i===void 0)&&i.contains(o))||(this.activeMenuItem?this.activeMenuItem.activate():this.activateFirstItem())},t.prototype.handleFocusOut=function(e){var r,i=e.relatedTarget;!this.activeMenuItem||this.getGui().contains(i)||!((r=this.activeMenuItem.getSubMenuGui())===null||r===void 0)&&r.contains(i)||this.activeMenuItem.isSubMenuOpening()||this.activeMenuItem.deactivate()},t.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},t.prototype.addMenuItems=function(e){var r=this;e!=null&&Ot.all(e.map(function(i){return i==="separator"?Ot.resolve({eGui:r.createSeparator()}):typeof i=="string"?(console.warn("AG Grid: unrecognised menu item ".concat(i)),Ot.resolve({eGui:null})):r.addItem(i)})).then(function(i){i.forEach(function(o){o!=null&&o.eGui&&(r.appendChild(o.eGui),o.comp&&r.menuItems.push(o.comp))})})},t.prototype.addItem=function(e){var r=this,i=this.createManagedBean(new Fs);return i.init({menuItemDef:e,isAnotherSubMenuOpen:function(){return r.menuItems.some(function(o){return o.isSubMenuOpen()})},level:this.level,contextParams:this.params}).then(function(){return i.setParentComponent(r),r.addManagedListener(i,Fs.EVENT_CLOSE_MENU,function(o){r.dispatchEvent(o)}),r.addManagedListener(i,Fs.EVENT_MENU_ITEM_ACTIVATED,function(o){r.activeMenuItem&&r.activeMenuItem!==o.menuItem&&r.activeMenuItem.deactivate(),r.activeMenuItem=o.menuItem}),{comp:i,eGui:i.getGui()}})},t.prototype.activateFirstItem=function(){var e=this.menuItems.filter(function(r){return!r.isDisabled()})[0];e&&e.activate()},t.prototype.createSeparator=function(){var e=`
            <div class="ag-menu-separator" aria-hidden="true">
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
            </div>`;return aa(e)},t.prototype.handleNavKey=function(e){switch(e){case K.UP:case K.DOWN:var r=this.findNextItem(e===K.UP);r&&r!==this.activeMenuItem&&r.activate();return}var i=this.gridOptionsService.get("enableRtl")?K.RIGHT:K.LEFT;e===i?this.closeIfIsChild():this.openChild()},t.prototype.closeIfIsChild=function(e){var r=this.getParentComponent();return r&&r instanceof Fs?(e&&e.preventDefault(),r.closeSubMenu(),r.getGui().focus(),!0):!1},t.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},t.prototype.findNextItem=function(e){var r=this.menuItems.filter(function(l){return!l.isDisabled()});if(r.length){if(!this.activeMenuItem)return e?Yt(r):r[0];e&&r.reverse();for(var i,o=!1,a=0;a<r.length;a++){var s=r[a];if(!o){s===this.activeMenuItem&&(o=!0);continue}i=s;break}return o&&!i?r[0]:i||this.activeMenuItem}},t.prototype.destroy=function(){this.clearActiveItem(),n.prototype.destroy.call(this)},TU([O("focusService")],t.prototype,"focusService",void 0),TU([q],t.prototype,"postConstruct",null),t}(md),Hke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$ke=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},UQ=function(n){Hke(t,n);function t(e){var r=n.call(this)||this;return r.wrappedComponent=e,r.setTemplateFromElement(e.getGui()),r}return t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(r){return e.onTabKeyDown(r)},handleKeyDown:function(r){return e.handleKeyDown(r)}})},t.prototype.handleKeyDown=function(e){e.key===K.ESCAPE&&this.closePanel()},t.prototype.onTabKeyDown=function(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())},t.prototype.closePanel=function(){var e=this.parentComponent;e.closeSubMenu(),setTimeout(function(){return e.getGui().focus()},0)},$ke([q],t.prototype,"postConstruct",null),t}(md),Wke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),yw=function(){return yw=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},yw.apply(this,arguments)},UM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Fs=function(n){Wke(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.isActive=!1,e.subMenuIsOpen=!1,e.subMenuIsOpening=!1,e.suppressRootStyles=!0,e.suppressAria=!0,e.suppressFocus=!0,e}return t.prototype.init=function(e){var r=this,i,o,a=e.menuItemDef,s=e.isAnotherSubMenuOpen,l=e.level,u=e.childComponent,c=e.contextParams;this.params=e.menuItemDef,this.level=l,this.isAnotherSubMenuOpen=s,this.childComponent=u,this.contextParams=c,this.cssClassPrefix=(o=(i=this.params.menuItemParams)===null||i===void 0?void 0:i.cssClassPrefix)!==null&&o!==void 0?o:"ag-menu-option";var d=this.userComponentFactory.getMenuItemCompDetails(this.params,yw(yw({},a),{level:l,isAnotherSubMenuOpen:s,openSubMenu:function(p){return r.openSubMenu(p)},closeSubMenu:function(){return r.closeSubMenu()},closeMenu:function(p){return r.closeMenu(p)},updateTooltip:function(p){return r.updateTooltip(p)},onItemActivated:function(){return r.onItemActivated()}}));return d.newAgStackInstance().then(function(p){var h;r.menuItemComp=p;var f=(h=p.configureDefaults)===null||h===void 0?void 0:h.call(p);f&&r.configureDefaults(f===!0?void 0:f)})},t.prototype.addListeners=function(e,r){var i=this;r!=null&&r.suppressClick||this.addManagedListener(e,"click",function(o){return i.onItemSelected(o)}),r!=null&&r.suppressKeyboardSelect||this.addManagedListener(e,"keydown",function(o){(o.key===K.ENTER||o.key===K.SPACE)&&(o.preventDefault(),i.onItemSelected(o))}),r!=null&&r.suppressMouseDown||this.addManagedListener(e,"mousedown",function(o){o.stopPropagation(),o.preventDefault()}),r!=null&&r.suppressMouseOver||(this.addManagedListener(e,"mouseenter",function(){return i.onMouseEnter()}),this.addManagedListener(e,"mouseleave",function(){return i.onMouseLeave()}))},t.prototype.isDisabled=function(){return!!this.params.disabled},t.prototype.openSubMenu=function(e){var r=this,i,o;if(e===void 0&&(e=!1),this.closeSubMenu(),!!this.params.subMenu){this.subMenuIsOpening=!0;var a=aa('<div class="ag-menu" role="presentation"></div>');this.eSubMenuGui=a;var s,l=function(){r.subMenuIsOpening=!1};if(this.childComponent){var u=this.createBean(new UQ(this.childComponent));u.setParentComponent(this);var c=u.getGui(),d="mouseenter",p=function(){return r.cancelDeactivate()};c.addEventListener(d,p),s=function(){return c.removeEventListener(d,p)},a.appendChild(c),this.childComponent.afterGuiAttached&&(l=function(){r.childComponent.afterGuiAttached(),r.subMenuIsOpening=!1})}else if(this.params.subMenu){var h=this.createBean(new R_(this.level+1,this.contextParams));h.setParentComponent(this),h.addMenuItems(this.params.subMenu),a.appendChild(h.getGui()),this.addManagedListener(h,t.EVENT_CLOSE_MENU,function(m){return r.dispatchEvent(m)}),h.addGuiEventListener("mouseenter",function(){return r.cancelDeactivate()}),s=function(){return r.destroyBean(h)},e&&(l=function(){h.activateFirstItem(),r.subMenuIsOpening=!1})}var f=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:this.eGui,ePopup:a}),v=this.localeService.getLocaleTextFunc(),g=this.popupService.addPopup({modal:!0,eChild:a,positionCallback:f,anchorToElement:this.eGui,ariaLabel:v("ariaLabelSubMenu","SubMenu"),afterGuiAttached:l});this.subMenuIsOpen=!0,this.setAriaExpanded(!0),this.hideSubMenu=function(){var m,y;g&&g.hideFunc(),r.subMenuIsOpen=!1,r.setAriaExpanded(!1),s(),(y=(m=r.menuItemComp).setExpanded)===null||y===void 0||y.call(m,!1),r.eSubMenuGui=void 0},(o=(i=this.menuItemComp).setExpanded)===null||o===void 0||o.call(i,!0)}},t.prototype.setAriaExpanded=function(e){this.suppressAria||id(this.eGui,e)},t.prototype.closeSubMenu=function(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,this.setAriaExpanded(!1))},t.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},t.prototype.isSubMenuOpening=function(){return this.subMenuIsOpening},t.prototype.activate=function(e){var r=this,i,o;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.suppressRootStyles||this.eGui.classList.add("".concat(this.cssClassPrefix,"-active")),(o=(i=this.menuItemComp).setActive)===null||o===void 0||o.call(i,!0),this.suppressFocus||this.eGui.focus({preventScroll:!0}),e&&this.params.subMenu&&window.setTimeout(function(){r.isAlive()&&r.isActive&&r.openSubMenu()},300),this.onItemActivated())},t.prototype.deactivate=function(){var e,r;this.cancelDeactivate(),this.suppressRootStyles||this.eGui.classList.remove("".concat(this.cssClassPrefix,"-active")),(r=(e=this.menuItemComp).setActive)===null||r===void 0||r.call(e,!1),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},t.prototype.getGui=function(){return this.menuItemComp.getGui()},t.prototype.getParentComponent=function(){return this.parentComponent},t.prototype.setParentComponent=function(e){this.parentComponent=e},t.prototype.getSubMenuGui=function(){return this.eSubMenuGui},t.prototype.onItemSelected=function(e){var r=this,i,o;(o=(i=this.menuItemComp).select)===null||o===void 0||o.call(i),this.params.action?this.getFrameworkOverrides().wrapOutgoing(function(){return r.params.action(r.gridOptionsService.addGridCommonParams(yw({},r.contextParams)))}):this.openSubMenu(e&&e.type==="keydown"),!(this.params.subMenu&&!this.params.action||this.params.suppressCloseOnSelect)&&this.closeMenu(e)},t.prototype.closeMenu=function(e){var r={type:t.EVENT_CLOSE_MENU,event:e};this.dispatchEvent(r)},t.prototype.onItemActivated=function(){var e={type:t.EVENT_MENU_ITEM_ACTIVATED,menuItem:this};this.dispatchEvent(e)},t.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},t.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},t.prototype.onMouseEnter=function(){var e=this;this.cancelDeactivate(),this.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return e.activate(!0)},t.ACTIVATION_DELAY):this.activate(!0)},t.prototype.onMouseLeave=function(){var e=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return e.deactivate()},t.ACTIVATION_DELAY):this.deactivate()},t.prototype.configureDefaults=function(e){var r=this,i,o,a;if(this.tooltip=this.params.tooltip,!this.menuItemComp){setTimeout(function(){return r.configureDefaults(e)});return}var s=this.menuItemComp.getGui(),l=(o=(i=this.menuItemComp).getRootElement)===null||o===void 0?void 0:o.call(i);l&&(e!=null&&e.suppressRootStyles||s.classList.add("ag-menu-option-custom"),s=l),this.eGui=s,this.suppressRootStyles=!!(e!=null&&e.suppressRootStyles),this.suppressRootStyles||(s.classList.add(this.cssClassPrefix),(a=this.params.cssClasses)===null||a===void 0||a.forEach(function(u){return s.classList.add(u)}),this.params.disabled&&s.classList.add("".concat(this.cssClassPrefix,"-disabled"))),e!=null&&e.suppressTooltip||this.setTooltip(),this.suppressAria=!!(e!=null&&e.suppressAria),this.suppressAria||(ri(s,"treeitem"),eZ(s,this.level+1),this.params.disabled&&MV(s,!0)),e!=null&&e.suppressTabIndex||s.setAttribute("tabindex","-1"),this.params.disabled||this.addListeners(s,e),this.suppressFocus=!!(e!=null&&e.suppressFocus)},t.prototype.updateTooltip=function(e){this.tooltip=e,!this.tooltipFeature&&this.menuItemComp&&this.setTooltip()},t.prototype.setTooltip=function(){var e=this;this.tooltip&&(this.tooltipFeature=this.createManagedBean(new Ds({getGui:function(){return e.getGui()},getTooltipValue:function(){return e.tooltip},getLocation:function(){return"menu"}},this.beans)),this.tooltipFeature.setComp(this.getGui()))},t.EVENT_CLOSE_MENU="closeMenu",t.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",t.ACTIVATION_DELAY=80,UM([O("popupService")],t.prototype,"popupService",void 0),UM([O("userComponentFactory")],t.prototype,"userComponentFactory",void 0),UM([O("beans")],t.prototype,"beans",void 0),t}(re),Uke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),PC=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},xB=function(n){Uke(t,n);function t(e){var r=n.call(this,t.getTemplate(e))||this;return r.config=e,r.closable=!0,r}return t.getTemplate=function(e){var r=e.cssIdentifier||"default";return'<div class="ag-panel ag-'.concat(r,`-panel" tabindex="-1">
            <div ref="eTitleBar" class="ag-panel-title-bar ag-`).concat(r,`-panel-title-bar ag-unselectable">
                <span ref="eTitle" class="ag-panel-title-bar-title ag-`).concat(r,`-panel-title-bar-title"></span>
                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-`).concat(r,`-panel-title-bar-buttons"></div>
            </div>
            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-`).concat(r,`-panel-content-wrapper"></div>
        </div>`)},t.prototype.postConstruct=function(){var e=this,r=this.config,i=r.component,o=r.closable,a=r.hideTitleBar,s=r.title,l=r.minWidth,u=l===void 0?250:l,c=r.width,d=r.minHeight,p=d===void 0?250:d,h=r.height,f=r.centered,v=r.popup,g=r.x,m=r.y;this.positionableFeature=new __(this.getGui(),{minWidth:u,width:c,minHeight:p,height:h,centered:f,x:g,y:m,popup:v,calculateTopBuffer:function(){return e.positionableFeature.getHeight()-e.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var y=this.getGui();i&&this.setBodyComponent(i),a?$t(this.eTitleBar,!1):(s&&this.setTitle(s),this.setClosable(o??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(C){var S=e.gridOptionsService.getDocument();if(y.contains(C.relatedTarget)||y.contains(S.activeElement)||e.eTitleBarButtons.contains(C.target)){C.preventDefault();return}var w=e.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");w&&w.focus()}),!(v&&this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},t.prototype.renderComponent=function(){var e=this,r=this.getGui();r.focus(),this.close=function(){r.parentElement.removeChild(r),e.destroy()}},t.prototype.getHeight=function(){return this.positionableFeature.getHeight()},t.prototype.setHeight=function(e){this.positionableFeature.setHeight(e)},t.prototype.getWidth=function(){return this.positionableFeature.getWidth()},t.prototype.setWidth=function(e){this.positionableFeature.setWidth(e)},t.prototype.setClosable=function(e){if(e!==this.closable&&(this.closable=e),e){var r=this.closeButtonComp=new Ce(t.CLOSE_BTN_TEMPLATE);this.getContext().createBean(r);var i=r.getGui(),o=jn("close",this.gridOptionsService);o.classList.add("ag-panel-title-bar-button-icon"),i.appendChild(o),this.addTitleBarButton(r),r.addManagedListener(i,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){var i=this.closeButtonComp.getGui();i.parentElement.removeChild(i),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}},t.prototype.setBodyComponent=function(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())},t.prototype.addTitleBarButton=function(e,r){var i=this.eTitleBarButtons,o=i.children,a=o.length;r==null&&(r=a),r=Math.max(0,Math.min(r,a)),e.addCssClass("ag-panel-title-bar-button");var s=e.getGui();r===0?i.insertAdjacentElement("afterbegin",s):r===a?i.insertAdjacentElement("beforeend",s):o[r-1].insertAdjacentElement("afterend",s),e.setParentComponent(this)},t.prototype.getBodyHeight=function(){return C_(this.eContentWrapper)},t.prototype.getBodyWidth=function(){return bv(this.eContentWrapper)},t.prototype.setTitle=function(e){this.eTitle.innerText=e},t.prototype.onBtClose=function(){this.close()},t.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var e=this.getGui();e&&as(e)&&this.close(),n.prototype.destroy.call(this)},t.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',PC([U("eContentWrapper")],t.prototype,"eContentWrapper",void 0),PC([U("eTitleBar")],t.prototype,"eTitleBar",void 0),PC([U("eTitleBarButtons")],t.prototype,"eTitleBarButtons",void 0),PC([U("eTitle")],t.prototype,"eTitle",void 0),PC([q],t.prototype,"postConstruct",null),t}(Ce),zke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),OR=function(){return OR=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},OR.apply(this,arguments)},Kke=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},fv=function(n){zke(t,n);function t(e){var r=n.call(this,OR(OR({},e),{popup:!0}))||this;return r.isMaximizable=!1,r.isMaximized=!1,r.maximizeListeners=[],r.resizeListenerDestroy=null,r.lastPosition={x:0,y:0,width:0,height:0},r}return t.prototype.postConstruct=function(){var e=this,r=this.getGui(),i=this.config,o=i.movable,a=i.resizable,s=i.maximizable;this.addCssClass("ag-dialog"),n.prototype.postConstruct.call(this),this.addManagedListener(r,"focusin",function(l){r.contains(l.relatedTarget)||e.popupService.bringPopupToFront(r)}),o&&this.setMovable(o),s&&this.setMaximizable(s),a&&this.setResizable(a)},t.prototype.renderComponent=function(){var e=this.getGui(),r=this.config,i=r.alwaysOnTop,o=r.modal,a=r.title,s=r.afterGuiAttached,l=this.localeService.getLocaleTextFunc(),u=this.popupService.addPopup({modal:o,eChild:e,closeOnEsc:!0,closedCallback:this.onClosed.bind(this),alwaysOnTop:i,ariaLabel:a||l("ariaLabelDialog","Dialog"),afterGuiAttached:s});u&&(this.close=u.hideFunc)},t.prototype.onClosed=function(e){var r,i;this.destroy(),(i=(r=this.config).closedCallback)===null||i===void 0||i.call(r,e)},t.prototype.toggleMaximize=function(){var e=this.positionableFeature.getPosition();if(this.isMaximized){var r=this.lastPosition,i=r.x,o=r.y,a=r.width,s=r.height;this.setWidth(a),this.setHeight(s),this.positionableFeature.offsetElement(i,o)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=e.x,this.lastPosition.y=e.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},t.prototype.refreshMaximizeIcon=function(){$t(this.maximizeIcon,!this.isMaximized),$t(this.minimizeIcon,this.isMaximized)},t.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(e){return e()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},t.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),n.prototype.destroy.call(this)},t.prototype.setResizable=function(e){this.positionableFeature.setResizable(e)},t.prototype.setMovable=function(e){this.positionableFeature.setMovable(e,this.eTitleBar)},t.prototype.setMaximizable=function(e){var r=this;if(!e){this.clearMaximizebleListeners(),this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0);return}var i=this.eTitleBar;if(!(!i||e===this.isMaximizable)){var o=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),o.addManagedListener(o.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(o,0),this.maximizeListeners.push(this.addManagedListener(i,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){r.isMaximized=!1,r.refreshMaximizeIcon()})}},t.prototype.buildMaximizeAndMinimizeElements=function(){var e=this.maximizeButtonComp=this.createBean(new Ce('<div class="ag-dialog-button"></span>')),r=e.getGui();return this.maximizeIcon=jn("maximize",this.gridOptionsService),r.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=jn("minimize",this.gridOptionsService),r.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),e},Kke([O("popupService")],t.prototype,"popupService",void 0),t}(xB),Yke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),RR=function(){return RR=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},RR.apply(this,arguments)},DC=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},PU=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},DU=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},AU=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},np;(function(n){n[n.vertical=0]="vertical",n[n.horizontal=1]="horizontal"})(np||(np={}));var qke=0,zQ=function(n){Yke(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.popupList=[],r}e=t,t.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(i){r.gridCtrl=i.gridCtrl}),this.addManagedListener(this.eventService,M.EVENT_GRID_STYLES_CHANGED,this.handleThemeChange.bind(this))},t.prototype.getPopupParent=function(){var r=this.gridOptionsService.get("popupParent");return r||this.gridCtrl.getGui()},t.prototype.positionPopupForMenu=function(r){var i=r.eventSource,o=r.ePopup,a=this.getPopupIndex(o);if(a!==-1){var s=this.popupList[a];s.alignedToElement=i}var l=i.getBoundingClientRect(),u=this.getParentRect(),c=this.keepXYWithinBounds(o,l.top-u.top,np.vertical),d=o.clientWidth>0?o.clientWidth:200;o.style.minWidth="".concat(d,"px");var p=u.right-u.left,h=p-d,f;this.gridOptionsService.get("enableRtl")?(f=g(),f<0&&(f=v(),this.setAlignedStyles(o,"left")),f>h&&(f=0,this.setAlignedStyles(o,"right"))):(f=v(),f>h&&(f=g(),this.setAlignedStyles(o,"right")),f<0&&(f=0,this.setAlignedStyles(o,"left"))),o.style.left="".concat(f,"px"),o.style.top="".concat(c,"px");function v(){return l.right-u.left-2}function g(){return l.left-u.left-d}},t.prototype.positionPopupUnderMouseEvent=function(r){var i=this,o=r.ePopup,a=r.nudgeX,s=r.nudgeY,l=r.skipObserver;this.positionPopup({ePopup:o,nudgeX:a,nudgeY:s,keepWithinBounds:!0,skipObserver:l,updatePosition:function(){return i.calculatePointerAlign(r.mouseEvent)},postProcessCallback:function(){return i.callPostProcessPopup(r.type,r.ePopup,null,r.mouseEvent,r.column,r.rowNode)}})},t.prototype.calculatePointerAlign=function(r){var i=this.getParentRect();return{x:r.clientX-i.left,y:r.clientY-i.top}},t.prototype.positionPopupByComponent=function(r){var i=this,o=r.ePopup,a=r.nudgeX,s=r.nudgeY,l=r.keepWithinBounds,u=r.eventSource,c=r.alignSide,d=c===void 0?"left":c,p=r.position,h=p===void 0?"over":p,f=r.column,v=r.rowNode,g=r.type,m=u.getBoundingClientRect(),y=this.getParentRect(),C=this.getPopupIndex(o);if(C!==-1){var S=this.popupList[C];S.alignedToElement=u}var w=function(){var _=m.left-y.left;d==="right"&&(_-=o.offsetWidth-m.width);var x;if(h==="over")x=m.top-y.top,i.setAlignedStyles(o,"over");else{i.setAlignedStyles(o,"under");var E=i.shouldRenderUnderOrAbove(o,m,y,r.nudgeY||0);E==="under"?x=m.top-y.top+m.height:x=m.top-o.offsetHeight-(s||0)*2-y.top}return{x:_,y:x}};this.positionPopup({ePopup:o,nudgeX:a,nudgeY:s,keepWithinBounds:l,updatePosition:w,postProcessCallback:function(){return i.callPostProcessPopup(g,o,u,null,f,v)}})},t.prototype.shouldRenderUnderOrAbove=function(r,i,o,a){var s=o.bottom-i.bottom,l=i.top-o.top,u=r.offsetHeight+a;return s>u?"under":l>u||l>s?"above":"under"},t.prototype.setAlignedStyles=function(r,i){var o=this.getPopupIndex(r);if(o!==-1){var a=this.popupList[o],s=a.alignedToElement;if(s){var l=["right","left","over","above","under"];l.forEach(function(u){s.classList.remove("ag-has-popup-positioned-".concat(u)),r.classList.remove("ag-popup-positioned-".concat(u))}),i&&(s.classList.add("ag-has-popup-positioned-".concat(i)),r.classList.add("ag-popup-positioned-".concat(i)))}}},t.prototype.callPostProcessPopup=function(r,i,o,a,s,l){var u=this.gridOptionsService.getCallback("postProcessPopup");if(u){var c={column:s,rowNode:l,ePopup:i,type:r,eventSource:o,mouseEvent:a};u(c)}},t.prototype.positionPopup=function(r){var i=this,o=r.ePopup,a=r.keepWithinBounds,s=r.nudgeX,l=r.nudgeY,u=r.skipObserver,c=r.updatePosition,d={width:0,height:0},p=function(f){f===void 0&&(f=!1);var v=c(),g=v.x,m=v.y;f&&o.clientWidth===d.width&&o.clientHeight===d.height||(d.width=o.clientWidth,d.height=o.clientHeight,s&&(g+=s),l&&(m+=l),a&&(g=i.keepXYWithinBounds(o,g,np.horizontal),m=i.keepXYWithinBounds(o,m,np.vertical)),o.style.left="".concat(g,"px"),o.style.top="".concat(m,"px"),r.postProcessCallback&&r.postProcessCallback())};if(p(),!u){var h=this.resizeObserverService.observeResize(o,function(){return p(!0)});setTimeout(function(){return h()},e.WAIT_FOR_POPUP_CONTENT_RESIZE)}},t.prototype.getActivePopups=function(){return this.popupList.map(function(r){return r.element})},t.prototype.getPopupList=function(){return this.popupList},t.prototype.getParentRect=function(){var r=this.gridOptionsService.getDocument(),i=this.getPopupParent();return i===r.body?i=r.documentElement:getComputedStyle(i).position==="static"&&(i=i.offsetParent),qV(i)},t.prototype.keepXYWithinBounds=function(r,i,o){var a=o===np.vertical,s=a?"clientHeight":"clientWidth",l=a?"top":"left",u=a?"offsetHeight":"offsetWidth",c=a?"scrollTop":"scrollLeft",d=this.gridOptionsService.getDocument(),p=d.documentElement,h=this.getPopupParent(),f=h.getBoundingClientRect(),v=d.documentElement.getBoundingClientRect(),g=h===d.body,m=r[u],y=a?YV:g0,C=g?y(p)+p[c]:h[s];g&&(C-=Math.abs(v[l]-f[l]));var S=C-m;return Math.min(Math.max(i,0),Math.abs(S))},t.prototype.addPopup=function(r){var i=this.gridOptionsService.getDocument(),o=r.eChild,a=r.ariaLabel,s=r.alwaysOnTop,l=r.positionCallback,u=r.anchorToElement;if(!i)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:function(){}};var c=this.getPopupIndex(o);if(c!==-1){var d=this.popupList[c];return{hideFunc:d.hideFunc}}this.initialisePopupPosition(o);var p=this.createPopupWrapper(o,a,!!s),h=this.addEventListenersToPopup(RR(RR({},r),{wrapperEl:p}));return l&&l(),this.addPopupToPopupList(o,p,h,u),{hideFunc:h}},t.prototype.initialisePopupPosition=function(r){var i=this.getPopupParent(),o=i.getBoundingClientRect();ye(r.style.top)||(r.style.top="".concat(o.top*-1,"px")),ye(r.style.left)||(r.style.left="".concat(o.left*-1,"px"))},t.prototype.createPopupWrapper=function(r,i,o){var a,s=this.getPopupParent(),l=document.createElement("div"),u=this.environment.getTheme().allThemes;return u.length&&(a=l.classList).add.apply(a,DU([],PU(u),!1)),l.classList.add("ag-popup"),r.classList.add(this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),r.hasAttribute("role")||ri(r,"dialog"),ph(r,i),l.appendChild(r),s.appendChild(l),o?this.setAlwaysOnTop(r,!0):this.bringPopupToFront(r),l},t.prototype.handleThemeChange=function(){var r,i,o,a,s,l=this.environment.getTheme().allThemes;try{for(var u=AU(this.popupList),c=u.next();!c.done;c=u.next()){var d=c.value;try{for(var p=(o=void 0,AU(Array.from(d.wrapper.classList))),h=p.next();!h.done;h=p.next()){var f=h.value;f.startsWith("ag-theme-")&&d.wrapper.classList.remove(f)}}catch(v){o={error:v}}finally{try{h&&!h.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}l.length&&(s=d.wrapper.classList).add.apply(s,DU([],PU(l),!1))}}catch(v){r={error:v}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}},t.prototype.addEventListenersToPopup=function(r){var i=this,o=this.gridOptionsService.getDocument(),a=this.getPopupParent(),s=r.wrapperEl,l=r.eChild;r.click;var u=r.closedCallback,c=r.afterGuiAttached,d=r.closeOnEsc,p=r.modal,h=!1,f=function(y){if(s.contains(o.activeElement)){var C=y.key;C===K.ESCAPE&&!Rl(y)&&m({keyboardEvent:y})}},v=function(y){return m({mouseEvent:y})},g=function(y){return m({touchEvent:y})},m=function(y){y===void 0&&(y={});var C=y.mouseEvent,S=y.touchEvent,w=y.keyboardEvent;i.isEventFromCurrentPopup({mouseEvent:C,touchEvent:S},l)||h||(h=!0,a.removeChild(s),o.removeEventListener("keydown",f),o.removeEventListener("mousedown",v),o.removeEventListener("touchstart",g),o.removeEventListener("contextmenu",v),i.eventService.removeEventListener(M.EVENT_DRAG_STARTED,v),u&&u(C||S||w),i.removePopupFromPopupList(l))};return c&&c({hidePopup:m}),window.setTimeout(function(){d&&o.addEventListener("keydown",f),p&&(o.addEventListener("mousedown",v),i.eventService.addEventListener(M.EVENT_DRAG_STARTED,v),o.addEventListener("touchstart",g),o.addEventListener("contextmenu",v))},0),m},t.prototype.addPopupToPopupList=function(r,i,o,a){this.popupList.push({element:r,wrapper:i,hideFunc:o,instanceId:qke++,isAnchored:!!a}),a&&this.setPopupPositionRelatedToElement(r,a)},t.prototype.getPopupIndex=function(r){return this.popupList.findIndex(function(i){return i.element===r})},t.prototype.setPopupPositionRelatedToElement=function(r,i){var o=this.getPopupIndex(r);if(o!==-1){var a=this.popupList[o];if(a.stopAnchoringPromise&&a.stopAnchoringPromise.then(function(l){return l&&l()}),a.stopAnchoringPromise=void 0,a.isAnchored=!1,!!i){var s=this.keepPopupPositionedRelativeTo({element:i,ePopup:r,hidePopup:a.hideFunc});return a.stopAnchoringPromise=s,a.isAnchored=!0,s}}},t.prototype.removePopupFromPopupList=function(r){this.setAlignedStyles(r,null),this.setPopupPositionRelatedToElement(r,null),this.popupList=this.popupList.filter(function(i){return i.element!==r})},t.prototype.keepPopupPositionedRelativeTo=function(r){var i=this,o=this.getPopupParent(),a=o.getBoundingClientRect(),s=r.element,l=r.ePopup,u=s.getBoundingClientRect(),c=a.top-u.top,d=a.left-u.left,p=c,h=d,f=l.style.top,v=parseInt(f.substring(0,f.length-1),10),g=l.style.left,m=parseInt(g.substring(0,g.length-1),10);return new Ot(function(y){i.getFrameworkOverrides().setInterval(function(){var C=o.getBoundingClientRect(),S=s.getBoundingClientRect(),w=S.top==0&&S.left==0&&S.height==0&&S.width==0;if(w){r.hidePopup();return}var _=C.top-S.top;if(_!=p){var x=i.keepXYWithinBounds(l,v+c-_,np.vertical);l.style.top="".concat(x,"px")}p=_;var E=C.left-S.left;if(E!=h){var R=i.keepXYWithinBounds(l,m+d-E,np.horizontal);l.style.left="".concat(R,"px")}h=E},200).then(function(C){var S=function(){C!=null&&window.clearInterval(C)};y(S)})})},t.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(r){return r.isAnchored})},t.prototype.isEventFromCurrentPopup=function(r,i){var o=r.mouseEvent,a=r.touchEvent,s=o||a;if(!s)return!1;var l=this.getPopupIndex(i);if(l===-1)return!1;for(var u=l;u<this.popupList.length;u++){var c=this.popupList[u];if(hR(c.element,s))return!0}return this.isElementWithinCustomPopup(s.target)},t.prototype.isElementWithinCustomPopup=function(r){for(var i=this.gridOptionsService.getDocument();r&&r!==i.body;){if(r.classList.contains("ag-custom-component-popup")||r.parentElement===null)return!0;r=r.parentElement}return!1},t.prototype.getWrapper=function(r){for(;!r.classList.contains("ag-popup")&&r.parentElement;)r=r.parentElement;return r.classList.contains("ag-popup")?r:null},t.prototype.setAlwaysOnTop=function(r,i){var o=this.getWrapper(r);o&&(o.classList.toggle("ag-always-on-top",!!i),i&&this.bringPopupToFront(o))},t.prototype.bringPopupToFront=function(r){var i=this.getPopupParent(),o=Array.prototype.slice.call(i.querySelectorAll(".ag-popup")),a=o.length,s=Array.prototype.slice.call(i.querySelectorAll(".ag-popup.ag-always-on-top")),l=s.length,u=this.getWrapper(r);if(!(!u||a<=1||!i.contains(r))){var c=o.indexOf(u),d=u.querySelectorAll("div"),p=[];if(d.forEach(function(g){g.scrollTop!==0&&p.push([g,g.scrollTop])}),l){var h=u.classList.contains("ag-always-on-top");h?c!==a-1&&Yt(s).insertAdjacentElement("afterend",u):c!==a-l-1&&s[0].insertAdjacentElement("beforebegin",u)}else c!==a-1&&Yt(o).insertAdjacentElement("afterend",u);for(;p.length;){var f=p.pop();f[0].scrollTop=f[1]}var v={type:"popupToFront",eWrapper:u};this.eventService.dispatchEvent(v)}};var e;return t.WAIT_FOR_POPUP_CONTENT_RESIZE=200,DC([O("focusService")],t.prototype,"focusService",void 0),DC([O("ctrlsService")],t.prototype,"ctrlsService",void 0),DC([O("resizeObserverService")],t.prototype,"resizeObserverService",void 0),DC([q],t.prototype,"postConstruct",null),t=e=DC([me("popupService")],t),t}(re),Xke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Zke=function(n){Xke(t,n);function t(){var e=n.call(this,`
        <div class="ag-autocomplete-row" role="presentation">
            <div class="ag-autocomplete-row-label"></div>
        </div>`)||this;return e.hasHighlighting=!1,e}return t.prototype.setState=function(e,r){this.value=e,this.render(),this.updateSelected(r)},t.prototype.updateSelected=function(e){this.addOrRemoveCssClass("ag-autocomplete-row-selected",e)},t.prototype.setSearchString=function(e){var r,i=!1;if(ye(e)){var o=(r=this.value)===null||r===void 0?void 0:r.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(o>=0){i=!0,this.hasHighlighting=!0;var a=o+e.length,s=Jn(this.value.slice(0,o)),l=Jn(this.value.slice(o,a)),u=Jn(this.value.slice(a));this.getGui().lastElementChild.innerHTML="".concat(s,"<b>").concat(l,"</b>").concat(u)}}!i&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())},t.prototype.render=function(){var e;this.getGui().lastElementChild.innerHTML=(e=Jn(this.value))!==null&&e!==void 0?e:"&nbsp;"},t}(Ce),Qke=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),MU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Jke=function(n){Qke(t,n);function t(e){var r=n.call(this,t.TEMPLATE)||this;return r.params=e,r.searchString="",r}return t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(){var e=this;this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new Ev({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:function(){return e.autocompleteEntries.length},getRow:function(i){return e.autocompleteEntries[i]}});var r=this.virtualList.getGui();this.addManagedListener(r,"click",function(){return e.params.onConfirmed()}),this.addManagedListener(r,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(r,"mousedown",function(i){return i.preventDefault()}),this.setSelectedValue(0)},t.prototype.onNavigationKeyDown=function(e,r){e.preventDefault();var i=this.autocompleteEntries.indexOf(this.selectedValue),o=r===K.UP?i-1:i+1;this.checkSetSelectedValue(o)},t.prototype.setSearch=function(e){this.searchString=e,ye(e)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()},t.prototype.runContainsSearch=function(e,r){var i,o=!1,a=e.toLocaleLowerCase(),s=r.filter(function(l){var u=l.toLocaleLowerCase(),c=u.indexOf(a),d=c===0,p=c>=0;return p&&(!i||!o&&d||o===d&&l.length<i.length)&&(i=l,o=d),p});return!i&&s.length&&(i=s[0]),{topMatch:i,allMatches:s}},t.prototype.runSearch=function(){var e,r,i=this.params.autocompleteEntries,o=i.map(function(d){var p;return(p=d.displayValue)!==null&&p!==void 0?p:d.key}),a,s;if(this.params.useFuzzySearch)a=w_(this.searchString,o,!0).values,s=a.length?a[0]:void 0;else{var l=this.runContainsSearch(this.searchString,o);a=l.allMatches,s=l.topMatch}var u=i.filter(function(d){var p=d.key,h=d.displayValue;return a.includes(h??p)});if(!u.length&&this.selectedValue&&(!((r=(e=this.params)===null||e===void 0?void 0:e.forceLastSelection)===null||r===void 0)&&r.call(e,this.selectedValue,this.searchString))&&(u=[this.selectedValue]),this.autocompleteEntries=u,this.virtualList.refresh(),!!s){var c=a.indexOf(s);this.checkSetSelectedValue(c)}},t.prototype.updateSearchInList=function(){var e=this;this.virtualList.forEachRenderedRow(function(r){return r.setSearchString(e.searchString)})},t.prototype.checkSetSelectedValue=function(e){e>=0&&e<this.autocompleteEntries.length&&this.setSelectedValue(e)},t.prototype.setSelectedValue=function(e){var r=this.autocompleteEntries[e];this.selectedValue!==r&&(this.selectedValue=r,this.virtualList.ensureIndexVisible(e),this.virtualList.forEachRenderedRow(function(i,o){i.updateSelected(e===o)}))},t.prototype.createRowComponent=function(e){var r,i=new Zke;return this.getContext().createBean(i),i.setState((r=e.displayValue)!==null&&r!==void 0?r:e.key,e===this.selectedValue),i},t.prototype.onMouseMove=function(e){var r=this.virtualList.getGui().getBoundingClientRect(),i=this.virtualList.getScrollTop(),o=e.clientY-r.top+i,a=Math.floor(o/this.virtualList.getRowHeight());this.checkSetSelectedValue(a)},t.prototype.afterGuiAttached=function(){this.virtualList.refresh()},t.prototype.getSelectedValue=function(){var e;return this.autocompleteEntries.length&&(e=this.selectedValue)!==null&&e!==void 0?e:null},t.TEMPLATE=`<div class="ag-autocomplete-list-popup">
            <div ref="eList" class="ag-autocomplete-list"></div>
        <div>`,MU([U("eList")],t.prototype,"eList",void 0),MU([q],t.prototype,"init",null),t}(gd),eGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},zg=function(n){eGe(t,n);function t(){var e=n.call(this,`
            <div class="ag-autocomplete" role="presentation">
                <ag-input-text-field ref="eAutocompleteInput"></ag-input-text-field>
            </div>`)||this;return e.isListOpen=!1,e.lastPosition=0,e.valid=!0,e}return t.prototype.postConstruct=function(){var e=this;this.eAutocompleteInput.onValueChange(function(r){return e.onValueChanged(r)}),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc(function(){e.destroyBean(e.autocompleteList)}),this.addGuiEventListener("focusout",function(){return e.onFocusOut()})},t.prototype.onValueChanged=function(e){var r=Wu(e);this.updateValue(r),this.updateAutocompleteList(r)},t.prototype.updateValue=function(e){this.updateLastPosition(),this.dispatchEvent({type:t.EVENT_VALUE_CHANGED,value:e}),this.validate(e)},t.prototype.updateAutocompleteList=function(e){var r,i,o,a,s=(i=(r=this.listGenerator)===null||r===void 0?void 0:r.call(this,e,this.lastPosition))!==null&&i!==void 0?i:{enabled:!1};if((!s.type||s.type!==((o=this.autocompleteListParams)===null||o===void 0?void 0:o.type))&&this.isListOpen&&this.closeList(),this.autocompleteListParams=s,!((a=this.autocompleteListParams)===null||a===void 0)&&a.enabled){this.isListOpen||this.openList();var l=this.autocompleteListParams.searchString;this.autocompleteList.setSearch(l??"")}else this.isListOpen&&this.closeList()},t.prototype.onKeyDown=function(e){var r=this,i=e.key;switch(this.updateLastPosition(),i){case K.ENTER:this.onEnterKeyDown(e);break;case K.TAB:this.onTabKeyDown(e);break;case K.DOWN:case K.UP:this.onUpDownKeyDown(e,i);break;case K.LEFT:case K.RIGHT:case K.PAGE_HOME:case K.PAGE_END:setTimeout(function(){r.updatePositionAndList()});break;case K.ESCAPE:this.onEscapeKeyDown(e);break;case K.SPACE:e.ctrlKey&&!this.isListOpen&&(e.preventDefault(),this.forceOpenList());break}},t.prototype.confirmSelection=function(){var e,r=(e=this.autocompleteList)===null||e===void 0?void 0:e.getSelectedValue();r&&(this.closeList(),this.dispatchEvent({type:t.EVENT_OPTION_SELECTED,value:this.getValue(),position:this.lastPosition,updateEntry:r,autocompleteType:this.autocompleteListParams.type}))},t.prototype.onTabKeyDown=function(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.confirmSelection())},t.prototype.onEnterKeyDown=function(e){e.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()},t.prototype.onUpDownKeyDown=function(e,r){var i;e.preventDefault(),this.isListOpen?(i=this.autocompleteList)===null||i===void 0||i.onNavigationKeyDown(e,r):this.forceOpenList()},t.prototype.onEscapeKeyDown=function(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))},t.prototype.onFocusOut=function(){this.isListOpen&&this.closeList()},t.prototype.updatePositionAndList=function(){var e;this.updateLastPosition(),this.updateAutocompleteList((e=this.eAutocompleteInput.getValue())!==null&&e!==void 0?e:null)},t.prototype.setCaret=function(e,r){var i=this.gridOptionsService.getDocument();r&&i.activeElement===i.body&&this.eAutocompleteInput.getFocusableElement().focus();var o=this.eAutocompleteInput.getInputElement();o.setSelectionRange(e,e),e===o.value.length&&(o.scrollLeft=o.scrollWidth)},t.prototype.forceOpenList=function(){this.onValueChanged(this.eAutocompleteInput.getValue())},t.prototype.updateLastPosition=function(){var e;this.lastPosition=(e=this.eAutocompleteInput.getInputElement().selectionStart)!==null&&e!==void 0?e:0},t.prototype.validate=function(e){var r;this.validator&&(this.validationMessage=this.validator(e),this.eAutocompleteInput.getInputElement().setCustomValidity((r=this.validationMessage)!==null&&r!==void 0?r:""),this.valid=!this.validationMessage,this.dispatchEvent({type:t.EVENT_VALID_CHANGED,isValid:this.valid,validationMessage:this.validationMessage}))},t.prototype.openList=function(){var e=this;this.isListOpen=!0,this.autocompleteList=this.createBean(new Jke({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:function(){return e.confirmSelection()},forceLastSelection:this.forceLastSelection}));var r=this.autocompleteList.getGui(),i={ePopup:r,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gridOptionsService.get("enableRtl")?"right":"left",keepWithinBounds:!0},o=this.popupService.addPopup({eChild:r,anchorToElement:this.getGui(),positionCallback:function(){return e.popupService.positionPopupByComponent(i)},ariaLabel:this.listAriaLabel});this.hidePopup=o.hideFunc,this.autocompleteList.afterGuiAttached()},t.prototype.closeList=function(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null},t.prototype.onCompleted=function(){this.isListOpen&&this.closeList(),this.dispatchEvent({type:t.EVENT_VALUE_CONFIRMED,value:this.getValue(),isValid:this.isValid()})},t.prototype.getValue=function(){return Wu(this.eAutocompleteInput.getValue())},t.prototype.setInputPlaceholder=function(e){return this.eAutocompleteInput.setInputPlaceholder(e),this},t.prototype.setInputAriaLabel=function(e){return this.eAutocompleteInput.setInputAriaLabel(e),this},t.prototype.setListAriaLabel=function(e){return this.listAriaLabel=e,this},t.prototype.setListGenerator=function(e){return this.listGenerator=e,this},t.prototype.setValidator=function(e){return this.validator=e,this},t.prototype.isValid=function(){return this.valid},t.prototype.setValue=function(e){var r=e.value,i=e.position,o=e.silent,a=e.updateListOnlyIfOpen,s=e.restoreFocus;this.eAutocompleteInput.setValue(r,!0),this.setCaret(i??this.lastPosition,s),o||this.updateValue(r),(!a||this.isListOpen)&&this.updateAutocompleteList(r)},t.prototype.setForceLastSelection=function(e){return this.forceLastSelection=e,this},t.prototype.setInputDisabled=function(e){return this.eAutocompleteInput.setDisabled(e),this},t.EVENT_VALUE_CHANGED="eventValueChanged",t.EVENT_VALUE_CONFIRMED="eventValueConfirmed",t.EVENT_OPTION_SELECTED="eventOptionSelected",t.EVENT_VALID_CHANGED="eventValidChanged",zM([O("popupService")],t.prototype,"popupService",void 0),zM([U("eAutocompleteInput")],t.prototype,"eAutocompleteInput",void 0),zM([q],t.prototype,"postConstruct",null),t}(Ce),tGe=["touchstart","touchend","touchmove","touchcancel"],KQ=function(){function n(t){t===void 0&&(t="javascript"),this.frameworkName=t,this.renderingEngine="vanilla",this.wrapIncoming=function(e){return e()},this.wrapOutgoing=function(e){return e()}}return n.prototype.setInterval=function(t,e){return new Ot(function(r){r(window.setInterval(t,e))})},n.prototype.addEventListener=function(t,e,r,i){var o=Ol(tGe,e);t.addEventListener(e,r,{capture:!!i,passive:o})},Object.defineProperty(n.prototype,"shouldWrapOutgoing",{get:function(){return!1},enumerable:!1,configurable:!0}),n.prototype.frameworkComponent=function(t){return null},n.prototype.isFrameworkComponent=function(t){return!1},n.prototype.getDocLink=function(t){var e=this.frameworkName==="solid"?"react":this.frameworkName;return"https://www.ag-grid.com/".concat(e,"-data-grid").concat(t?"/".concat(t):"")},n}(),rGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Zv=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},nGe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},iGe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},YQ=function(n){rGe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getNextCellToFocus=function(e,r,i){return i===void 0&&(i=!1),i?this.getNextCellToFocusWithCtrlPressed(e,r):this.getNextCellToFocusWithoutCtrlPressed(e,r)},t.prototype.getNextCellToFocusWithCtrlPressed=function(e,r){var i=e===K.UP,o=e===K.DOWN,a=e===K.LEFT,s,l;if(i||o)l=i?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),s=r.column;else{var u=this.columnModel.getAllDisplayedColumns(),c=this.gridOptionsService.get("enableRtl");l=r.rowIndex,s=a!==c?u[0]:Yt(u)}return{rowIndex:l,rowPinned:null,column:s}},t.prototype.getNextCellToFocusWithoutCtrlPressed=function(e,r){for(var i=r,o=!1;!o;){switch(e){case K.UP:i=this.getCellAbove(i);break;case K.DOWN:i=this.getCellBelow(i);break;case K.RIGHT:this.gridOptionsService.get("enableRtl")?i=this.getCellToLeft(i):i=this.getCellToRight(i);break;case K.LEFT:this.gridOptionsService.get("enableRtl")?i=this.getCellToRight(i):i=this.getCellToLeft(i);break;default:i=null,console.warn("AG Grid: unknown key for navigation "+e);break}i?o=this.isCellGoodToFocusOn(i):o=!0}return i},t.prototype.isCellGoodToFocusOn=function(e){var r=e.column,i;switch(e.rowPinned){case"top":i=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":i=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:i=this.rowModel.getRow(e.rowIndex);break}if(!i)return!1;var o=r.isSuppressNavigable(i);return!o},t.prototype.getCellToLeft=function(e){if(!e)return null;var r=this.columnModel.getDisplayedColBefore(e.column);return r?{rowIndex:e.rowIndex,column:r,rowPinned:e.rowPinned}:null},t.prototype.getCellToRight=function(e){if(!e)return null;var r=this.columnModel.getDisplayedColAfter(e.column);return r?{rowIndex:e.rowIndex,column:r,rowPinned:e.rowPinned}:null},t.prototype.getRowBelow=function(e){var r=e.rowIndex,i=e.rowPinned;if(this.isLastRowInContainer(e))switch(i){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}var o=this.rowModel.getRow(e.rowIndex),a=this.getNextStickyPosition(o);return a||{rowIndex:r+1,rowPinned:i}},t.prototype.getNextStickyPosition=function(e,r){if(!(!this.gridOptionsService.isGroupRowsSticky()||!e||!e.sticky)){var i=iGe([],nGe(this.rowRenderer.getStickyTopRowCtrls()),!1).sort(function(l,u){return l.getRowNode().rowIndex-u.getRowNode().rowIndex}),o=r?-1:1,a=i.findIndex(function(l){return l.getRowNode().rowIndex===e.rowIndex}),s=i[a+o];if(s)return{rowIndex:s.getRowNode().rowIndex,rowPinned:null}}},t.prototype.getCellBelow=function(e){if(!e)return null;var r=this.getRowBelow(e);return r?{rowIndex:r.rowIndex,column:e.column,rowPinned:r.rowPinned}:null},t.prototype.isLastRowInContainer=function(e){var r=e.rowPinned,i=e.rowIndex;if(r==="top"){var o=this.pinnedRowModel.getPinnedTopRowData().length-1;return o<=i}if(r==="bottom"){var a=this.pinnedRowModel.getPinnedBottomRowData().length-1;return a<=i}var s=this.paginationProxy.getPageLastRow();return s<=i},t.prototype.getRowAbove=function(e){var r=e.rowIndex,i=e.rowPinned,o=i?r===0:r===this.paginationProxy.getPageFirstRow();if(o)return i==="top"?null:i?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;var a=this.rowModel.getRow(e.rowIndex),s=this.getNextStickyPosition(a,!0);return s||{rowIndex:r-1,rowPinned:i}},t.prototype.getCellAbove=function(e){if(!e)return null;var r=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return r?{rowIndex:r.rowIndex,column:e.column,rowPinned:r.rowPinned}:null},t.prototype.getLastBodyCell=function(){var e=this.paginationProxy.getPageLastRow();return{rowIndex:e,rowPinned:null}},t.prototype.getLastFloatingTopRow=function(){var e=this.pinnedRowModel.getPinnedTopRowData().length-1;return{rowIndex:e,rowPinned:"top"}},t.prototype.getNextTabbedCell=function(e,r){return r?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)},t.prototype.getNextTabbedCellForwards=function(e){var r=this.columnModel.getAllDisplayedColumns(),i=e.rowIndex,o=e.rowPinned,a=this.columnModel.getDisplayedColAfter(e.column);if(!a){a=r[0];var s=this.getRowBelow(e);if(pt(s)||!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;i=s?s.rowIndex:null,o=s?s.rowPinned:null}return{rowIndex:i,column:a,rowPinned:o}},t.prototype.getNextTabbedCellBackwards=function(e){var r=this.columnModel.getAllDisplayedColumns(),i=e.rowIndex,o=e.rowPinned,a=this.columnModel.getDisplayedColBefore(e.column);if(!a){a=Yt(r);var s=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(pt(s)||!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;i=s?s.rowIndex:null,o=s?s.rowPinned:null}return{rowIndex:i,column:a,rowPinned:o}},Zv([O("columnModel")],t.prototype,"columnModel",void 0),Zv([O("rowModel")],t.prototype,"rowModel",void 0),Zv([O("rowRenderer")],t.prototype,"rowRenderer",void 0),Zv([O("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Zv([O("paginationProxy")],t.prototype,"paginationProxy",void 0),t=Zv([me("cellNavigationService")],t),t}(re),oGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),AC=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},aGe=function(n,t){return function(e,r){t(e,r,n)}},qQ=function(n){oGe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.consuming=!1,e}return t.prototype.setBeans=function(e){this.logger=e.create("AlignedGridsService")},t.prototype.getAlignedGridApis=function(){var e=this,r,i=(r=this.gridOptionsService.get("alignedGrids"))!==null&&r!==void 0?r:[],o=typeof i=="function";typeof i=="function"&&(i=i());var a=function(){return"See ".concat(e.getFrameworkOverrides().getDocLink("aligned-grids"))},s=i.map(function(l){var u;if(!l){_l("alignedGrids contains an undefined option."),o||_l(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),_l(a());return}if(l instanceof pB)return l;var c=l;return"current"in c?(u=c.current)===null||u===void 0?void 0:u.api:(c.api||_l("alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ".concat(a())),c.api)}).filter(function(l){return!!l&&!l.isDestroyed()});return s},t.prototype.init=function(){this.addManagedListener(this.eventService,M.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,M.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},t.prototype.fireEvent=function(e){this.consuming||this.getAlignedGridApis().forEach(function(r){var i=r.__getAlignedGridService();e(i)})},t.prototype.onEvent=function(e){this.consuming=!0,e(),this.consuming=!1},t.prototype.fireColumnEvent=function(e){this.fireEvent(function(r){r.onColumnEvent(e)})},t.prototype.fireScrollEvent=function(e){e.direction==="horizontal"&&this.fireEvent(function(r){r.onScrollEvent(e)})},t.prototype.onScrollEvent=function(e){var r=this;this.onEvent(function(){var i=r.ctrlsService.getGridBodyCtrl();i.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})},t.prototype.getMasterColumns=function(e){var r=[];return e.columns?e.columns.forEach(function(i){r.push(i)}):e.column&&r.push(e.column),r},t.prototype.getColumnIds=function(e){var r=[];return e.columns?e.columns.forEach(function(i){r.push(i.getColId())}):e.column&&r.push(e.column.getColId()),r},t.prototype.onColumnEvent=function(e){var r=this;this.onEvent(function(){switch(e.type){case M.EVENT_COLUMN_MOVED:case M.EVENT_COLUMN_VISIBLE:case M.EVENT_COLUMN_PINNED:case M.EVENT_COLUMN_RESIZED:var i=e;r.processColumnEvent(i);break;case M.EVENT_COLUMN_GROUP_OPENED:var o=e;r.processGroupOpenedEvent(o);break;case M.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})},t.prototype.processGroupOpenedEvent=function(e){var r=this;e.columnGroups.forEach(function(i){var o=null;if(i){var a=i.getGroupId();o=r.columnModel.getProvidedColumnGroup(a)}i&&!o||(r.logger.log("onColumnEvent-> processing "+e+" expanded = "+i.isExpanded()),r.columnModel.setColumnGroupOpened(o,i.isExpanded(),"alignedGridChanged"))})},t.prototype.processColumnEvent=function(e){var r=this,i,o=e.column,a=null;if(o&&(a=this.columnModel.getPrimaryColumn(o.getColId())),!(o&&!a)){var s=this.getMasterColumns(e);switch(e.type){case M.EVENT_COLUMN_MOVED:{var l=e,u=e.api.getColumnState(),c=u.map(function(m){return{colId:m.colId}});this.columnModel.applyColumnState({state:c,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(e.type," toIndex = ").concat(l.toIndex))}break;case M.EVENT_COLUMN_VISIBLE:{var d=e,u=e.api.getColumnState(),c=u.map(function(C){return{colId:C.colId,hide:C.hide}});this.columnModel.applyColumnState({state:c},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(e.type," visible = ").concat(d.visible))}break;case M.EVENT_COLUMN_PINNED:{var p=e,u=e.api.getColumnState(),c=u.map(function(C){return{colId:C.colId,pinned:C.pinned}});this.columnModel.applyColumnState({state:c},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(e.type," pinned = ").concat(p.pinned))}break;case M.EVENT_COLUMN_RESIZED:var h=e,f={};s.forEach(function(m){r.logger.log("onColumnEvent-> processing ".concat(e.type," actualWidth = ").concat(m.getActualWidth())),f[m.getId()]={key:m.getColId(),newWidth:m.getActualWidth()}}),(i=h.flexColumns)===null||i===void 0||i.forEach(function(m){f[m.getId()]&&delete f[m.getId()]}),this.columnModel.setColumnWidths(Object.values(f),!1,h.finished,"alignedGridChanged");break}var v=this.ctrlsService.getGridBodyCtrl(),g=v.isVerticalScrollShowing();this.getAlignedGridApis().forEach(function(m){m.setGridOption("alwaysShowVerticalScroll",g)})}},AC([O("columnModel")],t.prototype,"columnModel",void 0),AC([O("ctrlsService")],t.prototype,"ctrlsService",void 0),AC([aGe(0,es("loggerFactory"))],t.prototype,"setBeans",null),AC([q],t.prototype,"init",null),t=AC([me("alignedGridsService")],t),t}(re),sGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Jx=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},XQ=function(n){sGe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.selectedNodes=new Map,e.lastRowNode=null,e}return t.prototype.init=function(){var e=this;this.rowSelection=this.gridOptionsService.get("rowSelection"),this.groupSelectsChildren=this.gridOptionsService.get("groupSelectsChildren"),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],function(){e.groupSelectsChildren=e.gridOptionsService.get("groupSelectsChildren"),e.rowSelection=e.gridOptionsService.get("rowSelection"),e.deselectAllRowNodes({source:"api"})}),this.addManagedListener(this.eventService,M.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.resetNodes(),this.lastRowNode=null},t.prototype.isMultiselect=function(){return this.rowSelection==="multiple"},t.prototype.setNodesSelected=function(e){var r,i=e.newValue,o=e.clearSelection,a=e.suppressFinishActions,s=e.rangeSelect,l=e.nodes,u=e.event,c=e.source,d=c===void 0?"api":c;if(l.length===0)return 0;if(l.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;var p=this.groupSelectsChildren&&e.groupSelectsFiltered===!0,h=l.map(function(E){return E.footer?E.sibling:E});if(s){if(l.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;var f=null;if(d==="checkboxSelected"&&i===!1&&this.lastRowNode&&(this.lastRowNode.id?f=this.lastRowNode:this.lastRowNode=null),f==null&&(f=this.getLastSelectedNode()),f){var v=h[0],g=v!==f;if(g&&this.isMultiselect())return this.selectRange(v,f,i,d)}}this.lastRowNode=i?null:h[0];for(var m=0,y=0;y<h.length;y++){var C=h[y],S=p&&C.group;if(!S){var w=C.selectThisNode(i,u,d);w&&m++}this.groupSelectsChildren&&(!((r=C.childrenAfterGroup)===null||r===void 0)&&r.length)&&(m+=this.selectChildren(C,i,p,d))}if(!a){var _=i&&(o||!this.isMultiselect());if(_&&(m+=this.clearOtherNodes(h[0],d)),m>0){this.updateGroupsFromChildrenSelections(d);var x={type:M.EVENT_SELECTION_CHANGED,source:d};this.eventService.dispatchEvent(x)}}return m},t.prototype.selectRange=function(e,r,i,o){var a=this;i===void 0&&(i=!0);var s=this.rowModel.getNodesInRangeForSelection(e,r),l=0;s.forEach(function(c){if(!(c.group&&a.groupSelectsChildren)){var d=c.selectThisNode(i,void 0,o);d&&l++}}),this.updateGroupsFromChildrenSelections(o);var u={type:M.EVENT_SELECTION_CHANGED,source:o};return this.eventService.dispatchEvent(u),l},t.prototype.selectChildren=function(e,r,i,o){var a=i?e.childrenAfterAggFilter:e.childrenAfterGroup;return pt(a)?0:this.setNodesSelected({newValue:r,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:i,source:o,nodes:a})},t.prototype.getLastSelectedNode=function(){var e=Array.from(this.selectedNodes.keys());if(e.length==0)return null;var r=this.selectedNodes.get(Yt(e));return r||null},t.prototype.getSelectedNodes=function(){var e=[];return this.selectedNodes.forEach(function(r){r&&e.push(r)}),e},t.prototype.getSelectedRows=function(){var e=[];return this.selectedNodes.forEach(function(r){r&&r.data&&e.push(r.data)}),e},t.prototype.getSelectionCount=function(){return this.selectedNodes.size},t.prototype.filterFromSelection=function(e){var r=new Map;this.selectedNodes.forEach(function(i,o){var a=i&&e(i);a&&r.set(o,i)}),this.selectedNodes=r},t.prototype.updateGroupsFromChildrenSelections=function(e,r){if(!this.groupSelectsChildren||this.rowModel.getType()!=="clientSide")return!1;var i=this.rowModel,o=i.getRootNode();r||(r=new Sy(!0,o),r.setInactive());var a=!1;return r.forEachChangedNodeDepthFirst(function(s){if(s!==o){var l=s.calculateSelectedFromChildren();a=s.selectThisNode(l===null?!1:l,void 0,e)||a}}),a},t.prototype.clearOtherNodes=function(e,r){var i=this,o=new Map,a=0;return this.selectedNodes.forEach(function(s){if(s&&s.id!==e.id){var l=i.selectedNodes.get(s.id);a+=l.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:r}),i.groupSelectsChildren&&s.parent&&o.set(s.parent.id,s.parent)}}),o.forEach(function(s){var l=s.calculateSelectedFromChildren();s.selectThisNode(l===null?!1:l,void 0,r)}),a},t.prototype.onRowSelected=function(e){var r=e.node;this.groupSelectsChildren&&r.group||(r.isSelected()?this.selectedNodes.set(r.id,r):this.selectedNodes.delete(r.id))},t.prototype.syncInRowNode=function(e,r){this.syncInOldRowNode(e,r),this.syncInNewRowNode(e)},t.prototype.syncInOldRowNode=function(e,r){var i=ye(r)&&e.id!==r.id;if(i&&r){var o=r.id,a=this.selectedNodes.get(o)==e;a&&this.selectedNodes.set(r.id,r)}},t.prototype.syncInNewRowNode=function(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)},t.prototype.reset=function(e){var r=this.getSelectionCount();if(this.resetNodes(),r){var i={type:M.EVENT_SELECTION_CHANGED,source:e};this.eventService.dispatchEvent(i)}},t.prototype.resetNodes=function(){var e;(e=this.selectedNodes)===null||e===void 0||e.clear()},t.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()!=="clientSide")return;var e=this.rowModel,r=e.getTopLevelNodes();if(r===null)return;var i=[];function o(a){for(var s=0,l=a.length;s<l;s++){var u=a[s];if(u.isSelected())i.push(u);else{var c=u;c.group&&c.children&&o(c.children)}}}return o(r),i},t.prototype.isEmpty=function(){var e=0;return this.selectedNodes.forEach(function(r){r&&e++}),e===0},t.prototype.deselectAllRowNodes=function(e){var r=function(u){return u.selectThisNode(!1,void 0,o)},i=this.rowModel.getType()==="clientSide",o=e.source,a=e.justFiltered,s=e.justCurrentPage;if(s||a){if(!i){console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(a,s).forEach(r)}else this.selectedNodes.forEach(function(u){u&&r(u)}),this.reset(o);i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(o);var l={type:M.EVENT_SELECTION_CHANGED,source:o};this.eventService.dispatchEvent(l)},t.prototype.getSelectedCounts=function(e,r){var i=this,o=0,a=0,s=function(l){i.groupSelectsChildren&&l.group||(l.isSelected()?o++:l.selectable&&a++)};return this.getNodesToSelect(e,r).forEach(s),{selectedCount:o,notSelectedCount:a}},t.prototype.getSelectAllState=function(e,r){var i=this.getSelectedCounts(e,r),o=i.selectedCount,a=i.notSelectedCount;return o===0&&a===0?!1:o>0&&a>0?null:o>0},t.prototype.hasNodesToSelect=function(e,r){return e===void 0&&(e=!1),r===void 0&&(r=!1),this.getNodesToSelect(e,r).filter(function(i){return i.selectable}).length>0},t.prototype.getNodesToSelect=function(e,r){var i=this;if(e===void 0&&(e=!1),r===void 0&&(r=!1),this.rowModel.getType()!=="clientSide")throw new Error("selectAll only available when rowModelType='clientSide', ie not ".concat(this.rowModel.getType()));var o=[];if(r)return this.paginationProxy.forEachNodeOnPage(function(s){if(!s.group){o.push(s);return}if(!s.expanded){var l=function(u){var c;o.push(u),!((c=u.childrenAfterFilter)===null||c===void 0)&&c.length&&u.childrenAfterFilter.forEach(l)};l(s);return}i.groupSelectsChildren||o.push(s)}),o;var a=this.rowModel;return e?(a.forEachNodeAfterFilter(function(s){o.push(s)}),o):(a.forEachNode(function(s){o.push(s)}),o)},t.prototype.selectAllRowNodes=function(e){if(this.rowModel.getType()!=="clientSide")throw new Error("selectAll only available when rowModelType='clientSide', ie not ".concat(this.rowModel.getType()));var r=e.source,i=e.justFiltered,o=e.justCurrentPage,a=function(l){return l.selectThisNode(!0,void 0,r)};this.getNodesToSelect(i,o).forEach(a),this.rowModel.getType()==="clientSide"&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(r);var s={type:M.EVENT_SELECTION_CHANGED,source:r};this.eventService.dispatchEvent(s)},t.prototype.getSelectionState=function(){var e=[];return this.selectedNodes.forEach(function(r){r!=null&&r.id&&e.push(r.id)}),e.length?e:null},t.prototype.setSelectionState=function(e,r){if(Array.isArray(e)){var i=new Set(e),o=[];this.rowModel.forEachNode(function(a){i.has(a.id)&&o.push(a)}),this.setNodesSelected({newValue:!0,nodes:o,source:r})}},Jx([O("rowModel")],t.prototype,"rowModel",void 0),Jx([O("paginationProxy")],t.prototype,"paginationProxy",void 0),Jx([q],t.prototype,"init",null),t=Jx([me("selectionService")],t),t}(re),LU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},lGe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},uGe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},T_=function(){function n(t){var e=this;this.viaApi=function(r){for(var i,o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];return at("Since v31, 'columnApi.".concat(r,"' is deprecated and moved to 'api.").concat(r,"'.")),(i=e.api)[r].apply(i,uGe([],lGe(o),!1))},this.api=t}return n.prototype.sizeColumnsToFit=function(t){this.viaApi("sizeColumnsToFit",t)},n.prototype.setColumnGroupOpened=function(t,e){this.viaApi("setColumnGroupOpened",t,e)},n.prototype.getColumnGroup=function(t,e){return this.viaApi("getColumnGroup",t,e)},n.prototype.getProvidedColumnGroup=function(t){return this.viaApi("getProvidedColumnGroup",t)},n.prototype.getDisplayNameForColumn=function(t,e){return this.viaApi("getDisplayNameForColumn",t,e)},n.prototype.getDisplayNameForColumnGroup=function(t,e){return this.viaApi("getDisplayNameForColumnGroup",t,e)},n.prototype.getColumn=function(t){return this.viaApi("getColumn",t)},n.prototype.getColumns=function(){return this.viaApi("getColumns")},n.prototype.applyColumnState=function(t){return this.viaApi("applyColumnState",t)},n.prototype.getColumnState=function(){return this.viaApi("getColumnState")},n.prototype.resetColumnState=function(){this.viaApi("resetColumnState")},n.prototype.getColumnGroupState=function(){return this.viaApi("getColumnGroupState")},n.prototype.setColumnGroupState=function(t){this.viaApi("setColumnGroupState",t)},n.prototype.resetColumnGroupState=function(){this.viaApi("resetColumnGroupState")},n.prototype.isPinning=function(){return this.viaApi("isPinning")},n.prototype.isPinningLeft=function(){return this.viaApi("isPinningLeft")},n.prototype.isPinningRight=function(){return this.viaApi("isPinningRight")},n.prototype.getDisplayedColAfter=function(t){return this.viaApi("getDisplayedColAfter",t)},n.prototype.getDisplayedColBefore=function(t){return this.viaApi("getDisplayedColBefore",t)},n.prototype.setColumnVisible=function(t,e){this.viaApi("setColumnVisible",t,e)},n.prototype.setColumnsVisible=function(t,e){this.viaApi("setColumnsVisible",t,e)},n.prototype.setColumnPinned=function(t,e){this.viaApi("setColumnPinned",t,e)},n.prototype.setColumnsPinned=function(t,e){this.viaApi("setColumnsPinned",t,e)},n.prototype.getAllGridColumns=function(){return this.viaApi("getAllGridColumns")},n.prototype.getDisplayedLeftColumns=function(){return this.viaApi("getDisplayedLeftColumns")},n.prototype.getDisplayedCenterColumns=function(){return this.viaApi("getDisplayedCenterColumns")},n.prototype.getDisplayedRightColumns=function(){return this.viaApi("getDisplayedRightColumns")},n.prototype.getAllDisplayedColumns=function(){return this.viaApi("getAllDisplayedColumns")},n.prototype.getAllDisplayedVirtualColumns=function(){return this.viaApi("getAllDisplayedVirtualColumns")},n.prototype.moveColumn=function(t,e){this.viaApi("moveColumn",t,e)},n.prototype.moveColumnByIndex=function(t,e){this.viaApi("moveColumnByIndex",t,e)},n.prototype.moveColumns=function(t,e){this.viaApi("moveColumns",t,e)},n.prototype.moveRowGroupColumn=function(t,e){this.viaApi("moveRowGroupColumn",t,e)},n.prototype.setColumnAggFunc=function(t,e){this.viaApi("setColumnAggFunc",t,e)},n.prototype.setColumnWidth=function(t,e,r,i){r===void 0&&(r=!0),this.viaApi("setColumnWidth",t,e,r,i)},n.prototype.setColumnWidths=function(t,e,r){e===void 0&&(e=!0),this.viaApi("setColumnWidths",t,e,r)},n.prototype.setPivotMode=function(t){this.viaApi("setPivotMode",t)},n.prototype.isPivotMode=function(){return this.viaApi("isPivotMode")},n.prototype.getPivotResultColumn=function(t,e){return this.viaApi("getPivotResultColumn",t,e)},n.prototype.setValueColumns=function(t){this.viaApi("setValueColumns",t)},n.prototype.getValueColumns=function(){return this.viaApi("getValueColumns")},n.prototype.removeValueColumn=function(t){this.viaApi("removeValueColumn",t)},n.prototype.removeValueColumns=function(t){this.viaApi("removeValueColumns",t)},n.prototype.addValueColumn=function(t){this.viaApi("addValueColumn",t)},n.prototype.addValueColumns=function(t){this.viaApi("addValueColumns",t)},n.prototype.setRowGroupColumns=function(t){this.viaApi("setRowGroupColumns",t)},n.prototype.removeRowGroupColumn=function(t){this.viaApi("removeRowGroupColumn",t)},n.prototype.removeRowGroupColumns=function(t){this.viaApi("removeRowGroupColumns",t)},n.prototype.addRowGroupColumn=function(t){this.viaApi("addRowGroupColumn",t)},n.prototype.addRowGroupColumns=function(t){this.viaApi("addRowGroupColumns",t)},n.prototype.getRowGroupColumns=function(){return this.viaApi("getRowGroupColumns")},n.prototype.setPivotColumns=function(t){this.viaApi("setPivotColumns",t)},n.prototype.removePivotColumn=function(t){this.viaApi("removePivotColumn",t)},n.prototype.removePivotColumns=function(t){this.viaApi("removePivotColumns",t)},n.prototype.addPivotColumn=function(t){this.viaApi("addPivotColumn",t)},n.prototype.addPivotColumns=function(t){this.viaApi("addPivotColumns",t)},n.prototype.getPivotColumns=function(){return this.viaApi("getPivotColumns")},n.prototype.getLeftDisplayedColumnGroups=function(){return this.viaApi("getLeftDisplayedColumnGroups")},n.prototype.getCenterDisplayedColumnGroups=function(){return this.viaApi("getCenterDisplayedColumnGroups")},n.prototype.getRightDisplayedColumnGroups=function(){return this.viaApi("getRightDisplayedColumnGroups")},n.prototype.getAllDisplayedColumnGroups=function(){return this.viaApi("getAllDisplayedColumnGroups")},n.prototype.autoSizeColumn=function(t,e){return this.viaApi("autoSizeColumn",t,e)},n.prototype.autoSizeColumns=function(t,e){this.viaApi("autoSizeColumns",t,e)},n.prototype.autoSizeAllColumns=function(t){this.viaApi("autoSizeAllColumns",t)},n.prototype.setPivotResultColumns=function(t){this.viaApi("setPivotResultColumns",t)},n.prototype.getPivotResultColumns=function(){return this.viaApi("getPivotResultColumns")},LU([O("gridApi")],n.prototype,"api",void 0),n=LU([me("columnApi")],n),n}(),cGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Qv=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ZQ=function(n){cGe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.initialised=!1,e.isSsrm=!1,e}return t.prototype.init=function(){var e=this;this.isSsrm=this.gridOptionsService.isRowModelType("serverSide"),this.cellExpressions=this.gridOptionsService.get("enableCellExpressions"),this.isTreeData=this.gridOptionsService.get("treeData"),this.initialised=!0;var r=function(o){return e.callColumnCellValueChangedHandler(o)},i=this.gridOptionsService.useAsyncEvents();this.eventService.addEventListener(M.EVENT_CELL_VALUE_CHANGED,r,i),this.addDestroyFunc(function(){return e.eventService.removeEventListener(M.EVENT_CELL_VALUE_CHANGED,r,i)}),this.addManagedPropertyListener("treeData",function(o){return e.isTreeData=o.currentValue})},t.prototype.getValue=function(e,r,i,o){if(i===void 0&&(i=!1),o===void 0&&(o=!1),this.initialised||this.init(),!!r){var a=e.getColDef(),s=a.field,l=e.getColId(),u=r.data,c,d=r.groupData&&r.groupData[l]!==void 0,p=!o&&r.aggData&&r.aggData[l]!==void 0,h=this.isSsrm&&o&&!!e.getColDef().aggFunc,f=this.isSsrm&&r.footer&&r.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===r.field);if(i&&a.filterValueGetter?c=this.executeFilterValueGetter(a.filterValueGetter,u,e,r):this.isTreeData&&p?c=r.aggData[l]:this.isTreeData&&a.valueGetter?c=this.executeValueGetter(a.valueGetter,u,e,r):this.isTreeData&&s&&u?c=Cm(u,s,e.isFieldContainsDots()):d?c=r.groupData[l]:p?c=r.aggData[l]:a.valueGetter?c=this.executeValueGetter(a.valueGetter,u,e,r):f?c=Cm(u,r.field,e.isFieldContainsDots()):s&&u&&!h&&(c=Cm(u,s,e.isFieldContainsDots())),this.cellExpressions&&typeof c=="string"&&c.indexOf("=")===0){var v=c.substring(1);c=this.executeValueGetter(v,u,e,r)}if(c==null){var g=this.getOpenedGroup(r,e);if(g!=null)return g}return c}},t.prototype.getOpenedGroup=function(e,r){if(this.gridOptionsService.get("showOpenedGroup")){var i=r.getColDef();if(i.showRowGroup)for(var o=r.getColDef().showRowGroup,a=e.parent;a!=null;){if(a.rowGroupColumn&&(o===!0||o===a.rowGroupColumn.getColId()))return a.key;a=a.parent}}},t.prototype.setValue=function(e,r,i,o){var a=this.columnModel.getPrimaryColumn(r);if(!e||!a)return!1;pt(e.data)&&(e.data={});var s=a.getColDef(),l=s.field,u=s.valueSetter;if(pt(l)&&pt(u))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(a,i))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;var c=this.gridOptionsService.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(a,e),newValue:i,colDef:a.getColDef(),column:a});c.newValue=i;var d;if(ye(u)?typeof u=="function"?d=u(c):d=this.expressionService.evaluate(u,c):d=this.setValueUsingField(e.data,l,i,a.isFieldContainsDots()),d===void 0&&(d=!0),!d)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),c.newValue=this.getValue(a,e);var p={type:M.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:c.column,api:c.api,columnApi:c.columnApi,colDef:c.colDef,context:c.context,data:e.data,node:e,oldValue:c.oldValue,newValue:c.newValue,value:c.newValue,source:o};return this.eventService.dispatchEvent(p),!0},t.prototype.callColumnCellValueChangedHandler=function(e){var r=e.colDef.onCellValueChanged;typeof r=="function"&&this.getFrameworkOverrides().wrapOutgoing(function(){r({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,columnApi:e.columnApi,context:e.context})})},t.prototype.setValueUsingField=function(e,r,i,o){if(!r)return!1;var a=!1;if(!o)a=e[r]===i,a||(e[r]=i);else for(var s=r.split("."),l=e;s.length>0&&l;){var u=s.shift();s.length===0?(a=l[u]===i,a||(l[u]=i)):l=l[u]}return!a},t.prototype.executeFilterValueGetter=function(e,r,i,o){var a=this.gridOptionsService.addGridCommonParams({data:r,node:o,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,o)});return typeof e=="function"?e(a):this.expressionService.evaluate(e,a)},t.prototype.executeValueGetter=function(e,r,i,o){var a=i.getColId(),s=this.valueCache.getValue(o,a);if(s!==void 0)return s;var l=this.gridOptionsService.addGridCommonParams({data:r,node:o,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,o)}),u;return typeof e=="function"?u=e(l):u=this.expressionService.evaluate(e,l),this.valueCache.setValue(o,a,u),u},t.prototype.getValueCallback=function(e,r){var i=this.columnModel.getPrimaryColumn(r);return i?this.getValue(i,e):null},t.prototype.getKeyForNode=function(e,r){var i=this.getValue(e,r),o=e.getColDef().keyCreator,a=i;if(o){var s=this.gridOptionsService.addGridCommonParams({value:i,colDef:e.getColDef(),column:e,node:r,data:r.data});a=o(s)}return typeof a=="string"||a==null||(a=String(a),a==="[object Object]"&&at("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),a},Qv([O("expressionService")],t.prototype,"expressionService",void 0),Qv([O("columnModel")],t.prototype,"columnModel",void 0),Qv([O("valueCache")],t.prototype,"valueCache",void 0),Qv([O("dataTypeService")],t.prototype,"dataTypeService",void 0),Qv([q],t.prototype,"init",null),t=Qv([me("valueService")],t),t}(re),dGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),FU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},pGe=function(n,t){return function(e,r){t(e,r,n)}},QQ=function(n){dGe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.expressionToFunctionCache={},e}return t.prototype.setBeans=function(e){this.logger=e.create("ExpressionService")},t.prototype.evaluate=function(e,r){if(typeof e=="string")return this.evaluateExpression(e,r);console.error("AG Grid: value should be either a string or a function",e)},t.prototype.evaluateExpression=function(e,r){try{var i=this.createExpressionFunction(e),o=i(r.value,r.context,r.oldValue,r.newValue,r.value,r.node,r.data,r.colDef,r.rowIndex,r.api,r.columnApi,r.getValue,r.column,r.columnGroup);return o}catch(a){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",r),console.log("Exception = "+a),null}},t.prototype.createExpressionFunction=function(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];var r=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",r);return this.expressionToFunctionCache[e]=i,i},t.prototype.createFunctionBody=function(e){return e.indexOf("return")>=0?e:"return "+e+";"},FU([pGe(0,es("loggerFactory"))],t.prototype,"setBeans",null),t=FU([me("expressionService")],t),t}(re),hGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),fGe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},JQ=function(n){hGe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.templateCache={},e.waitingCallbacks={},e}return t.prototype.getTemplate=function(e,r){var i=this.templateCache[e];if(i)return i;var o=this.waitingCallbacks[e],a=this;if(!o){o=[],this.waitingCallbacks[e]=o;var s=new XMLHttpRequest;s.onload=function(){a.handleHttpResult(this,e)},s.open("GET",e),s.send()}return r&&o.push(r),null},t.prototype.handleHttpResult=function(e,r){if(e.status!==200||e.response===null){console.warn("AG Grid: Unable to get template error ".concat(e.status," - ").concat(r));return}this.templateCache[r]=e.response||e.responseText;for(var i=this.waitingCallbacks[r],o=0;o<i.length;o++){var a=i[o];a()}},t=fGe([me("templateService")],t),t}(re),vGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),IU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},gGe=function(n,t){return function(e,r){t(e,r,n)}},eJ=function(n){vGe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.setBeans=function(e){this.logging=e.get("debug")},t.prototype.create=function(e){return new fD(e,this.isLogging.bind(this))},t.prototype.isLogging=function(){return this.logging},IU([gGe(0,es("gridOptionsService"))],t.prototype,"setBeans",null),t=IU([me("loggerFactory")],t),t}(re),fD=function(){function n(t,e){this.name=t,this.isLoggingFunc=e}return n.prototype.isLogging=function(){return this.isLoggingFunc()},n.prototype.log=function(t){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+t)},n}(),mGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Jv=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},tJ=function(n){mGe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.setComp=function(e,r,i){var o=this;this.view=e,this.eGridHostDiv=r,this.eGui=i,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:function(){return o.eGui},isInterestedIn:function(s){return s===on.HeaderCell||s===on.ToolPanel},getIconName:function(){return Wt.ICON_NOT_ALLOWED}}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(r),this.createManagedBean(new fB(this.view)),this.addRtlSupport();var a=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return a()}),this.ctrlsService.registerGridCtrl(this)},t.prototype.isDetailGrid=function(){var e,r=this.focusService.findTabbableParent(this.getGui());return((e=r==null?void 0:r.getAttribute("row-id"))===null||e===void 0?void 0:e.startsWith("detail"))||!1},t.prototype.showDropZones=function(){return ut.__isRegistered(Te.RowGroupingModule,this.context.getGridId())},t.prototype.showSideBar=function(){return ut.__isRegistered(Te.SideBarModule,this.context.getGridId())},t.prototype.showStatusBar=function(){return ut.__isRegistered(Te.StatusBarModule,this.context.getGridId())},t.prototype.showWatermark=function(){return ut.__isRegistered(Te.EnterpriseCoreModule,this.context.getGridId())},t.prototype.onGridSizeChanged=function(){var e={type:M.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(e)},t.prototype.addRtlSupport=function(){var e=this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)},t.prototype.destroyGridUi=function(){this.view.destroyGridUi()},t.prototype.getGui=function(){return this.eGui},t.prototype.setResizeCursor=function(e){this.view.setCursor(e?"ew-resize":null)},t.prototype.disableUserSelect=function(e){this.view.setUserSelect(e?"none":null)},t.prototype.focusNextInnerContainer=function(e){var r=this.gridOptionsService.getDocument(),i=this.view.getFocusableContainers(),o=i.findIndex(function(s){return s.contains(r.activeElement)}),a=o+(e?-1:1);return a<=0||a>=i.length?!1:this.focusService.focusInto(i[a])},t.prototype.focusInnerElement=function(e){var r=this.view.getFocusableContainers(),i=this.columnModel.getAllDisplayedColumns();if(e){if(r.length>1)return this.focusService.focusInto(Yt(r),!0);var o=Yt(i);if(this.focusService.focusGridView(o,!0))return!0}if(this.gridOptionsService.get("headerHeight")===0||this.gridOptionsService.get("suppressHeaderFocus")){if(this.focusService.focusGridView(i[0]))return!0;for(var a=1;a<r.length;a++)if(this.focusService.focusInto(r[a]))return!0;return!1}return this.focusService.focusFirstHeader()},t.prototype.forceFocusOutOfContainer=function(e){e===void 0&&(e=!1),this.view.forceFocusOutOfContainer(e)},Jv([O("focusService")],t.prototype,"focusService",void 0),Jv([O("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Jv([O("columnModel")],t.prototype,"columnModel",void 0),Jv([O("ctrlsService")],t.prototype,"ctrlsService",void 0),Jv([O("mouseEventService")],t.prototype,"mouseEventService",void 0),Jv([O("dragAndDropService")],t.prototype,"dragAndDropService",void 0),t}(re),yGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),MC=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},bB=function(n){yGe(t,n);function t(e){var r=n.call(this)||this;return r.eGridDiv=e,r}return t.prototype.postConstruct=function(){var e=this;this.logger=this.loggerFactory.create("GridComp");var r={destroyGridUi:function(){return e.destroyBean(e)},setRtlClass:function(o){return e.addCssClass(o)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(o){e.getGui().style.userSelect=o??"",e.getGui().style.webkitUserSelect=o??""},setCursor:function(o){e.getGui().style.cursor=o??""}};this.ctrl=this.createManagedBean(new tJ);var i=this.createTemplate();this.setTemplate(i),this.ctrl.setComp(r,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(o){return e.ctrl.focusInnerElement(o)},forceFocusOutWhenTabGuardsAreEmpty:!0})},t.prototype.insertGridIntoDom=function(){var e=this,r=this.getGui();this.eGridDiv.appendChild(r),this.addDestroyFunc(function(){e.eGridDiv.removeChild(r),e.logger.log("Grid removed from DOM")})},t.prototype.updateLayoutClasses=function(e,r){var i=this.eRootWrapperBody.classList;i.toggle(Nn.AUTO_HEIGHT,r.autoHeight),i.toggle(Nn.NORMAL,r.normal),i.toggle(Nn.PRINT,r.print),this.addOrRemoveCssClass(Nn.AUTO_HEIGHT,r.autoHeight),this.addOrRemoveCssClass(Nn.NORMAL,r.normal),this.addOrRemoveCssClass(Nn.PRINT,r.print)},t.prototype.createTemplate=function(){var e=this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",r=this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"",i=this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"",o=this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"",a=`<div class="ag-root-wrapper" role="presentation">
                `.concat(e,`
                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">
                    <ag-grid-body ref="gridBody"></ag-grid-body>
                    `).concat(r,`
                </div>
                `).concat(i,`
                <ag-pagination></ag-pagination>
                `).concat(o,`
            </div>`);return a},t.prototype.getFocusableElement=function(){return this.eRootWrapperBody},t.prototype.getFocusableContainers=function(){var e=[this.gridBodyComp.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter(function(r){return as(r)})},MC([O("loggerFactory")],t.prototype,"loggerFactory",void 0),MC([U("gridBody")],t.prototype,"gridBodyComp",void 0),MC([U("sideBar")],t.prototype,"sideBarComp",void 0),MC([U("rootWrapperBody")],t.prototype,"eRootWrapperBody",void 0),MC([q],t.prototype,"postConstruct",null),t}(md),CGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),NU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},tu=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Vd=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},rJ=function(n){CGe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}e=t,t.prototype.progressSort=function(r,i,o){var a=this.getNextSortDirection(r);this.setSortForColumn(r,a,i,o)},t.prototype.setSortForColumn=function(r,i,o,a){i!=="asc"&&i!=="desc"&&(i=null);var s=this.gridOptionsService.isColumnsSortingCoupledToGroup(),l=[r];if(s&&r.getColDef().showRowGroup){var u=this.columnModel.getSourceColumnsForGroupColumn(r),c=u==null?void 0:u.filter(function(f){return f.isSortable()});c&&(l=Vd([r],tu(c),!1))}l.forEach(function(f){return f.setSort(i,a)});var d=(o||this.gridOptionsService.get("alwaysMultiSort"))&&!this.gridOptionsService.get("suppressMultiSort"),p=[];if(!d){var h=this.clearSortBarTheseColumns(l,a);p.push.apply(p,Vd([],tu(h),!1))}this.updateSortIndex(r),p.push.apply(p,Vd([],tu(l),!1)),this.dispatchSortChangedEvents(a,p)},t.prototype.updateSortIndex=function(r){var i=this.gridOptionsService.isColumnsSortingCoupledToGroup(),o=this.columnModel.getGroupDisplayColumnForGroup(r.getId()),a=i&&o||r,s=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(c){return c.setSortIndex(null)});var l=s.filter(function(c){return i&&c.getColDef().showRowGroup?!1:c!==a}),u=a.getSort()?Vd(Vd([],tu(l),!1),[a],!1):l;u.forEach(function(c,d){c.setSortIndex(d)})},t.prototype.onSortChanged=function(r,i){this.dispatchSortChangedEvents(r,i)},t.prototype.isSortActive=function(){var r=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),i=r.filter(function(o){return!!o.getSort()});return i&&i.length>0},t.prototype.dispatchSortChangedEvents=function(r,i){var o={type:M.EVENT_SORT_CHANGED,source:r};i&&(o.columns=i),this.eventService.dispatchEvent(o)},t.prototype.clearSortBarTheseColumns=function(r,i){var o=[];return this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(a){r.includes(a)||(a.getSort()&&o.push(a),a.setSort(void 0,i))}),o},t.prototype.getNextSortDirection=function(r){var i;if(r.getColDef().sortingOrder?i=r.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?i=this.gridOptionsService.get("sortingOrder"):i=e.DEFAULT_SORTING_ORDER,!Array.isArray(i)||i.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's ".concat(i)),null;var o=i.indexOf(r.getSort()),a=o<0,s=o==i.length-1,l;return a||s?l=i[0]:l=i[o+1],e.DEFAULT_SORTING_ORDER.indexOf(l)<0?(console.warn("AG Grid: invalid sort type "+l),null):l},t.prototype.getIndexedSortMap=function(){var r=this,i=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(c){return!!c.getSort()});if(this.columnModel.isPivotMode()){var o=this.gridOptionsService.isColumnsSortingCoupledToGroup();i=i.filter(function(c){var d=!!c.getAggFunc(),p=!c.isPrimary(),h=o?r.columnModel.getGroupDisplayColumnForGroup(c.getId()):c.getColDef().showRowGroup;return d||p||h})}var a=this.columnModel.getRowGroupColumns().filter(function(c){return!!c.getSort()}),s=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!a.length;s&&(i=Vd([],tu(new Set(i.map(function(c){var d;return(d=r.columnModel.getGroupDisplayColumnForGroup(c.getId()))!==null&&d!==void 0?d:c}))),!1));var l={};i.forEach(function(c,d){return l[c.getId()]=d}),i.sort(function(c,d){var p=c.getSortIndex(),h=d.getSortIndex();if(p!=null&&h!=null)return p-h;if(p==null&&h==null){var f=l[c.getId()],v=l[d.getId()];return f>v?1:-1}else return h==null?-1:1});var u=new Map;return i.forEach(function(c,d){return u.set(c,d)}),s&&a.forEach(function(c){var d=r.columnModel.getGroupDisplayColumnForGroup(c.getId());u.set(c,u.get(d))}),u},t.prototype.getColumnsWithSortingOrdered=function(){return Vd([],tu(this.getIndexedSortMap().entries()),!1).sort(function(r,i){var o=tu(r,2);o[0];var a=o[1],s=tu(i,2);s[0];var l=s[1];return a-l}).map(function(r){var i=tu(r,1),o=i[0];return o})},t.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().filter(function(r){return r.getSort()}).map(function(r){return{sort:r.getSort(),colId:r.getId()}})},t.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().filter(function(r){return r.getSort()}).map(function(r){return{sort:r.getSort(),column:r}})},t.prototype.canColumnDisplayMixedSort=function(r){var i=this.gridOptionsService.isColumnsSortingCoupledToGroup(),o=!!r.getColDef().showRowGroup;return i&&o},t.prototype.getDisplaySortForColumn=function(r){var i=this.columnModel.getSourceColumnsForGroupColumn(r);if(!this.canColumnDisplayMixedSort(r)||!(i!=null&&i.length))return r.getSort();var o=r.getColDef().field!=null||!!r.getColDef().valueGetter,a=o?Vd([r],tu(i),!1):i,s=a[0].getSort(),l=a.every(function(u){return u.getSort()==s});return l?s:"mixed"},t.prototype.getDisplaySortIndexForColumn=function(r){return this.getIndexedSortMap().get(r)};var e;return t.DEFAULT_SORTING_ORDER=["asc","desc",null],NU([O("columnModel")],t.prototype,"columnModel",void 0),t=e=NU([me("sortController")],t),t}(re),SGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Cw=function(){return Cw=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Cw.apply(this,arguments)},Ho=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},nJ=function(n){SGe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}e=t,t.addKeyboardModeEvents=function(r){this.instanceCount>0||(r.addEventListener("keydown",e.toggleKeyboardMode),r.addEventListener("mousedown",e.toggleKeyboardMode))},t.removeKeyboardModeEvents=function(r){this.instanceCount>0||(r.addEventListener("keydown",e.toggleKeyboardMode),r.addEventListener("mousedown",e.toggleKeyboardMode))},t.toggleKeyboardMode=function(r){var i=e.keyboardModeActive,o=r.type==="keydown";o&&(r.ctrlKey||r.metaKey||r.altKey)||i!==o&&(e.keyboardModeActive=o)},t.unregisterGridCompController=function(r){e.removeKeyboardModeEvents(r)},t.prototype.init=function(){var r=this,i=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_MODE_CHANGED,i),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_GROUP_OPENED,i),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,i),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(function(o){r.gridCtrl=o.gridCtrl})},t.prototype.registerKeyboardFocusEvents=function(){var r=this.gridOptionsService.getDocument();e.addKeyboardModeEvents(r),e.instanceCount++,this.addDestroyFunc(function(){e.instanceCount--,e.unregisterGridCompController(r)})},t.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var r=this.focusedCellPosition.column,i=this.columnModel.getGridColumn(r.getId());r!==i&&this.clearFocusedCell()}},t.prototype.isKeyboardMode=function(){return e.keyboardModeActive},t.prototype.getFocusCellToUseAfterRefresh=function(){var r=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(r.activeElement,Fp.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},t.prototype.getFocusHeaderToUseAfterRefresh=function(){var r=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(r.activeElement,E_.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},t.prototype.isDomDataMissingInHierarchy=function(r,i){for(var o=r;o;){var a=this.gridOptionsService.getDomData(o,i);if(a)return!1;o=o.parentNode}return!0},t.prototype.getFocusedCell=function(){return this.focusedCellPosition},t.prototype.shouldRestoreFocus=function(r){var i=this;return this.isCellRestoreFocused(r)?(setTimeout(function(){i.restoredFocusedCellPosition=null},0),!0):!1},t.prototype.isCellRestoreFocused=function(r){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(r,this.restoredFocusedCellPosition)},t.prototype.setRestoreFocusedCell=function(r){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=r)},t.prototype.getFocusEventParams=function(){var r=this.focusedCellPosition,i=r.rowIndex,o=r.rowPinned,a=r.column,s={rowIndex:i,rowPinned:o,column:a,isFullWidthCell:!1},l=this.rowRenderer.getRowByPosition({rowIndex:i,rowPinned:o});return l&&(s.isFullWidthCell=l.isFullWidth()),s},t.prototype.clearFocusedCell=function(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition!=null){var r=Cw({type:M.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(r)}},t.prototype.setFocusedCell=function(r){var i=r.column,o=r.rowIndex,a=r.rowPinned,s=r.forceBrowserFocus,l=s===void 0?!1:s,u=r.preventScrollOnBrowserFocus,c=u===void 0?!1:u,d=this.columnModel.getGridColumn(i);if(!d){this.focusedCellPosition=null;return}this.focusedCellPosition=d?{rowIndex:o,rowPinned:Wu(a),column:d}:null;var p=Cw(Cw({type:M.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:l,preventScrollOnBrowserFocus:c,floating:null});this.eventService.dispatchEvent(p)},t.prototype.isCellFocused=function(r){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(r,this.focusedCellPosition)},t.prototype.isRowNodeFocused=function(r){return this.isRowFocused(r.rowIndex,r.rowPinned)},t.prototype.isHeaderWrapperFocused=function(r){if(this.focusedHeaderPosition==null)return!1;var i=r.getColumnGroupChild(),o=r.getRowIndex(),a=r.getPinned(),s=this.focusedHeaderPosition,l=s.column,u=s.headerRowIndex;return i===l&&o===u&&a==l.getPinned()},t.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},t.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},t.prototype.setFocusedHeader=function(r,i){this.focusedHeaderPosition={headerRowIndex:r,column:i}},t.prototype.focusHeaderPosition=function(r){if(this.gridOptionsService.get("suppressHeaderFocus"))return!1;var i=r.direction,o=r.fromTab,a=r.allowUserOverride,s=r.event,l=r.fromCell,u=r.rowWithoutSpanValue,c=r.headerPosition;if(l&&this.filterManager.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(c);if(a){var d=this.getFocusedHeader(),p=this.headerNavigationService.getHeaderRowCount();if(o){var h=this.gridOptionsService.getCallback("tabToNextHeader");if(h){var f={backwards:i==="Before",previousHeaderPosition:d,nextHeaderPosition:c,headerRowCount:p};c=h(f)}}else{var h=this.gridOptionsService.getCallback("navigateToNextHeader");if(h&&s){var v={key:s.key,previousHeaderPosition:d,nextHeaderPosition:c,headerRowCount:p,event:s};c=h(v)}}}if(!c)return!1;if(c.headerRowIndex===-1)return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(c):this.focusGridView(c.column);this.headerNavigationService.scrollToColumn(c.column,i);var g=this.ctrlsService.getHeaderRowContainerCtrl(c.column.getPinned()),m=g.focusHeader(c.headerRowIndex,c.column,s);return m&&(u!=null||l)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(u??-1),m},t.prototype.focusFirstHeader=function(){var r=this.columnModel.getAllDisplayedColumns()[0];if(!r)return!1;r.getParent()&&(r=this.columnModel.getColumnGroupAtLevel(r,0));var i=this.headerPositionUtils.getHeaderIndexToFocus(r,0);return this.focusHeaderPosition({headerPosition:i,rowWithoutSpanValue:0})},t.prototype.focusLastHeader=function(r){var i=this.headerNavigationService.getHeaderRowCount()-1,o=Yt(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:i,column:o},rowWithoutSpanValue:-1,event:r})},t.prototype.focusPreviousFromFirstCell=function(r){return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(r)},t.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},t.prototype.isRowFocused=function(r,i){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===r&&this.focusedCellPosition.rowPinned===Wu(i)},t.prototype.findFocusableElements=function(r,i,o){o===void 0&&(o=!1);var a=fZ,s=zV;i&&(s+=", "+i),o&&(s+=', [tabindex="-1"]');var l=Array.prototype.slice.apply(r.querySelectorAll(a)).filter(function(d){return as(d)}),u=Array.prototype.slice.apply(r.querySelectorAll(s));if(!u.length)return l;var c=function(d,p){return d.filter(function(h){return p.indexOf(h)===-1})};return c(l,u)},t.prototype.focusInto=function(r,i,o){i===void 0&&(i=!1),o===void 0&&(o=!1);var a=this.findFocusableElements(r,null,o),s=i?Yt(a):a[0];return s?(s.focus({preventScroll:!0}),!0):!1},t.prototype.findFocusableElementBeforeTabGuard=function(r,i){if(!i)return null;var o=this.findFocusableElements(r),a=o.indexOf(i);if(a===-1)return null;for(var s=-1,l=a-1;l>=0;l--)if(o[l].classList.contains(Kf.TAB_GUARD_TOP)){s=l;break}return s<=0?null:o[s-1]},t.prototype.findNextFocusableElement=function(r,i,o){r===void 0&&(r=this.eGridDiv);var a=this.findFocusableElements(r,i?':not([tabindex="-1"])':null),s=this.gridOptionsService.getDocument(),l=s.activeElement,u;i?u=a.findIndex(function(d){return d.contains(l)}):u=a.indexOf(l);var c=u+(o?-1:1);return c<0||c>=a.length?null:a[c]},t.prototype.isTargetUnderManagedComponent=function(r,i){if(!i)return!1;var o=r.querySelectorAll(".".concat(ic.FOCUS_MANAGED_CLASS));if(!o.length)return!1;for(var a=0;a<o.length;a++)if(o[a].contains(i))return!0;return!1},t.prototype.findTabbableParent=function(r,i){i===void 0&&(i=5);for(var o=0;r&&vR(r)===null&&++o<=i;)r=r.parentElement;return vR(r)===null?null:r},t.prototype.focusGridView=function(r,i){if(this.gridOptionsService.get("suppressCellFocus"))return i?this.gridOptionsService.get("suppressHeaderFocus")?this.focusNextGridCoreContainer(!0,!0):this.focusLastHeader():this.focusNextGridCoreContainer(!1);var o=i?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!o)return!1;var a=o.rowIndex,s=o.rowPinned,l=this.getFocusedHeader();if(!r&&l&&(r=l.column),a==null||!r)return!1;if(this.navigationService.ensureCellVisible({rowIndex:a,column:r,rowPinned:s}),this.setFocusedCell({rowIndex:a,column:r,rowPinned:Wu(s),forceBrowserFocus:!0}),this.rangeService){var u={rowIndex:a,rowPinned:s,column:r};this.rangeService.setRangeToCell(u)}return!0},t.prototype.focusNextGridCoreContainer=function(r,i){return i===void 0&&(i=!1),!i&&this.gridCtrl.focusNextInnerContainer(r)?!0:((i||!r&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(r),!1)},t.prototype.focusAdvancedFilter=function(r){return this.advancedFilterFocusColumn=r==null?void 0:r.column,this.advancedFilterService.getCtrl().focusHeaderComp()},t.prototype.focusNextFromAdvancedFilter=function(r,i){var o,a,s=(o=i?void 0:this.advancedFilterFocusColumn)!==null&&o!==void 0?o:(a=this.columnModel.getAllDisplayedColumns())===null||a===void 0?void 0:a[0];return r?this.focusHeaderPosition({headerPosition:{column:s,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(s)},t.prototype.clearAdvancedFilterColumn=function(){this.advancedFilterFocusColumn=void 0};var e;return t.keyboardModeActive=!1,t.instanceCount=0,Ho([O("eGridDiv")],t.prototype,"eGridDiv",void 0),Ho([O("columnModel")],t.prototype,"columnModel",void 0),Ho([O("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Ho([O("headerPositionUtils")],t.prototype,"headerPositionUtils",void 0),Ho([O("rowRenderer")],t.prototype,"rowRenderer",void 0),Ho([O("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Ho([O("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Ho([xt("rangeService")],t.prototype,"rangeService",void 0),Ho([O("navigationService")],t.prototype,"navigationService",void 0),Ho([O("ctrlsService")],t.prototype,"ctrlsService",void 0),Ho([O("filterManager")],t.prototype,"filterManager",void 0),Ho([xt("advancedFilterService")],t.prototype,"advancedFilterService",void 0),Ho([q],t.prototype,"init",null),t=e=Ho([me("focusService")],t),t}(re),wGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),_Ge=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},xGe=function(n){wGe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.setMouseOver=function(e){this.selectedColumns=e;var r={type:M.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(r)},t.prototype.clearMouseOver=function(){this.selectedColumns=null;var e={type:M.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(e)},t.prototype.isHovered=function(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0},t=_Ge([me("columnHoverService")],t),t}(re),bGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),KM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},EGe=function(n){bGe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.executeNextFuncs=[],e.executeLaterFuncs=[],e.active=!1,e.suppressAnimation=!1,e.animationThreadCount=0,e}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(r){return e.gridBodyCtrl=r.gridBodyCtrl})},t.prototype.isActive=function(){return this.active&&!this.suppressAnimation},t.prototype.setSuppressAnimation=function(e){this.suppressAnimation=e},t.prototype.start=function(){this.active||this.gridOptionsService.get("suppressColumnMoveAnimation")||this.gridOptionsService.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)},t.prototype.finish=function(){var e=this;this.active&&this.flush(function(){e.active=!1})},t.prototype.executeNextVMTurn=function(e){this.active?this.executeNextFuncs.push(e):e()},t.prototype.executeLaterVMTurn=function(e){this.active?this.executeLaterFuncs.push(e):e()},t.prototype.ensureAnimationCssClassPresent=function(){var e=this;this.animationThreadCount++;var r=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){e.animationThreadCount===r&&e.gridBodyCtrl.setColumnMovingCss(!1)})},t.prototype.flush=function(e){var r=this;if(this.executeNextFuncs.length===0&&this.executeLaterFuncs.length===0){e();return}var i=function(o){for(;o.length;){var a=o.pop();a&&a()}};this.getFrameworkOverrides().wrapIncoming(function(){window.setTimeout(function(){return i(r.executeNextFuncs)},0),window.setTimeout(function(){i(r.executeLaterFuncs),e()},200)})},KM([O("ctrlsService")],t.prototype,"ctrlsService",void 0),KM([q],t.prototype,"postConstruct",null),t=KM([me("columnAnimationService")],t),t}(re),OGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),eb=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},RGe=function(n){OGe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(r){e.centerRowContainerCon=r.centerRowContainerCtrl,e.addManagedListener(e.eventService,M.EVENT_BODY_HEIGHT_CHANGED,e.checkPageSize.bind(e)),e.addManagedListener(e.eventService,M.EVENT_SCROLL_VISIBILITY_CHANGED,e.checkPageSize.bind(e)),e.addManagedPropertyListener("paginationAutoPageSize",e.onPaginationAutoSizeChanged.bind(e)),e.checkPageSize()})},t.prototype.notActive=function(){return!this.gridOptionsService.get("paginationAutoPageSize")||this.centerRowContainerCon==null},t.prototype.onPaginationAutoSizeChanged=function(){this.notActive()?this.paginationProxy.unsetAutoCalculatedPageSize():this.checkPageSize()},t.prototype.checkPageSize=function(){var e=this;if(!this.notActive()){var r=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(r>0){var i=function(){var o=e.gridOptionsService.getRowHeightAsNumber(),a=Math.floor(r/o);e.paginationProxy.setPageSize(a,"autoCalculated")};this.isBodyRendered?Ja(function(){return i()},50)():(i(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},eb([O("ctrlsService")],t.prototype,"ctrlsService",void 0),eb([O("paginationProxy")],t.prototype,"paginationProxy",void 0),eb([q],t.prototype,"postConstruct",null),t=eb([me("paginationAutoPageSizeService")],t),t}(re),TGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),kU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},iJ=function(n){TGe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.cacheVersion=0,e}return t.prototype.init=function(){this.active=this.gridOptionsService.get("valueCache"),this.neverExpires=this.gridOptionsService.get("valueCacheNeverExpires")},t.prototype.onDataChanged=function(){this.neverExpires||this.expire()},t.prototype.expire=function(){this.cacheVersion++},t.prototype.setValue=function(e,r,i){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[r]=i)},t.prototype.getValue=function(e,r){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[r]},kU([q],t.prototype,"init",null),t=kU([me("valueCache")],t),t}(re),PGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),tb=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},DGe="paste",AGe=function(n){PGe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,M.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},t.prototype.onCellValueChanged=function(e){e.source!==DGe&&this.doChangeDetection(e.node,e.column)},t.prototype.doChangeDetection=function(e,r){if(!this.gridOptionsService.get("suppressChangeDetection")){var i=[e];if(this.clientSideRowModel&&!e.isRowPinned()){var o=this.gridOptionsService.get("aggregateOnlyChangedColumns"),a=new Sy(o,this.clientSideRowModel.getRootNode());a.addParentNode(e.parent,[r]),this.clientSideRowModel.doAggregate(a),a.forEachChangedNodeDepthFirst(function(s){i.push(s)})}this.rowRenderer.refreshCells({rowNodes:i})}},tb([O("rowModel")],t.prototype,"rowModel",void 0),tb([O("rowRenderer")],t.prototype,"rowRenderer",void 0),tb([q],t.prototype,"init",null),t=tb([me("changeDetectionService")],t),t}(re),MGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),GU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},LGe=function(n){MGe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.adaptFunction=function(e,r){var i=this.componentMetadataProvider.retrieve(e);return i&&i.functionAdapter?i.functionAdapter(r):null},t.prototype.adaptCellRendererFunction=function(e){var r=function(){function i(){}return i.prototype.refresh=function(o){return!1},i.prototype.getGui=function(){return this.eGui},i.prototype.init=function(o){var a=e(o),s=typeof a;if(s==="string"||s==="number"||s==="boolean"){this.eGui=aa("<span>"+a+"</span>");return}if(a==null){this.eGui=aa("<span></span>");return}this.eGui=a},i}();return r},t.prototype.doesImplementIComponent=function(e){return e?e.prototype&&"getGui"in e.prototype:!1},GU([O("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),t=GU([me("agComponentUtils")],t),t}(re),FGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),YM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},IGe=function(n){FGe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}},t.prototype.retrieve=function(e){return this.componentMetaData[e]},YM([O("agComponentUtils")],t.prototype,"agComponentUtils",void 0),YM([q],t.prototype,"postConstruct",null),t=YM([me("componentMetadataProvider")],t),t}(re),NGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),qM=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},kGe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},GGe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},VGe=25,VU=10,XM=8,BGe=4,ZM=4,QM=6,jGe=16,BU=14,JM=8,HGe={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:BGe*5,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:XM*7,headerCellMinWidth:48,listItemHeight:XM*4,rowHeight:XM*6,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:ZM*8,headerCellMinWidth:24,listItemHeight:ZM*6,rowHeight:ZM*7,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:QM*8,headerCellMinWidth:36,listItemHeight:QM*4,rowHeight:QM*7,chartMenuPanelWidth:240},"ag-theme-quartz":{headerHeight:BU+JM*4.25,headerCellMinWidth:36,listItemHeight:jGe+JM,rowHeight:BU+JM*3.5,chartMenuPanelWidth:260}},jU={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},oJ=function(n){NGe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.calculatedSizes={},e}return t.prototype.postConstruct=function(){var e=this,r,i=(r=this.getTheme().el)!==null&&r!==void 0?r:this.eGridDiv;this.addManagedPropertyListener("rowHeight",function(){return e.refreshRowHeightVariable()}),this.mutationObserver=new MutationObserver(function(){e.calculatedSizes={},e.fireGridStylesChangedEvent()}),this.mutationObserver.observe(i||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})},t.prototype.fireGridStylesChangedEvent=function(){var e={type:M.EVENT_GRID_STYLES_CHANGED};this.eventService.dispatchEvent(e)},t.prototype.getSassVariable=function(e){var r=this.getTheme(),i=r.themeFamily,o=r.el;if(!(!i||i.indexOf("ag-theme")!==0)){this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[i]||(this.calculatedSizes[i]={});var a=this.calculatedSizes[i][e];return a??(this.calculatedSizes[i][e]=this.calculateValueForSassProperty(e,i,o),this.calculatedSizes[i][e])}},t.prototype.calculateValueForSassProperty=function(e,r,i){var o,a="ag-theme-"+(r.match("material")?"material":r.match("balham")?"balham":r.match("alpine")?"alpine":"custom"),s=HGe[a][e],l=this.gridOptionsService.getDocument();if(i||(i=this.eGridDiv),!jU[e])return s;var u=jU[e],c=l.createElement("div"),d=Array.from(i.classList);(o=c.classList).add.apply(o,GGe([r],kGe(d),!1)),c.style.position="absolute";var p=u.reduce(function(v,g){var m=l.createElement("div");return m.style.position="static",m.classList.add(g),v.appendChild(m),m},c),h=0;if(l.body){l.body.appendChild(c);var f=e.toLowerCase().indexOf("height")!==-1?"height":"width";h=parseInt(window.getComputedStyle(p)[f],10),l.body.removeChild(c)}return h||s},t.prototype.isThemeDark=function(){var e=this.getTheme().theme;return!!e&&e.indexOf("dark")>=0},t.prototype.chartMenuPanelWidth=function(){return this.getSassVariable("chartMenuPanelWidth")},t.prototype.getTheme=function(){for(var e=/\bag-(material|(?:theme-([\w\-]*)))\b/g,r=this.eGridDiv,i=null,o=[];r;)if(i=e.exec(r.className),!i)r=r.parentElement||void 0;else{var a=r.className.match(e);a&&(o=a);break}if(!i)return{allThemes:o};var s=i[0];return{theme:s,el:r,themeFamily:s.replace(/-dark$/,""),allThemes:o}},t.prototype.getFromTheme=function(e,r){var i;return(i=this.getSassVariable(r))!==null&&i!==void 0?i:e},t.prototype.getDefaultRowHeight=function(){return this.getFromTheme(VGe,"rowHeight")},t.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},t.prototype.refreshRowHeightVariable=function(){var e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),r=this.gridOptionsService.get("rowHeight");if(r==null||isNaN(r)||!isFinite(r))return e!==null&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;var i="".concat(r,"px");return e!=i?(this.eGridDiv.style.setProperty("--ag-line-height",i),r):e!=""?parseFloat(e):-1},t.prototype.getMinColWidth=function(){var e=this.getFromTheme(null,"headerCellMinWidth");return ye(e)?Math.max(e,VU):VU},t.prototype.destroy=function(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),n.prototype.destroy.call(this)},qM([O("eGridDiv")],t.prototype,"eGridDiv",void 0),qM([q],t.prototype,"postConstruct",null),t=qM([me("environment")],t),t}(re),$Ge=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),rb=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},WGe=function(n,t){return function(e,r){t(e,r,n)}},UGe=function(n){$Ge(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.scrollY=0,e.uiBodyHeight=0,e}return t.prototype.agWire=function(e){this.logger=e.create("RowContainerHeightService")},t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,M.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=lZ(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},t.prototype.isStretching=function(){return this.stretching},t.prototype.getDivStretchOffset=function(){return this.divStretchOffset},t.prototype.updateOffset=function(){if(this.stretching){var e=this.ctrlsService.getGridBodyCtrl(),r=e.getScrollFeature().getVScrollPosition().top,i=this.getUiBodyHeight(),o=r!==this.scrollY||i!==this.uiBodyHeight;o&&(this.scrollY=r,this.uiBodyHeight=i,this.calculateOffset())}},t.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var e=this.scrollY/this.maxScrollY,r=e*this.pixelsToShave;this.logger.log("Div Stretch Offset = ".concat(r," (").concat(this.pixelsToShave," * ").concat(e,")")),this.setDivStretchOffset(r)},t.prototype.setUiContainerHeight=function(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:M.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},t.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},t.prototype.setDivStretchOffset=function(e){var r=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==r&&(this.divStretchOffset=r,this.eventService.dispatchEvent({type:M.EVENT_HEIGHT_SCALE_CHANGED}))},t.prototype.setModelHeight=function(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},t.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},t.prototype.getRealPixelPosition=function(e){return e-this.divStretchOffset},t.prototype.getUiBodyHeight=function(){var e=this.ctrlsService.getGridBodyCtrl(),r=e.getScrollFeature().getVScrollPosition();return r.bottom-r.top},t.prototype.getScrollPositionForPixel=function(e){if(this.pixelsToShave<=0)return e;var r=this.modelHeight-this.getUiBodyHeight(),i=e/r,o=this.maxScrollY*i;return o},rb([O("ctrlsService")],t.prototype,"ctrlsService",void 0),rb([WGe(0,es("loggerFactory"))],t.prototype,"agWire",null),rb([q],t.prototype,"postConstruct",null),t=rb([me("rowContainerHeightService")],t),t}(re),zGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),nb=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},aJ=function(n){zGe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(){var e=this;this.addManagedPropertyListener("isRowSelectable",function(){return e.updateSelectable()})},t.prototype.updateSelectableAfterGrouping=function(){this.updateSelectable(!0)},t.prototype.updateSelectable=function(e){e===void 0&&(e=!1);var r=!!this.gridOptionsService.get("rowSelection"),i=this.gridOptionsService.get("isRowSelectable");if(!(!r||!i)){var o=this.gridOptionsService.get("groupSelectsChildren"),a=this.rowModel.getType()==="clientSide"&&o,s=[],l=function(d){if(!(e&&!d.group)){if(a&&d.group){var p=d.childrenAfterGroup.some(function(f){return f.selectable===!0});d.setRowSelectable(p,!0);return}var h=i?i(d):!0;d.setRowSelectable(h,!0),!h&&d.isSelected()&&s.push(d)}};if(a){var u=this.rowModel,c=new Sy(!1,u.getRootNode());c.forEachChangedNodeDepthFirst(l,!0,!0)}else this.rowModel.forEachNode(l);s.length&&this.selectionService.setNodesSelected({nodes:s,newValue:!1,source:"selectableChanged"}),a&&this.selectionService instanceof XQ&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},nb([O("rowModel")],t.prototype,"rowModel",void 0),nb([O("selectionService")],t.prototype,"selectionService",void 0),nb([q],t.prototype,"init",null),t=nb([me("selectableService")],t),t}(re),KGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ra=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},YGe=function(n){KGe(t,n);function t(){var e=n.call(this)||this;return e.previousAndFirstButtonsDisabled=!1,e.nextButtonDisabled=!1,e.lastButtonDisabled=!1,e.areListenersSetup=!1,e}return t.prototype.postConstruct=function(){var e=this,r=this.gridOptionsService.get("enableRtl");this.setTemplate(this.getTemplate());var i=this,o=i.btFirst,a=i.btPrevious,s=i.btNext,l=i.btLast;i.pageSizeComp,this.activateTabIndex([o,a,s,l]),o.insertAdjacentElement("afterbegin",jn(r?"last":"first",this.gridOptionsService)),a.insertAdjacentElement("afterbegin",jn(r?"next":"previous",this.gridOptionsService)),s.insertAdjacentElement("afterbegin",jn(r?"previous":"next",this.gridOptionsService)),l.insertAdjacentElement("afterbegin",jn(r?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],function(){return e.onPageSizeRelatedOptionsChange()}),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.onPaginationChanged()},t.prototype.onPaginationChanged=function(){var e=this.gridOptionsService.get("pagination"),r=e&&!this.gridOptionsService.get("suppressPaginationPanel");this.setDisplayed(r),r&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels(),this.onPageSizeRelatedOptionsChange())},t.prototype.onPageSizeRelatedOptionsChange=function(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())},t.prototype.setupListeners=function(){var e=this;this.areListenersSetup||(this.addManagedListener(this.eventService,M.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(r){var i=r.el,o=r.fn;e.addManagedListener(i,"click",o),e.addManagedListener(i,"keydown",function(a){(a.key===K.ENTER||a.key===K.SPACE)&&(a.preventDefault(),o())})}),this.areListenersSetup=!0)},t.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},t.prototype.setCurrentPageLabel=function(){var e=this.paginationProxy.getTotalPages()>0,r=this.paginationProxy.getCurrentPage(),i=e?r+1:0;this.lbCurrent.textContent=this.formatNumber(i)},t.prototype.formatNumber=function(e){var r=this.gridOptionsService.getCallback("paginationNumberFormatter");if(r){var i={value:e};return r(i)}var o=this.localeService.getLocaleTextFunc(),a=o("thousandSeparator",","),s=o("decimalSeparator",".");return UV(e,a,s)},t.prototype.getTemplate=function(){var e=this.localeService.getLocaleTextFunc(),r=e("page","Page"),i=e("to","to"),o=e("of","of"),a=e("firstPage","First Page"),s=e("previousPage","Previous Page"),l=e("nextPage","Next Page"),u=e("lastPage","Last Page"),c=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'.concat(c,`">
                <ag-page-size-selector ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel" role="status">
                    <span id="ag-`).concat(c,`-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-`).concat(c,'-to">').concat(i,`</span>
                    <span id="ag-`).concat(c,`-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-`).concat(c,'-of">').concat(o,`</span>
                    <span id="ag-`).concat(c,`-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="`).concat(a,`"></div>
                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="`).concat(s,`"></div>
                    <span class="ag-paging-description" role="status">
                        <span id="ag-`).concat(c,'-start-page">').concat(r,`</span>
                        <span id="ag-`).concat(c,`-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-`).concat(c,'-of-page">').concat(o,`</span>
                        <span id="ag-`).concat(c,`-of-page-number" ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="`).concat(l,`"></div>
                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="`).concat(u,`"></div>
                </span>
            </div>`)},t.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},t.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},t.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},t.prototype.enableOrDisableButtons=function(){var e=this.paginationProxy.getCurrentPage(),r=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var o=this.isZeroPagesToDisplay(),a=e===i-1;this.nextButtonDisabled=a||o,this.lastButtonDisabled=!r||o||e===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},t.prototype.toggleButtonDisabled=function(e,r){MV(e,r),e.classList.toggle("ag-disabled",r)},t.prototype.updateRowLabels=function(){var e=this.paginationProxy.getCurrentPage(),r=this.paginationProxy.getPageSize(),i=this.paginationProxy.isLastPageFound(),o=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null,a,s;if(this.isZeroPagesToDisplay()?a=s=0:(a=r*e+1,s=a+r-1,i&&s>o&&(s=o)),this.lbFirstRowOnPage.textContent=this.formatNumber(a),this.rowNodeBlockLoader.isLoading()){var l=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=l("pageLastRowUnknown","?")}else this.lbLastRowOnPage.textContent=this.formatNumber(s)},t.prototype.isZeroPagesToDisplay=function(){var e=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.getTotalPages();return e&&r===0},t.prototype.setTotalLabels=function(){var e=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.getTotalPages(),i=e?this.paginationProxy.getMasterRowCount():null;if(i===1){var o=this.paginationProxy.getRow(0),a=o&&o.group&&!(o.groupData||o.aggData);if(a){this.setTotalLabelsToZero();return}}if(e)this.lbTotal.textContent=this.formatNumber(r),this.lbRecordCount.textContent=this.formatNumber(i);else{var s=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=s,this.lbRecordCount.innerHTML=s}},t.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.textContent=this.formatNumber(0),this.lbCurrent.textContent=this.formatNumber(0),this.lbLastRowOnPage.textContent=this.formatNumber(0),this.lbTotal.textContent=this.formatNumber(0),this.lbRecordCount.textContent=this.formatNumber(0)},Ra([O("paginationProxy")],t.prototype,"paginationProxy",void 0),Ra([O("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Ra([U("btFirst")],t.prototype,"btFirst",void 0),Ra([U("btPrevious")],t.prototype,"btPrevious",void 0),Ra([U("btNext")],t.prototype,"btNext",void 0),Ra([U("btLast")],t.prototype,"btLast",void 0),Ra([U("lbRecordCount")],t.prototype,"lbRecordCount",void 0),Ra([U("lbFirstRowOnPage")],t.prototype,"lbFirstRowOnPage",void 0),Ra([U("lbLastRowOnPage")],t.prototype,"lbLastRowOnPage",void 0),Ra([U("lbCurrent")],t.prototype,"lbCurrent",void 0),Ra([U("lbTotal")],t.prototype,"lbTotal",void 0),Ra([U("pageSizeComp")],t.prototype,"pageSizeComp",void 0),Ra([q],t.prototype,"postConstruct",null),t}(Ce),qGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),eL=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},XGe=function(n){qGe(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.inProgress=!1,e.destroyRequested=!1,e}return t.prototype.updateLayoutClasses=function(e,r){var i=this.eOverlayWrapper.classList;i.toggle(Nn.AUTO_HEIGHT,r.autoHeight),i.toggle(Nn.NORMAL,r.normal),i.toggle(Nn.PRINT,r.print)},t.prototype.postConstruct=function(){this.createManagedBean(new fB(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.registerOverlayWrapperComp(this)},t.prototype.setWrapperTypeClass=function(e){var r=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&r.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,r.toggle(e,!0)},t.prototype.showOverlay=function(e,r,i){var o=this;this.inProgress||(this.setWrapperTypeClass(r),this.destroyActiveOverlay(),this.inProgress=!0,e&&e.then(function(a){o.inProgress=!1,o.eOverlayWrapper.appendChild(a.getGui()),o.activeOverlay=a,o.updateListenerDestroyFunc=i,o.destroyRequested&&(o.destroyRequested=!1,o.destroyActiveOverlay())}),this.setDisplayed(!0,{skipAriaHidden:!0}))},t.prototype.destroyActiveOverlay=function(){var e;if(this.inProgress){this.destroyRequested=!0;return}this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),(e=this.updateListenerDestroyFunc)===null||e===void 0||e.call(this),gi(this.eOverlayWrapper))},t.prototype.hideOverlay=function(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})},t.prototype.destroy=function(){this.destroyActiveOverlay(),n.prototype.destroy.call(this)},t.TEMPLATE=`
        <div class="ag-overlay" role="presentation">
            <div class="ag-overlay-panel" role="presentation">
                <div class="ag-overlay-wrapper" ref="eOverlayWrapper" role="presentation"></div>
            </div>
        </div>`,eL([O("overlayService")],t.prototype,"overlayService",void 0),eL([U("eOverlayWrapper")],t.prototype,"eOverlayWrapper",void 0),eL([q],t.prototype,"postConstruct",null),t}(Ce),ZGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ib=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},sJ=function(n){ZGe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getFirstRow=function(){var e=0,r;return this.pinnedRowModel.getPinnedTopRowCount()?r="top":this.rowModel.getRowCount()?(r=null,e=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(r="bottom"),r===void 0?null:{rowIndex:e,rowPinned:r}},t.prototype.getLastRow=function(){var e,r=null,i=this.pinnedRowModel.getPinnedBottomRowCount(),o=this.pinnedRowModel.getPinnedTopRowCount();return i?(r="bottom",e=i-1):this.rowModel.getRowCount()?(r=null,e=this.paginationProxy.getPageLastRow()):o&&(r="top",e=o-1),e===void 0?null:{rowIndex:e,rowPinned:r}},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.sameRow=function(e,r){return!e&&!r?!0:e&&!r||!e&&r?!1:e.rowIndex===r.rowIndex&&e.rowPinned==r.rowPinned},t.prototype.before=function(e,r){switch(e.rowPinned){case"top":if(r.rowPinned!=="top")return!0;break;case"bottom":if(r.rowPinned!=="bottom")return!1;break;default:if(ye(r.rowPinned))return r.rowPinned!=="top";break}return e.rowIndex<r.rowIndex},t.prototype.rowMax=function(e){var r=this,i;return e.forEach(function(o){(i===void 0||r.before(i,o))&&(i=o)}),i},t.prototype.rowMin=function(e){var r=this,i;return e.forEach(function(o){(i===void 0||r.before(o,i))&&(i=o)}),i},ib([O("rowModel")],t.prototype,"rowModel",void 0),ib([O("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),ib([O("paginationProxy")],t.prototype,"paginationProxy",void 0),t=ib([me("rowPositionUtils")],t),t}(re),QGe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),JGe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},lJ=function(n){QGe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.createId=function(e){var r=e.rowIndex,i=e.rowPinned,o=e.column;return this.createIdFromValues({rowIndex:r,column:o,rowPinned:i})},t.prototype.createIdFromValues=function(e){var r=e.rowIndex,i=e.rowPinned,o=e.column;return"".concat(r,".").concat(i??"null",".").concat(o.getId())},t.prototype.equals=function(e,r){var i=e.column===r.column,o=e.rowPinned===r.rowPinned,a=e.rowIndex===r.rowIndex;return i&&o&&a},t=JGe([me("cellPositionUtils")],t),t}(re),eVe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),bS=function(){function n(t){this.cellValueChanges=t}return n}(),tL=function(n){eVe(t,n);function t(e,r,i,o){var a=n.call(this,e)||this;return a.initialRange=r,a.finalRange=i,a.ranges=o,a}return t}(bS),HU=function(){function n(t){this.actionStack=[],this.maxStackSize=t||n.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return n.prototype.pop=function(){return this.actionStack.pop()},n.prototype.push=function(t){var e=t.cellValueChanges&&t.cellValueChanges.length>0;e&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(t))},n.prototype.clear=function(){this.actionStack=[]},n.prototype.getCurrentStackSize=function(){return this.actionStack.length},n.DEFAULT_STACK_SIZE=10,n}(),tVe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),TR=function(){return TR=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},TR.apply(this,arguments)},ru=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},rVe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},nVe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},iVe=function(n){tVe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.cellValueChanges=[],e.activeCellEdit=null,e.activeRowEdit=null,e.isPasting=!1,e.isRangeInAction=!1,e.onCellValueChanged=function(r){var i={column:r.column,rowIndex:r.rowIndex,rowPinned:r.rowPinned},o=e.activeCellEdit!==null&&e.cellPositionUtils.equals(e.activeCellEdit,i),a=e.activeRowEdit!==null&&e.rowPositionUtils.sameRow(e.activeRowEdit,i),s=o||a||e.isPasting||e.isRangeInAction;if(s){var l=r.rowPinned,u=r.rowIndex,c=r.column,d=r.oldValue,p=r.value,h={rowPinned:l,rowIndex:u,columnId:c.getColId(),newValue:p,oldValue:d};e.cellValueChanges.push(h)}},e.clearStacks=function(){e.undoStack.clear(),e.redoStack.clear()},e}return t.prototype.init=function(){var e=this;if(this.gridOptionsService.get("undoRedoCellEditing")){var r=this.gridOptionsService.get("undoRedoCellEditingLimit");r<=0||(this.undoStack=new HU(r),this.redoStack=new HU(r),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,M.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,M.EVENT_MODEL_UPDATED,function(i){i.keepUndoRedoStack||e.clearStacks()}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,M.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,M.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,M.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl()}))}},t.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},t.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},t.prototype.undo=function(e){var r={type:M.EVENT_UNDO_STARTED,source:e};this.eventService.dispatchEvent(r);var i=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo"),o={type:M.EVENT_UNDO_ENDED,source:e,operationPerformed:i};this.eventService.dispatchEvent(o)},t.prototype.redo=function(e){var r={type:M.EVENT_REDO_STARTED,source:e};this.eventService.dispatchEvent(r);var i=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo"),o={type:M.EVENT_REDO_ENDED,source:e,operationPerformed:i};this.eventService.dispatchEvent(o)},t.prototype.undoRedo=function(e,r,i,o,a){if(!e)return!1;var s=e.pop();return!s||!s.cellValueChanges?!1:(this.processAction(s,function(l){return l[o]},a),s instanceof tL?this.processRange(s.ranges||[s[i]]):this.processCell(s.cellValueChanges),r.push(s),!0)},t.prototype.processAction=function(e,r,i){var o=this;e.cellValueChanges.forEach(function(a){var s=a.rowIndex,l=a.rowPinned,u=a.columnId,c={rowIndex:s,rowPinned:l},d=o.getRowNode(c);d.displayed&&d.setDataValue(u,r(a),i)})},t.prototype.processRange=function(e){var r=this,i;this.rangeService.removeAllCellRanges(!0),e.forEach(function(o,a){if(o){var s=o.startRow,l=o.endRow;a===e.length-1&&(i={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:o.startColumn.getColId()},r.setLastFocusedCell(i));var u={rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:l.rowIndex,rowEndPinned:l.rowPinned,columnStart:o.startColumn,columns:o.columns};r.rangeService.addCellRange(u)}})},t.prototype.processCell=function(e){var r=e[0],i=r.rowIndex,o=r.rowPinned,a={rowIndex:i,rowPinned:o},s=this.getRowNode(a),l={rowPinned:r.rowPinned,rowIndex:s.rowIndex,columnId:r.columnId};this.setLastFocusedCell(l,!!this.rangeService)},t.prototype.setLastFocusedCell=function(e,r){var i=e.rowIndex,o=e.columnId,a=e.rowPinned,s=this.gridBodyCtrl.getScrollFeature(),l=this.columnModel.getGridColumn(o);if(l){s.ensureIndexVisible(i),s.ensureColumnVisible(l);var u={rowIndex:i,column:l,rowPinned:a};this.focusService.setFocusedCell(TR(TR({},u),{forceBrowserFocus:!0})),r&&this.rangeService.setRangeToCell(u)}},t.prototype.addRowEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,M.EVENT_ROW_EDITING_STARTED,function(r){e.activeRowEdit={rowIndex:r.rowIndex,rowPinned:r.rowPinned}}),this.addManagedListener(this.eventService,M.EVENT_ROW_EDITING_STOPPED,function(){var r=new bS(e.cellValueChanges);e.pushActionsToUndoStack(r),e.activeRowEdit=null})},t.prototype.addCellEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,M.EVENT_CELL_EDITING_STARTED,function(r){e.activeCellEdit={column:r.column,rowIndex:r.rowIndex,rowPinned:r.rowPinned}}),this.addManagedListener(this.eventService,M.EVENT_CELL_EDITING_STOPPED,function(r){e.activeCellEdit=null;var i=r.valueChanged&&!e.activeRowEdit&&!e.isPasting&&!e.isRangeInAction;if(i){var o=new bS(e.cellValueChanges);e.pushActionsToUndoStack(o)}})},t.prototype.addPasteListeners=function(){var e=this;this.addManagedListener(this.eventService,M.EVENT_PASTE_START,function(){e.isPasting=!0}),this.addManagedListener(this.eventService,M.EVENT_PASTE_END,function(){var r=new bS(e.cellValueChanges);e.pushActionsToUndoStack(r),e.isPasting=!1})},t.prototype.addFillListeners=function(){var e=this;this.addManagedListener(this.eventService,M.EVENT_FILL_START,function(){e.isRangeInAction=!0}),this.addManagedListener(this.eventService,M.EVENT_FILL_END,function(r){var i=new tL(e.cellValueChanges,r.initialRange,r.finalRange);e.pushActionsToUndoStack(i),e.isRangeInAction=!1})},t.prototype.addCellKeyListeners=function(){var e=this;this.addManagedListener(this.eventService,M.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,function(){e.isRangeInAction=!0}),this.addManagedListener(this.eventService,M.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,function(){var r;e.rangeService&&e.gridOptionsService.get("enableRangeSelection")?r=new tL(e.cellValueChanges,void 0,void 0,nVe([],rVe(e.rangeService.getCellRanges()),!1)):r=new bS(e.cellValueChanges),e.pushActionsToUndoStack(r),e.isRangeInAction=!1})},t.prototype.pushActionsToUndoStack=function(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},ru([O("focusService")],t.prototype,"focusService",void 0),ru([O("ctrlsService")],t.prototype,"ctrlsService",void 0),ru([O("rowModel")],t.prototype,"rowModel",void 0),ru([O("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),ru([O("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),ru([O("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),ru([O("columnModel")],t.prototype,"columnModel",void 0),ru([xt("rangeService")],t.prototype,"rangeService",void 0),ru([q],t.prototype,"init",null),t=ru([me("undoRedoService")],t),t}(re),oVe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),rL=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},uJ=function(n){oVe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.findHeader=function(e,r){var i,o,a;if(e.column instanceof Fn?(o="getDisplayedGroup".concat(r),i=this.columnModel[o](e.column)):(a="getDisplayedCol".concat(r),i=this.columnModel[a](e.column)),!!i){var s=e.headerRowIndex;if(this.getHeaderRowType(s)!==Ei.FLOATING_FILTER){for(var l=[i];i.getParent();)i=i.getParent(),l.push(i);i=l[l.length-1-s]}var u=this.getHeaderIndexToFocus(i,s),c=u.column,d=u.headerRowIndex;return{column:c,headerRowIndex:d}}},t.prototype.getHeaderIndexToFocus=function(e,r){var i;if(e instanceof Fn&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding()){var o=e;i=o.getLeafColumns()[0];for(var a=i;a!==o;)r++,a=a.getParent()}return{column:i||e,headerRowIndex:r}},t.prototype.isAnyChildSpanningHeaderHeight=function(e){return e?e.getLeafColumns().some(function(r){return r.isSpanHeaderHeight()}):!1},t.prototype.getColumnVisibleParent=function(e,r){var i=this.getHeaderRowType(r),o=i===Ei.FLOATING_FILTER,a=i===Ei.COLUMN,s=o?e:e.getParent(),l=r-1,u=l;if(a&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;s&&s.isPadding();)s=s.getParent(),l--;u=l,l<0&&(s=e,l=r,u=void 0)}return{column:s,headerRowIndex:l,headerRowIndexWithoutSpan:u}},t.prototype.getColumnVisibleChild=function(e,r,i){i===void 0&&(i="After");var o=this.getHeaderRowType(r),a=e,s=r+1,l=s;if(o===Ei.COLUMN_GROUP){for(var u=e.getDisplayedLeafColumns(),c=i==="After"?u[0]:Yt(u),d=[],p=c;p.getParent()!==e;)p=p.getParent(),d.push(p);if(a=c,c.isSpanHeaderHeight())for(var h=d.length-1;h>=0;h--){var f=d[h];if(!f.isPadding()){a=f;break}s++}else a=Yt(d),a||(a=c)}return{column:a,headerRowIndex:s,headerRowIndexWithoutSpan:l}},t.prototype.getHeaderRowType=function(e){var r=this.ctrlsService.getHeaderRowContainerCtrl();if(r)return r.getRowType(e)},t.prototype.findColAtEdgeForHeaderRow=function(e,r){var i=this.columnModel.getAllDisplayedColumns(),o=i[r==="start"?0:i.length-1];if(o){var a=this.ctrlsService.getHeaderRowContainerCtrl(o.getPinned()),s=a.getRowType(e);if(s==Ei.COLUMN_GROUP){var l=this.columnModel.getColumnGroupAtLevel(o,e);return{headerRowIndex:e,column:l}}return{headerRowIndex:s==null?-1:e,column:o}}},rL([O("columnModel")],t.prototype,"columnModel",void 0),rL([O("ctrlsService")],t.prototype,"ctrlsService",void 0),t=rL([me("headerPositionUtils")],t),t}(re),aVe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},sVe=function(){function n(){}return n.prototype.buildColumnDefs=function(t,e,r){var i=this,o=[],a={};return t.forEach(function(s){for(var l=i.createDefFromColumn(s,e,r),u=!0,c=l,d=s.getOriginalParent(),p=null;d;){var h=null;if(d.isPadding()){d=d.getOriginalParent();continue}var f=a[d.getGroupId()];if(f){f.children.push(c),u=!1;break}if(h=i.createDefFromGroup(d),h&&(h.children=[c],a[h.groupId]=h,c=h,d=d.getOriginalParent()),d!=null&&p===d){u=!1;break}p=d}u&&o.push(c)}),o},n.prototype.createDefFromGroup=function(t){var e=cR(t.getColGroupDef(),["children"]);return e&&(e.groupId=t.getGroupId()),e},n.prototype.createDefFromColumn=function(t,e,r){var i=cR(t.getColDef());return i.colId=t.getColId(),i.width=t.getActualWidth(),i.rowGroup=t.isRowGroupActive(),i.rowGroupIndex=t.isRowGroupActive()?e.indexOf(t):null,i.pivot=t.isPivotActive(),i.pivotIndex=t.isPivotActive()?r.indexOf(t):null,i.aggFunc=t.isValueActive()?t.getAggFunc():null,i.hide=t.isVisible()?void 0:!0,i.pinned=t.isPinned()?t.getPinned():null,i.sort=t.getSort()?t.getSort():null,i.sortIndex=t.getSortIndex()!=null?t.getSortIndex():null,i},n=aVe([me("columnDefFactory")],n),n}(),nL=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},lVe=function(){function n(){}return n.prototype.getInitialRowClasses=function(t){var e=[];return ye(t.extraCssClass)&&e.push(t.extraCssClass),e.push("ag-row"),e.push(t.rowFocused?"ag-row-focus":"ag-row-no-focus"),t.fadeRowIn&&e.push("ag-opacity-zero"),e.push(t.rowIsEven?"ag-row-even":"ag-row-odd"),t.rowNode.isRowPinned()&&e.push("ag-row-pinned"),t.rowNode.isSelected()&&e.push("ag-row-selected"),t.rowNode.footer&&e.push("ag-row-footer"),e.push("ag-row-level-"+t.rowLevel),t.rowNode.stub&&e.push("ag-row-loading"),t.fullWidthRow&&e.push("ag-full-width-row"),t.expandable&&(e.push("ag-row-group"),e.push(t.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),t.rowNode.dragging&&e.push("ag-row-dragging"),a1(e,this.processClassesFromGridOptions(t.rowNode)),a1(e,this.preProcessRowClassRules(t.rowNode)),e.push(t.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),t.firstRowOnPage&&e.push("ag-row-first"),t.lastRowOnPage&&e.push("ag-row-last"),t.fullWidthRow&&(t.pinned==="left"&&e.push("ag-cell-last-left-pinned"),t.pinned==="right"&&e.push("ag-cell-first-right-pinned")),e},n.prototype.processClassesFromGridOptions=function(t){var e=[],r=function(l){typeof l=="string"?e.push(l):Array.isArray(l)&&l.forEach(function(u){return e.push(u)})},i=this.gridOptionsService.get("rowClass");if(i){if(typeof i=="function")return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];r(i)}var o=this.gridOptionsService.getCallback("getRowClass");if(o){var a={data:t.data,node:t,rowIndex:t.rowIndex},s=o(a);r(s)}return e},n.prototype.preProcessRowClassRules=function(t){var e=[];return this.processRowClassRules(t,function(r){e.push(r)},function(r){}),e},n.prototype.processRowClassRules=function(t,e,r){var i=this.gridOptionsService.addGridCommonParams({data:t.data,node:t,rowIndex:t.rowIndex});this.stylingService.processClassRules(void 0,this.gridOptionsService.get("rowClassRules"),i,e,r)},n.prototype.calculateRowLevel=function(t){return t.group?t.level:t.parent?t.parent.level+1:0},nL([O("stylingService")],n.prototype,"stylingService",void 0),nL([O("gridOptionsService")],n.prototype,"gridOptionsService",void 0),n=nL([me("rowCssClassCalculator")],n),n}(),uVe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ob=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},cJ=function(n){uVe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(){var e=this;this.isAccentedSort=this.gridOptionsService.get("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",function(r){return e.isAccentedSort=r.currentValue}),this.addManagedPropertyListener("autoGroupColumnDef",function(){return e.primaryColumnsSortGroups=e.gridOptionsService.isColumnsSortingCoupledToGroup()})},t.prototype.doFullSort=function(e,r){var i=function(a,s){return{currentPos:s,rowNode:a}},o=e.map(i);return o.sort(this.compareRowNodes.bind(this,r)),o.map(function(a){return a.rowNode})},t.prototype.compareRowNodes=function(e,r,i){for(var o=r.rowNode,a=i.rowNode,s=0,l=e.length;s<l;s++){var u=e[s],c=u.sort==="desc",d=this.getValue(o,u.column),p=this.getValue(a,u.column),h=void 0,f=this.getComparator(u,o);f?h=f(d,p,o,a,c):h=F.defaultComparator(d,p,this.isAccentedSort);var v=!isNaN(h);if(v&&h!==0)return u.sort==="asc"?h:h*-1}return r.currentPos-i.currentPos},t.prototype.getComparator=function(e,r){var i=e.column,o=i.getColDef().comparator;if(o!=null)return o;if(i.getColDef().showRowGroup){var a=!r.group&&i.getColDef().field;if(a){var s=this.columnModel.getPrimaryColumn(a);if(s)return s.getColDef().comparator}}},t.prototype.getValue=function(e,r){var i,o;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(r,e,!1,!1);var a=e.rowGroupColumn===r;if(a){var s=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive());if(s){var l=(i=e.allLeafChildren)===null||i===void 0?void 0:i[0];return l?this.valueService.getValue(r,l,!1,!1):void 0}var u=this.columnModel.getGroupDisplayColumnForGroup(r.getId());return u?(o=e.groupData)===null||o===void 0?void 0:o[u.getId()]:void 0}if(!(e.group&&r.getColDef().showRowGroup))return this.valueService.getValue(r,e,!1,!1)},ob([O("valueService")],t.prototype,"valueService",void 0),ob([O("columnModel")],t.prototype,"columnModel",void 0),ob([q],t.prototype,"init",null),t=ob([me("rowNodeSorter")],t),t}(re),cVe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),dVe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},dJ=function(n){cVe(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.ready=!1,r.readyCallbacks=[],r}e=t,t.prototype.checkReady=function(){if(this.ready=this.gridCtrl!=null&&this.gridBodyCtrl!=null&&this.centerRowContainerCtrl!=null&&this.leftRowContainerCtrl!=null&&this.rightRowContainerCtrl!=null&&this.bottomCenterRowContainerCtrl!=null&&this.bottomLeftRowContainerCtrl!=null&&this.bottomRightRowContainerCtrl!=null&&this.topCenterRowContainerCtrl!=null&&this.topLeftRowContainerCtrl!=null&&this.topRightRowContainerCtrl!=null&&this.stickyTopCenterRowContainerCtrl!=null&&this.stickyTopLeftRowContainerCtrl!=null&&this.stickyTopRightRowContainerCtrl!=null&&this.centerHeaderRowContainerCtrl!=null&&this.leftHeaderRowContainerCtrl!=null&&this.rightHeaderRowContainerCtrl!=null&&this.fakeHScrollComp!=null&&this.fakeVScrollComp!=null&&this.gridHeaderCtrl!=null,this.ready){var r=this.createReadyParams();this.readyCallbacks.forEach(function(i){return i(r)}),this.readyCallbacks.length=0}},t.prototype.whenReady=function(r){this.ready?r(this.createReadyParams()):this.readyCallbacks.push(r)},t.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},t.prototype.registerFakeHScrollComp=function(r){this.fakeHScrollComp=r,this.checkReady()},t.prototype.registerFakeVScrollComp=function(r){this.fakeVScrollComp=r,this.checkReady()},t.prototype.registerGridHeaderCtrl=function(r){this.gridHeaderCtrl=r,this.checkReady()},t.prototype.registerCenterRowContainerCtrl=function(r){this.centerRowContainerCtrl=r,this.checkReady()},t.prototype.registerLeftRowContainerCtrl=function(r){this.leftRowContainerCtrl=r,this.checkReady()},t.prototype.registerRightRowContainerCtrl=function(r){this.rightRowContainerCtrl=r,this.checkReady()},t.prototype.registerTopCenterRowContainerCtrl=function(r){this.topCenterRowContainerCtrl=r,this.checkReady()},t.prototype.registerTopLeftRowContainerCon=function(r){this.topLeftRowContainerCtrl=r,this.checkReady()},t.prototype.registerTopRightRowContainerCtrl=function(r){this.topRightRowContainerCtrl=r,this.checkReady()},t.prototype.registerStickyTopCenterRowContainerCtrl=function(r){this.stickyTopCenterRowContainerCtrl=r,this.checkReady()},t.prototype.registerStickyTopLeftRowContainerCon=function(r){this.stickyTopLeftRowContainerCtrl=r,this.checkReady()},t.prototype.registerStickyTopRightRowContainerCtrl=function(r){this.stickyTopRightRowContainerCtrl=r,this.checkReady()},t.prototype.registerBottomCenterRowContainerCtrl=function(r){this.bottomCenterRowContainerCtrl=r,this.checkReady()},t.prototype.registerBottomLeftRowContainerCtrl=function(r){this.bottomLeftRowContainerCtrl=r,this.checkReady()},t.prototype.registerBottomRightRowContainerCtrl=function(r){this.bottomRightRowContainerCtrl=r,this.checkReady()},t.prototype.registerHeaderContainer=function(r,i){switch(i){case"left":this.leftHeaderRowContainerCtrl=r;break;case"right":this.rightHeaderRowContainerCtrl=r;break;default:this.centerHeaderRowContainerCtrl=r;break}this.checkReady()},t.prototype.registerGridBodyCtrl=function(r){this.gridBodyCtrl=r,this.checkReady()},t.prototype.registerGridCtrl=function(r){this.gridCtrl=r,this.checkReady()},t.prototype.getFakeHScrollComp=function(){return this.fakeHScrollComp},t.prototype.getFakeVScrollComp=function(){return this.fakeVScrollComp},t.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},t.prototype.getGridCtrl=function(){return this.gridCtrl},t.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},t.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},t.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},t.prototype.getStickyTopCenterRowContainerCtrl=function(){return this.stickyTopCenterRowContainerCtrl},t.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},t.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},t.prototype.getHeaderRowContainerCtrl=function(r){switch(r){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}};var e;return t.NAME="ctrlsService",t=e=dVe([me(e.NAME)],t),t}(re),pVe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),hVe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},fVe=function(n){pVe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.registry={},e}return t.prototype.register=function(e){this.registry[e.controllerName]=e.controllerClass},t.prototype.getInstance=function(e){var r=this.registry[e];if(r!=null)return new r},t=hVe([me("ctrlsFactory")],t),t}(re),vVe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),LC=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},pJ=function(n){vVe(t,n);function t(e,r){var i=n.call(this,e)||this;return i.direction=r,i.hideTimeout=null,i}return t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,M.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",HV()||vd())},t.prototype.initialiseInvisibleScrollbar=function(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=WV(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))},t.prototype.addActiveListenerToggles=function(){var e=this,r=["mouseenter","mousedown","touchstart"],i=["mouseleave","touchend"],o=this.getGui();r.forEach(function(a){return e.addManagedListener(o,a,function(){return e.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),i.forEach(function(a){return e.addManagedListener(o,a,function(){return e.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},t.prototype.onScrollVisibilityChanged=function(){var e=this;this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(function(){return e.setScrollVisible()})},t.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var e=this;this.addManagedListener(this.eventService,M.EVENT_BODY_SCROLL,function(r){r.direction===e.direction&&(e.hideTimeout!==null&&(window.clearTimeout(e.hideTimeout),e.hideTimeout=null),e.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,M.EVENT_BODY_SCROLL_END,function(){e.hideTimeout=window.setTimeout(function(){e.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),e.hideTimeout=null},400)})},t.prototype.attemptSettingScrollPosition=function(e){var r=this,i=this.getViewport();bV(function(){return as(i)},function(){return r.setScrollPosition(e)},100)},t.prototype.getViewport=function(){return this.eViewport},t.prototype.getContainer=function(){return this.eContainer},t.prototype.onScrollCallback=function(e){this.addManagedListener(this.getViewport(),"scroll",e)},LC([U("eViewport")],t.prototype,"eViewport",void 0),LC([U("eContainer")],t.prototype,"eContainer",void 0),LC([O("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),LC([O("ctrlsService")],t.prototype,"ctrlsService",void 0),LC([O("animationFrameService")],t.prototype,"animationFrameService",void 0),t}(Ce),gVe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),FC=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},mVe=function(n){gVe(t,n);function t(){return n.call(this,t.TEMPLATE,"horizontal")||this}return t.prototype.postConstruct=function(){var e=this;n.prototype.postConstruct.call(this);var r=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,r),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,r),this.addManagedListener(this.eventService,M.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",r),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new gB(function(i){return e.eContainer.style.width="".concat(i,"px")})),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))},t.prototype.initialiseInvisibleScrollbar=function(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gridOptionsService.get("enableRtl"),n.prototype.initialiseInvisibleScrollbar.call(this),this.invisibleScrollbar&&this.refreshCompBottom())},t.prototype.onPinnedRowDataChanged=function(){this.refreshCompBottom()},t.prototype.refreshCompBottom=function(){if(this.invisibleScrollbar){var e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom="".concat(e,"px")}},t.prototype.onScrollVisibilityChanged=function(){n.prototype.onScrollVisibilityChanged.call(this),this.setFakeHScrollSpacerWidths()},t.prototype.setFakeHScrollSpacerWidths=function(){var e=this.scrollVisibleService.isVerticalScrollShowing(),r=this.columnModel.getDisplayedColumnsRightWidth(),i=!this.enableRtl&&e,o=this.gridOptionsService.getScrollbarWidth();i&&(r+=o),Bs(this.eRightSpacer,r),this.eRightSpacer.classList.toggle("ag-scroller-corner",r<=o);var a=this.columnModel.getDisplayedColumnsLeftWidth(),s=this.enableRtl&&e;s&&(a+=o),Bs(this.eLeftSpacer,a),this.eLeftSpacer.classList.toggle("ag-scroller-corner",a<=o)},t.prototype.setScrollVisible=function(){var e=this.scrollVisibleService.isHorizontalScrollShowing(),r=this.invisibleScrollbar,i=this.gridOptionsService.get("suppressHorizontalScroll"),o=e&&this.gridOptionsService.getScrollbarWidth()||0,a=o===0&&r?16:o,s=i?0:a;this.addOrRemoveCssClass("ag-scrollbar-invisible",r),Uf(this.getGui(),s),Uf(this.eViewport,s),Uf(this.eContainer,s),this.setDisplayed(e,{skipAriaHidden:!0})},t.prototype.getScrollPosition=function(){return y0(this.getViewport(),this.enableRtl)},t.prototype.setScrollPosition=function(e){as(this.getViewport())||this.attemptSettingScrollPosition(e),C0(this.getViewport(),e,this.enableRtl)},t.TEMPLATE=`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>
        </div>`,FC([U("eLeftSpacer")],t.prototype,"eLeftSpacer",void 0),FC([U("eRightSpacer")],t.prototype,"eRightSpacer",void 0),FC([O("columnModel")],t.prototype,"columnModel",void 0),FC([O("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),FC([q],t.prototype,"postConstruct",null),t}(pJ),yVe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),iL=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},CVe=function(n){yVe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){var e=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedPropertyListener("domLayout",e)},t.prototype.checkContainerWidths=function(){var e=this.gridOptionsService.isDomLayout("print"),r=e?0:this.columnModel.getDisplayedColumnsLeftWidth(),i=e?0:this.columnModel.getDisplayedColumnsRightWidth();r!=this.leftWidth&&(this.leftWidth=r,this.eventService.dispatchEvent({type:M.EVENT_LEFT_PINNED_WIDTH_CHANGED})),i!=this.rightWidth&&(this.rightWidth=i,this.eventService.dispatchEvent({type:M.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},t.prototype.getPinnedRightWidth=function(){return this.rightWidth},t.prototype.getPinnedLeftWidth=function(){return this.leftWidth},iL([O("columnModel")],t.prototype,"columnModel",void 0),iL([q],t.prototype,"postConstruct",null),t=iL([me("pinnedWidthService")],t),t}(re),SVe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ab=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},wVe=function(n){SVe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.events=[],e}return t.prototype.postConstruct=function(){this.rowModel.getType()=="clientSide"&&(this.clientSideRowModel=this.rowModel)},t.prototype.dispatchExpanded=function(e){var r=this;if(this.clientSideRowModel==null){this.eventService.dispatchEvent(e);return}this.events.push(e);var i=function(){r.clientSideRowModel&&r.clientSideRowModel.onRowGroupOpened(),r.events.forEach(function(o){return r.eventService.dispatchEvent(o)}),r.events=[]};this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(i)),this.dispatchExpandedDebounced()},ab([O("animationFrameService")],t.prototype,"animationFrameService",void 0),ab([O("rowModel")],t.prototype,"rowModel",void 0),ab([q],t.prototype,"postConstruct",null),t=ab([me("rowNodeEventThrottle")],t),t}(re),_Ve={columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."}},Bd=function(n,t){var e;return((e=t.rowModelType)!==null&&e!==void 0?e:"clientSide")==="clientSide"?{module:Te.RowGroupingModule}:null},xVe={enableRowGroup:Bd,rowGroup:Bd,rowGroupIndex:Bd,enablePivot:Bd,enableValue:Bd,pivot:Bd,pivotIndex:Bd,aggFunc:Bd,cellEditor:function(n){return n.cellEditor==="agRichSelect"||n.cellEditor==="agRichSelectCellEditor"?{module:Te.RichSelectModule}:null},menuTabs:function(n){var t,e=["columnsMenuTab","generalMenuTab"];return!((t=n.menuTabs)===null||t===void 0)&&t.some(function(r){return e.includes(r)})?{module:Te.MenuModule}:null},columnsMenuParams:{module:[Te.MenuModule,Te.ColumnsToolPanelModule]},columnChooserParams:{module:[Te.MenuModule,Te.ColumnsToolPanelModule]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],dependencies:function(n,t){var e=t.rowSelection;return e==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"}},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],dependencies:function(n,t){var e=t.rowSelection;return e==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"}},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],dependencies:function(n,t){var e=t.rowSelection;return e==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"}},children:function(){return Kg}},Kg={objectName:"colDef",allProperties:iQ.ALL_PROPERTIES,docsUrl:"column-properties/",deprecations:_Ve,validations:xVe},$U=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},WU=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},bVe={enableChartToolPanelsButton:{version:"29",message:"The Chart Tool Panels button is now enabled by default. To hide the Chart Tool Panels button and display the hamburger button instead, set suppressChartToolPanelsButton=true."},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",renamed:"enterNavigatesVertically"},enterMovesDownAfterEdit:{version:"30",renamed:"enterNavigatesVerticallyAfterEdit"},suppressParentsInRowNodes:{version:"30.2",message:"Using suppressParentsInRowNodes is no longer recommended. To serialize nodes it is now recommended to instead remove the parent node reference before serialization."},advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"}},EVe={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!1,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,suppressChartToolPanelsButton:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,functionsPassive:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1},OVe={sideBar:{module:Te.SideBarModule},statusBar:{module:Te.StatusBarModule},enableCharts:{module:Te.GridChartsModule},getMainMenuItems:{module:Te.MenuModule},getContextMenuItems:{module:Te.MenuModule},allowContextMenuWithControlKey:{module:Te.MenuModule},enableAdvancedFilter:{module:Te.AdvancedFilterModule},treeData:{supportedRowModels:["clientSide","serverSide"],module:Te.RowGroupingModule,dependencies:function(n){var t,e=(t=n.rowModelType)!==null&&t!==void 0?t:"clientSide";switch(e){case"clientSide":var r="treeData requires 'getDataPath' in the ".concat(e," row model.");return n.getDataPath?null:r;case"serverSide":var i="treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ".concat(e," row model.");return n.isServerSideGroup&&n.getServerSideGroupKey?null:i}return null}},masterDetail:{module:Te.MasterDetailModule},enableRangeSelection:{module:Te.RangeSelectionModule},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],dependencies:function(n){var t,e=(t=n.rowModelType)!==null&&t!==void 0?t:"clientSide";switch(e){case"clientSide":return null;case"serverSide":var r="groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll";return n.suppressServerSideInfiniteScroll?r:null}return null}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},suppressParentsInRowNodes:{dependencies:{groupSelectsChildren:[void 0,!1]}},viewportDatasource:{supportedRowModels:["viewport"],module:Te.ViewportRowModelModule},serverSideDatasource:{supportedRowModels:["serverSide"],module:Te.ServerSideRowModelModule},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:Te.InfiniteRowModelModule},rowData:{supportedRowModels:["clientSide"],module:Te.ClientSideRowModelModule},columnDefs:function(){return Kg},defaultColDef:function(){return Kg},defaultColGroupDef:function(){return Kg},autoGroupColumnDef:function(){return Kg}},RVe={objectName:"gridOptions",allProperties:WU(WU([],$U(gl.ALL_PROPERTIES),!1),$U(PV.EVENT_CALLBACKS),!1),propertyExceptions:["api","columnApi"],docsUrl:"grid-options/",deprecations:bVe,validations:OVe},nu=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},sb=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},oL=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},EB=function(){function n(){var e=this;this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new Vl,this.globalEventHandlerFactory=function(r){return function(i,o){if(!e.destroyed){var a=t.alwaysSyncGlobalEvents.has(i);if(!(a&&!r||!a&&r)){var s=PV.getCallbackForEvent(i),l=e.gridOptions[s];typeof l=="function"&&e.frameworkOverrides.wrapOutgoing(function(){l(o)})}}}}}t=n,Object.defineProperty(n.prototype,"context",{get:function(){return this.gridOptions.context},enumerable:!1,configurable:!0}),n.prototype.init=function(){this.columnApi=new T_(this.api);var e=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),e),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.getScrollbarWidth()},n.prototype.destroy=function(){this.destroyed=!0,this.columnApi=void 0},n.prototype.get=function(e){var r;return(r=this.gridOptions[e])!==null&&r!==void 0?r:EVe[e]},n.prototype.getCallback=function(e){return this.mergeGridCommonParams(this.gridOptions[e])},n.prototype.exists=function(e){return ye(this.gridOptions[e])},n.prototype.mergeGridCommonParams=function(e){var r=this;if(e){var i=function(o){var a=o;return a.api=r.api,a.columnApi=r.columnApi,a.context=r.context,e(a)};return i}return e},n.toBoolean=function(e){return typeof e=="boolean"?e:typeof e=="string"?e.toUpperCase()==="TRUE"||e=="":!1},n.toNumber=function(e){if(typeof e=="number")return e;if(typeof e=="string"){var r=parseInt(e);return isNaN(r)?void 0:r}},n.toConstrainedNum=function(e,r){return function(i){var o=t.toNumber(i);if(!(o==null||o<e||o>r))return o}},n.getCoercedValue=function(e,r){var i=t.PROPERTY_COERCIONS.get(e);return i?i(r):r},n.getCoercedGridOptions=function(e){var r={};return Object.entries(e).forEach(function(i){var o=sb(i,2),a=o[0],s=o[1],l=t.getCoercedValue(a,s);r[a]=l}),r},n.prototype.updateGridOptions=function(e){var r=this,i=e.options,o=e.source,a=o===void 0?"api":o,s={id:t.changeSetId++,properties:[]},l=[];Object.entries(i).forEach(function(u){var c=sb(u,2),d=c[0],p=c[1];a==="api"&&gLe[d]&&at("".concat(d," is an initial property and cannot be updated."));var h=t.getCoercedValue(d,p),f=typeof h=="object"&&a==="api",v=r.gridOptions[d];if(f||v!==h){r.gridOptions[d]=h;var g={type:d,currentValue:h,previousValue:v,changeSet:s,source:a};l.push(g)}}),this.validationService.processGridOptions(this.gridOptions),s.properties=l.map(function(u){return u.type}),l.forEach(function(u){r.gridOptions.debug&&console.log("AG Grid: Updated property ".concat(u.type," from "),u.previousValue," to  ",u.currentValue),r.propertyEventService.dispatchEvent(u)})},n.prototype.addEventListener=function(e,r){this.propertyEventService.addEventListener(e,r)},n.prototype.removeEventListener=function(e,r){this.propertyEventService.removeEventListener(e,r)},n.prototype.getScrollbarWidth=function(){if(this.scrollbarWidth==null){var e=typeof this.gridOptions.scrollbarWidth=="number"&&this.gridOptions.scrollbarWidth>=0,r=e?this.gridOptions.scrollbarWidth:dZ();r!=null&&(this.scrollbarWidth=r,this.eventService.dispatchEvent({type:M.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},n.prototype.isRowModelType=function(e){return this.gridOptions.rowModelType===e||e==="clientSide"&&pt(this.gridOptions.rowModelType)},n.prototype.isDomLayout=function(e){var r,i=(r=this.gridOptions.domLayout)!==null&&r!==void 0?r:"normal";return i===e},n.prototype.isRowSelection=function(){return this.gridOptions.rowSelection==="single"||this.gridOptions.rowSelection==="multiple"},n.prototype.useAsyncEvents=function(){return!this.get("suppressAsyncEvents")},n.prototype.isGetRowHeightFunction=function(){return typeof this.gridOptions.getRowHeight=="function"},n.prototype.getRowHeightForNode=function(e,r,i){if(r===void 0&&(r=!1),i==null&&(i=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(r)return{height:i,estimated:!0};var o={node:e,data:e.data},a=this.getCallback("getRowHeight")(o);if(this.isNumeric(a))return a===0&&at("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,a),estimated:!1}}if(e.detail&&this.get("masterDetail"))return this.getMasterDetailRowHeight();var s=this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:i;return{height:s,estimated:!1}},n.prototype.getMasterDetailRowHeight=function(){return this.get("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}},n.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||pt(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();var e=this.environment.refreshRowHeightVariable();return e!==-1?e:(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())},n.prototype.isNumeric=function(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)},n.prototype.getDomDataKey=function(){return this.domDataKey},n.prototype.getDomData=function(e,r){var i=e[this.getDomDataKey()];return i?i[r]:void 0},n.prototype.setDomData=function(e,r,i){var o=this.getDomDataKey(),a=e[o];pt(a)&&(a={},e[o]=a),a[r]=i},n.prototype.getDocument=function(){var e=null;return this.gridOptions.getDocument&&ye(this.gridOptions.getDocument)?e=this.gridOptions.getDocument():this.eGridDiv&&(e=this.eGridDiv.ownerDocument),e&&ye(e)?e:document},n.prototype.getWindow=function(){var e=this.getDocument();return e.defaultView||window},n.prototype.getRootNode=function(){return this.eGridDiv.getRootNode()},n.prototype.getAsyncTransactionWaitMillis=function(){return ye(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50},n.prototype.isAnimateRows=function(){return this.get("ensureDomOrder")?!1:this.get("animateRows")},n.prototype.isGroupRowsSticky=function(){return!(this.get("suppressGroupRowsSticky")||this.get("paginateChildRows")||this.get("groupHideOpenParents")||this.isDomLayout("print"))},n.prototype.isColumnsSortingCoupledToGroup=function(){var e=this.gridOptions.autoGroupColumnDef;return!(e!=null&&e.comparator)&&!this.get("treeData")},n.prototype.getGroupAggFiltering=function(){var e=this.gridOptions.groupAggFiltering;if(typeof e=="function")return this.getCallback("groupAggFiltering");if(e===!0)return function(){return!0}},n.prototype.isGroupIncludeFooterTrueOrCallback=function(){var e=this.gridOptions.groupIncludeFooter;return e===!0||typeof e=="function"},n.prototype.getGroupIncludeFooter=function(){var e=this.gridOptions.groupIncludeFooter;return typeof e=="function"?this.getCallback("groupIncludeFooter"):e===!0?function(){return!0}:function(){return!1}},n.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?this.gridOptions.groupDisplayType==="multipleColumns":this.get("groupHideOpenParents")},n.prototype.isGroupUseEntireRow=function(e){return e?!1:this.gridOptions.groupDisplayType==="groupRows"},n.prototype.getGridCommonParams=function(){return{api:this.api,columnApi:this.columnApi,context:this.context}},n.prototype.addGridCommonParams=function(e){var r=e;return r.api=this.api,r.columnApi=this.columnApi,r.context=this.context,r};var t;return n.alwaysSyncGlobalEvents=new Set([M.EVENT_GRID_PRE_DESTROYED]),n.PROPERTY_COERCIONS=new Map(oL(oL(oL([],sb(gl.BOOLEAN_PROPERTIES.map(function(e){return[e,t.toBoolean]})),!1),sb(gl.NUMBER_PROPERTIES.map(function(e){return[e,t.toNumber]})),!1),[["groupAggFiltering",function(e){return typeof e=="function"?e:t.toBoolean(e)}],["pageSize",t.toConstrainedNum(1,Number.MAX_VALUE)],["autoSizePadding",t.toConstrainedNum(0,Number.MAX_VALUE)],["keepDetailRowsCount",t.toConstrainedNum(1,Number.MAX_VALUE)],["rowBuffer",t.toConstrainedNum(0,Number.MAX_VALUE)],["infiniteInitialRowCount",t.toConstrainedNum(1,Number.MAX_VALUE)],["cacheOverflowSize",t.toConstrainedNum(1,Number.MAX_VALUE)],["cacheBlockSize",t.toConstrainedNum(1,Number.MAX_VALUE)],["serverSideInitialRowCount",t.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelPageSize",t.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelBufferSize",t.toConstrainedNum(0,Number.MAX_VALUE)]],!1)),n.changeSetId=0,nu([O("gridOptions")],n.prototype,"gridOptions",void 0),nu([O("eventService")],n.prototype,"eventService",void 0),nu([O("environment")],n.prototype,"environment",void 0),nu([O("frameworkOverrides")],n.prototype,"frameworkOverrides",void 0),nu([O("eGridDiv")],n.prototype,"eGridDiv",void 0),nu([O("validationService")],n.prototype,"validationService",void 0),nu([O("gridApi")],n.prototype,"api",void 0),nu([q],n.prototype,"init",null),nu([Gr],n.prototype,"destroy",null),n=t=nu([me("gridOptionsService")],n),n}(),TVe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),PVe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},hJ=function(n){TVe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getLocaleTextFunc=function(){var e=this.gridOptionsService.getCallback("getLocaleText");if(e)return function(i,o,a){var s={key:i,defaultValue:o,variableValues:a};return e(s)};var r=this.gridOptionsService.get("localeText");return function(i,o,a){var s=r&&r[i];if(s&&a&&a.length)for(var l=0;!(l>=a.length);){var u=s.indexOf("${variable}");if(u===-1)break;s=s.replace("${variable}",a[l++])}return s??o}},t=PVe([me("localeService")],t),t}(re),DVe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),AVe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},MVe=function(n){DVe(t,n);function t(){return n.call(this,t.TEMPLATE,"vertical")||this}return t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.createManagedBean(new dQ(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this),this.addManagedListener(this.eventService,M.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))},t.prototype.setScrollVisible=function(){var e=this.scrollVisibleService.isVerticalScrollShowing(),r=this.invisibleScrollbar,i=e&&this.gridOptionsService.getScrollbarWidth()||0,o=i===0&&r?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",r),Bs(this.getGui(),o),Bs(this.eViewport,o),Bs(this.eContainer,o),this.setDisplayed(e,{skipAriaHidden:!0})},t.prototype.onRowContainerHeightChanged=function(){var e=this.ctrlsService,r=e.getGridBodyCtrl(),i=r.getBodyViewportElement(),o=this.getScrollPosition(),a=i.scrollTop;o!=a&&this.setScrollPosition(a,!0)},t.prototype.getScrollPosition=function(){return this.getViewport().scrollTop},t.prototype.setScrollPosition=function(e,r){!r&&!as(this.getViewport())&&this.attemptSettingScrollPosition(e),this.getViewport().scrollTop=e},t.TEMPLATE=`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">
                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>
            </div>
        </div>`,AVe([q],t.prototype,"postConstruct",null),t}(pJ),LVe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),qo=function(){return qo=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},qo.apply(this,arguments)},Ih=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},iu=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},IC=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},UU={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},zU=["january","february","march","april","may","june","july","august","september","october","november","december"],fJ=function(n){LVe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.dataTypeDefinitions={},e.isWaitingForRowData=!1,e.isColumnTypeOverrideInDataTypeDefinitions=!1,e.columnStateUpdatesPendingInference={},e.columnStateUpdateListenerDestroyFuncs=[],e}return t.prototype.init=function(){var e=this;this.groupHideOpenParents=this.gridOptionsService.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",function(){e.groupHideOpenParents=e.gridOptionsService.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",function(r){e.processDataTypeDefinitions(),e.columnModel.recreateColumnDefs(Wg(r.source))})},t.prototype.processDataTypeDefinitions=function(){var e=this,r,i=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(i).forEach(function(a){var s=iu(a,2),l=s[0],u=s[1];e.dataTypeDefinitions[l]=qo(qo({},u),{groupSafeValueFormatter:e.createGroupSafeValueFormatter(u)})});var o=(r=this.gridOptionsService.get("dataTypeDefinitions"))!==null&&r!==void 0?r:{};this.dataTypeMatchers={},Object.entries(o).forEach(function(a){var s=iu(a,2),l=s[0],u=s[1],c=e.processDataTypeDefinition(u,o,[l],i);c&&(e.dataTypeDefinitions[l]=c,u.dataTypeMatcher&&(e.dataTypeMatchers[l]=u.dataTypeMatcher))}),this.checkObjectValueHandlers(i),["dateString","text","number","boolean","date"].forEach(function(a){var s=e.dataTypeMatchers[a];s&&delete e.dataTypeMatchers[a],e.dataTypeMatchers[a]=s??i[a].dataTypeMatcher})},t.prototype.mergeDataTypeDefinitions=function(e,r){var i=qo(qo({},e),r);return e.columnTypes&&r.columnTypes&&r.appendColumnTypes&&(i.columnTypes=IC(IC([],iu(this.convertColumnTypes(e.columnTypes)),!1),iu(this.convertColumnTypes(r.columnTypes)),!1)),i},t.prototype.processDataTypeDefinition=function(e,r,i,o){var a,s=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){var l=o[s],u=r[s];if(l&&u&&(l=u),!this.validateDataTypeDefinition(e,l,s))return;a=this.mergeDataTypeDefinitions(l,e)}else{if(i.includes(s)){at('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}var c=r[s];if(!this.validateDataTypeDefinition(e,c,s))return;var d=this.processDataTypeDefinition(c,r,IC(IC([],iu(i),!1),[s],!1),o);if(!d)return;a=this.mergeDataTypeDefinitions(d,e)}return qo(qo({},a),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(a)})},t.prototype.validateDataTypeDefinition=function(e,r,i){return r?r.baseDataType!==e.baseDataType?(at('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(at("The data type definition ".concat(i," does not exist.")),!1)},t.prototype.createGroupSafeValueFormatter=function(e){var r=this;if(e.valueFormatter)return function(i){var o,a;if(!((o=i.node)===null||o===void 0)&&o.group){var s=i.column.getAggFunc();if(s){if(s==="first"||s==="last")return e.valueFormatter(i);if(e.baseDataType==="number"&&s!=="count"){if(typeof i.value=="number")return e.valueFormatter(i);if(typeof i.value=="object"){if(!i.value)return;if("toNumber"in i.value)return e.valueFormatter(qo(qo({},i),{value:i.value.toNumber()}));if("value"in i.value)return e.valueFormatter(qo(qo({},i),{value:i.value.value}))}}}if(!r.gridOptionsService.get("suppressGroupMaintainValueType"))return}else if(r.groupHideOpenParents&&i.column.isRowGroupActive()){if(typeof i.value!="string"||!((a=e.dataTypeMatcher)===null||a===void 0)&&a.call(e,i.value))return e.valueFormatter(i);if(!r.gridOptionsService.get("suppressGroupMaintainValueType"))return}return e.valueFormatter(i)}},t.prototype.updateColDefAndGetDataTypeDefinitionColumnType=function(e,r,i){var o=r.cellDataType,a=r.field;if(o===void 0&&(o=e.cellDataType),(o==null||o===!0)&&(o=this.canInferCellDataType(e,r)?this.inferCellDataType(a,i):!1),!o){e.cellDataType=!1;return}var s=this.dataTypeDefinitions[o];if(!s){at('Missing data type definition - "'.concat(o,'"'));return}return e.cellDataType=o,s.groupSafeValueFormatter&&(e.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(e.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,s,i),s.columnTypes},t.prototype.updateColDefAndGetColumnType=function(e,r,i){var o,a,s=this.updateColDefAndGetDataTypeDefinitionColumnType(e,r,i),l=(a=(o=r.type)!==null&&o!==void 0?o:s)!==null&&a!==void 0?a:e.type;return e.type=l,l?this.convertColumnTypes(l):void 0},t.prototype.addColumnListeners=function(e){if(this.isWaitingForRowData){var r=this.columnStateUpdatesPendingInference[e.getColId()];if(r){var i=function(o){r.add(o.key)};e.addEventListener(Rt.EVENT_STATE_UPDATED,i),this.columnStateUpdateListenerDestroyFuncs.push(function(){return e.removeEventListener(Rt.EVENT_STATE_UPDATED,i)})}}},t.prototype.canInferCellDataType=function(e,r){var i=this,o;if(this.rowModel.getType()!=="clientSide")return!1;var a={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(r,a))return!1;var s=r.type===null?e.type:r.type;if(s){var l=(o=this.gridOptionsService.get("columnTypes"))!==null&&o!==void 0?o:{},u=this.convertColumnTypes(s).some(function(c){var d=l[c.trim()];return d&&i.doColDefPropsPreventInference(d,a)});if(u)return!1}return!this.doColDefPropsPreventInference(e,a)},t.prototype.doColDefPropsPreventInference=function(e,r){var i=this;return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(function(o){var a=iu(o,2),s=a[0],l=a[1];return i.doesColDefPropPreventInference(e,r,s,l)})},t.prototype.doesColDefPropPreventInference=function(e,r,i,o){if(!r[i])return!1;var a=e[i];return a===null?(r[i]=!1,!1):o===void 0?!!a:a===o},t.prototype.inferCellDataType=function(e,r){var i;if(e){var o,a=this.getInitialData();if(a){var s=e.indexOf(".")>=0&&!this.gridOptionsService.get("suppressFieldDotNotation");o=Cm(a,e,s)}else this.initWaitForRowData(r);if(o!=null){var l=iu((i=Object.entries(this.dataTypeMatchers).find(function(c){var d=iu(c,2);d[0];var p=d[1];return p(o)}))!==null&&i!==void 0?i:["object"],1),u=l[0];return u}}},t.prototype.getInitialData=function(){var e=this.gridOptionsService.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;var r=this.rowModel.getRootNode().allLeafChildren;return r!=null&&r.length?r[0].data:null},t.prototype.initWaitForRowData=function(e){var r=this;if(this.columnStateUpdatesPendingInference[e]=new Set,!this.isWaitingForRowData){this.isWaitingForRowData=!0;var i=this.isColumnTypeOverrideInDataTypeDefinitions;i&&this.columnModel.queueResizeOperations();var o=this.addManagedListener(this.eventService,M.EVENT_ROW_DATA_UPDATE_STARTED,function(a){var s=a.firstRowData;if(s){o==null||o(),r.isWaitingForRowData=!1,r.processColumnsPendingInference(s,i),r.columnStateUpdatesPendingInference={},i&&r.columnModel.processResizeOperations();var l={type:M.EVENT_DATA_TYPES_INFERRED};r.eventService.dispatchEvent(l)}})}},t.prototype.isPendingInference=function(){return this.isWaitingForRowData},t.prototype.processColumnsPendingInference=function(e,r){var i=this;this.initialData=e;var o=[];this.columnStateUpdateListenerDestroyFuncs.forEach(function(l){return l()}),this.columnStateUpdateListenerDestroyFuncs=[];var a={},s={};Object.entries(this.columnStateUpdatesPendingInference).forEach(function(l){var u=iu(l,2),c=u[0],d=u[1],p=i.columnModel.getGridColumn(c);if(p){var h=p.getColDef();if(i.columnModel.resetColumnDefIntoColumn(p,"cellDataTypeInferred")){var f=p.getColDef();if(r&&f.type&&f.type!==h.type){var v=i.getUpdatedColumnState(p,d);v.rowGroup&&v.rowGroupIndex==null&&(a[c]=v),v.pivot&&v.pivotIndex==null&&(s[c]=v),o.push(v)}}}}),r&&o.push.apply(o,IC([],iu(this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(a,s)),!1)),o.length&&this.columnModel.applyColumnState({state:o},"cellDataTypeInferred"),this.initialData=null},t.prototype.getUpdatedColumnState=function(e,r){var i=this.columnModel.getColumnStateFromColDef(e);return r.forEach(function(o){delete i[o],o==="rowGroup"?delete i.rowGroupIndex:o==="pivot"&&delete i.pivotIndex}),i},t.prototype.checkObjectValueHandlers=function(e){var r=this.dataTypeDefinitions.object,i=e.object;this.hasObjectValueParser=r.valueParser!==i.valueParser,this.hasObjectValueFormatter=r.valueFormatter!==i.valueFormatter},t.prototype.convertColumnTypes=function(e){var r=[];if(e instanceof Array){var i=e.some(function(o){return typeof o!="string"});i?console.warn("if colDef.type is supplied an array it should be of type 'string[]'"):r=e}else typeof e=="string"?r=e.split(","):console.warn("colDef.type should be of type 'string' | 'string[]'");return r},t.prototype.getDateStringTypeDefinition=function(e){var r;return e?(r=this.getDataTypeDefinition(e))!==null&&r!==void 0?r:this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString},t.prototype.getDateParserFunction=function(e){return this.getDateStringTypeDefinition(e).dateParser},t.prototype.getDateFormatterFunction=function(e){return this.getDateStringTypeDefinition(e).dateFormatter},t.prototype.getDataTypeDefinition=function(e){var r=e.getColDef();if(r.cellDataType)return this.dataTypeDefinitions[r.cellDataType]},t.prototype.getBaseDataType=function(e){var r;return(r=this.getDataTypeDefinition(e))===null||r===void 0?void 0:r.baseDataType},t.prototype.checkType=function(e,r){var i;if(r==null)return!0;var o=(i=this.getDataTypeDefinition(e))===null||i===void 0?void 0:i.dataTypeMatcher;return o?o(r):!0},t.prototype.validateColDef=function(e){e.cellDataType==="object"&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&at('Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"'),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&at('Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"'))},t.prototype.setColDefPropertiesForBaseDataType=function(e,r,i){var o=this,a=function(d,p,h){var f=d.getColDef().valueFormatter;return f===r.groupSafeValueFormatter&&(f=r.valueFormatter),o.valueFormatterService.formatValue(d,p,h,f)},s=ut.__isRegistered(Te.SetFilterModule,this.context.getGridId()),l=this.localeService.getLocaleTextFunc(),u=function(d){var p=e.filterParams;e.filterParams=typeof p=="object"?qo(qo({},p),d):d};switch(r.baseDataType){case"number":{e.cellEditor="agNumberCellEditor",s&&u({comparator:function(d,p){var h=d==null?0:parseInt(d),f=p==null?0:parseInt(p);return h===f?0:h>f?1:-1}});break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=function(d){return!!d.colDef.editable&&d.event.key===K.SPACE},u(s?{valueFormatter:function(d){return ye(d.value)?l(String(d.value),d.value?"True":"False"):l("blanks","(Blanks)")}}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:function(d,p){return p},numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:function(d,p){return p===!1},numberOfInputs:0}]});break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=function(d){return a(d.column,d.node,d.value)},s&&u({valueFormatter:function(d){var p=a(d.column,d.node,d.value);return ye(p)?p:l("blanks","(Blanks)")},treeList:!0,treeListFormatter:function(d,p){if(p===1&&d!=null){var h=zU[Number(d)-1];return l(h,UU[h])}return d??l("blanks","(Blanks)")}});break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=function(d){return a(d.column,d.node,d.value)};var c=r.dateParser;u(s?{valueFormatter:function(d){var p=a(d.column,d.node,d.value);return ye(p)?p:l("blanks","(Blanks)")},treeList:!0,treeListPathGetter:function(d){var p=c(d??void 0);return p?[String(p.getFullYear()),String(p.getMonth()+1),String(p.getDate())]:null},treeListFormatter:function(d,p){if(p===1&&d!=null){var h=zU[Number(d)-1];return l(h,UU[h])}return d??l("blanks","(Blanks)")}}:{comparator:function(d,p){var h=c(p);return p==null||h<d?-1:h>d?1:0}});break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=function(d,p){var h=o.columnModel.getPrimaryColumn(i),f=h==null?void 0:h.getColDef();if(!h||!f)return 0;var v=d==null?"":a(h,null,d),g=p==null?"":a(h,null,p);return v===g?0:v>g?1:-1},e.keyCreator=function(d){return a(d.column,d.node,d.value)},s?u({valueFormatter:function(d){var p=a(d.column,d.node,d.value);return ye(p)?p:l("blanks","(Blanks)")}}):e.filterValueGetter=function(d){return a(d.column,d.node,o.valueService.getValue(d.column,d.node))};break}}},t.prototype.getDefaultDataTypes=function(){var e=function(i){return!!i.match("^\\d{4}-\\d{2}-\\d{2}$")},r=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:function(i){var o,a;return((a=(o=i.newValue)===null||o===void 0?void 0:o.trim)===null||a===void 0?void 0:a.call(o))===""?null:Number(i.newValue)},valueFormatter:function(i){return i.value==null?"":typeof i.value!="number"||isNaN(i.value)?r("invalidNumber","Invalid Number"):String(i.value)},dataTypeMatcher:function(i){return typeof i=="number"}},text:{baseDataType:"text",valueParser:function(i){return i.newValue===""?null:f0(i.newValue)},dataTypeMatcher:function(i){return typeof i=="string"}},boolean:{baseDataType:"boolean",valueParser:function(i){var o,a;return i.newValue==null?i.newValue:((a=(o=i.newValue)===null||o===void 0?void 0:o.trim)===null||a===void 0?void 0:a.call(o))===""?null:String(i.newValue).toLowerCase()==="true"},valueFormatter:function(i){return i.value==null?"":String(i.value)},dataTypeMatcher:function(i){return typeof i=="boolean"}},date:{baseDataType:"date",valueParser:function(i){return oa(i.newValue==null?null:String(i.newValue))},valueFormatter:function(i){var o;return i.value==null?"":!(i.value instanceof Date)||isNaN(i.value.getTime())?r("invalidDate","Invalid Date"):(o=Vs(i.value,!1))!==null&&o!==void 0?o:""},dataTypeMatcher:function(i){return i instanceof Date}},dateString:{baseDataType:"dateString",dateParser:function(i){var o;return(o=oa(i))!==null&&o!==void 0?o:void 0},dateFormatter:function(i){var o;return(o=Vs(i??null,!1))!==null&&o!==void 0?o:void 0},valueParser:function(i){return e(String(i.newValue))?i.newValue:null},valueFormatter:function(i){return e(String(i.value))?i.value:""},dataTypeMatcher:function(i){return typeof i=="string"&&e(i)}},object:{baseDataType:"object",valueParser:function(){return null},valueFormatter:function(i){var o;return(o=f0(i.value))!==null&&o!==void 0?o:""}}}},Ih([O("rowModel")],t.prototype,"rowModel",void 0),Ih([O("columnModel")],t.prototype,"columnModel",void 0),Ih([O("columnUtils")],t.prototype,"columnUtils",void 0),Ih([O("valueService")],t.prototype,"valueService",void 0),Ih([O("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Ih([q],t.prototype,"init",null),t=Ih([me("dataTypeService")],t),t}(re),FVe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),KU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vJ=function(n){FVe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.parseValue=function(e,r,i,o){var a=e.getColDef(),s=this.gridOptionsService.addGridCommonParams({node:r,data:r==null?void 0:r.data,oldValue:o,newValue:i,colDef:a,column:e}),l=a.valueParser;return ye(l)?typeof l=="function"?l(s):this.expressionService.evaluate(l,s):i},KU([O("expressionService")],t.prototype,"expressionService",void 0),t=KU([me("valueParserService")],t),t}(re),IVe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),NC=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},NVe=function(n){IVe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.waitingForColumns=!1,e}return t.prototype.postConstruct=function(){var e=this;this.addManagedPropertyListener("columnDefs",function(r){return e.setColumnDefs(r)})},t.prototype.start=function(){var e=this;this.ctrlsService.whenReady(function(){var r=e.gridOptionsService.get("columnDefs");r?e.setColumnsAndData(r):e.waitingForColumns=!0,e.gridReady()})},t.prototype.setColumnsAndData=function(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()},t.prototype.gridReady=function(){var e=this;this.dispatchGridReadyEvent();var r=ut.__isRegistered(Te.EnterpriseCoreModule,this.context.getGridId()),i=new fD("AG Grid",function(){return e.gridOptionsService.get("debug")});i.log("initialised successfully, enterprise = ".concat(r))},t.prototype.dispatchGridReadyEvent=function(){var e={type:M.EVENT_GRID_READY};this.eventService.dispatchEvent(e)},t.prototype.setColumnDefs=function(e){var r=this.gridOptionsService.get("columnDefs");if(r){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(r);return}this.columnModel.setColumnDefs(r,Wg(e.source))}},NC([O("ctrlsService")],t.prototype,"ctrlsService",void 0),NC([O("columnModel")],t.prototype,"columnModel",void 0),NC([O("rowModel")],t.prototype,"rowModel",void 0),NC([q],t.prototype,"postConstruct",null),t=NC([me("syncService")],t),t}(re),kVe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),w1=function(){return w1=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},w1.apply(this,arguments)},kC=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},GVe=function(n){kVe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.manuallyDisplayed=!1,e}return t.prototype.postConstruct=function(){var e=this;this.addManagedListener(this.eventService,M.EVENT_ROW_DATA_UPDATED,function(){return e.onRowDataUpdated()}),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,function(){return e.onNewColumnsLoaded()})},t.prototype.registerOverlayWrapperComp=function(e){this.overlayWrapperComp=e,(!this.gridOptionsService.get("columnDefs")||this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData"))&&this.showLoadingOverlay()},t.prototype.showLoadingOverlay=function(){if(!this.gridOptionsService.get("suppressLoadingOverlay")){var e={},r=this.userComponentFactory.getLoadingOverlayCompDetails(e);this.showOverlay(r,"ag-overlay-loading-wrapper","loadingOverlayComponentParams")}},t.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsService.get("suppressNoRowsOverlay")){var e={},r=this.userComponentFactory.getNoRowsOverlayCompDetails(e);this.showOverlay(r,"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams")}},t.prototype.showOverlay=function(e,r,i){var o=this,a=e.newAgStackInstance(),s=this.addManagedPropertyListener(i,function(l){var u=l.currentValue;a.then(function(c){c.refresh&&c.refresh(o.gridOptionsService.addGridCommonParams(w1({},u??{})))})});this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.overlayWrapperComp.showOverlay(a,r,s)},t.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.overlayWrapperComp.hideOverlay()},t.prototype.showOrHideOverlay=function(){var e=this.paginationProxy.isEmpty(),r=this.gridOptionsService.get("suppressNoRowsOverlay");e&&!r?this.showNoRowsOverlay():this.hideOverlay()},t.prototype.onRowDataUpdated=function(){this.showOrHideOverlay()},t.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()},kC([O("userComponentFactory")],t.prototype,"userComponentFactory",void 0),kC([O("paginationProxy")],t.prototype,"paginationProxy",void 0),kC([O("columnModel")],t.prototype,"columnModel",void 0),kC([q],t.prototype,"postConstruct",null),t=kC([me("overlayService")],t),t}(re),VVe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ip=function(){return ip=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ip.apply(this,arguments)},Ta=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},BVe=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},jVe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},HVe=function(n){VVe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.suppressEvents=!0,e.queuedUpdateSources=new Set,e.dispatchStateUpdateEventDebounced=Ja(function(){return e.dispatchQueuedStateUpdateEvents()},0),e}return t.prototype.postConstruct=function(){var e=this,r;this.isClientSideRowModel=this.rowModel.getType()==="clientSide",this.cachedState=(r=this.gridOptionsService.get("initialState"))!==null&&r!==void 0?r:{},this.ctrlsService.whenReady(function(){return e.suppressEventsAndDispatchInitEvent(function(){return e.setupStateOnGridReady()})});var i=this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,function(s){var l=s.source;l==="gridInitializing"&&(i==null||i(),e.suppressEventsAndDispatchInitEvent(function(){return e.setupStateOnColumnsInitialised()}))}),o=this.addManagedListener(this.eventService,M.EVENT_ROW_COUNT_READY,function(){o==null||o(),e.suppressEventsAndDispatchInitEvent(function(){return e.setupStateOnRowCountReady()})}),a=this.addManagedListener(this.eventService,M.EVENT_FIRST_DATA_RENDERED,function(){a==null||a(),e.suppressEventsAndDispatchInitEvent(function(){return e.setupStateOnFirstDataRendered()})})},t.prototype.getState=function(){return this.cachedState},t.prototype.setupStateOnGridReady=function(){var e=this;this.updateCachedState("sideBar",this.getSideBarState()),this.addManagedListener(this.eventService,M.EVENT_TOOL_PANEL_VISIBLE_CHANGED,function(){return e.updateCachedState("sideBar",e.getSideBarState())}),this.addManagedListener(this.eventService,M.EVENT_SIDE_BAR_UPDATED,function(){return e.updateCachedState("sideBar",e.getSideBarState())})},t.prototype.setupStateOnColumnsInitialised=function(){var e=this,r,i=(r=this.gridOptionsService.get("initialState"))!==null&&r!==void 0?r:{};this.setColumnState(i),this.setColumnGroupState(i),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState()),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VALUE_CHANGED,function(){return e.updateColumnState(["aggregation"])}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_MOVED,function(){return e.updateColumnState(["columnOrder"])}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PINNED,function(){return e.updateColumnState(["columnPinning"])}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_RESIZED,function(){return e.updateColumnState(["columnSizing"])}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VISIBLE,function(){return e.updateColumnState(["columnVisibility"])}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_CHANGED,function(){return e.updateColumnState(["pivot"])}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return e.updateColumnState(["pivot"])}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.updateColumnState(["rowGroup"])}),this.addManagedListener(this.eventService,M.EVENT_SORT_CHANGED,function(){return e.updateColumnState(["sort"])}),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,function(){return e.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"])}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_GROUP_OPENED,function(){return e.updateCachedState("columnGroup",e.getColumnGroupState())})},t.prototype.setupStateOnRowCountReady=function(){var e=this,r,i=(r=this.gridOptionsService.get("initialState"))!==null&&r!==void 0?r:{},o=i.filter,a=i.rowGroupExpansion,s=i.rowSelection,l=i.pagination,u=this.gridOptionsService.get("advancedFilterModel");(o||u)&&this.setFilterState(o,u),a&&this.setRowGroupExpansionState(a),s&&this.setRowSelectionState(s),l&&this.setPaginationState(l),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState()),this.addManagedListener(this.eventService,M.EVENT_FILTER_CHANGED,function(){return e.updateCachedState("filter",e.getFilterState())}),this.addManagedListener(this.eventService,M.EVENT_ROW_GROUP_OPENED,function(){return e.updateCachedState("rowGroupExpansion",e.getRowGroupExpansionState())}),this.addManagedListener(this.eventService,M.EVENT_EXPAND_COLLAPSE_ALL,function(){return e.updateCachedState("rowGroupExpansion",e.getRowGroupExpansionState())}),this.addManagedListener(this.eventService,M.EVENT_SELECTION_CHANGED,function(){return e.updateCachedState("rowSelection",e.getRowSelectionState())}),this.addManagedListener(this.eventService,M.EVENT_PAGINATION_CHANGED,function(c){(c.newPage||c.newPageSize)&&e.updateCachedState("pagination",e.getPaginationState())})},t.prototype.setupStateOnFirstDataRendered=function(){var e=this,r,i=(r=this.gridOptionsService.get("initialState"))!==null&&r!==void 0?r:{},o=i.scroll,a=i.rangeSelection,s=i.focusedCell,l=i.columnOrder;s&&this.setFocusedCellState(s),a&&this.setRangeSelectionState(a),o&&this.setScrollState(o),this.setColumnPivotState(!!(l!=null&&l.orderedColIds)),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState()),this.updateCachedState("rangeSelection",this.getRangeSelectionState()),this.updateCachedState("scroll",this.getScrollState()),this.addManagedListener(this.eventService,M.EVENT_CELL_FOCUSED,function(){return e.updateCachedState("focusedCell",e.getFocusedCellState())}),this.addManagedListener(this.eventService,M.EVENT_RANGE_SELECTION_CHANGED,function(u){u.finished&&e.updateCachedState("rangeSelection",e.getRangeSelectionState())}),this.addManagedListener(this.eventService,M.EVENT_BODY_SCROLL_END,function(){return e.updateCachedState("scroll",e.getScrollState())})},t.prototype.getColumnState=function(){for(var e=this.columnModel.isPivotMode(),r=[],i=[],o=[],a=[],s=[],l=[],u=[],c=[],d=[],p=this.columnModel.getColumnState(),h=0;h<p.length;h++){var f=p[h],v=f.colId,g=f.sort,m=f.sortIndex,y=f.rowGroup,C=f.rowGroupIndex,S=f.aggFunc,w=f.pivot,_=f.pivotIndex,x=f.pinned,E=f.hide,R=f.width,P=f.flex;d.push(v),g&&(r[m??0]={colId:v,sort:g}),y&&(i[C??0]=v),typeof S=="string"&&o.push({colId:v,aggFunc:S}),w&&(a[_??0]=v),x&&(x==="right"?l:s).push(v),E&&u.push(v),(P||R)&&c.push({colId:v,flex:P??void 0,width:R})}return{sort:r.length?{sortModel:r}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:o.length?{aggregationModel:o}:void 0,pivot:a.length||e?{pivotMode:e,pivotColIds:a}:void 0,columnPinning:s.length||l.length?{leftColIds:s,rightColIds:l}:void 0,columnVisibility:u.length?{hiddenColIds:u}:void 0,columnSizing:c.length?{columnSizingModel:c}:void 0,columnOrder:d.length?{orderedColIds:d}:void 0}},t.prototype.setColumnState=function(e){var r=e.sort,i=e.rowGroup,o=e.aggregation,a=e.pivot,s=e.columnPinning,l=e.columnVisibility,u=e.columnSizing,c=e.columnOrder,d={},p=function(m){var y=d[m];return y||(y={colId:m},d[m]=y,y)};r&&r.sortModel.forEach(function(m,y){var C=m.colId,S=m.sort,w=p(C);w.sort=S,w.sortIndex=y}),i&&i.groupColIds.forEach(function(m,y){var C=p(m);C.rowGroup=!0,C.rowGroupIndex=y}),o&&o.aggregationModel.forEach(function(m){var y=m.colId,C=m.aggFunc;p(y).aggFunc=C}),a&&(a.pivotColIds.forEach(function(m,y){var C=p(m);C.pivot=!0,C.pivotIndex=y}),this.gridOptionsService.updateGridOptions({options:{pivotMode:a.pivotMode},source:"gridInitializing"})),s&&(s.leftColIds.forEach(function(m){p(m).pinned="left"}),s.rightColIds.forEach(function(m){p(m).pinned="right"})),l&&l.hiddenColIds.forEach(function(m){p(m).hide=!0}),u&&u.columnSizingModel.forEach(function(m){var y=m.colId,C=m.flex,S=m.width,w=p(y);w.flex=C??null,w.width=S});var h=c==null?void 0:c.orderedColIds,f=!!(h!=null&&h.length),v=f?h.map(function(m){return p(m)}):Object.values(d);if(v.length){this.columnStates=v;var g={sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};this.columnModel.applyColumnState({state:v,applyOrder:f,defaultState:g},"gridInitializing")}},t.prototype.setColumnPivotState=function(e){var r,i,o=this.columnStates;this.columnStates=void 0;var a=this.columnGroupStates;if(this.columnGroupStates=void 0,!!this.columnModel.isSecondaryColumnsPresent()){if(o){var s=[];try{for(var l=BVe(o),u=l.next();!u.done;u=l.next()){var c=u.value;this.columnModel.getSecondaryColumn(c.colId)&&s.push(c)}}catch(d){r={error:d}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}this.columnModel.applyColumnState({state:s,applyOrder:e},"gridInitializing")}a&&this.columnModel.setColumnGroupState(a,"gridInitializing")}},t.prototype.getColumnGroupState=function(){var e=this.columnModel.getColumnGroupState(),r=[];return e.forEach(function(i){var o=i.groupId,a=i.open;a&&r.push(o)}),r.length?{openColumnGroupIds:r}:void 0},t.prototype.setColumnGroupState=function(e){var r;if(e.hasOwnProperty("columnGroup")){var i=new Set((r=e.columnGroup)===null||r===void 0?void 0:r.openColumnGroupIds),o=this.columnModel.getColumnGroupState(),a=o.map(function(s){var l=s.groupId,u=i.has(l);return u&&i.delete(l),{groupId:l,open:u}});i.forEach(function(s){a.push({groupId:s,open:!0})}),a.length&&(this.columnGroupStates=a),this.columnModel.setColumnGroupState(a,"gridInitializing")}},t.prototype.getFilterState=function(){var e,r=this.filterManager.getFilterModel();r&&Object.keys(r).length===0&&(r=void 0);var i=(e=this.filterManager.getAdvancedFilterModel())!==null&&e!==void 0?e:void 0;return r||i?{filterModel:r,advancedFilterModel:i}:void 0},t.prototype.setFilterState=function(e,r){var i=e??{advancedFilterModel:r},o=i.filterModel,a=i.advancedFilterModel;o&&this.filterManager.setFilterModel(o,"columnFilter"),a&&this.filterManager.setAdvancedFilterModel(a)},t.prototype.getRangeSelectionState=function(){var e,r=(e=this.rangeService)===null||e===void 0?void 0:e.getCellRanges().map(function(i){var o=i.id,a=i.type,s=i.startRow,l=i.endRow,u=i.columns,c=i.startColumn;return{id:o,type:a,startRow:s,endRow:l,colIds:u.map(function(d){return d.getColId()}),startColId:c.getColId()}});return r!=null&&r.length?{cellRanges:r}:void 0},t.prototype.setRangeSelectionState=function(e){var r=this,i;if(this.gridOptionsService.get("enableRangeSelection")){var o=e.cellRanges.map(function(a){return ip(ip({},a),{columns:a.colIds.map(function(s){return r.columnModel.getGridColumn(s)}),startColumn:r.columnModel.getGridColumn(a.startColId)})});(i=this.rangeService)===null||i===void 0||i.setCellRanges(o)}},t.prototype.getScrollState=function(){var e,r,i;if(this.isClientSideRowModel){var o=(e=this.ctrlsService.getGridBodyCtrl())===null||e===void 0?void 0:e.getScrollFeature(),a=((r=o==null?void 0:o.getHScrollPosition())!==null&&r!==void 0?r:{left:0}).left,s=((i=o==null?void 0:o.getVScrollPosition())!==null&&i!==void 0?i:{top:0}).top;return s||a?{top:s,left:a}:void 0}},t.prototype.setScrollState=function(e){var r;if(this.isClientSideRowModel){var i=e.top,o=e.left;(r=this.ctrlsService.getGridBodyCtrl())===null||r===void 0||r.getScrollFeature().setScrollPosition(i,o)}},t.prototype.getSideBarState=function(){var e,r;return(r=(e=this.sideBarService)===null||e===void 0?void 0:e.getSideBarComp())===null||r===void 0?void 0:r.getState()},t.prototype.getFocusedCellState=function(){if(this.isClientSideRowModel){var e=this.focusService.getFocusedCell();if(e){var r=e.column,i=e.rowIndex,o=e.rowPinned;return{colId:r.getColId(),rowIndex:i,rowPinned:o}}}},t.prototype.setFocusedCellState=function(e){if(this.isClientSideRowModel){var r=e.colId,i=e.rowIndex,o=e.rowPinned;this.focusService.setFocusedCell({column:this.columnModel.getGridColumn(r),rowIndex:i,rowPinned:o,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}},t.prototype.getPaginationState=function(){var e=this.paginationProxy.getCurrentPage(),r=this.gridOptionsService.get("paginationAutoPageSize")?void 0:this.paginationProxy.getPageSize();if(!(!e&&!r))return{page:e,pageSize:r}},t.prototype.setPaginationState=function(e){e.pageSize&&!this.gridOptionsService.get("paginationAutoPageSize")&&this.paginationProxy.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&this.paginationProxy.setPage(e.page)},t.prototype.getRowSelectionState=function(){var e,r=this.selectionService.getSelectionState(),i=!r||!Array.isArray(r)&&(r.selectAll===!1||r.selectAllChildren===!1)&&!(!((e=r==null?void 0:r.toggledNodes)===null||e===void 0)&&e.length);return i?void 0:r},t.prototype.setRowSelectionState=function(e){this.selectionService.setSelectionState(e,"gridInitializing")},t.prototype.getRowGroupExpansionState=function(){var e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0},t.prototype.setRowGroupExpansionState=function(e){this.expansionService.expandRows(e.expandedRowGroupIds)},t.prototype.updateColumnState=function(e){var r=this,i=this.getColumnState(),o=!1;Object.entries(i).forEach(function(a){var s=jVe(a,2),l=s[0],u=s[1];r1(u,r.cachedState[l])||(o=!0)}),this.cachedState=ip(ip({},this.cachedState),i),o&&this.dispatchStateUpdateEvent(e)},t.prototype.updateCachedState=function(e,r){var i,o=this.cachedState[e];this.cachedState=ip(ip({},this.cachedState),(i={},i[e]=r,i)),r1(r,o)||this.dispatchStateUpdateEvent([e])},t.prototype.dispatchStateUpdateEvent=function(e){var r=this;this.suppressEvents||(e.forEach(function(i){return r.queuedUpdateSources.add(i)}),this.dispatchStateUpdateEventDebounced())},t.prototype.dispatchQueuedStateUpdateEvents=function(){var e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear();var r={type:M.EVENT_STATE_UPDATED,sources:e,state:this.cachedState};this.eventService.dispatchEvent(r)},t.prototype.suppressEventsAndDispatchInitEvent=function(e){var r=this;this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout(function(){r.suppressEvents=!1,r.queuedUpdateSources.clear(),r.isAlive()&&(r.columnAnimationService.setSuppressAnimation(!1),r.dispatchStateUpdateEvent(["gridInitializing"]))})},Ta([O("filterManager")],t.prototype,"filterManager",void 0),Ta([xt("rangeService")],t.prototype,"rangeService",void 0),Ta([O("ctrlsService")],t.prototype,"ctrlsService",void 0),Ta([xt("sideBarService")],t.prototype,"sideBarService",void 0),Ta([O("focusService")],t.prototype,"focusService",void 0),Ta([O("columnModel")],t.prototype,"columnModel",void 0),Ta([O("paginationProxy")],t.prototype,"paginationProxy",void 0),Ta([O("rowModel")],t.prototype,"rowModel",void 0),Ta([O("selectionService")],t.prototype,"selectionService",void 0),Ta([O("expansionService")],t.prototype,"expansionService",void 0),Ta([O("columnAnimationService")],t.prototype,"columnAnimationService",void 0),Ta([q],t.prototype,"postConstruct",null),t=Ta([me("stateService")],t),t}(re),$Ve=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),aL=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Nh=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},GC=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},WVe=function(n){$Ve(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(){this.processGridOptions(this.gridOptions)},t.prototype.processGridOptions=function(e){this.processOptions(e,RVe)},t.prototype.processColumnDefs=function(e){this.processOptions(e,Kg)},t.prototype.processOptions=function(e,r){var i=this,o=r.validations,a=r.deprecations,s=r.allProperties,l=r.propertyExceptions,u=r.objectName,c=r.docsUrl;s&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,GC(GC([],Nh(l??[]),!1),Nh(Object.keys(a)),!1),s,u,c);var d=new Set,p=Object.keys(e);p.forEach(function(h){var f,v=a[h];if(v)if("renamed"in v){var g=v.renamed,m=v.version;d.add("As of v".concat(m,", ").concat(String(h)," is deprecated. Please use ").concat(String(g)," instead.")),e[g]=e[h]}else{var y=v.message,m=v.version;d.add("As of v".concat(m,", ").concat(String(h)," is deprecated. ").concat(y??""))}var C=e[h];if(!(C==null||C===!1)){var S=o[h],w;if(S)if(typeof S=="function"){var _=S(e,i.gridOptions);if(!_)return;if("objectName"in _){var x=e[h];if(Array.isArray(x)){x.forEach(function(V){i.processOptions(V,_)});return}i.processOptions(e[h],_);return}w=_}else w=S;else return;var E=w.module,R=w.dependencies,P=w.supportedRowModels;if(P){var A=(f=i.gridOptions.rowModelType)!==null&&f!==void 0?f:"clientSide";if(!P.includes(A)){d.add("".concat(String(h)," is not supported with the '").concat(A,"' row model."));return}}if(E){var N=Array.isArray(E)?E:[E],I=!0;if(N.forEach(function(V){ut.__assertRegistered(V,String(h),i.context.getGridId())||(I=!1,d.add("".concat(String(h)," is only available when ").concat(V," is loaded.")))}),!I)return}if(R){var G=i.checkForWarning(h,R,e);if(G){d.add(G);return}}}}),d.size>0&&d.forEach(function(h){at(h)})},t.prototype.checkForWarning=function(e,r,i){if(typeof r=="function")return r(i,this.gridOptions);var o=Object.entries(r),a=o.find(function(c){var d=Nh(c,2),p=d[0],h=d[1],f=i[p];return!h.includes(f)});if(!a)return null;var s=Nh(a,2),l=s[0],u=s[1];return u.length>1?"'".concat(String(e),"' requires '").concat(l,"' to be one of [").concat(u.join(", "),"]."):"'".concat(String(e),"' requires '").concat(l,"' to be ").concat(u[0],".")},t.prototype.checkProperties=function(e,r,i,o,a){var s=["__ob__","__v_skip","__metadata__"],l=wZ(Object.getOwnPropertyNames(e),GC(GC(GC([],Nh(s),!1),Nh(r),!1),Nh(i),!1),i);if(no(l,function(c,d){at("invalid ".concat(o," property '").concat(c,"' did you mean any of these: ").concat(d.slice(0,8).join(", ")))}),Object.keys(l).length>0&&a){var u=this.getFrameworkOverrides().getDocLink(a);at("to see all the valid ".concat(o," properties please check: ").concat(u))}},aL([O("gridOptions")],t.prototype,"gridOptions",void 0),aL([q],t.prototype,"init",null),t=aL([me("validationService")],t),t}(re),UVe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),YU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},zVe=function(n){UVe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.syncEventListeners=new Map,e.asyncEventListeners=new Map,e.syncGlobalEventListeners=new Set,e.asyncGlobalEventListeners=new Set,e}return t.prototype.postConstruct=function(){this.frameworkEventWrappingService=new EV(this.getFrameworkOverrides())},t.prototype.addEventListener=function(e,r){var i=this.frameworkEventWrappingService.wrap(r),o=this.gridOptionsService.useAsyncEvents(),a=o?this.asyncEventListeners:this.syncEventListeners;a.has(e)||a.set(e,new Set),a.get(e).add(i),this.eventService.addEventListener(e,i,o)},t.prototype.addGlobalListener=function(e){var r=this.frameworkEventWrappingService.wrapGlobal(e),i=this.gridOptionsService.useAsyncEvents(),o=i?this.asyncGlobalEventListeners:this.syncGlobalEventListeners;o.add(r),this.eventService.addGlobalListener(r,i)},t.prototype.removeEventListener=function(e,r){var i,o=this.frameworkEventWrappingService.unwrap(r),a=this.asyncEventListeners.get(e),s=!!(a!=null&&a.delete(o));s||(i=this.asyncEventListeners.get(e))===null||i===void 0||i.delete(o),this.eventService.removeEventListener(e,o,s)},t.prototype.removeGlobalListener=function(e){var r=this.frameworkEventWrappingService.unwrapGlobal(e),i=this.asyncGlobalEventListeners.delete(r);i||this.syncGlobalEventListeners.delete(r),this.eventService.removeGlobalListener(r,i)},t.prototype.destroyEventListeners=function(e,r){var i=this;e.forEach(function(o,a){o.forEach(function(s){return i.eventService.removeEventListener(a,s,r)}),o.clear()}),e.clear()},t.prototype.destroyGlobalListeners=function(e,r){var i=this;e.forEach(function(o){return i.eventService.removeGlobalListener(o,r)}),e.clear()},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.destroyGlobalListeners(this.asyncGlobalEventListeners,!0)},YU([q],t.prototype,"postConstruct",null),t=YU([me("apiEventService")],t),t}(re),KVe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),lb=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},YVe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},qVe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},XVe=function(n){KVe(t,n);function t(){var e=n.call(this,'<span class="ag-paging-page-size"></span>')||this;return e.hasEmptyOption=!1,e.handlePageSizeItemSelected=function(){if(e.selectPageSizeComp){var r=e.selectPageSizeComp.getValue();if(r){var i=Number(r);isNaN(i)||i<1||i===e.paginationProxy.getPageSize()||(e.paginationProxy.setPageSize(i,"pageSizeSelector"),e.hasEmptyOption&&e.toggleSelectDisplay(!0),e.selectPageSizeComp.getFocusableElement().focus())}}},e}return t.prototype.init=function(){var e=this;this.addManagedPropertyListener("paginationPageSizeSelector",function(){e.onPageSizeSelectorValuesChange()}),this.addManagedListener(this.eventService,M.EVENT_PAGINATION_CHANGED,function(r){return e.handlePaginationChanged(r)})},t.prototype.handlePaginationChanged=function(e){if(!(!this.selectPageSizeComp||!(e!=null&&e.newPageSize))){var r=this.paginationProxy.getPageSize();this.getPageSizeSelectorValues().includes(r)?this.selectPageSizeComp.setValue(r.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}},t.prototype.toggleSelectDisplay=function(e){this.selectPageSizeComp&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp&&this.appendChild(this.selectPageSizeComp))},t.prototype.reset=function(){gi(this.getGui()),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0)},t.prototype.onPageSizeSelectorValuesChange=function(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()},t.prototype.shouldShowPageSizeSelector=function(){return this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel")&&!this.gridOptionsService.get("paginationAutoPageSize")&&this.gridOptionsService.get("paginationPageSizeSelector")!==!1},t.prototype.reloadPageSizesSelector=function(){var e=this,r=this.getPageSizeSelectorValues(),i=this.paginationProxy.getPageSize(),o=!i||!r.includes(i);o&&(r.unshift(""),at(`The paginationPageSize grid option is set to a value that is not in the list of page size options.
                Please make sure that the paginationPageSize grid option is set to one of the values in the 
                paginationPageSizeSelector array, or set the paginationPageSizeSelector to false to hide the page size selector.`)),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0);var a=this.localeService.getLocaleTextFunc(),s=a("pageSizeSelectorLabel","Page Size:"),l=r.map(function(c){return{value:String(c),text:String(c)}}),u=a("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new Qu).addOptions(l).setValue(String(o?"":i)).setAriaLabel(u).setLabel(s).onValueChange(function(){return e.handlePageSizeItemSelected()}),this.hasEmptyOption=o},t.prototype.getPageSizeSelectorValues=function(){var e=[20,50,100],r=this.gridOptionsService.get("paginationPageSizeSelector");return!Array.isArray(r)||!this.validateValues(r)?e:qVe([],YVe(r),!1).sort(function(i,o){return i-o})},t.prototype.validateValues=function(e){if(!e.length)return at(`The paginationPageSizeSelector grid option is an empty array. This is most likely a mistake.
                If you want to hide the page size selector, please set the paginationPageSizeSelector to false.`),!1;for(var r=0;r<e.length;r++){var i=e[r],o=typeof i=="number",a=i>0;if(!o)return at(`The paginationPageSizeSelector grid option contains a non-numeric value.
                    Please make sure that all values in the paginationPageSizeSelector array are numbers.`),!1;if(!a)return at(`The paginationPageSizeSelector grid option contains a negative number or zero.
                    Please make sure that all values in the paginationPageSizeSelector array are positive.`),!1}return!0},t.prototype.destroy=function(){this.toggleSelectDisplay(!1),n.prototype.destroy.call(this)},lb([O("localeService")],t.prototype,"localeService",void 0),lb([O("gridOptionsService")],t.prototype,"gridOptionsService",void 0),lb([O("paginationProxy")],t.prototype,"paginationProxy",void 0),lb([q],t.prototype,"init",null),t}(Ce),ZVe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sL=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},QVe=function(n){ZVe(t,n);function t(){var e=n.call(this)||this;return e.descriptionContainer=null,e.announceValue=Ja(e.announceValue.bind(e),200),e}return t.prototype.postConstruct=function(){var e=this.gridOptionsService.getDocument(),r=this.descriptionContainer=e.createElement("div");r.classList.add("ag-aria-description-container"),AV(r,"polite"),JX(r,"additions text"),QX(r,!0),this.eGridDiv.appendChild(r)},t.prototype.announceValue=function(e){var r=this;this.descriptionContainer&&(this.descriptionContainer.textContent="",setTimeout(function(){r.descriptionContainer.textContent=e},50))},t.prototype.destroy=function(){n.prototype.destroy.call(this);var e=this.descriptionContainer;e&&(gi(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null},sL([O("eGridDiv")],t.prototype,"eGridDiv",void 0),sL([q],t.prototype,"postConstruct",null),t=sL([me("ariaAnnouncementService")],t),t}(re),qU=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},XU=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))};function gJ(n,t,e){if(!t)return _l("No gridOptions provided to createGrid"),{};var r=EB.getCoercedGridOptions(t),i=new OB().create(n,r,function(a){var s=new bB(n);a.createBean(s)},void 0,e);if(!Object.isFrozen(t)&&!(e!=null&&e.frameworkOverrides)){var o="https://ag-grid.com/javascript-data-grid/grid-interface/#grid-api";Object.defineProperty(t,"api",{get:function(){_l("gridOptions.api is no longer supported. See ".concat(o,"."))},configurable:!0}),Object.defineProperty(t,"columnApi",{get:function(){_l("gridOptions.columnApi is no longer supported and all methods moved to the grid api. See ".concat(o,"."))},configurable:!0})}return i}var JVe=function(){function n(t,e,r){var i=this;if(at("Since v31 new Grid(...) is deprecated. Use createGrid instead: `const gridApi = createGrid(...)`. The grid api is returned from createGrid and will not be available on gridOptions."),!e){_l("No gridOptions provided to the grid");return}this.gridOptions=e;var o=new OB().create(t,e,function(a){var s=new bB(t),l=a.createBean(s);l.addDestroyFunc(function(){i.destroy()})},void 0,r);this.gridOptions.api=o,this.gridOptions.columnApi=new T_(o)}return n.prototype.destroy=function(){var t;this.gridOptions&&((t=this.gridOptions.api)===null||t===void 0||t.destroy(),delete this.gridOptions.api,delete this.gridOptions.columnApi)},n}(),eBe=1,OB=function(){function n(){}return n.prototype.create=function(t,e,r,i,o){var a,s=!!e.debug,l=(a=e.gridId)!==null&&a!==void 0?a:String(eBe++),u=this.getRegisteredModules(o,l),c=this.createBeansList(e.rowModelType,u,l),d=this.createProvidedBeans(t,e,o);if(!c){_l("Failed to create grid.");return}var p={providedBeanInstances:d,beanClasses:c,debug:s,gridId:l},h=new fD("Context",function(){return p.debug}),f=new DX(p,h),v=f.getBean("beans");return this.registerModuleUserComponents(v,u),this.registerStackComponents(v,u),this.registerControllers(v,u),r(f),v.syncService.start(),i&&i(f),v.gridApi},n.prototype.registerControllers=function(t,e){e.forEach(function(r){r.controllers&&r.controllers.forEach(function(i){return t.ctrlsFactory.register(i)})})},n.prototype.registerStackComponents=function(t,e){var r=this.createAgStackComponentsList(e);t.agStackComponentsRegistry.setupComponents(r)},n.prototype.getRegisteredModules=function(t,e){var r=t?t.modules:null,i=ut.__getRegisteredModules(e),o=[],a={},s=function(l,u,c){var d=function(p){a[p.moduleName]||(a[p.moduleName]=!0,o.push(p),ut.__register(p,l,c))};d(u),u.dependantModules&&u.dependantModules.forEach(function(p){return s(l,p,c)})};return r&&r.forEach(function(l){return s(!0,l,e)}),i&&i.forEach(function(l){return s(!ut.__isPackageBased(),l,void 0)}),o},n.prototype.registerModuleUserComponents=function(t,e){var r=this.extractModuleEntity(e,function(i){return i.userComponents?i.userComponents:[]});r.forEach(function(i){t.userComponentRegistry.registerDefaultComponent(i.componentName,i.componentClass)})},n.prototype.createProvidedBeans=function(t,e,r){var i=r?r.frameworkOverrides:null;pt(i)&&(i=new KQ);var o={gridOptions:e,eGridDiv:t,globalEventListener:r?r.globalEventListener:null,globalSyncEventListener:r?r.globalSyncEventListener:null,frameworkOverrides:i};return r&&r.providedBeanInstances&&Object.assign(o,r.providedBeanInstances),o},n.prototype.createAgStackComponentsList=function(t){var e=[{componentName:"AgCheckbox",componentClass:jc},{componentName:"AgRadioButton",componentClass:lD},{componentName:"AgToggleButton",componentClass:hD},{componentName:"AgInputTextField",componentClass:oc},{componentName:"AgInputTextArea",componentClass:$Q},{componentName:"AgInputNumberField",componentClass:x_},{componentName:"AgInputDateField",componentClass:_B},{componentName:"AgInputRange",componentClass:WQ},{componentName:"AgRichSelect",componentClass:O_},{componentName:"AgSelect",componentClass:Qu},{componentName:"AgSlider",componentClass:Ua},{componentName:"AgGridBody",componentClass:hQ},{componentName:"AgHeaderRoot",componentClass:DQ},{componentName:"AgSortIndicator",componentClass:uD},{componentName:"AgPagination",componentClass:YGe},{componentName:"AgPageSizeSelector",componentClass:XVe},{componentName:"AgOverlayWrapper",componentClass:XGe},{componentName:"AgGroupComponent",componentClass:Ls},{componentName:"AgRowContainer",componentClass:CQ},{componentName:"AgFakeHorizontalScroll",componentClass:mVe},{componentName:"AgFakeVerticalScroll",componentClass:MVe},{componentName:"AgAutocomplete",componentClass:zg}],r=this.extractModuleEntity(t,function(i){return i.agStackComponents?i.agStackComponents:[]});return e=e.concat(r),e},n.prototype.createBeansList=function(t,e,r){t===void 0&&(t="clientSide");var i=e.filter(function(u){return!u.rowModel||u.rowModel===t}),o={clientSide:Te.ClientSideRowModelModule,infinite:Te.InfiniteRowModelModule,serverSide:Te.ServerSideRowModelModule,viewport:Te.ViewportRowModelModule};if(!o[t]){_l("Could not find row model for rowModelType = "+t);return}if(ut.__assertRegistered(o[t],"rowModelType = '".concat(t,"'"),r)){var a=[vB,sJ,lJ,uJ,RGe,pB,tQ,LGe,IGe,FQ,nQ,UGe,AQ,hJ,WVe,BQ,oQ,zX,Vl,EB,zQ,XQ,sQ,WX,TQ,jQ,GQ,QQ,jX,JQ,qQ,gQ,iJ,ZQ,eJ,UX,kQ,MQ,Wt,T_,nJ,vQ,oJ,YQ,VQ,HQ,fQ,rJ,xGe,EGe,aJ,eLe,AGe,IQ,iVe,KX,sVe,lVe,wB,cJ,dJ,CVe,wVe,fVe,fJ,vJ,aQ,NVe,GVe,HVe,SB,zVe,QVe,NQ],s=this.extractModuleEntity(i,function(u){return u.beans?u.beans:[]});a.push.apply(a,XU([],qU(s),!1));var l=[];return a.forEach(function(u){l.indexOf(u)<0&&l.push(u)}),l}},n.prototype.extractModuleEntity=function(t,e){return[].concat.apply([],XU([],qU(t.map(e)),!1))},n}(),tBe=function(){function n(){}return n.prototype.wrap=function(t,e,r,i){var o=this;r===void 0&&(r=[]);var a=this.createWrapper(t,i);return e.forEach(function(s){o.createMethod(a,s,!0)}),r.forEach(function(s){o.createMethod(a,s,!1)}),a},n.prototype.unwrap=function(t){return t},n.prototype.createMethod=function(t,e,r){t.addMethod(e,this.createMethodProxy(t,e,r))},n.prototype.createMethodProxy=function(t,e,r){return function(){return t.hasMethod(e)?t.callMethod(e,arguments):(r&&console.warn("AG Grid: Framework component is missing the method "+e+"()"),null)}},n}(),mJ={columnGroup:["column","stackedColumn","normalizedColumn"],barGroup:["bar","stackedBar","normalizedBar"],pieGroup:["pie","donut"],lineGroup:["line"],scatterGroup:["scatter","bubble"],areaGroup:["area","stackedArea","normalizedArea"],polarGroup:["radarLine","radarArea","nightingale","radialColumn","radialBar"],statisticalGroup:["boxPlot","histogram","rangeBar","rangeArea"],hierarchicalGroup:["treemap","sunburst"],specializedGroup:["heatmap","waterfall"],combinationGroup:["columnLineCombo","areaColumnCombo","customCombo"]},VE=["chartSettings","chartData","chartFormat"],_1=["chartUnlink","chartLink","chartDownload"],Sw={settings:"chartSettings",data:"chartData",format:"chartFormat"},rBe=0,x1;(function(n){n.InsideBase="insideBase",n.InsideEnd="insideEnd",n.Center="center",n.OutsideEnd="outsideEnd"})(x1||(x1={}));/**
 * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue
 * @version v31.1.1
 * @link https://www.ag-grid.com/
 * @license MIT
 */var wy=typeof global>"u"?{}:global;wy.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;wy.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;wy.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;wy.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;wy.Node=typeof Node>"u"?{}:Node;wy.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var VC=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},BC=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},nBe=function(){function n(t,e,r,i,o,a){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=t,this.gridOptionsService=e,this.eventService=r,this.columnModel=i,this.beans=a,this.selectionService=o,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=n.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}return n.prototype.getCopyOfNodesMap=function(){return F.cloneObject(this.allNodesMap)},n.prototype.getRowNode=function(t){return this.allNodesMap[t]},n.prototype.setRowData=function(t){var e=this;if(typeof t=="string"){console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first");return}this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(t);var r=this.rootNode,i=this.rootNode.sibling;r.childrenAfterFilter=null,r.childrenAfterGroup=null,r.childrenAfterAggFilter=null,r.childrenAfterSort=null,r.childrenMapped=null,r.updateHasChildren(),this.nextId=0,this.allNodesMap={},t?r.allLeafChildren=t.map(function(o){return e.createNode(o,e.rootNode,n.TOP_LEVEL)}):(r.allLeafChildren=[],r.childrenAfterGroup=[]),i&&(i.childrenAfterFilter=r.childrenAfterFilter,i.childrenAfterGroup=r.childrenAfterGroup,i.childrenAfterAggFilter=r.childrenAfterAggFilter,i.childrenAfterSort=r.childrenAfterSort,i.childrenMapped=r.childrenMapped,i.allLeafChildren=r.allLeafChildren)},n.prototype.updateRowData=function(t,e){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(t.add);var r={remove:[],update:[],add:[]},i=[];return this.executeRemove(t,r,i),this.executeUpdate(t,r,i),this.executeAdd(t,r),this.updateSelection(i,"rowDataChanged"),e&&F.sortRowNodesByOrder(this.rootNode.allLeafChildren,e),r},n.prototype.isRowCountReady=function(){return this.rowCountReady},n.prototype.dispatchRowDataUpdateStartedEvent=function(t){var e={type:M.EVENT_ROW_DATA_UPDATE_STARTED,firstRowData:t!=null&&t.length?t[0]:null};this.eventService.dispatchEvent(e)},n.prototype.updateSelection=function(t,e){var r=t.length>0;if(r&&this.selectionService.setNodesSelected({newValue:!1,nodes:t,suppressFinishActions:!0,source:e}),this.selectionService.updateGroupsFromChildrenSelections(e),r){var i={type:M.EVENT_SELECTION_CHANGED,source:e};this.eventService.dispatchEvent(i)}},n.prototype.executeAdd=function(t,e){var r=this,i,o=t.add,a=t.addIndex;if(!F.missingOrEmpty(o)){var s=o.map(function(v){return r.createNode(v,r.rootNode,n.TOP_LEVEL)});if(typeof a=="number"&&a>=0){var l=this.rootNode.allLeafChildren,u=l.length,c=a,d=this.gridOptionsService.get("treeData");if(d&&a>0&&u>0){for(var p=0;p<u;p++)if(((i=l[p])===null||i===void 0?void 0:i.rowIndex)==a-1){c=p+1;break}}var h=l.slice(0,c),f=l.slice(c,l.length);this.rootNode.allLeafChildren=BC(BC(BC([],VC(h),!1),VC(s),!1),VC(f),!1)}else this.rootNode.allLeafChildren=BC(BC([],VC(this.rootNode.allLeafChildren),!1),VC(s),!1);this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),e.add=s}},n.prototype.executeRemove=function(t,e,r){var i=this,o=t.remove;if(!F.missingOrEmpty(o)){var a={};o.forEach(function(s){var l=i.lookupRowNode(s);l&&(l.isSelected()&&r.push(l),l.clearRowTopAndRowIndex(),a[l.id]=!0,delete i.allNodesMap[l.id],e.remove.push(l))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(s){return!a[s.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},n.prototype.executeUpdate=function(t,e,r){var i=this,o=t.update;F.missingOrEmpty(o)||o.forEach(function(a){var s=i.lookupRowNode(a);s&&(s.updateData(a),!s.selectable&&s.isSelected()&&r.push(s),i.setMasterForRow(s,a,n.TOP_LEVEL,!1),e.update.push(s))})},n.prototype.lookupRowNode=function(t){var e=this.gridOptionsService.getCallback("getRowId"),r;if(e){var i=e({data:t,level:0});if(r=this.allNodesMap[i],!r)return console.error("AG Grid: could not find row id=".concat(i,", data item was not found for this id")),null}else if(r=this.rootNode.allLeafChildren.find(function(o){return o.data===t}),!r)return console.error("AG Grid: could not find data item as object was not found",t),console.error("Consider using getRowId to help the Grid find matching row data"),null;return r||null},n.prototype.createNode=function(t,e,r){var i=new Ct(this.beans);i.group=!1,this.setMasterForRow(i,t,r,!0);var o=this.gridOptionsService.get("suppressParentsInRowNodes");return e&&!o&&(i.parent=e),i.level=r,i.setDataAndId(t,this.nextId.toString()),this.allNodesMap[i.id]&&console.warn("AG Grid: duplicate node id '".concat(i.id,"' detected from getRowId callback, this could cause issues in your grid.")),this.allNodesMap[i.id]=i,this.nextId++,i},n.prototype.setMasterForRow=function(t,e,r,i){var o=this.gridOptionsService.get("treeData");if(o)t.setMaster(!1),i&&(t.expanded=!1);else{var a=this.gridOptionsService.get("masterDetail");if(a){var s=this.gridOptionsService.get("isRowMaster");s?t.setMaster(s(e)):t.setMaster(!0)}else t.setMaster(!1);if(i){var l=this.columnModel.getRowGroupColumns(),u=l?l.length:0,c=r+u;t.expanded=t.master?this.isExpanded(c):!1}}},n.prototype.isExpanded=function(t){var e=this.gridOptionsService.get("groupDefaultExpanded");return e===-1?!0:t<e},n.TOP_LEVEL=0,n.ROOT_NODE_ID="ROOT_NODE_ID",n}(),iBe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$o=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Wo=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Uo=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},yu;(function(n){n[n.Normal=0]="Normal",n[n.AfterFilter=1]="AfterFilter",n[n.AfterFilterAndSort=2]="AfterFilterAndSort",n[n.PivotNodes=3]="PivotNodes"})(yu||(yu={}));var oBe=function(n){iBe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.onRowHeightChanged_debounced=F.debounce(e.onRowHeightChanged.bind(e),100),e.rowsToDisplay=[],e.hasStarted=!1,e.shouldSkipSettingDataOnStart=!1,e.isRefreshingModel=!1,e.rowCountReady=!1,e}return t.prototype.init=function(){var e=this,r=this.refreshModel.bind(this,{step:Ft.EVERYTHING}),i=!this.gridOptionsService.get("suppressAnimationFrame"),o=this.refreshModel.bind(this,{step:Ft.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:i});this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,o),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,r),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:Ft.PIVOT})),this.addManagedListener(this.eventService,M.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_MODE_CHANGED,r),this.addManagedListener(this.eventService,M.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this)),this.addManagedListener(this.eventService,M.EVENT_GRID_READY,function(){return e.onGridReady()}),this.addPropertyListeners(),this.rootNode=new Ct(this.beans),this.nodeManager=new nBe(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans)},t.prototype.addPropertyListeners=function(){var e=this,r=new Set(["treeData","masterDetail"]),i=new Set(["suppressParentsInRowNodes","groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),o=new Set(["excludeChildrenWhenTreeDataFiltering"]),a=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),s=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly"]),l=new Set(["postSortRows","groupDisplayType","accentedSort"]),u=new Set([]),c=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter"]),d=Uo(Uo(Uo(Uo(Uo(Uo(Uo(Uo(Uo([],Wo(r),!1),Wo(i),!1),Wo(o),!1),Wo(a),!1),Wo(a),!1),Wo(s),!1),Wo(l),!1),Wo(u),!1),Wo(c),!1);this.addManagedPropertyListeners(d,function(p){var h,f=(h=p.changeSet)===null||h===void 0?void 0:h.properties;if(f){var v=function(g){return f.some(function(m){return g.has(m)})};if(v(r)){e.setRowData(e.rootNode.allLeafChildren.map(function(g){return g.data}));return}if(v(i)){e.refreshModel({step:Ft.EVERYTHING});return}if(v(o)){e.refreshModel({step:Ft.FILTER});return}if(v(a)){e.refreshModel({step:Ft.PIVOT});return}if(v(s)){e.refreshModel({step:Ft.AGGREGATE});return}if(v(l)){e.refreshModel({step:Ft.SORT});return}if(v(u)){e.refreshModel({step:Ft.FILTER_AGGREGATES});return}v(c)&&e.refreshModel({step:Ft.MAP})}}),this.addManagedPropertyListener("rowHeight",function(){return e.resetRowHeights()})},t.prototype.start=function(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()},t.prototype.setInitialData=function(){var e=this.gridOptionsService.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))},t.prototype.ensureRowHeightsValid=function(e,r,i,o){var a,s=!1;do{a=!1;for(var l=this.getRowIndexAtPixel(e),u=this.getRowIndexAtPixel(r),c=Math.max(l,i),d=Math.min(u,o),p=c;p<=d;p++){var h=this.getRow(p);if(h.rowHeightEstimated){var f=this.gridOptionsService.getRowHeightForNode(h);h.setRowHeight(f.height),a=!0,s=!0}}a&&this.setRowTopAndRowIndex()}while(a);return s},t.prototype.setRowTopAndRowIndex=function(){for(var e=this.environment.getDefaultRowHeight(),r=0,i=new Set,o=this.gridOptionsService.isDomLayout("normal"),a=0;a<this.rowsToDisplay.length;a++){var s=this.rowsToDisplay[a];if(s.id!=null&&i.add(s.id),s.rowHeight==null){var l=this.gridOptionsService.getRowHeightForNode(s,o,e);s.setRowHeight(l.height,l.estimated)}s.setRowTop(r),s.setRowIndex(a),r+=s.rowHeight}return i},t.prototype.clearRowTopAndRowIndex=function(e,r){var i=e.isActive(),o=function(s){s&&s.id!=null&&!r.has(s.id)&&s.clearRowTopAndRowIndex()},a=function(s){if(o(s),o(s.detailNode),o(s.sibling),s.hasChildren()&&s.childrenAfterGroup){var l=s.level==-1,u=i&&!l&&!s.expanded;u||s.childrenAfterGroup.forEach(a)}};a(this.rootNode)},t.prototype.ensureRowsAtPixel=function(e,r,i){var o=this;i===void 0&&(i=0);var a=this.getRowIndexAtPixel(r),s=this.getRow(a),l=!this.gridOptionsService.get("suppressAnimationFrame");return s===e[0]?!1:(e.forEach(function(u){F.removeFromArray(o.rootNode.allLeafChildren,u)}),e.forEach(function(u,c){F.insertIntoArray(o.rootNode.allLeafChildren,u,Math.max(a+i,0)+c)}),this.refreshModel({step:Ft.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:l}),!0)},t.prototype.highlightRowAtPixel=function(e,r){var i=r!=null?this.getRowIndexAtPixel(r):null,o=i!=null?this.getRow(i):null;if(!o||!e||o===e||r==null){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null);return}var a=this.getHighlightPosition(r,o);this.lastHighlightedRow&&this.lastHighlightedRow!==o&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),o.setHighlighted(a),this.lastHighlightedRow=o},t.prototype.getHighlightPosition=function(e,r){if(!r){var i=this.getRowIndexAtPixel(e);if(r=this.getRow(i||0),!r)return zu.Below}var o=r.rowTop,a=r.rowHeight;return e-o<a/2?zu.Above:zu.Below},t.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},t.prototype.getTopLevelRowCount=function(){var e=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(e)return 1;var r=this.rootNode.childrenAfterAggFilter;return r?r.length:0},t.prototype.getTopLevelRowDisplayedIndex=function(e){var r=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(r)return e;var i=this.rootNode.childrenAfterSort[e];if(this.gridOptionsService.get("groupHideOpenParents"))for(;i.expanded&&i.childrenAfterSort&&i.childrenAfterSort.length>0;)i=i.childrenAfterSort[0];return i.rowIndex},t.prototype.getRowBounds=function(e){if(F.missing(this.rowsToDisplay))return null;var r=this.rowsToDisplay[e];return r?{rowTop:r.rowTop,rowHeight:r.rowHeight}:null},t.prototype.onRowGroupOpened=function(){var e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:Ft.MAP,keepRenderedRows:!0,animate:e})},t.prototype.onFilterChanged=function(e){if(!e.afterDataChange){var r=this.gridOptionsService.isAnimateRows(),i=e.columns.length===0||e.columns.some(function(a){return a.isPrimary()}),o=i?Ft.FILTER:Ft.FILTER_AGGREGATES;this.refreshModel({step:o,keepRenderedRows:!0,animate:r})}},t.prototype.onSortChanged=function(){var e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:Ft.SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})},t.prototype.getType=function(){return"clientSide"},t.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:Ft.PIVOT}):this.refreshModel({step:Ft.AGGREGATE})},t.prototype.createChangePath=function(e){var r=F.missingOrEmpty(e),i=new Sy(!1,this.rootNode);return(r||this.gridOptionsService.get("treeData"))&&i.setInactive(),i},t.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(e){if(!this.gridOptionsService.get("suppressModelUpdateAfterUpdateTransaction")||e.rowNodeTransactions==null)return!1;var r=e.rowNodeTransactions.filter(function(o){return o.add!=null&&o.add.length>0||o.remove!=null&&o.remove.length>0}),i=r==null||r.length==0;return i},t.prototype.buildRefreshModelParams=function(e){var r=Ft.EVERYTHING,i={everything:Ft.EVERYTHING,group:Ft.EVERYTHING,filter:Ft.FILTER,map:Ft.MAP,aggregate:Ft.AGGREGATE,sort:Ft.SORT,pivot:Ft.PIVOT};if(F.exists(e)&&(r=i[e]),F.missing(r)){console.error("AG Grid: invalid step ".concat(e,", available steps are ").concat(Object.keys(i).join(", ")));return}var o=!this.gridOptionsService.get("suppressAnimationFrame"),a={step:r,keepRenderedRows:!0,keepEditingRows:!0,animate:o};return a},t.prototype.refreshModel=function(e){if(!(!this.hasStarted||this.isRefreshingModel||this.columnModel.shouldRowModelIgnoreRefresh())){var r=typeof e=="object"&&"step"in e?e:this.buildRefreshModelParams(e);if(r&&!this.isSuppressModelUpdateAfterUpdateTransaction(r)){var i=this.createChangePath(r.rowNodeTransactions);switch(this.isRefreshingModel=!0,r.step){case Ft.EVERYTHING:this.doRowGrouping(r.rowNodeTransactions,r.rowNodeOrder,i,!!r.afterColumnsChanged);case Ft.FILTER:this.doFilter(i);case Ft.PIVOT:this.doPivot(i);case Ft.AGGREGATE:this.doAggregate(i);case Ft.FILTER_AGGREGATES:this.doFilterAggregates(i);case Ft.SORT:this.doSort(r.rowNodeTransactions,i);case Ft.MAP:this.doRowsToDisplay()}var o=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,o),this.isRefreshingModel=!1;var a={type:M.EVENT_MODEL_UPDATED,animate:r.animate,keepRenderedRows:r.keepRenderedRows,newData:r.newData,newPage:!1,keepUndoRedoStack:r.keepUndoRedoStack};this.eventService.dispatchEvent(a)}}},t.prototype.isEmpty=function(){var e=F.missing(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return F.missing(this.rootNode)||e||!this.columnModel.isReady()},t.prototype.isRowsToRender=function(){return F.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},t.prototype.getNodesInRangeForSelection=function(e,r){var i=!r,o=!1,a=[],s=this.gridOptionsService.get("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(function(l){if(!o){if(i&&(l===r||l===e)&&(o=!0,l.group&&s)){a.push.apply(a,Uo([],Wo(l.allLeafChildren),!1));return}if(!i){if(l!==r&&l!==e)return;i=!0}var u=!l.group||!s;if(u){a.push(l);return}}}),a},t.prototype.setDatasource=function(e){console.error("AG Grid: should never call setDatasource on clientSideRowController")},t.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},t.prototype.getRootNode=function(){return this.rootNode},t.prototype.getRow=function(e){return this.rowsToDisplay[e]},t.prototype.isRowPresent=function(e){return this.rowsToDisplay.indexOf(e)>=0},t.prototype.getRowIndexAtPixel=function(e){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;var r=0,i=this.rowsToDisplay.length-1;if(e<=0)return 0;var o=F.last(this.rowsToDisplay);if(o.rowTop<=e)return this.rowsToDisplay.length-1;for(var a=-1,s=-1;;){var l=Math.floor((r+i)/2),u=this.rowsToDisplay[l];if(this.isRowInPixel(u,e))return l;u.rowTop<e?r=l+1:u.rowTop>e&&(i=l-1);var c=a===r&&s===i;if(c)return l;a=r,s=i}},t.prototype.isRowInPixel=function(e,r){var i=e.rowTop,o=e.rowTop+e.rowHeight,a=i<=r&&o>r;return a},t.prototype.forEachLeafNode=function(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(r,i){return e(r,i)})},t.prototype.forEachNode=function(e,r){r===void 0&&(r=!1),this.recursivelyWalkNodesAndCallback({nodes:Uo([],Wo(this.rootNode.childrenAfterGroup||[]),!1),callback:e,recursionType:yu.Normal,index:0,includeFooterNodes:r})},t.prototype.forEachNodeAfterFilter=function(e,r){r===void 0&&(r=!1),this.recursivelyWalkNodesAndCallback({nodes:Uo([],Wo(this.rootNode.childrenAfterAggFilter||[]),!1),callback:e,recursionType:yu.AfterFilter,index:0,includeFooterNodes:r})},t.prototype.forEachNodeAfterFilterAndSort=function(e,r){r===void 0&&(r=!1),this.recursivelyWalkNodesAndCallback({nodes:Uo([],Wo(this.rootNode.childrenAfterSort||[]),!1),callback:e,recursionType:yu.AfterFilterAndSort,index:0,includeFooterNodes:r})},t.prototype.forEachPivotNode=function(e,r){r===void 0&&(r=!1),this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:yu.PivotNodes,index:0,includeFooterNodes:r})},t.prototype.recursivelyWalkNodesAndCallback=function(e){for(var r,i=e.nodes,o=e.callback,a=e.recursionType,s=e.includeFooterNodes,l=e.index,u=0;u<i.length;u++){var c=i[u];if(o(c,l++),c.hasChildren()&&!c.footer){var d=null;switch(a){case yu.Normal:d=c.childrenAfterGroup;break;case yu.AfterFilter:d=c.childrenAfterAggFilter;break;case yu.AfterFilterAndSort:d=c.childrenAfterSort;break;case yu.PivotNodes:d=c.leafGroup?null:c.childrenAfterSort;break}d&&(l=this.recursivelyWalkNodesAndCallback({nodes:Uo([],Wo(d),!1),callback:o,recursionType:a,index:l,includeFooterNodes:s}))}}var p=(r=i[0])===null||r===void 0?void 0:r.parent;if(!s||!p)return l;var h=p===this.rootNode;if(h){var f=this.gridOptionsService.get("groupIncludeTotalFooter");if(!f)return l}else{var v=this.gridOptionsService.getGroupIncludeFooter();if(!v({node:p}))return l}return p.createFooter(),o(p.sibling,l++),l},t.prototype.doAggregate=function(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doFilterAggregates=function(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},t.prototype.expandOrCollapseAll=function(e){var r=this.gridOptionsService.get("treeData"),i=this.columnModel.isPivotActive(),o=function(l){l&&l.forEach(function(u){var c=function(){u.expanded=e,o(u.childrenAfterGroup)};if(r){var d=F.exists(u.childrenAfterGroup);d&&c();return}if(i){var p=!u.leafGroup;p&&c();return}var h=u.group;h&&c()})};this.rootNode&&o(this.rootNode.childrenAfterGroup),this.refreshModel({step:Ft.MAP});var a=e?"expandAll":"collapseAll",s={type:M.EVENT_EXPAND_COLLAPSE_ALL,source:a};this.eventService.dispatchEvent(s)},t.prototype.doSort=function(e,r){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:r})},t.prototype.doRowGrouping=function(e,r,i,o){if(this.groupStage){if(e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodeOrder:r,changedPath:i}):this.groupStage.execute({rowNode:this.rootNode,changedPath:i,afterColumnsChanged:o}),this.gridOptionsService.get("groupSelectsChildren")){var a=this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",i);if(a){var s={type:M.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"};this.eventService.dispatchEvent(s)}}}else this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren();this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:M.EVENT_ROW_COUNT_READY}))},t.prototype.doFilter=function(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doPivot=function(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},t.prototype.getRowNode=function(e){var r=typeof e=="string"&&e.indexOf(Ct.ID_PREFIX_ROW_GROUP)==0;if(r){var i=void 0;return this.forEachNode(function(o){o.id===e&&(i=o)}),i}return this.nodeManager.getRowNode(e)},t.prototype.setRowData=function(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()},t.prototype.dispatchUpdateEventsAndRefresh=function(){var e={type:M.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(e),this.refreshModel({step:Ft.EVERYTHING,newData:!0})},t.prototype.batchUpdateRowData=function(e,r){var i=this;if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];var o=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){i.executeBatchUpdateRowData()},o)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:r})},t.prototype.flushAsyncTransactions=function(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},t.prototype.executeBatchUpdateRowData=function(){var e=this;this.valueCache.onDataChanged();var r=[],i=[],o=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(s){var l=e.nodeManager.updateRowData(s.rowDataTransaction,void 0);i.push(l),s.callback&&r.push(s.callback.bind(null,l)),typeof s.rowDataTransaction.addIndex=="number"&&(o=!0)}),this.commonUpdateRowData(i,void 0,o),r.length>0&&window.setTimeout(function(){r.forEach(function(s){return s()})},0),i.length>0){var a={type:M.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:i};this.eventService.dispatchEvent(a)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},t.prototype.updateRowData=function(e,r){this.valueCache.onDataChanged();var i=this.nodeManager.updateRowData(e,r),o=typeof e.addIndex=="number";return this.commonUpdateRowData([i],r,o),i},t.prototype.createRowNodeOrder=function(){var e=this.gridOptionsService.get("suppressMaintainUnsortedOrder");if(!e){var r={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var i=0;i<this.rootNode.allLeafChildren.length;i++){var o=this.rootNode.allLeafChildren[i];r[o.id]=i}return r}},t.prototype.commonUpdateRowData=function(e,r,i){if(this.hasStarted){var o=!this.gridOptionsService.get("suppressAnimationFrame");i&&(r=this.createRowNodeOrder());var a={type:M.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(a),this.refreshModel({step:Ft.EVERYTHING,rowNodeTransactions:e,rowNodeOrder:r,keepRenderedRows:!0,keepEditingRows:!0,animate:o})}},t.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},t.prototype.onRowHeightChanged=function(){this.refreshModel({step:Ft.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})},t.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},t.prototype.resetRowHeights=function(){var e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()},t.prototype.resetRowHeightsForAllRowNodes=function(){var e=!1;return this.forEachNode(function(r){r.setRowHeight(r.rowHeight,!0);var i=r.detailNode;i&&i.setRowHeight(i.rowHeight,!0),r.sibling&&r.sibling.setRowHeight(r.sibling.rowHeight,!0),e=!0}),e},t.prototype.onGridStylesChanges=function(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()},t.prototype.onGridReady=function(){this.hasStarted||this.setInitialData()},t.prototype.isRowDataLoaded=function(){return this.rowCountReady},$o([O("columnModel")],t.prototype,"columnModel",void 0),$o([O("selectionService")],t.prototype,"selectionService",void 0),$o([O("filterManager")],t.prototype,"filterManager",void 0),$o([O("valueCache")],t.prototype,"valueCache",void 0),$o([O("beans")],t.prototype,"beans",void 0),$o([O("filterStage")],t.prototype,"filterStage",void 0),$o([O("sortStage")],t.prototype,"sortStage",void 0),$o([O("flattenStage")],t.prototype,"flattenStage",void 0),$o([xt("groupStage")],t.prototype,"groupStage",void 0),$o([xt("aggregationStage")],t.prototype,"aggregationStage",void 0),$o([xt("pivotStage")],t.prototype,"pivotStage",void 0),$o([xt("filterAggregatesStage")],t.prototype,"filterAggregatesStage",void 0),$o([q],t.prototype,"init",null),t=$o([me("rowModel")],t),t}(re),aBe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ZU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},sBe=function(n){aBe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.execute=function(e){var r=e.changedPath;this.filterService.filter(r)},ZU([O("filterService")],t.prototype,"filterService",void 0),t=ZU([me("filterStage")],t),t}(re),lBe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),lL=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},uBe=function(n){lBe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.execute=function(e){var r=this,i=this.sortController.getSortOptions(),o=F.exists(i)&&i.length>0,a=o&&F.exists(e.rowNodeTransactions)&&this.gridOptionsService.get("deltaSort"),s=i.some(function(l){var u=r.gridOptionsService.isColumnsSortingCoupledToGroup();return u?l.column.isPrimary()&&l.column.isRowGroupActive():!!l.column.getColDef().showRowGroup});this.sortService.sort(i,o,a,e.rowNodeTransactions,e.changedPath,s)},lL([O("sortService")],t.prototype,"sortService",void 0),lL([O("sortController")],t.prototype,"sortController",void 0),t=lL([me("sortStage")],t),t}(re),cBe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),uL=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},dBe=function(n){cBe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.execute=function(e){var r=e.rowNode,i=[],o=this.columnModel.isPivotMode(),a=o&&r.leafGroup,s=a?[r]:r.childrenAfterSort,l=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(l,s,i,o,0);var u=i.length>0,c=!a&&u&&l.groupIncludeTotalFooter;return c&&(r.createFooter(),this.addRowNodeToRowsToDisplay(l,r.sibling,i,0)),i},t.prototype.getFlattenDetails=function(){var e=this.gridOptionsService.get("groupRemoveSingleChildren"),r=!e&&this.gridOptionsService.get("groupRemoveLowestSingleChildren");return{groupRemoveLowestSingleChildren:r,groupRemoveSingleChildren:e,isGroupMultiAutoColumn:this.gridOptionsService.isGroupMultiAutoColumn(),hideOpenParents:this.gridOptionsService.get("groupHideOpenParents"),groupIncludeTotalFooter:this.gridOptionsService.get("groupIncludeTotalFooter"),getGroupIncludeFooter:this.gridOptionsService.getGroupIncludeFooter()}},t.prototype.recursivelyAddToRowsToDisplay=function(e,r,i,o,a){if(!F.missingOrEmpty(r))for(var s=0;s<r.length;s++){var l=r[s],u=l.hasChildren(),c=o&&!u,d=e.groupRemoveSingleChildren&&u&&l.childrenAfterGroup.length===1,p=e.groupRemoveLowestSingleChildren&&u&&l.leafGroup&&l.childrenAfterGroup.length===1,h=o&&l.leafGroup,f=e.hideOpenParents&&l.expanded&&!l.master&&!h,v=!c&&!f&&!d&&!p;if(v&&this.addRowNodeToRowsToDisplay(e,l,i,a),!(o&&l.leafGroup)){if(u){var g=d||p;if(l.expanded||g){var m=g?a:a+1;this.recursivelyAddToRowsToDisplay(e,l.childrenAfterSort,i,o,m);var y=e.getGroupIncludeFooter({node:l});y?(l.createFooter(),this.addRowNodeToRowsToDisplay(e,l.sibling,i,m)):l.destroyFooter()}}else if(l.master&&l.expanded){var C=this.createDetailNode(l);this.addRowNodeToRowsToDisplay(e,C,i,a)}}}},t.prototype.addRowNodeToRowsToDisplay=function(e,r,i,o){i.push(r),r.setUiLevel(e.isGroupMultiAutoColumn?0:o)},t.prototype.createDetailNode=function(e){if(F.exists(e.detailNode))return e.detailNode;var r=new Ct(this.beans);return r.detail=!0,r.selectable=!1,r.parent=e,F.exists(e.id)&&(r.id="detail_"+e.id),r.data=e.data,r.level=e.level+1,e.detailNode=r,r},uL([O("columnModel")],t.prototype,"columnModel",void 0),uL([O("beans")],t.prototype,"beans",void 0),t=uL([me("flattenStage")],t),t}(re),pBe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),cL=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},hBe=function(n){pBe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.sort=function(e,r,i,o,a,s){var l=this,u=this.gridOptionsService.get("groupMaintainOrder"),c=this.columnModel.getAllGridColumns().some(function(v){return v.isRowGroupActive()}),d={};i&&o&&(d=this.calculateDirtyNodes(o));var p=this.columnModel.isPivotMode(),h=this.gridOptionsService.getCallback("postSortRows"),f=function(v){var g;l.pullDownGroupDataForHideOpenParents(v.childrenAfterAggFilter,!0);var m=p&&v.leafGroup,y=u&&c&&!v.leafGroup&&!s;if(y){var C=(g=l.columnModel.getRowGroupColumns())===null||g===void 0?void 0:g[v.level+1],S=(C==null?void 0:C.getSort())===null,w=v.childrenAfterAggFilter.slice(0);if(v.childrenAfterSort&&!S){var _={};v.childrenAfterSort.forEach(function(E,R){_[E.id]=R}),w.sort(function(E,R){var P,A;return((P=_[E.id])!==null&&P!==void 0?P:0)-((A=_[R.id])!==null&&A!==void 0?A:0)})}v.childrenAfterSort=w}else!r||m?v.childrenAfterSort=v.childrenAfterAggFilter.slice(0):i?v.childrenAfterSort=l.doDeltaSort(v,d,a,e):v.childrenAfterSort=l.rowNodeSorter.doFullSort(v.childrenAfterAggFilter,e);if(v.sibling&&(v.sibling.childrenAfterSort=v.childrenAfterSort),l.updateChildIndexes(v),h){var x={nodes:v.childrenAfterSort};h(x)}};a&&a.forEachChangedNodeDepthFirst(f),this.updateGroupDataForHideOpenParents(a)},t.prototype.calculateDirtyNodes=function(e){var r={},i=function(o){o&&o.forEach(function(a){return r[a.id]=!0})};return e&&e.forEach(function(o){i(o.add),i(o.update),i(o.remove)}),r},t.prototype.doDeltaSort=function(e,r,i,o){var a=this,s=e.childrenAfterAggFilter,l=e.childrenAfterSort;if(!l)return this.rowNodeSorter.doFullSort(s,o);var u={},c=[];s.forEach(function(f){r[f.id]||!i.canSkip(f)?c.push(f):u[f.id]=!0});var d=l.filter(function(f){return u[f.id]}),p=function(f,v){return{currentPos:v,rowNode:f}},h=c.map(p).sort(function(f,v){return a.rowNodeSorter.compareRowNodes(o,f,v)});return this.mergeSortedArrays(o,h,d.map(p)).map(function(f){var v=f.rowNode;return v})},t.prototype.mergeSortedArrays=function(e,r,i){for(var o=[],a=0,s=0;a<r.length&&s<i.length;){var l=this.rowNodeSorter.compareRowNodes(e,r[a],i[s]);l<0?o.push(r[a++]):o.push(i[s++])}for(;a<r.length;)o.push(r[a++]);for(;s<i.length;)o.push(i[s++]);return o},t.prototype.updateChildIndexes=function(e){if(!F.missing(e.childrenAfterSort))for(var r=e.childrenAfterSort,i=0;i<r.length;i++){var o=r[i],a=i===0,s=i===e.childrenAfterSort.length-1;o.setFirstChild(a),o.setLastChild(s),o.setChildIndex(i)}},t.prototype.updateGroupDataForHideOpenParents=function(e){var r=this;if(this.gridOptionsService.get("groupHideOpenParents")){if(this.gridOptionsService.get("treeData"))return F.warnOnce("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;var i=function(o){r.pullDownGroupDataForHideOpenParents(o.childrenAfterSort,!1),o.childrenAfterSort.forEach(function(a){a.hasChildren()&&i(a)})};e&&e.executeFromRootNode(function(o){return i(o)})}},t.prototype.pullDownGroupDataForHideOpenParents=function(e,r){var i=this;!this.gridOptionsService.get("groupHideOpenParents")||F.missing(e)||e.forEach(function(o){var a=i.columnModel.getGroupDisplayColumns();a.forEach(function(s){var l=s.getColDef().showRowGroup;if(typeof l!="string"){console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}var u=l,c=i.columnModel.getPrimaryColumn(u),d=c===o.rowGroupColumn;if(!d)if(r)o.setGroupValue(s.getId(),void 0);else{var p=o.getFirstChildOfFirstChild(c);p&&o.setGroupValue(s.getId(),p.key)}})})},cL([O("columnModel")],t.prototype,"columnModel",void 0),cL([O("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),t=cL([me("sortService")],t),t}(re),fBe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),QU=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vBe=function(n){fBe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.filter=function(e){var r=this.filterManager.isChildFilterPresent();this.filterNodes(r,e)},t.prototype.filterNodes=function(e,r){var i=this,o=function(u,c){u.hasChildren()&&e&&!c?u.childrenAfterFilter=u.childrenAfterGroup.filter(function(d){var p=d.childrenAfterFilter&&d.childrenAfterFilter.length>0,h=d.data&&i.filterManager.doesRowPassFilter({rowNode:d});return p||h}):u.childrenAfterFilter=u.childrenAfterGroup,u.sibling&&(u.sibling.childrenAfterFilter=u.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var a=function(u,c){if(u.childrenAfterGroup)for(var d=0;d<u.childrenAfterGroup.length;d++){var p=u.childrenAfterGroup[d],h=c||i.filterManager.doesRowPassFilter({rowNode:p});p.childrenAfterGroup?a(u.childrenAfterGroup[d],h):o(p,h)}o(u,c)},s=function(u){return a(u,!1)};r.executeFromRootNode(s)}else{var l=function(u){return o(u,!1)};r.forEachChangedNodeDepthFirst(l,!0)}},t.prototype.doingTreeDataFiltering=function(){return this.gridOptionsService.get("treeData")&&!this.gridOptionsService.get("excludeChildrenWhenTreeDataFiltering")},QU([O("filterManager")],t.prototype,"filterManager",void 0),t=QU([me("filterService")],t),t}(re),gBe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jC=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},mBe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},yBe=function(n){gBe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){var e=this;this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",function(){return e.onRowDataUpdated()}))},t.prototype.isActive=function(){var e=this.gridOptionsService.exists("getRowId"),r=this.gridOptionsService.get("resetRowDataOnUpdate");return r?!1:e},t.prototype.setRowData=function(e){var r=this.createTransactionForRowData(e);if(r){var i=mBe(r,2),o=i[0],a=i[1];this.clientSideRowModel.updateRowData(o,a)}},t.prototype.createTransactionForRowData=function(e){if(F.missing(this.clientSideRowModel)){console.error("AG Grid: ImmutableService only works with ClientSideRowModel");return}var r=this.gridOptionsService.getCallback("getRowId");if(r==null){console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");return}var i={remove:[],update:[],add:[]},o=this.clientSideRowModel.getCopyOfNodesMap(),a=this.gridOptionsService.get("suppressMaintainUnsortedOrder"),s=a?void 0:{};return F.exists(e)&&e.forEach(function(l,u){var c=r({data:l,level:0}),d=o[c];if(s&&(s[c]=u),d){var p=d.data!==l;p&&i.update.push(l),o[c]=void 0}else i.add.push(l)}),F.iterateObject(o,function(l,u){u&&i.remove.push(u.data)}),[i,s]},t.prototype.onRowDataUpdated=function(){var e=this.gridOptionsService.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))},jC([O("rowModel")],t.prototype,"rowModel",void 0),jC([O("rowRenderer")],t.prototype,"rowRenderer",void 0),jC([O("selectionService")],t.prototype,"selectionService",void 0),jC([q],t.prototype,"postConstruct",null),t=jC([me("immutableService")],t),t}(re),CBe="31.1.1",yJ={version:CBe,moduleName:Te.ClientSideRowModelModule,rowModel:"clientSide",beans:[oBe,sBe,uBe,dBe,hBe,vBe,yBe]},SBe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),dL=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},JU=function(n){SBe(t,n);function t(e,r,i){var o=n.call(this,e)||this;return o.parentCache=r,o.params=i,o.startRow=e*i.blockSize,o.endRow=o.startRow+i.blockSize,o}return t.prototype.postConstruct=function(){this.createRowNodes()},t.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},t.prototype.setDataAndId=function(e,r,i){F.exists(r)?e.setDataAndId(r,i.toString()):e.setDataAndId(void 0,void 0)},t.prototype.loadFromDatasource=function(){var e=this,r=this.createLoadParams();if(F.missing(this.params.datasource.getRows)){console.warn("AG Grid: datasource is missing getRows method");return}window.setTimeout(function(){e.params.datasource.getRows(r)},0)},t.prototype.processServerFail=function(){},t.prototype.createLoadParams=function(){var e={startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsService.getGridCommonParams().context};return e},t.prototype.forEachNode=function(e,r,i){var o=this;this.rowNodes.forEach(function(a,s){var l=o.startRow+s;l<i&&e(a,r.next())})},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRow=function(e,r){r===void 0&&(r=!1),r||(this.lastAccessed=this.params.lastAccessedSequence.next());var i=e-this.startRow;return this.rowNodes[i]},t.prototype.getStartRow=function(){return this.startRow},t.prototype.getEndRow=function(){return this.endRow},t.prototype.createRowNodes=function(){this.rowNodes=[];for(var e=0;e<this.params.blockSize;e++){var r=this.startRow+e,i=new Ct(this.beans);i.setRowHeight(this.params.rowHeight),i.uiLevel=0,i.setRowIndex(r),i.setRowTop(this.params.rowHeight*r),this.rowNodes.push(i)}},t.prototype.processServerResult=function(e){var r=this;this.rowNodes.forEach(function(o,a){var s=e.rowData?e.rowData[a]:void 0;!o.id&&o.alreadyRendered&&s&&(r.rowNodes[a]=new Ct(r.beans),r.rowNodes[a].setRowIndex(o.rowIndex),r.rowNodes[a].setRowTop(o.rowTop),r.rowNodes[a].setRowHeight(o.rowHeight),o.clearRowTopAndRowIndex()),r.setDataAndId(r.rowNodes[a],s,r.startRow+a)});var i=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,i)},t.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(e){e.clearRowTopAndRowIndex()})},dL([O("beans")],t.prototype,"beans",void 0),dL([q],t.prototype,"postConstruct",null),dL([Gr],t.prototype,"destroyRowNodes",null),t}(xu),wBe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ub=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},_Be=function(n,t){return function(e,r){t(e,r,n)}},xBe=function(n){wBe(t,n);function t(e){var r=n.call(this)||this;return r.lastRowIndexKnown=!1,r.blocks={},r.blockCount=0,r.rowCount=e.initialRowCount,r.params=e,r}return t.prototype.setBeans=function(e){this.logger=e.create("InfiniteCache")},t.prototype.getRow=function(e,r){r===void 0&&(r=!1);var i=Math.floor(e/this.params.blockSize),o=this.blocks[i];if(!o){if(r)return;o=this.createBlock(i)}return o.getRow(e)},t.prototype.createBlock=function(e){var r=this.createBean(new JU(e,this,this.params));return this.blocks[r.getId()]=r,this.blockCount++,this.purgeBlocksIfNeeded(r),this.params.rowNodeBlockLoader.addBlock(r),r},t.prototype.refreshCache=function(){var e=this.blockCount==0;if(e){this.purgeCache();return}this.getBlocksInOrder().forEach(function(r){return r.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach(function(r){return e.destroyBlock(r)})},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},t.prototype.pageLoaded=function(e,r){this.isAlive()&&(this.logger.log("onPageLoaded: page = ".concat(e.getId(),", lastRow = ").concat(r)),this.checkRowCount(e,r),this.onCacheUpdated())},t.prototype.purgeBlocksIfNeeded=function(e){var r=this,i=this.getBlocksInOrder().filter(function(u){return u!=e}),o=function(u,c){return c.getLastAccessed()-u.getLastAccessed()};i.sort(o);var a=this.params.maxBlocksInCache>0,s=a?this.params.maxBlocksInCache-1:null,l=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;i.forEach(function(u,c){var d=u.getState()===JU.STATE_WAITING_TO_LOAD&&c>=l,p=a?c>=s:!1;if(d||p){if(r.isBlockCurrentlyDisplayed(u)||r.isBlockFocused(u))return;r.removeBlockFromCache(u)}})},t.prototype.isBlockFocused=function(e){var r=this.focusService.getFocusCellToUseAfterRefresh();if(!r||r.rowPinned!=null)return!1;var i=e.getStartRow(),o=e.getEndRow(),a=r.rowIndex>=i&&r.rowIndex<o;return a},t.prototype.isBlockCurrentlyDisplayed=function(e){var r=e.getStartRow(),i=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(r,i)},t.prototype.removeBlockFromCache=function(e){e&&this.destroyBlock(e)},t.prototype.checkRowCount=function(e,r){if(typeof r=="number"&&r>=0)this.rowCount=r,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var i=(e.getId()+1)*this.params.blockSize,o=i+this.params.overflowSize;this.rowCount<o&&(this.rowCount=o)}},t.prototype.setRowCount=function(e,r){this.rowCount=e,F.exists(r)&&(this.lastRowIndexKnown=r),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()},t.prototype.forEachNodeDeep=function(e){var r=this,i=new ji;this.getBlocksInOrder().forEach(function(o){return o.forEachNode(e,i,r.rowCount)})},t.prototype.getBlocksInOrder=function(){var e=function(i,o){return i.getId()-o.getId()},r=F.getAllValuesInObject(this.blocks).sort(e);return r},t.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)},t.prototype.onCacheUpdated=function(){if(this.isAlive()){this.destroyAllBlocksPastVirtualRowCount();var e={type:M.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(e)}},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,r=[];this.getBlocksInOrder().forEach(function(i){var o=i.getId()*e.params.blockSize;o>=e.rowCount&&r.push(i)}),r.length>0&&r.forEach(function(i){return e.destroyBlock(i)})},t.prototype.purgeCache=function(){var e=this;this.getBlocksInOrder().forEach(function(r){return e.removeBlockFromCache(r)}),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},t.prototype.getRowNodesInRange=function(e,r){var i=this,o=[],a=-1,s=!1,l=new ji;F.missing(e)&&(s=!0);var u=!1;this.getBlocksInOrder().forEach(function(d){if(!u){if(s&&a+1!==d.getId()){u=!0;return}a=d.getId(),d.forEachNode(function(p){var h=p===e||p===r;(s||h)&&o.push(p),h&&(s=!s)},l,i.rowCount)}});var c=u||s;return c?[]:o},t.MAX_EMPTY_BLOCKS_TO_KEEP=2,ub([O("rowRenderer")],t.prototype,"rowRenderer",void 0),ub([O("focusService")],t.prototype,"focusService",void 0),ub([_Be(0,es("loggerFactory"))],t.prototype,"setBeans",null),ub([Gr],t.prototype,"destroyAllBlocks",null),t}(re),bBe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jd=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},EBe=function(n){bBe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.ensureRowHeightsValid=function(e,r,i,o){return!1},t.prototype.init=function(){var e=this;this.gridOptionsService.isRowModelType("infinite")&&(this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return e.destroyCache()}),this.verifyProps())},t.prototype.verifyProps=function(){this.gridOptionsService.exists("initialGroupOrderComparator")&&F.warnOnce("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")},t.prototype.start=function(){this.setDatasource(this.gridOptionsService.get("datasource"))},t.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},t.prototype.addEventListeners=function(){var e=this;this.addManagedListener(this.eventService,M.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,M.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this)),this.addManagedPropertyListener("datasource",function(){return e.setDatasource(e.gridOptionsService.get("datasource"))}),this.addManagedPropertyListener("cacheBlockSize",function(){return e.resetCache()}),this.addManagedPropertyListener("rowHeight",function(){e.rowHeight=e.gridOptionsService.getRowHeightAsNumber(),e.cacheParams.rowHeight=e.rowHeight,e.updateRowHeights()})},t.prototype.onFilterChanged=function(){this.reset()},t.prototype.onSortChanged=function(){this.reset()},t.prototype.onColumnEverything=function(){var e;this.cacheParams?e=this.isSortModelDifferent():e=!0,e&&this.reset()},t.prototype.isSortModelDifferent=function(){return!F.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},t.prototype.getType=function(){return"infinite"},t.prototype.setDatasource=function(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()},t.prototype.isEmpty=function(){return!this.infiniteCache},t.prototype.isRowsToRender=function(){return!!this.infiniteCache},t.prototype.getNodesInRangeForSelection=function(e,r){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,r):[]},t.prototype.reset=function(){if(this.datasource){var e=this.gridOptionsService.getCallback("getRowId"),r=e!=null;r||this.selectionService.reset("rowDataChanged"),this.resetCache()}},t.prototype.createModelUpdatedEvent=function(){return{type:M.EVENT_MODEL_UPDATED,newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1}},t.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gridOptionsService.get("infiniteInitialRowCount"),maxBlocksInCache:this.gridOptionsService.get("maxBlocksInCache"),rowHeight:this.gridOptionsService.getRowHeightAsNumber(),overflowSize:this.gridOptionsService.get("cacheOverflowSize"),blockSize:this.gridOptionsService.get("cacheBlockSize"),lastAccessedSequence:new ji},this.infiniteCache=this.createBean(new xBe(this.cacheParams)),this.eventService.dispatchEventOnce({type:M.EVENT_ROW_COUNT_READY});var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.updateRowHeights=function(){var e=this;this.forEachNode(function(i){i.setRowHeight(e.rowHeight),i.setRowTop(e.rowHeight*i.rowIndex)});var r=this.createModelUpdatedEvent();this.eventService.dispatchEvent(r)},t.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},t.prototype.onCacheUpdated=function(){var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.getRow=function(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)},t.prototype.getRowNode=function(e){var r;return this.forEachNode(function(i){i.id===e&&(r=i)}),r},t.prototype.forEachNode=function(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.getRowIndexAtPixel=function(e){if(this.rowHeight!==0){var r=Math.floor(e/this.rowHeight),i=this.getRowCount()-1;return r>i?i:r}return 0},t.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},t.prototype.isRowPresent=function(e){var r=this.getRowNode(e.id);return!!r},t.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},t.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},t.prototype.isLastRowIndexKnown=function(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1},t.prototype.setRowCount=function(e,r){this.infiniteCache&&this.infiniteCache.setRowCount(e,r)},jd([O("filterManager")],t.prototype,"filterManager",void 0),jd([O("sortController")],t.prototype,"sortController",void 0),jd([O("selectionService")],t.prototype,"selectionService",void 0),jd([O("rowRenderer")],t.prototype,"rowRenderer",void 0),jd([O("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),jd([q],t.prototype,"init",null),jd([Gr],t.prototype,"destroyDatasource",null),t=jd([me("rowModel")],t),t}(re),OBe="31.1.1",CJ={version:OBe,moduleName:Te.InfiniteRowModelModule,rowModel:"infinite",beans:[EBe]},RB=function(){function n(){}return n.prototype.setBeans=function(t){this.beans=t},n.prototype.getFileName=function(t){var e=this.getDefaultFileExtension();return(t==null||!t.length)&&(t=this.getDefaultFileName()),t.indexOf(".")===-1?"".concat(t,".").concat(e):t},n.prototype.getData=function(t){var e=this.createSerializingSession(t);return this.beans.gridSerializer.serialize(e,t)},n.prototype.getDefaultFileName=function(){return"export.".concat(this.getDefaultFileExtension())},n}(),TB=function(){function n(t){this.groupColumns=[];var e=t.columnModel,r=t.valueService,i=t.gridOptionsService,o=t.valueFormatterService,a=t.valueParserService,s=t.processCellCallback,l=t.processHeaderCallback,u=t.processGroupHeaderCallback,c=t.processRowGroupCallback;this.columnModel=e,this.valueService=r,this.gridOptionsService=i,this.valueFormatterService=o,this.valueParserService=a,this.processCellCallback=s,this.processHeaderCallback=l,this.processGroupHeaderCallback=u,this.processRowGroupCallback=c}return n.prototype.prepare=function(t){this.groupColumns=t.filter(function(e){return!!e.getColDef().showRowGroup})},n.prototype.extractHeaderValue=function(t){var e=this.getHeaderName(this.processHeaderCallback,t);return e??""},n.prototype.extractRowCellValue=function(t,e,r,i,o){var a=this.gridOptionsService.get("groupHideOpenParents"),s=(!a||o.footer)&&this.shouldRenderGroupSummaryCell(o,t,e)?this.createValueForGroupNode(t,o):this.valueService.getValue(t,o),l=this.processCell({accumulatedRowIndex:r,rowNode:o,column:t,value:s,processCellCallback:this.processCellCallback,type:i});return l},n.prototype.shouldRenderGroupSummaryCell=function(t,e,r){var i,o=t&&t.group;if(!o)return!1;var a=this.groupColumns.indexOf(e);if(a!==-1){if(((i=t.groupData)===null||i===void 0?void 0:i[e.getId()])!=null||this.gridOptionsService.isRowModelType("serverSide")&&t.group)return!0;if(t.footer&&t.level===-1){var s=e.getColDef(),l=s==null||s.showRowGroup===!0;return l||s.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}var u=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());return r===0&&u},n.prototype.getHeaderName=function(t,e){return t?t(this.gridOptionsService.addGridCommonParams({column:e})):this.columnModel.getDisplayNameForColumn(e,"csv",!0)},n.prototype.createValueForGroupNode=function(t,e){var r=this;if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gridOptionsService.addGridCommonParams({column:t,node:e}));var i=this.gridOptionsService.get("treeData"),o=this.gridOptionsService.get("suppressGroupMaintainValueType"),a=function(c){var d,p;if(i||o)return c.key;var h=(d=c.groupData)===null||d===void 0?void 0:d[t.getId()];return!h||!c.rowGroupColumn||c.rowGroupColumn.getColDef().useValueFormatterForExport===!1?h:(p=r.valueFormatterService.formatValue(c.rowGroupColumn,c,h))!==null&&p!==void 0?p:h},s=e.footer,l=[a(e)];if(!this.gridOptionsService.isGroupMultiAutoColumn())for(;e.parent;)e=e.parent,l.push(a(e));var u=l.reverse().join(" -> ");return s?"Total ".concat(u):u},n.prototype.processCell=function(t){var e=this,r,i=t.accumulatedRowIndex,o=t.rowNode,a=t.column,s=t.value,l=t.processCellCallback,u=t.type;return l?{value:(r=l(this.gridOptionsService.addGridCommonParams({accumulatedRowIndex:i,column:a,node:o,value:s,type:u,parseValue:function(c){return e.valueParserService.parseValue(a,o,c,e.valueService.getValue(a,o))},formatValue:function(c){var d;return(d=e.valueFormatterService.formatValue(a,o,c))!==null&&d!==void 0?d:c}})))!==null&&r!==void 0?r:""}:a.getColDef().useValueFormatterForExport!==!1?{value:s??"",valueFormatted:this.valueFormatterService.formatValue(a,o,s)}:{value:s??""}},n}(),vD=function(){function n(){}return n.download=function(t,e){var r=document.defaultView||window;if(!r){console.warn("AG Grid: There is no `window` associated with the current `document`");return}var i=document.createElement("a"),o=r.URL.createObjectURL(e);i.setAttribute("href",o),i.setAttribute("download",t),i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:r})),document.body.removeChild(i),r.setTimeout(function(){r.URL.revokeObjectURL(o)},0)},n}(),RBe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ez=`\r
`,TBe=function(n){RBe(t,n);function t(e){var r=n.call(this,e)||this;r.isFirstLine=!0,r.result="";var i=e.suppressQuotes,o=e.columnSeparator;return r.suppressQuotes=i,r.columnSeparator=o,r}return t.prototype.addCustomContent=function(e){var r=this;e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,ez),this.result+=e):e.forEach(function(i){r.beginNewLine(),i.forEach(function(o,a){a!==0&&(r.result+=r.columnSeparator),r.result+=r.putInQuotes(o.data.value||""),o.mergeAcross&&r.appendEmptyCells(o.mergeAcross)})}))},t.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},t.prototype.onNewHeaderGroupingRowColumn=function(e,r,i,o){i!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(r),this.appendEmptyCells(o)},t.prototype.appendEmptyCells=function(e){for(var r=1;r<=e;r++)this.result+=this.columnSeparator+this.putInQuotes("")},t.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},t.prototype.onNewHeaderRowColumn=function(e,r){r!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))},t.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},t.prototype.onNewBodyRowColumn=function(e,r,i){var o;r!=0&&(this.result+=this.columnSeparator);var a=this.extractRowCellValue(e,r,r,"csv",i);this.result+=this.putInQuotes((o=a.valueFormatted)!==null&&o!==void 0?o:a.value)},t.prototype.putInQuotes=function(e){if(this.suppressQuotes)return e;if(e==null)return'""';var r;typeof e=="string"?r=e:typeof e.toString=="function"?r=e.toString():(console.warn("AG Grid: unknown value type during csv conversion"),r="");var i=r.replace(/"/g,'""');return'"'+i+'"'},t.prototype.parse=function(){return this.result},t.prototype.beginNewLine=function(){this.isFirstLine||(this.result+=ez),this.isFirstLine=!1},t}(TB),PBe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Hd=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},PB=function(n){PBe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})},t.prototype.getMergedParams=function(e){var r=this.gridOptionsService.get("defaultCsvExportParams");return Object.assign({},r,e)},t.prototype.export=function(e){if(this.isExportSuppressed()){console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration.");return}var r=this.getMergedParams(e),i=this.getData(r),o=new Blob(["\uFEFF",i],{type:"text/plain"}),a=typeof r.fileName=="function"?r.fileName(this.gridOptionsService.getGridCommonParams()):r.fileName;vD.download(this.getFileName(a),o)},t.prototype.exportDataAsCsv=function(e){this.export(e)},t.prototype.getDataAsCsv=function(e,r){r===void 0&&(r=!1);var i=r?Object.assign({},e):this.getMergedParams(e);return this.getData(i)},t.prototype.getDefaultFileExtension=function(){return"csv"},t.prototype.createSerializingSession=function(e){var r=this,i=r.columnModel,o=r.valueService,a=r.gridOptionsService,s=r.valueFormatterService,l=r.valueParserService,u=e,c=u.processCellCallback,d=u.processHeaderCallback,p=u.processGroupHeaderCallback,h=u.processRowGroupCallback,f=u.suppressQuotes,v=u.columnSeparator;return new TBe({columnModel:i,valueService:o,gridOptionsService:a,valueFormatterService:s,valueParserService:l,processCellCallback:c||void 0,processHeaderCallback:d||void 0,processGroupHeaderCallback:p||void 0,processRowGroupCallback:h||void 0,suppressQuotes:f||!1,columnSeparator:v||","})},t.prototype.isExportSuppressed=function(){return this.gridOptionsService.get("suppressCsvExport")},Hd([O("columnModel")],t.prototype,"columnModel",void 0),Hd([O("valueService")],t.prototype,"valueService",void 0),Hd([O("gridSerializer")],t.prototype,"gridSerializer",void 0),Hd([O("gridOptionsService")],t.prototype,"gridOptionsService",void 0),Hd([O("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Hd([O("valueParserService")],t.prototype,"valueParserService",void 0),Hd([q],t.prototype,"postConstruct",null),t=Hd([me("csvCreator")],t),t}(RB),DBe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$d=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ip;(function(n){n[n.HEADER_GROUPING=0]="HEADER_GROUPING",n[n.HEADER=1]="HEADER",n[n.BODY=2]="BODY"})(Ip||(Ip={}));var DB=function(n){DBe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.serialize=function(e,r){r===void 0&&(r={});var i=r.allColumns,o=r.columnKeys,a=r.skipRowGroups,s=this.getColumnsToExport(i,a,o),l=F.compose(this.prepareSession(s),this.prependContent(r),this.exportColumnGroups(r,s),this.exportHeaders(r,s),this.processPinnedTopRows(r,s),this.processRows(r,s),this.processPinnedBottomRows(r,s),this.appendContent(r));return l(e).parse()},t.prototype.processRow=function(e,r,i,o){var a=r.shouldRowBeSkipped||function(){return!1},s=this.gridOptionsService.get("groupRemoveSingleChildren"),l=this.gridOptionsService.get("groupRemoveLowestSingleChildren"),u=r.rowPositions!=null,c=u||!!r.onlySelected,d=this.gridOptionsService.get("groupHideOpenParents")&&!c,p=this.columnModel.isPivotMode()?o.leafGroup:!o.group,h=!!o.footer;r.skipRowGroups;var f=l&&o.leafGroup,v=o.allChildrenCount===1&&(s||f);if(!(!p&&!h&&(r.skipRowGroups||v||d)||r.onlySelected&&!o.isSelected()||r.skipPinnedTop&&o.rowPinned==="top"||r.skipPinnedBottom&&o.rowPinned==="bottom")){var g=o.level===-1;if(!(g&&!p&&!h)){var m=a(this.gridOptionsService.addGridCommonParams({node:o}));if(!m){var y=e.onNewBodyRow(o);if(i.forEach(function(S,w){y.onColumn(S,w,o)}),r.getCustomContentBelowRow){var C=r.getCustomContentBelowRow(this.gridOptionsService.addGridCommonParams({node:o}));C&&e.addCustomContent(C)}}}}},t.prototype.appendContent=function(e){return function(r){var i=e.appendContent;return i&&r.addCustomContent(i),r}},t.prototype.prependContent=function(e){return function(r){var i=e.prependContent;return i&&r.addCustomContent(i),r}},t.prototype.prepareSession=function(e){return function(r){return r.prepare(e),r}},t.prototype.exportColumnGroups=function(e,r){var i=this;return function(o){if(!e.skipColumnGroupHeaders){var a=new TV,s=i.displayedGroupCreator.createDisplayedGroups(r,a,null);i.recursivelyAddHeaderGroups(s,o,e.processGroupHeaderCallback)}return o}},t.prototype.exportHeaders=function(e,r){return function(i){if(!e.skipColumnHeaders){var o=i.onNewHeaderRow();r.forEach(function(a,s){o.onColumn(a,s,void 0)})}return i}},t.prototype.processPinnedTopRows=function(e,r){var i=this;return function(o){var a=i.processRow.bind(i,o,e,r);return e.rowPositions?e.rowPositions.filter(function(s){return s.rowPinned==="top"}).sort(function(s,l){return s.rowIndex-l.rowIndex}).map(function(s){return i.pinnedRowModel.getPinnedTopRow(s.rowIndex)}).forEach(a):i.pinnedRowModel.forEachPinnedTopRow(a),o}},t.prototype.processRows=function(e,r){var i=this;return function(o){var a=i.rowModel,s=a.getType(),l=s==="clientSide",u=s==="serverSide",c=!l&&e.onlySelected,d=i.processRow.bind(i,o,e,r),p=e.exportedRows,h=p===void 0?"filteredAndSorted":p;if(e.rowPositions)e.rowPositions.filter(function(v){return v.rowPinned==null}).sort(function(v,g){return v.rowIndex-g.rowIndex}).map(function(v){return a.getRow(v.rowIndex)}).forEach(d);else if(i.columnModel.isPivotMode())l?a.forEachPivotNode(d,!0):u?a.forEachNodeAfterFilterAndSort(d,!0):a.forEachNode(d);else if(e.onlySelectedAllPages||c){var f=i.selectionService.getSelectedNodes();i.replicateSortedOrder(f),f.forEach(d)}else h==="all"?a.forEachNode(d):l||u?a.forEachNodeAfterFilterAndSort(d,!0):a.forEachNode(d);return o}},t.prototype.replicateSortedOrder=function(e){var r=this,i=this.sortController.getSortOptions(),o=function(a,s){var l,u,c,d;return a.rowIndex!=null&&s.rowIndex!=null?a.rowIndex-s.rowIndex:a.level===s.level?((l=a.parent)===null||l===void 0?void 0:l.id)===((u=s.parent)===null||u===void 0?void 0:u.id)?r.rowNodeSorter.compareRowNodes(i,{rowNode:a,currentPos:(c=a.rowIndex)!==null&&c!==void 0?c:-1},{rowNode:s,currentPos:(d=s.rowIndex)!==null&&d!==void 0?d:-1}):o(a.parent,s.parent):a.level>s.level?o(a.parent,s):o(a,s.parent)};e.sort(o)},t.prototype.processPinnedBottomRows=function(e,r){var i=this;return function(o){var a=i.processRow.bind(i,o,e,r);return e.rowPositions?e.rowPositions.filter(function(s){return s.rowPinned==="bottom"}).sort(function(s,l){return s.rowIndex-l.rowIndex}).map(function(s){return i.pinnedRowModel.getPinnedBottomRow(s.rowIndex)}).forEach(a):i.pinnedRowModel.forEachPinnedBottomRow(a),o}},t.prototype.getColumnsToExport=function(e,r,i){e===void 0&&(e=!1),r===void 0&&(r=!1);var o=this.columnModel.isPivotMode();if(i&&i.length)return this.columnModel.getGridColumns(i);var a=this.gridOptionsService.get("treeData"),s=[];return e&&!o?s=this.columnModel.getAllGridColumns():s=this.columnModel.getAllDisplayedColumns(),r&&!a&&(s=s.filter(function(l){return l.getColId()!==nd})),s},t.prototype.recursivelyAddHeaderGroups=function(e,r,i){var o=[];e.forEach(function(a){var s=a;s.getChildren&&s.getChildren().forEach(function(l){return o.push(l)})}),e.length>0&&e[0]instanceof Fn&&this.doAddHeaderHeader(r,e,i),o&&o.length>0&&this.recursivelyAddHeaderGroups(o,r,i)},t.prototype.doAddHeaderHeader=function(e,r,i){var o=this,a=e.onNewHeaderGroupingRow(),s=0;r.forEach(function(l){var u=l,c;i?c=i(o.gridOptionsService.addGridCommonParams({columnGroup:u})):c=o.columnModel.getDisplayNameForColumnGroup(u,"header");var d=u.getLeafColumns().reduce(function(p,h,f,v){var g=F.last(p),m=h.getColumnGroupShow()==="open";return m?(!g||g[1]!=null)&&(g=[f],p.push(g)):g&&g[1]==null&&(g[1]=f-1),f===v.length-1&&g&&g[1]==null&&(g[1]=f),p},[]);a.onColumn(u,c||"",s++,u.getLeafColumns().length-1,d)})},$d([O("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),$d([O("columnModel")],t.prototype,"columnModel",void 0),$d([O("rowModel")],t.prototype,"rowModel",void 0),$d([O("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),$d([O("selectionService")],t.prototype,"selectionService",void 0),$d([O("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),$d([O("sortController")],t.prototype,"sortController",void 0),t=$d([me("gridSerializer")],t),t}(re),ABe="31.1.1",gD={version:ABe,moduleName:Te.CsvExportModule,beans:[PB,DB]},cb=`\r
`,b1=function(){function n(){}return n.createHeader=function(t){t===void 0&&(t={});var e="<?",r="?>",i=["version"];t.version||(t.version="1.0"),t.encoding&&i.push("encoding"),t.standalone&&i.push("standalone");var o=i.map(function(a){return"".concat(a,'="').concat(t[a],'"')}).join(" ");return"".concat(e,"xml ").concat(o," ").concat(r)},n.createXml=function(t,e){var r=this,i="";t.properties&&(t.properties.prefixedAttributes&&t.properties.prefixedAttributes.forEach(function(a){Object.keys(a.map).forEach(function(s){i+=r.returnAttributeIfPopulated(a.prefix+s,a.map[s],e)})}),t.properties.rawMap&&Object.keys(t.properties.rawMap).forEach(function(a){i+=r.returnAttributeIfPopulated(a,t.properties.rawMap[a],e)}));var o="<"+t.name+i;return!t.children&&t.textNode==null?o+"/>"+cb:t.textNode!=null?o+">"+t.textNode+"</"+t.name+">"+cb:(o+=">"+cb,t.children&&t.children.forEach(function(a){o+=r.createXml(a,e)}),o+"</"+t.name+">"+cb)},n.returnAttributeIfPopulated=function(t,e,r){if(!e&&e!==""&&e!==0)return"";var i=e;return typeof e=="boolean"&&r&&(i=r(e))," ".concat(t,'="').concat(i,'"')},n}(),MBe=function(n){var t=n.getHours();return t<<=6,t=t|n.getMinutes(),t<<=5,t=t|n.getSeconds()/2,t},LBe=function(n){var t=n.getFullYear()-1980;return t<<=4,t=t|n.getMonth()+1,t<<=5,t=t|n.getDate(),t};function to(n,t){for(var e="",r=0;r<t;r++)e+=String.fromCharCode(n&255),n>>>=8;return e}var tz=function(n){if(!n.length)return 0;for(var t=-1,e=0,r=0,i=0,o=0;o<n.length;o++)e=n[o],r=(t^e)&255,i=FBe[r],t=t>>>8^i;return t^-1},rz=function(n){return n.length?tz(typeof n=="string"?new TextEncoder().encode(n):n):0},FBe=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),SJ=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})},wJ=function(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},IBe=function(n){return SJ(void 0,void 0,void 0,function(){var t,e,r,i,o;return wJ(this,function(a){switch(a.label){case 0:return t=0,e=[],r=new WritableStream({write:function(s){e.push(s),t+=s.length}}),i=new ReadableStream({start:function(s){var l=new FileReader;l.onload=function(u){var c;!((c=u.target)===null||c===void 0)&&c.result&&s.enqueue(u.target.result),s.close()},l.readAsArrayBuffer(n)}}),o=new window.CompressionStream("deflate-raw"),[4,i.pipeThrough(o).pipeTo(r)];case 1:return a.sent(),[2,{size:t,content:new Blob(e)}]}})})},NBe=function(n){return SJ(void 0,void 0,void 0,function(){var t,e,r,i,o,a;return wJ(this,function(s){switch(s.label){case 0:return t=new Blob([n]),[4,IBe(t)];case 1:return e=s.sent(),r=e.size,i=e.content,a=Uint8Array.bind,[4,i.arrayBuffer()];case 2:return o=new(a.apply(Uint8Array,[void 0,s.sent()])),[2,{size:r,content:o}]}})})},ry=function(){return ry=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ry.apply(this,arguments)},kBe=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})},GBe=function(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},VBe=F.utf8_encode,BBe=function(n,t){return kBe(void 0,void 0,void 0,function(){var e,r,i,o,a,s,l,u,c,d;return GBe(this,function(p){switch(p.label){case 0:return e=n.content,r=e?xJ(e):{size:0,content:Uint8Array.from([])},i=r.size,o=r.content,a=void 0,s=void 0,l=!1,u=n.type==="file"&&o&&i>0,u?[4,NBe(o)]:[3,2];case 1:c=p.sent(),a=c.content,s=c.size,l=!0,p.label=2;case 2:return d=_J(n,l,t,i,o,s),[2,ry(ry({},d),{content:a||o,isCompressed:l})]}})})},jBe=function(n,t){var e=n.content,r=(e?xJ(e):{content:Uint8Array.from([])}).content,i=_J(n,!1,t,r.length,r,void 0);return ry(ry({},i),{content:r,isCompressed:!1})},_J=function(n,t,e,r,i,o){var a=n.content,s=n.path,l=n.created,u=MBe(l),c=LBe(l),d=rz(i),p=o!==void 0?o:r,h=VBe(s),f=h!==s,v="";if(f){var g=to(1,1)+to(rz(h),4)+h;v="up"+to(g.length,2)+g}var m="\0"+(f?"\0\b":"\0\0")+to(t?8:0,2)+to(u,2)+to(c,2)+to(p?d:0,4)+to(o??r,4)+to(r,4)+to(h.length,2)+to(v.length,2),y="PK"+m+h+v,C="PK\0"+m+"\0\0\0\0\0\0"+(a?"\0\0\0\0":"\0\0\0")+to(e,4)+h+v;return{localFileHeader:Uint8Array.from(y,function(S){return S.charCodeAt(0)}),centralDirectoryHeader:Uint8Array.from(C,function(S){return S.charCodeAt(0)})}},HBe=function(n,t,e){var r="PK\0\0\0\0"+to(n,2)+to(n,2)+to(t,4)+to(e,4)+"\0\0";return Uint8Array.from(r,function(i){return i.charCodeAt(0)})},$Be=function(n){for(var t=new Uint8Array(n.length),e=0;e<n.length;e++)t[e]=n.charCodeAt(e);return t},xJ=function(n){var t;if(typeof n=="string"){var e=atob(n.split(";base64,")[1]);t=$Be(e)}else t=n;return{size:t.length,content:t}},nz=function(n,t,e,r){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})},iz=function(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(u[0]===6&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},pL=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},db=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},pb=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},xi=function(){function n(){}return n.addFolders=function(t){t.forEach(this.addFolder.bind(this))},n.addFolder=function(t){this.folders.push({path:t,created:new Date,isBase64:!1,type:"folder"})},n.addFile=function(t,e,r){r===void 0&&(r=!1),this.files.push({path:t,created:new Date,content:r?e:new TextEncoder().encode(e),isBase64:r,type:"file"})},n.getZipFile=function(t){return t===void 0&&(t="application/zip"),nz(this,void 0,void 0,function(){var e;return iz(this,function(r){switch(r.label){case 0:return[4,this.buildCompressedFileStream()];case 1:return e=r.sent(),this.clearStream(),[2,new Blob([e],{type:t})]}})})},n.getUncompressedZipFile=function(t){t===void 0&&(t="application/zip");var e=this.buildFileStream();return this.clearStream(),new Blob([e],{type:t})},n.clearStream=function(){this.folders=[],this.files=[]},n.packageFiles=function(t){var e,r,i=new Uint8Array(0),o=new Uint8Array(0),a=0,s=0;try{for(var l=pL(t),u=l.next();!u.done;u=l.next()){var c=u.value,d=c.localFileHeader,p=c.centralDirectoryHeader,h=c.content,f=new Uint8Array(i.length+d.length);f.set(i),f.set(d,i.length),i=f;var v=new Uint8Array(i.length+h.length);v.set(i),v.set(h,i.length),i=v;var g=new Uint8Array(o.length+p.length);g.set(o),g.set(p,o.length),o=g,a+=d.length+h.length,s+=p.length}}catch(C){e={error:C}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}var m=HBe(t.length,s,a),y=new Uint8Array(i.length+o.length+m.length);return y.set(i),y.set(o,i.length),y.set(m,i.length+o.length),y},n.buildCompressedFileStream=function(){return nz(this,void 0,void 0,function(){var t,e,r,i,o,a,s,l,u,c,d,p;return iz(this,function(h){switch(h.label){case 0:t=pb(pb([],db(this.folders),!1),db(this.files),!1),e=[],r=0,h.label=1;case 1:h.trys.push([1,6,7,8]),i=pL(t),o=i.next(),h.label=2;case 2:return o.done?[3,5]:(a=o.value,[4,BBe(a,r)]);case 3:s=h.sent(),l=s.localFileHeader,u=s.content,e.push(s),r+=l.length+u.length,h.label=4;case 4:return o=i.next(),[3,2];case 5:return[3,8];case 6:return c=h.sent(),d={error:c},[3,8];case 7:try{o&&!o.done&&(p=i.return)&&p.call(i)}finally{if(d)throw d.error}return[7];case 8:return[2,this.packageFiles(e)]}})})},n.buildFileStream=function(){var t,e,r=pb(pb([],db(this.folders),!1),db(this.files),!1),i=[],o=0;try{for(var a=pL(r),s=a.next();!s.done;s=a.next()){var l=s.value,u=jBe(l,o),c=u.localFileHeader,d=u.content;i.push(u),o+=c.length+d.length}}catch(p){t={error:p}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return this.packageFiles(i)},n.folders=[],n.files=[],n}(),bJ=[yJ,CJ,gD];ut.registerModules(bJ);const WBe=Object.freeze(Object.defineProperty({__proto__:null,AbstractHeaderCellCtrl:E_,AgAbstractField:oB,AgAbstractLabel:aD,AgAutocomplete:zg,AgCheckbox:jc,AgDialog:fv,AgGroupComponent:Ls,AgInputDateField:_B,AgInputNumberField:x_,AgInputRange:WQ,AgInputTextArea:$Q,AgInputTextField:oc,AgMenuItemComponent:Fs,AgMenuItemRenderer:cB,AgMenuList:R_,AgMenuPanel:UQ,AgPanel:xB,AgPickerField:sD,AgPromise:Ot,get AgPromiseStatus(){return Af},AgRadioButton:lD,AgRichSelect:O_,AgSelect:Qu,AgSlider:Ua,AgStackComponentsRegistry:KX,AgToggleButton:hD,AlignedGridsService:qQ,AllCommunityModules:bJ,AnimateShowChangeCellRenderer:zZ,AnimateSlideCellRenderer:KZ,AnimationFrameService:IQ,AutoScrollService:b_,AutoWidthCalculator:kQ,Autowired:O,get BarColumnLabelPlacement(){return x1},BaseComponentWrapper:tBe,BaseCreator:RB,BaseGridSerializingSession:TB,Bean:me,BeanStub:re,Beans:vB,BodyDropPivotTarget:SQ,BodyDropTarget:_Q,CHART_TOOLBAR_ALLOW_LIST:_1,CHART_TOOL_PANEL_ALLOW_LIST:VE,CHART_TOOL_PANEL_MENU_OPTIONS:Sw,CellComp:yQ,CellCtrl:Hc,CellNavigationService:YQ,CellPositionUtils:lJ,get CellRangeType(){return ta},ChangedPath:Sy,CheckboxCellEditor:eQ,CheckboxCellRenderer:JZ,CheckboxSelectionComponent:uB,ClientSideRowModelModule:yJ,get ClientSideRowModelSteps(){return Ft},ColDefUtil:iQ,Column:Rt,ColumnApi:T_,ColumnFactory:jX,ColumnGroup:Fn,ColumnKeyCreator:OX,ColumnModel:WX,ColumnUtils:UX,Component:Ce,ComponentUtil:PV,Context:DX,CssClassApplier:fh,CssClassManager:OZ,CsvCreator:PB,CsvExportModule:gD,CtrlsService:dJ,CustomTooltipFeature:iB,DEFAULT_CHART_GROUPS:mJ,DataTypeService:fJ,DateCellEditor:ZZ,DateFilter:sB,DateStringCellEditor:QZ,DisplayedGroupCreator:zX,Downloader:vD,DragAndDropService:Wt,DragService:oQ,get DragSourceType(){return on},Environment:oJ,EventService:Vl,Events:M,get ExcelFactoryMode(){return pv},ExpansionService:SB,ExpressionService:QQ,FilterManager:sQ,FloatingFilterMapper:rQ,FocusService:nJ,GROUP_AUTO_COLUMN_ID:nd,Grid:JVe,GridApi:pB,GridBodyComp:hQ,GridBodyCtrl:cQ,GridComp:bB,GridCoreCreator:OB,GridCtrl:tJ,GridHeaderComp:DQ,GridHeaderCtrl:PQ,GridOptionsService:EB,GridSerializer:DB,GroupCellRenderer:m1,GroupCellRendererCtrl:qZ,GroupInstanceIdCreator:TV,HeaderCellCtrl:EQ,HeaderFilterCellComp:lQ,HeaderFilterCellCtrl:bQ,HeaderGroupCellCtrl:OQ,get HeaderNavigationDirection(){return yl},HeaderNavigationService:TQ,HeaderPositionUtils:uJ,HeaderRowComp:xQ,HeaderRowContainerComp:GE,HeaderRowContainerCtrl:RQ,HeaderRowCtrl:kE,get HeaderRowType(){return Ei},get HorizontalDirection(){return sa},HorizontalResizeService:AQ,InfiniteRowModelModule:CJ,KeyCode:K,LargeTextCellEditor:WZ,get LayoutCssClasses(){return Nn},LocaleService:hJ,Logger:fD,LoggerFactory:eJ,ManagedFocusFeature:ic,MenuService:NQ,get ModuleNames(){return Te},ModuleRegistry:ut,MouseEventService:vQ,MoveColumnFeature:wQ,NavigationService:gQ,NumberCellEditor:XZ,NumberFilter:lB,NumberSequence:ji,Optional:xt,PaginationProxy:jQ,PinnedRowModel:BQ,PopupComponent:gd,PopupEditorWrapper:mQ,PopupService:zQ,PositionableFeature:__,PostConstruct:q,PreConstruct:uv,PreDestroy:Gr,PropertyKeys:gl,ProvidedColumnGroup:er,ProvidedFilter:Xp,Qualifier:es,QuerySelector:eFe,RefSelector:U,ResizeObserverService:FQ,get RowAnimationCssClasses(){return hv},RowContainerComp:CQ,RowContainerCtrl:mB,get RowContainerName(){return fe},get RowContainerType(){return Yn},RowCtrl:Fp,get RowHighlightPosition(){return zu},RowNode:Ct,RowNodeBlock:xu,RowNodeBlockLoader:wB,RowNodeSorter:cJ,RowPositionUtils:sJ,RowRenderer:GQ,get RowType(){return Ip},ScalarFilter:Ln,ScrollVisibleService:fQ,SelectCellEditor:UZ,SelectableService:aJ,get SelectionHandleType(){return od},get ServerSideTransactionResultStatus(){return Vi},SetLeftFeature:pD,SimpleFilter:Zr,SortController:rJ,SortIndicatorComp:uD,StandardMenuFactory:MQ,StylingService:HQ,get TabGuardClassNames(){return Kf},TabGuardComp:md,TabGuardCtrl:LQ,TabbedLayout:CB,TemplateService:JQ,TextCellEditor:g1,TextFilter:ty,TextFloatingFilter:$Z,Timer:XLe,TooltipFeature:Ds,TouchListener:kn,UserComponentFactory:nQ,UserComponentRegistry:tQ,ValueCache:iJ,ValueFormatterService:VQ,ValueParserService:vJ,ValueService:ZQ,VanillaFrameworkOverrides:KQ,get VerticalDirection(){return dv},VirtualList:Ev,VirtualListDragFeature:dB,XmlFactory:b1,ZipContainer:xi,_:F,__FORCE_MODULE_DETECTION:rBe,createGrid:gJ,getRowContainerTypeForName:pQ},Symbol.toStringTag,{value:"Module"})),yi=Nl(WBe);var mD={},To={},AB={},Ov={};Object.defineProperty(Ov,"__esModule",{value:!0});Ov.CustomContext=void 0;var UBe=T;Ov.CustomContext=UBe.createContext({setMethods:function(){}});var E1=ee&&ee.__assign||function(){return E1=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},E1.apply(this,arguments)},zBe=ee&&ee.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),KBe=ee&&ee.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),YBe=ee&&ee.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&zBe(t,n,e);return KBe(t,n),t};Object.defineProperty(AB,"__esModule",{value:!0});var ES=YBe(T),qBe=Ov,XBe=function(n){var t=n.initialProps,e=n.addUpdateCallback,r=n.CustomComponentClass,i=n.setMethods,o=ES.useState(t),a=o[0],s=o[1];return ES.useEffect(function(){e(function(l){return s(l)})},[]),ES.default.createElement(qBe.CustomContext.Provider,{value:{setMethods:i}},ES.default.createElement(r,E1({},a)))};AB.default=ES.memo(XBe);var P_={},MB={};Object.defineProperty(MB,"__esModule",{value:!0});var ZBe=0;function QBe(){return"agPortalKey_"+ ++ZBe}MB.default=QBe;var Rv={},_y={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EJ=T;function Dt(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xo=Object.prototype.hasOwnProperty,JBe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oz={},az={};function OJ(n){return Xo.call(az,n)?!0:Xo.call(oz,n)?!1:JBe.test(n)?az[n]=!0:(oz[n]=!0,!1)}function Mo(n,t,e,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=e,this.propertyName=n,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Ui={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Ui[n]=new Mo(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var t=n[0];Ui[t]=new Mo(t,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Ui[n]=new Mo(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Ui[n]=new Mo(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Ui[n]=new Mo(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Ui[n]=new Mo(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Ui[n]=new Mo(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Ui[n]=new Mo(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Ui[n]=new Mo(n,5,!1,n.toLowerCase(),null,!1,!1)});var LB=/[\-:]([a-z])/g;function FB(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var t=n.replace(LB,FB);Ui[t]=new Mo(t,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var t=n.replace(LB,FB);Ui[t]=new Mo(t,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var t=n.replace(LB,FB);Ui[t]=new Mo(t,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Ui[n]=new Mo(n,1,!1,n.toLowerCase(),null,!1,!1)});Ui.xlinkHref=new Mo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Ui[n]=new Mo(n,1,!1,n.toLowerCase(),null,!0,!0)});var BE={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eje=["Webkit","ms","Moz","O"];Object.keys(BE).forEach(function(n){eje.forEach(function(t){t=t+n.charAt(0).toUpperCase()+n.substring(1),BE[t]=BE[n]})});var tje=/["'&<>]/;function So(n){if(typeof n=="boolean"||typeof n=="number")return""+n;n=""+n;var t=tje.exec(n);if(t){var e="",r,i=0;for(r=t.index;r<n.length;r++){switch(n.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==r&&(e+=n.substring(i,r)),i=r+1,e+=t}n=i!==r?e+n.substring(i,r):e}return n}var rje=/([A-Z])/g,nje=/^ms-/,O1=Array.isArray;function wc(n,t){return{insertionMode:n,selectedValue:t}}function ije(n,t,e){switch(t){case"select":return wc(1,e.value!=null?e.value:e.defaultValue);case"svg":return wc(2,null);case"math":return wc(3,null);case"foreignObject":return wc(1,null);case"table":return wc(4,null);case"thead":case"tbody":case"tfoot":return wc(5,null);case"colgroup":return wc(7,null);case"tr":return wc(6,null)}return 4<=n.insertionMode||n.insertionMode===0?wc(1,null):n}var sz=new Map;function RJ(n,t,e){if(typeof e!="object")throw Error(Dt(62));t=!0;for(var r in e)if(Xo.call(e,r)){var i=e[r];if(i!=null&&typeof i!="boolean"&&i!==""){if(r.indexOf("--")===0){var o=So(r);i=So((""+i).trim())}else{o=r;var a=sz.get(o);a!==void 0||(a=So(o.replace(rje,"-$1").toLowerCase().replace(nje,"-ms-")),sz.set(o,a)),o=a,i=typeof i=="number"?i===0||Xo.call(BE,r)?""+i:i+"px":So((""+i).trim())}t?(t=!1,n.push(' style="',o,":",i)):n.push(";",o,":",i)}}t||n.push('"')}function La(n,t,e,r){switch(e){case"style":RJ(n,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N"){if(t=Ui.hasOwnProperty(e)?Ui[e]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(e=t.attributeName,t.type){case 3:r&&n.push(" ",e,'=""');break;case 4:r===!0?n.push(" ",e,'=""'):r!==!1&&n.push(" ",e,'="',So(r),'"');break;case 5:isNaN(r)||n.push(" ",e,'="',So(r),'"');break;case 6:!isNaN(r)&&1<=r&&n.push(" ",e,'="',So(r),'"');break;default:t.sanitizeURL&&(r=""+r),n.push(" ",e,'="',So(r),'"')}}else if(OJ(e)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=e.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}n.push(" ",e,'="',So(r),'"')}}}function jE(n,t,e){if(t!=null){if(e!=null)throw Error(Dt(60));if(typeof t!="object"||!("__html"in t))throw Error(Dt(61));t=t.__html,t!=null&&n.push(""+t)}}function oje(n){var t="";return EJ.Children.forEach(n,function(e){e!=null&&(t+=e)}),t}function hL(n,t,e,r){n.push(cu(e));var i=e=null,o;for(o in t)if(Xo.call(t,o)){var a=t[o];if(a!=null)switch(o){case"children":e=a;break;case"dangerouslySetInnerHTML":i=a;break;default:La(n,r,o,a)}}return n.push(">"),jE(n,i,e),typeof e=="string"?(n.push(So(e)),null):e}var aje=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,lz=new Map;function cu(n){var t=lz.get(n);if(t===void 0){if(!aje.test(n))throw Error(Dt(65,n));t="<"+n,lz.set(n,t)}return t}function sje(n,t,e,r,i){switch(t){case"select":n.push(cu("select"));var o=null,a=null;for(c in e)if(Xo.call(e,c)){var s=e[c];if(s!=null)switch(c){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;case"defaultValue":case"value":break;default:La(n,r,c,s)}}return n.push(">"),jE(n,a,o),o;case"option":a=i.selectedValue,n.push(cu("option"));var l=s=null,u=null,c=null;for(o in e)if(Xo.call(e,o)){var d=e[o];if(d!=null)switch(o){case"children":s=d;break;case"selected":u=d;break;case"dangerouslySetInnerHTML":c=d;break;case"value":l=d;default:La(n,r,o,d)}}if(a!=null)if(e=l!==null?""+l:oje(s),O1(a)){for(r=0;r<a.length;r++)if(""+a[r]===e){n.push(' selected=""');break}}else""+a===e&&n.push(' selected=""');else u&&n.push(' selected=""');return n.push(">"),jE(n,c,s),s;case"textarea":n.push(cu("textarea")),c=a=o=null;for(s in e)if(Xo.call(e,s)&&(l=e[s],l!=null))switch(s){case"children":c=l;break;case"value":o=l;break;case"defaultValue":a=l;break;case"dangerouslySetInnerHTML":throw Error(Dt(91));default:La(n,r,s,l)}if(o===null&&a!==null&&(o=a),n.push(">"),c!=null){if(o!=null)throw Error(Dt(92));if(O1(c)&&1<c.length)throw Error(Dt(93));o=""+c}return typeof o=="string"&&o[0]===`
`&&n.push(`
`),o!==null&&n.push(So(""+o)),null;case"input":n.push(cu("input")),l=c=s=o=null;for(a in e)if(Xo.call(e,a)&&(u=e[a],u!=null))switch(a){case"children":case"dangerouslySetInnerHTML":throw Error(Dt(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":s=u;break;case"checked":c=u;break;case"value":o=u;break;default:La(n,r,a,u)}return c!==null?La(n,r,"checked",c):l!==null&&La(n,r,"checked",l),o!==null?La(n,r,"value",o):s!==null&&La(n,r,"value",s),n.push("/>"),null;case"menuitem":n.push(cu("menuitem"));for(var p in e)if(Xo.call(e,p)&&(o=e[p],o!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(Dt(400));default:La(n,r,p,o)}return n.push(">"),null;case"title":n.push(cu("title")),o=null;for(d in e)if(Xo.call(e,d)&&(a=e[d],a!=null))switch(d){case"children":o=a;break;case"dangerouslySetInnerHTML":throw Error(Dt(434));default:La(n,r,d,a)}return n.push(">"),o;case"listing":case"pre":n.push(cu(t)),a=o=null;for(l in e)if(Xo.call(e,l)&&(s=e[l],s!=null))switch(l){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;default:La(n,r,l,s)}if(n.push(">"),a!=null){if(o!=null)throw Error(Dt(60));if(typeof a!="object"||!("__html"in a))throw Error(Dt(61));e=a.__html,e!=null&&(typeof e=="string"&&0<e.length&&e[0]===`
`?n.push(`
`,e):n.push(""+e))}return typeof o=="string"&&o[0]===`
`&&n.push(`
`),o;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":n.push(cu(t));for(var h in e)if(Xo.call(e,h)&&(o=e[h],o!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(Dt(399,t));default:La(n,r,h,o)}return n.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return hL(n,e,t,r);case"html":return i.insertionMode===0&&n.push("<!DOCTYPE html>"),hL(n,e,t,r);default:if(t.indexOf("-")===-1&&typeof e.is!="string")return hL(n,e,t,r);n.push(cu(t)),a=o=null;for(u in e)if(Xo.call(e,u)&&(s=e[u],s!=null))switch(u){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;case"style":RJ(n,r,s);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:OJ(u)&&typeof s!="function"&&typeof s!="symbol"&&n.push(" ",u,'="',So(s),'"')}return n.push(">"),jE(n,a,o),o}}function uz(n,t,e){if(n.push('<!--$?--><template id="'),e===null)throw Error(Dt(395));return n.push(e),n.push('"></template>')}function lje(n,t,e,r){switch(e.insertionMode){case 0:case 1:return n.push('<div hidden id="'),n.push(t.segmentPrefix),t=r.toString(16),n.push(t),n.push('">');case 2:return n.push('<svg aria-hidden="true" style="display:none" id="'),n.push(t.segmentPrefix),t=r.toString(16),n.push(t),n.push('">');case 3:return n.push('<math aria-hidden="true" style="display:none" id="'),n.push(t.segmentPrefix),t=r.toString(16),n.push(t),n.push('">');case 4:return n.push('<table hidden id="'),n.push(t.segmentPrefix),t=r.toString(16),n.push(t),n.push('">');case 5:return n.push('<table hidden><tbody id="'),n.push(t.segmentPrefix),t=r.toString(16),n.push(t),n.push('">');case 6:return n.push('<table hidden><tr id="'),n.push(t.segmentPrefix),t=r.toString(16),n.push(t),n.push('">');case 7:return n.push('<table hidden><colgroup id="'),n.push(t.segmentPrefix),t=r.toString(16),n.push(t),n.push('">');default:throw Error(Dt(397))}}function uje(n,t){switch(t.insertionMode){case 0:case 1:return n.push("</div>");case 2:return n.push("</svg>");case 3:return n.push("</math>");case 4:return n.push("</table>");case 5:return n.push("</tbody></table>");case 6:return n.push("</tr></table>");case 7:return n.push("</colgroup></table>");default:throw Error(Dt(397))}}var cje=/[<\u2028\u2029]/g;function fL(n){return JSON.stringify(n).replace(cje,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function dje(n,t){return t=t===void 0?"":t,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:t+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:n}}function cz(n,t,e,r){return e.generateStaticMarkup?(n.push(So(t)),!1):(t===""?n=r:(r&&n.push("<!-- -->"),n.push(So(t)),n=!0),n)}var ww=Object.assign,pje=Symbol.for("react.element"),TJ=Symbol.for("react.portal"),PJ=Symbol.for("react.fragment"),DJ=Symbol.for("react.strict_mode"),AJ=Symbol.for("react.profiler"),MJ=Symbol.for("react.provider"),LJ=Symbol.for("react.context"),FJ=Symbol.for("react.forward_ref"),IJ=Symbol.for("react.suspense"),NJ=Symbol.for("react.suspense_list"),kJ=Symbol.for("react.memo"),IB=Symbol.for("react.lazy"),hje=Symbol.for("react.scope"),fje=Symbol.for("react.debug_trace_mode"),vje=Symbol.for("react.legacy_hidden"),gje=Symbol.for("react.default_value"),dz=Symbol.iterator;function R1(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case PJ:return"Fragment";case TJ:return"Portal";case AJ:return"Profiler";case DJ:return"StrictMode";case IJ:return"Suspense";case NJ:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case LJ:return(n.displayName||"Context")+".Consumer";case MJ:return(n._context.displayName||"Context")+".Provider";case FJ:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case kJ:return t=n.displayName||null,t!==null?t:R1(n.type)||"Memo";case IB:t=n._payload,n=n._init;try{return R1(n(t))}catch{}}return null}var GJ={};function pz(n,t){if(n=n.contextTypes,!n)return GJ;var e={},r;for(r in n)e[r]=t[r];return e}var Lf=null;function yD(n,t){if(n!==t){n.context._currentValue2=n.parentValue,n=n.parent;var e=t.parent;if(n===null){if(e!==null)throw Error(Dt(401))}else{if(e===null)throw Error(Dt(401));yD(n,e)}t.context._currentValue2=t.value}}function VJ(n){n.context._currentValue2=n.parentValue,n=n.parent,n!==null&&VJ(n)}function BJ(n){var t=n.parent;t!==null&&BJ(t),n.context._currentValue2=n.value}function jJ(n,t){if(n.context._currentValue2=n.parentValue,n=n.parent,n===null)throw Error(Dt(402));n.depth===t.depth?yD(n,t):jJ(n,t)}function HJ(n,t){var e=t.parent;if(e===null)throw Error(Dt(402));n.depth===e.depth?yD(n,e):HJ(n,e),t.context._currentValue2=t.value}function PR(n){var t=Lf;t!==n&&(t===null?BJ(n):n===null?VJ(t):t.depth===n.depth?yD(t,n):t.depth>n.depth?jJ(t,n):HJ(t,n),Lf=n)}var hz={isMounted:function(){return!1},enqueueSetState:function(n,t){n=n._reactInternals,n.queue!==null&&n.queue.push(t)},enqueueReplaceState:function(n,t){n=n._reactInternals,n.replace=!0,n.queue=[t]},enqueueForceUpdate:function(){}};function fz(n,t,e,r){var i=n.state!==void 0?n.state:null;n.updater=hz,n.props=e,n.state=i;var o={queue:[],replace:!1};n._reactInternals=o;var a=t.contextType;if(n.context=typeof a=="object"&&a!==null?a._currentValue2:r,a=t.getDerivedStateFromProps,typeof a=="function"&&(a=a(e,i),i=a==null?i:ww({},i,a),n.state=i),typeof t.getDerivedStateFromProps!="function"&&typeof n.getSnapshotBeforeUpdate!="function"&&(typeof n.UNSAFE_componentWillMount=="function"||typeof n.componentWillMount=="function"))if(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&hz.enqueueReplaceState(n,n.state,null),o.queue!==null&&0<o.queue.length)if(t=o.queue,a=o.replace,o.queue=null,o.replace=!1,a&&t.length===1)n.state=t[0];else{for(o=a?t[0]:n.state,i=!0,a=a?1:0;a<t.length;a++){var s=t[a];s=typeof s=="function"?s.call(n,o,e,r):s,s!=null&&(i?(i=!1,o=ww({},o,s)):ww(o,s))}n.state=o}else o.queue=null}var mje={id:1,overflow:""};function T1(n,t,e){var r=n.id;n=n.overflow;var i=32-HE(r)-1;r&=~(1<<i),e+=1;var o=32-HE(t)+i;if(30<o){var a=i-i%5;return o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,{id:1<<32-HE(t)+i|e<<i|r,overflow:o+n}}return{id:1<<o|e<<i|r,overflow:n}}var HE=Math.clz32?Math.clz32:Sje,yje=Math.log,Cje=Math.LN2;function Sje(n){return n>>>=0,n===0?32:31-(yje(n)/Cje|0)|0}function wje(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var _je=typeof Object.is=="function"?Object.is:wje,ad=null,NB=null,$E=null,Wr=null,OS=!1,DR=!1,w0=0,mp=null,CD=0;function mf(){if(ad===null)throw Error(Dt(321));return ad}function vz(){if(0<CD)throw Error(Dt(312));return{memoizedState:null,queue:null,next:null}}function kB(){return Wr===null?$E===null?(OS=!1,$E=Wr=vz()):(OS=!0,Wr=$E):Wr.next===null?(OS=!1,Wr=Wr.next=vz()):(OS=!0,Wr=Wr.next),Wr}function GB(){NB=ad=null,DR=!1,$E=null,CD=0,Wr=mp=null}function $J(n,t){return typeof t=="function"?t(n):t}function gz(n,t,e){if(ad=mf(),Wr=kB(),OS){var r=Wr.queue;if(t=r.dispatch,mp!==null&&(e=mp.get(r),e!==void 0)){mp.delete(r),r=Wr.memoizedState;do r=n(r,e.action),e=e.next;while(e!==null);return Wr.memoizedState=r,[r,t]}return[Wr.memoizedState,t]}return n=n===$J?typeof t=="function"?t():t:e!==void 0?e(t):t,Wr.memoizedState=n,n=Wr.queue={last:null,dispatch:null},n=n.dispatch=xje.bind(null,ad,n),[Wr.memoizedState,n]}function mz(n,t){if(ad=mf(),Wr=kB(),t=t===void 0?null:t,Wr!==null){var e=Wr.memoizedState;if(e!==null&&t!==null){var r=e[1];e:if(r===null)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!_je(t[i],r[i])){r=!1;break e}r=!0}if(r)return e[0]}}return n=n(),Wr.memoizedState=[n,t],n}function xje(n,t,e){if(25<=CD)throw Error(Dt(301));if(n===ad)if(DR=!0,n={action:e,next:null},mp===null&&(mp=new Map),e=mp.get(t),e===void 0)mp.set(t,n);else{for(t=e;t.next!==null;)t=t.next;t.next=n}}function bje(){throw Error(Dt(394))}function hb(){}var yz={readContext:function(n){return n._currentValue2},useContext:function(n){return mf(),n._currentValue2},useMemo:mz,useReducer:gz,useRef:function(n){ad=mf(),Wr=kB();var t=Wr.memoizedState;return t===null?(n={current:n},Wr.memoizedState=n):t},useState:function(n){return gz($J,n)},useInsertionEffect:hb,useLayoutEffect:function(){},useCallback:function(n,t){return mz(function(){return n},t)},useImperativeHandle:hb,useEffect:hb,useDebugValue:hb,useDeferredValue:function(n){return mf(),n},useTransition:function(){return mf(),[!1,bje]},useId:function(){var n=NB.treeContext,t=n.overflow;n=n.id,n=(n&~(1<<32-HE(n)-1)).toString(32)+t;var e=WE;if(e===null)throw Error(Dt(404));return t=w0++,n=":"+e.idPrefix+"R"+n,0<t&&(n+="H"+t.toString(32)),n+":"},useMutableSource:function(n,t){return mf(),t(n._source)},useSyncExternalStore:function(n,t,e){if(e===void 0)throw Error(Dt(407));return e()}},WE=null,vL=EJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Eje(n){return console.error(n),null}function RS(){}function Oje(n,t,e,r,i,o,a,s,l){var u=[],c=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?Eje:i,onAllReady:o===void 0?RS:o,onShellReady:a===void 0?RS:a,onShellError:s===void 0?RS:s,onFatalError:l===void 0?RS:l},e=AR(t,0,null,e,!1,!1),e.parentFlushed=!0,n=VB(t,n,null,e,c,GJ,null,mje),u.push(n),t}function VB(n,t,e,r,i,o,a,s){n.allPendingTasks++,e===null?n.pendingRootTasks++:e.pendingTasks++;var l={node:t,ping:function(){var u=n.pingedTasks;u.push(l),u.length===1&&zJ(n)},blockedBoundary:e,blockedSegment:r,abortSet:i,legacyContext:o,context:a,treeContext:s};return i.add(l),l}function AR(n,t,e,r,i,o){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:e,lastPushedText:i,textEmbedded:o}}function _0(n,t){if(n=n.onError(t),n!=null&&typeof n!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof n+'" instead');return n}function MR(n,t){var e=n.onShellError;e(t),e=n.onFatalError,e(t),n.destination!==null?(n.status=2,n.destination.destroy(t)):(n.status=1,n.fatalError=t)}function Cz(n,t,e,r,i){for(ad={},NB=t,w0=0,n=e(r,i);DR;)DR=!1,w0=0,CD+=1,Wr=null,n=e(r,i);return GB(),n}function Sz(n,t,e,r){var i=e.render(),o=r.childContextTypes;if(o!=null){var a=t.legacyContext;if(typeof e.getChildContext!="function")r=a;else{e=e.getChildContext();for(var s in e)if(!(s in o))throw Error(Dt(108,R1(r)||"Unknown",s));r=ww({},a,e)}t.legacyContext=r,ja(n,t,i),t.legacyContext=a}else ja(n,t,i)}function wz(n,t){if(n&&n.defaultProps){t=ww({},t),n=n.defaultProps;for(var e in n)t[e]===void 0&&(t[e]=n[e]);return t}return t}function P1(n,t,e,r,i){if(typeof e=="function")if(e.prototype&&e.prototype.isReactComponent){i=pz(e,t.legacyContext);var o=e.contextType;o=new e(r,typeof o=="object"&&o!==null?o._currentValue2:i),fz(o,e,r,i),Sz(n,t,o,e)}else{o=pz(e,t.legacyContext),i=Cz(n,t,e,r,o);var a=w0!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)fz(i,e,r,o),Sz(n,t,i,e);else if(a){r=t.treeContext,t.treeContext=T1(r,1,0);try{ja(n,t,i)}finally{t.treeContext=r}}else ja(n,t,i)}else if(typeof e=="string"){switch(i=t.blockedSegment,o=sje(i.chunks,e,r,n.responseState,i.formatContext),i.lastPushedText=!1,a=i.formatContext,i.formatContext=ije(a,e,r),D1(n,t,o),i.formatContext=a,e){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push("</",e,">")}i.lastPushedText=!1}else{switch(e){case vje:case fje:case DJ:case AJ:case PJ:ja(n,t,r.children);return;case NJ:ja(n,t,r.children);return;case hje:throw Error(Dt(343));case IJ:e:{e=t.blockedBoundary,i=t.blockedSegment,o=r.fallback,r=r.children,a=new Set;var s={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:a,errorDigest:null},l=AR(n,i.chunks.length,s,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var u=AR(n,0,null,i.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=s,t.blockedSegment=u;try{if(D1(n,t,r),n.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("<!-- -->"),u.status=1,LR(s,u),s.pendingTasks===0)break e}catch(c){u.status=4,s.forceClientRender=!0,s.errorDigest=_0(n,c)}finally{t.blockedBoundary=e,t.blockedSegment=i}t=VB(n,o,e,l,a,t.legacyContext,t.context,t.treeContext),n.pingedTasks.push(t)}return}if(typeof e=="object"&&e!==null)switch(e.$$typeof){case FJ:if(r=Cz(n,t,e.render,r,i),w0!==0){e=t.treeContext,t.treeContext=T1(e,1,0);try{ja(n,t,r)}finally{t.treeContext=e}}else ja(n,t,r);return;case kJ:e=e.type,r=wz(e,r),P1(n,t,e,r,i);return;case MJ:if(i=r.children,e=e._context,r=r.value,o=e._currentValue2,e._currentValue2=r,a=Lf,Lf=r={parent:a,depth:a===null?0:a.depth+1,context:e,parentValue:o,value:r},t.context=r,ja(n,t,i),n=Lf,n===null)throw Error(Dt(403));r=n.parentValue,n.context._currentValue2=r===gje?n.context._defaultValue:r,n=Lf=n.parent,t.context=n;return;case LJ:r=r.children,r=r(e._currentValue2),ja(n,t,r);return;case IB:i=e._init,e=i(e._payload),r=wz(e,r),P1(n,t,e,r,void 0);return}throw Error(Dt(130,e==null?e:typeof e,""))}}function ja(n,t,e){if(t.node=e,typeof e=="object"&&e!==null){switch(e.$$typeof){case pje:P1(n,t,e.type,e.props,e.ref);return;case TJ:throw Error(Dt(257));case IB:var r=e._init;e=r(e._payload),ja(n,t,e);return}if(O1(e)){_z(n,t,e);return}if(e===null||typeof e!="object"?r=null:(r=dz&&e[dz]||e["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(e))){if(e=r.next(),!e.done){var i=[];do i.push(e.value),e=r.next();while(!e.done);_z(n,t,i)}return}throw n=Object.prototype.toString.call(e),Error(Dt(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}typeof e=="string"?(r=t.blockedSegment,r.lastPushedText=cz(t.blockedSegment.chunks,e,n.responseState,r.lastPushedText)):typeof e=="number"&&(r=t.blockedSegment,r.lastPushedText=cz(t.blockedSegment.chunks,""+e,n.responseState,r.lastPushedText))}function _z(n,t,e){for(var r=e.length,i=0;i<r;i++){var o=t.treeContext;t.treeContext=T1(o,r,i);try{D1(n,t,e[i])}finally{t.treeContext=o}}}function D1(n,t,e){var r=t.blockedSegment.formatContext,i=t.legacyContext,o=t.context;try{return ja(n,t,e)}catch(l){if(GB(),typeof l=="object"&&l!==null&&typeof l.then=="function"){e=l;var a=t.blockedSegment,s=AR(n,a.chunks.length,null,a.formatContext,a.lastPushedText,!0);a.children.push(s),a.lastPushedText=!1,n=VB(n,t.node,t.blockedBoundary,s,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,e.then(n,n),t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=o,PR(o)}else throw t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=o,PR(o),l}}function Rje(n){var t=n.blockedBoundary;n=n.blockedSegment,n.status=3,UJ(this,t,n)}function WJ(n,t,e){var r=n.blockedBoundary;n.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,n=e===void 0?Error(Dt(432)):e,r.errorDigest=t.onError(n),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(i){return WJ(i,t,e)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function LR(n,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var e=t.children[0];e.id=t.id,e.parentFlushed=!0,e.status===1&&LR(n,e)}else n.completedSegments.push(t)}function UJ(n,t,e){if(t===null){if(e.parentFlushed){if(n.completedRootSegment!==null)throw Error(Dt(389));n.completedRootSegment=e}n.pendingRootTasks--,n.pendingRootTasks===0&&(n.onShellError=RS,t=n.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(e.parentFlushed&&e.status===1&&LR(t,e),t.parentFlushed&&n.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(Rje,n),t.fallbackAbortableTasks.clear()):e.parentFlushed&&e.status===1&&(LR(t,e),t.completedSegments.length===1&&t.parentFlushed&&n.partialBoundaries.push(t)));n.allPendingTasks--,n.allPendingTasks===0&&(n=n.onAllReady,n())}function zJ(n){if(n.status!==2){var t=Lf,e=vL.current;vL.current=yz;var r=WE;WE=n.responseState;try{var i=n.pingedTasks,o;for(o=0;o<i.length;o++){var a=i[o],s=n,l=a.blockedSegment;if(l.status===0){PR(a.context);try{ja(s,a,a.node),s.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("<!-- -->"),a.abortSet.delete(a),l.status=1,UJ(s,a.blockedBoundary,l)}catch(f){if(GB(),typeof f=="object"&&f!==null&&typeof f.then=="function"){var u=a.ping;f.then(u,u)}else{a.abortSet.delete(a),l.status=4;var c=a.blockedBoundary,d=f,p=_0(s,d);if(c===null?MR(s,d):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=p,c.parentFlushed&&s.clientRenderedBoundaries.push(c))),s.allPendingTasks--,s.allPendingTasks===0){var h=s.onAllReady;h()}}}finally{}}}i.splice(0,o),n.destination!==null&&BB(n,n.destination)}catch(f){_0(n,f),MR(n,f)}finally{WE=r,vL.current=e,e===yz&&PR(t)}}}function fb(n,t,e){switch(e.parentFlushed=!0,e.status){case 0:var r=e.id=n.nextSegmentId++;return e.lastPushedText=!1,e.textEmbedded=!1,n=n.responseState,t.push('<template id="'),t.push(n.placeholderPrefix),n=r.toString(16),t.push(n),t.push('"></template>');case 1:e.status=2;var i=!0;r=e.chunks;var o=0;e=e.children;for(var a=0;a<e.length;a++){for(i=e[a];o<i.index;o++)t.push(r[o]);i=SD(n,t,i)}for(;o<r.length-1;o++)t.push(r[o]);return o<r.length&&(i=t.push(r[o])),i;default:throw Error(Dt(390))}}function SD(n,t,e){var r=e.boundary;if(r===null)return fb(n,t,e);if(r.parentFlushed=!0,r.forceClientRender)return n.responseState.generateStaticMarkup||(r=r.errorDigest,t.push("<!--$!-->"),t.push("<template"),r&&(t.push(' data-dgst="'),r=So(r),t.push(r),t.push('"')),t.push("></template>")),fb(n,t,e),n=n.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),n;if(0<r.pendingTasks){r.rootSegmentID=n.nextSegmentId++,0<r.completedSegments.length&&n.partialBoundaries.push(r);var i=n.responseState,o=i.nextSuspenseID++;return i=i.boundaryPrefix+o.toString(16),r=r.id=i,uz(t,n.responseState,r),fb(n,t,e),t.push("<!--/$-->")}if(r.byteSize>n.progressiveChunkSize)return r.rootSegmentID=n.nextSegmentId++,n.completedBoundaries.push(r),uz(t,n.responseState,r.id),fb(n,t,e),t.push("<!--/$-->");if(n.responseState.generateStaticMarkup||t.push("<!--$-->"),e=r.completedSegments,e.length!==1)throw Error(Dt(391));return SD(n,t,e[0]),n=n.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),n}function xz(n,t,e){return lje(t,n.responseState,e.formatContext,e.id),SD(n,t,e),uje(t,e.formatContext)}function bz(n,t,e){for(var r=e.completedSegments,i=0;i<r.length;i++)KJ(n,t,e,r[i]);if(r.length=0,n=n.responseState,r=e.id,e=e.rootSegmentID,t.push(n.startInlineScript),n.sentCompleteBoundaryFunction?t.push('$RC("'):(n.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),r===null)throw Error(Dt(395));return e=e.toString(16),t.push(r),t.push('","'),t.push(n.segmentPrefix),t.push(e),t.push('")<\/script>')}function KJ(n,t,e,r){if(r.status===2)return!0;var i=r.id;if(i===-1){if((r.id=e.rootSegmentID)===-1)throw Error(Dt(392));return xz(n,t,r)}return xz(n,t,r),n=n.responseState,t.push(n.startInlineScript),n.sentCompleteSegmentFunction?t.push('$RS("'):(n.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(n.segmentPrefix),i=i.toString(16),t.push(i),t.push('","'),t.push(n.placeholderPrefix),t.push(i),t.push('")<\/script>')}function BB(n,t){try{var e=n.completedRootSegment;if(e!==null&&n.pendingRootTasks===0){SD(n,t,e),n.completedRootSegment=null;var r=n.responseState.bootstrapChunks;for(e=0;e<r.length-1;e++)t.push(r[e]);e<r.length&&t.push(r[e])}var i=n.clientRenderedBoundaries,o;for(o=0;o<i.length;o++){var a=i[o];r=t;var s=n.responseState,l=a.id,u=a.errorDigest,c=a.errorMessage,d=a.errorComponentStack;if(r.push(s.startInlineScript),s.sentClientRenderFunction?r.push('$RX("'):(s.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),l===null)throw Error(Dt(395));if(r.push(l),r.push('"'),u||c||d){r.push(",");var p=fL(u||"");r.push(p)}if(c||d){r.push(",");var h=fL(c||"");r.push(h)}if(d){r.push(",");var f=fL(d);r.push(f)}if(!r.push(")<\/script>")){n.destination=null,o++,i.splice(0,o);return}}i.splice(0,o);var v=n.completedBoundaries;for(o=0;o<v.length;o++)if(!bz(n,t,v[o])){n.destination=null,o++,v.splice(0,o);return}v.splice(0,o);var g=n.partialBoundaries;for(o=0;o<g.length;o++){var m=g[o];e:{i=n,a=t;var y=m.completedSegments;for(s=0;s<y.length;s++)if(!KJ(i,a,m,y[s])){s++,y.splice(0,s);var C=!1;break e}y.splice(0,s),C=!0}if(!C){n.destination=null,o++,g.splice(0,o);return}}g.splice(0,o);var S=n.completedBoundaries;for(o=0;o<S.length;o++)if(!bz(n,t,S[o])){n.destination=null,o++,S.splice(0,o);return}S.splice(0,o)}finally{n.allPendingTasks===0&&n.pingedTasks.length===0&&n.clientRenderedBoundaries.length===0&&n.completedBoundaries.length===0&&t.push(null)}}function Tje(n,t){try{var e=n.abortableTasks;e.forEach(function(r){return WJ(r,n,t)}),e.clear(),n.destination!==null&&BB(n,n.destination)}catch(r){_0(n,r),MR(n,r)}}function Pje(){}function YJ(n,t,e,r){var i=!1,o=null,a="",s={push:function(u){return u!==null&&(a+=u),!0},destroy:function(u){i=!0,o=u}},l=!1;if(n=Oje(n,dje(e,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,Pje,void 0,function(){l=!0},void 0,void 0),zJ(n),Tje(n,r),n.status===1)n.status=2,s.destroy(n.fatalError);else if(n.status!==2&&n.destination===null){n.destination=s;try{BB(n,s)}catch(u){_0(n,u),MR(n,u)}}if(i)throw o;if(!l)throw Error(Dt(426));return a}_y.renderToNodeStream=function(){throw Error(Dt(207))};_y.renderToStaticMarkup=function(n,t){return YJ(n,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};_y.renderToStaticNodeStream=function(){throw Error(Dt(208))};_y.renderToString=function(n,t){return YJ(n,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};_y.version="18.2.0";var jB={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qJ=T;function kt(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ha=null,$a=0;function nt(n,t){if(t.length!==0)if(512<t.length)0<$a&&(n.enqueue(new Uint8Array(Ha.buffer,0,$a)),Ha=new Uint8Array(512),$a=0),n.enqueue(t);else{var e=Ha.length-$a;e<t.length&&(e===0?n.enqueue(Ha):(Ha.set(t.subarray(0,e),$a),n.enqueue(Ha),t=t.subarray(e)),Ha=new Uint8Array(512),$a=0),Ha.set(t,$a),$a+=t.length}}function Jr(n,t){return nt(n,t),!0}function Ez(n){Ha&&0<$a&&(n.enqueue(new Uint8Array(Ha.buffer,0,$a)),Ha=null,$a=0)}var XJ=new TextEncoder;function Bt(n){return XJ.encode(n)}function qe(n){return XJ.encode(n)}function ZJ(n,t){typeof n.error=="function"?n.error(t):n.close()}var Zo=Object.prototype.hasOwnProperty,Dje=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Oz={},Rz={};function QJ(n){return Zo.call(Rz,n)?!0:Zo.call(Oz,n)?!1:Dje.test(n)?Rz[n]=!0:(Oz[n]=!0,!1)}function Lo(n,t,e,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=e,this.propertyName=n,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var zi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){zi[n]=new Lo(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var t=n[0];zi[t]=new Lo(t,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){zi[n]=new Lo(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){zi[n]=new Lo(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){zi[n]=new Lo(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){zi[n]=new Lo(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){zi[n]=new Lo(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){zi[n]=new Lo(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){zi[n]=new Lo(n,5,!1,n.toLowerCase(),null,!1,!1)});var HB=/[\-:]([a-z])/g;function $B(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var t=n.replace(HB,$B);zi[t]=new Lo(t,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var t=n.replace(HB,$B);zi[t]=new Lo(t,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var t=n.replace(HB,$B);zi[t]=new Lo(t,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){zi[n]=new Lo(n,1,!1,n.toLowerCase(),null,!1,!1)});zi.xlinkHref=new Lo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){zi[n]=new Lo(n,1,!1,n.toLowerCase(),null,!0,!0)});var UE={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Aje=["Webkit","ms","Moz","O"];Object.keys(UE).forEach(function(n){Aje.forEach(function(t){t=t+n.charAt(0).toUpperCase()+n.substring(1),UE[t]=UE[n]})});var Mje=/["'&<>]/;function Bi(n){if(typeof n=="boolean"||typeof n=="number")return""+n;n=""+n;var t=Mje.exec(n);if(t){var e="",r,i=0;for(r=t.index;r<n.length;r++){switch(n.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==r&&(e+=n.substring(i,r)),i=r+1,e+=t}n=i!==r?e+n.substring(i,r):e}return n}var Lje=/([A-Z])/g,Fje=/^ms-/,A1=Array.isArray,Ije=qe("<script>"),Nje=qe("<\/script>"),kje=qe('<script src="'),Gje=qe('<script type="module" src="'),Tz=qe('" async=""><\/script>'),Vje=/(<\/|<)(s)(cript)/gi;function Bje(n,t,e,r){return""+t+(e==="s"?"\\u0073":"\\u0053")+r}function jje(n,t,e,r,i){n=n===void 0?"":n,t=t===void 0?Ije:qe('<script nonce="'+Bi(t)+'">');var o=[];if(e!==void 0&&o.push(t,Bt((""+e).replace(Vje,Bje)),Nje),r!==void 0)for(e=0;e<r.length;e++)o.push(kje,Bt(Bi(r[e])),Tz);if(i!==void 0)for(r=0;r<i.length;r++)o.push(Gje,Bt(Bi(i[r])),Tz);return{bootstrapChunks:o,startInlineScript:t,placeholderPrefix:qe(n+"P:"),segmentPrefix:qe(n+"S:"),boundaryPrefix:n+"B:",idPrefix:n,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function du(n,t){return{insertionMode:n,selectedValue:t}}function Hje(n){return du(n==="http://www.w3.org/2000/svg"?2:n==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function $je(n,t,e){switch(t){case"select":return du(1,e.value!=null?e.value:e.defaultValue);case"svg":return du(2,null);case"math":return du(3,null);case"foreignObject":return du(1,null);case"table":return du(4,null);case"thead":case"tbody":case"tfoot":return du(5,null);case"colgroup":return du(7,null);case"tr":return du(6,null)}return 4<=n.insertionMode||n.insertionMode===0?du(1,null):n}var WB=qe("<!-- -->");function Pz(n,t,e,r){return t===""?r:(r&&n.push(WB),n.push(Bt(Bi(t))),!0)}var Dz=new Map,Wje=qe(' style="'),Az=qe(":"),Uje=qe(";");function JJ(n,t,e){if(typeof e!="object")throw Error(kt(62));t=!0;for(var r in e)if(Zo.call(e,r)){var i=e[r];if(i!=null&&typeof i!="boolean"&&i!==""){if(r.indexOf("--")===0){var o=Bt(Bi(r));i=Bt(Bi((""+i).trim()))}else{o=r;var a=Dz.get(o);a!==void 0||(a=qe(Bi(o.replace(Lje,"-$1").toLowerCase().replace(Fje,"-ms-"))),Dz.set(o,a)),o=a,i=typeof i=="number"?i===0||Zo.call(UE,r)?Bt(""+i):Bt(i+"px"):Bt(Bi((""+i).trim()))}t?(t=!1,n.push(Wje,o,Az,i)):n.push(Uje,o,Az,i)}}t||n.push(yf)}var Jd=qe(" "),Eg=qe('="'),yf=qe('"'),Mz=qe('=""');function Fa(n,t,e,r){switch(e){case"style":JJ(n,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N"){if(t=zi.hasOwnProperty(e)?zi[e]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(e=Bt(t.attributeName),t.type){case 3:r&&n.push(Jd,e,Mz);break;case 4:r===!0?n.push(Jd,e,Mz):r!==!1&&n.push(Jd,e,Eg,Bt(Bi(r)),yf);break;case 5:isNaN(r)||n.push(Jd,e,Eg,Bt(Bi(r)),yf);break;case 6:!isNaN(r)&&1<=r&&n.push(Jd,e,Eg,Bt(Bi(r)),yf);break;default:t.sanitizeURL&&(r=""+r),n.push(Jd,e,Eg,Bt(Bi(r)),yf)}}else if(QJ(e)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=e.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}n.push(Jd,Bt(e),Eg,Bt(Bi(r)),yf)}}}var ep=qe(">"),Lz=qe("/>");function zE(n,t,e){if(t!=null){if(e!=null)throw Error(kt(60));if(typeof t!="object"||!("__html"in t))throw Error(kt(61));t=t.__html,t!=null&&n.push(Bt(""+t))}}function zje(n){var t="";return qJ.Children.forEach(n,function(e){e!=null&&(t+=e)}),t}var gL=qe(' selected=""');function mL(n,t,e,r){n.push(pu(e));var i=e=null,o;for(o in t)if(Zo.call(t,o)){var a=t[o];if(a!=null)switch(o){case"children":e=a;break;case"dangerouslySetInnerHTML":i=a;break;default:Fa(n,r,o,a)}}return n.push(ep),zE(n,i,e),typeof e=="string"?(n.push(Bt(Bi(e))),null):e}var yL=qe(`
`),Kje=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Fz=new Map;function pu(n){var t=Fz.get(n);if(t===void 0){if(!Kje.test(n))throw Error(kt(65,n));t=qe("<"+n),Fz.set(n,t)}return t}var Yje=qe("<!DOCTYPE html>");function qje(n,t,e,r,i){switch(t){case"select":n.push(pu("select"));var o=null,a=null;for(c in e)if(Zo.call(e,c)){var s=e[c];if(s!=null)switch(c){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;case"defaultValue":case"value":break;default:Fa(n,r,c,s)}}return n.push(ep),zE(n,a,o),o;case"option":a=i.selectedValue,n.push(pu("option"));var l=s=null,u=null,c=null;for(o in e)if(Zo.call(e,o)){var d=e[o];if(d!=null)switch(o){case"children":s=d;break;case"selected":u=d;break;case"dangerouslySetInnerHTML":c=d;break;case"value":l=d;default:Fa(n,r,o,d)}}if(a!=null)if(e=l!==null?""+l:zje(s),A1(a)){for(r=0;r<a.length;r++)if(""+a[r]===e){n.push(gL);break}}else""+a===e&&n.push(gL);else u&&n.push(gL);return n.push(ep),zE(n,c,s),s;case"textarea":n.push(pu("textarea")),c=a=o=null;for(s in e)if(Zo.call(e,s)&&(l=e[s],l!=null))switch(s){case"children":c=l;break;case"value":o=l;break;case"defaultValue":a=l;break;case"dangerouslySetInnerHTML":throw Error(kt(91));default:Fa(n,r,s,l)}if(o===null&&a!==null&&(o=a),n.push(ep),c!=null){if(o!=null)throw Error(kt(92));if(A1(c)&&1<c.length)throw Error(kt(93));o=""+c}return typeof o=="string"&&o[0]===`
`&&n.push(yL),o!==null&&n.push(Bt(Bi(""+o))),null;case"input":n.push(pu("input")),l=c=s=o=null;for(a in e)if(Zo.call(e,a)&&(u=e[a],u!=null))switch(a){case"children":case"dangerouslySetInnerHTML":throw Error(kt(399,"input"));case"defaultChecked":l=u;break;case"defaultValue":s=u;break;case"checked":c=u;break;case"value":o=u;break;default:Fa(n,r,a,u)}return c!==null?Fa(n,r,"checked",c):l!==null&&Fa(n,r,"checked",l),o!==null?Fa(n,r,"value",o):s!==null&&Fa(n,r,"value",s),n.push(Lz),null;case"menuitem":n.push(pu("menuitem"));for(var p in e)if(Zo.call(e,p)&&(o=e[p],o!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(kt(400));default:Fa(n,r,p,o)}return n.push(ep),null;case"title":n.push(pu("title")),o=null;for(d in e)if(Zo.call(e,d)&&(a=e[d],a!=null))switch(d){case"children":o=a;break;case"dangerouslySetInnerHTML":throw Error(kt(434));default:Fa(n,r,d,a)}return n.push(ep),o;case"listing":case"pre":n.push(pu(t)),a=o=null;for(l in e)if(Zo.call(e,l)&&(s=e[l],s!=null))switch(l){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;default:Fa(n,r,l,s)}if(n.push(ep),a!=null){if(o!=null)throw Error(kt(60));if(typeof a!="object"||!("__html"in a))throw Error(kt(61));e=a.__html,e!=null&&(typeof e=="string"&&0<e.length&&e[0]===`
`?n.push(yL,Bt(e)):n.push(Bt(""+e)))}return typeof o=="string"&&o[0]===`
`&&n.push(yL),o;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":n.push(pu(t));for(var h in e)if(Zo.call(e,h)&&(o=e[h],o!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(kt(399,t));default:Fa(n,r,h,o)}return n.push(Lz),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return mL(n,e,t,r);case"html":return i.insertionMode===0&&n.push(Yje),mL(n,e,t,r);default:if(t.indexOf("-")===-1&&typeof e.is!="string")return mL(n,e,t,r);n.push(pu(t)),a=o=null;for(u in e)if(Zo.call(e,u)&&(s=e[u],s!=null))switch(u){case"children":o=s;break;case"dangerouslySetInnerHTML":a=s;break;case"style":JJ(n,r,s);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:QJ(u)&&typeof s!="function"&&typeof s!="symbol"&&n.push(Jd,Bt(u),Eg,Bt(Bi(s)),yf)}return n.push(ep),zE(n,a,o),o}}var Xje=qe("</"),Zje=qe(">"),Qje=qe('<template id="'),Jje=qe('"></template>'),e2e=qe("<!--$-->"),t2e=qe('<!--$?--><template id="'),r2e=qe('"></template>'),n2e=qe("<!--$!-->"),i2e=qe("<!--/$-->"),o2e=qe("<template"),a2e=qe('"'),s2e=qe(' data-dgst="');qe(' data-msg="');qe(' data-stck="');var l2e=qe("></template>");function Iz(n,t,e){if(nt(n,t2e),e===null)throw Error(kt(395));return nt(n,e),Jr(n,r2e)}var u2e=qe('<div hidden id="'),c2e=qe('">'),d2e=qe("</div>"),p2e=qe('<svg aria-hidden="true" style="display:none" id="'),h2e=qe('">'),f2e=qe("</svg>"),v2e=qe('<math aria-hidden="true" style="display:none" id="'),g2e=qe('">'),m2e=qe("</math>"),y2e=qe('<table hidden id="'),C2e=qe('">'),S2e=qe("</table>"),w2e=qe('<table hidden><tbody id="'),_2e=qe('">'),x2e=qe("</tbody></table>"),b2e=qe('<table hidden><tr id="'),E2e=qe('">'),O2e=qe("</tr></table>"),R2e=qe('<table hidden><colgroup id="'),T2e=qe('">'),P2e=qe("</colgroup></table>");function D2e(n,t,e,r){switch(e.insertionMode){case 0:case 1:return nt(n,u2e),nt(n,t.segmentPrefix),nt(n,Bt(r.toString(16))),Jr(n,c2e);case 2:return nt(n,p2e),nt(n,t.segmentPrefix),nt(n,Bt(r.toString(16))),Jr(n,h2e);case 3:return nt(n,v2e),nt(n,t.segmentPrefix),nt(n,Bt(r.toString(16))),Jr(n,g2e);case 4:return nt(n,y2e),nt(n,t.segmentPrefix),nt(n,Bt(r.toString(16))),Jr(n,C2e);case 5:return nt(n,w2e),nt(n,t.segmentPrefix),nt(n,Bt(r.toString(16))),Jr(n,_2e);case 6:return nt(n,b2e),nt(n,t.segmentPrefix),nt(n,Bt(r.toString(16))),Jr(n,E2e);case 7:return nt(n,R2e),nt(n,t.segmentPrefix),nt(n,Bt(r.toString(16))),Jr(n,T2e);default:throw Error(kt(397))}}function A2e(n,t){switch(t.insertionMode){case 0:case 1:return Jr(n,d2e);case 2:return Jr(n,f2e);case 3:return Jr(n,m2e);case 4:return Jr(n,S2e);case 5:return Jr(n,x2e);case 6:return Jr(n,O2e);case 7:return Jr(n,P2e);default:throw Error(kt(397))}}var M2e=qe('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),L2e=qe('$RS("'),F2e=qe('","'),I2e=qe('")<\/script>'),N2e=qe('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),k2e=qe('$RC("'),G2e=qe('","'),V2e=qe('")<\/script>'),B2e=qe('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),j2e=qe('$RX("'),H2e=qe('"'),$2e=qe(")<\/script>"),CL=qe(","),W2e=/[<\u2028\u2029]/g;function SL(n){return JSON.stringify(n).replace(W2e,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var _w=Object.assign,U2e=Symbol.for("react.element"),eee=Symbol.for("react.portal"),tee=Symbol.for("react.fragment"),ree=Symbol.for("react.strict_mode"),nee=Symbol.for("react.profiler"),iee=Symbol.for("react.provider"),oee=Symbol.for("react.context"),aee=Symbol.for("react.forward_ref"),see=Symbol.for("react.suspense"),lee=Symbol.for("react.suspense_list"),uee=Symbol.for("react.memo"),UB=Symbol.for("react.lazy"),z2e=Symbol.for("react.scope"),K2e=Symbol.for("react.debug_trace_mode"),Y2e=Symbol.for("react.legacy_hidden"),q2e=Symbol.for("react.default_value"),Nz=Symbol.iterator;function M1(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case tee:return"Fragment";case eee:return"Portal";case nee:return"Profiler";case ree:return"StrictMode";case see:return"Suspense";case lee:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case oee:return(n.displayName||"Context")+".Consumer";case iee:return(n._context.displayName||"Context")+".Provider";case aee:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case uee:return t=n.displayName||null,t!==null?t:M1(n.type)||"Memo";case UB:t=n._payload,n=n._init;try{return M1(n(t))}catch{}}return null}var cee={};function kz(n,t){if(n=n.contextTypes,!n)return cee;var e={},r;for(r in n)e[r]=t[r];return e}var Ff=null;function wD(n,t){if(n!==t){n.context._currentValue=n.parentValue,n=n.parent;var e=t.parent;if(n===null){if(e!==null)throw Error(kt(401))}else{if(e===null)throw Error(kt(401));wD(n,e)}t.context._currentValue=t.value}}function dee(n){n.context._currentValue=n.parentValue,n=n.parent,n!==null&&dee(n)}function pee(n){var t=n.parent;t!==null&&pee(t),n.context._currentValue=n.value}function hee(n,t){if(n.context._currentValue=n.parentValue,n=n.parent,n===null)throw Error(kt(402));n.depth===t.depth?wD(n,t):hee(n,t)}function fee(n,t){var e=t.parent;if(e===null)throw Error(kt(402));n.depth===e.depth?wD(n,e):fee(n,e),t.context._currentValue=t.value}function FR(n){var t=Ff;t!==n&&(t===null?pee(n):n===null?dee(t):t.depth===n.depth?wD(t,n):t.depth>n.depth?hee(t,n):fee(t,n),Ff=n)}var Gz={isMounted:function(){return!1},enqueueSetState:function(n,t){n=n._reactInternals,n.queue!==null&&n.queue.push(t)},enqueueReplaceState:function(n,t){n=n._reactInternals,n.replace=!0,n.queue=[t]},enqueueForceUpdate:function(){}};function Vz(n,t,e,r){var i=n.state!==void 0?n.state:null;n.updater=Gz,n.props=e,n.state=i;var o={queue:[],replace:!1};n._reactInternals=o;var a=t.contextType;if(n.context=typeof a=="object"&&a!==null?a._currentValue:r,a=t.getDerivedStateFromProps,typeof a=="function"&&(a=a(e,i),i=a==null?i:_w({},i,a),n.state=i),typeof t.getDerivedStateFromProps!="function"&&typeof n.getSnapshotBeforeUpdate!="function"&&(typeof n.UNSAFE_componentWillMount=="function"||typeof n.componentWillMount=="function"))if(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&Gz.enqueueReplaceState(n,n.state,null),o.queue!==null&&0<o.queue.length)if(t=o.queue,a=o.replace,o.queue=null,o.replace=!1,a&&t.length===1)n.state=t[0];else{for(o=a?t[0]:n.state,i=!0,a=a?1:0;a<t.length;a++){var s=t[a];s=typeof s=="function"?s.call(n,o,e,r):s,s!=null&&(i?(i=!1,o=_w({},o,s)):_w(o,s))}n.state=o}else o.queue=null}var X2e={id:1,overflow:""};function L1(n,t,e){var r=n.id;n=n.overflow;var i=32-KE(r)-1;r&=~(1<<i),e+=1;var o=32-KE(t)+i;if(30<o){var a=i-i%5;return o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,{id:1<<32-KE(t)+i|e<<i|r,overflow:o+n}}return{id:1<<o|e<<i|r,overflow:n}}var KE=Math.clz32?Math.clz32:J2e,Z2e=Math.log,Q2e=Math.LN2;function J2e(n){return n>>>=0,n===0?32:31-(Z2e(n)/Q2e|0)|0}function eHe(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var tHe=typeof Object.is=="function"?Object.is:eHe,sd=null,zB=null,YE=null,Ur=null,TS=!1,IR=!1,x0=0,yp=null,_D=0;function Cf(){if(sd===null)throw Error(kt(321));return sd}function Bz(){if(0<_D)throw Error(kt(312));return{memoizedState:null,queue:null,next:null}}function KB(){return Ur===null?YE===null?(TS=!1,YE=Ur=Bz()):(TS=!0,Ur=YE):Ur.next===null?(TS=!1,Ur=Ur.next=Bz()):(TS=!0,Ur=Ur.next),Ur}function YB(){zB=sd=null,IR=!1,YE=null,_D=0,Ur=yp=null}function vee(n,t){return typeof t=="function"?t(n):t}function jz(n,t,e){if(sd=Cf(),Ur=KB(),TS){var r=Ur.queue;if(t=r.dispatch,yp!==null&&(e=yp.get(r),e!==void 0)){yp.delete(r),r=Ur.memoizedState;do r=n(r,e.action),e=e.next;while(e!==null);return Ur.memoizedState=r,[r,t]}return[Ur.memoizedState,t]}return n=n===vee?typeof t=="function"?t():t:e!==void 0?e(t):t,Ur.memoizedState=n,n=Ur.queue={last:null,dispatch:null},n=n.dispatch=rHe.bind(null,sd,n),[Ur.memoizedState,n]}function Hz(n,t){if(sd=Cf(),Ur=KB(),t=t===void 0?null:t,Ur!==null){var e=Ur.memoizedState;if(e!==null&&t!==null){var r=e[1];e:if(r===null)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!tHe(t[i],r[i])){r=!1;break e}r=!0}if(r)return e[0]}}return n=n(),Ur.memoizedState=[n,t],n}function rHe(n,t,e){if(25<=_D)throw Error(kt(301));if(n===sd)if(IR=!0,n={action:e,next:null},yp===null&&(yp=new Map),e=yp.get(t),e===void 0)yp.set(t,n);else{for(t=e;t.next!==null;)t=t.next;t.next=n}}function nHe(){throw Error(kt(394))}function vb(){}var $z={readContext:function(n){return n._currentValue},useContext:function(n){return Cf(),n._currentValue},useMemo:Hz,useReducer:jz,useRef:function(n){sd=Cf(),Ur=KB();var t=Ur.memoizedState;return t===null?(n={current:n},Ur.memoizedState=n):t},useState:function(n){return jz(vee,n)},useInsertionEffect:vb,useLayoutEffect:function(){},useCallback:function(n,t){return Hz(function(){return n},t)},useImperativeHandle:vb,useEffect:vb,useDebugValue:vb,useDeferredValue:function(n){return Cf(),n},useTransition:function(){return Cf(),[!1,nHe]},useId:function(){var n=zB.treeContext,t=n.overflow;n=n.id,n=(n&~(1<<32-KE(n)-1)).toString(32)+t;var e=qE;if(e===null)throw Error(kt(404));return t=x0++,n=":"+e.idPrefix+"R"+n,0<t&&(n+="H"+t.toString(32)),n+":"},useMutableSource:function(n,t){return Cf(),t(n._source)},useSyncExternalStore:function(n,t,e){if(e===void 0)throw Error(kt(407));return e()}},qE=null,wL=qJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function iHe(n){return console.error(n),null}function PS(){}function oHe(n,t,e,r,i,o,a,s,l){var u=[],c=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:i===void 0?iHe:i,onAllReady:o===void 0?PS:o,onShellReady:a===void 0?PS:a,onShellError:s===void 0?PS:s,onFatalError:l===void 0?PS:l},e=NR(t,0,null,e,!1,!1),e.parentFlushed=!0,n=qB(t,n,null,e,c,cee,null,X2e),u.push(n),t}function qB(n,t,e,r,i,o,a,s){n.allPendingTasks++,e===null?n.pendingRootTasks++:e.pendingTasks++;var l={node:t,ping:function(){var u=n.pingedTasks;u.push(l),u.length===1&&yee(n)},blockedBoundary:e,blockedSegment:r,abortSet:i,legacyContext:o,context:a,treeContext:s};return i.add(l),l}function NR(n,t,e,r,i,o){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:e,lastPushedText:i,textEmbedded:o}}function b0(n,t){if(n=n.onError(t),n!=null&&typeof n!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof n+'" instead');return n}function kR(n,t){var e=n.onShellError;e(t),e=n.onFatalError,e(t),n.destination!==null?(n.status=2,ZJ(n.destination,t)):(n.status=1,n.fatalError=t)}function Wz(n,t,e,r,i){for(sd={},zB=t,x0=0,n=e(r,i);IR;)IR=!1,x0=0,_D+=1,Ur=null,n=e(r,i);return YB(),n}function Uz(n,t,e,r){var i=e.render(),o=r.childContextTypes;if(o!=null){var a=t.legacyContext;if(typeof e.getChildContext!="function")r=a;else{e=e.getChildContext();for(var s in e)if(!(s in o))throw Error(kt(108,M1(r)||"Unknown",s));r=_w({},a,e)}t.legacyContext=r,Wa(n,t,i),t.legacyContext=a}else Wa(n,t,i)}function zz(n,t){if(n&&n.defaultProps){t=_w({},t),n=n.defaultProps;for(var e in n)t[e]===void 0&&(t[e]=n[e]);return t}return t}function F1(n,t,e,r,i){if(typeof e=="function")if(e.prototype&&e.prototype.isReactComponent){i=kz(e,t.legacyContext);var o=e.contextType;o=new e(r,typeof o=="object"&&o!==null?o._currentValue:i),Vz(o,e,r,i),Uz(n,t,o,e)}else{o=kz(e,t.legacyContext),i=Wz(n,t,e,r,o);var a=x0!==0;if(typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0)Vz(i,e,r,o),Uz(n,t,i,e);else if(a){r=t.treeContext,t.treeContext=L1(r,1,0);try{Wa(n,t,i)}finally{t.treeContext=r}}else Wa(n,t,i)}else if(typeof e=="string"){switch(i=t.blockedSegment,o=qje(i.chunks,e,r,n.responseState,i.formatContext),i.lastPushedText=!1,a=i.formatContext,i.formatContext=$je(a,e,r),I1(n,t,o),i.formatContext=a,e){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:i.chunks.push(Xje,Bt(e),Zje)}i.lastPushedText=!1}else{switch(e){case Y2e:case K2e:case ree:case nee:case tee:Wa(n,t,r.children);return;case lee:Wa(n,t,r.children);return;case z2e:throw Error(kt(343));case see:e:{e=t.blockedBoundary,i=t.blockedSegment,o=r.fallback,r=r.children,a=new Set;var s={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:a,errorDigest:null},l=NR(n,i.chunks.length,s,i.formatContext,!1,!1);i.children.push(l),i.lastPushedText=!1;var u=NR(n,0,null,i.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=s,t.blockedSegment=u;try{if(I1(n,t,r),u.lastPushedText&&u.textEmbedded&&u.chunks.push(WB),u.status=1,GR(s,u),s.pendingTasks===0)break e}catch(c){u.status=4,s.forceClientRender=!0,s.errorDigest=b0(n,c)}finally{t.blockedBoundary=e,t.blockedSegment=i}t=qB(n,o,e,l,a,t.legacyContext,t.context,t.treeContext),n.pingedTasks.push(t)}return}if(typeof e=="object"&&e!==null)switch(e.$$typeof){case aee:if(r=Wz(n,t,e.render,r,i),x0!==0){e=t.treeContext,t.treeContext=L1(e,1,0);try{Wa(n,t,r)}finally{t.treeContext=e}}else Wa(n,t,r);return;case uee:e=e.type,r=zz(e,r),F1(n,t,e,r,i);return;case iee:if(i=r.children,e=e._context,r=r.value,o=e._currentValue,e._currentValue=r,a=Ff,Ff=r={parent:a,depth:a===null?0:a.depth+1,context:e,parentValue:o,value:r},t.context=r,Wa(n,t,i),n=Ff,n===null)throw Error(kt(403));r=n.parentValue,n.context._currentValue=r===q2e?n.context._defaultValue:r,n=Ff=n.parent,t.context=n;return;case oee:r=r.children,r=r(e._currentValue),Wa(n,t,r);return;case UB:i=e._init,e=i(e._payload),r=zz(e,r),F1(n,t,e,r,void 0);return}throw Error(kt(130,e==null?e:typeof e,""))}}function Wa(n,t,e){if(t.node=e,typeof e=="object"&&e!==null){switch(e.$$typeof){case U2e:F1(n,t,e.type,e.props,e.ref);return;case eee:throw Error(kt(257));case UB:var r=e._init;e=r(e._payload),Wa(n,t,e);return}if(A1(e)){Kz(n,t,e);return}if(e===null||typeof e!="object"?r=null:(r=Nz&&e[Nz]||e["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(e))){if(e=r.next(),!e.done){var i=[];do i.push(e.value),e=r.next();while(!e.done);Kz(n,t,i)}return}throw n=Object.prototype.toString.call(e),Error(kt(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}typeof e=="string"?(r=t.blockedSegment,r.lastPushedText=Pz(t.blockedSegment.chunks,e,n.responseState,r.lastPushedText)):typeof e=="number"&&(r=t.blockedSegment,r.lastPushedText=Pz(t.blockedSegment.chunks,""+e,n.responseState,r.lastPushedText))}function Kz(n,t,e){for(var r=e.length,i=0;i<r;i++){var o=t.treeContext;t.treeContext=L1(o,r,i);try{I1(n,t,e[i])}finally{t.treeContext=o}}}function I1(n,t,e){var r=t.blockedSegment.formatContext,i=t.legacyContext,o=t.context;try{return Wa(n,t,e)}catch(l){if(YB(),typeof l=="object"&&l!==null&&typeof l.then=="function"){e=l;var a=t.blockedSegment,s=NR(n,a.chunks.length,null,a.formatContext,a.lastPushedText,!0);a.children.push(s),a.lastPushedText=!1,n=qB(n,t.node,t.blockedBoundary,s,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,e.then(n,n),t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=o,FR(o)}else throw t.blockedSegment.formatContext=r,t.legacyContext=i,t.context=o,FR(o),l}}function aHe(n){var t=n.blockedBoundary;n=n.blockedSegment,n.status=3,mee(this,t,n)}function gee(n,t,e){var r=n.blockedBoundary;n.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,n=e===void 0?Error(kt(432)):e,r.errorDigest=t.onError(n),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(i){return gee(i,t,e)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function GR(n,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var e=t.children[0];e.id=t.id,e.parentFlushed=!0,e.status===1&&GR(n,e)}else n.completedSegments.push(t)}function mee(n,t,e){if(t===null){if(e.parentFlushed){if(n.completedRootSegment!==null)throw Error(kt(389));n.completedRootSegment=e}n.pendingRootTasks--,n.pendingRootTasks===0&&(n.onShellError=PS,t=n.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(e.parentFlushed&&e.status===1&&GR(t,e),t.parentFlushed&&n.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(aHe,n),t.fallbackAbortableTasks.clear()):e.parentFlushed&&e.status===1&&(GR(t,e),t.completedSegments.length===1&&t.parentFlushed&&n.partialBoundaries.push(t)));n.allPendingTasks--,n.allPendingTasks===0&&(n=n.onAllReady,n())}function yee(n){if(n.status!==2){var t=Ff,e=wL.current;wL.current=$z;var r=qE;qE=n.responseState;try{var i=n.pingedTasks,o;for(o=0;o<i.length;o++){var a=i[o],s=n,l=a.blockedSegment;if(l.status===0){FR(a.context);try{Wa(s,a,a.node),l.lastPushedText&&l.textEmbedded&&l.chunks.push(WB),a.abortSet.delete(a),l.status=1,mee(s,a.blockedBoundary,l)}catch(f){if(YB(),typeof f=="object"&&f!==null&&typeof f.then=="function"){var u=a.ping;f.then(u,u)}else{a.abortSet.delete(a),l.status=4;var c=a.blockedBoundary,d=f,p=b0(s,d);if(c===null?kR(s,d):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=p,c.parentFlushed&&s.clientRenderedBoundaries.push(c))),s.allPendingTasks--,s.allPendingTasks===0){var h=s.onAllReady;h()}}}finally{}}}i.splice(0,o),n.destination!==null&&XB(n,n.destination)}catch(f){b0(n,f),kR(n,f)}finally{qE=r,wL.current=e,e===$z&&FR(t)}}}function gb(n,t,e){switch(e.parentFlushed=!0,e.status){case 0:var r=e.id=n.nextSegmentId++;return e.lastPushedText=!1,e.textEmbedded=!1,n=n.responseState,nt(t,Qje),nt(t,n.placeholderPrefix),n=Bt(r.toString(16)),nt(t,n),Jr(t,Jje);case 1:e.status=2;var i=!0;r=e.chunks;var o=0;e=e.children;for(var a=0;a<e.length;a++){for(i=e[a];o<i.index;o++)nt(t,r[o]);i=xD(n,t,i)}for(;o<r.length-1;o++)nt(t,r[o]);return o<r.length&&(i=Jr(t,r[o])),i;default:throw Error(kt(390))}}function xD(n,t,e){var r=e.boundary;if(r===null)return gb(n,t,e);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,Jr(t,n2e),nt(t,o2e),r&&(nt(t,s2e),nt(t,Bt(Bi(r))),nt(t,a2e)),Jr(t,l2e),gb(n,t,e);else if(0<r.pendingTasks){r.rootSegmentID=n.nextSegmentId++,0<r.completedSegments.length&&n.partialBoundaries.push(r);var i=n.responseState,o=i.nextSuspenseID++;i=qe(i.boundaryPrefix+o.toString(16)),r=r.id=i,Iz(t,n.responseState,r),gb(n,t,e)}else if(r.byteSize>n.progressiveChunkSize)r.rootSegmentID=n.nextSegmentId++,n.completedBoundaries.push(r),Iz(t,n.responseState,r.id),gb(n,t,e);else{if(Jr(t,e2e),e=r.completedSegments,e.length!==1)throw Error(kt(391));xD(n,t,e[0])}return Jr(t,i2e)}function Yz(n,t,e){return D2e(t,n.responseState,e.formatContext,e.id),xD(n,t,e),A2e(t,e.formatContext)}function qz(n,t,e){for(var r=e.completedSegments,i=0;i<r.length;i++)Cee(n,t,e,r[i]);if(r.length=0,n=n.responseState,r=e.id,e=e.rootSegmentID,nt(t,n.startInlineScript),n.sentCompleteBoundaryFunction?nt(t,k2e):(n.sentCompleteBoundaryFunction=!0,nt(t,N2e)),r===null)throw Error(kt(395));return e=Bt(e.toString(16)),nt(t,r),nt(t,G2e),nt(t,n.segmentPrefix),nt(t,e),Jr(t,V2e)}function Cee(n,t,e,r){if(r.status===2)return!0;var i=r.id;if(i===-1){if((r.id=e.rootSegmentID)===-1)throw Error(kt(392));return Yz(n,t,r)}return Yz(n,t,r),n=n.responseState,nt(t,n.startInlineScript),n.sentCompleteSegmentFunction?nt(t,L2e):(n.sentCompleteSegmentFunction=!0,nt(t,M2e)),nt(t,n.segmentPrefix),i=Bt(i.toString(16)),nt(t,i),nt(t,F2e),nt(t,n.placeholderPrefix),nt(t,i),Jr(t,I2e)}function XB(n,t){Ha=new Uint8Array(512),$a=0;try{var e=n.completedRootSegment;if(e!==null&&n.pendingRootTasks===0){xD(n,t,e),n.completedRootSegment=null;var r=n.responseState.bootstrapChunks;for(e=0;e<r.length-1;e++)nt(t,r[e]);e<r.length&&Jr(t,r[e])}var i=n.clientRenderedBoundaries,o;for(o=0;o<i.length;o++){var a=i[o];r=t;var s=n.responseState,l=a.id,u=a.errorDigest,c=a.errorMessage,d=a.errorComponentStack;if(nt(r,s.startInlineScript),s.sentClientRenderFunction?nt(r,j2e):(s.sentClientRenderFunction=!0,nt(r,B2e)),l===null)throw Error(kt(395));nt(r,l),nt(r,H2e),(u||c||d)&&(nt(r,CL),nt(r,Bt(SL(u||"")))),(c||d)&&(nt(r,CL),nt(r,Bt(SL(c||"")))),d&&(nt(r,CL),nt(r,Bt(SL(d)))),Jr(r,$2e)}i.splice(0,o);var p=n.completedBoundaries;for(o=0;o<p.length;o++)qz(n,t,p[o]);p.splice(0,o),Ez(t),Ha=new Uint8Array(512),$a=0;var h=n.partialBoundaries;for(o=0;o<h.length;o++){var f=h[o];e:{i=n,a=t;var v=f.completedSegments;for(s=0;s<v.length;s++)if(!Cee(i,a,f,v[s])){s++,v.splice(0,s);var g=!1;break e}v.splice(0,s),g=!0}if(!g){n.destination=null,o++,h.splice(0,o);return}}h.splice(0,o);var m=n.completedBoundaries;for(o=0;o<m.length;o++)qz(n,t,m[o]);m.splice(0,o)}finally{Ez(t),n.allPendingTasks===0&&n.pingedTasks.length===0&&n.clientRenderedBoundaries.length===0&&n.completedBoundaries.length===0&&t.close()}}function Xz(n,t){try{var e=n.abortableTasks;e.forEach(function(r){return gee(r,n,t)}),e.clear(),n.destination!==null&&XB(n,n.destination)}catch(r){b0(n,r),kR(n,r)}}jB.renderToReadableStream=function(n,t){return new Promise(function(e,r){var i,o,a=new Promise(function(c,d){o=c,i=d}),s=oHe(n,jje(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),Hje(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,o,function(){var c=new ReadableStream({type:"bytes",pull:function(d){if(s.status===1)s.status=2,ZJ(d,s.fatalError);else if(s.status!==2&&s.destination===null){s.destination=d;try{XB(s,d)}catch(p){b0(s,p),kR(s,p)}}},cancel:function(){Xz(s)}},{highWaterMark:0});c.allReady=a,e(c)},function(c){a.catch(function(){}),r(c)},i);if(t&&t.signal){var l=t.signal,u=function(){Xz(s,l.reason),l.removeEventListener("abort",u)};l.addEventListener("abort",u)}yee(s)})};jB.version="18.2.0";var xy,See;xy=_y,See=jB;Rv.version=xy.version;Rv.renderToString=xy.renderToString;Rv.renderToStaticMarkup=xy.renderToStaticMarkup;Rv.renderToNodeStream=xy.renderToNodeStream;Rv.renderToStaticNodeStream=xy.renderToStaticNodeStream;Rv.renderToReadableStream=See.renderToReadableStream;var VR=ee&&ee.__assign||function(){return VR=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},VR.apply(this,arguments)},sHe=ee&&ee.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(P_,"__esModule",{value:!0});P_.ReactComponent=void 0;var Zz=T,HC=yi,Qz=sHe(MB),lHe=Sv,uHe=Rv,cHe=function(){function n(t,e,r,i){var o=this;this.portal=null,this.oldPortal=null,this.reactComponent=t,this.portalManager=e,this.componentType=r,this.suppressFallbackMethods=!!i,this.statelessComponent=this.isStateless(this.reactComponent),this.key=Qz.default(),this.portalKey=Qz.default(),this.instanceCreated=this.isStatelessComponent()?HC.AgPromise.resolve(!1):new HC.AgPromise(function(a){o.resolveInstanceCreated=a})}return n.prototype.getGui=function(){return this.eParentElement},n.prototype.getRootElement=function(){var t=this.eParentElement.firstChild;return t},n.prototype.destroy=function(){return this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy(),this.portalManager.destroyPortal(this.portal)},n.prototype.createParentElement=function(t){var e=this.portalManager.getComponentWrappingElement(),r=document.createElement(e||"div");return r.classList.add("ag-react-container"),t.reactContainer=r,r},n.prototype.addParentContainerStyleAndClasses=function(){var t=this;if(this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(HC._.warnOnce('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses())){HC._.warnOnce('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.');var e=this.componentInstance.getReactContainerClasses();e.forEach(function(r){return t.eParentElement.classList.add(r)})}},n.prototype.statelessComponentRendered=function(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0},n.prototype.getFrameworkComponentInstance=function(){return this.componentInstance},n.prototype.isStatelessComponent=function(){return this.statelessComponent},n.prototype.getReactComponentName=function(){return this.reactComponent.name},n.prototype.getMemoType=function(){return this.hasSymbol()?Symbol.for("react.memo"):60115},n.prototype.hasSymbol=function(){return typeof Symbol=="function"&&Symbol.for},n.prototype.isStateless=function(t){return typeof t=="function"&&!(t.prototype&&t.prototype.isReactComponent)||typeof t=="object"&&t.$$typeof===this.getMemoType()},n.prototype.hasMethod=function(t){var e=this.getFrameworkComponentInstance();return!!e&&e[t]!=null||this.fallbackMethodAvailable(t)},n.prototype.callMethod=function(t,e){var r=this,i=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(t,e&&e[0]?e[0]:{});if(!i){setTimeout(function(){return r.callMethod(t,e)});return}var o=i[t];if(o)return o.apply(i,e);if(this.fallbackMethodAvailable(t))return this.fallbackMethod(t,e&&e[0]?e[0]:{})},n.prototype.addMethod=function(t,e){this[t]=e},n.prototype.init=function(t){var e=this;return this.eParentElement=this.createParentElement(t),this.params=t,this.createOrUpdatePortal(t),new HC.AgPromise(function(r){return e.createReactComponent(r)})},n.prototype.createOrUpdatePortal=function(t){var e=this;this.isStatelessComponent()||(this.ref=function(r){var i;e.componentInstance=r,e.addParentContainerStyleAndClasses(),(i=e.resolveInstanceCreated)===null||i===void 0||i.call(e,!0),e.resolveInstanceCreated=void 0},t.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,VR(VR({},t),{key:this.key})),this.portal=lHe.createPortal(this.reactElement,this.eParentElement,this.portalKey)},n.prototype.createElement=function(t,e){return Zz.createElement(t,e)},n.prototype.createReactComponent=function(t){this.portalManager.mountReactPortal(this.portal,this,function(e){t(e)})},n.prototype.isNullValue=function(){return this.valueRenderedIsNull(this.params)},n.prototype.rendered=function(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())},n.prototype.valueRenderedIsNull=function(t){if(!this.componentType.cellRenderer)return!1;var e=console.error;try{console.error=function(){};var r=uHe.renderToStaticMarkup(Zz.createElement(this.reactComponent,t));return r===""}catch{}finally{console.error=e}return!1},n.prototype.refreshComponent=function(t){this.oldPortal=this.portal,this.createOrUpdatePortal(t),this.portalManager.updateReactPortal(this.oldPortal,this.portal)},n.prototype.fallbackMethod=function(t,e){var r=this[t+"Component"];if(!this.suppressFallbackMethods&&r)return r.bind(this)(e)},n.prototype.fallbackMethodAvailable=function(t){if(this.suppressFallbackMethods)return!1;var e=this[t+"Component"];return!!e},n}();P_.ReactComponent=cHe;var dHe=ee&&ee.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),BR=ee&&ee.__assign||function(){return BR=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},BR.apply(this,arguments)},pHe=ee&&ee.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(To,"__esModule",{value:!0});To.CustomComponentWrapper=To.addOptionalMethods=void 0;var _L=yi,hHe=pHe(AB),fHe=P_;function wee(n,t,e){n.forEach(function(r){var i=t[r];i&&(e[r]=i)})}To.addOptionalMethods=wee;var vHe=function(n){dHe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.awaitUpdateCallback=new _L.AgPromise(function(r){e.resolveUpdateCallback=r}),e.wrapperComponent=hHe.default,e}return t.prototype.init=function(e){return this.sourceParams=e,n.prototype.init.call(this,this.getProps())},t.prototype.addMethod=function(){},t.prototype.getInstance=function(){var e=this;return this.instanceCreated.then(function(){return e.componentInstance})},t.prototype.getFrameworkComponentInstance=function(){return this},t.prototype.createElement=function(e,r){var i=this;return n.prototype.createElement.call(this,this.wrapperComponent,{initialProps:r,CustomComponentClass:e,setMethods:function(o){return i.setMethods(o)},addUpdateCallback:function(o){i.updateCallback=function(){return o(i.getProps()),new _L.AgPromise(function(a){setTimeout(function(){a()})})},i.resolveUpdateCallback()}})},t.prototype.setMethods=function(e){this.providedMethods=e,wee(this.getOptionalMethods(),this.providedMethods,this)},t.prototype.getOptionalMethods=function(){return[]},t.prototype.getProps=function(){return BR(BR({},this.sourceParams),{key:this.key,ref:this.ref})},t.prototype.refreshProps=function(){var e=this;return this.updateCallback?this.updateCallback():new _L.AgPromise(function(r){return e.awaitUpdateCallback.then(function(){e.updateCallback().then(function(){return r()})})})},t}(fHe.ReactComponent);To.CustomComponentWrapper=vHe;var gHe=ee&&ee.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(mD,"__esModule",{value:!0});mD.DateComponentWrapper=void 0;var mHe=To,yHe=function(n){gHe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.date=null,e.onDateChange=function(r){return e.updateDate(r)},e}return t.prototype.getDate=function(){return this.date},t.prototype.setDate=function(e){this.date=e,this.refreshProps()},t.prototype.refresh=function(e){this.sourceParams=e,this.refreshProps()},t.prototype.getOptionalMethods=function(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]},t.prototype.updateDate=function(e){this.setDate(e),this.sourceParams.onDateChanged()},t.prototype.getProps=function(){var e=n.prototype.getProps.call(this);return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e},t}(mHe.CustomComponentWrapper);mD.DateComponentWrapper=yHe;var bD={},CHe=ee&&ee.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(bD,"__esModule",{value:!0});bD.FilterComponentWrapper=void 0;var SHe=To,wHe=function(n){CHe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.model=null,e.onModelChange=function(r){return e.updateModel(r)},e.onUiChange=function(){return e.sourceParams.filterChangedCallback()},e}return t.prototype.isFilterActive=function(){return this.model!=null},t.prototype.doesFilterPass=function(e){return this.providedMethods.doesFilterPass(e)},t.prototype.getModel=function(){return this.model},t.prototype.setModel=function(e){return this.model=e,this.refreshProps()},t.prototype.refresh=function(e){return this.sourceParams=e,this.refreshProps(),!0},t.prototype.getOptionalMethods=function(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]},t.prototype.updateModel=function(e){var r=this;this.setModel(e).then(function(){return r.sourceParams.filterChangedCallback()})},t.prototype.getProps=function(){var e=n.prototype.getProps.call(this);return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e},t}(SHe.CustomComponentWrapper);bD.FilterComponentWrapper=wHe;var ED={},vv={},jR=ee&&ee.__assign||function(){return jR=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},jR.apply(this,arguments)};Object.defineProperty(vv,"__esModule",{value:!0});vv.FloatingFilterComponentProxy=vv.updateFloatingFilterParent=void 0;var _He=yi,xHe=To;function _ee(n,t){n.parentFilterInstance(function(e){(e.setModel(t)||_He.AgPromise.resolve()).then(function(){n.filterParams.filterChangedCallback()})})}vv.updateFloatingFilterParent=_ee;var bHe=function(){function n(t,e){var r=this;this.floatingFilterParams=t,this.refreshProps=e,this.model=null,this.onModelChange=function(i){return r.updateModel(i)}}return n.prototype.getProps=function(){return jR(jR({},this.floatingFilterParams),{model:this.model,onModelChange:this.onModelChange})},n.prototype.onParentModelChanged=function(t){this.model=t,this.refreshProps()},n.prototype.refresh=function(t){this.floatingFilterParams=t,this.refreshProps()},n.prototype.setMethods=function(t){xHe.addOptionalMethods(this.getOptionalMethods(),t,this)},n.prototype.getOptionalMethods=function(){return["afterGuiAttached"]},n.prototype.updateModel=function(t){this.model=t,this.refreshProps(),_ee(this.floatingFilterParams,t)},n}();vv.FloatingFilterComponentProxy=bHe;var EHe=ee&&ee.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(ED,"__esModule",{value:!0});ED.FloatingFilterComponentWrapper=void 0;var OHe=To,RHe=vv,THe=function(n){EHe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.model=null,e.onModelChange=function(r){return e.updateModel(r)},e}return t.prototype.onParentModelChanged=function(e){this.model=e,this.refreshProps()},t.prototype.refresh=function(e){this.sourceParams=e,this.refreshProps()},t.prototype.getOptionalMethods=function(){return["afterGuiAttached"]},t.prototype.updateModel=function(e){this.model=e,this.refreshProps(),RHe.updateFloatingFilterParent(this.sourceParams,e)},t.prototype.getProps=function(){var e=n.prototype.getProps.call(this);return e.model=this.model,e.onModelChange=this.onModelChange,e},t}(OHe.CustomComponentWrapper);ED.FloatingFilterComponentWrapper=THe;var OD={},PHe=ee&&ee.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(OD,"__esModule",{value:!0});OD.LoadingOverlayComponentWrapper=void 0;var DHe=To,AHe=function(n){PHe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.refresh=function(e){this.sourceParams=e,this.refreshProps()},t}(DHe.CustomComponentWrapper);OD.LoadingOverlayComponentWrapper=AHe;var RD={},MHe=ee&&ee.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(RD,"__esModule",{value:!0});RD.MenuItemComponentWrapper=void 0;var LHe=To,FHe=function(n){MHe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.active=!1,e.expanded=!1,e.onActiveChange=function(r){return e.updateActive(r)},e}return t.prototype.setActive=function(e){this.awaitSetActive(e)},t.prototype.setExpanded=function(e){this.expanded=e,this.refreshProps()},t.prototype.getOptionalMethods=function(){return["select","configureDefaults"]},t.prototype.awaitSetActive=function(e){return this.active=e,this.refreshProps()},t.prototype.updateActive=function(e){var r=this,i=this.awaitSetActive(e);e&&i.then(function(){return r.sourceParams.onItemActivated()})},t.prototype.getProps=function(){var e=n.prototype.getProps.call(this);return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e},t}(LHe.CustomComponentWrapper);RD.MenuItemComponentWrapper=FHe;var TD={},IHe=ee&&ee.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(TD,"__esModule",{value:!0});TD.NoRowsOverlayComponentWrapper=void 0;var NHe=To,kHe=function(n){IHe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.refresh=function(e){this.sourceParams=e,this.refreshProps()},t}(NHe.CustomComponentWrapper);TD.NoRowsOverlayComponentWrapper=kHe;var PD={},GHe=ee&&ee.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(PD,"__esModule",{value:!0});PD.StatusPanelComponentWrapper=void 0;var VHe=To,BHe=function(n){GHe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.refresh=function(e){return this.sourceParams=e,this.refreshProps(),!0},t}(VHe.CustomComponentWrapper);PD.StatusPanelComponentWrapper=BHe;var DD={},jHe=ee&&ee.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(DD,"__esModule",{value:!0});DD.ToolPanelComponentWrapper=void 0;var HHe=To,$He=function(n){jHe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.onStateChange=function(r){return e.updateState(r)},e}return t.prototype.refresh=function(e){return this.sourceParams=e,this.refreshProps(),!0},t.prototype.getState=function(){return this.state},t.prototype.updateState=function(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()},t.prototype.getProps=function(){var e=n.prototype.getProps.call(this);return e.state=this.state,e.onStateChange=this.onStateChange,e},t}(HHe.CustomComponentWrapper);DD.ToolPanelComponentWrapper=$He;var AD={},Jz=ee&&ee.__spreadArray||function(n,t){for(var e=0,r=t.length,i=n.length;e<r;e++,i++)n[i]=t[e];return n};Object.defineProperty(AD,"__esModule",{value:!0});AD.PortalManager=void 0;var WHe=function(){function n(t,e,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=e||"div",this.refresher=t,this.maxComponentCreationTimeMs=r||n.MAX_COMPONENT_CREATION_TIME_IN_MS}return n.prototype.getPortals=function(){return this.portals},n.prototype.destroy=function(){this.destroyed=!0},n.prototype.destroyPortal=function(t){this.portals=this.portals.filter(function(e){return e!==t}),this.batchUpdate()},n.prototype.getComponentWrappingElement=function(){return this.wrappingElement},n.prototype.mountReactPortal=function(t,e,r){this.portals=Jz(Jz([],this.portals),[t]),this.waitForInstance(e,r),this.batchUpdate()},n.prototype.updateReactPortal=function(t,e){this.portals[this.portals.indexOf(t)]=e,this.batchUpdate()},n.prototype.batchUpdate=function(){var t=this;this.hasPendingPortalUpdate||(setTimeout(function(){t.destroyed||(t.refresher(),t.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)},n.prototype.waitForInstance=function(t,e,r){var i=this;if(r===void 0&&(r=Date.now()),this.destroyed){e(null);return}if(t.rendered())e(t);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){if(t.isNullValue()){e(t);return}console.error("AG Grid: React Component '"+t.getReactComponentName()+"' not created within "+this.maxComponentCreationTimeMs+"ms."),console.error("    If the component is using `forwardRef` but not `useImperativeHandle`, add the following: `useImperativeHandle(ref, () => ({}));`");return}window.setTimeout(function(){i.waitForInstance(t,e,r)})}},n.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3,n}();AD.PortalManager=WHe;var Ti={},UHe=ee&&ee.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ti,"__esModule",{value:!0});Ti.BeansContext=void 0;var zHe=UHe(T);Ti.BeansContext=zHe.default.createContext({});var en={},N1=ee&&ee.__assign||function(){return N1=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},N1.apply(this,arguments)},e4=ee&&ee.__spreadArray||function(n,t){for(var e=0,r=t.length,i=n.length;e<r;e++,i++)n[i]=t[e];return n},KHe=ee&&ee.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(en,"__esModule",{value:!0});en.getNextValueIfDifferent=en.agFlushSync=en.runWithoutFlushSync=en.isComponentStateless=en.CssClasses=en.classesList=void 0;var k1=KHe(Sv),YHe=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=n.filter(function(r){return r!=null&&r!==""});return e.join(" ")};en.classesList=YHe;var qHe=function(){function n(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.classesMap={},e.forEach(function(i){t.classesMap[i]=!0})}return n.prototype.setClass=function(t,e){var r=!!this.classesMap[t]==e;if(r)return this;var i=new n;return i.classesMap=N1({},this.classesMap),i.classesMap[t]=e,i},n.prototype.toString=function(){var t=this,e=Object.keys(this.classesMap).filter(function(r){return t.classesMap[r]}).join(" ");return e},n}();en.CssClasses=qHe;var XHe=function(n){var t=function(){return typeof Symbol=="function"&&Symbol.for},e=function(){return t()?Symbol.for("react.memo"):60115};return typeof n=="function"&&!(n.prototype&&n.prototype.isReactComponent)||typeof n=="object"&&n.$$typeof===e()};en.isComponentStateless=XHe;var ZHe=k1.default.createRoot!=null&&k1.default.flushSync!=null,XE=!1;function QHe(n){return XE||setTimeout(function(){return XE=!1},0),XE=!0,n()}en.runWithoutFlushSync=QHe;var JHe=function(n,t){ZHe&&n&&!XE?k1.default.flushSync(t):t()};en.agFlushSync=JHe;function e$e(n,t,e){if(t==null||n==null)return t;if(n===t||t.length===0&&n.length===0)return n;if(e||n.length===0&&t.length>0||n.length>0&&t.length===0)return t;for(var r=[],i=[],o=new Map,a=new Map,s=0;s<t.length;s++){var l=t[s];a.set(l.getInstanceId(),l)}for(var s=0;s<n.length;s++){var l=n[s];o.set(l.getInstanceId(),l),a.has(l.getInstanceId())&&r.push(l)}for(var s=0;s<t.length;s++){var l=t[s],u=l.getInstanceId();o.has(u)||i.push(l)}return r.length===n.length&&i.length===0?n:r.length===0&&i.length===t.length?t:e4(e4([],r),i)}en.getNextValueIfDifferent=e$e;var ZB={},Ml={};Object.defineProperty(Ml,"__esModule",{value:!0});Ml.createSyncJsComp=Ml.showJsComp=void 0;var t$e=function(n,t,e,r){var i=!n||n.componentFromFramework||t.isDestroyed();if(!i){var o=n.newAgStackInstance();if(o){var a,s,l=!1;return o.then(function(u){if(l){t.destroyBean(u);return}a=u,s=a.getGui(),e.appendChild(s),t4(r,a)}),function(){l=!0,a&&(s&&s.parentElement&&s.parentElement.removeChild(s),t.destroyBean(a),r&&t4(r,void 0))}}}};Ml.showJsComp=t$e;var t4=function(n,t){if(n)if(n instanceof Function){var e=n;e(t)}else{var r=n;r.current=t}},r$e=function(n){var t=n.newAgStackInstance();if(t)return t.resolveNow(null,function(e){return e})};Ml.createSyncJsComp=r$e;var HR=ee&&ee.__assign||function(){return HR=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},HR.apply(this,arguments)},n$e=ee&&ee.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),i$e=ee&&ee.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),o$e=ee&&ee.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&n$e(t,n,e);return i$e(t,n),t};Object.defineProperty(ZB,"__esModule",{value:!0});var r4=yi,mr=o$e(T),a$e=Ti,s$e=Ml,mb=en,xee=mr.forwardRef(function(n,t){var e,r=mr.useContext(a$e.BeansContext).context,i=mr.useRef(null),o=mr.useRef(null),a=mr.useRef(null),s=mr.useRef(null),l=mr.useRef(null),u=mr.useRef(),c=mr.useState(),d=c[0],p=c[1],h=mr.useState(),f=h[0],v=h[1],g=mr.useState(),m=g[0],y=g[1],C=mr.useState(function(){return new mb.CssClasses}),S=C[0],w=C[1],_=mr.useState(function(){return new mb.CssClasses("ag-hidden")}),x=_[0],E=_[1],R=mr.useState(function(){return new mb.CssClasses("ag-hidden")}),P=R[0],A=R[1],N=mr.useState(function(){return new mb.CssClasses("ag-invisible")}),I=N[0],G=N[1];mr.useImperativeHandle(t,function(){return{refresh:function(){return!1}}}),mr.useLayoutEffect(function(){return s$e.showJsComp(d,r,o.current)},[d]);var V=mr.useCallback(function(X){if(i.current=X,!i.current){r.destroyBean(u.current),u.current=null;return}var ie={setInnerRenderer:function(z,Q){p(z),y(Q)},setChildCount:function(z){return v(z)},addOrRemoveCssClass:function(z,Q){return w(function(ue){return ue.setClass(z,Q)})},setContractedDisplayed:function(z){return A(function(Q){return Q.setClass("ag-hidden",!z)})},setExpandedDisplayed:function(z){return E(function(Q){return Q.setClass("ag-hidden",!z)})},setCheckboxVisible:function(z){return G(function(Q){return Q.setClass("ag-invisible",!z)})}};u.current=r.createBean(new r4.GroupCellRendererCtrl),u.current.init(ie,i.current,a.current,s.current,l.current,xee,n)},[]),H=mr.useMemo(function(){return"ag-cell-wrapper "+S.toString()},[S]),j=mr.useMemo(function(){return"ag-group-expanded "+x.toString()},[x]),B=mr.useMemo(function(){return"ag-group-contracted "+P.toString()},[P]),$=mr.useMemo(function(){return"ag-group-checkbox "+I.toString()},[I]),W=d&&d.componentFromFramework,Y=W?d.componentClass:void 0,Z=d==null&&m!=null,se=r4._.escapeString(m,!0);return mr.default.createElement("span",HR({className:H,ref:V},n.colDef?{}:{role:(e=u.current)===null||e===void 0?void 0:e.getCellAriaRole()}),mr.default.createElement("span",{className:j,ref:s}),mr.default.createElement("span",{className:B,ref:l}),mr.default.createElement("span",{className:$,ref:a}),mr.default.createElement("span",{className:"ag-group-value",ref:o},Z&&mr.default.createElement(mr.default.Fragment,null,se),W&&mr.default.createElement(Y,HR({},d.params))),mr.default.createElement("span",{className:"ag-group-child-count"},f))});ZB.default=xee;var QB={},JB={},ej={},tj={},rj={},nj={},$R=ee&&ee.__assign||function(){return $R=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},$R.apply(this,arguments)},l$e=ee&&ee.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),u$e=ee&&ee.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),c$e=ee&&ee.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&l$e(t,n,e);return u$e(t,n),t};Object.defineProperty(nj,"__esModule",{value:!0});var Fi=c$e(T),d$e=Ti,xL=yi,p$e=en,h$e=Ml,f$e=function(n){var t=n.ctrl,e=t.isAlive(),r=Fi.useContext(d$e.BeansContext).context,i=e?t.getColId():void 0,o=Fi.useState(),a=o[0],s=o[1],l=Fi.useRef(null),u=Fi.useRef(null),c=Fi.useRef(null),d=Fi.useRef(),p=Fi.useRef();e&&!p.current&&(p.current=new xL.CssClassManager(function(){return l.current}));var h=Fi.useCallback(function(m){var y;if(l.current=m,!(!l.current||!e)){var C={setWidth:function(w){l.current&&(l.current.style.width=w)},addOrRemoveCssClass:function(w,_){return p.current.addOrRemoveCssClass(w,_)},setAriaSort:function(w){l.current&&(w?xL._.setAriaSort(l.current,w):xL._.removeAriaSort(l.current))},setUserCompDetails:function(w){return s(w)},getUserCompInstance:function(){return d.current||void 0}};t.setComp(C,l.current,u.current,c.current);var S=t.getSelectAllGui();(y=u.current)===null||y===void 0||y.insertAdjacentElement("afterend",S)}},[]);Fi.useLayoutEffect(function(){return h$e.showJsComp(a,r,c.current,d)},[a]),Fi.useEffect(function(){t.setDragSource(l.current)},[a]);var f=Fi.useMemo(function(){var m=(a==null?void 0:a.componentFromFramework)&&p$e.isComponentStateless(a.componentClass);return!!m},[a]),v=a&&a.componentFromFramework,g=a&&a.componentClass;return Fi.default.createElement("div",{ref:h,className:"ag-header-cell","col-id":i,role:"columnheader"},Fi.default.createElement("div",{ref:u,className:"ag-header-cell-resize",role:"presentation"}),Fi.default.createElement("div",{ref:c,className:"ag-header-cell-comp-wrapper",role:"presentation"},v&&f&&Fi.default.createElement(g,$R({},a.params)),v&&!f&&Fi.default.createElement(g,$R({},a.params,{ref:d}))))};nj.default=Fi.memo(f$e);var ij={},WR=ee&&ee.__assign||function(){return WR=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},WR.apply(this,arguments)},v$e=ee&&ee.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),g$e=ee&&ee.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),m$e=ee&&ee.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&v$e(t,n,e);return g$e(t,n),t};Object.defineProperty(ij,"__esModule",{value:!0});var Mn=m$e(T),y$e=Ti,C$e=Ml,bL=en,S$e=function(n){var t=Mn.useContext(y$e.BeansContext).context,e=n.ctrl,r=Mn.useState(function(){return new bL.CssClasses}),i=r[0],o=r[1],a=Mn.useState(function(){return new bL.CssClasses}),s=a[0],l=a[1],u=Mn.useState("false"),c=u[0],d=u[1],p=Mn.useState(),h=p[0],f=p[1],v=Mn.useState(),g=v[0],m=v[1],y=Mn.useMemo(function(){return e.getColId()},[]),C=Mn.useRef(null),S=Mn.useRef(null),w=Mn.useRef(),_=Mn.useCallback(function(N){if(C.current=N,!!C.current){var I={setWidth:function(G){C.current&&(C.current.style.width=G)},addOrRemoveCssClass:function(G,V){return o(function(H){return H.setClass(G,V)})},setUserCompDetails:function(G){return m(G)},setResizableDisplayed:function(G){l(function(V){return V.setClass("ag-hidden",!G)}),d(G?"false":"true")},setAriaExpanded:function(G){return f(G)},getUserCompInstance:function(){return w.current||void 0}};e.setComp(I,C.current,S.current)}},[]);Mn.useLayoutEffect(function(){return C$e.showJsComp(g,t,C.current)},[g]),Mn.useEffect(function(){C.current&&e.setDragSource(C.current)},[g]);var x=Mn.useMemo(function(){var N=(g==null?void 0:g.componentFromFramework)&&bL.isComponentStateless(g.componentClass);return!!N},[g]),E=Mn.useMemo(function(){return"ag-header-group-cell "+i.toString()},[i]),R=Mn.useMemo(function(){return"ag-header-cell-resize "+s.toString()},[s]),P=g&&g.componentFromFramework,A=g&&g.componentClass;return Mn.default.createElement("div",{ref:_,className:E,"col-id":y,role:"columnheader","aria-expanded":h},P&&x&&Mn.default.createElement(A,WR({},g.params)),P&&!x&&Mn.default.createElement(A,WR({},g.params,{ref:w})),Mn.default.createElement("div",{ref:S,"aria-hidden":c,className:R}))};ij.default=Mn.memo(S$e);var oj={},ld={};Object.defineProperty(ld,"__esModule",{value:!0});ld.warnReactiveCustomComponents=ld.getInstance=void 0;var bee=yi;function w$e(n,t){var e,r,i,o=(i=(r=(e=n)===null||e===void 0?void 0:e.getInstance)===null||r===void 0?void 0:r.call(e))!==null&&i!==void 0?i:bee.AgPromise.resolve(void 0);o.then(function(a){return t(a)})}ld.getInstance=w$e;function _$e(){bee._.warnOnce("Using custom components without `reactiveCustomComponents = true` is deprecated.")}ld.warnReactiveCustomComponents=_$e;var UR=ee&&ee.__assign||function(){return UR=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},UR.apply(this,arguments)},x$e=ee&&ee.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),b$e=ee&&ee.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),E$e=ee&&ee.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&x$e(t,n,e);return b$e(t,n),t};Object.defineProperty(oj,"__esModule",{value:!0});var Er=E$e(T),O$e=Ti,R$e=yi,yb=en,T$e=Ml,P$e=vv,D$e=Ov,A$e=ld,M$e=function(n){var t=Er.useContext(O$e.BeansContext),e=t.context,r=t.gridOptionsService,i=Er.useState(function(){return new yb.CssClasses("ag-header-cell","ag-floating-filter")}),o=i[0],a=i[1],s=Er.useState(function(){return new yb.CssClasses}),l=s[0],u=s[1],c=Er.useState(function(){return new yb.CssClasses("ag-floating-filter-button","ag-hidden")}),d=c[0],p=c[1],h=Er.useState("false"),f=h[0],v=h[1],g=Er.useState(),m=g[0],y=g[1],C=Er.useState(1);C[0];var S=C[1],w=Er.useRef(null),_=Er.useRef(null),x=Er.useRef(null),E=Er.useRef(null),R=Er.useRef(),P=Er.useRef(),A=function(se){se!=null&&R.current&&R.current(se)},N=n.ctrl,I=Er.useCallback(function(se){if(w.current=se,!!w.current){P.current=new R$e.AgPromise(function(ie){R.current=ie});var X={addOrRemoveCssClass:function(ie,z){return a(function(Q){return Q.setClass(ie,z)})},addOrRemoveBodyCssClass:function(ie,z){return u(function(Q){return Q.setClass(ie,z)})},setButtonWrapperDisplayed:function(ie){p(function(z){return z.setClass("ag-hidden",!ie)}),v(ie?"false":"true")},setWidth:function(ie){w.current&&(w.current.style.width=ie)},setCompDetails:function(ie){return y(ie)},getFloatingFilterComp:function(){return P.current?P.current:null},setMenuIcon:function(ie){var z;return(z=E.current)===null||z===void 0?void 0:z.appendChild(ie)}};N.setComp(X,w.current,E.current,_.current)}},[]);Er.useLayoutEffect(function(){return T$e.showJsComp(m,e,_.current,A)},[m]);var G=Er.useMemo(function(){return o.toString()},[o]),V=Er.useMemo(function(){return l.toString()},[l]),H=Er.useMemo(function(){return d.toString()},[d]),j=Er.useMemo(function(){var se=m&&m.componentFromFramework&&yb.isComponentStateless(m.componentClass);return!!se},[m]),B=Er.useMemo(function(){return r.get("reactiveCustomComponents")},[]),$=Er.useMemo(function(){if(m)if(B){var se=new P$e.FloatingFilterComponentProxy(m.params,function(){return S(function(X){return X+1})});return A(se),se}else m.componentFromFramework&&A$e.warnReactiveCustomComponents()},[m]),W=$==null?void 0:$.getProps(),Y=m&&m.componentFromFramework,Z=m&&m.componentClass;return Er.default.createElement("div",{ref:I,className:G,role:"gridcell"},Er.default.createElement("div",{ref:_,className:V,role:"presentation"},Y&&!B&&Er.default.createElement(Z,UR({},m.params,{ref:j?function(){}:A})),Y&&B&&Er.default.createElement(D$e.CustomContext.Provider,{value:{setMethods:function(se){return $.setMethods(se)}}},Er.default.createElement(Z,UR({},W)))),Er.default.createElement("div",{ref:x,"aria-hidden":f,className:H,role:"presentation"},Er.default.createElement("button",{ref:E,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))};oj.default=Er.memo(M$e);var L$e=ee&&ee.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),F$e=ee&&ee.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),I$e=ee&&ee.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&L$e(t,n,e);return F$e(t,n),t},aj=ee&&ee.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(rj,"__esModule",{value:!0});var n4=yi,Ia=I$e(T),N$e=aj(nj),k$e=aj(ij),G$e=aj(oj),i4=en,V$e=function(n){var t=n.ctrl,e=Ia.useMemo(function(){return t.getTopAndHeight()},[]),r=e.topOffset,i=e.rowHeight,o=t.getAriaRowIndex(),a=t.getHeaderRowClass(),s=Ia.useState(function(){return i+"px"}),l=s[0],u=s[1],c=Ia.useState(function(){return r+"px"}),d=c[0],p=c[1],h=Ia.useState(function(){return t.getHeaderCtrls()}),f=h[0],v=h[1],g=Ia.useRef(null),m=Ia.useCallback(function(S){if(g.current=S,!!S){var w={setHeight:function(_){return u(_)},setTop:function(_){return p(_)},setHeaderCtrls:function(_,x,E){i4.agFlushSync(E,function(){v(function(R){return i4.getNextValueIfDifferent(R,_,x)})})},setWidth:function(_){g.current&&(g.current.style.width=_)}};t.setComp(w,!1)}},[]),y=Ia.useMemo(function(){return{height:l,top:d}},[l,d]),C=Ia.useCallback(function(S){switch(t.getType()){case n4.HeaderRowType.COLUMN_GROUP:return Ia.default.createElement(k$e.default,{ctrl:S,key:S.getInstanceId()});case n4.HeaderRowType.FLOATING_FILTER:return Ia.default.createElement(G$e.default,{ctrl:S,key:S.getInstanceId()});default:return Ia.default.createElement(N$e.default,{ctrl:S,key:S.getInstanceId()})}},[]);return Ia.default.createElement("div",{ref:m,className:a,role:"row",style:y,"aria-rowindex":o},f.map(C))};rj.default=Ia.memo(V$e);var B$e=ee&&ee.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),j$e=ee&&ee.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),H$e=ee&&ee.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&B$e(t,n,e);return j$e(t,n),t},$$e=ee&&ee.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(tj,"__esModule",{value:!0});var ho=H$e(T),W$e=Ti,U$e=yi,z$e=$$e(rj),K$e=function(n){var t=ho.useState(!0),e=t[0],r=t[1],i=ho.useState([]),o=i[0],a=i[1],s=ho.useContext(W$e.BeansContext).context,l=ho.useRef(null),u=ho.useRef(null),c=ho.useRef(null),d=n.pinned==="left",p=n.pinned==="right",h=!d&&!p,f=ho.useCallback(function(m){if(l.current=m,!l.current){s.destroyBean(c.current),c.current=null;return}var y={setDisplayed:r,setCtrls:function(C){return a(C)},setCenterWidth:function(C){u.current&&(u.current.style.width=C)},setViewportScrollLeft:function(C){l.current&&(l.current.scrollLeft=C)},setPinnedContainerWidth:function(C){l.current&&(l.current.style.width=C,l.current.style.minWidth=C,l.current.style.maxWidth=C)}};c.current=s.createBean(new U$e.HeaderRowContainerCtrl(n.pinned)),c.current.setComp(y,l.current)},[]),v=e?"":"ag-hidden",g=function(){return o.map(function(m){return ho.default.createElement(z$e.default,{ctrl:m,key:m.getInstanceId()})})};return ho.default.createElement(ho.default.Fragment,null,d&&ho.default.createElement("div",{ref:f,className:"ag-pinned-left-header "+v,"aria-hidden":!e,role:"rowgroup"},g()),p&&ho.default.createElement("div",{ref:f,className:"ag-pinned-right-header "+v,"aria-hidden":!e,role:"rowgroup"},g()),h&&ho.default.createElement("div",{ref:f,className:"ag-header-viewport "+v,role:"presentation"},ho.default.createElement("div",{ref:u,className:"ag-header-container",role:"rowgroup"},g())))};tj.default=ho.memo(K$e);var Y$e=ee&&ee.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),q$e=ee&&ee.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),X$e=ee&&ee.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&Y$e(t,n,e);return q$e(t,n),t},Z$e=ee&&ee.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ej,"__esModule",{value:!0});var Na=X$e(T),Q$e=Ti,J$e=yi,eWe=en,EL=Z$e(tj),tWe=function(){var n=Na.useState(function(){return new eWe.CssClasses}),t=n[0],e=n[1],r=Na.useState(),i=r[0],o=r[1],a=Na.useContext(Q$e.BeansContext).context,s=Na.useRef(null),l=Na.useRef(null),u=Na.useCallback(function(p){if(s.current=p,!p){a.destroyBean(l.current),l.current=null;return}var h={addOrRemoveCssClass:function(f,v){return e(function(g){return g.setClass(f,v)})},setHeightAndMinHeight:function(f){return o(f)}};l.current=a.createBean(new J$e.GridHeaderCtrl),l.current.setComp(h,s.current,s.current)},[]),c=Na.useMemo(function(){var p=t.toString();return"ag-header "+p},[t]),d=Na.useMemo(function(){return{height:i,minHeight:i}},[i]);return Na.default.createElement("div",{ref:u,className:c,style:d,role:"presentation"},Na.default.createElement(EL.default,{pinned:"left"}),Na.default.createElement(EL.default,{pinned:null}),Na.default.createElement(EL.default,{pinned:"right"}))};ej.default=Na.memo(tWe);var D_={};Object.defineProperty(D_,"__esModule",{value:!0});var rWe=T,nWe=function(n,t){rWe.useEffect(function(){var e=t.current;if(e){var r=e.parentElement;if(r){var i=document.createComment(n);return r.insertBefore(i,e),function(){r.removeChild(i)}}}},[n])};D_.default=nWe;var sj={},lj={},Eee={},uj={},MD={};Object.defineProperty(MD,"__esModule",{value:!0});MD.useEffectOnce=void 0;var eg=T,iWe=function(n){var t=eg.useRef(n),e=eg.useRef(),r=eg.useRef(!1),i=eg.useRef(!1),o=eg.useState(0),a=o[1];r.current&&(i.current=!0),eg.useEffect(function(){return r.current||(e.current=t.current(),r.current=!0),a(function(s){return s+1}),function(){i.current&&e.current&&e.current()}},[])};MD.useEffectOnce=iWe;var oWe=ee&&ee.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),aWe=ee&&ee.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),sWe=ee&&ee.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&oWe(t,n,e);return aWe(t,n),t};Object.defineProperty(uj,"__esModule",{value:!0});var lWe=yi,DS=sWe(T),uWe=Sv,cWe=Ti,dWe=MD,pWe=function(n){var t=DS.useState(),e=t[0],r=t[1],i=DS.useContext(cWe.BeansContext),o=i.context,a=i.popupService,s=i.localeService,l=i.gridOptionsService;return dWe.useEffectOnce(function(){var u=n.editDetails,c=n.cellCtrl,d=n.eParentCell,p=u.compDetails,h=l.get("stopEditingWhenCellsLoseFocus"),f=o.createBean(new lWe.PopupEditorWrapper(p.params)),v=f.getGui();if(n.jsChildComp){var g=n.jsChildComp.getGui();g&&v.appendChild(g)}var m={column:c.getColumn(),rowNode:c.getRowNode(),type:"popupCellEditor",eventSource:d,ePopup:v,position:u.popupPosition,keepWithinBounds:!0},y=a.positionPopupByComponent.bind(a,m),C=s.getLocaleTextFunc(),S=a.addPopup({modal:h,eChild:v,closeOnEsc:!0,closedCallback:function(){c.onPopupEditorClosed()},anchorToElement:d,positionCallback:y,ariaLabel:C("ariaLabelCellEditor","Cell Editor")}),w=S?S.hideFunc:void 0;return r(f),n.jsChildComp&&n.jsChildComp.afterGuiAttached&&n.jsChildComp.afterGuiAttached(),function(){w!=null&&w(),o.destroyBean(f)}}),DS.default.createElement(DS.default.Fragment,null,e&&n.wrappedContent&&uWe.createPortal(n.wrappedContent,e.getGui()))};uj.default=DS.memo(pWe);var cj={};Object.defineProperty(cj,"__esModule",{value:!0});var Cb=T,hWe=Ti,fWe=function(n,t,e,r,i,o){var a=Cb.useContext(hWe.BeansContext).context,s=Cb.useCallback(function(){var l=i.current;if(l){var u=l.getGui();u&&u.parentElement&&u.parentElement.removeChild(u),a.destroyBean(l),i.current=void 0}},[]);Cb.useEffect(function(){var l=n!=null,u=n&&n.compDetails&&!n.compDetails.componentFromFramework,c=t&&e==null,d=l&&u&&!c;if(!d){s();return}var p=n.compDetails;if(i.current){var h=i.current,f=h.refresh!=null&&n.force==!1,v=f?h.refresh(p.params):!1,g=v===!0||v===void 0;if(g)return;s()}var m=p.newAgStackInstance();if(m){var y=m.resolveNow(null,function(w){return w});if(y){var C=y.getGui();if(C){var S=t?e:o.current;S.appendChild(C),i.current=y}}}},[n,t,r]),Cb.useEffect(function(){return s},[])};cj.default=fWe;var LD={},zR=ee&&ee.__assign||function(){return zR=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},zR.apply(this,arguments)};Object.defineProperty(LD,"__esModule",{value:!0});LD.CellEditorComponentProxy=void 0;var vWe=yi,gWe=To,mWe=function(){function n(t,e){var r=this;this.cellEditorParams=t,this.refreshProps=e,this.instanceCreated=new vWe.AgPromise(function(i){r.resolveInstanceCreated=i}),this.onValueChange=function(i){return r.updateValue(i)},this.value=t.value}return n.prototype.getProps=function(){return zR(zR({},this.cellEditorParams),{initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange})},n.prototype.getValue=function(){return this.value},n.prototype.refresh=function(t){this.cellEditorParams=t,this.refreshProps()},n.prototype.setMethods=function(t){gWe.addOptionalMethods(this.getOptionalMethods(),t,this)},n.prototype.getInstance=function(){var t=this;return this.instanceCreated.then(function(){return t.componentInstance})},n.prototype.setRef=function(t){var e;this.componentInstance=t,(e=this.resolveInstanceCreated)===null||e===void 0||e.call(this),this.resolveInstanceCreated=void 0},n.prototype.getOptionalMethods=function(){return["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},n.prototype.updateValue=function(t){this.value=t,this.refreshProps()},n}();LD.CellEditorComponentProxy=mWe;(function(n){var t=ee&&ee.__assign||function(){return t=Object.assign||function(_){for(var x,E=1,R=arguments.length;E<R;E++){x=arguments[E];for(var P in x)Object.prototype.hasOwnProperty.call(x,P)&&(_[P]=x[P])}return _},t.apply(this,arguments)},e=ee&&ee.__createBinding||(Object.create?function(_,x,E,R){R===void 0&&(R=E),Object.defineProperty(_,R,{enumerable:!0,get:function(){return x[E]}})}:function(_,x,E,R){R===void 0&&(R=E),_[R]=x[E]}),r=ee&&ee.__setModuleDefault||(Object.create?function(_,x){Object.defineProperty(_,"default",{enumerable:!0,value:x})}:function(_,x){_.default=x}),i=ee&&ee.__importStar||function(_){if(_&&_.__esModule)return _;var x={};if(_!=null)for(var E in _)E!=="default"&&Object.prototype.hasOwnProperty.call(_,E)&&e(x,_,E);return r(x,_),x},o=ee&&ee.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(n,"__esModule",{value:!0}),n.CellCompState=void 0;var a=yi,s=i(T),l=en,u=o(uj),c=o(cj),d=Ti,p=Ml,h=LD,f=Ov,v=ld;(function(_){_[_.ShowValue=0]="ShowValue",_[_.EditValue=1]="EditValue"})(n.CellCompState||(n.CellCompState={}));var g=function(_,x,E){var R=E.getColumn();if(!_&&x.isPopup&&x.isPopup()){var P="AG Grid: Found an issue in column "+R.getColId()+". If using React, specify an editor is a popup using colDef.cellEditorPopup=true. AG Grid React cannot depend on the editor component specifying if it's in a popup (via the isPopup() method on the editor), as React needs to know this information BEFORE the component is created.";a._.doOnce(function(){return console.warn(P)},"jsEditorComp-isPopup-"+E.getColumn().getColId())}if(_&&x.getPopupPosition&&x.getPopupPosition()!=null){var A="AG Grid: Found an issue in column "+R.getColId()+". If using React, specify an editor popup position using colDef.cellEditorPopupPosition=true. AG Grid React cannot depend on the editor component specifying it's position (via the getPopupPosition() method on the editor), as React needs to know this information BEFORE the component is created.";a._.doOnce(function(){return console.warn(A)},"jsEditorComp-getPopupPosition-"+E.getColumn().getColId())}},m=function(_,x,E){var R=_.compProxy;E(R);var P=R.getProps(),A=l.isComponentStateless(x);return s.default.createElement(f.CustomContext.Provider,{value:{setMethods:function(N){return R.setMethods(N)}}},A&&s.default.createElement(x,t({},P)),!A&&s.default.createElement(x,t({},P,{ref:function(N){return R.setRef(N)}})))},y=function(_,x,E){var R=_.compProxy;return s.default.createElement(s.default.Fragment,null,!R&&s.default.createElement(x,t({},_.compDetails.params,{ref:E})),R&&m(_,x,E))},C=function(_,x,E,R,P,A){var N=_.compDetails,I=N.componentClass,G=N.componentFromFramework&&!_.popup,V=N.componentFromFramework&&_.popup,H=!N.componentFromFramework&&_.popup;return s.default.createElement(s.default.Fragment,null,G&&y(_,I,x),V&&s.default.createElement(u.default,{editDetails:_,cellCtrl:P,eParentCell:R,wrappedContent:y(_,I,E)}),H&&A&&s.default.createElement(u.default,{editDetails:_,cellCtrl:P,eParentCell:R,jsChildComp:A}))},S=function(_,x,E,R,P,A,N){var I=_.compDetails,G=_.value,V=!I,H=I&&I.componentFromFramework,j=I&&I.componentClass,B=G!=null&&G.toString?G.toString():G,$=function(){return s.default.createElement(s.default.Fragment,null,V&&s.default.createElement(s.default.Fragment,null,B),H&&!A&&s.default.createElement(j,t({},I.params,{key:x,ref:R})),H&&A&&s.default.createElement(j,t({},I.params,{key:x})))};return s.default.createElement(s.default.Fragment,null,P?s.default.createElement("span",{role:"presentation",id:"cell-"+E,className:"ag-cell-value",ref:N},$()):$())},w=function(_){var x=s.useContext(d.BeansContext).context,E=_.cellCtrl,R=_.printLayout,P=_.editingRow,A=E.getTabIndex(),N=E.getColumnIdSanitised(),I=E.getInstanceId(),G=s.useState(function(){return E.isCellRenderer()?void 0:{compDetails:void 0,value:E.getValueToDisplay(),force:!1}}),V=G[0],H=G[1],j=s.useState(),B=j[0],$=j[1],W=s.useState(1),Y=W[0],Z=W[1],se=s.useState(),X=se[0],ie=se[1],z=s.useState(!1),Q=z[0],ue=z[1],pe=s.useState(!1),_e=pe[0],oe=pe[1],we=s.useState(!1),ne=we[0],xe=we[1],Pe=s.useState(),ze=Pe[0],ht=Pe[1],Ae=s.useMemo(function(){return E.isForceWrapper()},[E]),Ke=s.useMemo(function(){return E.getCellAriaRole()},[E]),he=s.useRef(null),Ee=s.useRef(null),Be=s.useRef(),tt=s.useRef(),Ie=s.useRef(),rt=s.useRef([]),mt=s.useRef(),ft=s.useState(0),yt=ft[0],We=ft[1],dt=s.useCallback(function(cr){mt.current=cr,We(function(J){return J+1})},[]),ur=V!=null&&(Q||ne||_e),Ir=Ae||ur,Ye=s.useCallback(function(cr,J){if(tt.current=J,J){g(cr,J,E);var te=J.isCancelBeforeStart&&J.isCancelBeforeStart();te&&setTimeout(function(){E.stopEditing(!0),E.focusCell(!0)})}},[E]),zt=s.useCallback(function(cr){return Ye(!0,cr)},[Ye]),vr=s.useCallback(function(cr){return Ye(!1,cr)},[Ye]),an=s.useRef();an.current||(an.current=new a.CssClassManager(function(){return he.current})),c.default(V,Ir,mt.current,yt,Be,he);var po=s.useRef();s.useLayoutEffect(function(){var cr=po.current,J=V;if(po.current=V,!(cr==null||cr.compDetails==null||J==null||J.compDetails==null)){var te=cr.compDetails,ae=J.compDetails;if(te.componentClass==ae.componentClass&&!(Ee.current==null||Ee.current.refresh==null)){var be=Ee.current.refresh(ae.params);be!=!0&&Z(function(Fe){return Fe+1})}}},[V]),s.useLayoutEffect(function(){var cr=B&&!B.compDetails.componentFromFramework;if(cr){var J=B.compDetails,te=B.popup===!0,ae=p.createSyncJsComp(J);if(ae){var be=ae.getGui();if(Ye(te,ae),!te){var Fe=(Ae?Ie:he).current;Fe==null||Fe.appendChild(be),ae.afterGuiAttached&&ae.afterGuiAttached()}return ht(ae),function(){x.destroyBean(ae),Ye(te,void 0),ht(void 0),be&&be.parentElement&&be.parentElement.removeChild(be)}}}},[B]);var Zl=s.useCallback(function(cr){if(Ie.current=cr,!Ie.current){rt.current.forEach(function(ae){return ae()}),rt.current=[];return}var J=function(ae){var be;if(ae){var Fe=ae.getGui();(be=Ie.current)===null||be===void 0||be.insertAdjacentElement("afterbegin",Fe),rt.current.push(function(){x.destroyBean(ae),a._.removeFromParent(Fe)})}return ae};if(Q){var te=E.createSelectionCheckbox();J(te)}ne&&J(E.createDndSource()),_e&&J(E.createRowDragComp())},[E,x,ne,_e,Q]),hc=s.useCallback(function(cr){if(he.current=cr,!!he.current&&E){var J={addOrRemoveCssClass:function(ae,be){return an.current.addOrRemoveCssClass(ae,be)},setUserStyles:function(ae){return ie(ae)},getFocusableElement:function(){return he.current},setIncludeSelection:function(ae){return ue(ae)},setIncludeRowDrag:function(ae){return oe(ae)},setIncludeDndSource:function(ae){return xe(ae)},getCellEditor:function(){return tt.current||null},getCellRenderer:function(){return Ee.current?Ee.current:Be.current},getParentOfValue:function(){return mt.current?mt.current:Ie.current?Ie.current:he.current},setRenderDetails:function(ae,be,Fe){H(function(vt){return(vt==null?void 0:vt.compDetails)!==ae||(vt==null?void 0:vt.value)!==be||(vt==null?void 0:vt.force)!==Fe?{value:be,compDetails:ae,force:Fe}:vt})},setEditDetails:function(ae,be,Fe,vt){if(ae){var gt=void 0;vt?gt=new h.CellEditorComponentProxy(ae.params,function(){return Z(function(lt){return lt+1})}):ae.componentFromFramework&&v.warnReactiveCustomComponents(),$({compDetails:ae,popup:be,popupPosition:Fe,compProxy:gt}),be||H(void 0)}else $(function(lt){lt!=null&&lt.compProxy&&(tt.current=void 0)})}},te=Ie.current||void 0;E.setComp(J,he.current,te,R,P)}},[]),fc=s.useMemo(function(){var cr=V&&V.compDetails&&V.compDetails.componentFromFramework&&l.isComponentStateless(V.compDetails.componentClass);return!!cr},[V]);s.useLayoutEffect(function(){var cr;he.current&&(an.current.addOrRemoveCssClass("ag-cell-value",!Ir),an.current.addOrRemoveCssClass("ag-cell-inline-editing",!!B&&!B.popup),an.current.addOrRemoveCssClass("ag-cell-popup-editing",!!B&&!!B.popup),an.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!B||!!B.popup),(cr=E.getRowCtrl())===null||cr===void 0||cr.setInlineEditingCss(!!B),E.shouldRestoreFocus()&&!E.isEditing()&&he.current.focus({preventScroll:!0}))});var ol=function(){return s.default.createElement(s.default.Fragment,null,V!=null&&S(V,Y,I,Ee,Ir,fc,dt),B!=null&&C(B,vr,zt,he.current,E,ze))};return s.default.createElement("div",{ref:hc,style:X,tabIndex:A,role:Ke,"col-id":N},Ir?s.default.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:Zl},ol()):ol())};n.default=s.memo(w)})(Eee);var Yg=ee&&ee.__assign||function(){return Yg=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Yg.apply(this,arguments)},yWe=ee&&ee.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),CWe=ee&&ee.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),SWe=ee&&ee.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&yWe(t,n,e);return CWe(t,n),t},wWe=ee&&ee.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(lj,"__esModule",{value:!0});var Or=SWe(T),_We=yi,xWe=Ml,OL=en,bWe=Ti,EWe=wWe(Eee),OWe=function(n){var t=Or.useContext(bWe.BeansContext),e=t.context,r=t.gridOptionsService,i=n.rowCtrl,o=n.containerType,a=i.getTabIndex(),s=Or.useRef(i.getDomOrder()),l=i.isFullWidth(),u=i.getRowNode().displayed,c=Or.useState(function(){return u?i.getRowIndex():null}),d=c[0],p=c[1],h=Or.useState(function(){return i.getRowId()}),f=h[0],v=h[1],g=Or.useState(function(){return i.getBusinessKey()}),m=g[0],y=g[1],C=Or.useState(function(){return i.getRowStyles()}),S=C[0],w=C[1],_=Or.useState(function(){return null}),x=_[0],E=_[1],R=Or.useState(),P=R[0],A=R[1],N=Or.useState(function(){return u?i.getInitialRowTop(o):void 0}),I=N[0],G=N[1],V=Or.useState(function(){return u?i.getInitialTransform(o):void 0}),H=V[0],j=V[1],B=Or.useRef(null),$=Or.useRef(),W=Or.useRef(!1),Y=Or.useState(0),Z=Y[0],se=Y[1];Or.useEffect(function(){var ne;if(!W.current&&P&&!(Z>10)){var xe=(ne=B.current)===null||ne===void 0?void 0:ne.firstChild;xe?(i.setupDetailRowAutoHeight(xe),W.current=!0):se(function(Pe){return Pe+1})}},[P,Z]);var X=Or.useRef();X.current||(X.current=new _We.CssClassManager(function(){return B.current}));var ie=Or.useCallback(function(ne){if(B.current=ne,!B.current){i.unsetComp(o);return}if(i.isAlive()){var xe={setTop:G,setTransform:j,addOrRemoveCssClass:function(Pe,ze){return X.current.addOrRemoveCssClass(Pe,ze)},setDomOrder:function(Pe){return s.current=Pe},setRowIndex:p,setRowId:v,setRowBusinessKey:y,setUserStyles:w,setCellCtrls:function(Pe,ze){OL.agFlushSync(ze,function(){E(function(ht){return OL.getNextValueIfDifferent(ht,Pe,s.current)})})},showFullWidth:function(Pe){return A(Pe)},getFullWidthCellRenderer:function(){return $.current},refreshFullWidth:function(Pe){return _e.current?(A(function(ze){return Yg(Yg({},ze),{params:Pe()})}),!0):!$.current||!$.current.refresh?!1:$.current.refresh(Pe())}};i.setComp(xe,B.current,o)}},[]);Or.useLayoutEffect(function(){return xWe.showJsComp(P,e,B.current,$)},[P]);var z=Or.useMemo(function(){var ne={top:I,transform:H};return Object.assign(ne,S),ne},[I,H,S]),Q=l&&P&&P.componentFromFramework,ue=!l&&x!=null,pe=Or.useMemo(function(){var ne=(P==null?void 0:P.componentFromFramework)&&OL.isComponentStateless(P.componentClass);return!!ne},[P]),_e=Or.useRef(!1);Or.useEffect(function(){_e.current=pe&&!!P&&!!r.get("reactiveCustomComponents")},[pe,P]);var oe=function(){return x==null?void 0:x.map(function(ne){return Or.default.createElement(EWe.default,{cellCtrl:ne,editingRow:i.isEditing(),printLayout:i.isPrintLayout(),key:ne.getInstanceId()})})},we=function(){var ne=P.componentClass;return Or.default.createElement(Or.default.Fragment,null,pe&&Or.default.createElement(ne,Yg({},P.params)),!pe&&Or.default.createElement(ne,Yg({},P.params,{ref:$})))};return Or.default.createElement("div",{ref:ie,role:"row",style:z,"row-index":d,"row-id":f,"row-business-key":m,tabIndex:a},ue&&oe(),Q&&we())};lj.default=Or.memo(OWe);var RWe=ee&&ee.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),TWe=ee&&ee.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),PWe=ee&&ee.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&RWe(t,n,e);return TWe(t,n),t},Oee=ee&&ee.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(sj,"__esModule",{value:!0});var kh=yi,yn=PWe(T),Sb=en,DWe=Oee(D_),AWe=Oee(lj),MWe=Ti,LWe=function(n){var t=yn.useContext(MWe.BeansContext).context,e=n.name,r=yn.useMemo(function(){return kh.getRowContainerTypeForName(e)},[e]),i=yn.useRef(null),o=yn.useRef(null),a=yn.useRef([]),s=yn.useState(function(){return[]}),l=s[0],u=s[1],c=yn.useRef(!1),d=yn.useRef(),p=yn.useMemo(function(){return kh.RowContainerCtrl.getRowContainerCssClasses(e)},[e]),h=yn.useMemo(function(){return Sb.classesList(p.viewport)},[p]),f=yn.useMemo(function(){return Sb.classesList(p.container)},[p]),v=e===kh.RowContainerName.CENTER||e===kh.RowContainerName.TOP_CENTER||e===kh.RowContainerName.BOTTOM_CENTER||e===kh.RowContainerName.STICKY_TOP_CENTER,g=v?i:o;DWe.default(" AG Row Container "+e+" ",g);var m=yn.useCallback(function(){return v?i.current!=null&&o.current!=null:o.current!=null},[]),y=yn.useCallback(function(){return v?i.current==null&&o.current==null:o.current==null},[]),C=yn.useCallback(function(){if(y()&&(t.destroyBean(d.current),d.current=null),m()){var x=function(R){Sb.agFlushSync(R,function(){u(function(P){return Sb.getNextValueIfDifferent(P,a.current,c.current)})})},E={setViewportHeight:function(R){i.current&&(i.current.style.height=R)},setRowCtrls:function(R){var P=R.rowCtrls,A=R.useFlushSync,N=!!A&&a.current.length>0&&P.length>0;a.current=P,x(N)},setDomOrder:function(R){c.current!=R&&(c.current=R,x(!1))},setContainerWidth:function(R){o.current&&(o.current.style.width=R)}};d.current=t.createBean(new kh.RowContainerCtrl(e)),d.current.setComp(E,o.current,i.current)}},[m,y]),S=yn.useCallback(function(x){o.current=x,C()},[C]),w=yn.useCallback(function(x){i.current=x,C()},[C]),_=function(){return yn.default.createElement("div",{className:f,ref:S,role:"rowgroup"},l.map(function(x){return yn.default.createElement(AWe.default,{rowCtrl:x,containerType:r,key:x.getInstanceId()})}))};return yn.default.createElement(yn.default.Fragment,null,v?yn.default.createElement("div",{className:h,ref:w,role:"presentation"},_()):_())};sj.default=yn.memo(LWe);var FWe=ee&&ee.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),IWe=ee&&ee.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),NWe=ee&&ee.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&FWe(t,n,e);return IWe(t,n),t},dj=ee&&ee.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(JB,"__esModule",{value:!0});var zn=yi,Vt=NWe(T),kWe=Ti,GWe=dj(ej),$C=dj(D_),VWe=dj(sj),tg=en,BWe=function(){var n=Vt.useContext(kWe.BeansContext),t=n.context,e=n.agStackComponentsRegistry,r=n.resizeObserverService,i=Vt.useState(""),o=i[0],a=i[1],s=Vt.useState(0),l=s[0],u=s[1],c=Vt.useState(0),d=c[0],p=c[1],h=Vt.useState("0px"),f=h[0],v=h[1],g=Vt.useState("0px"),m=g[0],y=g[1],C=Vt.useState("100%"),S=C[0],w=C[1],_=Vt.useState(""),x=_[0],E=_[1],R=Vt.useState(""),P=R[0],A=R[1],N=Vt.useState(null),I=N[0],G=N[1],V=Vt.useState(""),H=V[0],j=V[1],B=Vt.useState(null),$=B[0],W=B[1],Y=Vt.useState("ag-layout-normal"),Z=Y[0],se=Y[1],X=Vt.useRef();X.current||(X.current=new zn.CssClassManager(function(){return ie.current}));var ie=Vt.useRef(null),z=Vt.useRef(null),Q=Vt.useRef(null),ue=Vt.useRef(null),pe=Vt.useRef(null),_e=Vt.useRef(null),oe=Vt.useRef([]),we=Vt.useRef([]);$C.default(" AG Grid Body ",ie),$C.default(" AG Pinned Top ",z),$C.default(" AG Sticky Top ",Q),$C.default(" AG Middle ",pe),$C.default(" AG Pinned Bottom ",_e);var ne=Vt.useCallback(function(rt){if(ie.current=rt,!ie.current){t.destroyBeans(oe.current),we.current.forEach(function(dt){return dt()}),oe.current=[],we.current=[];return}if(t){var mt=function(dt){var ur=e.getComponentClass(dt),Ir=t.createBean(new ur);return oe.current.push(Ir),Ir},ft=function(dt,ur){dt.appendChild(ur),we.current.push(function(){return dt.removeChild(ur)})};ft(ie.current,document.createComment(" AG Fake Horizontal Scroll ")),ft(ie.current,mt("AG-FAKE-HORIZONTAL-SCROLL").getGui()),ft(ie.current,document.createComment(" AG Overlay Wrapper ")),ft(ie.current,mt("AG-OVERLAY-WRAPPER").getGui()),ue.current&&(ft(ue.current,document.createComment(" AG Fake Vertical Scroll ")),ft(ue.current,mt("AG-FAKE-VERTICAL-SCROLL").getGui()));var yt={setRowAnimationCssOnBodyViewport:a,setColumnCount:function(dt){ie.current&&zn._.setAriaColCount(ie.current,dt)},setRowCount:function(dt){ie.current&&zn._.setAriaRowCount(ie.current,dt)},setTopHeight:u,setBottomHeight:p,setStickyTopHeight:v,setStickyTopTop:y,setStickyTopWidth:w,setTopDisplay:E,setBottomDisplay:A,setColumnMovingCss:function(dt,ur){return X.current.addOrRemoveCssClass(dt,ur)},updateLayoutClasses:se,setAlwaysVerticalScrollClass:G,setPinnedTopBottomOverflowY:j,setCellSelectableCss:function(dt,ur){return W(ur?dt:null)},setBodyViewportWidth:function(dt){pe.current&&(pe.current.style.width=dt)},registerBodyViewportResizeListener:function(dt){if(pe.current){var ur=r.observeResize(pe.current,dt);we.current.push(function(){return ur()})}}},We=t.createBean(new zn.GridBodyCtrl);oe.current.push(We),We.setComp(yt,ie.current,pe.current,z.current,_e.current,Q.current)}},[]),xe=Vt.useMemo(function(){return tg.classesList("ag-root","ag-unselectable",Z)},[Z]),Pe=Vt.useMemo(function(){return tg.classesList("ag-body-viewport",o,Z,I,$)},[o,Z,I,$]),ze=Vt.useMemo(function(){return tg.classesList("ag-body",Z)},[Z]),ht=Vt.useMemo(function(){return tg.classesList("ag-floating-top",$)},[$]),Ae=Vt.useMemo(function(){return tg.classesList("ag-sticky-top",$)},[$]),Ke=Vt.useMemo(function(){return tg.classesList("ag-floating-bottom",$)},[$]),he=Vt.useMemo(function(){return{height:l,minHeight:l,display:x,overflowY:H}},[l,x,H]),Ee=Vt.useMemo(function(){return{height:f,top:m,width:S}},[f,m,S]),Be=Vt.useMemo(function(){return{height:d,minHeight:d,display:P,overflowY:H}},[d,P,H]),tt=function(rt){return Vt.default.createElement(VWe.default,{name:rt,key:rt+"-container"})},Ie=function(rt){var mt=rt.section,ft=rt.children,yt=rt.className,We=rt.style;return Vt.default.createElement("div",{ref:mt,className:yt,role:"presentation",style:We},ft.map(tt))};return Vt.default.createElement("div",{ref:ne,className:xe,role:"treegrid"},Vt.default.createElement(GWe.default,null),Ie({section:z,className:ht,style:he,children:[zn.RowContainerName.TOP_LEFT,zn.RowContainerName.TOP_CENTER,zn.RowContainerName.TOP_RIGHT,zn.RowContainerName.TOP_FULL_WIDTH]}),Vt.default.createElement("div",{className:ze,ref:ue,role:"presentation"},Ie({section:pe,className:Pe,children:[zn.RowContainerName.LEFT,zn.RowContainerName.CENTER,zn.RowContainerName.RIGHT,zn.RowContainerName.FULL_WIDTH]})),Ie({section:Q,className:Ae,style:Ee,children:[zn.RowContainerName.STICKY_TOP_LEFT,zn.RowContainerName.STICKY_TOP_CENTER,zn.RowContainerName.STICKY_TOP_RIGHT,zn.RowContainerName.STICKY_TOP_FULL_WIDTH]}),Ie({section:_e,className:Ke,style:Be,children:[zn.RowContainerName.BOTTOM_LEFT,zn.RowContainerName.BOTTOM_CENTER,zn.RowContainerName.BOTTOM_RIGHT,zn.RowContainerName.BOTTOM_FULL_WIDTH]}))};JB.default=Vt.memo(BWe);var pj={},jWe=ee&&ee.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),HWe=ee&&ee.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),$We=ee&&ee.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&jWe(t,n,e);return HWe(t,n),t};Object.defineProperty(pj,"__esModule",{value:!0});var Ga=$We(T),wb=yi,WWe=Ti,UWe=function(n,t){var e=n.children,r=n.eFocusableElement,i=n.onTabKeyDown,o=n.gridCtrl,a=n.forceFocusOutWhenTabGuardsAreEmpty,s=Ga.useContext(WWe.BeansContext).context,l=Ga.useRef(null),u=Ga.useRef(null),c=Ga.useRef(),d=function(g){var m=g==null?void 0:parseInt(g,10).toString();[l,u].forEach(function(y){var C,S;m===void 0?(C=y.current)===null||C===void 0||C.removeAttribute("tabindex"):(S=y.current)===null||S===void 0||S.setAttribute("tabindex",m)})};Ga.useImperativeHandle(t,function(){return{forceFocusOutOfContainer:function(g){var m;(m=c.current)===null||m===void 0||m.forceFocusOutOfContainer(g)}}});var p=Ga.useCallback(function(){if(!l.current&&!u.current){s.destroyBean(c.current),c.current=null;return}if(l.current&&u.current){var g={setTabIndex:d};c.current=s.createBean(new wb.TabGuardCtrl({comp:g,eTopGuard:l.current,eBottomGuard:u.current,eFocusableElement:r,onTabKeyDown:i,forceFocusOutWhenTabGuardsAreEmpty:a,focusInnerElement:function(m){return o.focusInnerElement(m)}}))}},[]),h=Ga.useCallback(function(g){l.current=g,p()},[p]),f=Ga.useCallback(function(g){u.current=g,p()},[p]),v=function(g){var m=g==="top"?wb.TabGuardClassNames.TAB_GUARD_TOP:wb.TabGuardClassNames.TAB_GUARD_BOTTOM;return Ga.default.createElement("div",{className:wb.TabGuardClassNames.TAB_GUARD+" "+m,role:"presentation",ref:g==="top"?h:f})};return Ga.default.createElement(Ga.default.Fragment,null,v("top"),e,v("bottom"))},zWe=Ga.forwardRef(UWe);pj.default=Ga.memo(zWe);var KWe=ee&&ee.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),YWe=ee&&ee.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),qWe=ee&&ee.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&KWe(t,n,e);return YWe(t,n),t},hj=ee&&ee.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(QB,"__esModule",{value:!0});var XWe=yi,$r=qWe(T),ZWe=Ti,QWe=hj(JB),JWe=hj(D_),e3e=hj(pj),o4=en,t3e=function(n){var t=n.context,e=$r.useState(""),r=e[0],i=e[1],o=$r.useState(""),a=o[0];o[1];var s=$r.useState(""),l=s[0],u=s[1],c=$r.useState(null),d=c[0],p=c[1],h=$r.useState(null),f=h[0],v=h[1],g=$r.useState(!1),m=g[0],y=g[1],C=$r.useState(),S=C[0],w=C[1],_=$r.useRef(null),x=$r.useRef(null),E=$r.useRef(),R=$r.useState(null),P=R[0],A=R[1],N=$r.useRef(function(){}),I=$r.useCallback(function(){},[]),G=$r.useMemo(function(){return t.isDestroyed()?null:t.getBean("beans")},[t]);JWe.default(" AG Grid ",x);var V=$r.useCallback(function(W){if(x.current=W,!x.current){t.destroyBean(_.current),_.current=null;return}if(!t.isDestroyed()){_.current=t.createBean(new XWe.GridCtrl);var Y=_.current;N.current=Y.focusInnerElement.bind(Y);var Z={destroyGridUi:function(){},setRtlClass:i,forceFocusOutOfContainer:function(se){var X;(X=E.current)===null||X===void 0||X.forceFocusOutOfContainer(se)},updateLayoutClasses:u,getFocusableContainers:function(){var se,X,ie=[],z=(se=x.current)===null||se===void 0?void 0:se.querySelector(".ag-root"),Q=(X=x.current)===null||X===void 0?void 0:X.querySelector(".ag-side-bar:not(.ag-hidden)");return z&&ie.push(z),Q&&ie.push(Q),ie},setCursor:p,setUserSelect:v};Y.setComp(Z,x.current,x.current),y(!0)}},[]);$r.useEffect(function(){if(!(!S||!G||!_.current||!P||!x.current)){var W=_.current,Y=[],Z=G.agStackComponentsRegistry,se=Z.getComponentClass("AG-GRID-HEADER-DROP-ZONES"),X=Z.getComponentClass("AG-SIDE-BAR"),ie=Z.getComponentClass("AG-STATUS-BAR"),z=Z.getComponentClass("AG-WATERMARK"),Q=Z.getComponentClass("AG-PAGINATION"),ue=[],pe=x.current;if(W.showDropZones()&&se){var _e=t.createBean(new se),oe=_e.getGui();pe.insertAdjacentElement("afterbegin",oe),ue.push(oe),Y.push(_e)}if(W.showSideBar()&&X){var we=t.createBean(new X),oe=we.getGui(),ne=P.querySelector(".ag-tab-guard-bottom");ne&&(ne.insertAdjacentElement("beforebegin",oe),ue.push(oe)),Y.push(we)}if(W.showStatusBar()&&ie){var xe=t.createBean(new ie),oe=xe.getGui();pe.insertAdjacentElement("beforeend",oe),ue.push(oe),Y.push(xe)}if(Q){var Pe=t.createBean(new Q),oe=Pe.getGui();pe.insertAdjacentElement("beforeend",oe),ue.push(oe),Y.push(Pe)}if(W.showWatermark()&&z){var ze=t.createBean(new z),oe=ze.getGui();pe.insertAdjacentElement("beforeend",oe),ue.push(oe),Y.push(ze)}return function(){t.destroyBeans(Y),ue.forEach(function(ht){ht.parentElement&&ht.parentElement.removeChild(ht)})}}},[S,P,G]);var H=$r.useMemo(function(){return o4.classesList("ag-root-wrapper",r,a,l)},[r,a,l]),j=$r.useMemo(function(){return o4.classesList("ag-root-wrapper-body","ag-focus-managed",l)},[l]),B=$r.useMemo(function(){return{userSelect:f??"",WebkitUserSelect:f??"",cursor:d??""}},[f,d]),$=$r.useCallback(function(W){E.current=W,w(W!==null)},[]);return $r.default.createElement("div",{ref:V,className:H,style:B,role:"presentation"},$r.default.createElement("div",{className:j,ref:A,role:"presentation"},m&&P&&G&&$r.default.createElement(ZWe.BeansContext.Provider,{value:G},$r.default.createElement(e3e.default,{ref:$,eFocusableElement:P,onTabKeyDown:I,gridCtrl:_.current,forceFocusOutWhenTabGuardsAreEmpty:!0},$r.default.createElement(QWe.default,null)))))};QB.default=$r.memo(t3e);(function(n){var t=ee&&ee.__extends||function(){var I=function(G,V){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,j){H.__proto__=j}||function(H,j){for(var B in j)Object.prototype.hasOwnProperty.call(j,B)&&(H[B]=j[B])},I(G,V)};return function(G,V){if(typeof V!="function"&&V!==null)throw new TypeError("Class extends value "+String(V)+" is not a constructor or null");I(G,V);function H(){this.constructor=G}G.prototype=V===null?Object.create(V):(H.prototype=V.prototype,new H)}}(),e=ee&&ee.__assign||function(){return e=Object.assign||function(I){for(var G,V=1,H=arguments.length;V<H;V++){G=arguments[V];for(var j in G)Object.prototype.hasOwnProperty.call(G,j)&&(I[j]=G[j])}return I},e.apply(this,arguments)},r=ee&&ee.__createBinding||(Object.create?function(I,G,V,H){H===void 0&&(H=V),Object.defineProperty(I,H,{enumerable:!0,get:function(){return G[V]}})}:function(I,G,V,H){H===void 0&&(H=V),I[H]=G[V]}),i=ee&&ee.__setModuleDefault||(Object.create?function(I,G){Object.defineProperty(I,"default",{enumerable:!0,value:G})}:function(I,G){I.default=G}),o=ee&&ee.__importStar||function(I){if(I&&I.__esModule)return I;var G={};if(I!=null)for(var V in I)V!=="default"&&Object.prototype.hasOwnProperty.call(I,V)&&r(G,I,V);return i(G,I),G},a=ee&&ee.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(n,"__esModule",{value:!0}),n.AgGridReactUi=void 0;var s=yi,l=o(T),u=mD,c=bD,d=ED,p=OD,h=RD,f=TD,v=PD,g=DD,m=P_,y=AD,C=Ti,S=en,w=a(ZB),_=a(QB),x=ld,E=function(I){var G,V,H=l.useRef(),j=l.useRef(null),B=l.useRef(null),$=l.useRef([]),W=l.useRef([]),Y=l.useRef(I),Z=l.useRef(!1),se=l.useState(void 0),X=se[0],ie=se[1],z=l.useState(0),Q=z[1],ue=l.useCallback(function(oe){if(j.current=oe,!j.current){$.current.forEach(function(Ae){return Ae()}),$.current.length=0;return}var we=I.modules||[];B.current||(B.current=new y.PortalManager(function(){return Q(function(Ae){return Ae+1})},I.componentWrappingElement,I.maxComponentCreationTimeMs),$.current.push(function(){var Ae;(Ae=B.current)===null||Ae===void 0||Ae.destroy(),B.current=null}));var ne=s.ComponentUtil.combineAttributesAndGridOptions(I.gridOptions,I),xe={providedBeanInstances:{frameworkComponentWrapper:new P(B.current,!!ne.reactiveCustomComponents)},modules:we,frameworkOverrides:new N},Pe=function(Ae){ie(Ae),$.current.push(function(){Ae.destroy()});var Ke=Ae.getBean(s.CtrlsService.NAME);Ke.whenReady(function(){if(!Ae.isDestroyed()){var he=H.current;he&&I.setGridApi&&I.setGridApi(he,new s.ColumnApi(he))}})},ze=function(Ae){var Ke=Ae.getBean(s.CtrlsService.NAME);Ke.whenReady(function(){W.current.forEach(function(he){return he()}),W.current.length=0,Z.current=!0})},ht=new s.GridCoreCreator;H.current=ht.create(j.current,ne,Pe,ze,xe)},[]),pe=l.useMemo(function(){return e({height:"100%"},I.containerStyle||{})},[I.containerStyle]),_e=l.useCallback(function(oe){Z.current?oe():W.current.push(oe)},[]);return l.useEffect(function(){var oe=R(Y.current,I);Y.current=I,_e(function(){H.current&&s.ComponentUtil.processOnChange(oe,H.current)})},[I]),l.default.createElement("div",{style:pe,className:I.className,ref:ue},X&&!X.isDestroyed()?l.default.createElement(_.default,{context:X}):null,(V=(G=B.current)===null||G===void 0?void 0:G.getPortals())!==null&&V!==void 0?V:null)};n.AgGridReactUi=E;function R(I,G){var V={};return Object.keys(G).forEach(function(H){var j=G[H];I[H]!==j&&(V[H]=j)}),V}var P=function(I){t(G,I);function G(V,H){var j=I.call(this)||this;return j.parent=V,j.reactiveCustomComponents=H,j}return G.prototype.createWrapper=function(V,H){if(this.reactiveCustomComponents){var j=function(W){switch(W){case"filter":return c.FilterComponentWrapper;case"floatingFilterComponent":return d.FloatingFilterComponentWrapper;case"dateComponent":return u.DateComponentWrapper;case"loadingOverlayComponent":return p.LoadingOverlayComponentWrapper;case"noRowsOverlayComponent":return f.NoRowsOverlayComponentWrapper;case"statusPanel":return v.StatusPanelComponentWrapper;case"toolPanel":return g.ToolPanelComponentWrapper;case"menuItem":return h.MenuItemComponentWrapper}},B=j(H.propertyName);if(B)return new B(V,this.parent,H)}else switch(H.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":x.warnReactiveCustomComponents();break}var $=!H.cellRenderer&&H.propertyName!=="toolPanel";return new m.ReactComponent(V,this.parent,H,$)},G}(s.BaseComponentWrapper),A=l.forwardRef(function(I,G){var V=l.useContext(C.BeansContext),H=V.ctrlsFactory,j=V.context,B=V.gridOptionsService,$=V.resizeObserverService,W=V.clientSideRowModel,Y=V.serverSideRowModel,Z=l.useState(function(){return new S.CssClasses}),se=Z[0],X=Z[1],ie=l.useState(function(){return new S.CssClasses}),z=ie[0],Q=ie[1],ue=l.useState(),pe=ue[0],_e=ue[1],oe=l.useState(),we=oe[0],ne=oe[1],xe=l.useRef(),Pe=l.useRef(null),ze=l.useRef(),ht=l.useMemo(function(){return s.ModuleRegistry.__getGridRegisteredModules(I.api.getGridId())},[I]),Ae=l.useMemo(function(){return se.toString()+" ag-details-row"},[se]),Ke=l.useMemo(function(){return z.toString()+" ag-details-grid"},[z]);G&&l.useImperativeHandle(G,function(){return{refresh:function(){var Be,tt;return(tt=(Be=xe.current)===null||Be===void 0?void 0:Be.refresh())!==null&&tt!==void 0?tt:!1}}}),I.template&&s._.warnOnce("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");var he=l.useCallback(function(Be){if(Pe.current=Be,!Pe.current){j.destroyBean(xe.current),ze.current&&ze.current();return}var tt={addOrRemoveCssClass:function(mt,ft){return X(function(yt){return yt.setClass(mt,ft)})},addOrRemoveDetailGridCssClass:function(mt,ft){return Q(function(yt){return yt.setClass(mt,ft)})},setDetailGrid:function(mt){return _e(mt)},setRowData:function(mt){return ne(mt)},getGui:function(){return Pe.current}},Ie=H.getInstance("detailCellRenderer");if(Ie&&(j.createBean(Ie),Ie.init(tt,I),xe.current=Ie,B.get("detailRowAutoHeight"))){var rt=function(){if(Pe.current!=null){var mt=Pe.current.clientHeight;if(mt!=null&&mt>0){var ft=function(){I.node.setRowHeight(mt),W?W.onRowHeightChanged():Y&&Y.onRowHeightChanged()};setTimeout(ft,0)}}};ze.current=$.observeResize(Pe.current,rt),rt()}},[]),Ee=l.useCallback(function(Be,tt){var Ie;(Ie=xe.current)===null||Ie===void 0||Ie.registerDetailWithMaster(Be,tt)},[]);return l.default.createElement("div",{className:Ae,ref:he},pe&&l.default.createElement(n.AgGridReactUi,e({className:Ke},pe,{modules:ht,rowData:we,setGridApi:Ee})))}),N=function(I){t(G,I);function G(){var V=I.call(this,"react")||this;return V.frameworkComponents={agGroupCellRenderer:w.default,agGroupRowRenderer:w.default,agDetailCellRenderer:A},V.wrapIncoming=function(H,j){return j==="ensureVisible"?S.runWithoutFlushSync(H):H()},V.renderingEngine="react",V}return G.prototype.frameworkComponent=function(V){return this.frameworkComponents[V]},G.prototype.isFrameworkComponent=function(V){if(!V)return!1;var H=V.prototype,j=H&&"getGui"in H;return!j},G}(s.VanillaFrameworkOverrides)})(EX);var r3e=ee&&ee.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),G1=ee&&ee.__assign||function(){return G1=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},G1.apply(this,arguments)},n3e=ee&&ee.__createBinding||(Object.create?function(n,t,e,r){r===void 0&&(r=e),Object.defineProperty(n,r,{enumerable:!0,get:function(){return t[e]}})}:function(n,t,e,r){r===void 0&&(r=e),n[r]=t[e]}),i3e=ee&&ee.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),o3e=ee&&ee.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var e in n)e!=="default"&&Object.prototype.hasOwnProperty.call(n,e)&&n3e(t,n,e);return i3e(t,n),t};Object.defineProperty(JP,"__esModule",{value:!0});JP.AgGridReact=void 0;var a4=o3e(T),a3e=EX,s3e=function(n){r3e(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.apiListeners=[],e.setGridApi=function(r,i){e.api=r,e.columnApi=i,e.apiListeners.forEach(function(o){return o(r)})},e}return t.prototype.registerApiListener=function(e){this.apiListeners.push(e)},t.prototype.componentWillUnmount=function(){this.apiListeners.length=0},t.prototype.render=function(){return a4.default.createElement(a3e.AgGridReactUi,G1({},this.props,{setGridApi:this.setGridApi}))},t}(a4.Component);JP.AgGridReact=s3e;var Ree={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.ChangeDetectionStrategyType=void 0,function(t){t.IdentityCheck="IdentityCheck",t.DeepValueCheck="DeepValueCheck",t.NoCheck="NoCheck"}(n.ChangeDetectionStrategyType||(n.ChangeDetectionStrategyType={}))})(Ree);var As={};Object.defineProperty(As,"__esModule",{value:!0});As.useGridMenuItem=As.useGridFloatingFilter=As.useGridFilter=As.useGridDate=As.useGridCellEditor=void 0;var l3e=T,u3e=Ov;function A_(n){var t=l3e.useContext(u3e.CustomContext).setMethods;t(n)}function c3e(n){A_(n)}As.useGridCellEditor=c3e;function d3e(n){return A_(n)}As.useGridDate=d3e;function p3e(n){return A_(n)}As.useGridFilter=p3e;function h3e(n){A_(n)}As.useGridFloatingFilter=h3e;function f3e(n){A_(n)}As.useGridMenuItem=f3e;(function(n){var t=ee&&ee.__createBinding||(Object.create?function(i,o,a,s){s===void 0&&(s=a),Object.defineProperty(i,s,{enumerable:!0,get:function(){return o[a]}})}:function(i,o,a,s){s===void 0&&(s=a),i[s]=o[a]}),e=ee&&ee.__exportStar||function(i,o){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&t(o,i,a)};Object.defineProperty(n,"__esModule",{value:!0}),n.AgGridReact=void 0;var r=JP;Object.defineProperty(n,"AgGridReact",{enumerable:!0,get:function(){return r.AgGridReact}}),e(Ree,n),e(As,n),e(ld,n)})(QP);/**
          * @ag-grid-enterprise/all-modules - Advanced Data Grid / Data Table supporting Javascript / Typescript / React / Angular / Vue * @version v31.1.1
          * @link https://www.ag-grid.com/
          * @license Commercial
          */var v3e=function(){function n(){this.ieCompatibility=!1}return n.prototype.init=function(){this.ieCompatibility=this.md5("hello")!="5d41402abc4b2a76b9719d911017c592"},n.prototype.md5cycle=function(t,e){var r=t[0],i=t[1],o=t[2],a=t[3];r=this.ff(r,i,o,a,e[0],7,-680876936),a=this.ff(a,r,i,o,e[1],12,-389564586),o=this.ff(o,a,r,i,e[2],17,606105819),i=this.ff(i,o,a,r,e[3],22,-1044525330),r=this.ff(r,i,o,a,e[4],7,-176418897),a=this.ff(a,r,i,o,e[5],12,1200080426),o=this.ff(o,a,r,i,e[6],17,-1473231341),i=this.ff(i,o,a,r,e[7],22,-45705983),r=this.ff(r,i,o,a,e[8],7,1770035416),a=this.ff(a,r,i,o,e[9],12,-1958414417),o=this.ff(o,a,r,i,e[10],17,-42063),i=this.ff(i,o,a,r,e[11],22,-1990404162),r=this.ff(r,i,o,a,e[12],7,1804603682),a=this.ff(a,r,i,o,e[13],12,-40341101),o=this.ff(o,a,r,i,e[14],17,-1502002290),i=this.ff(i,o,a,r,e[15],22,1236535329),r=this.gg(r,i,o,a,e[1],5,-165796510),a=this.gg(a,r,i,o,e[6],9,-1069501632),o=this.gg(o,a,r,i,e[11],14,643717713),i=this.gg(i,o,a,r,e[0],20,-373897302),r=this.gg(r,i,o,a,e[5],5,-701558691),a=this.gg(a,r,i,o,e[10],9,38016083),o=this.gg(o,a,r,i,e[15],14,-660478335),i=this.gg(i,o,a,r,e[4],20,-405537848),r=this.gg(r,i,o,a,e[9],5,568446438),a=this.gg(a,r,i,o,e[14],9,-1019803690),o=this.gg(o,a,r,i,e[3],14,-187363961),i=this.gg(i,o,a,r,e[8],20,1163531501),r=this.gg(r,i,o,a,e[13],5,-1444681467),a=this.gg(a,r,i,o,e[2],9,-51403784),o=this.gg(o,a,r,i,e[7],14,1735328473),i=this.gg(i,o,a,r,e[12],20,-1926607734),r=this.hh(r,i,o,a,e[5],4,-378558),a=this.hh(a,r,i,o,e[8],11,-2022574463),o=this.hh(o,a,r,i,e[11],16,1839030562),i=this.hh(i,o,a,r,e[14],23,-35309556),r=this.hh(r,i,o,a,e[1],4,-1530992060),a=this.hh(a,r,i,o,e[4],11,1272893353),o=this.hh(o,a,r,i,e[7],16,-155497632),i=this.hh(i,o,a,r,e[10],23,-1094730640),r=this.hh(r,i,o,a,e[13],4,681279174),a=this.hh(a,r,i,o,e[0],11,-358537222),o=this.hh(o,a,r,i,e[3],16,-722521979),i=this.hh(i,o,a,r,e[6],23,76029189),r=this.hh(r,i,o,a,e[9],4,-640364487),a=this.hh(a,r,i,o,e[12],11,-421815835),o=this.hh(o,a,r,i,e[15],16,530742520),i=this.hh(i,o,a,r,e[2],23,-995338651),r=this.ii(r,i,o,a,e[0],6,-198630844),a=this.ii(a,r,i,o,e[7],10,1126891415),o=this.ii(o,a,r,i,e[14],15,-1416354905),i=this.ii(i,o,a,r,e[5],21,-57434055),r=this.ii(r,i,o,a,e[12],6,1700485571),a=this.ii(a,r,i,o,e[3],10,-1894986606),o=this.ii(o,a,r,i,e[10],15,-1051523),i=this.ii(i,o,a,r,e[1],21,-2054922799),r=this.ii(r,i,o,a,e[8],6,1873313359),a=this.ii(a,r,i,o,e[15],10,-30611744),o=this.ii(o,a,r,i,e[6],15,-1560198380),i=this.ii(i,o,a,r,e[13],21,1309151649),r=this.ii(r,i,o,a,e[4],6,-145523070),a=this.ii(a,r,i,o,e[11],10,-1120210379),o=this.ii(o,a,r,i,e[2],15,718787259),i=this.ii(i,o,a,r,e[9],21,-343485551),t[0]=this.add32(r,t[0]),t[1]=this.add32(i,t[1]),t[2]=this.add32(o,t[2]),t[3]=this.add32(a,t[3])},n.prototype.cmn=function(t,e,r,i,o,a){return e=this.add32(this.add32(e,t),this.add32(i,a)),this.add32(e<<o|e>>>32-o,r)},n.prototype.ff=function(t,e,r,i,o,a,s){return this.cmn(e&r|~e&i,t,e,o,a,s)},n.prototype.gg=function(t,e,r,i,o,a,s){return this.cmn(e&i|r&~i,t,e,o,a,s)},n.prototype.hh=function(t,e,r,i,o,a,s){return this.cmn(e^r^i,t,e,o,a,s)},n.prototype.ii=function(t,e,r,i,o,a,s){return this.cmn(r^(e|~i),t,e,o,a,s)},n.prototype.md51=function(t){var e=t.length,r=[1732584193,-271733879,-1732584194,271733878],i;for(i=64;i<=t.length;i+=64)this.md5cycle(r,this.md5blk(t.substring(i-64,i)));t=t.substring(i-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<t.length;i++)o[i>>2]|=t.charCodeAt(i)<<(i%4<<3);if(o[i>>2]|=128<<(i%4<<3),i>55)for(this.md5cycle(r,o),i=0;i<16;i++)o[i]=0;return o[14]=e*8,this.md5cycle(r,o),r},n.prototype.md5blk=function(t){for(var e=[],r=0;r<64;r+=4)e[r>>2]=t.charCodeAt(r)+(t.charCodeAt(r+1)<<8)+(t.charCodeAt(r+2)<<16)+(t.charCodeAt(r+3)<<24);return e},n.prototype.rhex=function(t){for(var e="0123456789abcdef".split(""),r="",i=0;i<4;i++)r+=e[t>>i*8+4&15]+e[t>>i*8&15];return r},n.prototype.hex=function(t){for(var e=0;e<t.length;e++)t[e]=this.rhex(t[e]);return t.join("")},n.prototype.md5=function(t){return this.hex(this.md51(t))},n.prototype.add32=function(t,e){return this.ieCompatibility?this.add32Compat(t,e):this.add32Std(t,e)},n.prototype.add32Std=function(t,e){return t+e&4294967295},n.prototype.add32Compat=function(t,e){var r=(t&65535)+(e&65535),i=(t>>16)+(e>>16)+(r>>16);return i<<16|r&65535},n}(),g3e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o};function RL(n){return n==null||n.length===0}var _b={"01":"GRID","02":"CHARTS","0102":"BOTH"},xb=function(){function n(t){this.watermarkMessage=void 0,this.totalMessageLength=124,this.document=t,this.md5=new v3e,this.md5.init()}return n.prototype.validateLicense=function(){var t=this.getLicenseDetails(n.licenseKey),e="AG Grid ".concat(t.currentLicenseType==="BOTH"?"and AG Charts ":"","Enterprise"),r=t.suppliedLicenseType===void 0?"":"AG ".concat(t.suppliedLicenseType==="BOTH"?"Grid and AG Charts":t.suppliedLicenseType==="GRID"?"Grid":"Charts"," Enterprise");if(t.missing)(!this.isWebsiteUrl()||this.isForceWatermark())&&this.outputMissingLicenseKey(e);else if(t.expired){var i=n.getGridReleaseDate(),o=n.formatDate(i);this.outputExpiredKey(t.expiry,o,e,r)}else t.valid?t.isTrial&&t.trialExpired&&this.outputExpiredTrialKey(t.expiry,e,r):this.outputInvalidLicenseKey(!!t.incorrectLicenseType,e,r)},n.extractExpiry=function(t){var e=t.substring(t.lastIndexOf("_")+1,t.length);return new Date(parseInt(n.decode(e),10))},n.extractLicenseComponents=function(t){var e=t.replace(/[\u200B-\u200D\uFEFF]/g,"");if(e=e.replace(/\r?\n|\r/g,""),t.length<=32)return{md5:null,license:t,version:null,isTrial:null};var r=e.length-32,i=e.substring(r),o=e.substring(0,r),a=g3e(n.extractBracketedInformation(e),3),s=a[0],l=a[1],u=a[2];return{md5:i,license:o,version:s,isTrial:l,type:u}},n.prototype.getLicenseDetails=function(t){var e=n.chartsLicenseManager?"BOTH":"GRID";if(RL(t))return{licenseKey:t,valid:!1,missing:!0,currentLicenseType:e};var r=n.getGridReleaseDate(),i=n.extractLicenseComponents(t),o=i.md5,a=i.license,s=i.version,l=i.isTrial,u=i.type,c=o===this.md5.md5(a)&&t.indexOf("For_Trialing_ag-Grid_Only")===-1,d=void 0,p=void 0,h=null,f=!1,v=void 0;function g(){var m=new Date;d=h<m,p=void 0}if(c&&(h=n.extractExpiry(a),c=!isNaN(h.getTime()),c))switch(p=r>h,s){case"legacy":case"2":{l&&g();break}case"3":RL(u)?c=!1:(v=u,u!==_b["01"]&&u!==_b["0102"]||e==="BOTH"&&v!=="BOTH"?(c=!1,f=!0):l&&g())}return c?{licenseKey:t,valid:c,expiry:n.formatDate(h),expired:p,version:s,isTrial:l,trialExpired:d,incorrectLicenseType:f,currentLicenseType:e,suppliedLicenseType:v}:{licenseKey:t,valid:c,incorrectLicenseType:f,currentLicenseType:e,suppliedLicenseType:v}},n.prototype.isDisplayWatermark=function(){return this.isForceWatermark()||!this.isLocalhost()&&!this.isWebsiteUrl()&&!RL(this.watermarkMessage)},n.prototype.getWatermarkMessage=function(){return this.watermarkMessage||""},n.prototype.getHostname=function(){var t=this.document.defaultView||window,e=t.location,r=e.hostname,i=r===void 0?"":r;return i},n.prototype.isForceWatermark=function(){var t=this.document.defaultView||window,e=t.location,r=e.pathname;return r?r.indexOf("forceWatermark")!==-1:!1},n.prototype.isWebsiteUrl=function(){var t=this.getHostname();return t.match(/^((?:\w+\.)?ag-grid\.com)$/)!==null},n.prototype.isLocalhost=function(){var t=this.getHostname();return t.match(/^(?:127\.0\.0\.1|localhost)$/)!==null},n.formatDate=function(t){var e=["January","February","March","April","May","June","July","August","September","October","November","December"],r=t.getDate(),i=t.getMonth(),o=t.getFullYear();return r+" "+e[i]+" "+o},n.getGridReleaseDate=function(){return new Date(parseInt(n.decode(n.RELEASE_INFORMATION),10))},n.decode=function(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="",i,o,a,s,l,u,c,d=0,p=t.replace(/[^A-Za-z0-9+/=]/g,"");d<p.length;)s=e.indexOf(p.charAt(d++)),l=e.indexOf(p.charAt(d++)),u=e.indexOf(p.charAt(d++)),c=e.indexOf(p.charAt(d++)),i=s<<2|l>>4,o=(l&15)<<4|u>>2,a=(u&3)<<6|c,r=r+String.fromCharCode(i),u!=64&&(r=r+String.fromCharCode(o)),c!=64&&(r=r+String.fromCharCode(a));return r=n.utf8_decode(r),r},n.utf8_decode=function(t){t=t.replace(/rn/g,"n");for(var e="",r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e+=String.fromCharCode(i):i>127&&i<2048?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(i&63|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(i&63|128))}return e},n.setChartsLicenseManager=function(t){this.chartsLicenseManager=t},n.setLicenseKey=function(t){this.licenseKey=t,this.chartsLicenseManager&&this.chartsLicenseManager.setLicenseKey(t,!0)},n.extractBracketedInformation=function(t){if(!t.includes("["))return["legacy",!1,void 0];var e=t.match(/\[(.*?)\]/g).map(function(s){return s.replace("[","").replace("]","")});if(!e||e.length===0)return["legacy",!1,void 0];var r=e.filter(function(s){return s==="TRIAL"}).length===1,i=e.filter(function(s){return s.indexOf("v")===0})[0],o=i?i.replace("v",""):"legacy",a=_b[e.filter(function(s){return _b[s]})[0]];return[o,r,a]},n.prototype.centerPadAndOutput=function(t){var e=this.totalMessageLength-t.length;console.error(t.padStart(e/2+t.length,"*").padEnd(this.totalMessageLength,"*"))},n.prototype.padAndOutput=function(t,e,r){e===void 0&&(e="*"),r===void 0&&(r=""),console.error(t.padEnd(this.totalMessageLength-r.length,e)+r)},n.prototype.outputInvalidLicenseKey=function(t,e,r){t?(this.centerPadAndOutput(""),this.centerPadAndOutput(" ".concat(e," License ")),this.centerPadAndOutput(" Incompatible License Key "),this.padAndOutput("* Your license key is for ".concat(r," only and does not cover you for ").concat(e,".")," ","*"),this.padAndOutput("* Please contact info@ag-grid.com to obtain a combined license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")):(this.centerPadAndOutput(""),this.centerPadAndOutput(" ".concat(e," License ")),this.centerPadAndOutput(" Invalid License Key "),this.padAndOutput("* Your license key is not valid - please contact info@ag-grid.com to obtain a valid license."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")),this.watermarkMessage="Invalid License"},n.prototype.outputExpiredTrialKey=function(t,e,r){this.centerPadAndOutput(""),this.centerPadAndOutput(" ".concat(e," License ")),this.centerPadAndOutput(" Trial Period Expired. "),this.padAndOutput("* Your trial only license for ".concat(r," expired on ").concat(t,".")," ","*"),this.padAndOutput("* Please email info@ag-grid.com to purchase a license."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="Trial Period Expired"},n.prototype.outputMissingLicenseKey=function(t){this.centerPadAndOutput(""),this.centerPadAndOutput(" ".concat(t," License ")),this.centerPadAndOutput(" License Key Not Found "),this.padAndOutput("* All ".concat(t," features are unlocked for trial.")," ","*"),this.padAndOutput("* If you want to hide the watermark please email info@ag-grid.com for a trial license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="For Trial Use Only"},n.prototype.outputExpiredKey=function(t,e,r,i){this.centerPadAndOutput(""),this.centerPadAndOutput(" ".concat(r," License ")),this.centerPadAndOutput(" Incompatible Software Version "),this.padAndOutput("* Your license key works with versions of ".concat(i," released before ").concat(t,".")," ","*"),this.padAndOutput("* The version you are trying to use was released on ".concat(e,".")," ","*"),this.padAndOutput("* Please contact info@ag-grid.com to renew your license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="License Expired"},n.RELEASE_INFORMATION="MTcwODI3NzkwNjI5Nw==",n}(),m3e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),s4=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},FD=function(n){m3e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.validateLicense=function(){this.licenseManager=new xb(this.gridOptionsService.getDocument()),this.licenseManager.validateLicense()},t.getLicenseDetails=function(e){return new xb(null).getLicenseDetails(e)},t.prototype.isDisplayWatermark=function(){return this.licenseManager.isDisplayWatermark()},t.prototype.getWatermarkMessage=function(){return this.licenseManager.getWatermarkMessage()},t.setLicenseKey=function(e){xb.setLicenseKey(e)},t.setChartsLicenseManager=function(e){xb.setChartsLicenseManager(e)},s4([uv],t.prototype,"validateLicense",null),t=s4([me("licenseManager")],t),t}(re),y3e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),TL=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},C3e=function(n){y3e(t,n);function t(){return n.call(this,`<div class="ag-watermark">
                <div ref="eLicenseTextRef" class="ag-watermark-text"></div>
            </div>`)||this}return t.prototype.postConstruct=function(){var e=this,r=this.shouldDisplayWatermark();this.setDisplayed(r),r&&(this.eLicenseTextRef.innerText=this.licenseManager.getWatermarkMessage(),window.setTimeout(function(){return e.addCssClass("ag-opacity-zero")},0),window.setTimeout(function(){return e.setDisplayed(!1)},5e3))},t.prototype.shouldDisplayWatermark=function(){return this.licenseManager.isDisplayWatermark()},TL([O("licenseManager")],t.prototype,"licenseManager",void 0),TL([U("eLicenseTextRef")],t.prototype,"eLicenseTextRef",void 0),TL([q],t.prototype,"postConstruct",null),t}(Ce),S3e="31.1.1",Pi={version:S3e,moduleName:Te.EnterpriseCoreModule,beans:[FD],agStackComponents:[{componentName:"AgWatermark",componentClass:C3e}]},w3e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),bb=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},_3e=function(n){w3e(t,n);function t(e){var r=n.call(this,`
            <div class="ag-advanced-filter-header" role="row">
            </div>`)||this;return r.enabled=e,r}return t.prototype.postConstruct=function(){var e=this;this.setupAdvancedFilter(this.enabled),this.addDestroyFunc(function(){return e.destroyBean(e.eAdvancedFilter)}),this.addManagedListener(this.eventService,M.EVENT_GRID_COLUMNS_CHANGED,function(){return e.onGridColumnsChanged()}),this.addGuiEventListener("keydown",function(r){return e.onKeyDown(r)}),this.addGuiEventListener("focusout",function(r){e.getFocusableElement().contains(r.relatedTarget)||e.focusService.clearAdvancedFilterColumn()})},t.prototype.getFocusableElement=function(){var e,r;return(r=(e=this.eAdvancedFilter)===null||e===void 0?void 0:e.getGui())!==null&&r!==void 0?r:this.getGui()},t.prototype.setEnabled=function(e){e!==this.enabled&&this.setupAdvancedFilter(e)},t.prototype.refresh=function(){var e;(e=this.eAdvancedFilter)===null||e===void 0||e.refresh()},t.prototype.getHeight=function(){return this.height},t.prototype.setInputDisabled=function(e){var r;(r=this.eAdvancedFilter)===null||r===void 0||r.setInputDisabled(e)},t.prototype.setupAdvancedFilter=function(e){var r=this.getGui();if(e){this.eAdvancedFilter=this.createBean(new fj);var i=this.eAdvancedFilter.getGui();this.eAdvancedFilter.addCssClass("ag-advanced-filter-header-cell"),this.height=this.columnModel.getFloatingFiltersHeight();var o="".concat(this.height,"px");r.style.height=o,r.style.minHeight=o,this.setAriaRowIndex(),F.setAriaRole(i,"gridcell"),F.setAriaColIndex(i,1),this.setAriaColumnCount(i),r.appendChild(i)}else F.clearElement(r),this.destroyBean(this.eAdvancedFilter),this.height=0;F.setDisplayed(r,e),this.enabled=e},t.prototype.setAriaColumnCount=function(e){F.setAriaColSpan(e,this.columnModel.getAllGridColumns().length)},t.prototype.setAriaRowIndex=function(){F.setAriaRowIndex(this.getGui(),this.headerNavigationService.getHeaderRowCount())},t.prototype.onGridColumnsChanged=function(){this.eAdvancedFilter&&(this.setAriaColumnCount(this.eAdvancedFilter.getGui()),this.setAriaRowIndex())},t.prototype.onKeyDown=function(e){switch(e.key){case K.ENTER:{this.hasFocus()&&this.focusService.focusInto(this.getFocusableElement())&&e.preventDefault();break}case K.ESCAPE:this.hasFocus()||this.getFocusableElement().focus();break;case K.UP:this.navigateUpDown(!0,e);break;case K.DOWN:this.navigateUpDown(!1,e);break;case K.TAB:if(this.hasFocus())this.navigateLeftRight(e);else{var r=this.focusService.findNextFocusableElement(this.getFocusableElement(),null,e.shiftKey);r?(e.preventDefault(),r.focus()):this.navigateLeftRight(e)}break}},t.prototype.navigateUpDown=function(e,r){this.hasFocus()&&this.focusService.focusNextFromAdvancedFilter(e)&&r.preventDefault()},t.prototype.navigateLeftRight=function(e){(e.shiftKey?this.focusService.focusLastHeader():this.focusService.focusNextFromAdvancedFilter(!1,!0))&&e.preventDefault()},t.prototype.hasFocus=function(){var e=this.gridOptionsService.getDocument();return e.activeElement===this.getFocusableElement()},bb([O("columnModel")],t.prototype,"columnModel",void 0),bb([O("focusService")],t.prototype,"focusService",void 0),bb([O("headerNavigationService")],t.prototype,"headerNavigationService",void 0),bb([q],t.prototype,"postConstruct",null),t}(Ce),x3e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),KR=function(){return KR=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},KR.apply(this,arguments)},Tee=function(n){x3e(t,n);function t(e){var r=n.call(this,KR(KR({},e),{template:`
                <div class="ag-picker-field" role="presentation">
                    <div ref="eLabel"></div>
                    <div ref="eWrapper" class="ag-wrapper ag-picker-collapsed">
                        <div ref="eDisplayField" class="ag-picker-field-display"></div>
                        <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>
                        <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                    </div>
                </div>`}))||this;return r.params=e,r}return t.prototype.showPicker=function(){var e=this;setTimeout(function(){return n.prototype.showPicker.call(e)})},t.prototype.hidePicker=function(){var e=this;setTimeout(function(){return n.prototype.hidePicker.call(e)})},t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this);var e=this.params,r=e.wrapperClassName,i=e.ariaLabel;F.setDisplayed(this.eDisplayField,!1),r&&this.eWrapper.classList.add(r),F.setAriaLabelledBy(this.eWrapper,""),F.setAriaLabel(this.eWrapper,i)},t.prototype.onEnterKeyDown=function(e){F.stopPropagationForAgGrid(e),this.isPickerDisplayed?n.prototype.onEnterKeyDown.call(this,e):(e.preventDefault(),this.showPicker())},t}(O_),b3e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),E3e=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},V1=function(n){b3e(t,n);function t(e,r){var i=n.call(this)||this;return i.comp=e,i.virtualList=r,i}return t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new dB(this.comp,this.virtualList,{dragSourceType:on.AdvancedFilterBuilder,listItemDragStartEvent:t.EVENT_DRAG_STARTED,listItemDragEndEvent:t.EVENT_DRAG_ENDED,eventSource:this,getCurrentDragValue:function(r){return e.getCurrentDragValue(r)},isMoveBlocked:function(){return!1},getNumRows:function(r){return r.getNumItems()},moveItem:function(r,i){return e.moveItem(r,i)}}))},t.prototype.getCurrentDragValue=function(e){return e.item},t.prototype.moveItem=function(e,r){this.comp.moveItem(e,r)},t.EVENT_DRAG_STARTED="advancedFilterBuilderDragStarted",t.EVENT_DRAG_ENDED="advancedFilterBuilderDragEnded",E3e([q],t.prototype,"postConstruct",null),t}(re),O3e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),R3e=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Pee=function(n){O3e(t,n);function t(e,r,i){var o=n.call(this)||this;return o.eGui=e,o.focusWrapper=r,o.eFocusableComp=i,o}return t.prototype.postConstruct=function(){var e=this;this.addManagedListener(this.eGui,"keydown",function(r){switch(r.key){case K.TAB:r.defaultPrevented||F.stopPropagationForAgGrid(r);break;case K.UP:case K.DOWN:F.stopPropagationForAgGrid(r);break;case K.ESCAPE:if(F.isStopPropagationForAgGrid(r))return;var i=e.gridOptionsService.getDocument();e.eGui.contains(i.activeElement)&&(r.preventDefault(),F.stopPropagationForAgGrid(r),e.focusWrapper.focus());break}}),this.addManagedListener(this.focusWrapper,"keydown",function(r){switch(r.key){case K.ENTER:if(F.isStopPropagationForAgGrid(r))return;var i=e.gridOptionsService.getDocument();i.activeElement===e.focusWrapper&&(r.preventDefault(),F.stopPropagationForAgGrid(r),e.eFocusableComp.getFocusableElement().focus());break}}),this.addManagedListener(this.focusWrapper,"focusin",function(){e.focusWrapper.classList.add("ag-advanced-filter-builder-virtual-list-item-highlight")}),this.addManagedListener(this.focusWrapper,"focusout",function(r){e.focusWrapper.contains(r.relatedTarget)||e.focusWrapper.classList.remove("ag-advanced-filter-builder-virtual-list-item-highlight")})},R3e([q],t.prototype,"postConstruct",null),t}(re);function Dee(n,t){return{pickerAriaLabelKey:"ariaLabelAdvancedFilterBuilderAddField",pickerAriaLabelValue:"Advanced Filter Builder Add Field",pickerType:"ag-list",valueList:[{key:"condition",displayValue:n("advancedFilterBuilderAddCondition")},{key:"join",displayValue:n("advancedFilterBuilderAddJoin")}],valueFormatter:function(e){var r;return e==null?null:(r=e.displayValue)!==null&&r!==void 0?r:e.key},pickerIcon:"advancedFilterBuilderAdd",maxPickerWidth:"".concat(t??120,"px"),wrapperClassName:"ag-advanced-filter-builder-item-button",ariaLabel:n("advancedFilterBuilderAddButtonTooltip")}}var za=function(){function n(){}return n.EVENT_ADDED="advancedFilterBuilderAdded",n.EVENT_MOVED="advancedFilterBuilderMoved",n.EVENT_REMOVED="advancedFilterBuilderRemoved",n.EVENT_VALUE_CHANGED="advancedFilterBuilderValueChanged",n.EVENT_VALID_CHANGED="advancedFilterBuilderValidChanged",n}(),T3e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),l4=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},P3e=function(n){T3e(t,n);function t(){var e=n.call(this,`
            <div class="ag-advanced-filter-builder-item-condition" role="presentation"></div>
        `)||this;return e.validationMessage=null,e}return t.prototype.init=function(e){var r=this,i=e.item,o=e.createPill;this.item=i,this.createPill=o,this.filterModel=i.filterModel,this.setupColumnCondition(this.filterModel),this.validate(),this.addDestroyFunc(function(){return r.destroyBeans([r.eColumnPill,r.eOperatorPill,r.eOperandPill])})},t.prototype.getDragName=function(){return this.filterModel.colId?this.advancedFilterExpressionService.parseColumnFilterModel(this.filterModel):this.getDefaultColumnDisplayValue()},t.prototype.getAriaLabel=function(){return"".concat(this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderFilterItem")," ").concat(this.getDragName())},t.prototype.getValidationMessage=function(){return this.validationMessage},t.prototype.getFocusableElement=function(){return this.eColumnPill.getFocusableElement()},t.prototype.setupColumnCondition=function(e){var r=this,i,o=this.advancedFilterExpressionService.getColumnDetails(e.colId);this.baseCellDataType=o.baseCellDataType,this.column=o.column,this.numOperands=this.getNumOperands(this.getOperatorKey()),this.eColumnPill=this.createPill({key:this.getColumnKey(),displayValue:(i=this.getColumnDisplayValue())!==null&&i!==void 0?i:this.getDefaultColumnDisplayValue(),cssClass:"ag-advanced-filter-builder-column-pill",isSelect:!0,getEditorParams:function(){return{values:r.advancedFilterExpressionService.getColumnAutocompleteEntries()}},update:function(a){return r.setColumnKey(a)},pickerAriaLabelKey:"ariaLabelAdvancedFilterBuilderColumnSelectField",pickerAriaLabelValue:"Advanced Filter Builder Column Select Field",ariaLabel:this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderColumn")}),this.getGui().appendChild(this.eColumnPill.getGui()),F.exists(this.getColumnKey())&&(this.createOperatorPill(),this.hasOperand()&&this.createOperandPill())},t.prototype.createOperatorPill=function(){var e=this,r;this.eOperatorPill=this.createPill({key:this.getOperatorKey(),displayValue:(r=this.getOperatorDisplayValue())!==null&&r!==void 0?r:this.getDefaultOptionSelectValue(),cssClass:"ag-advanced-filter-builder-option-pill",isSelect:!0,getEditorParams:function(){return{values:e.getOperatorAutocompleteEntries()}},update:function(i){return e.setOperatorKey(i)},pickerAriaLabelKey:"ariaLabelAdvancedFilterBuilderOptionSelectField",pickerAriaLabelValue:"Advanced Filter Builder Option Select Field",ariaLabel:this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderOption")}),this.eColumnPill.getGui().insertAdjacentElement("afterend",this.eOperatorPill.getGui())},t.prototype.createOperandPill=function(){var e=this,r,i=(r=this.getOperandDisplayValue())!==null&&r!==void 0?r:"";this.eOperandPill=this.createPill({key:i,displayValue:i,baseCellDataType:this.baseCellDataType,cssClass:"ag-advanced-filter-builder-value-pill",isSelect:!1,update:function(o){return e.setOperand(o)},ariaLabel:this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderValue")}),this.getGui().appendChild(this.eOperandPill.getGui())},t.prototype.getColumnKey=function(){return this.filterModel.colId},t.prototype.getColumnDisplayValue=function(){return this.advancedFilterExpressionService.getColumnDisplayValue(this.filterModel)},t.prototype.getOperatorKey=function(){return this.filterModel.type},t.prototype.getOperatorDisplayValue=function(){return this.advancedFilterExpressionService.getOperatorDisplayValue(this.filterModel)},t.prototype.getOperandDisplayValue=function(){return this.advancedFilterExpressionService.getOperandDisplayValue(this.filterModel,!0)},t.prototype.hasOperand=function(){return this.numOperands>0},t.prototype.getOperatorAutocompleteEntries=function(){return this.column?this.advancedFilterExpressionService.getOperatorAutocompleteEntries(this.column,this.baseCellDataType):[]},t.prototype.setColumnKey=function(e){this.eOperatorPill||this.createOperatorPill();var r=this.advancedFilterExpressionService.getColumnDetails(e);this.column=r.column;var i=r.baseCellDataType;this.baseCellDataType!==i&&(this.baseCellDataType=i,this.setOperatorKey(void 0),this.eOperatorPill&&(F.removeFromParent(this.eOperatorPill.getGui()),this.destroyBean(this.eOperatorPill),this.createOperatorPill()),this.validate()),this.filterModel.colId=e,this.filterModel.filterType=this.baseCellDataType},t.prototype.setOperatorKey=function(e){var r=this.getNumOperands(e);r!==this.numOperands&&(this.numOperands=r,r===0?this.destroyOperandPill():(this.createOperandPill(),this.baseCellDataType!=="number"&&this.setOperand(""))),this.filterModel.type=e,this.validate()},t.prototype.setOperand=function(e){var r,i=e;this.column&&(i=(r=this.advancedFilterExpressionService.getOperandModelValue(e,this.baseCellDataType,this.column))!==null&&r!==void 0?r:""),this.filterModel.filter=i,this.validate()},t.prototype.getNumOperands=function(e){var r,i;return(i=(r=this.advancedFilterExpressionService.getExpressionOperator(this.baseCellDataType,e))===null||r===void 0?void 0:r.numOperands)!==null&&i!==void 0?i:0},t.prototype.destroyOperandPill=function(){delete this.filterModel.filter,this.getGui().removeChild(this.eOperandPill.getGui()),this.destroyBean(this.eOperandPill),this.eOperandPill=void 0},t.prototype.validate=function(){var e=null;F.exists(this.getColumnKey())?F.exists(this.getOperatorKey())?this.numOperands>0&&!F.exists(this.getOperandDisplayValue())&&(e=this.advancedFilterExpressionService.translate("advancedFilterBuilderValidationEnterValue")):e=this.advancedFilterExpressionService.translate("advancedFilterBuilderValidationSelectOption"):e=this.advancedFilterExpressionService.translate("advancedFilterBuilderValidationSelectColumn"),this.item.valid=!e,e!==this.validationMessage&&(this.validationMessage=e,this.dispatchEvent({type:za.EVENT_VALID_CHANGED}))},t.prototype.getDefaultColumnDisplayValue=function(){return this.advancedFilterExpressionService.translate("advancedFilterBuilderSelectColumn")},t.prototype.getDefaultOptionSelectValue=function(){return this.advancedFilterExpressionService.translate("advancedFilterBuilderSelectOption")},l4([O("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),l4([O("valueParserService")],t.prototype,"valueParserService",void 0),t}(Ce),D3e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Eb=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},A3e=function(n){D3e(t,n);function t(e){var r=n.call(this,`
            <div class="ag-advanced-filter-builder-pill-wrapper" role="presentation">
                <div ref="ePill" class="ag-advanced-filter-builder-pill" role="button">
                    <span ref="eLabel" class="ag-advanced-filter-builder-pill-display"></span>
                </div>
            </div>
        `)||this;return r.params=e,r.value=e.value,r}return t.prototype.postConstruct=function(){var e=this,r=this.params,i=r.cssClass,o=r.ariaLabel;this.ePill.classList.add(i),this.activateTabIndex([this.ePill]),this.eLabel.id="".concat(this.getCompId()),F.setAriaDescribedBy(this.ePill,this.eLabel.id),F.setAriaLabel(this.ePill,o),this.renderValue(),this.addManagedListener(this.ePill,"click",function(a){a.preventDefault(),e.showEditor()}),this.addManagedListener(this.ePill,"keydown",function(a){switch(a.key){case K.ENTER:a.preventDefault(),F.stopPropagationForAgGrid(a),e.showEditor();break}}),this.addDestroyFunc(function(){return e.destroyBean(e.eEditor)})},t.prototype.getFocusableElement=function(){return this.ePill},t.prototype.showEditor=function(){var e=this;if(!this.eEditor){F.setDisplayed(this.ePill,!1),this.eEditor=this.createEditorComp(this.params.type),this.eEditor.setValue(this.value);var r=this.eEditor.getGui();this.eEditor.addManagedListener(r,"keydown",function(i){switch(i.key){case K.ENTER:i.preventDefault(),F.stopPropagationForAgGrid(i),e.updateValue(!0);break;case K.ESCAPE:i.preventDefault(),F.stopPropagationForAgGrid(i),e.hideEditor(!0);break}}),this.eEditor.addManagedListener(r,"focusout",function(){e.updateValue(!1)}),this.getGui().appendChild(r),this.eEditor.getFocusableElement().focus()}},t.prototype.createEditorComp=function(e){var r;switch(e){case"text":r=new oc;break;case"number":r=new x_;break;case"date":r=new _B;break}return this.createBean(r)},t.prototype.hideEditor=function(e){var r=this.eEditor;r&&(this.eEditor=void 0,this.getGui().removeChild(r.getGui()),this.destroyBean(r),F.setDisplayed(this.ePill,!0),e&&this.ePill.focus())},t.prototype.renderValue=function(){var e;this.eLabel.classList.remove("ag-advanced-filter-builder-value-empty","ag-advanced-filter-builder-value-number","ag-advanced-filter-builder-value-text"),F.exists(this.value)?this.params.type==="number"?(e=this.value,this.eLabel.classList.add("ag-advanced-filter-builder-value-number")):(e='"'.concat(this.value,'"'),this.eLabel.classList.add("ag-advanced-filter-builder-value-text")):(e=this.advancedFilterExpressionService.translate("advancedFilterBuilderEnterValue"),this.eLabel.classList.add("ag-advanced-filter-builder-value-empty")),this.eLabel.innerText=e},t.prototype.updateValue=function(e){var r;if(this.eEditor){var i=(r=this.eEditor.getValue())!==null&&r!==void 0?r:"";this.dispatchEvent({type:M.EVENT_FIELD_VALUE_CHANGED,value:i}),this.value=i,this.renderValue(),this.hideEditor(e)}},Eb([U("ePill")],t.prototype,"ePill",void 0),Eb([U("eLabel")],t.prototype,"eLabel",void 0),Eb([O("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),Eb([q],t.prototype,"postConstruct",null),t}(Ce),M3e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),L3e=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},F3e=function(n){M3e(t,n);function t(){return n.call(this,`
            <div class="ag-advanced-filter-builder-item-condition" role="presentation"></div>
        `)||this}return t.prototype.init=function(e){var r=this,i=e.item,o=e.createPill,a=i.filterModel;this.filterModel=a,this.ePill=o({key:a.type,displayValue:this.advancedFilterExpressionService.parseJoinOperator(a),cssClass:"ag-advanced-filter-builder-join-pill",isSelect:!0,getEditorParams:function(){return{values:r.advancedFilterExpressionService.getJoinOperatorAutocompleteEntries()}},update:function(s){return a.type=s},pickerAriaLabelKey:"ariaLabelAdvancedFilterBuilderJoinSelectField",pickerAriaLabelValue:"Advanced Filter Builder Join Operator Select Field",ariaLabel:this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderJoinOperator")}),this.getGui().appendChild(this.ePill.getGui()),this.addDestroyFunc(function(){return r.destroyBean(r.ePill)})},t.prototype.getDragName=function(){return this.advancedFilterExpressionService.parseJoinOperator(this.filterModel)},t.prototype.getAriaLabel=function(){return"".concat(this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderGroupItem")," ").concat(this.getDragName())},t.prototype.getValidationMessage=function(){return null},t.prototype.getFocusableElement=function(){return this.ePill.getFocusableElement()},L3e([O("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),t}(Ce),I3e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),YR=function(){return YR=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},YR.apply(this,arguments)},N3e=function(n){I3e(t,n);function t(e){var r=n.call(this,YR(YR({},e),{template:`
                <div class="ag-picker-field ag-advanced-filter-builder-pill-wrapper" role="presentation">
                    <div ref="eLabel"></div>
                    <div ref="eWrapper" class="ag-wrapper ag-advanced-filter-builder-pill ag-picker-collapsed">
                        <div ref="eDisplayField" class="ag-picker-field-display ag-advanced-filter-builder-pill-display"></div>
                        <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>
                        <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                    </div>
                </div>`}))||this;return r.params=e,r}return t.prototype.getFocusableElement=function(){return this.eWrapper},t.prototype.showPicker=function(){var e=this;setTimeout(function(){return n.prototype.showPicker.call(e)})},t.prototype.hidePicker=function(){var e=this;setTimeout(function(){return n.prototype.hidePicker.call(e)})},t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this);var e=this.params,r=e.wrapperClassName,i=e.ariaLabel;this.eWrapper.classList.add(r),F.setAriaLabelledBy(this.eWrapper,""),F.setAriaLabel(this.eWrapper,i)},t.prototype.createPickerComponent=function(){var e;if(!this.values){var r=this.params.getEditorParams().values;this.values=r;var i=this.value.key,o=(e=r.find(function(a){return a.key===i}))!==null&&e!==void 0?e:{key:i,displayValue:this.value.displayValue};this.value=o}return n.prototype.createPickerComponent.call(this)},t.prototype.onEnterKeyDown=function(e){F.stopPropagationForAgGrid(e),this.isPickerDisplayed?n.prototype.onEnterKeyDown.call(this,e):(e.preventDefault(),this.showPicker())},t}(O_),k3e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Pa=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},PL=function(n){k3e(t,n);function t(e,r,i){var o=n.call(this,`
            <div class="ag-advanced-filter-builder-item-wrapper" role="presentation">
                <div ref="eItem" class="ag-advanced-filter-builder-item" role="presentation">
                    <div ref="eTreeLines" class="ag-advanced-filter-builder-item-tree-lines" aria-hidden="true"></div>
                    <span ref="eDragHandle" class="ag-drag-handle" aria-hidden="true"></span>
                    <span ref="eValidation" class="ag-advanced-filter-builder-item-button ag-advanced-filter-builder-invalid" aria-hidden="true"></span>
                </div>
                <div ref="eButtons" class="ag-advanced-filter-builder-item-buttons">
                    <span ref="eMoveUpButton" class="ag-advanced-filter-builder-item-button" role="button"></span>
                    <span ref="eMoveDownButton" class="ag-advanced-filter-builder-item-button" role="button"></span>
                    <div ref="eAddButton" role="presentation"></div>
                    <span ref="eRemoveButton" class="ag-advanced-filter-builder-item-button" role="button"></span>
                </div>
            </div>
        `)||this;return o.item=e,o.dragFeature=r,o.focusWrapper=i,o.moveUpDisabled=!1,o.moveDownDisabled=!1,o}return t.prototype.postConstruct=function(){var e=this,r=this.item,i=r.filterModel,o=r.level,a=r.showMove,s=i.filterType==="join";if(this.ePillWrapper=this.createManagedBean(s?new F3e:new P3e),this.ePillWrapper.init({item:this.item,createPill:function(u){return e.createPill(u)}}),this.eDragHandle.insertAdjacentElement("afterend",this.ePillWrapper.getGui()),o===0){var l=document.createElement("div");l.classList.add("ag-advanced-filter-builder-item-tree-line-vertical-bottom"),l.classList.add("ag-advanced-filter-builder-item-tree-line-root"),this.eTreeLines.appendChild(l),F.setDisplayed(this.eDragHandle,!1),F.setDisplayed(this.eButtons,!1),F.setAriaExpanded(this.focusWrapper,!0)}else this.setupTreeLines(o),this.eDragHandle.appendChild(F.createIconNoSpan("advancedFilterBuilderDrag",this.gridOptionsService)),this.setupValidation(),this.setupMoveButtons(a),this.setupAddButton(),this.setupRemoveButton(),this.setupDragging(),this.updateAriaExpanded();F.setAriaLevel(this.focusWrapper,o+1),this.initialiseTabGuard({}),this.createManagedBean(new Pee(this.getGui(),this.focusWrapper,this.ePillWrapper)),this.updateAriaLabel(),this.addManagedListener(this.ePillWrapper,za.EVENT_VALUE_CHANGED,function(){return e.dispatchEvent({type:za.EVENT_VALUE_CHANGED})}),this.addManagedListener(this.ePillWrapper,za.EVENT_VALID_CHANGED,function(){return e.updateValidity()})},t.prototype.setState=function(e){var r=this.item.level;if(r!==0){var i=this.item.showMove,o=e.disableMoveUp,a=e.disableMoveDown,s=e.treeLines,l=e.showStartTreeLine;this.updateTreeLines(s,l),this.updateAriaExpanded(),i&&(this.moveUpDisabled=!!o,this.moveDownDisabled=!!a,this.eMoveUpButton.classList.toggle("ag-advanced-filter-builder-item-button-disabled",o),this.eMoveDownButton.classList.toggle("ag-advanced-filter-builder-item-button-disabled",a),F.setAriaDisabled(this.eMoveUpButton,!!o),F.setAriaDisabled(this.eMoveDownButton,!!a),this.moveUpTooltipFeature.refreshToolTip(),this.moveDownTooltipFeature.refreshToolTip())}},t.prototype.focusMoveButton=function(e){(e?this.eMoveUpButton:this.eMoveDownButton).focus()},t.prototype.afterAdd=function(){this.ePillWrapper.getFocusableElement().focus()},t.prototype.setupTreeLines=function(e){for(var r=0;r<e;r++){var i=document.createElement("div");this.eTreeLines.appendChild(i)}},t.prototype.updateTreeLines=function(e,r){for(var i=e.length-1,o=this.eTreeLines.children,a=0;a<i;a++){var s=o.item(a);s&&s.classList.toggle("ag-advanced-filter-builder-item-tree-line-vertical",!e[a])}var l=o.item(i);if(l){l.classList.add("ag-advanced-filter-builder-item-tree-line-horizontal");var u=e[i];l.classList.toggle("ag-advanced-filter-builder-item-tree-line-vertical-top",u),l.classList.toggle("ag-advanced-filter-builder-item-tree-line-vertical",!u)}this.eDragHandle.classList.toggle("ag-advanced-filter-builder-item-tree-line-vertical-bottom",r)},t.prototype.setupValidation=function(){var e=this;this.eValidation.appendChild(F.createIconNoSpan("advancedFilterBuilderInvalid",this.gridOptionsService)),this.validationTooltipFeature=this.createManagedBean(new Ds({getGui:function(){return e.eValidation},getLocation:function(){return"advancedFilter"},getTooltipValue:function(){return e.ePillWrapper.getValidationMessage()},getTooltipShowDelayOverride:function(){return 1e3}},this.beans)),this.validationTooltipFeature.setComp(this.eValidation),this.updateValidity()},t.prototype.setupAddButton=function(){var e=this,r,i=Dee(function(s){return e.advancedFilterExpressionService.translate(s)},(r=this.gridOptionsService.get("advancedFilterBuilderParams"))===null||r===void 0?void 0:r.addSelectWidth),o=this.createManagedBean(new Tee(i));this.addManagedListener(o,M.EVENT_FIELD_PICKER_VALUE_SELECTED,function(s){var l=s.value;return e.dispatchEvent({type:za.EVENT_ADDED,item:e.item,isJoin:l.key==="join"})}),this.eAddButton.appendChild(o.getGui());var a=this.createManagedBean(new Ds({getGui:function(){return e.eAddButton},getLocation:function(){return"advancedFilter"},getTooltipValue:function(){return e.advancedFilterExpressionService.translate("advancedFilterBuilderAddButtonTooltip")}},this.beans));a.setComp(this.eAddButton)},t.prototype.setupRemoveButton=function(){var e=this;this.eRemoveButton.appendChild(F.createIconNoSpan("advancedFilterBuilderRemove",this.gridOptionsService)),this.addManagedListener(this.eRemoveButton,"click",function(){return e.removeItem()}),this.addManagedListener(this.eRemoveButton,"keydown",function(i){switch(i.key){case K.ENTER:i.preventDefault(),F.stopPropagationForAgGrid(i),e.removeItem();break}});var r=this.createManagedBean(new Ds({getGui:function(){return e.eRemoveButton},getLocation:function(){return"advancedFilter"},getTooltipValue:function(){return e.advancedFilterExpressionService.translate("advancedFilterBuilderRemoveButtonTooltip")}},this.beans));r.setComp(this.eRemoveButton),F.setAriaLabel(this.eRemoveButton,this.advancedFilterExpressionService.translate("advancedFilterBuilderRemoveButtonTooltip")),this.activateTabIndex([this.eRemoveButton])},t.prototype.setupMoveButtons=function(e){var r=this;e?(this.eMoveUpButton.appendChild(F.createIconNoSpan("advancedFilterBuilderMoveUp",this.gridOptionsService)),this.addManagedListener(this.eMoveUpButton,"click",function(){return r.moveItem(!0)}),this.addManagedListener(this.eMoveUpButton,"keydown",function(i){switch(i.key){case K.ENTER:i.preventDefault(),F.stopPropagationForAgGrid(i),r.moveItem(!0);break}}),this.moveUpTooltipFeature=this.createManagedBean(new Ds({getGui:function(){return r.eMoveUpButton},getLocation:function(){return"advancedFilter"},getTooltipValue:function(){return r.moveUpDisabled?null:r.advancedFilterExpressionService.translate("advancedFilterBuilderMoveUpButtonTooltip")}},this.beans)),this.moveUpTooltipFeature.setComp(this.eMoveUpButton),F.setAriaLabel(this.eMoveUpButton,this.advancedFilterExpressionService.translate("advancedFilterBuilderMoveUpButtonTooltip")),this.eMoveDownButton.appendChild(F.createIconNoSpan("advancedFilterBuilderMoveDown",this.gridOptionsService)),this.addManagedListener(this.eMoveDownButton,"click",function(){return r.moveItem(!1)}),this.addManagedListener(this.eMoveDownButton,"keydown",function(i){switch(i.key){case K.ENTER:i.preventDefault(),F.stopPropagationForAgGrid(i),r.moveItem(!1);break}}),this.moveDownTooltipFeature=this.createManagedBean(new Ds({getGui:function(){return r.eMoveDownButton},getLocation:function(){return"advancedFilter"},getTooltipValue:function(){return r.moveDownDisabled?null:r.advancedFilterExpressionService.translate("advancedFilterBuilderMoveDownButtonTooltip")}},this.beans)),this.moveDownTooltipFeature.setComp(this.eMoveDownButton),F.setAriaLabel(this.eMoveDownButton,this.advancedFilterExpressionService.translate("advancedFilterBuilderMoveDownButtonTooltip")),this.activateTabIndex([this.eMoveUpButton,this.eMoveDownButton])):(F.setDisplayed(this.eMoveUpButton,!1),F.setDisplayed(this.eMoveDownButton,!1))},t.prototype.updateValidity=function(){F.setVisible(this.eValidation,!this.item.valid),this.validationTooltipFeature.refreshToolTip(),this.updateAriaLabel()},t.prototype.createPill=function(e){var r=this,i,o,a=e.key,s=e.displayValue,l=e.cssClass,u=e.update,c=e.ariaLabel,d=function(C){C!=null&&(u(C),r.dispatchEvent({type:za.EVENT_VALUE_CHANGED}))};if(e.isSelect){var p=e.getEditorParams,h=e.pickerAriaLabelKey,f=e.pickerAriaLabelValue,v=this.gridOptionsService.get("advancedFilterBuilderParams"),g="".concat((i=v==null?void 0:v.pillSelectMinWidth)!==null&&i!==void 0?i:140,"px"),m="".concat((o=v==null?void 0:v.pillSelectMaxWidth)!==null&&o!==void 0?o:200,"px"),y=this.createBean(new N3e({pickerAriaLabelKey:h,pickerAriaLabelValue:f,pickerType:"ag-list",value:{key:a,displayValue:s},valueFormatter:function(C){var S;return C==null?null:(S=C.displayValue)!==null&&S!==void 0?S:C.key},variableWidth:!0,minPickerWidth:g,maxPickerWidth:m,getEditorParams:p,wrapperClassName:l,ariaLabel:c}));return this.addManagedListener(y,M.EVENT_FIELD_PICKER_VALUE_SELECTED,function(C){var S=C.value;return d(S==null?void 0:S.key)}),y}else{var y=this.createBean(new A3e({value:s,cssClass:l,type:this.getInputType(e.baseCellDataType),ariaLabel:c}));return this.addManagedListener(y,M.EVENT_FIELD_VALUE_CHANGED,function(S){var w=S.value;return d(w)}),y}},t.prototype.getInputType=function(e){switch(e){case"text":case"object":case"boolean":return"text";case"number":return"number";case"date":case"dateString":return"date"}},t.prototype.setupDragging=function(){var e=this,r={type:on.AdvancedFilterBuilder,eElement:this.eDragHandle,dragItemName:function(){return e.ePillWrapper.getDragName()},getDefaultIconName:function(){return Wt.ICON_NOT_ALLOWED},getDragItem:function(){return{}},onDragStarted:function(){return e.dragFeature.dispatchEvent({type:V1.EVENT_DRAG_STARTED,item:e.item})},onDragStopped:function(){return e.dragFeature.dispatchEvent({type:V1.EVENT_DRAG_ENDED})}};this.dragAndDropService.addDragSource(r,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(r)})},t.prototype.updateAriaLabel=function(){var e=this.ePillWrapper.getAriaLabel(),r="".concat(this.item.level+1),i=this.ePillWrapper.getValidationMessage(),o;i?o=this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderItemValidation",[e,r,i]):o=this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderItem",[e,r]),F.setAriaLabel(this.focusWrapper,o)},t.prototype.updateAriaExpanded=function(){F.removeAriaExpanded(this.focusWrapper);var e=this.item.filterModel;(e==null?void 0:e.filterType)==="join"&&e.conditions.length&&F.setAriaExpanded(this.focusWrapper,!0)},t.prototype.removeItem=function(){this.dispatchEvent({type:za.EVENT_REMOVED,item:this.item})},t.prototype.moveItem=function(e){this.dispatchEvent({type:za.EVENT_MOVED,item:this.item,backwards:e})},Pa([U("eTreeLines")],t.prototype,"eTreeLines",void 0),Pa([U("eDragHandle")],t.prototype,"eDragHandle",void 0),Pa([U("eItem")],t.prototype,"eItem",void 0),Pa([U("eButtons")],t.prototype,"eButtons",void 0),Pa([U("eValidation")],t.prototype,"eValidation",void 0),Pa([U("eMoveUpButton")],t.prototype,"eMoveUpButton",void 0),Pa([U("eMoveDownButton")],t.prototype,"eMoveDownButton",void 0),Pa([U("eAddButton")],t.prototype,"eAddButton",void 0),Pa([U("eRemoveButton")],t.prototype,"eRemoveButton",void 0),Pa([O("beans")],t.prototype,"beans",void 0),Pa([O("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Pa([O("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),Pa([q],t.prototype,"postConstruct",null),t}(md),G3e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ob=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},V3e=function(n){G3e(t,n);function t(e,r){var i=n.call(this,`
            <div class="ag-advanced-filter-builder-item-wrapper" role="presentation">
                <div ref="eItem" class="ag-advanced-filter-builder-item" role="presentation">
                    <div class="ag-advanced-filter-builder-item-tree-lines" aria-hidden="true">
                        <div class="ag-advanced-filter-builder-item-tree-line-vertical-top ag-advanced-filter-builder-item-tree-line-horizontal"></div>
                    </div>
                </div>
            </div>
        `)||this;return i.item=e,i.focusWrapper=r,i}return t.prototype.postConstruct=function(){var e=this,r;F.setAriaLevel(this.focusWrapper,2);var i=Dee(function(s){return e.advancedFilterExpressionService.translate(s)},(r=this.gridOptionsService.get("advancedFilterBuilderParams"))===null||r===void 0?void 0:r.addSelectWidth),o=this.createManagedBean(new Tee(i));this.addManagedListener(o,M.EVENT_FIELD_PICKER_VALUE_SELECTED,function(s){var l=s.value;e.dispatchEvent({type:za.EVENT_ADDED,item:e.item,isJoin:l.key==="join"})}),this.eItem.appendChild(o.getGui());var a=this.createManagedBean(new Ds({getGui:function(){return o.getGui()},getLocation:function(){return"advancedFilter"},getTooltipValue:function(){return e.advancedFilterExpressionService.translate("advancedFilterBuilderAddButtonTooltip")}},this.beans));a.setComp(o.getGui()),this.createManagedBean(new Pee(this.getGui(),this.focusWrapper,o)),F.setAriaLabel(this.focusWrapper,this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderItem",[this.advancedFilterExpressionService.translate("advancedFilterBuilderAddButtonTooltip"),"".concat(this.item.level+1)]))},t.prototype.afterAdd=function(){},Ob([O("beans")],t.prototype,"beans",void 0),Ob([O("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),Ob([U("eItem")],t.prototype,"eItem",void 0),Ob([q],t.prototype,"postConstruct",null),t}(Ce),B3e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Wd=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},j3e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},H3e=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},$3e=function(n){B3e(t,n);function t(){var e=n.call(this,`
            <div role="presentation" class="ag-advanced-filter-builder" tabindex="-1">
                <div role="presentation" class="ag-advanced-filter-builder-list" ref="eList"></div>
                <div role="presentation" class="ag-advanced-filter-builder-button-panel">
                    <button class="ag-button ag-standard-button ag-advanced-filter-builder-apply-button" ref="eApplyFilterButton"></button>
                    <button class="ag-button ag-standard-button ag-advanced-filter-builder-cancel-button" ref="eCancelFilterButton"></button>
                </div>
            </div>`)||this;return e.validationMessage=null,e}return t.prototype.postConstruct=function(){var e=this,r,i=((r=this.gridOptionsService.get("advancedFilterBuilderParams"))!==null&&r!==void 0?r:{}).showMoveButtons;this.showMove=!!i,this.addManagedPropertyListener("advancedFilterBuilderParams",function(o){var a=o.currentValue;e.showMove=!!(a!=null&&a.showMoveButtons),e.refreshList(!1)}),this.filterModel=this.setupFilterModel(),this.setupVirtualList(),this.dragFeature=this.createManagedBean(new V1(this,this.virtualList)),this.setupButtons()},t.prototype.refresh=function(){var e=this.virtualList.getLastFocusedRow();this.setupFilterModel(),this.validateItems(),this.refreshList(!1),e!=null&&(this.virtualList.getComponentAt(e)||(e=0),this.virtualList.focusRow(e))},t.prototype.getNumItems=function(){return this.items.length},t.prototype.moveItem=function(e,r){!r||!e||this.moveItemToIndex(e,r.rowIndex,r.position)},t.prototype.afterGuiAttached=function(){this.virtualList.focusRow(0)},t.prototype.setupVirtualList=function(){var e=this;this.virtualList=this.createManagedBean(new Ev({cssIdentifier:"advanced-filter-builder",ariaRole:"tree",listName:this.advancedFilterExpressionService.translate("ariaAdvancedFilterBuilderList")})),this.virtualList.setComponentCreator(this.createItemComponent.bind(this)),this.virtualList.setComponentUpdater(this.updateItemComponent.bind(this)),this.virtualList.setRowHeight(40),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:function(){return e.items.length},getRow:function(r){return e.items[r]},areRowsEqual:function(r,i){return r===i}}),this.buildList(),this.virtualList.refresh()},t.prototype.setupButtons=function(){var e=this;this.eApplyFilterButton.innerText=this.advancedFilterExpressionService.translate("advancedFilterBuilderApply"),this.activateTabIndex([this.eApplyFilterButton]),this.addManagedListener(this.eApplyFilterButton,"click",function(){e.advancedFilterService.setModel(e.filterModel),e.filterManager.onFilterChanged({source:"advancedFilter"}),e.close()}),this.validationTooltipFeature=this.createManagedBean(new Ds({getGui:function(){return e.eApplyFilterButton},getLocation:function(){return"advancedFilter"},getTooltipValue:function(){return e.validationMessage},getTooltipShowDelayOverride:function(){return 1e3}},this.beans)),this.validationTooltipFeature.setComp(this.eApplyFilterButton),this.validate(),this.addManagedListener(this.eApplyFilterButton,"mouseenter",function(){return e.addOrRemoveCssClass("ag-advanced-filter-builder-validation",!0)}),this.addManagedListener(this.eApplyFilterButton,"mouseleave",function(){return e.addOrRemoveCssClass("ag-advanced-filter-builder-validation",!1)}),this.eCancelFilterButton.innerText=this.advancedFilterExpressionService.translate("advancedFilterBuilderCancel"),this.activateTabIndex([this.eCancelFilterButton]),this.addManagedListener(this.eCancelFilterButton,"click",function(){return e.close()})},t.prototype.removeItemFromParent=function(e){var r=e.parent.conditions.indexOf(e.filterModel);return e.parent.conditions.splice(r,1),r},t.prototype.moveItemToIndex=function(e,r,i){var o,a=this.items[r],s=((o=a.filterModel)===null||o===void 0?void 0:o.filterType)==="join"&&i==="bottom",l=s?a.filterModel:a.parent;if(l&&!(this.isChildOrSelf(l,e.filterModel)||a===e)){this.removeItemFromParent(e);var u;s?u=0:(u=l.conditions.indexOf(a.filterModel),u===-1?u=l.conditions.length:i==="bottom"&&(u+=1)),l.conditions.splice(u,0,e.filterModel),this.refreshList(!1)}},t.prototype.isChildOrSelf=function(e,r){var i=this;return e===r||r.filterType==="join"&&r.conditions.some(function(o){return i.isChildOrSelf(e,o)})},t.prototype.setupFilterModel=function(){var e=this.formatFilterModel(this.advancedFilterService.getModel());return this.stringifiedModel=JSON.stringify(e),e},t.prototype.formatFilterModel=function(e){return e=e??{filterType:"join",type:"AND",conditions:[]},e.filterType!=="join"&&(e={filterType:"join",type:"AND",conditions:[e]}),e},t.prototype.buildList=function(){var e=this,r=function(i,o,a,s){o.push({filterModel:i,level:a,parent:s,valid:!0,showMove:e.showMove}),i.filterType==="join"&&(i.conditions.forEach(function(l){return r(l,o,a+1,i)}),a===0&&o.push({filterModel:null,level:a+1,parent:i,valid:!0}))};this.items=[],r(this.filterModel,this.items,0)},t.prototype.refreshList=function(e){if(!e){var r=[];this.items.forEach(function(i){i.valid||r.push(i.filterModel)}),this.buildList(),r.length&&this.items.forEach(function(i){i.filterModel&&r.includes(i.filterModel)&&(i.valid=!1)})}this.virtualList.refresh(e),this.validate()},t.prototype.updateItemComponent=function(e,r){var i=this,o=this.items.indexOf(e),a=function(c,d){var p=i.items.find(function(v){return v.filterModel===c}),h=p==null?void 0:p.parent;if(h){var f=h.conditions;a(h,d),d.push(f[f.length-1]===c)}},s=[],l=e.filterModel;l&&(a(l,s),s[0]=!1);var u=(l==null?void 0:l.filterType)==="join"&&!!l.conditions.length;r.setState({disableMoveUp:o===1,disableMoveDown:!this.canMoveDown(e,o),treeLines:s,showStartTreeLine:u})},t.prototype.createItemComponent=function(e,r){var i=this,o=this.createBean(e.filterModel?new PL(e,this.dragFeature,r):new V3e(e,r));return o.addManagedListener(o,za.EVENT_REMOVED,function(a){var s=a.item;return i.removeItem(s)}),o.addManagedListener(o,za.EVENT_VALUE_CHANGED,function(){return i.validate()}),o.addManagedListener(o,za.EVENT_ADDED,function(a){var s=a.item,l=a.isJoin;return i.addItem(s,l)}),o.addManagedListener(o,za.EVENT_MOVED,function(a){var s=a.item,l=a.backwards;return i.moveItemUpDown(s,l)}),o instanceof PL&&this.updateItemComponent(e,o),o},t.prototype.addItem=function(e,r){var i,o,a=e.parent,s=e.level,l=e.filterModel,u=(l==null?void 0:l.filterType)==="join",c=r?{filterType:"join",type:"AND",conditions:[]}:{},d=u?l:a,p=u?0:d.conditions.indexOf(l);p>=0?(u||(p+=1),d.conditions.splice(p,0,c)):d.conditions.push(c);var h=this.items.indexOf(e),f=h>=0;if(f){e.filterModel&&h++;var v=[{filterModel:c,level:u?s+1:s,parent:d,valid:r,showMove:this.showMove}];(i=this.items).splice.apply(i,H3e([h,0],j3e(v),!1))}this.refreshList(f),f&&((o=this.virtualList.getComponentAt(h))===null||o===void 0||o.afterAdd())},t.prototype.removeItem=function(e){var r,i=e.parent,o=e.filterModel,a=i.conditions.indexOf(o);i.conditions.splice(a,1);var s=((r=e.filterModel)===null||r===void 0?void 0:r.filterType)==="join",l=this.items.indexOf(e),u=!s&&l>=0;u&&this.items.splice(l,1),this.refreshList(u),l>=0&&this.virtualList.focusRow(l)},t.prototype.moveItemUpDown=function(e,r){var i=this.items.indexOf(e),o=r?i-1:i+1;if(!(o===0||!r&&!this.canMoveDown(e,i))){var a=this.items[o],s=this.removeItemFromParent(e),l=e.level,u=e.filterModel,c=e.parent,d=a.level,p=a.filterModel,h=a.parent;if(r)if(d===l&&p.filterType==="join")p.conditions.push(u);else if(d<=l){var f=h.conditions.indexOf(p);h.conditions.splice(f,0,u)}else{var v=c.conditions[s-1];v.conditions.push(u)}else if(d===l)if(p.filterType==="join")p.conditions.splice(0,0,u);else{var g=h.conditions.indexOf(p);h.conditions.splice(g+1,0,u)}else if(s<c.conditions.length)c.conditions.splice(s+1,0,u);else{var m=this.items.find(function(w){return w.filterModel===c}),y=m.parent.conditions.indexOf(m.filterModel)+1;m.parent.conditions.splice(y,0,u)}this.refreshList(!1);var C=this.items.findIndex(function(w){var _=w.filterModel;return _===u});if(C>=0){var S=this.virtualList.getComponentAt(C);S instanceof PL&&S.focusMoveButton(r)}}},t.prototype.canMoveDown=function(e,r){return!(e.level===1&&r===this.items.length-2||e.level===1&&e.parent.conditions[e.parent.conditions.length-1]===e.filterModel)},t.prototype.close=function(){this.advancedFilterService.getCtrl().toggleFilterBuilder("ui")},t.prototype.validate=function(){var e=!this.items.every(function(r){var i=r.valid;return i});e?this.validationMessage=this.advancedFilterExpressionService.translate("advancedFilterBuilderValidationIncomplete"):(e=JSON.stringify(this.filterModel)===this.stringifiedModel,e?this.validationMessage=this.advancedFilterExpressionService.translate("advancedFilterBuilderValidationAlreadyApplied"):this.validationMessage=null),F.setDisabled(this.eApplyFilterButton,e),this.validationTooltipFeature.refreshToolTip()},t.prototype.validateItems=function(){var e=this,r=function(o){o.type=void 0},i=function(o){delete o.filter};this.items.forEach(function(o){if(!(!o.valid||!o.filterModel||o.filterModel.filterType==="join")){var a=o.filterModel,s=a.colId,l=e.advancedFilterExpressionService.getColumnAutocompleteEntries().find(function(p){var h=p.key;return h===s}),u=e.advancedFilterExpressionService.getColumnDetails(a.colId);if(!l||!u.column){o.valid=!1,a.colId=void 0,r(a),i(a);return}var c=e.advancedFilterExpressionService.getDataTypeExpressionOperator(u.baseCellDataType),d=c.operators[a.type];if(!d){o.valid=!1,r(a),i(a);return}if(d.numOperands>0&&!F.exists(a.filter)){o.valid=!1;return}}})},Wd([U("eList")],t.prototype,"eList",void 0),Wd([U("eApplyFilterButton")],t.prototype,"eApplyFilterButton",void 0),Wd([U("eCancelFilterButton")],t.prototype,"eCancelFilterButton",void 0),Wd([O("filterManager")],t.prototype,"filterManager",void 0),Wd([O("advancedFilterService")],t.prototype,"advancedFilterService",void 0),Wd([O("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),Wd([O("beans")],t.prototype,"beans",void 0),Wd([q],t.prototype,"postConstruct",null),t}(Ce),W3e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),WC=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},U3e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},z3e=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},Aee=function(n){W3e(t,n);function t(e){var r=n.call(this)||this;return r.enabled=e,r}return t.prototype.postConstruct=function(){var e=this;this.hasAdvancedFilterParent=!!this.gridOptionsService.get("advancedFilterParent"),this.ctrlsService.whenReady(function(){return e.setAdvancedFilterComp()}),this.addManagedListener(this.eventService,M.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,function(r){var i=r.enabled;return e.onEnabledChanged(i)}),this.addManagedPropertyListener("advancedFilterParent",function(){return e.updateComps()}),this.addDestroyFunc(function(){e.destroyAdvancedFilterComp(),e.destroyBean(e.eBuilderComp),e.eBuilderDialog&&e.eBuilderDialog.isAlive()&&e.destroyBean(e.eBuilderDialog)})},t.prototype.setupHeaderComp=function(e){this.eHeaderComp=this.createManagedBean(new _3e(this.enabled&&!this.hasAdvancedFilterParent)),e.insertAdjacentElement("beforebegin",this.eHeaderComp.getGui())},t.prototype.focusHeaderComp=function(){return this.eHeaderComp?(this.eHeaderComp.getFocusableElement().focus(),!0):!1},t.prototype.refreshComp=function(){var e,r;(e=this.eFilterComp)===null||e===void 0||e.refresh(),(r=this.eHeaderComp)===null||r===void 0||r.refresh()},t.prototype.refreshBuilderComp=function(){var e;(e=this.eBuilderComp)===null||e===void 0||e.refresh()},t.prototype.getHeaderHeight=function(){var e,r;return(r=(e=this.eHeaderComp)===null||e===void 0?void 0:e.getHeight())!==null&&r!==void 0?r:0},t.prototype.setInputDisabled=function(e){var r,i;(r=this.eFilterComp)===null||r===void 0||r.setInputDisabled(e),(i=this.eHeaderComp)===null||i===void 0||i.setInputDisabled(e)},t.prototype.toggleFilterBuilder=function(e,r){var i=this;if(!(r&&this.eBuilderDialog||r===!1&&!this.eBuilderDialog)){if(this.eBuilderDialog){this.builderDestroySource=e,this.destroyBean(this.eBuilderDialog);return}this.setInputDisabled(!0);var o=this.getBuilderDialogSize(),a=o.width,s=o.height,l=o.minWidth;this.eBuilderComp=this.createBean(new $3e),this.eBuilderDialog=this.createBean(new fv({title:this.advancedFilterExpressionService.translate("advancedFilterBuilderTitle"),component:this.eBuilderComp,width:a,height:s,resizable:!0,movable:!0,maximizable:!0,centered:!0,closable:!0,minWidth:l,afterGuiAttached:function(){var u;return(u=i.eBuilderComp)===null||u===void 0?void 0:u.afterGuiAttached()}})),this.dispatchFilterBuilderVisibleChangedEvent(e,!0),this.eBuilderDialog.addEventListener(fv.EVENT_DESTROYED,function(){var u;i.destroyBean(i.eBuilderComp),i.eBuilderComp=void 0,i.eBuilderDialog=void 0,i.setInputDisabled(!1),i.dispatchEvent({type:t.EVENT_BUILDER_CLOSED}),i.dispatchFilterBuilderVisibleChangedEvent((u=i.builderDestroySource)!==null&&u!==void 0?u:"ui",!1),i.builderDestroySource=void 0})}},t.prototype.dispatchFilterBuilderVisibleChangedEvent=function(e,r){var i={type:M.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED,source:e,visible:r};this.eventService.dispatchEvent(i)},t.prototype.getBuilderDialogSize=function(){var e,r,i=(r=(e=this.gridOptionsService.get("advancedFilterBuilderParams"))===null||e===void 0?void 0:e.minWidth)!==null&&r!==void 0?r:500,o=this.popupService.getPopupParent(),a=Math.round(F.getAbsoluteWidth(o))-2,s=Math.round(F.getAbsoluteHeight(o)*.75)-2,l=Math.min(Math.max(600,i),a),u=Math.min(600,s);return{width:l,height:u,minWidth:i}},t.prototype.onEnabledChanged=function(e){this.enabled=e,this.updateComps()},t.prototype.updateComps=function(){this.setAdvancedFilterComp(),this.setHeaderCompEnabled(),this.eventService.dispatchEvent({type:M.EVENT_HEADER_HEIGHT_CHANGED})},t.prototype.setAdvancedFilterComp=function(){var e;if(this.destroyAdvancedFilterComp(),!!this.enabled){var r=this.gridOptionsService.get("advancedFilterParent");if(this.hasAdvancedFilterParent=!!r,r){var i=this.createBean(new fj),o=i.getGui(),a=this.environment.getTheme().allThemes;a.length&&(e=o.classList).add.apply(e,z3e([],U3e(a),!1)),o.classList.add(this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr"),r.appendChild(o),this.eFilterComp=i}}},t.prototype.setHeaderCompEnabled=function(){var e;(e=this.eHeaderComp)===null||e===void 0||e.setEnabled(this.enabled&&!this.hasAdvancedFilterParent)},t.prototype.destroyAdvancedFilterComp=function(){this.eFilterComp&&(F.removeFromParent(this.eFilterComp.getGui()),this.destroyBean(this.eFilterComp))},t.EVENT_BUILDER_CLOSED="advancedFilterBuilderClosed",WC([O("focusService")],t.prototype,"focusService",void 0),WC([O("ctrlsService")],t.prototype,"ctrlsService",void 0),WC([O("popupService")],t.prototype,"popupService",void 0),WC([O("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),WC([q],t.prototype,"postConstruct",null),t}(re),K3e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),_c=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},fj=function(n){K3e(t,n);function t(){var e=n.call(this,`
            <div class="ag-advanced-filter" role="presentation" tabindex="-1">
                <ag-autocomplete ref="eAutocomplete"></ag-autocomplete>
                <button class="ag-button ag-standard-button ag-advanced-filter-apply-button" ref="eApplyFilterButton"></button>
                <button class="ag-advanced-filter-builder-button" ref="eBuilderFilterButton">
                    <span ref="eBuilderFilterButtonIcon" aria-hidden="true"></span>
                    <span class="ag-advanced-filter-builder-button-label" ref="eBuilderFilterButtonLabel"></span>
                </button>
            </div>`)||this;return e.expressionParser=null,e.isApplyDisabled=!0,e.builderOpen=!1,e}return t.prototype.postConstruct=function(){var e=this;this.eAutocomplete.setListGenerator(function(r,i){return e.generateAutocompleteListParams(i)}).setValidator(function(){return e.validateValue()}).setForceLastSelection(function(r,i){return e.forceLastSelection(r,i)}).setInputAriaLabel(this.advancedFilterExpressionService.translate("ariaAdvancedFilterInput")).setListAriaLabel(this.advancedFilterExpressionService.translate("ariaLabelAdvancedFilterAutocomplete")),this.refresh(),this.addManagedListener(this.eAutocomplete,zg.EVENT_VALUE_CHANGED,function(r){var i=r.value;return e.onValueChanged(i)}),this.addManagedListener(this.eAutocomplete,zg.EVENT_VALUE_CONFIRMED,function(r){var i=r.isValid;return e.onValueConfirmed(i)}),this.addManagedListener(this.eAutocomplete,zg.EVENT_OPTION_SELECTED,function(r){var i=r.position,o=r.updateEntry,a=r.autocompleteType;return e.onOptionSelected(i,o,a)}),this.addManagedListener(this.eAutocomplete,zg.EVENT_VALID_CHANGED,function(r){var i=r.isValid,o=r.validationMessage;return e.onValidChanged(i,o)}),this.setupApplyButton(),this.setupBuilderButton()},t.prototype.refresh=function(){var e=this.advancedFilterService.getExpressionDisplayValue();this.eAutocomplete.setValue({value:e??"",position:e==null?void 0:e.length,updateListOnlyIfOpen:!0})},t.prototype.setInputDisabled=function(e){this.eAutocomplete.setInputDisabled(e),F.setDisabled(this.eApplyFilterButton,e||this.isApplyDisabled)},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="advancedFilter",e},t.prototype.setupApplyButton=function(){var e=this;this.eApplyFilterButton.innerText=this.advancedFilterExpressionService.translate("advancedFilterApply"),this.activateTabIndex([this.eApplyFilterButton]),this.addManagedListener(this.eApplyFilterButton,"click",function(){return e.onValueConfirmed(e.eAutocomplete.isValid())}),F.setDisabled(this.eApplyFilterButton,this.isApplyDisabled)},t.prototype.setupBuilderButton=function(){var e=this;this.eBuilderFilterButtonIcon.appendChild(F.createIconNoSpan("advancedFilterBuilder",this.gridOptionsService)),this.eBuilderFilterButtonLabel.innerText=this.advancedFilterExpressionService.translate("advancedFilterBuilder"),this.activateTabIndex([this.eBuilderFilterButton]),this.addManagedListener(this.eBuilderFilterButton,"click",function(){return e.openBuilder()}),this.addManagedListener(this.advancedFilterService.getCtrl(),Aee.EVENT_BUILDER_CLOSED,function(){return e.closeBuilder()})},t.prototype.onValueChanged=function(e){var r;e=F.makeNull(e),this.advancedFilterService.setExpressionDisplayValue(e),this.expressionParser=this.advancedFilterService.createExpressionParser(e);var i=(r=this.expressionParser)===null||r===void 0?void 0:r.parseExpression();i&&i!==e&&this.eAutocomplete.setValue({value:i,silent:!0,restoreFocus:!0})},t.prototype.onValueConfirmed=function(e){!e||this.isApplyDisabled||(F.setDisabled(this.eApplyFilterButton,!0),this.advancedFilterService.applyExpression(),this.filterManager.onFilterChanged({source:"advancedFilter"}))},t.prototype.onOptionSelected=function(e,r,i){var o=this.updateExpression(e,r,i),a=o.updatedValue,s=o.updatedPosition,l=o.hideAutocomplete;this.eAutocomplete.setValue({value:a,position:s,updateListOnlyIfOpen:l,restoreFocus:!0})},t.prototype.validateValue=function(){var e,r,i;return!((e=this.expressionParser)===null||e===void 0)&&e.isValid()?null:(i=(r=this.expressionParser)===null||r===void 0?void 0:r.getValidationMessage())!==null&&i!==void 0?i:null},t.prototype.onValidChanged=function(e,r){this.isApplyDisabled=!e||this.advancedFilterService.isCurrentExpressionApplied(),F.setDisabled(this.eApplyFilterButton,this.isApplyDisabled),this.setTooltip(r,1e3)},t.prototype.generateAutocompleteListParams=function(e){return this.expressionParser?this.expressionParser.getAutocompleteListParams(e):this.advancedFilterExpressionService.getDefaultAutocompleteListParams("")},t.prototype.updateExpression=function(e,r,i){var o,a;return this.advancedFilterExpressionService.updateAutocompleteCache(r,i),(a=(o=this.expressionParser)===null||o===void 0?void 0:o.updateExpression(e,r,i))!==null&&a!==void 0?a:this.advancedFilterService.getDefaultExpression(r)},t.prototype.forceLastSelection=function(e,r){var i=e.key,o=e.displayValue;return!!r.toLocaleLowerCase().match("^".concat((o??i).toLocaleLowerCase(),"\\s*$"))},t.prototype.openBuilder=function(){this.builderOpen||(this.builderOpen=!0,F.setDisabled(this.eBuilderFilterButton,!0),this.advancedFilterService.getCtrl().toggleFilterBuilder("ui"))},t.prototype.closeBuilder=function(){this.builderOpen&&(this.builderOpen=!1,F.setDisabled(this.eBuilderFilterButton,!1),this.eBuilderFilterButton.focus())},_c([U("eAutocomplete")],t.prototype,"eAutocomplete",void 0),_c([U("eApplyFilterButton")],t.prototype,"eApplyFilterButton",void 0),_c([U("eBuilderFilterButton")],t.prototype,"eBuilderFilterButton",void 0),_c([U("eBuilderFilterButtonIcon")],t.prototype,"eBuilderFilterButtonIcon",void 0),_c([U("eBuilderFilterButtonLabel")],t.prototype,"eBuilderFilterButtonLabel",void 0),_c([O("advancedFilterService")],t.prototype,"advancedFilterService",void 0),_c([O("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),_c([O("filterManager")],t.prototype,"filterManager",void 0),_c([q],t.prototype,"postConstruct",null),t}(Ce),Y3e={ariaAdvancedFilterBuilderItem:function(n){return"".concat(n[0],". Level ").concat(n[1],". Press ENTER to edit.")},ariaAdvancedFilterBuilderItemValidation:function(n){return"".concat(n[0],". Level ").concat(n[1],". ").concat(n[2]," Press ENTER to edit.")},ariaAdvancedFilterBuilderList:"Advanced Filter Builder List",ariaAdvancedFilterBuilderFilterItem:"Filter Condition",ariaAdvancedFilterBuilderGroupItem:"Filter Group",ariaAdvancedFilterBuilderColumn:"Column",ariaAdvancedFilterBuilderOption:"Option",ariaAdvancedFilterBuilderValue:"Value",ariaAdvancedFilterBuilderJoinOperator:"Join Operator",ariaAdvancedFilterInput:"Advanced Filter Input",ariaLabelAdvancedFilterAutocomplete:"Advanced Filter Autocomplete",advancedFilterContains:"contains",advancedFilterNotContains:"does not contain",advancedFilterTextEquals:"equals",advancedFilterTextNotEqual:"does not equal",advancedFilterStartsWith:"begins with",advancedFilterEndsWith:"ends with",advancedFilterBlank:"is blank",advancedFilterNotBlank:"is not blank",advancedFilterEquals:"=",advancedFilterNotEqual:"!=",advancedFilterGreaterThan:">",advancedFilterGreaterThanOrEqual:">=",advancedFilterLessThan:"<",advancedFilterLessThanOrEqual:"<=",advancedFilterTrue:"is true",advancedFilterFalse:"is false",advancedFilterAnd:"AND",advancedFilterOr:"OR",advancedFilterApply:"Apply",advancedFilterBuilder:"Builder",advancedFilterValidationMissingColumn:"Column is missing",advancedFilterValidationMissingOption:"Option is missing",advancedFilterValidationMissingValue:"Value is missing",advancedFilterValidationInvalidColumn:"Column not found",advancedFilterValidationInvalidOption:"Option not found",advancedFilterValidationMissingQuote:"Value is missing an end quote",advancedFilterValidationNotANumber:"Value is not a number",advancedFilterValidationInvalidDate:"Value is not a valid date",advancedFilterValidationMissingCondition:"Condition is missing",advancedFilterValidationJoinOperatorMismatch:"Join operators within a condition must be the same",advancedFilterValidationInvalidJoinOperator:"Join operator not found",advancedFilterValidationMissingEndBracket:"Missing end bracket",advancedFilterValidationExtraEndBracket:"Too many end brackets",advancedFilterValidationMessage:function(n){return"Expression has an error. ".concat(n[0]," - ").concat(n[1],".")},advancedFilterValidationMessageAtEnd:function(n){return"Expression has an error. ".concat(n[0]," at end of expression.")},advancedFilterBuilderTitle:"Advanced Filter",advancedFilterBuilderApply:"Apply",advancedFilterBuilderCancel:"Cancel",advancedFilterBuilderAddButtonTooltip:"Add Filter or Group",advancedFilterBuilderRemoveButtonTooltip:"Remove",advancedFilterBuilderMoveUpButtonTooltip:"Move Up",advancedFilterBuilderMoveDownButtonTooltip:"Move Down",advancedFilterBuilderAddJoin:"Add Group",advancedFilterBuilderAddCondition:"Add Filter",advancedFilterBuilderSelectColumn:"Select a column",advancedFilterBuilderSelectOption:"Select an option",advancedFilterBuilderEnterValue:"Enter a value...",advancedFilterBuilderValidationAlreadyApplied:"Current filter already applied.",advancedFilterBuilderValidationIncomplete:"Not all conditions are complete.",advancedFilterBuilderValidationSelectColumn:"Must select a column.",advancedFilterBuilderValidationSelectOption:"Must select an option.",advancedFilterBuilderValidationEnterValue:"Must enter a value."};function B1(n,t,e){if(!n)return"";var r=e-t;return r?n.slice(0,n.length-r):n}function Np(n,t,e,r,i,o,a){var s=e+(!n.length||a?0:1),l=0;i&&(n[s]===" "?l=1:(r+=" ",o&&(r+='"')));var u=n.slice(0,t)+r+n.slice(s);return{updatedValue:u,updatedPosition:t+r.length+l}}function q3e(n,t,e){for(var r=t;r<e;){var i=n[r];if(i!==" ")break;r++}return r}function j1(n,t,e,r){for(var i=t,o=!1;i<n.length;){var a=n[i];if(a==="("){r&&n[i-1]===" "?o=!0:i=i-1;break}else if(a===" "||e&&a===")"){i=i-1;break}i++}return{endPosition:i,isEmpty:o}}function vj(n,t,e,r){e!==t&&(n.expression=Np(n.expression,r-t.length+1,r,e).updatedValue)}function X3e(n){return n.replace(/(['"])/,"\\$1")}var qR=function(){return qR=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},qR.apply(this,arguments)},Z3e=function(){function n(t,e){this.params=t,this.startPosition=e,this.type="column",this.valid=!0,this.hasStartChar=!1,this.hasEndChar=!1,this.colName=""}return n.prototype.parse=function(t,e){if(t===If.COL_START_CHAR&&!this.colName)this.hasStartChar=!0;else if(t===If.COL_END_CHAR&&this.hasStartChar){var r=this.parseColumn(!1,e);if(r)return this.hasEndChar=!0,!1;this.colName+=t}else this.colName+=t},n.prototype.getDisplayValue=function(){return(this.hasStartChar?If.COL_START_CHAR:"")+this.colName+(this.hasEndChar?If.COL_END_CHAR:"")},n.prototype.getColId=function(){return this.colId},n.prototype.complete=function(t){this.parseColumn(!0,t)},n.prototype.getValidationError=function(){var t;return this.valid?null:{message:this.params.advancedFilterExpressionService.translate("advancedFilterValidationInvalidColumn"),startPosition:this.startPosition,endPosition:(t=this.endPosition)!==null&&t!==void 0?t:this.params.expression.length-1}},n.prototype.parseColumn=function(t,e){var r;this.endPosition=e;var i=this.params.advancedFilterExpressionService.getColId(this.colName);return i&&this.hasStartChar&&(this.colId=i.colId,vj(this.params,this.colName,i.columnName,e-1),this.colName=i.columnName,this.column=this.params.columnModel.getPrimaryColumn(this.colId),this.column)?(this.baseCellDataType=(r=this.params.dataTypeService.getBaseDataType(this.column))!==null&&r!==void 0?r:"text",!0):(t&&(this.valid=!1),this.baseCellDataType="text",!1)},n}(),Q3e=function(){function n(t,e,r){this.params=t,this.startPosition=e,this.baseCellDataType=r,this.type="operator",this.valid=!0,this.expectedNumOperands=0,this.operator=""}return n.prototype.parse=function(t,e){if(t===" "||t===")"){var r=this.parseOperator(!1,e-1);if(r)return!0;this.operator+=t}else this.operator+=t},n.prototype.complete=function(t){this.parseOperator(!0,t)},n.prototype.getValidationError=function(){var t;return this.valid?null:{message:this.params.advancedFilterExpressionService.translate("advancedFilterValidationInvalidOption"),startPosition:this.startPosition,endPosition:(t=this.endPosition)!==null&&t!==void 0?t:this.params.expression.length-1}},n.prototype.getDisplayValue=function(){return this.operator},n.prototype.getOperatorKey=function(){return this.parsedOperator},n.prototype.parseOperator=function(t,e){var r=this.params.advancedFilterExpressionService.getDataTypeExpressionOperator(this.baseCellDataType),i=r.findOperator(this.operator);if(this.endPosition=e,i){this.parsedOperator=i;var o=r.operators[i];this.expectedNumOperands=o.numOperands;var a=o.displayValue;return vj(this.params,this.operator,a,e),this.operator=a,!0}var s=i===null;return(t||!s)&&(this.valid=!1),!1},n}(),J3e=function(){function n(t,e,r,i){this.params=t,this.startPosition=e,this.baseCellDataType=r,this.column=i,this.type="operand",this.valid=!0,this.operand="",this.validationMessage=null}return n.prototype.parse=function(t,e){if(t===" ")if(this.quotes)this.operand+=t;else return this.parseOperand(!1,e),!0;else if(t===")"){if(this.baseCellDataType==="number"||!this.quotes)return this.parseOperand(!1,e-1),!0;this.operand+=t}else if(!this.operand&&!this.quotes&&(t==="'"||t==='"'))this.quotes=t;else{if(this.quotes&&t===this.quotes)return this.parseOperand(!1,e),!1;this.operand+=t}},n.prototype.complete=function(t){this.parseOperand(!0,t)},n.prototype.getValidationError=function(){var t;return this.validationMessage?{message:this.validationMessage,startPosition:this.startPosition,endPosition:(t=this.endPosition)!==null&&t!==void 0?t:this.params.expression.length-1}:null},n.prototype.getRawValue=function(){return this.operand},n.prototype.getModelValue=function(){return this.modelValue},n.prototype.parseOperand=function(t,e){var r=this.params.advancedFilterExpressionService;if(this.endPosition=e,this.modelValue=this.operand,t&&this.quotes)this.valid=!1,this.validationMessage=r.translate("advancedFilterValidationMissingQuote");else if(this.modelValue==="")this.valid=!1,this.validationMessage=r.translate("advancedFilterValidationMissingValue");else{var i=r.getOperandModelValue(this.operand,this.baseCellDataType,this.column);switch(i!=null&&(this.modelValue=i),this.baseCellDataType){case"number":(this.quotes||isNaN(this.modelValue))&&(this.valid=!1,this.validationMessage=r.translate("advancedFilterValidationNotANumber"));break;case"date":case"dateString":i==null&&(this.valid=!1,this.validationMessage=r.translate("advancedFilterValidationInvalidDate"));break}}},n}(),If=function(){function n(t,e){this.params=t,this.startPosition=e,this.isAwaiting=!0}return n.prototype.parseExpression=function(){for(var t,e,r=this.startPosition,i=this.params.expression;r<i.length;){var o=i[r];if(!(o===" "&&this.isAwaiting)){if(this.isAwaiting=!1,!this.parser){var a=void 0;this.columnParser?this.operatorParser?(this.operandParser=new J3e(this.params,r,this.columnParser.baseCellDataType,this.columnParser.column),a=this.operandParser):(this.operatorParser=new Q3e(this.params,r,this.columnParser.baseCellDataType),a=this.operatorParser):(this.columnParser=new Z3e(this.params,r),a=this.columnParser),this.parser=a}var s=this.parser.parse(o,r);if(s!=null){if(this.isComplete())return this.returnEndPosition(s?r-1:r,!0);this.parser=void 0,this.isAwaiting=!0}}r++}return(e=(t=this.parser)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t,r-1),this.returnEndPosition(r)},n.prototype.isValid=function(){return this.isComplete()&&this.columnParser.valid&&this.operatorParser.valid&&(!this.operandParser||this.operandParser.valid)},n.prototype.getValidationError=function(){var t,e,r,i,o,a=(i=(e=(t=this.columnParser)===null||t===void 0?void 0:t.getValidationError())!==null&&e!==void 0?e:(r=this.operatorParser)===null||r===void 0?void 0:r.getValidationError())!==null&&i!==void 0?i:(o=this.operandParser)===null||o===void 0?void 0:o.getValidationError();if(a)return a;var s=this.params.expression.length,l;return this.columnParser?this.operatorParser?this.operatorParser.expectedNumOperands&&!this.operandParser&&(l="advancedFilterValidationMissingValue"):l="advancedFilterValidationMissingOption":l="advancedFilterValidationMissingColumn",l?{message:this.params.advancedFilterExpressionService.translate(l),startPosition:s,endPosition:s}:null},n.prototype.getFunction=function(t){var e,r,i=this.columnParser.getColId(),o=X3e(i),a=(e=this.operatorParser)===null||e===void 0?void 0:e.getOperatorKey(),s=t.operators,l=t.evaluatorParams,u=t.operands,c=this.params.advancedFilterExpressionService.getExpressionOperator(this.columnParser.baseCellDataType,a),d=this.addToListAndGetIndex(s,c),p=this.params.advancedFilterExpressionService.getExpressionEvaluatorParams(i),h=this.addToListAndGetIndex(l,p),f;if(((r=this.operatorParser)===null||r===void 0?void 0:r.expectedNumOperands)===0)f="";else{var v=this.addToListAndGetIndex(u,this.getOperandValue());f=", params.operands[".concat(v,"]")}return"params.operators[".concat(d,"].evaluator(expressionProxy.getValue('").concat(o,"', node), node, params.evaluatorParams[").concat(h,"]").concat(f,")")},n.prototype.getAutocompleteListParams=function(t){if(this.isColumnPosition(t))return this.getColumnAutocompleteListParams(t);if(this.isOperatorPosition(t))return this.getOperatorAutocompleteListParams(t);if(!this.isBeyondEndPosition(t))return{enabled:!1}},n.prototype.updateExpression=function(t,e,r){var i,o,a,s,l,u=this.params.expression;if(this.isColumnPosition(t))return Np(this.params.expression,this.startPosition,!((i=this.columnParser)===null||i===void 0)&&i.getColId()?this.columnParser.endPosition:j1(u,t).endPosition,this.params.advancedFilterExpressionService.getColumnValue(e),!0);if(this.isOperatorPosition(t)){var c=this.getBaseCellDataTypeFromOperatorAutocompleteType(r),d=this.hasOperand(c,e.key),p=d&&this.doesOperandNeedQuotes(c),h=void 0;if(((o=this.operatorParser)===null||o===void 0?void 0:o.startPosition)!=null&&t<this.operatorParser.startPosition)h=Np(u,t,t,(a=e.displayValue)!==null&&a!==void 0?a:e.key,d,p);else{var f=void 0,v=!1;if(!((s=this.operatorParser)===null||s===void 0)&&s.getOperatorKey())f=this.operatorParser.endPosition;else{var g=j1(u,t,!0,!0),m=g.endPosition,y=g.isEmpty;f=m,v=y}h=Np(u,q3e(u,this.columnParser.endPosition+1,f),f,(l=e.displayValue)!==null&&l!==void 0?l:e.key,d,p,v)}return qR(qR({},h),{hideAutocomplete:!d})}return null},n.prototype.getModel=function(){var t=this.columnParser.getColId(),e={filterType:this.columnParser.baseCellDataType,colId:t,type:this.operatorParser.getOperatorKey()};return this.operatorParser.expectedNumOperands&&(e.filter=this.operandParser.getModelValue()),e},n.prototype.getOperandValue=function(){var t=this.operandParser.getRawValue(),e=this.columnParser,r=e.baseCellDataType,i=e.column;switch(r){case"number":t=Number(t);break;case"date":case"dateString":t=this.params.valueParserService.parseValue(i,null,t,void 0);break}return r==="dateString"?this.params.dataTypeService.getDateParserFunction(i)(t):t},n.prototype.isComplete=function(){return!!(this.operatorParser&&(!this.operatorParser.expectedNumOperands||this.operatorParser.expectedNumOperands&&this.operandParser))},n.prototype.isColumnPosition=function(t){return!this.columnParser||this.columnParser.endPosition==null||t<=this.columnParser.endPosition+1},n.prototype.isOperatorPosition=function(t){return!this.operatorParser||this.operatorParser.endPosition==null||t<=this.operatorParser.endPosition+1},n.prototype.isBeyondEndPosition=function(t){return this.isComplete()&&this.endPosition!=null&&t>this.endPosition+1&&this.endPosition+1<this.params.expression.length},n.prototype.returnEndPosition=function(t,e){return this.endPosition=e?t:t-1,t},n.prototype.getColumnAutocompleteListParams=function(t){return this.params.advancedFilterExpressionService.generateAutocompleteListParams(this.params.advancedFilterExpressionService.getColumnAutocompleteEntries(),"column",this.getColumnSearchString(t))},n.prototype.getColumnSearchString=function(t){var e,r,i,o,a,s=(r=(e=this.columnParser)===null||e===void 0?void 0:e.getDisplayValue())!==null&&r!==void 0?r:"",l=B1(s,t,((i=this.columnParser)===null||i===void 0?void 0:i.endPosition)==null?this.params.expression.length:this.columnParser.endPosition+1),u=((o=this.columnParser)===null||o===void 0?void 0:o.hasStartChar)&&l.length>0,c=((a=this.columnParser)===null||a===void 0?void 0:a.hasEndChar)&&l.length===s.length+2;return u?l.slice(1,c?-1:void 0):l},n.prototype.getOperatorAutocompleteListParams=function(t){var e,r,i,o,a,s=(e=this.columnParser)===null||e===void 0?void 0:e.column;if(!s)return{enabled:!1};var l=this.columnParser.baseCellDataType,u=((r=this.operatorParser)===null||r===void 0?void 0:r.startPosition)!=null&&t<this.operatorParser.startPosition?"":B1((o=(i=this.operatorParser)===null||i===void 0?void 0:i.getDisplayValue())!==null&&o!==void 0?o:"",t,((a=this.operatorParser)===null||a===void 0?void 0:a.endPosition)==null?this.params.expression.length:this.operatorParser.endPosition+1);return this.params.advancedFilterExpressionService.generateAutocompleteListParams(this.params.advancedFilterExpressionService.getOperatorAutocompleteEntries(s,l),"operator-".concat(l),u)},n.prototype.getBaseCellDataTypeFromOperatorAutocompleteType=function(t){return t==null?void 0:t.replace("operator-","")},n.prototype.hasOperand=function(t,e){var r,i;return!t||!e||((i=(r=this.params.advancedFilterExpressionService.getExpressionOperator(t,e))===null||r===void 0?void 0:r.numOperands)!==null&&i!==void 0?i:0)>0},n.prototype.doesOperandNeedQuotes=function(t){return t!=="number"},n.prototype.addToListAndGetIndex=function(t,e){var r=t.length;return t.push(e),r},n.COL_START_CHAR="[",n.COL_END_CHAR="]",n}(),eUe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o};function ID(n,t,e){var r=!1,i=n.toLocaleLowerCase(),o=i+" ",a=Object.entries(t).find(function(s){var l=eUe(s,2);l[0];var u=l[1],c=e(u).toLocaleLowerCase();return c.startsWith(o)&&(r=!0),c===i});return a?a[0]:r?null:void 0}function gj(n,t){var e=t??Object.keys(n);return e.map(function(r){return{key:r,displayValue:n[r].displayValue}})}var u4=function(){function n(t){this.params=t,this.initOperators()}return n.prototype.getEntries=function(t){return gj(this.operators,t)},n.prototype.findOperator=function(t){return ID(t,this.operators,function(e){var r=e.displayValue;return r})},n.prototype.initOperators=function(){var t=this,e=this.params.translate;this.operators={contains:{displayValue:e("advancedFilterContains"),evaluator:function(r,i,o,a){return t.evaluateExpression(r,i,o,a,!1,function(s,l){return s.includes(l)})},numOperands:1},notContains:{displayValue:e("advancedFilterNotContains"),evaluator:function(r,i,o,a){return t.evaluateExpression(r,i,o,a,!0,function(s,l){return!s.includes(l)})},numOperands:1},equals:{displayValue:e("advancedFilterTextEquals"),evaluator:function(r,i,o,a){return t.evaluateExpression(r,i,o,a,!1,function(s,l){return s===l})},numOperands:1},notEqual:{displayValue:e("advancedFilterTextNotEqual"),evaluator:function(r,i,o,a){return t.evaluateExpression(r,i,o,a,!0,function(s,l){return s!=l})},numOperands:1},startsWith:{displayValue:e("advancedFilterStartsWith"),evaluator:function(r,i,o,a){return t.evaluateExpression(r,i,o,a,!1,function(s,l){return s.startsWith(l)})},numOperands:1},endsWith:{displayValue:e("advancedFilterEndsWith"),evaluator:function(r,i,o,a){return t.evaluateExpression(r,i,o,a,!1,function(s,l){return s.endsWith(l)})},numOperands:1},blank:{displayValue:e("advancedFilterBlank"),evaluator:function(r){return r==null||typeof r=="string"&&r.trim().length===0},numOperands:0},notBlank:{displayValue:e("advancedFilterNotBlank"),evaluator:function(r){return r!=null&&(typeof r!="string"||r.trim().length>0)},numOperands:0}}},n.prototype.evaluateExpression=function(t,e,r,i,o,a){return t==null?o:r.caseSensitive?a(r.valueConverter(t,e),i):a(r.valueConverter(t,e).toLocaleLowerCase(),i.toLocaleLowerCase())},n}(),DL=function(){function n(t){this.params=t,this.initOperators()}return n.prototype.getEntries=function(t){return gj(this.operators,t)},n.prototype.findOperator=function(t){return ID(t,this.operators,function(e){var r=e.displayValue;return r})},n.prototype.initOperators=function(){var t=this,e=this.params,r=e.translate,i=e.equals;this.operators={equals:{displayValue:r("advancedFilterEquals"),evaluator:function(o,a,s,l){return t.evaluateSingleOperandExpression(o,a,s,l,!!s.includeBlanksInEquals,i)},numOperands:1},notEqual:{displayValue:r("advancedFilterNotEqual"),evaluator:function(o,a,s,l){return t.evaluateSingleOperandExpression(o,a,s,l,!!s.includeBlanksInEquals,function(u,c){return!i(u,c)})},numOperands:1},greaterThan:{displayValue:r("advancedFilterGreaterThan"),evaluator:function(o,a,s,l){return t.evaluateSingleOperandExpression(o,a,s,l,!!s.includeBlanksInGreaterThan,function(u,c){return u>c})},numOperands:1},greaterThanOrEqual:{displayValue:r("advancedFilterGreaterThanOrEqual"),evaluator:function(o,a,s,l){return t.evaluateSingleOperandExpression(o,a,s,l,!!s.includeBlanksInGreaterThan,function(u,c){return u>=c})},numOperands:1},lessThan:{displayValue:r("advancedFilterLessThan"),evaluator:function(o,a,s,l){return t.evaluateSingleOperandExpression(o,a,s,l,!!s.includeBlanksInLessThan,function(u,c){return u<c})},numOperands:1},lessThanOrEqual:{displayValue:r("advancedFilterLessThanOrEqual"),evaluator:function(o,a,s,l){return t.evaluateSingleOperandExpression(o,a,s,l,!!s.includeBlanksInLessThan,function(u,c){return u<=c})},numOperands:1},blank:{displayValue:r("advancedFilterBlank"),evaluator:function(o){return o==null},numOperands:0},notBlank:{displayValue:r("advancedFilterNotBlank"),evaluator:function(o){return o!=null},numOperands:0}}},n.prototype.evaluateSingleOperandExpression=function(t,e,r,i,o,a){return t==null?o:a(r.valueConverter(t,e),i)},n}(),tUe=function(){function n(t){this.params=t,this.initOperators()}return n.prototype.getEntries=function(t){return gj(this.operators,t)},n.prototype.findOperator=function(t){return ID(t,this.operators,function(e){var r=e.displayValue;return r})},n.prototype.initOperators=function(){var t=this.params.translate;this.operators={true:{displayValue:t("advancedFilterTrue"),evaluator:function(e){return!!e},numOperands:0},false:{displayValue:t("advancedFilterFalse"),evaluator:function(e){return e===!1},numOperands:0},blank:{displayValue:t("advancedFilterBlank"),evaluator:function(e){return e==null},numOperands:0},notBlank:{displayValue:t("advancedFilterNotBlank"),evaluator:function(e){return e!=null},numOperands:0}}},n}(),rUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),rg=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},nUe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},iUe=function(n){rUe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.columnNameToIdMap={},e.columnAutocompleteEntries=null,e.expressionEvaluatorParams={},e}return t.prototype.postConstruct=function(){this.expressionJoinOperators=this.generateExpressionJoinOperators(),this.expressionOperators=this.generateExpressionOperators()},t.prototype.parseJoinOperator=function(e){var r,i=e.type;return(r=this.expressionJoinOperators[i])!==null&&r!==void 0?r:i},t.prototype.getColumnDisplayValue=function(e){var r=e.colId,i=this.getColumnAutocompleteEntries(),o=i.find(function(s){var l=s.key;return l===r}),a;return o?(a=o.displayValue,this.columnNameToIdMap[a.toLocaleUpperCase()]={colId:r,columnName:a}):a=r,a},t.prototype.getOperatorDisplayValue=function(e){var r,i;return(i=(r=this.getExpressionOperator(e.filterType,e.type))===null||r===void 0?void 0:r.displayValue)!==null&&i!==void 0?i:e.type},t.prototype.getOperandModelValue=function(e,r,i){var o;switch(r){case"number":return F.exists(e)?Number(e):null;case"date":return F.serialiseDate(this.valueParserService.parseValue(i,null,e,void 0),!1);case"dateString":var a=this.valueParserService.parseValue(i,null,e,void 0);return F.serialiseDate((o=this.dataTypeService.getDateParserFunction(i)(a))!==null&&o!==void 0?o:null,!1)}return e},t.prototype.getOperandDisplayValue=function(e,r){var i,o,a=e,s=a.colId,l=a.filter,u=this.columnModel.getPrimaryColumn(s),c="";if(l!=null){var d=void 0;switch(e.filterType){case"number":d=(i=F.toStringOrNull(l))!==null&&i!==void 0?i:"";break;case"date":var p=F.parseDateTimeFromString(l);d=u?this.valueFormatterService.formatValue(u,null,p):null;break;case"dateString":var h=F.parseDateTimeFromString(l),f=u?this.dataTypeService.getDateFormatterFunction(u)(h??void 0):null;d=u?this.valueFormatterService.formatValue(u,null,f):null;break}e.filterType!=="number"&&(d=(o=d??F.toStringOrNull(l))!==null&&o!==void 0?o:"",r||(d='"'.concat(d,'"'))),c=r?d:" ".concat(d)}return c},t.prototype.parseColumnFilterModel=function(e){var r,i,o=(r=this.getColumnDisplayValue(e))!==null&&r!==void 0?r:"",a=(i=this.getOperatorDisplayValue(e))!==null&&i!==void 0?i:"",s=this.getOperandDisplayValue(e);return"[".concat(o,"] ").concat(a).concat(s)},t.prototype.updateAutocompleteCache=function(e,r){if(r==="column"){var i=e.key,o=e.displayValue;this.columnNameToIdMap[e.displayValue.toLocaleUpperCase()]={colId:i,columnName:o}}},t.prototype.translate=function(e,r){var i=Y3e[e];return typeof i=="function"&&(i=i(r)),this.localeService.getLocaleTextFunc()(e,i,r)},t.prototype.generateAutocompleteListParams=function(e,r,i){return{enabled:!0,type:r,searchString:i,entries:e}},t.prototype.getColumnAutocompleteEntries=function(){var e=this,r;if(this.columnAutocompleteEntries)return this.columnAutocompleteEntries;var i=(r=this.columnModel.getAllPrimaryColumns())!==null&&r!==void 0?r:[],o=[],a=this.gridOptionsService.get("includeHiddenColumnsInAdvancedFilter");return i.forEach(function(s){s.getColDef().filter&&(a||s.isVisible()||s.isRowGroupActive())&&o.push({key:s.getColId(),displayValue:e.columnModel.getDisplayNameForColumn(s,"advancedFilter")})}),o.sort(function(s,l){var u,c,d=(u=s.displayValue)!==null&&u!==void 0?u:"",p=(c=l.displayValue)!==null&&c!==void 0?c:"";return d<p?-1:p>d?1:0}),o},t.prototype.getOperatorAutocompleteEntries=function(e,r){var i=this.getActiveOperators(e);return this.getDataTypeExpressionOperator(r).getEntries(i)},t.prototype.getJoinOperatorAutocompleteEntries=function(){return Object.entries(this.expressionJoinOperators).map(function(e){var r=nUe(e,2),i=r[0],o=r[1];return{key:i,displayValue:o}})},t.prototype.getDefaultAutocompleteListParams=function(e){return this.generateAutocompleteListParams(this.getColumnAutocompleteEntries(),"column",e)},t.prototype.getDataTypeExpressionOperator=function(e){return this.expressionOperators[e]},t.prototype.getExpressionOperator=function(e,r){var i,o;return(o=(i=this.getDataTypeExpressionOperator(e))===null||i===void 0?void 0:i.operators)===null||o===void 0?void 0:o[r]},t.prototype.getExpressionJoinOperators=function(){return this.expressionJoinOperators},t.prototype.getColId=function(e){var r=e.toLocaleUpperCase(),i=this.columnNameToIdMap[r];if(i)return i;var o=this.getColumnAutocompleteEntries(),a=o.find(function(c){var d=c.displayValue;return d.toLocaleUpperCase()===r});if(a){var s=a.key,l=a.displayValue,u={colId:s,columnName:l};return this.columnNameToIdMap[r]=u,u}return null},t.prototype.getExpressionEvaluatorParams=function(e){var r=this,i=this.expressionEvaluatorParams[e];if(i)return i;var o=this.columnModel.getPrimaryColumn(e);if(!o)return{valueConverter:function(l){return l}};var a=this.dataTypeService.getBaseDataType(o);switch(a){case"dateString":i={valueConverter:this.dataTypeService.getDateParserFunction(o)};break;case"object":o.getColDef().filterValueGetter?i={valueConverter:function(l){return l}}:i={valueConverter:function(l,u){var c;return(c=r.valueFormatterService.formatValue(o,u,l))!==null&&c!==void 0?c:typeof l.toString=="function"?l.toString():""}};break;case"text":case void 0:i={valueConverter:function(l){return F.toStringOrNull(l)}};break;default:i={valueConverter:function(l){return l}};break}var s=o.getColDef().filterParams;return s&&["caseSensitive","includeBlanksInEquals","includeBlanksInLessThan","includeBlanksInGreaterThan"].forEach(function(l){var u=s[l];u&&(i[l]=u)}),this.expressionEvaluatorParams[e]=i,i},t.prototype.getColumnDetails=function(e){var r,i,o=(r=this.columnModel.getPrimaryColumn(e))!==null&&r!==void 0?r:void 0,a=(i=o?this.dataTypeService.getBaseDataType(o):void 0)!==null&&i!==void 0?i:"text";return{column:o,baseCellDataType:a}},t.prototype.generateExpressionOperators=function(){var e=this,r=function(i,o){return e.translate(i,o)};return{text:new u4({translate:r}),boolean:new tUe({translate:r}),object:new u4({translate:r}),number:new DL({translate:r,equals:function(i,o){return i===o}}),date:new DL({translate:r,equals:function(i,o){return i.getTime()===o.getTime()}}),dateString:new DL({translate:r,equals:function(i,o){return i.getTime()===o.getTime()}})}},t.prototype.getColumnValue=function(e){var r=e.displayValue;return"".concat(If.COL_START_CHAR).concat(r).concat(If.COL_END_CHAR)},t.prototype.generateExpressionJoinOperators=function(){return{AND:this.translate("advancedFilterAnd"),OR:this.translate("advancedFilterOr")}},t.prototype.getActiveOperators=function(e){var r,i=(r=e.getColDef().filterParams)===null||r===void 0?void 0:r.filterOptions;if(i){var o=i.every(function(a){return typeof a=="string"});return o?i:void 0}},t.prototype.resetColumnCaches=function(){this.columnAutocompleteEntries=null,this.columnNameToIdMap={},this.expressionEvaluatorParams={}},rg([O("valueFormatterService")],t.prototype,"valueFormatterService",void 0),rg([O("valueParserService")],t.prototype,"valueParserService",void 0),rg([O("columnModel")],t.prototype,"columnModel",void 0),rg([O("dataTypeService")],t.prototype,"dataTypeService",void 0),rg([q],t.prototype,"postConstruct",null),t=rg([me("advancedFilterExpressionService")],t),t}(re),oUe=function(){function n(t){this.params=t,this.operators=[],this.operatorStartPositions=[],this.operatorEndPositions=[],this.activeOperator=0,this.validationError=null}return n.prototype.parseExpression=function(t){this.operators.push(""),this.operatorStartPositions.push(t),this.operatorEndPositions.push(void 0);for(var e=this.params.expression;t<e.length;){var r=e[t];if(r===" "){var i=this.parseOperator(t-1);if(i)return this.activeOperator++,t-1;this.operators[this.activeOperator]+=r}else this.operators[this.activeOperator]+=r;t++}return this.parseOperator(t-1),t},n.prototype.isValid=function(){return!this.validationError&&(!this.operators.length||!!this.parsedOperator)},n.prototype.getValidationError=function(){return this.validationError},n.prototype.getFunction=function(){return this.parsedOperator==="OR"?"||":"&&"},n.prototype.getModel=function(){return this.parsedOperator==="OR"?"OR":"AND"},n.prototype.getAutocompleteListParams=function(t,e){var r=this,i;if(e==null)i="";else{var o=this.operators[e],a=this.operatorEndPositions[e];i=B1(o,t,a==null?this.params.expression.length:a+1)}var s=this.params.advancedFilterExpressionService.getJoinOperatorAutocompleteEntries();return(e||e==null&&this.activeOperator)&&(s=s.filter(function(l){var u=l.key;return u===r.parsedOperator})),this.params.advancedFilterExpressionService.generateAutocompleteListParams(s,"join",i)},n.prototype.updateExpression=function(t,e,r){var i,o,a=this.params.expression,s=(i=e.displayValue)!==null&&i!==void 0?i:e.key;if(r===0)for(var l=this.operatorEndPositions.length-1;l>0;l--){var u=this.operatorEndPositions[l];u!=null&&(a=Np(a,this.operatorStartPositions[l],u,s).updatedValue)}var c=this.operatorStartPositions.length>r?this.operatorStartPositions[r]:t,d=(o=this.operatorEndPositions.length>r?this.operatorEndPositions[r]:void 0)!==null&&o!==void 0?o:j1(a,t,!0).endPosition;return Np(a,c,d,s,!0)},n.prototype.getNumOperators=function(){return this.operators.length},n.prototype.getLastOperatorEndPosition=function(){return this.operatorEndPositions[this.operatorEndPositions.length-1]},n.prototype.parseOperator=function(t){var e=this.operators.length>this.activeOperator?this.operators[this.activeOperator]:"",r=this.params.advancedFilterExpressionService.getExpressionJoinOperators(),i=ID(e,r,function(a){return a});if(i){this.operatorEndPositions[this.activeOperator]=t;var o=r[i];if(this.activeOperator){if(i!==this.parsedOperator)return this.validationError||(this.validationError={message:this.params.advancedFilterExpressionService.translate("advancedFilterValidationJoinOperatorMismatch"),startPosition:t-e.length+1,endPosition:t}),!1}else this.parsedOperator=i;return e!==o&&(vj(this.params,e,o,t),this.operators[this.activeOperator]=o),!0}else return i===null?!1:(this.validationError||(this.validationError={message:this.params.advancedFilterExpressionService.translate("advancedFilterValidationInvalidJoinOperator"),startPosition:t-e.length+1,endPosition:t}),!0)},n}(),aUe=function(){function n(t,e){this.params=t,this.startPosition=e,this.expectingExpression=!0,this.expectingOperator=!1,this.expressionParsers=[],this.operatorParser=new oUe(this.params),this.missingEndBracket=!1,this.extraEndBracket=!1}return n.prototype.parseExpression=function(){for(var t=this.startPosition,e=this.params.expression;t<e.length;){var r=e[t];if(r==="("&&!this.expectingOperator){var i=new n(this.params,t+1);t=i.parseExpression(),this.expressionParsers.push(i),this.expectingExpression=!1,this.expectingOperator=!0}else{if(r===")")return this.endPosition=t-1,this.startPosition===0&&(this.extraEndBracket=!0),t;if(r!==" ")if(this.expectingExpression){var i=new If(this.params,t);t=i.parseExpression(),this.expressionParsers.push(i),this.expectingExpression=!1,this.expectingOperator=!0}else this.expectingOperator&&(t=this.operatorParser.parseExpression(t),this.expectingOperator=!1,this.expectingExpression=!0)}t++}return this.startPosition>0&&(this.missingEndBracket=!0),t},n.prototype.isValid=function(){return!this.missingEndBracket&&!this.extraEndBracket&&this.expressionParsers.length===this.operatorParser.getNumOperators()+1&&this.operatorParser.isValid()&&this.expressionParsers.every(function(t){return t.isValid()})},n.prototype.getValidationError=function(){for(var t=this.operatorParser.getValidationError(),e=0;e<this.expressionParsers.length;e++){var r=this.expressionParsers[e].getValidationError();if(r)return t&&t.startPosition<r.startPosition?t:r}if(t)return t;if(this.extraEndBracket)return{message:this.params.advancedFilterExpressionService.translate("advancedFilterValidationExtraEndBracket"),startPosition:this.endPosition+1,endPosition:this.endPosition+1};var i;return this.expressionParsers.length===this.operatorParser.getNumOperators()?i="advancedFilterValidationMissingCondition":this.missingEndBracket&&(i="advancedFilterValidationMissingEndBracket"),i?{message:this.params.advancedFilterExpressionService.translate(i),startPosition:this.params.expression.length,endPosition:this.params.expression.length}:null},n.prototype.getFunction=function(t){var e=this.expressionParsers.length>1,r=this.expressionParsers.map(function(i){return i.getFunction(t)}).join(" ".concat(this.operatorParser.getFunction()," "));return e?"(".concat(r,")"):r},n.prototype.getAutocompleteListParams=function(t){if(!(this.endPosition!=null&&t>this.endPosition+1)){if(!this.expressionParsers.length)return this.getColumnAutocompleteListParams();var e=this.getExpressionParserIndex(t);if(e==null)return this.params.expression[t]==="("?{enabled:!1}:this.getColumnAutocompleteListParams();var r=this.expressionParsers[e],i=r.getAutocompleteListParams(t);if(!i){if(e<this.expressionParsers.length-1)return this.operatorParser.getAutocompleteListParams(t,e);if(this.expressionParsers.length===this.operatorParser.getNumOperators()){var o=this.operatorParser.getLastOperatorEndPosition();return o==null||t<=o+1?this.operatorParser.getAutocompleteListParams(t,this.operatorParser.getNumOperators()-1):this.getColumnAutocompleteListParams()}return this.params.expression[t-1]===")"?{enabled:!1}:this.operatorParser.getAutocompleteListParams(t)}return i}},n.prototype.updateExpression=function(t,e,r){var i,o=this.params.expression,a=this.getExpressionParserIndex(t);if(a==null){var s=r==="column"?this.params.advancedFilterExpressionService.getColumnValue(e):(i=e.displayValue)!==null&&i!==void 0?i:e.key;return Np(o,this.startPosition,this.startPosition,s,!0)}var l=this.expressionParsers[a],u=l.updateExpression(t,e,r);return u??(r==="column"?Np(o,t,o.length-1,this.params.advancedFilterExpressionService.getColumnValue(e),!0):this.endPosition!=null&&t>this.endPosition+1?null:this.operatorParser.updateExpression(t,e,a))},n.prototype.getModel=function(){return this.expressionParsers.length>1?{filterType:"join",type:this.operatorParser.getModel(),conditions:this.expressionParsers.map(function(t){return t.getModel()})}:this.expressionParsers[0].getModel()},n.prototype.getColumnAutocompleteListParams=function(){return this.params.advancedFilterExpressionService.generateAutocompleteListParams(this.params.advancedFilterExpressionService.getColumnAutocompleteEntries(),"column","")},n.prototype.getExpressionParserIndex=function(t){for(var e,r=0;r<this.expressionParsers.length;r++){var i=this.expressionParsers[r];if(i.startPosition>t)break;e=r}return e},n}(),sUe=function(){function n(t){this.params=t,this.valid=!1}return n.prototype.parseExpression=function(){this.joinExpressionParser=new aUe(this.params,0);var t=this.joinExpressionParser.parseExpression();return this.valid=t>=this.params.expression.length-1&&this.joinExpressionParser.isValid(),this.params.expression},n.prototype.isValid=function(){return this.valid},n.prototype.getValidationMessage=function(){var t=this.joinExpressionParser.getValidationError();if(!t)return null;var e=t.message,r=t.startPosition,i=t.endPosition;return r<this.params.expression.length?this.params.advancedFilterExpressionService.translate("advancedFilterValidationMessage",[e,this.params.expression.slice(r,i+1).trim()]):this.params.advancedFilterExpressionService.translate("advancedFilterValidationMessageAtEnd",[e])},n.prototype.getFunction=function(){var t={operands:[],operators:[],evaluatorParams:[]},e="return ".concat(this.joinExpressionParser.getFunction(t),";");return{functionBody:e,params:t}},n.prototype.getAutocompleteListParams=function(t){var e;return(e=this.joinExpressionParser.getAutocompleteListParams(t))!==null&&e!==void 0?e:{enabled:!1}},n.prototype.updateExpression=function(t,e,r){return this.joinExpressionParser.updateExpression(t,e,r)},n.prototype.getModel=function(){return this.isValid()?this.joinExpressionParser.getModel():null},n}(),lUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ud=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},uUe=function(n){lUe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.appliedExpression=null,e.expression=null,e.isValid=!0,e}return t.prototype.postConstruct=function(){var e=this;this.setEnabled(this.gridOptionsService.get("enableAdvancedFilter"),!0),this.ctrl=this.createManagedBean(new Aee(this.enabled)),this.expressionProxy={getValue:function(r,i){var o=e.columnModel.getPrimaryColumn(r);return o?e.valueService.getValue(o,i,!0):void 0}},this.addManagedPropertyListener("enableAdvancedFilter",function(r){return e.setEnabled(!!r.currentValue)}),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,function(r){return e.onNewColumnsLoaded(r)}),this.addManagedPropertyListener("includeHiddenColumnsInAdvancedFilter",function(){return e.updateValidity()})},t.prototype.isEnabled=function(){return this.enabled},t.prototype.isFilterPresent=function(){return!!this.expressionFunction},t.prototype.doesFilterPass=function(e){return this.expressionFunction(this.expressionProxy,e,this.expressionParams)},t.prototype.getModel=function(){var e,r=this.createExpressionParser(this.appliedExpression);return r==null||r.parseExpression(),(e=r==null?void 0:r.getModel())!==null&&e!==void 0?e:null},t.prototype.setModel=function(e){var r=this,i=function(a,s){if(a.filterType==="join"){var l=r.advancedFilterExpressionService.parseJoinOperator(a),u=a.conditions.map(function(c){return i(c)}).filter(function(c){return F.exists(c)}).join(" ".concat(l," "));return s||a.conditions.length<=1?u:"(".concat(u,")")}else return r.advancedFilterExpressionService.parseColumnFilterModel(a)},o=e?i(e,!0):null;this.setExpressionDisplayValue(o),this.applyExpression(),this.ctrl.refreshComp(),this.ctrl.refreshBuilderComp()},t.prototype.getExpressionDisplayValue=function(){return this.expression},t.prototype.setExpressionDisplayValue=function(e){this.expression=e},t.prototype.isCurrentExpressionApplied=function(){return this.appliedExpression===this.expression},t.prototype.createExpressionParser=function(e){return e?new sUe({expression:e,columnModel:this.columnModel,dataTypeService:this.dataTypeService,valueParserService:this.valueParserService,advancedFilterExpressionService:this.advancedFilterExpressionService}):null},t.prototype.getDefaultExpression=function(e){var r=this.advancedFilterExpressionService.getColumnValue(e)+" ";return{updatedValue:r,updatedPosition:r.length}},t.prototype.isHeaderActive=function(){return!this.gridOptionsService.get("advancedFilterParent")},t.prototype.getCtrl=function(){return this.ctrl},t.prototype.setEnabled=function(e,r){var i=this.enabled,o=this.rowModel.getType(),a=o==="clientSide"||o==="serverSide";if(e&&!o&&F.warnOnce("Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model."),this.enabled=e&&a,!r&&this.enabled!==i){var s={type:M.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,enabled:this.enabled};this.eventService.dispatchEvent(s)}},t.prototype.applyExpression=function(){var e=this.createExpressionParser(this.expression);e==null||e.parseExpression(),this.applyExpressionFromParser(e)},t.prototype.applyExpressionFromParser=function(e){if(this.isValid=!e||e.isValid(),!e||!this.isValid){this.expressionFunction=null,this.expressionParams=null,this.appliedExpression=null;return}var r=e.getFunction(),i=r.functionBody,o=r.params;this.expressionFunction=new Function("expressionProxy","node","params",i),this.expressionParams=o,this.appliedExpression=this.expression},t.prototype.updateValidity=function(){this.advancedFilterExpressionService.resetColumnCaches();var e=this.createExpressionParser(this.expression);e==null||e.parseExpression();var r=!e||e.isValid(),i=r!==this.isValid;return this.applyExpressionFromParser(e),this.ctrl.refreshComp(),this.ctrl.refreshBuilderComp(),i},t.prototype.onNewColumnsLoaded=function(e){var r=this;if(!(e.source!=="gridInitializing"||!this.dataTypeService.isPendingInference())){this.ctrl.setInputDisabled(!0);var i=this.addManagedListener(this.eventService,M.EVENT_DATA_TYPES_INFERRED,function(){i==null||i(),r.ctrl.setInputDisabled(!1)})}},Ud([O("valueService")],t.prototype,"valueService",void 0),Ud([O("columnModel")],t.prototype,"columnModel",void 0),Ud([O("dataTypeService")],t.prototype,"dataTypeService",void 0),Ud([O("valueParserService")],t.prototype,"valueParserService",void 0),Ud([O("rowModel")],t.prototype,"rowModel",void 0),Ud([O("advancedFilterExpressionService")],t.prototype,"advancedFilterExpressionService",void 0),Ud([q],t.prototype,"postConstruct",null),t=Ud([me("advancedFilterService")],t),t}(re),cUe="31.1.1",dUe={version:cUe,moduleName:Te.AdvancedFilterModule,beans:[uUe,iUe],agStackComponents:[{componentName:"agAdvancedFilter",componentClass:fj}],dependantModules:[Pi]},pUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Li=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},hUe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},fUe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},c4=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},AL="paste",ML="dragCopy",d4="clipboard",Sf;(function(n){n[n.CellRange=0]="CellRange",n[n.SelectedRows=1]="SelectedRows",n[n.FocusedCell=2]="FocusedCell"})(Sf||(Sf={}));var p4=function(n){return"AG Grid: Unable to use the Clipboard API (navigator.clipboard.".concat(n,"()). ")+"The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API."},vUe=function(n){pUe(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.lastPasteOperationTime=0,r.navigatorApiFailed=!1,r}e=t,t.prototype.init=function(){var r=this;this.logger=this.loggerFactory.create("ClipboardService"),this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(function(i){r.gridCtrl=i.gridCtrl})},t.prototype.pasteFromClipboard=function(){var r=this;this.logger.log("pasteFromClipboard");var i=!this.gridOptionsService.get("suppressClipboardApi");i&&!this.navigatorApiFailed&&navigator.clipboard&&navigator.clipboard.readText?navigator.clipboard.readText().then(this.processClipboardData.bind(this)).catch(function(o){F.doOnce(function(){console.warn(o),console.warn(p4("readText"))},"clipboardApiError"),r.navigatorApiFailed=!0,r.pasteFromClipboardLegacy()}):this.pasteFromClipboardLegacy()},t.prototype.pasteFromClipboardLegacy=function(){var r=this,i=!1,o=function(a){var s=new Date().getTime();s-r.lastPasteOperationTime<50&&(i=!0,a.preventDefault()),r.lastPasteOperationTime=s};this.executeOnTempElement(function(a){a.addEventListener("paste",o),a.focus({preventScroll:!0})},function(a){var s=a.value;i?r.refocusLastFocusedCell():r.processClipboardData(s),a.removeEventListener("paste",o)})},t.prototype.refocusLastFocusedCell=function(){var r=this.focusService.getFocusedCell();r&&this.focusService.setFocusedCell({rowIndex:r.rowIndex,column:r.column,rowPinned:r.rowPinned,forceBrowserFocus:!0})},t.prototype.getClipboardDelimiter=function(){var r=this.gridOptionsService.get("clipboardDelimiter");return F.exists(r)?r:"	"},t.prototype.processClipboardData=function(r){var i=this;if(r!=null){var o=e.stringToArray(r,this.getClipboardDelimiter()),a=this.gridOptionsService.getCallback("processDataFromClipboard");if(a&&(o=a({data:o})),o!=null){this.gridOptionsService.get("suppressLastEmptyLineOnPaste")&&this.removeLastLineIfBlank(o);var s=function(l,u,c,d){var p=i.rangeService&&i.rangeService.isMoreThanOneCell(),h=p&&!i.hasOnlyOneValueToPaste(o);h?i.pasteIntoActiveRange(o,l,u,d):i.pasteStartingFromFocusedCell(o,l,u,c,d)};this.doPasteOperation(s)}}},t.stringToArray=function(r,i){i===void 0&&(i=",");var o=[],a=function(v){return v==="\r"||v===`
`},s=!1;if(r==="")return[[""]];for(var l=function(v,g,m){var y=r[m-1],C=r[m],S=r[m+1],w=function(){o[v]||(o[v]=[]),o[v][g]||(o[v][g]="")};if(w(),C==='"'&&(s?S==='"'?(o[v][g]+='"',m++):s=!1:(y===void 0||y===i||a(y))&&(s=!0)),!s&&C!=='"'){if(C===i)return g++,w(),u=v,c=g,d=m,"continue";if(a(C))return g=0,v++,w(),C==="\r"&&S===`
`&&m++,u=v,c=g,d=m,"continue"}o[v][g]+=C,u=v,c=g,d=m},u,c,d,p=0,h=0,f=0;f<r.length;f++)l(p,h,f),p=u,h=c,f=d;return o},t.prototype.doPasteOperation=function(r){var i="clipboard";this.eventService.dispatchEvent({type:M.EVENT_PASTE_START,source:i});var o;if(this.clientSideRowModel){var a=this.gridOptionsService.get("aggregateOnlyChangedColumns");o=new Sy(a,this.clientSideRowModel.getRootNode())}var s={},l=[],u=this.focusService.getFocusedCell();r(s,l,u,o);var c=fUe([],hUe(l),!1);o&&(this.clientSideRowModel.doAggregate(o),o.forEachChangedNodeDepthFirst(function(p){c.push(p)})),this.rowRenderer.refreshCells({rowNodes:c}),this.dispatchFlashCells(s),this.fireRowChanged(l),this.refocusLastFocusedCell();var d={type:M.EVENT_PASTE_END,source:i};this.eventService.dispatchEvent(d)},t.prototype.pasteIntoActiveRange=function(r,i,o,a){var s=this,l=this.getRangeSize()%r.length!=0,u=0,c=0,d=function(p,h,f,v){var g=v-u>=r.length;if(g){if(l)return;u+=c,c=0}var m=r[v-u];o.push(h);var y=s.gridOptionsService.getCallback("processCellFromClipboard");f.forEach(function(C,S){if(!(!C.isCellEditable(h)||C.isSuppressPaste(h))){S>=m.length&&(S=S%m.length);var w=s.processCell(h,C,m[S],ML,y,!0);h.setDataValue(C,w,AL),a&&a.addParentNode(h.parent,[C]);var _=p.rowIndex,x=p.rowPinned,E=s.cellPositionUtils.createIdFromValues({rowIndex:_,column:C,rowPinned:x});i[E]=!0}}),c++};this.iterateActiveRanges(!1,d)},t.prototype.pasteStartingFromFocusedCell=function(r,i,o,a,s){if(a){var l={rowIndex:a.rowIndex,rowPinned:a.rowPinned},u=this.columnModel.getDisplayedColumnsStartingAt(a.column);this.isPasteSingleValueIntoRange(r)?this.pasteSingleValueIntoRange(r,o,i,s):this.pasteMultipleValues(r,l,o,u,i,d4,s)}},t.prototype.isPasteSingleValueIntoRange=function(r){return this.hasOnlyOneValueToPaste(r)&&this.rangeService!=null&&!this.rangeService.isEmpty()},t.prototype.pasteSingleValueIntoRange=function(r,i,o,a){var s=this,l=r[0][0],u=function(c,d,p){i.push(d),p.forEach(function(h){return s.updateCellValue(d,h,l,o,d4,a)})};this.iterateActiveRanges(!1,u)},t.prototype.hasOnlyOneValueToPaste=function(r){return r.length===1&&r[0].length===1},t.prototype.copyRangeDown=function(){var r=this;if(!(!this.rangeService||this.rangeService.isEmpty())){var i=[],o=function(a,s,l,u){var c=r.gridOptionsService.getCallback("processCellForClipboard"),d=r.gridOptionsService.getCallback("processCellFromClipboard"),p=function(h,f,v){i.length?(s.push(f),v.forEach(function(g,m){if(!(!g.isCellEditable(f)||g.isSuppressPaste(f))){var y=r.processCell(f,g,i[m],ML,d,!0);f.setDataValue(g,y,AL),u&&u.addParentNode(f.parent,[g]);var C=h.rowIndex,S=h.rowPinned,w=r.cellPositionUtils.createIdFromValues({rowIndex:C,column:g,rowPinned:S});a[w]=!0}})):v.forEach(function(g){var m=r.processCell(f,g,r.valueService.getValue(g,f),ML,c,!1,!0);i.push(m)})};r.iterateActiveRanges(!0,p)};this.doPasteOperation(o)}},t.prototype.removeLastLineIfBlank=function(r){var i=F.last(r),o=i&&i.length===1&&i[0]==="";if(o){if(r.length===1)return;F.removeFromArray(r,i)}},t.prototype.fireRowChanged=function(r){var i=this;this.gridOptionsService.get("editType")==="fullRow"&&r.forEach(function(o){var a={type:M.EVENT_ROW_VALUE_CHANGED,node:o,data:o.data,rowIndex:o.rowIndex,rowPinned:o.rowPinned};i.eventService.dispatchEvent(a)})},t.prototype.pasteMultipleValues=function(r,i,o,a,s,l,u){var c=this,d=i,p=this.clientSideRowModel!=null&&!this.gridOptionsService.get("enableGroupEdit")&&!this.gridOptionsService.get("treeData"),h=function(){for(;;){if(!d)return null;var f=c.rowPositionUtils.getRowNode(d);if(d=c.cellNavigationService.getRowBelow({rowPinned:d.rowPinned,rowIndex:d.rowIndex}),f==null)return null;var v=f.detail||f.footer||p&&f.group;if(!v)return f}};r.forEach(function(f){var v=h();v&&(f.forEach(function(g,m){return c.updateCellValue(v,a[m],g,s,l,u)}),o.push(v))})},t.prototype.updateCellValue=function(r,i,o,a,s,l){if(!(!r||!i||!i.isCellEditable(r)||i.isSuppressPaste(r))&&!(r.group&&i.isValueActive())){var u=this.processCell(r,i,o,s,this.gridOptionsService.getCallback("processCellFromClipboard"),!0);r.setDataValue(i,u,AL);var c=r.rowIndex,d=r.rowPinned,p=this.cellPositionUtils.createIdFromValues({rowIndex:c,column:i,rowPinned:d});a[p]=!0,l&&l.addParentNode(r.parent,[i])}},t.prototype.copyToClipboard=function(r){r===void 0&&(r={}),this.copyOrCutToClipboard(r)},t.prototype.cutToClipboard=function(r,i){if(r===void 0&&(r={}),i===void 0&&(i="api"),!this.gridOptionsService.get("suppressCutToClipboard")){var o={type:M.EVENT_CUT_START,source:i};this.eventService.dispatchEvent(o),this.copyOrCutToClipboard(r,!0);var a={type:M.EVENT_CUT_END,source:i};this.eventService.dispatchEvent(a)}},t.prototype.copyOrCutToClipboard=function(r,i){var o=r.includeHeaders,a=r.includeGroupHeaders;this.logger.log("copyToClipboard: includeHeaders = ".concat(o)),o==null&&(o=this.gridOptionsService.get("copyHeadersToClipboard")),a==null&&(a=this.gridOptionsService.get("copyGroupHeadersToClipboard"));var s={includeHeaders:o,includeGroupHeaders:a},l=!this.gridOptionsService.get("suppressCopyRowsToClipboard"),u=null;this.rangeService&&!this.rangeService.isEmpty()&&!this.shouldSkipSingleCellRange()?(this.copySelectedRangeToClipboard(s),u=Sf.CellRange):l&&!this.selectionService.isEmpty()?(this.copySelectedRowsToClipboard(s),u=Sf.SelectedRows):this.focusService.isAnyCellFocused()&&(this.copyFocusedCellToClipboard(s),u=Sf.FocusedCell),i&&u!==null&&this.clearCellsAfterCopy(u)},t.prototype.clearCellsAfterCopy=function(r){if(this.eventService.dispatchEvent({type:M.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),r===Sf.CellRange)this.rangeService.clearCellRangeCellValues({cellEventSource:"clipboardService"});else if(r===Sf.SelectedRows)this.clearSelectedRows();else{var i=this.focusService.getFocusedCell();if(i==null)return;var o=this.rowPositionUtils.getRowNode(i);o&&this.clearCellValue(o,i.column)}this.eventService.dispatchEvent({type:M.EVENT_KEY_SHORTCUT_CHANGED_CELL_END})},t.prototype.clearSelectedRows=function(){var r,i,o,a,s=this.selectionService.getSelectedNodes(),l=this.columnModel.getAllDisplayedColumns();try{for(var u=c4(s),c=u.next();!c.done;c=u.next()){var d=c.value;try{for(var p=(o=void 0,c4(l)),h=p.next();!h.done;h=p.next()){var f=h.value;this.clearCellValue(d,f)}}catch(v){o={error:v}}finally{try{h&&!h.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}}}catch(v){r={error:v}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}},t.prototype.clearCellValue=function(r,i){i.isCellEditable(r)&&r.setDataValue(i,null,"clipboardService")},t.prototype.shouldSkipSingleCellRange=function(){return this.gridOptionsService.get("suppressCopySingleCellRanges")&&!this.rangeService.isMoreThanOneCell()},t.prototype.iterateActiveRanges=function(r,i,o){var a=this;if(!(!this.rangeService||this.rangeService.isEmpty())){var s=this.rangeService.getCellRanges();r?this.iterateActiveRange(s[0],i,o,!0):s.forEach(function(l,u){return a.iterateActiveRange(l,i,o,u===s.length-1)})}},t.prototype.iterateActiveRange=function(r,i,o,a){if(this.rangeService){var s=this.rangeService.getRangeStartRow(r),l=this.rangeService.getRangeEndRow(r);o&&r.columns&&o(r.columns);for(var u=0,c=!1;!c&&s!=null;){var d=this.rowPositionUtils.getRowNode(s);c=this.rowPositionUtils.sameRow(s,l),i(s,d,r.columns,u++,c&&a),s=this.cellNavigationService.getRowBelow(s)}}},t.prototype.copySelectedRangeToClipboard=function(r){if(r===void 0&&(r={}),!(!this.rangeService||this.rangeService.isEmpty())){var i=this.rangeService.areAllRangesAbleToMerge(),o=i?this.buildDataFromMergedRanges(r):this.buildDataFromRanges(r),a=o.data,s=o.cellsToFlash;this.copyDataToClipboard(a),this.dispatchFlashCells(s)}},t.prototype.buildDataFromMergedRanges=function(r){var i=this,o=new Set,a=this.rangeService.getCellRanges(),s=new Map,l=[],u={};a.forEach(function(h){h.columns.forEach(function(m){return o.add(m)});var f=i.getRangeRowPositionsAndCellsToFlash(h),v=f.rowPositions,g=f.cellsToFlash;v.forEach(function(m){var y="".concat(m.rowIndex,"-").concat(m.rowPinned||"null");s.get(y)||(s.set(y,!0),l.push(m))}),Object.assign(u,g)});var c=this.columnModel.getAllDisplayedColumns(),d=Array.from(o);d.sort(function(h,f){var v=c.indexOf(h),g=c.indexOf(f);return v-g});var p=this.buildExportParams({columns:d,rowPositions:l,includeHeaders:r.includeHeaders,includeGroupHeaders:r.includeGroupHeaders});return{data:p,cellsToFlash:u}},t.prototype.buildDataFromRanges=function(r){var i=this,o=this.rangeService.getCellRanges(),a=[],s={};return o.forEach(function(l){var u=i.getRangeRowPositionsAndCellsToFlash(l),c=u.rowPositions,d=u.cellsToFlash;Object.assign(s,d),a.push(i.buildExportParams({columns:l.columns,rowPositions:c,includeHeaders:r.includeHeaders,includeGroupHeaders:r.includeGroupHeaders}))}),{data:a.join(`
`),cellsToFlash:s}},t.prototype.getRangeRowPositionsAndCellsToFlash=function(r){for(var i=this,o=[],a={},s=this.rangeService.getRangeStartRow(r),l=this.rangeService.getRangeEndRow(r),u=s;u&&(o.push(u),r.columns.forEach(function(c){var d=u,p=d.rowIndex,h=d.rowPinned,f=i.cellPositionUtils.createIdFromValues({rowIndex:p,column:c,rowPinned:h});a[f]=!0}),!this.rowPositionUtils.sameRow(u,l));)u=this.cellNavigationService.getRowBelow(u);return{rowPositions:o,cellsToFlash:a}},t.prototype.getCellsToFlashFromRowNodes=function(r){for(var i=this.columnModel.getAllDisplayedColumns(),o={},a=0;a<r.length;a++){var s=r[a],l=s.rowIndex,u=s.rowPinned;if(l!=null)for(var c=0;c<i.length;c++){var d=i[c],p=this.cellPositionUtils.createIdFromValues({rowIndex:l,column:d,rowPinned:u});o[p]=!0}}return o},t.prototype.copyFocusedCellToClipboard=function(r){var i;r===void 0&&(r={});var o=this.focusService.getFocusedCell();if(o!=null){var a=this.cellPositionUtils.createId(o),s={rowPinned:o.rowPinned,rowIndex:o.rowIndex},l=o.column,u=this.buildExportParams({columns:[l],rowPositions:[s],includeHeaders:r.includeHeaders,includeGroupHeaders:r.includeGroupHeaders});this.copyDataToClipboard(u),this.dispatchFlashCells((i={},i[a]=!0,i))}},t.prototype.copySelectedRowsToClipboard=function(r){r===void 0&&(r={});var i=r.columnKeys,o=r.includeHeaders,a=r.includeGroupHeaders,s=this.buildExportParams({columns:i,includeHeaders:o,includeGroupHeaders:a});this.copyDataToClipboard(s);var l=this.selectionService.getSelectedNodes()||[];this.dispatchFlashCells(this.getCellsToFlashFromRowNodes(l))},t.prototype.buildExportParams=function(r){var i=this,o=r.columns,a=r.rowPositions,s=r.includeHeaders,l=s===void 0?!1:s,u=r.includeGroupHeaders,c=u===void 0?!1:u,d={columnKeys:o,rowPositions:a,skipColumnHeaders:!l,skipColumnGroupHeaders:!c,suppressQuotes:!0,columnSeparator:this.getClipboardDelimiter(),onlySelected:!a,processCellCallback:this.gridOptionsService.getCallback("processCellForClipboard"),processRowGroupCallback:function(p){return i.processRowGroupCallback(p)},processHeaderCallback:this.gridOptionsService.getCallback("processHeaderForClipboard"),processGroupHeaderCallback:this.gridOptionsService.getCallback("processGroupHeaderForClipboard")};return this.csvCreator.getDataAsCsv(d,!0)},t.prototype.processRowGroupCallback=function(r){var i=this,o=r.node,a=r.column,s=this.gridOptionsService.get("treeData"),l=this.gridOptionsService.get("suppressGroupMaintainValueType"),u=function(){var f,v;if(s||l||!a)return o.key;var g=(f=o.groupData)===null||f===void 0?void 0:f[a.getId()];return!g||!o.rowGroupColumn||o.rowGroupColumn.getColDef().useValueFormatterForExport===!1?g:(v=i.valueFormatterService.formatValue(o.rowGroupColumn,o,g))!==null&&v!==void 0?v:g},c=u();if(r.node.footer){var d="";c&&c.length&&(d=" ".concat(c)),c="Total".concat(d)}var p=this.gridOptionsService.getCallback("processCellForClipboard");if(p){var h=o.rowGroupColumn;return!h&&o.footer&&o.level===-1&&(h=this.columnModel.getRowGroupColumns()[0]),p({value:c,node:o,column:h,type:"clipboard",formatValue:function(f){var v;return(v=i.valueFormatterService.formatValue(h,o,f))!==null&&v!==void 0?v:f},parseValue:function(f){return i.valueParserService.parseValue(h,o,f,i.valueService.getValue(h,o))}})}return c},t.prototype.dispatchFlashCells=function(r){var i=this;window.setTimeout(function(){var o={type:M.EVENT_FLASH_CELLS,cells:r};i.eventService.dispatchEvent(o)},0)},t.prototype.processCell=function(r,i,o,a,s,l,u){var c=this,d;if(s){var p={column:i,node:r,value:o,type:a,formatValue:function(h){var f;return(f=c.valueFormatterService.formatValue(i,r??null,h))!==null&&f!==void 0?f:h},parseValue:function(h){return c.valueParserService.parseValue(i,r??null,h,c.valueService.getValue(i,r))}};return s(p)}return l&&i.getColDef().useValueParserForImport!==!1?this.valueParserService.parseValue(i,r??null,o,this.valueService.getValue(i,r)):u&&i.getColDef().useValueFormatterForExport!==!1&&(d=this.valueFormatterService.formatValue(i,r??null,o))!==null&&d!==void 0?d:o},t.prototype.copyDataToClipboard=function(r){var i=this,o=this.gridOptionsService.getCallback("sendToClipboard");if(o){o({data:r});return}var a=!this.gridOptionsService.get("suppressClipboardApi");if(a&&navigator.clipboard){navigator.clipboard.writeText(r).catch(function(s){F.doOnce(function(){console.warn(s),console.warn(p4("writeText"))},"clipboardApiError"),i.copyDataToClipboardLegacy(r)});return}this.copyDataToClipboardLegacy(r)},t.prototype.copyDataToClipboardLegacy=function(r){var i=this;this.executeOnTempElement(function(o){var a=i.gridOptionsService.getDocument(),s=a.activeElement;o.value=r||" ",o.select(),o.focus({preventScroll:!0});var l=a.execCommand("copy");l||console.warn("AG Grid: Browser did not allow document.execCommand('copy'). Ensure api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons."),s!=null&&s.focus!=null&&s.focus({preventScroll:!0})})},t.prototype.executeOnTempElement=function(r,i){var o=this.gridOptionsService.getDocument(),a=o.createElement("textarea");a.style.width="1px",a.style.height="1px",a.style.top=o.documentElement.scrollTop+"px",a.style.left=o.documentElement.scrollLeft+"px",a.style.position="absolute",a.style.opacity="0";var s=this.gridCtrl.getGui();s.appendChild(a);try{r(a)}catch{console.warn("AG Grid: Browser does not support document.execCommand('copy') for clipboard operations")}i?window.setTimeout(function(){i(a),s.removeChild(a)},100):s.removeChild(a)},t.prototype.getRangeSize=function(){var r=this.rangeService.getCellRanges(),i=0,o=0;return r.length>0&&(i=this.rangeService.getRangeStartRow(r[0]).rowIndex,o=this.rangeService.getRangeEndRow(r[0]).rowIndex),i-o+1};var e;return Li([O("csvCreator")],t.prototype,"csvCreator",void 0),Li([O("loggerFactory")],t.prototype,"loggerFactory",void 0),Li([O("selectionService")],t.prototype,"selectionService",void 0),Li([xt("rangeService")],t.prototype,"rangeService",void 0),Li([O("rowModel")],t.prototype,"rowModel",void 0),Li([O("ctrlsService")],t.prototype,"ctrlsService",void 0),Li([O("valueService")],t.prototype,"valueService",void 0),Li([O("focusService")],t.prototype,"focusService",void 0),Li([O("rowRenderer")],t.prototype,"rowRenderer",void 0),Li([O("columnModel")],t.prototype,"columnModel",void 0),Li([O("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Li([O("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Li([O("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Li([O("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Li([O("valueParserService")],t.prototype,"valueParserService",void 0),Li([q],t.prototype,"init",null),t=e=Li([me("clipboardService")],t),t}(re),gUe="31.1.1",mUe={version:gUe,moduleName:Te.ClipboardModule,beans:[vUe],dependantModules:[Pi,gD]},yUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),UC=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Pu;(function(n){n[n.EXPANDED=0]="EXPANDED",n[n.COLLAPSED=1]="COLLAPSED",n[n.INDETERMINATE=2]="INDETERMINATE"})(Pu||(Pu={}));var CUe=function(n){yUe(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.postConstruct=function(){var e=this;this.createExpandIcons(),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eExpand,"keydown",function(i){i.key===K.SPACE&&(i.preventDefault(),e.onExpandClicked())}),this.addManagedListener(this.eSelect.getInputElement(),"click",this.onSelectClicked.bind(this)),this.addManagedPropertyListener("functionsReadOnly",function(){return e.onFunctionsReadOnlyPropChanged()}),this.eFilterTextField.setAutoComplete(!1).onValueChange(function(){return e.onFilterTextChanged()}),this.addManagedListener(this.eFilterTextField.getInputElement(),"keydown",this.onMiniFilterKeyDown.bind(this)),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this));var r=this.localeService.getLocaleTextFunc();this.eSelect.setInputAriaLabel(r("ariaColumnSelectAll","Toggle Select All Columns")),this.eFilterTextField.setInputAriaLabel(r("ariaFilterColumnsInput","Filter Columns Input")),this.activateTabIndex([this.eExpand])},t.prototype.onFunctionsReadOnlyPropChanged=function(){var e=this.gridOptionsService.get("functionsReadOnly");this.eSelect.setReadOnly(e),this.eSelect.addOrRemoveCssClass("ag-column-select-column-readonly",e)},t.prototype.init=function(e){this.params=e;var r=this.gridOptionsService.get("functionsReadOnly");this.eSelect.setReadOnly(r),this.eSelect.addOrRemoveCssClass("ag-column-select-column-readonly",r),this.columnModel.isReady()&&this.showOrHideOptions()},t.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=F.createIconNoSpan("columnSelectOpen",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandUnchecked=F.createIconNoSpan("columnSelectClosed",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandIndeterminate=F.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsService)),this.setExpandState(Pu.EXPANDED)},t.prototype.showOrHideOptions=function(){var e=!this.params.suppressColumnFilter,r=!this.params.suppressColumnSelectAll,i=!this.params.suppressColumnExpandAll,o=this.columnModel.isPrimaryColumnGroupsPresent(),a=this.localeService.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(a("searchOoo","Search...")),F.setDisplayed(this.eFilterTextField.getGui(),e),F.setDisplayed(this.eSelect.getGui(),r),F.setDisplayed(this.eExpand,i&&o)},t.prototype.onFilterTextChanged=function(){var e=this;this.onFilterTextChangedDebounced||(this.onFilterTextChangedDebounced=F.debounce(function(){var r=e.eFilterTextField.getValue();e.dispatchEvent({type:"filterChanged",filterText:r})},t.DEBOUNCE_DELAY)),this.onFilterTextChangedDebounced()},t.prototype.onMiniFilterKeyDown=function(e){var r=this;e.key===K.ENTER&&setTimeout(function(){return r.onSelectClicked()},t.DEBOUNCE_DELAY)},t.prototype.onSelectClicked=function(){this.dispatchEvent({type:this.selectState?"unselectAll":"selectAll"})},t.prototype.onExpandClicked=function(){this.dispatchEvent({type:this.expandState===Pu.EXPANDED?"collapseAll":"expandAll"})},t.prototype.setExpandState=function(e){this.expandState=e,F.setDisplayed(this.eExpandChecked,this.expandState===Pu.EXPANDED),F.setDisplayed(this.eExpandUnchecked,this.expandState===Pu.COLLAPSED),F.setDisplayed(this.eExpandIndeterminate,this.expandState===Pu.INDETERMINATE)},t.prototype.setSelectionState=function(e){this.selectState=e,this.eSelect.setValue(this.selectState)},t.DEBOUNCE_DELAY=300,t.TEMPLATE=`<div class="ag-column-select-header" role="presentation">
            <div ref="eExpand" class="ag-column-select-header-icon"></div>
            <ag-checkbox ref="eSelect" class="ag-column-select-header-checkbox"></ag-checkbox>
            <ag-input-text-field class="ag-column-select-header-filter-wrapper" ref="eFilterTextField"></ag-input-text-field>
        </div>`,UC([O("columnModel")],t.prototype,"columnModel",void 0),UC([U("eExpand")],t.prototype,"eExpand",void 0),UC([U("eSelect")],t.prototype,"eSelect",void 0),UC([U("eFilterTextField")],t.prototype,"eFilterTextField",void 0),UC([q],t.prototype,"postConstruct",null),t}(Ce),AS=function(){function n(t,e,r,i,o){i===void 0&&(i=!1),this.eventService=new Vl,this.displayName=t,this.dept=r,this.group=i,i?(this.columnGroup=e,this.expanded=o,this.children=[]):this.column=e}return n.prototype.isGroup=function(){return this.group},n.prototype.getDisplayName=function(){return this.displayName},n.prototype.getColumnGroup=function(){return this.columnGroup},n.prototype.getColumn=function(){return this.column},n.prototype.getDept=function(){return this.dept},n.prototype.isExpanded=function(){return!!this.expanded},n.prototype.getChildren=function(){return this.children},n.prototype.isPassesFilter=function(){return this.passesFilter},n.prototype.setExpanded=function(t){t!==this.expanded&&(this.expanded=t,this.eventService.dispatchEvent({type:n.EVENT_EXPANDED_CHANGED}))},n.prototype.setPassesFilter=function(t){this.passesFilter=t},n.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},n.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},n.EVENT_EXPANDED_CHANGED="expandedChanged",n}(),SUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Rb=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},wUe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},_Ue=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},xUe=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Mee=function(n){SUe(t,n);function t(e,r,i){var o=n.call(this,'<div class="ag-menu"></div>')||this;return o.column=e,o.mouseEvent=r,o.parentEl=i,o.displayName=null,o}return t.prototype.postConstruct=function(){if(this.initializeProperties(this.column),this.buildMenuItemMap(),this.column instanceof Rt?this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel"):this.displayName=this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.column,"columnToolPanel"),this.isActive()){this.mouseEvent.preventDefault();var e=this.getMappedMenuItems();if(e.length===0)return;this.displayContextMenu(e)}},t.prototype.initializeProperties=function(e){e instanceof er?this.columns=e.getLeafColumns():this.columns=[e],this.allowGrouping=this.columns.some(function(r){return r.isPrimary()&&r.isAllowRowGroup()}),this.allowValues=this.columns.some(function(r){return r.isPrimary()&&r.isAllowValue()}),this.allowPivoting=this.columnModel.isPivotMode()&&this.columns.some(function(r){return r.isPrimary()&&r.isAllowPivot()})},t.prototype.buildMenuItemMap=function(){var e=this,r=this.localeService.getLocaleTextFunc();this.menuItemMap=new Map,this.menuItemMap.set("rowGroup",{allowedFunction:function(i){return i.isPrimary()&&i.isAllowRowGroup()&&!e.columnModel.isColumnGroupingLocked(i)},activeFunction:function(i){return i.isRowGroupActive()},activateLabel:function(){return"".concat(r("groupBy","Group by")," ").concat(e.displayName)},deactivateLabel:function(){return"".concat(r("ungroupBy","Un-Group by")," ").concat(e.displayName)},activateFunction:function(){var i=e.columnModel.getRowGroupColumns();e.columnModel.setRowGroupColumns(e.addColumnsToList(i),"toolPanelUi")},deActivateFunction:function(){var i=e.columnModel.getRowGroupColumns();e.columnModel.setRowGroupColumns(e.removeColumnsFromList(i),"toolPanelUi")},addIcon:"menuAddRowGroup",removeIcon:"menuRemoveRowGroup"}),this.menuItemMap.set("value",{allowedFunction:function(i){return i.isPrimary()&&i.isAllowValue()},activeFunction:function(i){return i.isValueActive()},activateLabel:function(){return r("addToValues","Add ".concat(e.displayName," to values"),[e.displayName])},deactivateLabel:function(){return r("removeFromValues","Remove ".concat(e.displayName," from values"),[e.displayName])},activateFunction:function(){var i=e.columnModel.getValueColumns();e.columnModel.setValueColumns(e.addColumnsToList(i),"toolPanelUi")},deActivateFunction:function(){var i=e.columnModel.getValueColumns();e.columnModel.setValueColumns(e.removeColumnsFromList(i),"toolPanelUi")},addIcon:"valuePanel",removeIcon:"valuePanel"}),this.menuItemMap.set("pivot",{allowedFunction:function(i){return e.columnModel.isPivotMode()&&i.isPrimary()&&i.isAllowPivot()},activeFunction:function(i){return i.isPivotActive()},activateLabel:function(){return r("addToLabels","Add ".concat(e.displayName," to labels"),[e.displayName])},deactivateLabel:function(){return r("removeFromLabels","Remove ".concat(e.displayName," from labels"),[e.displayName])},activateFunction:function(){var i=e.columnModel.getPivotColumns();e.columnModel.setPivotColumns(e.addColumnsToList(i),"toolPanelUi")},deActivateFunction:function(){var i=e.columnModel.getPivotColumns();e.columnModel.setPivotColumns(e.removeColumnsFromList(i),"toolPanelUi")},addIcon:"pivotPanel",removeIcon:"pivotPanel"})},t.prototype.addColumnsToList=function(e){return _Ue([],wUe(e),!1).concat(this.columns.filter(function(r){return e.indexOf(r)===-1}))},t.prototype.removeColumnsFromList=function(e){var r=this;return e.filter(function(i){return r.columns.indexOf(i)===-1})},t.prototype.displayContextMenu=function(e){var r=this,i=this.getGui(),o=this.createBean(new R_),a=this.localeService.getLocaleTextFunc(),s=function(){};i.appendChild(o.getGui()),o.addMenuItems(e),o.addManagedListener(o,Fs.EVENT_CLOSE_MENU,function(){r.parentEl.focus(),s()});var l=this.popupService.addPopup({modal:!0,eChild:i,closeOnEsc:!0,afterGuiAttached:function(){return r.focusService.focusInto(o.getGui())},ariaLabel:a("ariaLabelContextMenu","Context Menu"),closedCallback:function(u){u instanceof KeyboardEvent&&r.parentEl.focus(),r.destroyBean(o)}});l&&(s=l.hideFunc),this.popupService.positionPopupUnderMouseEvent({type:"columnContextMenu",mouseEvent:this.mouseEvent,ePopup:i})},t.prototype.isActive=function(){return this.allowGrouping||this.allowValues||this.allowPivoting},t.prototype.getMappedMenuItems=function(){var e,r,i=[],o=function(c){var d=a.columns.some(function(h){return c.allowedFunction(h)&&!c.activeFunction(h)}),p=a.columns.some(function(h){return c.allowedFunction(h)&&c.activeFunction(h)});d&&i.push({name:c.activateLabel(a.displayName),icon:F.createIconNoSpan(c.addIcon,a.gridOptionsService,null),action:function(){return c.activateFunction()}}),p&&i.push({name:c.deactivateLabel(a.displayName),icon:F.createIconNoSpan(c.removeIcon,a.gridOptionsService,null),action:function(){return c.deActivateFunction()}})},a=this;try{for(var s=xUe(this.menuItemMap.values()),l=s.next();!l.done;l=s.next()){var u=l.value;o(u)}}catch(c){e={error:c}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return i},Rb([O("columnModel")],t.prototype,"columnModel",void 0),Rb([O("popupService")],t.prototype,"popupService",void 0),Rb([O("focusService")],t.prototype,"focusService",void 0),Rb([q],t.prototype,"postConstruct",null),t}(Ce),bUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),xc=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Lee=function(n){bUe(t,n);function t(e,r,i,o){var a=n.call(this)||this;return a.modelItem=e,a.allowDragging=r,a.eventType=i,a.focusWrapper=o,a.processingColumnStateChange=!1,a.modelItem=e,a.columnGroup=e.getColumnGroup(),a.columnDept=e.getDept(),a.displayName=e.getDisplayName(),a.allowDragging=r,a}return t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE),this.eDragHandle=F.createIconNoSpan("columnDrag",this.gridOptionsService),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-group-drag-handle");var r=this.cbSelect.getGui(),i=this.cbSelect.getInputElement();r.insertAdjacentElement("afterend",this.eDragHandle),i.setAttribute("tabindex","-1"),this.eLabel.innerHTML=this.displayName?this.displayName:"",this.setupExpandContract(),this.addCssClass("ag-column-select-indent-"+this.columnDept),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.addManagedListener(this.cbSelect,M.EVENT_FIELD_VALUE_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.modelItem,AS.EVENT_EXPANDED_CHANGED,this.onExpandChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.setOpenClosedIcons(),this.setupDragging(),this.onColumnStateChanged(),this.addVisibilityListenersToAllChildren(),this.refreshAriaExpanded(),this.refreshAriaLabel(),this.setupTooltip();var o=fh.getToolPanelClassesFromColDef(this.columnGroup.getColGroupDef(),this.gridOptionsService,null,this.columnGroup);o.forEach(function(a){return e.addOrRemoveCssClass(a,!0)})},t.prototype.getColumns=function(){return this.columnGroup.getLeafColumns()},t.prototype.setupTooltip=function(){var e=this,r=this.columnGroup.getColGroupDef();if(r){var i=function(){var o=r.headerTooltip;e.setTooltip(o)};i(),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,i)}},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumnGroup",e},t.prototype.handleKeyDown=function(e){switch(e.key){case K.LEFT:e.preventDefault(),this.modelItem.setExpanded(!1);break;case K.RIGHT:e.preventDefault(),this.modelItem.setExpanded(!0);break;case K.SPACE:e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected());break}},t.prototype.onContextMenu=function(e){var r=this,i=this,o=i.columnGroup,a=i.gridOptionsService;if(!a.get("functionsReadOnly")){var s=this.createBean(new Mee(o,e,this.focusWrapper));this.addDestroyFunc(function(){s.isAlive()&&r.destroyBean(s)})}},t.prototype.addVisibilityListenersToAllChildren=function(){var e=this;this.columnGroup.getLeafColumns().forEach(function(r){e.addManagedListener(r,Rt.EVENT_VISIBLE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(r,Rt.EVENT_VALUE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(r,Rt.EVENT_PIVOT_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(r,Rt.EVENT_ROW_GROUP_CHANGED,e.onColumnStateChanged.bind(e))})},t.prototype.setupDragging=function(){var e=this;if(!this.allowDragging){F.setDisplayed(this.eDragHandle,!1);return}var r=!this.gridOptionsService.get("suppressDragLeaveHidesColumns"),i={type:on.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDefaultIconName:function(){return r?Wt.ICON_HIDE:Wt.ICON_NOT_ALLOWED},getDragItem:function(){return e.createDragItem()},onDragStarted:function(){r=!e.gridOptionsService.get("suppressDragLeaveHidesColumns");var o={type:M.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:e.columnGroup};e.eventService.dispatchEvent(o)},onDragStopped:function(){var o={type:M.EVENT_COLUMN_PANEL_ITEM_DRAG_END};e.eventService.dispatchEvent(o)},onGridEnter:function(o){r&&e.modelItemUtils.updateColumns({columns:e.columnGroup.getLeafColumns(),visibleState:o==null?void 0:o.visibleState,pivotState:o==null?void 0:o.pivotState,eventType:e.eventType})},onGridExit:function(){r&&e.onChangeCommon(!1)}};this.dragAndDropService.addDragSource(i,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(i)})},t.prototype.createDragItem=function(){var e=this,r=this.columnGroup.getLeafColumns(),i={},o={};return r.forEach(function(a){var s=a.getId();i[s]=a.isVisible(),o[s]=e.modelItemUtils.createPivotState(a)}),{columns:r,visibleState:i,pivotState:o}},t.prototype.setupExpandContract=function(){this.eGroupClosedIcon.appendChild(F.createIcon("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(F.createIcon("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this));var e=new kn(this.eColumnGroupIcons,!0);this.addManagedListener(e,kn.EVENT_TAP,this.onExpandOrContractClicked.bind(this)),this.addDestroyFunc(e.destroy.bind(e))},t.prototype.onLabelClicked=function(){var e=!this.cbSelect.getValue();this.onChangeCommon(e)},t.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},t.prototype.getVisibleLeafColumns=function(){var e=[],r=function(i){i.forEach(function(o){o.isPassesFilter()&&(o.isGroup()?r(o.getChildren()):e.push(o.getColumn()))})};return r(this.modelItem.getChildren()),e},t.prototype.onChangeCommon=function(e){this.refreshAriaLabel(),!this.processingColumnStateChange&&this.modelItemUtils.selectAllChildren(this.modelItem.getChildren(),e,this.eventType)},t.prototype.refreshAriaLabel=function(){var e=this.localeService.getLocaleTextFunc(),r=e("ariaColumnGroup","Column Group"),i=this.cbSelect.getValue(),o=i===void 0?e("ariaIndeterminate","indeterminate"):i?e("ariaVisible","visible"):e("ariaHidden","hidden"),a=e("ariaToggleVisibility","Press SPACE to toggle visibility");F.setAriaLabel(this.focusWrapper,"".concat(this.displayName," ").concat(r)),this.cbSelect.setInputAriaLabel("".concat(a," (").concat(o,")")),F.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},t.prototype.onColumnStateChanged=function(){var e=this.workOutSelectedValue(),r=this.workOutReadOnlyValue();this.processingColumnStateChange=!0,this.cbSelect.setValue(e),this.cbSelect.setReadOnly(r),this.addOrRemoveCssClass("ag-column-select-column-group-readonly",r),this.processingColumnStateChange=!1},t.prototype.workOutSelectedValue=function(){var e=this,r=this.columnModel.isPivotMode(),i=this.getVisibleLeafColumns(),o=0,a=0;if(i.forEach(function(s){!r&&s.getColDef().lockVisible||(e.isColumnChecked(s,r)?o++:a++)}),!(o>0&&a>0))return o>0},t.prototype.workOutReadOnlyValue=function(){var e=this.columnModel.isPivotMode(),r=0;return this.columnGroup.getLeafColumns().forEach(function(i){e?i.isAnyFunctionAllowed()&&r++:i.getColDef().lockVisible||r++}),r===0},t.prototype.isColumnChecked=function(e,r){if(r){var i=e.isPivotActive(),o=e.isRowGroupActive(),a=e.isValueActive();return i||o||a}return e.isVisible()},t.prototype.onExpandOrContractClicked=function(){var e=this.modelItem.isExpanded();this.modelItem.setExpanded(!e)},t.prototype.onExpandChanged=function(){this.setOpenClosedIcons(),this.refreshAriaExpanded()},t.prototype.setOpenClosedIcons=function(){var e=this.modelItem.isExpanded();F.setDisplayed(this.eGroupClosedIcon,!e),F.setDisplayed(this.eGroupOpenedIcon,e)},t.prototype.refreshAriaExpanded=function(){F.setAriaExpanded(this.focusWrapper,this.modelItem.isExpanded())},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.onSelectAllChanged=function(e){var r=this.cbSelect.getValue(),i=this.cbSelect.isReadOnly();!i&&(e&&!r||!e&&r)&&this.cbSelect.toggle()},t.prototype.isSelected=function(){return this.cbSelect.getValue()},t.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},t.prototype.setSelected=function(e){this.cbSelect.setValue(e,!0)},t.TEMPLATE=`<div class="ag-column-select-column-group" aria-hidden="true">
            <span class="ag-column-group-icons" ref="eColumnGroupIcons" >
                <span class="ag-column-group-closed-icon" ref="eGroupClosedIcon"></span>
                <span class="ag-column-group-opened-icon" ref="eGroupOpenedIcon"></span>
            </span>
            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>
            <span class="ag-column-select-column-label" ref="eLabel"></span>
        </div>`,xc([O("columnModel")],t.prototype,"columnModel",void 0),xc([O("dragAndDropService")],t.prototype,"dragAndDropService",void 0),xc([O("modelItemUtils")],t.prototype,"modelItemUtils",void 0),xc([U("cbSelect")],t.prototype,"cbSelect",void 0),xc([U("eLabel")],t.prototype,"eLabel",void 0),xc([U("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),xc([U("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),xc([U("eColumnGroupIcons")],t.prototype,"eColumnGroupIcons",void 0),xc([q],t.prototype,"init",null),t}(Ce),EUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),LL=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},OUe=function(n){EUe(t,n);function t(e,r){var i=n.call(this)||this;return i.comp=e,i.virtualList=r,i}return t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new dB(this.comp,this.virtualList,{dragSourceType:on.ToolPanel,listItemDragStartEvent:M.EVENT_COLUMN_PANEL_ITEM_DRAG_START,listItemDragEndEvent:M.EVENT_COLUMN_PANEL_ITEM_DRAG_END,eventSource:this.eventService,getCurrentDragValue:function(r){return e.getCurrentDragValue(r)},isMoveBlocked:function(r){return e.isMoveBlocked(r)},getNumRows:function(r){return r.getDisplayedColsList().length},moveItem:function(r,i){return e.moveItem(r,i)}}))},t.prototype.getCurrentDragValue=function(e){return e.column},t.prototype.isMoveBlocked=function(e){var r=this.gridOptionsService.get("suppressMovableColumns");if(r)return!0;var i=this.getCurrentColumns(e),o=i.find(function(a){var s=a.getColDef();return!!s.suppressMovable||!!s.lockPosition});return!!o},t.prototype.moveItem=function(e,r){var i=this.getTargetIndex(e,r),o=this.getCurrentColumns(e);i!=null&&this.columnModel.moveColumns(o,i,"toolPanelUi")},t.prototype.getMoveDiff=function(e,r){var i=this.columnModel.getAllGridColumns(),o=this.getCurrentColumns(e),a=o[0],s=o.length,l=i.indexOf(a);return l<r?s:0},t.prototype.getCurrentColumns=function(e){return e instanceof er?e.getLeafColumns():[e]},t.prototype.getTargetIndex=function(e,r){if(!r)return null;var i=r.component,o=r.position==="top",a;if(i instanceof Lee){var s=i.getColumns();a=s[0],o=!0}else a=i.getColumn();var l=this.getCurrentColumns(e);if(l.indexOf(a)!==-1)return null;var u=this.columnModel.getAllGridColumns().indexOf(a),c=o?u:u+1,d=this.getMoveDiff(e,c);return c-d},LL([O("columnModel")],t.prototype,"columnModel",void 0),LL([O("gridOptionsService")],t.prototype,"gridOptionsService",void 0),LL([q],t.prototype,"postConstruct",null),t}(re),RUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ng=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},TUe=function(n){RUe(t,n);function t(e,r,i,o){var a=n.call(this)||this;return a.allowDragging=r,a.groupsExist=i,a.focusWrapper=o,a.processingColumnStateChange=!1,a.column=e.getColumn(),a.columnDept=e.getDept(),a.displayName=e.getDisplayName(),a}return t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE),this.eDragHandle=F.createIconNoSpan("columnDrag",this.gridOptionsService),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-drag-handle");var r=this.cbSelect.getGui(),i=this.cbSelect.getInputElement();r.insertAdjacentElement("afterend",this.eDragHandle),i.setAttribute("tabindex","-1");var o=F.escapeString(this.displayName);this.eLabel.innerHTML=o;var a=this.columnDept;this.groupsExist&&this.addCssClass("ag-column-select-add-group-indent"),this.addCssClass("ag-column-select-indent-".concat(a)),this.setupDragging(),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,Rt.EVENT_VALUE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,Rt.EVENT_PIVOT_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,Rt.EVENT_ROW_GROUP_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,Rt.EVENT_VISIBLE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.addManagedPropertyListener("functionsReadOnly",this.onColumnStateChanged.bind(this)),this.addManagedListener(this.cbSelect,M.EVENT_FIELD_VALUE_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.onColumnStateChanged(),this.refreshAriaLabel(),this.setupTooltip();var s=fh.getToolPanelClassesFromColDef(this.column.getColDef(),this.gridOptionsService,this.column,null);s.forEach(function(l){return e.addOrRemoveCssClass(l,!0)})},t.prototype.getColumn=function(){return this.column},t.prototype.setupTooltip=function(){var e=this,r=function(){var i=e.column.getColDef().headerTooltip;e.setTooltip(i)};r(),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,r)},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumn",e.colDef=this.column.getColDef(),e},t.prototype.onContextMenu=function(e){var r=this,i=this,o=i.column,a=i.gridOptionsService;if(!a.get("functionsReadOnly")){var s=this.createBean(new Mee(o,e,this.focusWrapper));this.addDestroyFunc(function(){s.isAlive()&&r.destroyBean(s)})}},t.prototype.handleKeyDown=function(e){e.key===K.SPACE&&(e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected()))},t.prototype.onLabelClicked=function(){if(!this.gridOptionsService.get("functionsReadOnly")){var e=!this.cbSelect.getValue();this.onChangeCommon(e)}},t.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},t.prototype.onChangeCommon=function(e){this.cbSelect.isReadOnly()||(this.refreshAriaLabel(),!this.processingColumnStateChange&&this.modelItemUtils.setColumn(this.column,e,"toolPanelUi"))},t.prototype.refreshAriaLabel=function(){var e=this.localeService.getLocaleTextFunc(),r=e("ariaColumn","Column"),i=this.cbSelect.getValue()?e("ariaVisible","visible"):e("ariaHidden","hidden"),o=e("ariaToggleVisibility","Press SPACE to toggle visibility");F.setAriaLabel(this.focusWrapper,"".concat(this.displayName," ").concat(r)),this.cbSelect.setInputAriaLabel("".concat(o," (").concat(i,")")),F.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},t.prototype.setupDragging=function(){var e=this;if(!this.allowDragging){F.setDisplayed(this.eDragHandle,!1);return}var r=!this.gridOptionsService.get("suppressDragLeaveHidesColumns"),i={type:on.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDefaultIconName:function(){return r?Wt.ICON_HIDE:Wt.ICON_NOT_ALLOWED},getDragItem:function(){return e.createDragItem()},onDragStarted:function(){r=!e.gridOptionsService.get("suppressDragLeaveHidesColumns");var o={type:M.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:e.column};e.eventService.dispatchEvent(o)},onDragStopped:function(){var o={type:M.EVENT_COLUMN_PANEL_ITEM_DRAG_END};e.eventService.dispatchEvent(o)},onGridEnter:function(o){r&&e.modelItemUtils.updateColumns({columns:[e.column],visibleState:o==null?void 0:o.visibleState,pivotState:o==null?void 0:o.pivotState,eventType:"toolPanelUi"})},onGridExit:function(){r&&e.onChangeCommon(!1)}};this.dragAndDropService.addDragSource(i,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(i)})},t.prototype.createDragItem=function(){var e,r,i=this.column.getColId(),o=(e={},e[i]=this.column.isVisible(),e),a=(r={},r[i]=this.modelItemUtils.createPivotState(this.column),r);return{columns:[this.column],visibleState:o,pivotState:a}},t.prototype.onColumnStateChanged=function(){this.processingColumnStateChange=!0;var e=this.columnModel.isPivotMode();if(e){var r=this.column.isAnyFunctionActive();this.cbSelect.setValue(r)}else this.cbSelect.setValue(this.column.isVisible());var i=!0,o=!0;if(e){var a=this.gridOptionsService.get("functionsReadOnly"),s=!this.column.isAnyFunctionAllowed();i=!a&&!s,o=i}else{var l=this.column.getColDef(),u=l.enableRowGroup,c=l.enableValue,d=l.lockPosition,p=l.suppressMovable,h=l.lockVisible,f=!!u||!!c,v=!!d||!!p;i=!h,o=f||!v}this.cbSelect.setReadOnly(!i),this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!o),this.addOrRemoveCssClass("ag-column-select-column-readonly",!o&&!i);var g=e&&this.gridOptionsService.get("functionsPassive");this.cbSelect.setPassive(g),this.processingColumnStateChange=!1},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.onSelectAllChanged=function(e){e!==this.cbSelect.getValue()&&(this.cbSelect.isReadOnly()||this.cbSelect.toggle())},t.prototype.isSelected=function(){return this.cbSelect.getValue()},t.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},t.prototype.isExpandable=function(){return!1},t.prototype.setExpanded=function(e){console.warn("AG Grid: can not expand a column item that does not represent a column group header")},t.TEMPLATE=`<div class="ag-column-select-column" aria-hidden="true">
            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>
            <span class="ag-column-select-column-label" ref="eLabel"></span>
        </div>`,ng([O("columnModel")],t.prototype,"columnModel",void 0),ng([O("dragAndDropService")],t.prototype,"dragAndDropService",void 0),ng([O("modelItemUtils")],t.prototype,"modelItemUtils",void 0),ng([U("eLabel")],t.prototype,"eLabel",void 0),ng([U("cbSelect")],t.prototype,"cbSelect",void 0),ng([q],t.prototype,"init",null),t}(Ce),PUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Tb=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},DUe=function(){function n(t){this.items=t}return n.prototype.getRowCount=function(){return this.items.length},n.prototype.getRow=function(t){return this.items[t]},n}(),AUe="ag-column-select-list",MUe=function(n){PUe(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.destroyColumnItemFuncs=[],e.hasLoadedInitialState=!1,e.isInitialState=!1,e}return t.prototype.destroyColumnTree=function(){this.allColsTree=[],this.destroyColumnItemFuncs.forEach(function(e){return e()}),this.destroyColumnItemFuncs=[]},t.prototype.init=function(e,r,i){var o=this;this.params=e,this.allowDragging=r,this.eventType=i,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,M.EVENT_COLUMN_MOVED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,this.onColumnsChanged.bind(this));var a=[M.EVENT_COLUMN_PIVOT_CHANGED,M.EVENT_COLUMN_PIVOT_MODE_CHANGED,M.EVENT_COLUMN_ROW_GROUP_CHANGED,M.EVENT_COLUMN_VALUE_CHANGED,M.EVENT_COLUMN_VISIBLE,M.EVENT_NEW_COLUMNS_LOADED];a.forEach(function(l){o.addManagedListener(o.eventService,l,o.fireSelectionChangedEvent.bind(o))}),this.expandGroupsByDefault=!this.params.contractColumnSelection,this.virtualList=this.createManagedBean(new Ev({cssIdentifier:"column-select",ariaRole:"tree"})),this.appendChild(this.virtualList.getGui());var s=this.virtualList.getAriaElement();F.setAriaLive(s,"assertive"),F.setAriaAtomic(s,!1),F.setAriaRelevant(s,"text"),this.virtualList.setComponentCreator(function(l,u){return F.setAriaLevel(u,l.getDept()+1),o.createComponentFromItem(l,u)}),this.columnModel.isReady()&&this.onColumnsChanged(),!this.params.suppressColumnMove&&(this.colsListPanelItemDragFeature=this.createManagedBean(new OUe(this,this.virtualList)))},t.prototype.createComponentFromItem=function(e,r){if(e.isGroup()){var i=new Lee(e,this.allowDragging,this.eventType,r);return this.getContext().createBean(i),i}var o=new TUe(e,this.allowDragging,this.groupsExist,r);return this.getContext().createBean(o),o},t.prototype.onColumnsChanged=function(){this.hasLoadedInitialState||(this.hasLoadedInitialState=!0,this.isInitialState=!!this.params.initialState);var e=this.getExpandedStates(),r=this.columnModel.isPivotMode(),i=!this.params.suppressSyncLayoutWithGrid&&!r;i?this.buildTreeFromWhatGridIsDisplaying():this.buildTreeFromProvidedColumnDefs(),this.setExpandedStates(e),this.markFilteredColumns(),this.flattenAndFilterModel(),this.isInitialState=!1},t.prototype.getDisplayedColsList=function(){return this.displayedColsList},t.prototype.getExpandedStates=function(){var e={};if(this.isInitialState){var r=this.params.initialState.expandedGroupIds;return r.forEach(function(i){e[i]=!0}),e}return this.allColsTree?(this.forEachItem(function(i){if(i.isGroup()){var o=i.getColumnGroup();o&&(e[o.getId()]=i.isExpanded())}}),e):{}},t.prototype.setExpandedStates=function(e){if(this.allColsTree){var r=this.isInitialState;this.forEachItem(function(i){if(i.isGroup()){var o=i.getColumnGroup();if(o){var a=e[o.getId()],s=a!=null;(s||r)&&i.setExpanded(!!a)}}})}},t.prototype.buildTreeFromWhatGridIsDisplaying=function(){this.colDefService.syncLayoutWithGrid(this.setColumnLayout.bind(this))},t.prototype.setColumnLayout=function(e){var r=this.colDefService.createColumnTree(e);this.buildListModel(r),this.groupsExist=e.some(function(i){return i&&typeof i.children<"u"}),this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.buildTreeFromProvidedColumnDefs=function(){this.buildListModel(this.columnModel.getPrimaryColumnTree()),this.groupsExist=this.columnModel.isPrimaryColumnGroupsPresent()},t.prototype.buildListModel=function(e){var r=this,i=this.onColumnExpanded.bind(this),o=function(u){u.addEventListener(AS.EVENT_EXPANDED_CHANGED,i);var c=u.removeEventListener.bind(u,AS.EVENT_EXPANDED_CHANGED,i);r.destroyColumnItemFuncs.push(c)},a=function(u,c,d){u.forEach(function(p){p instanceof er?s(p,c,d):l(p,c,d)})},s=function(u,c,d){var p=u.getColGroupDef(),h=p&&p.suppressColumnsToolPanel;if(!h){if(u.isPadding()){a(u.getChildren(),c,d);return}var f=r.columnModel.getDisplayNameForProvidedColumnGroup(null,u,"columnToolPanel"),v=new AS(f,u,c,!0,r.expandGroupsByDefault);d.push(v),o(v),a(u.getChildren(),c+1,v.getChildren())}},l=function(u,c,d){var p=u.getColDef()&&u.getColDef().suppressColumnsToolPanel;if(!p){var h=r.columnModel.getDisplayNameForColumn(u,"columnToolPanel");d.push(new AS(h,u,c))}};this.destroyColumnTree(),a(e,0,this.allColsTree)},t.prototype.onColumnExpanded=function(){this.flattenAndFilterModel()},t.prototype.flattenAndFilterModel=function(){var e=this;this.displayedColsList=[];var r=function(o){o.isPassesFilter()&&(e.displayedColsList.push(o),o.isGroup()&&o.isExpanded()&&o.getChildren().forEach(r))};this.allColsTree.forEach(r),this.virtualList.setModel(new DUe(this.displayedColsList));var i=this.virtualList.getLastFocusedRow();this.virtualList.refresh(),i!=null&&this.focusRowIfAlive(i),this.notifyListeners(),this.refreshAriaLabel()},t.prototype.refreshAriaLabel=function(){var e=this.localeService.getLocaleTextFunc(),r=e("ariaColumnPanelList","Column List"),i=e("columns","Columns"),o=this.displayedColsList.length;F.setAriaLabel(this.virtualList.getAriaElement(),"".concat(r," ").concat(o," ").concat(i))},t.prototype.focusRowIfAlive=function(e){var r=this;window.setTimeout(function(){r.isAlive()&&r.virtualList.focusRow(e)},0)},t.prototype.forEachItem=function(e){var r=function(i){i.forEach(function(o){e(o),o.isGroup()&&r(o.getChildren())})};this.allColsTree&&r(this.allColsTree)},t.prototype.doSetExpandedAll=function(e){this.forEachItem(function(r){r.isGroup()&&r.setExpanded(e)})},t.prototype.setGroupsExpanded=function(e,r){if(!r){this.doSetExpandedAll(e);return}var i=[];this.forEachItem(function(a){if(a.isGroup()){var s=a.getColumnGroup().getId();r.indexOf(s)>=0&&(a.setExpanded(e),i.push(s))}});var o=r.filter(function(a){return!F.includes(i,a)});o.length>0&&console.warn("AG Grid: unable to find group(s) for supplied groupIds:",o)},t.prototype.getExpandState=function(){var e=0,r=0;return this.forEachItem(function(i){i.isGroup()&&(i.isExpanded()?e++:r++)}),e>0&&r>0?Pu.INDETERMINATE:r>0?Pu.COLLAPSED:Pu.EXPANDED},t.prototype.doSetSelectedAll=function(e){this.modelItemUtils.selectAllChildren(this.allColsTree,e,this.eventType)},t.prototype.getSelectionState=function(){var e=0,r=0,i=this.columnModel.isPivotMode();if(this.forEachItem(function(o){if(!o.isGroup()&&o.isPassesFilter()){var a=o.getColumn(),s=a.getColDef(),l;if(i){var u=!a.isAllowPivot()&&!a.isAllowRowGroup()&&!a.isAllowValue();if(u)return;l=a.isValueActive()||a.isPivotActive()||a.isRowGroupActive()}else{if(s.lockVisible)return;l=a.isVisible()}l?e++:r++}}),!(e>0&&r>0))return!(e===0||r>0)},t.prototype.setFilterText=function(e){this.filterText=F.exists(e)?e.toLowerCase():null,this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.markFilteredColumns=function(){var e=this,r=function(o){if(!F.exists(e.filterText))return!0;var a=o.getDisplayName();return a==null||a.toLowerCase().indexOf(e.filterText)!==-1},i=function(o,a){var s=!1;if(o.isGroup()){var l=r(o);o.getChildren().forEach(function(c){var d=i(c,l||a);d&&(s=d)})}var u=a||s?!0:r(o);return o.setPassesFilter(u),u};this.allColsTree.forEach(function(o){return i(o,!1)})},t.prototype.notifyListeners=function(){this.fireGroupExpandedEvent(),this.fireSelectionChangedEvent()},t.prototype.fireGroupExpandedEvent=function(){var e=this.getExpandState();this.dispatchEvent({type:"groupExpanded",state:e})},t.prototype.fireSelectionChangedEvent=function(){if(this.allColsTree){var e=this.getSelectionState();this.dispatchEvent({type:"selectionChanged",state:e})}},t.prototype.getExpandedGroups=function(){var e=[];return this.allColsTree&&this.forEachItem(function(r){r.isGroup()&&r.isExpanded()&&e.push(r.getColumnGroup().getId())}),e},t.TEMPLATE='<div class="'.concat(AUe,'" role="presentation"></div>'),Tb([O("columnModel")],t.prototype,"columnModel",void 0),Tb([O("toolPanelColDefService")],t.prototype,"colDefService",void 0),Tb([O("modelItemUtils")],t.prototype,"modelItemUtils",void 0),Tb([Gr],t.prototype,"destroyColumnTree",null),t}(Ce),LUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Pb=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},h4=function(n){LUe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.createTemplate=function(){return`<div class="ag-pivot-mode-panel">
                <ag-toggle-button ref="cbPivotMode" class="ag-pivot-mode-select"></ag-toggle-button>
            </div>`},t.prototype.init=function(){this.setTemplate(this.createTemplate()),this.cbPivotMode.setValue(this.columnModel.isPivotMode());var e=this.localeService.getLocaleTextFunc();this.cbPivotMode.setLabel(e("pivotMode","Pivot Mode")),this.addManagedListener(this.cbPivotMode,M.EVENT_FIELD_VALUE_CHANGED,this.onBtPivotMode.bind(this)),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this))},t.prototype.onBtPivotMode=function(){var e=!!this.cbPivotMode.getValue();if(e!==this.columnModel.isPivotMode()){this.gridOptionsService.updateGridOptions({options:{pivotMode:e},source:"toolPanelUi"});var r=this.api;r&&r.refreshHeader()}},t.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.cbPivotMode.setValue(e)},Pb([O("columnModel")],t.prototype,"columnModel",void 0),Pb([O("gridApi")],t.prototype,"api",void 0),Pb([U("cbPivotMode")],t.prototype,"cbPivotMode",void 0),Pb([uv],t.prototype,"init",null),t}(Ce),FUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Db=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},IUe=function(n){FUe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.execute=function(e){var r=F.missingOrEmpty(this.columnModel.getValueColumns()),i=!this.gridOptionsService.getCallback("getGroupRowAgg"),o=e.changedPath&&e.changedPath.isActive();if(!(r&&i&&o)){var a=this.createAggDetails(e);this.recursivelyCreateAggData(a)}},t.prototype.createAggDetails=function(e){var r=this.columnModel.isPivotActive(),i=this.columnModel.getValueColumns(),o=r?this.columnModel.getPivotColumns():[],a={alwaysAggregateAtRootLevel:this.gridOptionsService.get("alwaysAggregateAtRootLevel"),groupIncludeTotalFooter:this.gridOptionsService.get("groupIncludeTotalFooter"),changedPath:e.changedPath,valueColumns:i,pivotColumns:o,filteredOnly:!this.isSuppressAggFilteredOnly(),userAggFunc:this.gridOptionsService.getCallback("getGroupRowAgg")};return a},t.prototype.isSuppressAggFilteredOnly=function(){var e=this.gridOptionsService.getGroupAggFiltering()!==void 0;return e||this.gridOptionsService.get("suppressAggFilteredOnly")},t.prototype.recursivelyCreateAggData=function(e){var r=this,i=function(o){var a=!o.hasChildren();if(a){o.aggData&&o.setAggData(null);return}var s=o.level===-1;if(s&&!e.groupIncludeTotalFooter){var l=!r.columnModel.isPivotMode();if(!e.alwaysAggregateAtRootLevel&&l){o.setAggData(null);return}}r.aggregateRowNode(o,e)};e.changedPath.forEachChangedNodeDepthFirst(i,!0)},t.prototype.aggregateRowNode=function(e,r){var i=r.valueColumns.length===0,o=r.pivotColumns.length===0,a;r.userAggFunc?a=r.userAggFunc({nodes:e.childrenAfterFilter}):i?a=null:o?a=this.aggregateRowNodeUsingValuesOnly(e,r):a=this.aggregateRowNodeUsingValuesAndPivot(e),e.setAggData(a),e.sibling&&e.sibling.setAggData(a)},t.prototype.aggregateRowNodeUsingValuesAndPivot=function(e){for(var r,i,o={},a=(r=this.columnModel.getSecondaryColumns())!==null&&r!==void 0?r:[],s=!0,l=0;l<a.length;l++){var u=a[l],c=u.getColDef();if(c.pivotTotalColumnIds!=null){s=!1;continue}var d=(i=c.pivotKeys)!==null&&i!==void 0?i:[],p=void 0;e.leafGroup?p=this.getValuesFromMappedSet(e.childrenMapped,d,c.pivotValueColumn):p=this.getValuesPivotNonLeaf(e,c.colId),o[c.colId]=this.aggregateValues(p,c.pivotValueColumn.getAggFunc(),c.pivotValueColumn,e,u)}if(!s)for(var l=0;l<a.length;l++){var u=a[l],c=u.getColDef();if(!(c.pivotTotalColumnIds==null||!c.pivotTotalColumnIds.length)){var h=c.pivotTotalColumnIds.map(function(m){return o[m]});o[c.colId]=this.aggregateValues(h,c.pivotValueColumn.getAggFunc(),c.pivotValueColumn,e,u)}}return o},t.prototype.aggregateRowNodeUsingValuesOnly=function(e,r){var i=this,o={},a=r.changedPath.isActive()?r.changedPath.getValueColumnsForNode(e,r.valueColumns):r.valueColumns,s=r.changedPath.isActive()?r.changedPath.getNotValueColumnsForNode(e,r.valueColumns):null,l=this.getValuesNormal(e,a,r.filteredOnly),u=e.aggData;return a.forEach(function(c,d){o[c.getId()]=i.aggregateValues(l[d],c.getAggFunc(),c,e)}),s&&u&&s.forEach(function(c){o[c.getId()]=u[c.getId()]}),o},t.prototype.getValuesPivotNonLeaf=function(e,r){return e.childrenAfterFilter.map(function(i){return i.aggData[r]})},t.prototype.getValuesFromMappedSet=function(e,r,i){for(var o=this,a=e,s=0;s<r.length;s++){var l=r[s];a=a?a[l]:null}return a?a.map(function(u){return o.valueService.getValue(i,u)}):[]},t.prototype.getValuesNormal=function(e,r,i){var o=[];r.forEach(function(){return o.push([])});for(var a=r.length,s=i?e.childrenAfterFilter:e.childrenAfterGroup,l=s.length,u=0;u<l;u++)for(var c=s[u],d=0;d<a;d++){var p=r[d],h=this.valueService.getValue(p,c);o[d].push(h)}return o},t.prototype.aggregateValues=function(e,r,i,o,a){var s=typeof r=="string"?this.aggFuncService.getAggFunc(r):r;if(typeof s!="function")return console.error("AG Grid: unrecognised aggregation function ".concat(r)),null;var l=s,u=this.gridOptionsService.addGridCommonParams({values:e,column:i,colDef:i?i.getColDef():void 0,pivotResultColumn:a,rowNode:o,data:o?o.data:void 0});return l(u)},Db([O("columnModel")],t.prototype,"columnModel",void 0),Db([O("valueService")],t.prototype,"valueService",void 0),Db([O("aggFuncService")],t.prototype,"aggFuncService",void 0),t=Db([me("aggregationStage")],t),t}(re),FL=function(){function n(){this.allSets={},this.allParents=[]}return n.prototype.removeFromChildrenAfterGroup=function(t,e){var r=this.getSet(t);r.removeFromChildrenAfterGroup[e.id]=!0},n.prototype.isRemoveFromAllLeafChildren=function(t,e){var r=this.getSet(t);return!!r.removeFromAllLeafChildren[e.id]},n.prototype.preventRemoveFromAllLeafChildren=function(t,e){var r=this.getSet(t);delete r.removeFromAllLeafChildren[e.id]},n.prototype.removeFromAllLeafChildren=function(t,e){var r=this.getSet(t);r.removeFromAllLeafChildren[e.id]=!0},n.prototype.getSet=function(t){return this.allSets[t.id]||(this.allSets[t.id]={removeFromAllLeafChildren:{},removeFromChildrenAfterGroup:{}},this.allParents.push(t)),this.allSets[t.id]},n.prototype.getAllParents=function(){return this.allParents},n.prototype.flush=function(){var t=this;this.allParents.forEach(function(e){var r=t.allSets[e.id];e.childrenAfterGroup=e.childrenAfterGroup.filter(function(i){return!r.removeFromChildrenAfterGroup[i.id]}),e.allLeafChildren=e.allLeafChildren.filter(function(i){return!r.removeFromAllLeafChildren[i.id]}),e.updateHasChildren(),e.sibling&&(e.sibling.childrenAfterGroup=e.childrenAfterGroup,e.sibling.allLeafChildren=e.allLeafChildren)}),this.allSets={},this.allParents.length=0},n}(),NUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ig=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},f4=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},v4=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},kUe=function(n){NUe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.execute=function(e){var r=this.createGroupingDetails(e);if(r.transactions)this.handleTransaction(r);else{var i=e.afterColumnsChanged===!0;this.shotgunResetEverything(r,i)}r.usingTreeData||(this.positionLeafsAndGroups(e.changedPath),this.orderGroups(r)),this.selectableService.updateSelectableAfterGrouping()},t.prototype.positionLeafsAndGroups=function(e){e.forEachChangedNodeDepthFirst(function(r){if(r.childrenAfterGroup){var i=[],o=[],a;r.childrenAfterGroup.forEach(function(s){var l;!((l=s.childrenAfterGroup)===null||l===void 0)&&l.length?s.key===""&&!a?a=s:o.push(s):i.push(s)}),a&&o.push(a),r.childrenAfterGroup=v4(v4([],f4(i),!1),f4(o),!1)}},!1)},t.prototype.createGroupingDetails=function(e){var r,i=e.rowNode,o=e.changedPath,a=e.rowNodeTransactions,s=e.rowNodeOrder,l=this.gridOptionsService.get("treeData"),u=l?null:this.columnModel.getRowGroupColumns(),c={includeParents:!this.gridOptionsService.get("suppressParentsInRowNodes"),expandByDefault:this.gridOptionsService.get("groupDefaultExpanded"),groupedCols:u,rootNode:i,pivotMode:this.columnModel.isPivotMode(),groupedColCount:l||!u?0:u.length,rowNodeOrder:s,transactions:a,changedPath:o,groupAllowUnbalanced:this.gridOptionsService.get("groupAllowUnbalanced"),isGroupOpenByDefault:this.gridOptionsService.getCallback("isGroupOpenByDefault"),initialGroupOrderComparator:this.gridOptionsService.getCallback("initialGroupOrderComparator"),usingTreeData:l,suppressGroupMaintainValueType:this.gridOptionsService.get("suppressGroupMaintainValueType"),getDataPath:l?this.gridOptionsService.get("getDataPath"):void 0,keyCreators:(r=u==null?void 0:u.map(function(d){return d.getColDef().keyCreator}))!==null&&r!==void 0?r:[]};return c},t.prototype.handleTransaction=function(e){var r=this;e.transactions.forEach(function(i){var o=e.usingTreeData?void 0:new FL;if(F.existsAndNotEmpty(i.remove)&&r.removeNodes(i.remove,e,o),F.existsAndNotEmpty(i.update)&&r.moveNodesInWrongPath(i.update,e,o),F.existsAndNotEmpty(i.add)&&r.insertNodes(i.add,e,!1),o){var a=o.getAllParents().slice();o.flush(),r.removeEmptyGroups(a,e)}}),e.rowNodeOrder&&this.sortChildren(e)},t.prototype.sortChildren=function(e){e.changedPath.forEachChangedNodeDepthFirst(function(r){if(r.childrenAfterGroup){var i=F.sortRowNodesByOrder(r.childrenAfterGroup,e.rowNodeOrder);i&&e.changedPath.addParentNode(r)}},!1,!0)},t.prototype.orderGroups=function(e){var r=e.initialGroupOrderComparator;F.exists(r)&&i(e.rootNode);function i(o){var a=F.exists(o.childrenAfterGroup)&&!o.leafGroup;a&&(o.childrenAfterGroup.sort(function(s,l){return r({nodeA:s,nodeB:l})}),o.childrenAfterGroup.forEach(function(s){return i(s)}))}},t.prototype.getExistingPathForNode=function(e,r){for(var i=[],o=r.usingTreeData?e:e.parent;o&&o!==r.rootNode;)i.push({key:o.key,rowGroupColumn:o.rowGroupColumn,field:o.field}),o=o.parent;return i.reverse(),i},t.prototype.moveNodesInWrongPath=function(e,r,i){var o=this;e.forEach(function(a){r.changedPath.isActive()&&r.changedPath.addParentNode(a.parent);var s=function(d){return d.key},l=o.getExistingPathForNode(a,r).map(s),u=o.getGroupInfo(a,r).map(s),c=F.areEqual(l,u);c||o.moveNode(a,r,i)})},t.prototype.moveNode=function(e,r,i){if(this.removeNodesInStages([e],r,i),this.insertOneNode(e,r,!0,i),e.setData(e.data),r.changedPath.isActive()){var o=e.parent;r.changedPath.addParentNode(o)}},t.prototype.removeNodes=function(e,r,i){this.removeNodesInStages(e,r,i),r.changedPath.isActive()&&e.forEach(function(o){return r.changedPath.addParentNode(o.parent)})},t.prototype.removeNodesInStages=function(e,r,i){if(this.removeNodesFromParents(e,r,i),r.usingTreeData){this.postRemoveCreateFillerNodes(e,r);var o=e.map(function(a){return a.parent});this.removeEmptyGroups(o,r)}},t.prototype.forEachParentGroup=function(e,r,i){for(var o=r;o&&o!==e.rootNode;)i(o),o=o.parent},t.prototype.removeNodesFromParents=function(e,r,i){var o=this,a=i==null,s=i||new FL;e.forEach(function(l){o.removeFromParent(l,s),o.forEachParentGroup(r,l.parent,function(u){s.removeFromAllLeafChildren(u,l)})}),a&&s.flush()},t.prototype.postRemoveCreateFillerNodes=function(e,r){var i=this;e.forEach(function(o){var a=o.hasChildren();if(a){var s=i.getExistingPathForNode(o,r),l=i.findParentForNode(o,s,r);l.expanded=o.expanded,l.allLeafChildren=o.allLeafChildren,l.childrenAfterGroup=o.childrenAfterGroup,l.childrenMapped=o.childrenMapped,l.updateHasChildren(),l.childrenAfterGroup.forEach(function(u){return u.parent=l})}})},t.prototype.removeEmptyGroups=function(e,r){for(var i=this,o=!0,a=function(l){var u=i.getChildrenMappedKey(l.key,l.rowGroupColumn),c=l.parent,d=c&&c.childrenMapped?!c.childrenMapped[u]:!0;return d?!1:!!l.isEmptyRowGroupNode()},s=function(){o=!1;var l=new FL;e.forEach(function(u){i.forEachParentGroup(r,u,function(c){a(c)&&(o=!0,i.removeFromParent(c,l),c.setSelectedParams({newValue:!1,source:"rowGroupChanged"}))})}),l.flush()};o;)s()},t.prototype.removeFromParent=function(e,r){e.parent&&(r?r.removeFromChildrenAfterGroup(e.parent,e):(F.removeFromArray(e.parent.childrenAfterGroup,e),e.parent.updateHasChildren()));var i=this.getChildrenMappedKey(e.key,e.rowGroupColumn);e.parent&&e.parent.childrenMapped&&(e.parent.childrenMapped[i]=void 0),e.setRowTop(null),e.setRowIndex(null)},t.prototype.addToParent=function(e,r){var i=this.getChildrenMappedKey(e.key,e.rowGroupColumn);if(r){var o=r.childrenMapped!=null;o&&(r.childrenMapped[i]=e),r.childrenAfterGroup.push(e),r.updateHasChildren()}},t.prototype.areGroupColsEqual=function(e,r){return e==null||r==null||e.pivotMode!==r.pivotMode?!1:F.areEqual(e.groupedCols,r.groupedCols)&&F.areEqual(e.keyCreators,r.keyCreators)},t.prototype.checkAllGroupDataAfterColsChanged=function(e){var r=this,i=function(o){o&&o.forEach(function(a){var s=!e.usingTreeData&&!a.group;if(!s){var l={field:a.field,key:a.key,rowGroupColumn:a.rowGroupColumn,leafNode:a.allLeafChildren[0]};r.setGroupData(a,l,e),i(a.childrenAfterGroup)}})};i(e.rootNode.childrenAfterGroup)},t.prototype.shotgunResetEverything=function(e,r){if(!this.noChangeInGroupingColumns(e,r)){this.selectionService.filterFromSelection(function(s){return s&&!s.group});var i=e.rootNode,o=e.groupedCols;i.leafGroup=e.usingTreeData?!1:o.length===0,i.childrenAfterGroup=[],i.childrenMapped={},i.updateHasChildren();var a=i.sibling;a&&(a.childrenAfterGroup=i.childrenAfterGroup,a.childrenMapped=i.childrenMapped),this.insertNodes(i.allLeafChildren,e,!1)}},t.prototype.noChangeInGroupingColumns=function(e,r){var i=!1,o=this.columnModel.getGroupDisplayColumns(),a=o?o.map(function(s){return s.getId()}).join("-"):"";return r&&(i=e.usingTreeData||this.areGroupColsEqual(e,this.oldGroupingDetails),this.oldGroupDisplayColIds!==a&&this.checkAllGroupDataAfterColsChanged(e)),this.oldGroupingDetails=e,this.oldGroupDisplayColIds=a,i},t.prototype.insertNodes=function(e,r,i){var o=this;e.forEach(function(a){o.insertOneNode(a,r,i),r.changedPath.isActive()&&r.changedPath.addParentNode(a.parent)})},t.prototype.insertOneNode=function(e,r,i,o){var a=this.getGroupInfo(e,r),s=this.findParentForNode(e,a,r,o);s.group||console.warn("AG Grid: duplicate group keys for row data, keys should be unique",[s.data,e.data]),r.usingTreeData?this.swapGroupWithUserNode(s,e,i):(e.parent=s,e.level=a.length,s.childrenAfterGroup.push(e),s.updateHasChildren())},t.prototype.findParentForNode=function(e,r,i,o){var a=this,s=i.rootNode;return r.forEach(function(l,u){s=a.getOrCreateNextNode(s,l,u,i),o!=null&&o.isRemoveFromAllLeafChildren(s,e)?o==null||o.preventRemoveFromAllLeafChildren(s,e):s.allLeafChildren.push(e)}),s},t.prototype.swapGroupWithUserNode=function(e,r,i){r.parent=e.parent,r.key=e.key,r.field=e.field,r.groupData=e.groupData,r.level=e.level,i||(r.expanded=e.expanded),r.leafGroup=e.leafGroup,r.rowGroupIndex=e.rowGroupIndex,r.allLeafChildren=e.allLeafChildren,r.childrenAfterGroup=e.childrenAfterGroup,r.childrenMapped=e.childrenMapped,r.sibling=e.sibling,r.updateHasChildren(),this.removeFromParent(e),r.childrenAfterGroup.forEach(function(o){return o.parent=r}),this.addToParent(r,e.parent)},t.prototype.getOrCreateNextNode=function(e,r,i,o){var a=this.getChildrenMappedKey(r.key,r.rowGroupColumn),s=e.childrenMapped?e.childrenMapped[a]:void 0;return s||(s=this.createGroup(r,e,i,o),this.addToParent(s,e)),s},t.prototype.createGroup=function(e,r,i,o){var a=new Ct(this.beans);return a.group=!0,a.field=e.field,a.rowGroupColumn=e.rowGroupColumn,this.setGroupData(a,e,o),a.key=e.key,a.id=this.createGroupId(a,r,o.usingTreeData,i),a.level=i,a.leafGroup=o.usingTreeData?!1:i===o.groupedColCount-1,a.allLeafChildren=[],a.setAllChildrenCount(0),a.rowGroupIndex=o.usingTreeData?null:i,a.childrenAfterGroup=[],a.childrenMapped={},a.updateHasChildren(),a.parent=o.includeParents?r:null,this.setExpandedInitialValue(o,a),a},t.prototype.createGroupId=function(e,r,i,o){var a;return i?a=function(s,l,u){if(u<0)return null;var c=l?a(l,l.parent,u-1):null;return"".concat(c==null?"":c+"-").concat(u,"-").concat(s.key)}:a=function(s,l){if(!s.rowGroupColumn)return null;var u=l?a(l,l.parent,0):null;return"".concat(u==null?"":u+"-").concat(s.rowGroupColumn.getColId(),"-").concat(s.key)},Ct.ID_PREFIX_ROW_GROUP+a(e,r,o)},t.prototype.setGroupData=function(e,r,i){var o=this;e.groupData={};var a=this.columnModel.getGroupDisplayColumns();a.forEach(function(s){var l=i.usingTreeData;if(l){e.groupData[s.getColId()]=r.key;return}var u=e.rowGroupColumn,c=u!==null&&s.isRowGroupDisplayed(u.getId());c&&(i.suppressGroupMaintainValueType?e.groupData[s.getColId()]=r.key:e.groupData[s.getColId()]=o.valueService.getValue(u,r.leafNode))})},t.prototype.getChildrenMappedKey=function(e,r){return r?r.getId()+"-"+e:e},t.prototype.setExpandedInitialValue=function(e,r){if(e.pivotMode&&r.leafGroup){r.expanded=!1;return}var i=e.isGroupOpenByDefault;if(i){var o={rowNode:r,field:r.field,key:r.key,level:r.level,rowGroupColumn:r.rowGroupColumn};r.expanded=i(o)==!0;return}var a=e.expandByDefault;if(e.expandByDefault===-1){r.expanded=!0;return}r.expanded=r.level<a},t.prototype.getGroupInfo=function(e,r){return r.usingTreeData?this.getGroupInfoFromCallback(e,r):this.getGroupInfoFromGroupColumns(e,r)},t.prototype.getGroupInfoFromCallback=function(e,r){var i=r.getDataPath?r.getDataPath(e.data):null;(i==null||i.length===0)&&F.warnOnce("getDataPath() should not return an empty path for data ".concat(e.data));var o=function(a){return{key:a,field:null,rowGroupColumn:null}};return i?i.map(o):[]},t.prototype.getGroupInfoFromGroupColumns=function(e,r){var i=this,o=[];return r.groupedCols.forEach(function(a){var s=i.valueService.getKeyForNode(a,e),l=s!=null&&s!=="",u=r.pivotMode||!r.groupAllowUnbalanced;if(u&&!l&&(s="",l=!0),l){var c={key:s,field:a.getColDef().field,rowGroupColumn:a,leafNode:e};o.push(c)}}),o},ig([O("columnModel")],t.prototype,"columnModel",void 0),ig([O("selectableService")],t.prototype,"selectableService",void 0),ig([O("valueService")],t.prototype,"valueService",void 0),ig([O("beans")],t.prototype,"beans",void 0),ig([O("selectionService")],t.prototype,"selectionService",void 0),t=ig([me("groupStage")],t),t}(re),GUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),XR=function(){return XR=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},XR.apply(this,arguments)},Ab=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Mb=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},og=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},VUe=function(n){GUe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}e=t,t.prototype.init=function(){var r=this,i=function(){var a;return(a=r.gos.get("serverSidePivotResultFieldSeparator"))!==null&&a!==void 0?a:"_"};this.fieldSeparator=i(),this.addManagedPropertyListener("serverSidePivotResultFieldSeparator",function(){r.fieldSeparator=i()});var o=function(){return r.gos.get("pivotDefaultExpanded")};this.pivotDefaultExpanded=o(),this.addManagedPropertyListener("pivotDefaultExpanded",function(){r.pivotDefaultExpanded=o()})},t.prototype.createPivotColumnDefs=function(r){var i=this.createPivotColumnsFromUniqueValues(r);function o(l,u){return u===void 0&&(u=[]),l.forEach(function(c){c.children!==void 0?o(c.children,u):u.push(c)}),u}var a=o(i);this.addRowGroupTotals(i,a),this.addExpandablePivotGroups(i,a),this.addPivotTotalsToGroups(i,a);var s=a.map(function(l){return F.cloneObject(l)});return{pivotColumnGroupDefs:i,pivotColumnDefs:s}},t.prototype.createPivotColumnsFromUniqueValues=function(r){var i=this.columnModel.getPivotColumns(),o=i.length,a=this.recursivelyBuildGroup(0,r,[],o,i);return a},t.prototype.recursivelyBuildGroup=function(r,i,o,a,s){var l=this,u=this.columnModel.getValueColumns();if(r>=a)return this.buildMeasureCols(o);var c=s[r].getColDef(),d=this.headerNameComparator.bind(this,c.pivotComparator);if(u.length===1&&this.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn")&&r===a-1){var p=[];return F.iterateObject(i,function(f){var v=og(og([],Mb(o),!1),[f],!1),g=l.createColDef(u[0],f,v);g.columnGroupShow="open",p.push(g)}),p.sort(d),p}var h=[];return F.iterateObject(i,function(f,v){var g=l.pivotDefaultExpanded===-1||r<l.pivotDefaultExpanded,m=og(og([],Mb(o),!1),[f],!1);h.push({children:l.recursivelyBuildGroup(r+1,v,m,a,s),headerName:f,pivotKeys:m,columnGroupShow:"open",openByDefault:g,groupId:l.generateColumnGroupId(m)})}),h.sort(d),h},t.prototype.buildMeasureCols=function(r){var i=this,o=this.columnModel.getValueColumns();return o.length===0?[this.createColDef(null,"-",r)]:o.map(function(a){var s=i.columnModel.getDisplayNameForColumn(a,"header");return XR(XR({},i.createColDef(a,s,r)),{columnGroupShow:"open"})})},t.prototype.addExpandablePivotGroups=function(r,i){var o=this;if(!(this.gridOptionsService.get("suppressExpandablePivotGroups")||this.gridOptionsService.get("pivotColumnGroupTotals"))){var a=function(s,l,u){var c=s;if(c.children){var d=new Map;c.children.forEach(function(g){a(g,l,d)});var p=!c.children.some(function(g){return g.children});o.columnModel.getValueColumns().forEach(function(g){var m=o.columnModel.getDisplayNameForColumn(g,"header"),y=o.createColDef(g,m,s.pivotKeys);if(y.pivotTotalColumnIds=d.get(g.getColId()),y.columnGroupShow="closed",y.aggFunc=g.getAggFunc(),!p){var C=s.children;C.push(y),l.push(y)}}),o.merge(u,d)}else{var h=s;if(!h.pivotValueColumn)return;var f=h.pivotValueColumn.getColId(),v=u.has(f)?u.get(f):[];v.push(h.colId),u.set(f,v)}};r.forEach(function(s){a(s,i,new Map)})}},t.prototype.addPivotTotalsToGroups=function(r,i){var o=this;if(this.gridOptionsService.get("pivotColumnGroupTotals")){var a=this.gridOptionsService.get("pivotColumnGroupTotals")==="after",s=this.columnModel.getValueColumns(),l=s.map(function(c){return c.getAggFunc()});if(!(!l||l.length<1||!this.sameAggFuncs(l))){var u=s[0];r.forEach(function(c){o.recursivelyAddPivotTotal(c,i,u,a)})}}},t.prototype.recursivelyAddPivotTotal=function(r,i,o,a){var s=this,l=r;if(!l.children){var u=r;return u.colId?[u.colId]:null}var c=[];if(l.children.forEach(function(v){var g=s.recursivelyAddPivotTotal(v,i,o,a);g&&(c=c.concat(g))}),l.children.length>1){var d=this.localeService.getLocaleTextFunc(),p=d("pivotColumnGroupTotals","Total"),h=this.createColDef(o,p,r.pivotKeys,!0);h.pivotTotalColumnIds=c,h.aggFunc=o.getAggFunc();var f=r.children;a?f.push(h):f.unshift(h),i.push(h)}return c},t.prototype.addRowGroupTotals=function(r,i){var o=this;if(this.gridOptionsService.get("pivotRowTotals"))for(var a=this.gridOptionsService.get("pivotRowTotals")==="after",s=this.columnModel.getValueColumns(),l=a?s.slice():s.slice().reverse(),u=function(p){var h=l[p],f=[];r.forEach(function(g){f=f.concat(o.extractColIdsForValueColumn(g,h))});var v=l.length>1||!c.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn");c.createRowGroupTotal(r,i,h,f,a,v)},c=this,d=0;d<l.length;d++)u(d)},t.prototype.extractColIdsForValueColumn=function(r,i){var o=this,a=r;if(!a.children){var s=a;return s.pivotValueColumn===i&&s.colId?[s.colId]:[]}var l=[];return a.children.forEach(function(u){o.extractColIdsForValueColumn(u,i);var c=o.extractColIdsForValueColumn(u,i);l=l.concat(c)}),l},t.prototype.createRowGroupTotal=function(r,i,o,a,s,l){var u=this.columnModel.getValueColumns(),c;if(u.length===0)c=this.createColDef(null,"-",[]);else{var d=this.columnModel.getDisplayNameForColumn(o,"header");c=this.createColDef(o,d,[]),c.pivotTotalColumnIds=a}c.colId=e.PIVOT_ROW_TOTAL_PREFIX+c.colId,i.push(c);var p=l?{children:[c],pivotKeys:[],groupId:"".concat(e.PIVOT_ROW_TOTAL_PREFIX,"_pivotGroup_").concat(o.getColId())}:c;s?r.push(p):r.unshift(p)},t.prototype.createColDef=function(r,i,o,a){a===void 0&&(a=!1);var s={};if(r){var l=r.getColDef();Object.assign(s,l),s.hide=!1}return s.headerName=i,s.colId=this.generateColumnId(o||[],r&&!a?r.getColId():""),s.field=s.colId,s.valueGetter=function(u){var c;return(c=u.data)===null||c===void 0?void 0:c[u.colDef.field]},s.pivotKeys=o,s.pivotValueColumn=r,s.filter===!0&&(s.filter="agNumberColumnFilter"),s},t.prototype.sameAggFuncs=function(r){if(r.length==1)return!0;for(var i=1;i<r.length;i++)if(r[i]!==r[0])return!1;return!0},t.prototype.headerNameComparator=function(r,i,o){return r?r(i.headerName,o.headerName):i.headerName&&!o.headerName?1:!i.headerName&&o.headerName?-1:!i.headerName||!o.headerName?0:i.headerName<o.headerName?-1:i.headerName>o.headerName?1:0},t.prototype.merge=function(r,i){i.forEach(function(o,a,s){var l=r.has(a)?r.get(a):[],u=og(og([],Mb(l),!1),Mb(o),!1);r.set(a,u)})},t.prototype.generateColumnGroupId=function(r){var i=this.columnModel.getPivotColumns().map(function(o){return o.getColId()});return"pivotGroup_".concat(i.join("-"),"_").concat(r.join("-"))},t.prototype.generateColumnId=function(r,i){var o=this.columnModel.getPivotColumns().map(function(a){return a.getColId()});return"pivot_".concat(o.join("-"),"_").concat(r.join("-"),"_").concat(i)},t.prototype.createColDefsFromFields=function(r){for(var i=this,o={},a=0;a<r.length;a++)for(var s=r[a],l=s.split(this.fieldSeparator),u=o,c=0;c<l.length;c++){var d=l[c];u[d]==null&&(u[d]={}),u=u[d]}var p=function(m,y,C,S){var w,_=[];for(var x in C){var E=C[x],R=p("".concat(m).concat(i.fieldSeparator).concat(x),x,E,S+1);_.push(R)}if(_.length===0){var P=i.columnModel.getPrimaryColumn(y);if(P){var A=(w=i.columnModel.getDisplayNameForColumn(P,"header"))!==null&&w!==void 0?w:y,N=i.createColDef(P,A,void 0,!1);return N.colId=m,N.aggFunc=P.getAggFunc(),N.valueGetter=function(H){var j;return(j=H.data)===null||j===void 0?void 0:j[m]},N}var I={colId:m,headerName:y,valueGetter:function(H){var j;return(j=H.data)===null||j===void 0?void 0:j[m]}};return I}var G=i.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn");if(G&&_.length===1&&"colId"in _[0])return _[0].headerName=y,_[0];var V={openByDefault:i.pivotDefaultExpanded===-1||S<i.pivotDefaultExpanded,groupId:m,headerName:y,children:_};return V},h=[];for(var f in o){var v=o[f],g=p(f,f,v,0);h.push(g)}return h};var e;return t.PIVOT_ROW_TOTAL_PREFIX="PivotRowTotal_",Ab([O("columnModel")],t.prototype,"columnModel",void 0),Ab([O("gridOptionsService")],t.prototype,"gos",void 0),Ab([q],t.prototype,"init",null),t=e=Ab([me("pivotColDefService")],t),t}(re),BUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Lb=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},jUe=function(n){BUe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.uniqueValues={},e}return t.prototype.execute=function(e){var r=e.changedPath;this.columnModel.isPivotActive()?this.executePivotOn(r):this.executePivotOff(r)},t.prototype.executePivotOff=function(e){this.aggregationColumnsHashLastTime=null,this.uniqueValues={},this.columnModel.isSecondaryColumnsPresent()&&(this.columnModel.setSecondaryColumns(null,"rowModelUpdated"),e&&e.setInactive())},t.prototype.executePivotOn=function(e){var r=this.bucketUpRowNodes(e),i=this.setUniqueValues(r),o=this.columnModel.getValueColumns(),a=o.map(function(S){return"".concat(S.getId(),"-").concat(S.getColDef().headerName)}).join("#"),s=o.map(function(S){return S.getAggFunc().toString()}).join("#"),l=this.aggregationColumnsHashLastTime!==a,u=this.aggregationFuncsHashLastTime!==s;this.aggregationColumnsHashLastTime=a,this.aggregationFuncsHashLastTime=s;var c=this.columnModel.getRowGroupColumns().map(function(S){return S.getId()}).join("#"),d=c!==this.groupColumnsHashLastTime;this.groupColumnsHashLastTime=c;var p=this.gridOptionsService.get("pivotRowTotals"),h=this.gridOptionsService.get("pivotColumnGroupTotals"),f=this.gridOptionsService.get("suppressExpandablePivotGroups"),v=this.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn"),g=p!==this.pivotRowTotalsLastTime||h!==this.pivotColumnGroupTotalsLastTime||f!==this.suppressExpandablePivotGroupsLastTime||v!==this.removePivotHeaderRowWhenSingleValueColumnLastTime;if(this.pivotRowTotalsLastTime=p,this.pivotColumnGroupTotalsLastTime=h,this.suppressExpandablePivotGroupsLastTime=f,this.removePivotHeaderRowWhenSingleValueColumnLastTime=v,i||l||d||u||g){var m=this.pivotColDefService.createPivotColumnDefs(this.uniqueValues),y=m.pivotColumnGroupDefs,C=m.pivotColumnDefs;this.pivotColumnDefs=C,this.columnModel.setSecondaryColumns(y,"rowModelUpdated"),e&&e.setInactive()}},t.prototype.setUniqueValues=function(e){var r=JSON.stringify(e),i=JSON.stringify(this.uniqueValues),o=r!==i;return o?(this.uniqueValues=e,!0):!1},t.prototype.bucketUpRowNodes=function(e){var r=this,i={};e.forEachChangedNodeDepthFirst(function(a){a.leafGroup&&(a.childrenMapped=null)});var o=function(a){var s;a.leafGroup?r.bucketRowNode(a,i):(s=a.childrenAfterFilter)===null||s===void 0||s.forEach(o)};return e.executeFromRootNode(o),i},t.prototype.bucketRowNode=function(e,r){var i=this.columnModel.getPivotColumns();i.length===0?e.childrenMapped=null:e.childrenMapped=this.bucketChildren(e.childrenAfterFilter,i,0,r),e.sibling&&(e.sibling.childrenMapped=e.childrenMapped)},t.prototype.bucketChildren=function(e,r,i,o){var a=this,s={},l=r[i];if(e.forEach(function(c){var d=a.valueService.getKeyForNode(l,c);F.missing(d)&&(d=""),o[d]||(o[d]={}),s[d]||(s[d]=[]),s[d].push(c)}),i===r.length-1)return s;var u={};return F.iterateObject(s,function(c,d){u[c]=a.bucketChildren(d,r,i+1,o[c])}),u},t.prototype.getPivotColumnDefs=function(){return this.pivotColumnDefs},Lb([O("valueService")],t.prototype,"valueService",void 0),Lb([O("columnModel")],t.prototype,"columnModel",void 0),Lb([O("pivotColDefService")],t.prototype,"pivotColDefService",void 0),t=Lb([me("pivotStage")],t),t}(re),HUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),g4=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Cu=typeof BigInt>"u"?null:BigInt,$Ue={sum:"Sum",first:"First",last:"Last",min:"Min",max:"Max",count:"Count",avg:"Average"},WUe=function(n){HUe(t,n);function t(){var r=n!==null&&n.apply(this,arguments)||this;return r.aggFuncsMap={},r.initialised=!1,r}e=t,t.prototype.init=function(){this.initialised||(this.initialiseWithDefaultAggregations(),this.addAggFuncs(this.gridOptionsService.get("aggFuncs")))},t.prototype.initialiseWithDefaultAggregations=function(){this.aggFuncsMap[e.AGG_SUM]=UUe,this.aggFuncsMap[e.AGG_FIRST]=zUe,this.aggFuncsMap[e.AGG_LAST]=KUe,this.aggFuncsMap[e.AGG_MIN]=YUe,this.aggFuncsMap[e.AGG_MAX]=qUe,this.aggFuncsMap[e.AGG_COUNT]=XUe,this.aggFuncsMap[e.AGG_AVG]=ZUe,this.initialised=!0},t.prototype.isAggFuncPossible=function(r,i){var o=this.getFuncNames(r),a=F.includes(o,i),s=F.exists(this.aggFuncsMap[i]);return a&&s},t.prototype.getDefaultFuncLabel=function(r){var i;return(i=$Ue[r])!==null&&i!==void 0?i:r},t.prototype.getDefaultAggFunc=function(r){var i=r.getColDef().defaultAggFunc;if(F.exists(i)&&this.isAggFuncPossible(r,i))return i;if(this.isAggFuncPossible(r,e.AGG_SUM))return e.AGG_SUM;var o=this.getFuncNames(r);return F.existsAndNotEmpty(o)?o[0]:null},t.prototype.addAggFuncs=function(r){var i=this;this.init(),F.iterateObject(r,function(o,a){i.aggFuncsMap[o]=a})},t.prototype.getAggFunc=function(r){return this.init(),this.aggFuncsMap[r]},t.prototype.getFuncNames=function(r){var i=r.getColDef().allowedAggFuncs;return i??Object.keys(this.aggFuncsMap).sort()},t.prototype.clear=function(){this.aggFuncsMap={}};var e;return t.AGG_SUM="sum",t.AGG_FIRST="first",t.AGG_LAST="last",t.AGG_MIN="min",t.AGG_MAX="max",t.AGG_COUNT="count",t.AGG_AVG="avg",g4([q],t.prototype,"init",null),t=e=g4([me("aggFuncService")],t),t}(re);function UUe(n){for(var t=n.values,e=null,r=0;r<t.length;r++){var i=t[r];typeof i=="number"?e===null?e=i:Cu?e+=typeof e=="number"?i:Cu(i):e+=i:typeof i=="bigint"&&(e===null?e=i:e=(typeof e=="bigint"?e:Cu(e))+i)}return e}function zUe(n){return n.values.length>0?n.values[0]:null}function KUe(n){return n.values.length>0?F.last(n.values):null}function YUe(n){for(var t=n.values,e=null,r=0;r<t.length;r++){var i=t[r];(typeof i=="number"||typeof i=="bigint")&&(e===null||e>i)&&(e=i)}return e}function qUe(n){for(var t=n.values,e=null,r=0;r<t.length;r++){var i=t[r];(typeof i=="number"||typeof i=="bigint")&&(e===null||e<i)&&(e=i)}return e}function XUe(n){for(var t,e,r=n.values,i=0,o=0;o<r.length;o++){var a=r[o];i+=a!=null&&typeof a.value=="number"?a.value:1}var s=(e=(t=n.rowNode)===null||t===void 0?void 0:t.aggData)===null||e===void 0?void 0:e[n.column.getColId()];return s&&s.value===i?s:{value:i,toString:function(){return this.value.toString()},toNumber:function(){return this.value}}}function ZUe(n){for(var t,e,r,i=n.values,o=0,a=0,s=0;s<i.length;s++){var l=i[s],u=null;typeof l=="number"||typeof l=="bigint"?(u=l,a++):l!=null&&(typeof l.value=="number"||typeof l.value=="bigint")&&typeof l.count=="number"&&(Cu?u=l.value*(typeof l.value=="number"?l.count:Cu(l.count)):u=l.value*l.count,a+=l.count),typeof u=="number"?Cu?o+=typeof o=="number"?u:Cu(u):o+=u:typeof u=="bigint"&&(o=(typeof o=="bigint"?o:Cu(o))+u)}var c=null;a>0&&(Cu?c=o/(typeof o=="number"?a:Cu(a)):c=o/a);var d=(e=(t=n.rowNode)===null||t===void 0?void 0:t.aggData)===null||e===void 0?void 0:e[(r=n.column)===null||r===void 0?void 0:r.getColId()];return d&&d.count===a&&d.value===c?d:{count:a,value:c,toString:function(){return typeof this.value=="number"||typeof this.value=="bigint"?this.value.toString():""},toNumber:function(){return this.value}}}var Fee=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ou=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},m4=function(n){Fee(t,n);function t(e,r,i,o,a){var s=n.call(this)||this;return s.column=e,s.dragSourceDropTarget=r,s.ghost=i,s.dropZonePurpose=o,s.horizontal=a,s.popupShowing=!1,s}return t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE);var r=this.getGui(),i=this.gridOptionsService.get("functionsReadOnly");this.addElementClasses(r),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(F.createIconNoSpan("columnDrag",this.gridOptionsService)),this.eButton.appendChild(F.createIconNoSpan("cancel",this.gridOptionsService)),this.setupSort(),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnDrop"),this.setupComponents(),!this.ghost&&!i&&this.addDragSource(),this.setupAria(),this.addManagedListener(this.eventService,Rt.EVENT_SORT_CHANGED,function(){e.setupAria()}),this.setupTooltip(),this.activateTabIndex();var o=function(){var a=e.isGroupingAndLocked();F.setDisplayed(e.eButton,!a&&!e.gridOptionsService.get("functionsReadOnly")),e.eDragHandle.classList.toggle("ag-column-select-column-readonly",a),e.setupAria()};o(),this.isGroupingZone()&&this.addManagedPropertyListener("groupLockGroupColumns",function(){return o()})},t.prototype.getColumn=function(){return this.column},t.prototype.setupAria=function(){var e=this.localeService.getLocaleTextFunc(),r=this.getColumnAndAggFuncName(),i=r.name,o=r.aggFuncName,a=e("ariaDropZoneColumnComponentAggFuncSeparator"," of "),s={asc:e("ariaDropZoneColumnComponentSortAscending","ascending"),desc:e("ariaDropZoneColumnComponentSortDescending","descending")},l=this.column.getSort(),u=this.gridOptionsService.get("rowGroupPanelSuppressSort"),c=[[o&&"".concat(o).concat(a),i,this.isGroupingZone()&&!u&&l&&", ".concat(s[l])].filter(function(v){return!!v}).join("")],d=this.gridOptionsService.get("functionsReadOnly");if(this.isAggregationZone()&&!d){var p=e("ariaDropZoneColumnValueItemDescription","Press ENTER to change the aggregation type");c.push(p)}if(this.isGroupingZone()&&this.column.isSortable()&&!u){var h=e("ariaDropZoneColumnGroupItemDescription","Press ENTER to sort");c.push(h)}if(!this.isGroupingAndLocked()){var f=e("ariaDropZoneColumnComponentDescription","Press DELETE to remove");c.push(f)}F.setAriaLabel(this.getGui(),c.join(". "))},t.prototype.setupTooltip=function(){var e=this,r=function(){var i=e.column.getColDef().headerTooltip;e.setTooltip(i)};r(),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,r)},t.prototype.setupSort=function(){var e=this,r=this.column.isSortable(),i=this.isGroupingZone();if(!(!r||!i)&&!this.gridOptionsService.get("rowGroupPanelSuppressSort")){this.eSortIndicator.setupSort(this.column,!0);var o=function(a){a.preventDefault();var s=e.gridOptionsService.get("multiSortKey")==="ctrl",l=s?a.ctrlKey||a.metaKey:a.shiftKey;e.sortController.progressSort(e.column,l,"uiColumnSorted")};this.addGuiEventListener("click",o),this.addGuiEventListener("keydown",function(a){var s=a.key===K.ENTER;s&&e.isGroupingZone()&&o(a)})}},t.prototype.addDragSource=function(){var e=this,r=this,i=r.dragAndDropService,o=r.displayName,a=r.eDragHandle,s=r.column,l={type:on.ToolPanel,eElement:a,getDefaultIconName:function(){return Wt.ICON_HIDE},getDragItem:function(){return e.createDragItem(s)},dragItemName:o};i.addDragSource(l,!0),this.addDestroyFunc(function(){return i.removeDragSource(l)})},t.prototype.createDragItem=function(e){var r={};return r[e.getId()]=e.isVisible(),{columns:[e],visibleState:r}},t.prototype.setupComponents=function(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost"),this.isAggregationZone()&&!this.gridOptionsService.get("functionsReadOnly")&&this.addGuiEventListener("click",this.onShowAggFuncSelection.bind(this))},t.prototype.isGroupingAndLocked=function(){return this.isGroupingZone()&&this.columnModel.isColumnGroupingLocked(this.column)},t.prototype.setupRemove=function(){var e=this;F.setDisplayed(this.eButton,!this.isGroupingAndLocked()&&!this.gridOptionsService.get("functionsReadOnly"));var r={type:t.EVENT_COLUMN_REMOVE};this.addGuiEventListener("keydown",function(o){var a=o.key===K.ENTER,s=o.key===K.DELETE;s&&(e.isGroupingAndLocked()||(o.preventDefault(),e.dispatchEvent(r))),a&&e.isAggregationZone()&&!e.gridOptionsService.get("functionsReadOnly")&&(o.preventDefault(),e.onShowAggFuncSelection())}),this.addManagedListener(this.eButton,"click",function(o){e.dispatchEvent(r),o.stopPropagation()});var i=new kn(this.eButton);this.addManagedListener(i,kn.EVENT_TAP,function(){e.dispatchEvent(r)}),this.addDestroyFunc(i.destroy.bind(i))},t.prototype.getColumnAndAggFuncName=function(){var e=this.displayName,r="";if(this.isAggregationZone()){var i=this.column.getAggFunc(),o=typeof i=="string"?i:"agg",a=this.localeService.getLocaleTextFunc();r=a(o,o)}return{name:e,aggFuncName:r}},t.prototype.setTextValue=function(){var e=this.getColumnAndAggFuncName(),r=e.name,i=e.aggFuncName,o=this.isAggregationZone()?"".concat(i,"(").concat(r,")"):r,a=F.escapeString(o);this.eText.innerHTML=a},t.prototype.onShowAggFuncSelection=function(){var e=this;if(!this.popupShowing){this.popupShowing=!0;var r=new Ev({cssIdentifier:"select-agg-func"}),i=this.aggFuncService.getFuncNames(this.column),o=this.getGui(),a=r.getGui();r.setModel({getRow:function(h){return i[h]},getRowCount:function(){return i.length}}),this.getContext().createBean(r);var s=F.loadTemplate('<div class="ag-select-agg-func-popup"></div>');s.style.top="0px",s.style.left="0px",s.appendChild(a),s.style.width="".concat(o.clientWidth,"px");var l=this.addManagedListener(s,"focusout",function(h){!s.contains(h.relatedTarget)&&d&&d.hideFunc()}),u=function(h){e.destroyBean(r),e.popupShowing=!1,(h==null?void 0:h.key)==="Escape"&&o.focus(),l&&l()},c=this.localeService.getLocaleTextFunc(),d=this.popupService.addPopup({modal:!0,eChild:s,closeOnEsc:!0,closedCallback:u,ariaLabel:c("ariaLabelAggregationFunction","Aggregation Function")});d&&r.setComponentCreator(this.createAggSelect.bind(this,d.hideFunc)),r.addGuiEventListener("keydown",function(h){if(h.key===K.ENTER||h.key===K.SPACE){var f=r.getLastFocusedRow();if(f==null)return;var v=r.getComponentAt(f);v&&v.selectItem()}}),this.popupService.positionPopupByComponent({type:"aggFuncSelect",eventSource:o,ePopup:s,keepWithinBounds:!0,column:this.column,position:"under"}),r.refresh();var p=i.findIndex(function(h){return h===e.column.getAggFunc()});p===-1&&(p=0),r.focusRow(p)}},t.prototype.createAggSelect=function(e,r){var i=this,o=function(){if(e(),i.gridOptionsService.get("functionsPassive")){var c={type:M.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST,columns:[i.column],aggFunc:r};i.eventService.dispatchEvent(c)}else i.columnModel.setColumnAggFunc(i.column,r,"toolPanelDragAndDrop")},a=this.localeService.getLocaleTextFunc(),s=r.toString(),l=a(s,s),u=new QUe(o,l);return u},t.prototype.addElementClasses=function(e,r){r=r?"-".concat(r):"";var i=this.horizontal?"horizontal":"vertical";e.classList.add("ag-column-drop-cell".concat(r),"ag-column-drop-".concat(i,"-cell").concat(r))},t.prototype.isAggregationZone=function(){return this.dropZonePurpose==="aggregation"},t.prototype.isGroupingZone=function(){return this.dropZonePurpose==="rowGroup"},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.column=null,this.dragSourceDropTarget=null},t.EVENT_COLUMN_REMOVE="columnRemove",t.TEMPLATE=`<span role="option">
          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>
          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>
          <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>
          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>
        </span>`,ou([O("dragAndDropService")],t.prototype,"dragAndDropService",void 0),ou([O("columnModel")],t.prototype,"columnModel",void 0),ou([O("popupService")],t.prototype,"popupService",void 0),ou([xt("aggFuncService")],t.prototype,"aggFuncService",void 0),ou([O("sortController")],t.prototype,"sortController",void 0),ou([U("eText")],t.prototype,"eText",void 0),ou([U("eDragHandle")],t.prototype,"eDragHandle",void 0),ou([U("eButton")],t.prototype,"eButton",void 0),ou([U("eSortIndicator")],t.prototype,"eSortIndicator",void 0),ou([q],t.prototype,"init",null),t}(Ce),QUe=function(n){Fee(t,n);function t(e,r){var i=n.call(this,'<div class="ag-select-agg-func-item"/>')||this;return i.selectItem=e,i.getGui().innerText=r,i.addGuiEventListener("click",i.selectItem),i}return t}(Ce),JUe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),y4=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},C4=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},S4=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},mj=function(n){JUe(t,n);function t(e,r){var i=n.call(this,'<div class="ag-unselectable" role="presentation"></div>')||this;return i.horizontal=e,i.dropZonePurpose=r,i.state=t.STATE_NOT_DRAGGING,i.guiDestroyFunctions=[],i.childColumnComponents=[],i.resizeEnabled=!1,i.addElementClasses(i.getGui()),i.eColumnDropList=document.createElement("div"),i.addElementClasses(i.eColumnDropList,"list"),F.setAriaRole(i.eColumnDropList,"listbox"),i}return t.prototype.isHorizontal=function(){return this.horizontal},t.prototype.toggleResizable=function(e){this.positionableFeature.setResizable(e?{bottom:!0}:!1),this.resizeEnabled=e},t.prototype.setBeans=function(e){this.beans=e},t.prototype.isSourceEventFromTarget=function(e){var r=e.dropZoneTarget,i=e.dragSource;return r.contains(i.eElement)},t.prototype.destroy=function(){this.destroyGui(),n.prototype.destroy.call(this)},t.prototype.destroyGui=function(){this.guiDestroyFunctions.forEach(function(e){return e()}),this.guiDestroyFunctions.length=0,this.childColumnComponents.length=0,F.clearElement(this.getGui()),F.clearElement(this.eColumnDropList)},t.prototype.init=function(e){this.params=e,this.createManagedBean(new ic(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.addManagedListener(this.beans.eventService,M.EVENT_NEW_COLUMNS_LOADED,this.refreshGui.bind(this)),this.addManagedPropertyListeners(["functionsReadOnly","rowGroupPanelSuppressSort","groupLockGroupColumns"],this.refreshGui.bind(this)),this.setupDropTarget(),this.positionableFeature=new __(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui(),F.setAriaLabel(this.eColumnDropList,this.getAriaLabel())},t.prototype.handleKeyDown=function(e){var r=!this.horizontal,i=e.key===K.DOWN,o=e.key===K.UP;if(!r){var a=this.gridOptionsService.get("enableRtl");i=!a&&e.key===K.RIGHT||a&&e.key===K.LEFT,o=!a&&e.key===K.LEFT||a&&e.key===K.RIGHT}if(!(!i&&!o)){var s=this.focusService.findNextFocusableElement(this.getFocusableElement(),!1,o);s&&(e.preventDefault(),s.focus())}},t.prototype.addElementClasses=function(e,r){r=r?"-".concat(r):"";var i=this.horizontal?"horizontal":"vertical";e.classList.add("ag-column-drop".concat(r),"ag-column-drop-".concat(i).concat(r))},t.prototype.setupDropTarget=function(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.beans.dragAndDropService.addDropTarget(this.dropTarget)},t.prototype.isInterestedIn=function(e){return e===on.HeaderCell||e===on.ToolPanel},t.prototype.minimumAllowedNewInsertIndex=function(){var e=this.gridOptionsService.get("groupLockGroupColumns"),r=this.colModel.getRowGroupColumns().length;return e===-1?r:Math.min(e,r)},t.prototype.checkInsertIndex=function(e){var r=this.getNewInsertIndex(e);if(r<0)return!1;var i=this.minimumAllowedNewInsertIndex(),o=Math.max(i,r),a=o!==this.insertIndex;return a&&(this.insertIndex=o),a},t.prototype.getNewInsertIndex=function(e){var r=this,i=e.event,o=this.horizontal?i.clientX:i.clientY,a=this.childColumnComponents.map(function(d){return d.getGui().getBoundingClientRect()}),s=a.findIndex(function(d){return r.horizontal?d.right>o&&d.left<o:d.top<o&&d.bottom>o});if(s===-1){var l=this.beans.gridOptionsService.get("enableRtl"),u=a.every(function(d){return o>(r.horizontal?d.right:d.bottom)});if(u)return l&&this.horizontal?0:this.childColumnComponents.length;var c=a.every(function(d){return o<(r.horizontal?d.left:d.top)});return c?l&&this.horizontal?this.childColumnComponents.length:0:this.insertIndex}return this.insertIndex<=s?s+1:s},t.prototype.checkDragStartedBySelf=function(e){this.state===t.STATE_NOT_DRAGGING&&(this.state=t.STATE_REARRANGE_COLUMNS,this.potentialDndColumns=e.dragSource.getDragItem().columns||[],this.refreshGui(),this.checkInsertIndex(e),this.refreshGui())},t.prototype.onDragging=function(e){this.checkDragStartedBySelf(e),this.checkInsertIndex(e)&&this.refreshGui()},t.prototype.onDragEnter=function(e){var r=this,i=e.dragSource.getDragItem().columns||[];this.state=t.STATE_NEW_COLUMNS_IN;var o=i.filter(function(c){return r.isColumnDroppable(c,e)}),a=o.every(function(c){return r.childColumnComponents.map(function(d){return d.getColumn()}).indexOf(c)!==-1});if(o.length!==0){if(this.potentialDndColumns=o,a){this.state=t.STATE_NOT_DRAGGING;return}var s=this.isRowGroupPanel()&&!this.gridOptionsService.get("suppressRowGroupHidesColumns")&&!e.fromNudge;if(s){var l=e.dragSource.getDragItem(),u=l.columns;this.setColumnsVisible(u,!1,"uiColumnDragged")}this.checkInsertIndex(e),this.refreshGui()}},t.prototype.setColumnsVisible=function(e,r,i){if(e){var o=e.filter(function(a){return!a.getColDef().lockVisible});this.colModel.setColumnsVisible(o,r,i)}},t.prototype.isPotentialDndColumns=function(){return F.existsAndNotEmpty(this.potentialDndColumns)},t.prototype.isRowGroupPanel=function(){return this.dropZonePurpose==="rowGroup"},t.prototype.onDragLeave=function(e){if(this.state===t.STATE_REARRANGE_COLUMNS){var r=e.dragSource.getDragItem().columns||[];this.removeColumns(r)}if(this.isPotentialDndColumns()){var i=this.isRowGroupPanel()&&!this.gridOptionsService.get("suppressMakeColumnVisibleAfterUnGroup")&&!e.fromNudge;if(i){var o=e.dragSource.getDragItem();this.setColumnsVisible(o.columns,!0,"uiColumnDragged")}this.potentialDndColumns=[],this.refreshGui()}this.state=t.STATE_NOT_DRAGGING},t.prototype.onDragStop=function(){if(this.isPotentialDndColumns()){var e=!1;this.state===t.STATE_NEW_COLUMNS_IN?(this.addColumns(this.potentialDndColumns),e=!0):e=this.rearrangeColumns(this.potentialDndColumns),this.potentialDndColumns=[],(!this.beans.gridOptionsService.get("functionsPassive")||!e)&&this.refreshGui()}this.state=t.STATE_NOT_DRAGGING},t.prototype.removeColumns=function(e){var r=this.getExistingColumns().filter(function(i){return!F.includes(e,i)});this.updateColumns(r)},t.prototype.addColumns=function(e){if(e){var r=this.getExistingColumns().slice(),i=e.filter(function(o){return r.indexOf(o)<0});F.insertArrayIntoArray(r,i,this.insertIndex),this.updateColumns(r)}},t.prototype.rearrangeColumns=function(e){var r=this.getNonGhostColumns().slice();return F.insertArrayIntoArray(r,e,this.insertIndex),F.areEqual(r,this.getExistingColumns())?!1:(this.updateColumns(r),!0)},t.prototype.refreshGui=function(){var e=this.eColumnDropList.scrollTop,r=this.resizeEnabled,i=this.getFocusedItem(),o=this.focusService.findNextFocusableElement();o||(o=this.focusService.findNextFocusableElement(void 0,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addColumnsToGui(),this.isHorizontal()||(this.eColumnDropList.scrollTop=e),r&&this.toggleResizable(r),this.focusService.isKeyboardMode()&&this.restoreFocus(i,o)},t.prototype.getFocusedItem=function(){var e=this.getGui(),r=this.gridOptionsService.getDocument().activeElement;if(!e.contains(r))return-1;var i=Array.from(e.querySelectorAll(".ag-column-drop-cell"));return i.indexOf(r)},t.prototype.restoreFocus=function(e,r){var i=this.getGui(),o=Array.from(i.querySelectorAll(".ag-column-drop-cell"));if(e!==-1){o.length===0&&r.focus();var a=Math.min(o.length-1,e),s=o[a];s&&s.focus()}},t.prototype.getNonGhostColumns=function(){var e=this,r=this.getExistingColumns();return this.isPotentialDndColumns()?r.filter(function(i){return!F.includes(e.potentialDndColumns,i)}):r},t.prototype.addColumnsToGui=function(){var e=this,r=this.getNonGhostColumns(),i=r.map(function(a){return e.createColumnComponent(a,!1)});if(this.isPotentialDndColumns()){var o=this.potentialDndColumns.map(function(a){return e.createColumnComponent(a,!0)});this.insertIndex>=i.length?i.push.apply(i,S4([],C4(o),!1)):i.splice.apply(i,S4([this.insertIndex,0],C4(o),!1))}this.appendChild(this.eColumnDropList),i.forEach(function(a,s){s>0&&e.addArrow(e.eColumnDropList),e.eColumnDropList.appendChild(a.getGui())}),this.addAriaLabelsToComponents()},t.prototype.addAriaLabelsToComponents=function(){var e=this;this.childColumnComponents.forEach(function(r,i){var o=r.getGui();F.setAriaPosInSet(o,i+1),F.setAriaSetSize(o,e.childColumnComponents.length)})},t.prototype.createColumnComponent=function(e,r){var i=this,o=new m4(e,this.dropTarget,r,this.dropZonePurpose,this.horizontal);return o.addEventListener(m4.EVENT_COLUMN_REMOVE,this.removeColumns.bind(this,[e])),this.beans.context.createBean(o),this.guiDestroyFunctions.push(function(){return i.destroyBean(o)}),r||this.childColumnComponents.push(o),o},t.prototype.addIconAndTitleToGui=function(){var e=this.params.icon,r=document.createElement("div");if(F.setAriaHidden(r,!0),this.addElementClasses(r,"title-bar"),this.addElementClasses(e,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingColumnsEmpty()),r.appendChild(e),!this.horizontal){var i=document.createElement("span");this.addElementClasses(i,"title"),i.innerHTML=this.params.title,r.appendChild(i)}this.appendChild(r)},t.prototype.isExistingColumnsEmpty=function(){return this.getExistingColumns().length===0},t.prototype.addEmptyMessageToGui=function(){if(!(!this.isExistingColumnsEmpty()||this.isPotentialDndColumns())){var e=document.createElement("span");e.innerHTML=this.params.emptyMessage,this.addElementClasses(e,"empty-message"),this.eColumnDropList.appendChild(e)}},t.prototype.addArrow=function(e){if(this.horizontal){var r=this.beans.gridOptionsService.get("enableRtl"),i=F.createIconNoSpan(r?"smallLeft":"smallRight",this.beans.gridOptionsService);this.addElementClasses(i,"cell-separator"),e.appendChild(i)}},t.STATE_NOT_DRAGGING="notDragging",t.STATE_NEW_COLUMNS_IN="newColumnsIn",t.STATE_REARRANGE_COLUMNS="rearrangeColumns",y4([O("columnModel")],t.prototype,"colModel",void 0),y4([O("focusService")],t.prototype,"focusService",void 0),t}(Ce),eze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Fb=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},H1=function(n){eze(t,n);function t(e){return n.call(this,e,"rowGroup")||this}return t.prototype.passBeansUp=function(){n.prototype.setBeans.call(this,{gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.localeService.getLocaleTextFunc(),r=e("rowGroupColumnsEmptyMessage","Drag here to set row groups"),i=e("groups","Row Groups");n.prototype.init.call(this,{dragAndDropIcon:Wt.ICON_GROUP,icon:F.createIconNoSpan("rowGroupPanel",this.gridOptionsService,null),emptyMessage:r,title:i}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,this.refreshGui.bind(this))},t.prototype.getAriaLabel=function(){var e=this.localeService.getLocaleTextFunc(),r=e("ariaRowGroupDropZonePanelLabel","Row Groups");return r},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="rowGroupColumnsList",e},t.prototype.isColumnDroppable=function(e,r){return this.gridOptionsService.get("functionsReadOnly")||!e.isPrimary()?!1:e.isAllowRowGroup()&&(!e.isRowGroupActive()||this.isSourceEventFromTarget(r))},t.prototype.updateColumns=function(e){if(this.gridOptionsService.get("functionsPassive")){var r={type:M.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:e};this.eventService.dispatchEvent(r)}else this.columnModel.setRowGroupColumns(e,"toolPanelUi")},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?Wt.ICON_GROUP:Wt.ICON_NOT_ALLOWED},t.prototype.getExistingColumns=function(){return this.columnModel.getRowGroupColumns()},Fb([O("columnModel")],t.prototype,"columnModel",void 0),Fb([O("loggerFactory")],t.prototype,"loggerFactory",void 0),Fb([O("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Fb([q],t.prototype,"passBeansUp",null),t}(mj),tze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ib=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},$1=function(n){tze(t,n);function t(e){return n.call(this,e,"pivot")||this}return t.prototype.passBeansUp=function(){n.prototype.setBeans.call(this,{gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.localeService.getLocaleTextFunc(),r=e("pivotColumnsEmptyMessage","Drag here to set column labels"),i=e("pivots","Column Labels");n.prototype.init.call(this,{dragAndDropIcon:Wt.ICON_GROUP,icon:F.createIconNoSpan("pivotPanel",this.gridOptionsService,null),emptyMessage:r,title:i}),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,this.refresh.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.checkVisibility.bind(this)),this.refresh()},t.prototype.getAriaLabel=function(){var e=this.localeService.getLocaleTextFunc(),r=e("ariaPivotDropZonePanelLabel","Column Labels");return r},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="pivotColumnsList",e},t.prototype.refresh=function(){this.checkVisibility(),this.refreshGui()},t.prototype.checkVisibility=function(){var e=this.columnModel.isPivotMode();if(this.isHorizontal())switch(this.gridOptionsService.get("pivotPanelShow")){case"always":this.setDisplayed(e);break;case"onlyWhenPivoting":var r=this.columnModel.isPivotActive();this.setDisplayed(e&&r);break;default:this.setDisplayed(!1);break}else this.setDisplayed(e)},t.prototype.isColumnDroppable=function(e,r){return this.gridOptionsService.get("functionsReadOnly")||!e.isPrimary()?!1:e.isAllowPivot()&&(!e.isPivotActive()||this.isSourceEventFromTarget(r))},t.prototype.updateColumns=function(e){if(this.gridOptionsService.get("functionsPassive")){var r={type:M.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:e};this.eventService.dispatchEvent(r)}else this.columnModel.setPivotColumns(e,"toolPanelUi")},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?Wt.ICON_PIVOT:Wt.ICON_NOT_ALLOWED},t.prototype.getExistingColumns=function(){return this.columnModel.getPivotColumns()},Ib([O("columnModel")],t.prototype,"columnModel",void 0),Ib([O("loggerFactory")],t.prototype,"loggerFactory",void 0),Ib([O("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Ib([q],t.prototype,"passBeansUp",null),t}(mj),rze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),w4=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},nze=function(n){rze(t,n);function t(){return n.call(this)||this}return t.prototype.postConstruct=function(){var e=this;this.setGui(this.createNorthPanel()),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.onRowGroupChanged()}),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,function(){return e.onRowGroupChanged()}),this.addManagedPropertyListener("rowGroupPanelShow",function(){return e.onRowGroupChanged()}),this.addManagedPropertyListener("pivotPanelShow",function(){return e.onPivotPanelShow()}),this.onRowGroupChanged()},t.prototype.createNorthPanel=function(){var e=this,r=document.createElement("div");return r.classList.add("ag-column-drop-wrapper"),F.setAriaRole(r,"presentation"),this.rowGroupComp=new H1(!0),this.createManagedBean(this.rowGroupComp),this.pivotComp=new $1(!0),this.createManagedBean(this.pivotComp),r.appendChild(this.rowGroupComp.getGui()),r.appendChild(this.pivotComp.getGui()),this.addManagedListener(this.rowGroupComp,Ce.EVENT_DISPLAYED_CHANGED,function(){return e.onDropPanelVisible()}),this.addManagedListener(this.pivotComp,Ce.EVENT_DISPLAYED_CHANGED,function(){return e.onDropPanelVisible()}),this.onDropPanelVisible(),r},t.prototype.onDropPanelVisible=function(){var e=this.rowGroupComp.isDisplayed()&&this.pivotComp.isDisplayed();this.rowGroupComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e),this.pivotComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e)},t.prototype.onRowGroupChanged=function(){if(this.rowGroupComp){var e=this.gridOptionsService.get("rowGroupPanelShow");if(e==="always")this.rowGroupComp.setDisplayed(!0);else if(e==="onlyWhenGrouping"){var r=!this.columnModel.isRowGroupEmpty();this.rowGroupComp.setDisplayed(r)}else this.rowGroupComp.setDisplayed(!1)}},t.prototype.onPivotPanelShow=function(){if(this.pivotComp){var e=this.gridOptionsService.get("pivotPanelShow");if(e==="always")this.pivotComp.setDisplayed(!0);else if(e==="onlyWhenPivoting"){var r=this.columnModel.isPivotActive();this.pivotComp.setDisplayed(r)}else this.pivotComp.setDisplayed(!1)}},w4([O("columnModel")],t.prototype,"columnModel",void 0),w4([q],t.prototype,"postConstruct",null),t}(Ce),ize=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),IL=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},oze=function(n){ize(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.execute=function(e){var r=this,i=this.columnModel.isPivotMode(),o=this.filterManager.isAggregateFilterPresent()||this.filterManager.isAggregateQuickFilterPresent(),a=function(p){return!p.node.group},s=function(p){return p.node.leafGroup},l=this.gridOptionsService.getGroupAggFiltering()||(i?s:a),u=e.changedPath,c=function(p,h){h===void 0&&(h=!1),p.childrenAfterFilter&&(p.childrenAfterAggFilter=p.childrenAfterFilter,h&&p.childrenAfterAggFilter.forEach(function(f){return c(f,h)}),r.setAllChildrenCount(p)),p.sibling&&(p.sibling.childrenAfterAggFilter=p.childrenAfterAggFilter)},d=function(p){var h;p.childrenAfterAggFilter=((h=p.childrenAfterFilter)===null||h===void 0?void 0:h.filter(function(f){var v,g=l({node:f});if(g){var m=r.filterManager.doesRowPassAggregateFilters({rowNode:f});if(m)return c(f,!0),!0}var y=(v=f.childrenAfterAggFilter)===null||v===void 0?void 0:v.length;return y}))||null,r.setAllChildrenCount(p),p.sibling&&(p.sibling.childrenAfterAggFilter=p.childrenAfterAggFilter)};u.forEachChangedNodeDepthFirst(o?d:c,!0)},t.prototype.setAllChildrenCountTreeData=function(e){var r=0;e.childrenAfterAggFilter.forEach(function(i){r++,r+=i.allChildrenCount}),e.setAllChildrenCount(r)},t.prototype.setAllChildrenCountGridGrouping=function(e){var r=0;e.childrenAfterAggFilter.forEach(function(i){i.group?r+=i.allChildrenCount:r++}),e.setAllChildrenCount(r)},t.prototype.setAllChildrenCount=function(e){if(!e.hasChildren()){e.setAllChildrenCount(null);return}this.gridOptionsService.get("treeData")?this.setAllChildrenCountTreeData(e):this.setAllChildrenCountGridGrouping(e)},IL([O("filterManager")],t.prototype,"filterManager",void 0),IL([O("columnModel")],t.prototype,"columnModel",void 0),t=IL([me("filterAggregatesStage")],t),t}(re),aze="31.1.1",sze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zC=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},W1=function(n){sze(t,n);function t(){return n.call(this,`
            <div class="ag-group-filter">
                <div ref="eGroupField"></div>
                <div ref="eUnderlyingFilter"></div>
            </div>
        `)||this}return t.prototype.postConstruct=function(){this.initialiseTabGuard({})},t.prototype.init=function(e){var r=this;return this.params=e,this.validateParams(),this.updateGroups().then(function(){r.addManagedListener(r.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return r.onColumnRowGroupChanged()})})},t.prototype.validateParams=function(){var e=this.params.colDef;e.field&&F.warnOnce('Group Column Filter does not work with the colDef property "field". This property will be ignored.'),e.filterValueGetter&&F.warnOnce('Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.'),e.filterParams&&F.warnOnce('Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.')},t.prototype.updateGroups=function(){var e=this.updateGroupField();return this.getUnderlyingFilters(e)},t.prototype.getSourceColumns=function(){if(this.groupColumn=this.params.column,this.gridOptionsService.get("treeData"))return F.warnOnce("Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter."),[];var e=this.columnModel.getSourceColumnsForGroupColumn(this.groupColumn);return e||(F.warnOnce("Group Column Filter only works on group columns. Please use a different filter."),[])},t.prototype.updateGroupField=function(){var e=this;F.clearElement(this.eGroupField),this.eGroupFieldSelect&&this.destroyBean(this.eGroupFieldSelect);var r=this.getSourceColumns(),i=r.filter(function(o){return o.isFilterAllowed()});return i.length?(r.length===1?(this.selectedColumn=i[0],F.setDisplayed(this.eGroupField,!1)):((!this.selectedColumn||!i.some(function(o){return o.getId()===e.selectedColumn.getId()}))&&(this.selectedColumn=i[0]),this.createGroupFieldSelectElement(i),this.eGroupField.appendChild(this.eGroupFieldSelect.getGui()),this.eGroupField.appendChild(F.loadTemplate('<div class="ag-filter-separator"></div>')),F.setDisplayed(this.eGroupField,!0)),i):(this.selectedColumn=void 0,F.setDisplayed(this.eGroupField,!1),null)},t.prototype.createGroupFieldSelectElement=function(e){var r=this;this.eGroupFieldSelect=this.createManagedBean(new Qu);var i=this.localeService.getLocaleTextFunc();this.eGroupFieldSelect.setLabel(i("groupFilterSelect","Select field:")),this.eGroupFieldSelect.setLabelAlignment("top"),this.eGroupFieldSelect.addOptions(e.map(function(o){var a;return{value:o.getId(),text:(a=r.columnModel.getDisplayNameForColumn(o,"groupFilter",!1))!==null&&a!==void 0?a:void 0}})),this.eGroupFieldSelect.setValue(this.selectedColumn.getId()),this.eGroupFieldSelect.onValueChange(function(o){return r.updateSelectedColumn(o)}),this.eGroupFieldSelect.addCssClass("ag-group-filter-field-select-wrapper"),e.length===1&&this.eGroupFieldSelect.setDisabled(!0)},t.prototype.getUnderlyingFilters=function(e){var r=this;if(!e)return this.filterColumnPairs=void 0,this.selectedFilter=void 0,this.groupColumn.setFilterActive(!1,"columnRowGroupChanged"),Ot.resolve();var i=[],o=[];return e.forEach(function(a){var s=r.filterManager.getOrCreateFilterWrapper(a,"COLUMN_MENU");s!=null&&s.filterPromise&&i.push(s.filterPromise.then(function(l){return l&&o.push({filter:l,column:a}),a.getId()===r.selectedColumn.getId()&&(r.selectedFilter=l??void 0),l}))}),Ot.all(i).then(function(){r.filterColumnPairs=o,r.groupColumn.setFilterActive(r.isFilterActive(),"columnRowGroupChanged")})},t.prototype.addUnderlyingFilterElement=function(){var e=this;if(F.clearElement(this.eUnderlyingFilter),!this.selectedColumn)return Ot.resolve();var r=this.filterManager.getOrCreateFilterWrapper(this.selectedColumn,"COLUMN_MENU");return r?r.guiPromise.then(function(i){var o;e.eUnderlyingFilter.appendChild(i),(o=r.filterPromise)===null||o===void 0||o.then(function(a){var s,l;(s=a==null?void 0:a.afterGuiAttached)===null||s===void 0||s.call(a,e.afterGuiAttachedParams),!(!((l=e.afterGuiAttachedParams)===null||l===void 0)&&l.suppressFocus)&&e.eGroupFieldSelect&&!e.eGroupFieldSelect.isDisabled()&&e.eGroupFieldSelect.getFocusableElement().focus()})}):Ot.resolve()},t.prototype.updateSelectedColumn=function(e){var r,i;if(e){(i=(r=this.selectedFilter)===null||r===void 0?void 0:r.afterGuiDetached)===null||i===void 0||i.call(r);var o=this.getFilterColumnPair(e);this.selectedColumn=o==null?void 0:o.column,this.selectedFilter=o==null?void 0:o.filter,this.dispatchEvent({type:t.EVENT_SELECTED_COLUMN_CHANGED}),this.addUnderlyingFilterElement()}},t.prototype.isFilterActive=function(){var e;return!!(!((e=this.filterColumnPairs)===null||e===void 0)&&e.some(function(r){var i=r.filter;return i.isFilterActive()}))},t.prototype.doesFilterPass=function(){return!0},t.prototype.getModel=function(){return null},t.prototype.setModel=function(){return Ot.resolve()},t.prototype.afterGuiAttached=function(e){this.afterGuiAttachedParams=e,this.addUnderlyingFilterElement()},t.prototype.afterGuiDetached=function(){var e,r;F.clearElement(this.eUnderlyingFilter),(r=(e=this.selectedFilter)===null||e===void 0?void 0:e.afterGuiDetached)===null||r===void 0||r.call(e)},t.prototype.onColumnRowGroupChanged=function(){var e=this;this.updateGroups().then(function(){e.dispatchEvent({type:t.EVENT_COLUMN_ROW_GROUP_CHANGED}),e.eventService.dispatchEvent({type:"filterAllowedUpdated"})})},t.prototype.getFilterColumnPair=function(e){var r;if(e)return(r=this.filterColumnPairs)===null||r===void 0?void 0:r.find(function(i){var o=i.column;return o.getId()===e})},t.prototype.getSelectedFilter=function(){return this.selectedFilter},t.prototype.getSelectedColumn=function(){return this.selectedColumn},t.prototype.isFilterAllowed=function(){return!!this.selectedColumn},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",t.EVENT_SELECTED_COLUMN_CHANGED="selectedColumnChanged",zC([O("filterManager")],t.prototype,"filterManager",void 0),zC([O("columnModel")],t.prototype,"columnModel",void 0),zC([U("eGroupField")],t.prototype,"eGroupField",void 0),zC([U("eUnderlyingFilter")],t.prototype,"eUnderlyingFilter",void 0),zC([q],t.prototype,"postConstruct",null),t}(md),lze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),NL=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},uze=function(n){lze(t,n);function t(){var e=n.call(this,`
            <div ref="eFloatingFilter" class="ag-group-floating-filter ag-floating-filter-input" role="presentation"></div>
        `)||this;return e.haveAddedColumnListeners=!1,e}return t.prototype.init=function(e){var r=this;this.params=e;var i=this.gridOptionsService.get("groupDisplayType")==="multipleColumns";return new Ot(function(o){r.params.parentFilterInstance(function(a){r.parentFilterInstance=a,i?r.setupUnderlyingFloatingFilterElement().then(function(){return o()}):(r.setupReadOnlyFloatingFilterElement(),o())})}).then(function(){r.addManagedListener(r.parentFilterInstance,W1.EVENT_SELECTED_COLUMN_CHANGED,function(){return r.onSelectedColumnChanged()}),r.addManagedListener(r.parentFilterInstance,W1.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return r.onColumnRowGroupChanged()})})},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){this.params=e,this.setParams()},t.prototype.setParams=function(){var e,r=this.columnModel.getDisplayNameForColumn(this.params.column,"header",!0),i=this.localeService.getLocaleTextFunc();(e=this.eFloatingFilterText)===null||e===void 0||e.setInputAriaLabel("".concat(r," ").concat(i("ariaFilterInput","Filter Input")))},t.prototype.setupReadOnlyFloatingFilterElement=function(){var e=this;this.eFloatingFilterText||(this.eFloatingFilterText=this.createManagedBean(new oc),this.eFloatingFilterText.setDisabled(!0).addGuiEventListener("click",function(){return e.params.showParentFilter()}),this.setParams()),this.updateDisplayedValue(),this.eFloatingFilter.appendChild(this.eFloatingFilterText.getGui())},t.prototype.setupUnderlyingFloatingFilterElement=function(){var e=this;this.showingUnderlyingFloatingFilter=!1,this.underlyingFloatingFilter=void 0,F.clearElement(this.eFloatingFilter);var r=this.parentFilterInstance.getSelectedColumn();if(r&&!r.isVisible()){var i=this.filterManager.getFloatingFilterCompDetails(r,this.params.showParentFilter);if(i)return this.compDetails=i,this.haveAddedColumnListeners||(this.haveAddedColumnListeners=!0,this.addManagedListener(r,Rt.EVENT_VISIBLE_CHANGED,this.onColumnVisibleChanged.bind(this)),this.addManagedListener(r,Rt.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))),i.newAgStackInstance().then(function(o){var a,s;e.underlyingFloatingFilter=o,(a=e.underlyingFloatingFilter)===null||a===void 0||a.onParentModelChanged((s=e.parentFilterInstance.getSelectedFilter())===null||s===void 0?void 0:s.getModel()),e.appendChild(o.getGui()),e.showingUnderlyingFloatingFilter=!0})}return this.setupReadOnlyFloatingFilterElement(),Ot.resolve()},t.prototype.onColumnVisibleChanged=function(){this.setupUnderlyingFloatingFilterElement()},t.prototype.onColDefChanged=function(e){var r,i,o;if(e.column){var a=this.filterManager.getFloatingFilterCompDetails(e.column,this.params.showParentFilter);a&&(!((r=this.underlyingFloatingFilter)===null||r===void 0)&&r.refresh?this.underlyingFloatingFilter.refresh(a.params):(o=(i=this.underlyingFloatingFilter)===null||i===void 0?void 0:i.onParamsUpdated)===null||o===void 0||o.call(i,a.params))}},t.prototype.onParentModelChanged=function(e,r){var i,o;this.showingUnderlyingFloatingFilter?(i=this.underlyingFloatingFilter)===null||i===void 0||i.onParentModelChanged((o=this.parentFilterInstance.getSelectedFilter())===null||o===void 0?void 0:o.getModel(),r):this.updateDisplayedValue()},t.prototype.updateDisplayedValue=function(){if(!(!this.parentFilterInstance||!this.eFloatingFilterText)){var e=this.parentFilterInstance.getSelectedFilter();if(!e){this.eFloatingFilterText.setValue(""),this.eFloatingFilterText.setDisplayed(!1);return}if(this.eFloatingFilterText.setDisplayed(!0),e.getModelAsString){var r=e.getModel();this.eFloatingFilterText.setValue(r==null?"":e.getModelAsString(r))}else this.eFloatingFilterText.setValue("")}},t.prototype.onSelectedColumnChanged=function(){this.showingUnderlyingFloatingFilter||this.updateDisplayedValue()},t.prototype.onColumnRowGroupChanged=function(){this.showingUnderlyingFloatingFilter||this.updateDisplayedValue()},t.prototype.destroy=function(){n.prototype.destroy.call(this)},NL([O("columnModel")],t.prototype,"columnModel",void 0),NL([O("filterManager")],t.prototype,"filterManager",void 0),NL([U("eFloatingFilter")],t.prototype,"eFloatingFilter",void 0),t}(Ce),Iee={version:aze,moduleName:Te.RowGroupingModule,beans:[IUe,oze,kUe,VUe,jUe,WUe],agStackComponents:[{componentName:"AgGridHeaderDropZones",componentClass:nze}],userComponents:[{componentName:"agGroupColumnFilter",componentClass:W1},{componentName:"agGroupColumnFloatingFilter",componentClass:uze}],dependantModules:[Pi]},cze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Nb=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},_4=function(n){cze(t,n);function t(e){return n.call(this,e,"aggregation")||this}return t.prototype.passBeansUp=function(){n.prototype.setBeans.call(this,{gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.localeService.getLocaleTextFunc(),r=e("valueColumnsEmptyMessage","Drag here to aggregate"),i=e("values","Values");n.prototype.init.call(this,{dragAndDropIcon:Wt.ICON_AGGREGATE,icon:F.createIconNoSpan("valuePanel",this.gridOptionsService,null),emptyMessage:r,title:i}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VALUE_CHANGED,this.refreshGui.bind(this))},t.prototype.getAriaLabel=function(){var e=this.localeService.getLocaleTextFunc(),r=e("ariaValuesDropZonePanelLabel","Values");return r},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="valueColumnsList",e},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?Wt.ICON_AGGREGATE:Wt.ICON_NOT_ALLOWED},t.prototype.isColumnDroppable=function(e,r){return this.gridOptionsService.get("functionsReadOnly")||!e.isPrimary()?!1:e.isAllowValue()&&(!e.isValueActive()||this.isSourceEventFromTarget(r))},t.prototype.updateColumns=function(e){if(this.gridOptionsService.get("functionsPassive")){var r={type:M.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:e};this.eventService.dispatchEvent(r)}else this.columnModel.setValueColumns(e,"toolPanelUi")},t.prototype.getExistingColumns=function(){return this.columnModel.getValueColumns()},Nb([O("columnModel")],t.prototype,"columnModel",void 0),Nb([O("loggerFactory")],t.prototype,"loggerFactory",void 0),Nb([O("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Nb([q],t.prototype,"passBeansUp",null),t}(mj),dze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),x4=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},yj=function(n){dze(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.init=function(e,r,i){this.allowDragging=e,this.params=r,this.eventType=i,this.primaryColsHeaderPanel.init(this.params);var o=this.params.suppressColumnFilter,a=this.params.suppressColumnSelectAll,s=this.params.suppressColumnExpandAll;s&&o&&a&&this.primaryColsHeaderPanel.setDisplayed(!1),this.addManagedListener(this.primaryColsListPanel,"groupExpanded",this.onGroupExpanded.bind(this)),this.addManagedListener(this.primaryColsListPanel,"selectionChanged",this.onSelectionChange.bind(this)),this.primaryColsListPanel.init(this.params,this.allowDragging,this.eventType),this.addManagedListener(this.primaryColsHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"selectAll",this.onSelectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"unselectAll",this.onUnselectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"filterChanged",this.onFilterChanged.bind(this)),this.positionableFeature=new __(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature)},t.prototype.toggleResizable=function(e){this.positionableFeature.setResizable(e?{bottom:!0}:!1)},t.prototype.onExpandAll=function(){this.primaryColsListPanel.doSetExpandedAll(!0)},t.prototype.onCollapseAll=function(){this.primaryColsListPanel.doSetExpandedAll(!1)},t.prototype.expandGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!0,e)},t.prototype.collapseGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!1,e)},t.prototype.setColumnLayout=function(e){this.primaryColsListPanel.setColumnLayout(e)},t.prototype.onFilterChanged=function(e){this.primaryColsListPanel.setFilterText(e.filterText)},t.prototype.syncLayoutWithGrid=function(){this.primaryColsListPanel.onColumnsChanged()},t.prototype.onSelectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!0)},t.prototype.onUnselectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!1)},t.prototype.onGroupExpanded=function(e){this.primaryColsHeaderPanel.setExpandState(e.state),this.params.onStateUpdated()},t.prototype.onSelectionChange=function(e){this.primaryColsHeaderPanel.setSelectionState(e.state)},t.prototype.getExpandedGroups=function(){return this.primaryColsListPanel.getExpandedGroups()},t.TEMPLATE=`<div class="ag-column-select">
            <ag-primary-cols-header ref="primaryColsHeaderPanel"></ag-primary-cols-header>
            <ag-primary-cols-list ref="primaryColsListPanel"></ag-primary-cols-list>
        </div>`,x4([U("primaryColsHeaderPanel")],t.prototype,"primaryColsHeaderPanel",void 0),x4([U("primaryColsListPanel")],t.prototype,"primaryColsListPanel",void 0),t}(Ce),pze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ZR=function(){return ZR=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ZR.apply(this,arguments)},hze=function(n){pze(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.initialised=!1,e.childDestroyFuncs=[],e}return t.prototype.setVisible=function(e){n.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},t.prototype.init=function(e){var r=this,i=this.gridOptionsService.addGridCommonParams({suppressColumnMove:!1,suppressColumnSelectAll:!1,suppressColumnFilter:!1,suppressColumnExpandAll:!1,contractColumnSelection:!1,suppressPivotMode:!1,suppressRowGroups:!1,suppressValues:!1,suppressPivots:!1,suppressSyncLayoutWithGrid:!1});if(this.params=ZR(ZR({},i),e),this.isRowGroupingModuleLoaded()&&!this.params.suppressPivotMode&&(this.pivotModePanel=this.createBean(new h4),this.childDestroyFuncs.push(function(){return r.destroyBean(r.pivotModePanel)}),this.appendChild(this.pivotModePanel)),this.primaryColsPanel=this.createBean(new yj),this.childDestroyFuncs.push(function(){return r.destroyBean(r.primaryColsPanel)}),this.primaryColsPanel.init(!0,this.params,"toolPanelUi"),this.primaryColsPanel.addCssClass("ag-column-panel-column-select"),this.appendChild(this.primaryColsPanel),this.isRowGroupingModuleLoaded()){this.params.suppressRowGroups||(this.rowGroupDropZonePanel=this.createBean(new H1(!1)),this.childDestroyFuncs.push(function(){return r.destroyBean(r.rowGroupDropZonePanel)}),this.appendChild(this.rowGroupDropZonePanel)),this.params.suppressValues||(this.valuesDropZonePanel=this.createBean(new _4(!1)),this.childDestroyFuncs.push(function(){return r.destroyBean(r.valuesDropZonePanel)}),this.appendChild(this.valuesDropZonePanel)),this.params.suppressPivots||(this.pivotDropZonePanel=this.createBean(new $1(!1)),this.childDestroyFuncs.push(function(){return r.destroyBean(r.pivotDropZonePanel)}),this.appendChild(this.pivotDropZonePanel)),this.setLastVisible();var o=this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){r.resetChildrenHeight(),r.setLastVisible()});this.childDestroyFuncs.push(function(){return o()})}this.initialised=!0},t.prototype.setPivotModeSectionVisible=function(e){var r=this;this.isRowGroupingModuleLoaded()&&(this.pivotModePanel?this.pivotModePanel.setDisplayed(e):e&&(this.pivotModePanel=this.createBean(new h4),this.getGui().insertBefore(this.pivotModePanel.getGui(),this.getGui().firstChild),this.childDestroyFuncs.push(function(){return r.destroyBean(r.pivotModePanel)})),this.setLastVisible())},t.prototype.setRowGroupsSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.rowGroupDropZonePanel?this.rowGroupDropZonePanel.setDisplayed(e):e&&(this.rowGroupDropZonePanel=this.createManagedBean(new H1(!1)),this.appendChild(this.rowGroupDropZonePanel)),this.setLastVisible())},t.prototype.setValuesSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.valuesDropZonePanel?this.valuesDropZonePanel.setDisplayed(e):e&&(this.valuesDropZonePanel=this.createManagedBean(new _4(!1)),this.appendChild(this.valuesDropZonePanel)),this.setLastVisible())},t.prototype.setPivotSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.pivotDropZonePanel?this.pivotDropZonePanel.setDisplayed(e):e&&(this.pivotDropZonePanel=this.createManagedBean(new $1(!1)),this.appendChild(this.pivotDropZonePanel),this.pivotDropZonePanel.setDisplayed(e)),this.setLastVisible())},t.prototype.setResizers=function(){[this.primaryColsPanel,this.rowGroupDropZonePanel,this.valuesDropZonePanel,this.pivotDropZonePanel].forEach(function(e){if(e){var r=e.getGui();e.toggleResizable(!r.classList.contains("ag-last-column-drop")&&!r.classList.contains("ag-hidden"))}})},t.prototype.setLastVisible=function(){var e=this.getGui(),r=Array.prototype.slice.call(e.querySelectorAll(".ag-column-drop"));r.forEach(function(a){return a.classList.remove("ag-last-column-drop")});var i=e.querySelectorAll(".ag-column-drop:not(.ag-hidden)"),o=F.last(i);o&&o.classList.add("ag-last-column-drop"),this.setResizers()},t.prototype.resetChildrenHeight=function(){for(var e=this.getGui(),r=e.children,i=0;i<r.length;i++){var o=r[i];o.style.removeProperty("height"),o.style.removeProperty("flex")}},t.prototype.isRowGroupingModuleLoaded=function(){return ut.__assertRegistered(Te.RowGroupingModule,"Row Grouping",this.context.getGridId())},t.prototype.expandColumnGroups=function(e){this.primaryColsPanel.expandGroups(e)},t.prototype.collapseColumnGroups=function(e){this.primaryColsPanel.collapseGroups(e)},t.prototype.setColumnLayout=function(e){this.primaryColsPanel.setColumnLayout(e)},t.prototype.syncLayoutWithGrid=function(){this.primaryColsPanel.syncLayoutWithGrid()},t.prototype.destroyChildren=function(){this.childDestroyFuncs.forEach(function(e){return e()}),this.childDestroyFuncs.length=0,F.clearElement(this.getGui())},t.prototype.refresh=function(e){return this.destroyChildren(),this.init(e),!0},t.prototype.getState=function(){return{expandedGroupIds:this.primaryColsPanel.getExpandedGroups()}},t.prototype.destroy=function(){this.destroyChildren(),n.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-column-panel"></div>',t}(Ce),fze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),b4=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Nee=function(n){fze(t,n);function t(){var e=n.call(this,'<div class="ag-tool-panel-horizontal-resize"></div>')||this;return e.minWidth=100,e.maxWidth=null,e}return t.prototype.setElementToResize=function(e){this.elementToResize=e},t.prototype.postConstruct=function(){var e=this.horizontalResizeService.addResizeBar({eResizeBar:this.getGui(),dragStartPixels:1,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this),onResizeEnd:this.onResizeEnd.bind(this)});this.addDestroyFunc(e),this.setInverted(this.gridOptionsService.get("enableRtl"))},t.prototype.dispatchResizeEvent=function(e,r,i){var o={type:M.EVENT_TOOL_PANEL_SIZE_CHANGED,width:i,started:e,ended:r};this.eventService.dispatchEvent(o)},t.prototype.onResizeStart=function(){this.startingWidth=this.elementToResize.offsetWidth,this.dispatchResizeEvent(!0,!1,this.startingWidth)},t.prototype.onResizeEnd=function(e){return this.onResizing(e,!0)},t.prototype.onResizing=function(e,r){r===void 0&&(r=!1);var i=this.inverted?-1:1,o=Math.max(this.minWidth,Math.floor(this.startingWidth-e*i));this.maxWidth!=null&&(o=Math.min(this.maxWidth,o)),this.elementToResize.style.width="".concat(o,"px"),this.dispatchResizeEvent(!1,r,o)},t.prototype.setInverted=function(e){this.inverted=e},t.prototype.setMaxWidth=function(e){this.maxWidth=e},t.prototype.setMinWidth=function(e){e!=null?this.minWidth=e:this.minWidth=100},b4([O("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),b4([q],t.prototype,"postConstruct",null),t}(Ce),vze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),kb=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},E4=function(n){vze(t,n);function t(e){var r=n.call(this)||this;return r.toolPanelDef=e,r}return t.prototype.getToolPanelId=function(){return this.toolPanelDef.id},t.prototype.postConstruct=function(){var e=this.createTemplate();this.setTemplate(e),this.setLabel(),this.setIcon(),this.addManagedListener(this.eToggleButton,"click",this.onButtonPressed.bind(this)),this.eToggleButton.setAttribute("id","ag-".concat(this.getCompId(),"-button"))},t.prototype.createTemplate=function(){var e=`<div class="ag-side-button" role="presentation">
                <button type="button" ref="eToggleButton" tabindex="-1" role="tab" aria-expanded="false" class="ag-button ag-side-button-button">
                    <div ref="eIconWrapper" class="ag-side-button-icon-wrapper" aria-hidden="true"></div>
                    <span ref ="eLabel" class="ag-side-button-label"></span>
                </button>
            </div>`;return e},t.prototype.setLabel=function(){var e=this.localeService.getLocaleTextFunc(),r=this.toolPanelDef,i=e(r.labelKey,r.labelDefault);this.eLabel.innerText=i},t.prototype.setIcon=function(){this.eIconWrapper.insertAdjacentElement("afterbegin",F.createIconNoSpan(this.toolPanelDef.iconKey,this.gridOptionsService))},t.prototype.onButtonPressed=function(){this.dispatchEvent({type:t.EVENT_TOGGLE_BUTTON_CLICKED})},t.prototype.setSelected=function(e){this.addOrRemoveCssClass("ag-selected",e),F.setAriaExpanded(this.eToggleButton,e)},t.prototype.getButtonElement=function(){return this.eToggleButton},t.EVENT_TOGGLE_BUTTON_CLICKED="toggleButtonClicked",kb([U("eToggleButton")],t.prototype,"eToggleButton",void 0),kb([U("eIconWrapper")],t.prototype,"eIconWrapper",void 0),kb([U("eLabel")],t.prototype,"eLabel",void 0),kb([q],t.prototype,"postConstruct",null),t}(Ce),gze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gb=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},kee=function(n){gze(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.buttonComps=[],e}return t.prototype.postConstruct=function(){this.addManagedListener(this.getFocusableElement(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){if(!(e.key!==K.TAB||!e.shiftKey)){var r=F.last(this.columnModel.getAllDisplayedColumns());this.focusService.focusGridView(r,!0)&&e.preventDefault()}},t.prototype.setActiveButton=function(e){this.buttonComps.forEach(function(r){r.setSelected(e===r.getToolPanelId())})},t.prototype.addButtonComp=function(e){var r=this,i=this.createBean(new E4(e));return this.buttonComps.push(i),this.appendChild(i),i.addEventListener(E4.EVENT_TOGGLE_BUTTON_CLICKED,function(){r.dispatchEvent({type:t.EVENT_SIDE_BAR_BUTTON_CLICKED,toolPanelId:e.id})}),i},t.prototype.clearButtons=function(){this.buttonComps=this.destroyBeans(this.buttonComps),F.clearElement(this.getGui())},t.EVENT_SIDE_BAR_BUTTON_CLICKED="sideBarButtonClicked",t.TEMPLATE='<div class="ag-side-buttons" role="tablist"></div>',Gb([O("focusService")],t.prototype,"focusService",void 0),Gb([O("columnModel")],t.prototype,"columnModel",void 0),Gb([q],t.prototype,"postConstruct",null),Gb([Gr],t.prototype,"clearButtons",null),t}(Ce),O4=function(){function n(){}return n.parse=function(t){if(t){if(t===!0)return{toolPanels:[n.DEFAULT_COLUMN_COMP,n.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if(typeof t=="string")return n.parse([t]);if(Array.isArray(t)){var e=[];return t.forEach(function(i){var o=n.DEFAULT_BY_KEY[i];if(!o){console.warn("AG Grid: the key ".concat(i," is not a valid key for specifying a tool panel, valid keys are: ").concat(Object.keys(n.DEFAULT_BY_KEY).join(",")));return}e.push(o)}),e.length===0?void 0:{toolPanels:e,defaultToolPanel:e[0].id}}var r={toolPanels:n.parseComponents(t.toolPanels),defaultToolPanel:t.defaultToolPanel,hiddenByDefault:t.hiddenByDefault,position:t.position};return r}},n.parseComponents=function(t){var e=[];return t&&t.forEach(function(r){var i=null;if(typeof r=="string"){var o=n.DEFAULT_BY_KEY[r];if(!o){console.warn("AG Grid: the key ".concat(r," is not a valid key for specifying a tool panel, valid keys are: ").concat(Object.keys(n.DEFAULT_BY_KEY).join(",")));return}i=o}else i=r;e.push(i)}),e},n.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},n.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"},n.DEFAULT_BY_KEY={columns:n.DEFAULT_COLUMN_COMP,filters:n.DEFAULT_FILTER_COMP},n}(),mze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),R4=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},yze=function(n){mze(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.setupResize=function(){var e=this.getGui(),r=this.resizeBar=this.createManagedBean(new Nee);e.setAttribute("id","ag-".concat(this.getCompId())),r.setElementToResize(e),this.appendChild(r)},t.prototype.getToolPanelId=function(){return this.toolPanelId},t.prototype.setToolPanelDef=function(e,r){var i=e.id,o=e.minWidth,a=e.maxWidth,s=e.width;this.toolPanelId=i,this.width=s;var l=this.userComponentFactory.getToolPanelCompDetails(e,r),u=l.newAgStackInstance();if(this.params=l.params,u==null){console.warn("AG Grid: error processing tool panel component ".concat(i,". You need to specify 'toolPanel'"));return}u.then(this.setToolPanelComponent.bind(this)),o!=null&&this.resizeBar.setMinWidth(o),a!=null&&this.resizeBar.setMaxWidth(a)},t.prototype.setToolPanelComponent=function(e){var r=this;this.toolPanelCompInstance=e,this.appendChild(e.getGui()),this.addDestroyFunc(function(){r.destroyBean(e)}),this.width&&(this.getGui().style.width="".concat(this.width,"px"))},t.prototype.getToolPanelInstance=function(){return this.toolPanelCompInstance},t.prototype.setResizerSizerSide=function(e){var r=this.gridOptionsService.get("enableRtl"),i=e==="left",o=r?i:!i;this.resizeBar.setInverted(o)},t.prototype.refresh=function(){this.toolPanelCompInstance.refresh(this.params)},t.TEMPLATE='<div class="ag-tool-panel-wrapper" role="tabpanel"/>',R4([O("userComponentFactory")],t.prototype,"userComponentFactory",void 0),R4([q],t.prototype,"setupResize",null),t}(Ce),Cze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),QR=function(){return QR=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},QR.apply(this,arguments)},KC=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Sze=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},wze=function(n){Cze(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.toolPanelWrappers=[],e}return t.prototype.postConstruct=function(){var e;this.sideBarButtonsComp.addEventListener(kee.EVENT_SIDE_BAR_BUTTON_CLICKED,this.onToolPanelButtonClicked.bind(this));var r=((e=this.gridOptionsService.get("initialState"))!==null&&e!==void 0?e:{}).sideBar;this.setSideBarDef({sideBarDef:O4.parse(this.gridOptionsService.get("sideBar")),sideBarState:r}),this.addManagedPropertyListener("sideBar",this.onSideBarUpdated.bind(this)),this.sideBarService.registerSideBarComp(this),this.createManagedBean(new ic(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var r=this,i=r.focusService,o=r.sideBarButtonsComp,a=this.getGui(),s=o.getGui(),l=this.gridOptionsService.getDocument(),u=l.activeElement,c=a.querySelector(".ag-tool-panel-wrapper:not(.ag-hidden)"),d=e.target;if(c){if(s.contains(u)){i.focusInto(c,e.shiftKey)&&e.preventDefault();return}if(e.shiftKey){var p=null;c.contains(u)?p=this.focusService.findNextFocusableElement(c,void 0,!0):i.isTargetUnderManagedComponent(c,d)&&e.shiftKey&&(p=this.focusService.findFocusableElementBeforeTabGuard(c,d)),p||(p=s.querySelector(".ag-selected button")),p&&p!==e.target&&(e.preventDefault(),p.focus())}}}},t.prototype.handleKeyDown=function(e){var r=this.gridOptionsService.getDocument();if(this.sideBarButtonsComp.getGui().contains(r.activeElement)){var i=this.sideBarButtonsComp.getGui(),o=Array.prototype.slice.call(i.querySelectorAll(".ag-side-button")),a=r.activeElement,s=o.findIndex(function(c){return c.contains(a)}),l=null;switch(e.key){case K.LEFT:case K.UP:l=Math.max(0,s-1);break;case K.RIGHT:case K.DOWN:l=Math.min(s+1,o.length-1);break}if(l!==null){var u=o[l].querySelector("button");u&&(u.focus(),e.preventDefault())}}},t.prototype.onToolPanelButtonClicked=function(e){var r=e.toolPanelId,i=this.openedItem();i===r?this.openToolPanel(void 0,"sideBarButtonClicked"):this.openToolPanel(r,"sideBarButtonClicked")},t.prototype.clearDownUi=function(){this.sideBarButtonsComp.clearButtons(),this.destroyToolPanelWrappers()},t.prototype.setSideBarDef=function(e){var r=e.sideBarDef,i=e.sideBarState,o=e.existingToolPanelWrappers;if(this.setDisplayed(!1),this.sideBar=r,this.sideBar&&this.sideBar.toolPanels){var a=this.sideBar.toolPanels;if(this.createToolPanelsAndSideButtons(a,i,o),!this.toolPanelWrappers.length)return;var s=i?i.visible:!this.sideBar.hiddenByDefault;if(this.setDisplayed(s),this.setSideBarPosition(i?i.position:this.sideBar.position),s)if(i){var l=i.openToolPanel;l&&this.openToolPanel(l,"sideBarInitializing")}else this.openToolPanel(this.sideBar.defaultToolPanel,"sideBarInitializing")}},t.prototype.getDef=function(){return this.sideBar},t.prototype.setSideBarPosition=function(e){e||(e="right"),this.position=e;var r=e==="left",i=r?"right":"left";return this.addOrRemoveCssClass("ag-side-bar-left",r),this.addOrRemoveCssClass("ag-side-bar-right",!r),this.toolPanelWrappers.forEach(function(o){o.setResizerSizerSide(i)}),this.eventService.dispatchEvent({type:M.EVENT_SIDE_BAR_UPDATED}),this},t.prototype.setDisplayed=function(e,r){n.prototype.setDisplayed.call(this,e,r),this.eventService.dispatchEvent({type:M.EVENT_SIDE_BAR_UPDATED})},t.prototype.getState=function(){var e={};return this.toolPanelWrappers.forEach(function(r){var i,o;e[r.getToolPanelId()]=(o=(i=r.getToolPanelInstance())===null||i===void 0?void 0:i.getState)===null||o===void 0?void 0:o.call(i)}),{visible:this.isDisplayed(),position:this.position,openToolPanel:this.openedItem(),toolPanels:e}},t.prototype.createToolPanelsAndSideButtons=function(e,r,i){var o,a,s;try{for(var l=Sze(e),u=l.next();!u.done;u=l.next()){var c=u.value;this.createToolPanelAndSideButton(c,(s=r==null?void 0:r.toolPanels)===null||s===void 0?void 0:s[c.id],i==null?void 0:i[c.id])}}catch(d){o={error:d}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}},t.prototype.validateDef=function(e){if(e.id==null)return console.warn("AG Grid: please review all your toolPanel components, it seems like at least one of them doesn't have an id"),!1;if(e.toolPanel==="agColumnsToolPanel"){var r=!ut.__assertRegistered(Te.ColumnsToolPanelModule,"Column Tool Panel",this.context.getGridId());if(r)return!1}if(e.toolPanel==="agFiltersToolPanel"){var r=!ut.__assertRegistered(Te.FiltersToolPanelModule,"Filters Tool Panel",this.context.getGridId());if(r)return!1;if(this.filterManager.isAdvancedFilterEnabled())return F.warnOnce("Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled."),!1}return!0},t.prototype.createToolPanelAndSideButton=function(e,r,i){var o=this;if(this.validateDef(e)){var a=this.sideBarButtonsComp.addButtonComp(e),s;i?s=i:(s=this.getContext().createBean(new yze),s.setToolPanelDef(e,{initialState:r,onStateUpdated:function(){return o.eventService.dispatchEvent({type:M.EVENT_SIDE_BAR_UPDATED})}})),s.setDisplayed(!1);var l=s.getGui();this.appendChild(l),this.toolPanelWrappers.push(s),F.setAriaControls(a.getButtonElement(),l)}},t.prototype.refresh=function(){this.toolPanelWrappers.forEach(function(e){return e.refresh()})},t.prototype.openToolPanel=function(e,r){r===void 0&&(r="api");var i=this.openedItem();if(i!==e){this.toolPanelWrappers.forEach(function(s){var l=e===s.getToolPanelId();s.setDisplayed(l)});var o=this.openedItem(),a=i!==o;a&&(this.sideBarButtonsComp.setActiveButton(e),this.raiseToolPanelVisibleEvent(e,i??void 0,r))}},t.prototype.getToolPanelInstance=function(e){var r=this.toolPanelWrappers.filter(function(i){return i.getToolPanelId()===e})[0];if(!r){console.warn("AG Grid: unable to lookup Tool Panel as invalid key supplied: ".concat(e));return}return r.getToolPanelInstance()},t.prototype.raiseToolPanelVisibleEvent=function(e,r,i){var o=!!e&&!!r;if(r){var a={type:M.EVENT_TOOL_PANEL_VISIBLE_CHANGED,source:i,key:r,visible:!1,switchingToolPanel:o};this.eventService.dispatchEvent(a)}if(e){var s={type:M.EVENT_TOOL_PANEL_VISIBLE_CHANGED,source:i,key:e,visible:!0,switchingToolPanel:o};this.eventService.dispatchEvent(s)}},t.prototype.close=function(e){e===void 0&&(e="api"),this.openToolPanel(void 0,e)},t.prototype.isToolPanelShowing=function(){return!!this.openedItem()},t.prototype.openedItem=function(){var e=null;return this.toolPanelWrappers.forEach(function(r){r.isDisplayed()&&(e=r.getToolPanelId())}),e},t.prototype.onSideBarUpdated=function(){var e=this,r,i=O4.parse(this.gridOptionsService.get("sideBar")),o={};i&&this.sideBar&&((r=i.toolPanels)===null||r===void 0||r.forEach(function(a){var s,l,u=a.id;if(u){var c=(s=e.sideBar.toolPanels)===null||s===void 0?void 0:s.find(function(f){return f.id===u});if(!(!c||a.toolPanel!==c.toolPanel)){var d=e.toolPanelWrappers.find(function(f){return f.getToolPanelId()===u});if(d){var p=e.gridOptionsService.addGridCommonParams(QR(QR({},(l=a.toolPanelParams)!==null&&l!==void 0?l:{}),{onStateUpdated:function(){return e.eventService.dispatchEvent({type:M.EVENT_SIDE_BAR_UPDATED})}})),h=d.getToolPanelInstance().refresh(p);h===!0&&(e.toolPanelWrappers=e.toolPanelWrappers.filter(function(f){return f!==d}),F.removeFromParent(d.getGui()),o[u]=d)}}}})),this.clearDownUi(),this.setSideBarDef({sideBarDef:i,existingToolPanelWrappers:o})},t.prototype.destroyToolPanelWrappers=function(){var e=this;this.toolPanelWrappers.forEach(function(r){F.removeFromParent(r.getGui()),e.destroyBean(r)}),this.toolPanelWrappers.length=0},t.prototype.destroy=function(){this.destroyToolPanelWrappers(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div class="ag-side-bar ag-unselectable">
            <ag-side-bar-buttons ref="sideBarButtons"></ag-side-bar-buttons>
        </div>`,KC([O("focusService")],t.prototype,"focusService",void 0),KC([O("filterManager")],t.prototype,"filterManager",void 0),KC([O("sideBarService")],t.prototype,"sideBarService",void 0),KC([U("sideBarButtons")],t.prototype,"sideBarButtonsComp",void 0),KC([q],t.prototype,"postConstruct",null),t}(Ce),_ze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),T4=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},xze=function(n){_ze(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.isColGroupDef=function(r){return r&&typeof r.children<"u"},e.getId=function(r){return e.isColGroupDef(r)?r.groupId:r.colId},e}return t.prototype.createColumnTree=function(e){var r=this,i=[],o=function(s,l){if(r.isColGroupDef(s)){var u=s,c=typeof u.groupId<"u"?u.groupId:u.headerName,d=new er(u,c,!1,l),p=[];return u.children.forEach(function(g){var m=o(g,l+1);m&&p.push(m)}),d.setChildren(p),d}else{var h=s,f=h.colId?h.colId:h.field,v=r.columnModel.getPrimaryColumn(f);return v||i.push(h),v}},a=[];return e.forEach(function(s){var l=o(s,0);l&&a.push(l)}),i.length>0&&console.warn("AG Grid: unable to find grid columns for the supplied colDef(s):",i),a},t.prototype.syncLayoutWithGrid=function(e){var r=this.getLeafPathTrees(),i=this.mergeLeafPathTrees(r);e(i)},t.prototype.getLeafPathTrees=function(){var e=function(o,a){var s;if(o instanceof er)if(o.isPadding())s=a;else{var l=Object.assign({},o.getColGroupDef());l.groupId=o.getGroupId(),l.children=[a],s=l}else{var u=Object.assign({},o.getColDef());u.colId=o.getColId(),s=u}var c=o.getOriginalParent();return c?e(c,s):s},r=this.columnModel.getAllGridColumns(),i=r.filter(function(o){var a=o.getColDef();return o.isPrimary()&&!a.showRowGroup});return i.map(function(o){return e(o,o.getColDef())})},t.prototype.mergeLeafPathTrees=function(e){for(var r=this,i=function(c,d){var p=r.isColGroupDef(c)&&r.isColGroupDef(d);return p&&r.getId(c)===r.getId(d)},o=function(c,d){if(!r.isColGroupDef(d))return c;var p=c,h=d;if(h.children&&h.groupId){var f=r.addChildrenToGroup(p,h.groupId,h.children[0]);if(f)return p}return h.children.forEach(function(v){return o(p,v)}),p},a=[],s=1;s<=e.length;s++){var l=e[s-1],u=e[s];i(l,u)?e[s]=o(l,u):a.push(l)}return a},t.prototype.addChildrenToGroup=function(e,r,i){var o=this,a=function(d,p){var h=d.children.map(o.getId),f=F.includes(h,o.getId(p)),v=F.last(d.children),g=v&&o.getId(v)!==o.getId(p);return f&&g};if(!this.isColGroupDef(e))return!0;var s=e,l=i;if(a(s,l))return s.children.push(l),!0;if(s.groupId===r){var u=s.children.map(this.getId),c=F.includes(u,this.getId(l));if(!c)return s.children.push(l),!0}return s.children.forEach(function(d){return o.addChildrenToGroup(d,r,i)}),!1},T4([O("columnModel")],t.prototype,"columnModel",void 0),t=T4([me("toolPanelColDefService")],t),t}(re),bze="31.1.1",Eze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Oze=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Rze=function(n){Eze(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.registerSideBarComp=function(e){this.sideBarComp=e},t.prototype.getSideBarComp=function(){return this.sideBarComp},t=Oze([me("sideBarService")],t),t}(re),Cj={version:bze,moduleName:Te.SideBarModule,beans:[xze,Rze],agStackComponents:[{componentName:"AgHorizontalResize",componentClass:Nee},{componentName:"AgSideBar",componentClass:wze},{componentName:"AgSideBarButtons",componentClass:kee}],dependantModules:[Pi]},YC=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Tze=function(){function n(){}return n.prototype.selectAllChildren=function(t,e,r){var i=this.extractAllLeafColumns(t);this.setAllColumns(i,e,r)},n.prototype.setColumn=function(t,e,r){this.setAllColumns([t],e,r)},n.prototype.setAllColumns=function(t,e,r){this.columnModel.isPivotMode()?this.setAllPivot(t,e,r):this.setAllVisible(t,e,r)},n.prototype.extractAllLeafColumns=function(t){var e=[],r=function(i){i.forEach(function(o){o.isPassesFilter()&&(o.isGroup()?r(o.getChildren()):e.push(o.getColumn()))})};return r(t),e},n.prototype.setAllVisible=function(t,e,r){var i=[];t.forEach(function(o){o.getColDef().lockVisible||o.isVisible()!=e&&i.push({colId:o.getId(),hide:!e})}),i.length>0&&this.columnModel.applyColumnState({state:i},r)},n.prototype.setAllPivot=function(t,e,r){this.gridOptionsService.get("functionsPassive")?this.setAllPivotPassive(t,e):this.setAllPivotActive(t,e,r)},n.prototype.setAllPivotPassive=function(t,e){var r=this.columnModel.getPivotColumns().slice(),i=this.columnModel.getValueColumns().slice(),o=this.columnModel.getRowGroupColumns().slice(),a=!1,s=!1,l=!1,u=function(v){v.isAnyFunctionActive()||(v.isAllowValue()?(i.push(v),s=!0):v.isAllowRowGroup()?(o.push(v),a=!0):v.isAllowPivot()&&(r.push(v),l=!0))},c=function(v){v.isAnyFunctionActive()&&(r.indexOf(v)>=0&&(F.removeFromArray(r,v),a=!0),i.indexOf(v)>=0&&(F.removeFromArray(i,v),s=!0),o.indexOf(v)>=0&&(F.removeFromArray(o,v),l=!0))},d=e?u:c;if(t.forEach(d),a){var p={type:M.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:r};this.eventService.dispatchEvent(p)}if(l){var h={type:M.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:o};this.eventService.dispatchEvent(h)}if(s){var f={type:M.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:o};this.eventService.dispatchEvent(f)}},n.prototype.setAllPivotActive=function(t,e,r){var i=this,o=[],a=function(u){if(!u.isAnyFunctionActive())if(u.isAllowValue()){var c=typeof u.getAggFunc()=="string"?u.getAggFunc():i.aggFuncService.getDefaultAggFunc(u);o.push({colId:u.getId(),aggFunc:c})}else u.isAllowRowGroup()?o.push({colId:u.getId(),rowGroup:!0}):u.isAllowPivot()&&o.push({colId:u.getId(),pivot:!0})},s=function(u){var c=u.isPivotActive()||u.isRowGroupActive()||u.isValueActive();c&&o.push({colId:u.getId(),pivot:!1,rowGroup:!1,aggFunc:null})},l=e?a:s;t.forEach(l),o.length>0&&this.columnModel.applyColumnState({state:o},r)},n.prototype.updateColumns=function(t){var e=this,r=t.columns,i=t.visibleState,o=t.pivotState,a=t.eventType,s=r.map(function(l){var u=l.getColId();if(e.columnModel.isPivotMode()){var c=o==null?void 0:o[u];return{colId:u,pivot:c==null?void 0:c.pivot,rowGroup:c==null?void 0:c.rowGroup,aggFunc:c==null?void 0:c.aggFunc}}else return{colId:u,hide:!(i!=null&&i[u])}});this.columnModel.applyColumnState({state:s},a)},n.prototype.createPivotState=function(t){return{pivot:t.isPivotActive(),rowGroup:t.isRowGroupActive(),aggFunc:t.isValueActive()?t.getAggFunc():void 0}},YC([O("aggFuncService")],n.prototype,"aggFuncService",void 0),YC([O("columnModel")],n.prototype,"columnModel",void 0),YC([O("gridOptionsService")],n.prototype,"gridOptionsService",void 0),YC([O("eventService")],n.prototype,"eventService",void 0),n=YC([me("modelItemUtils")],n),n}(),Pze="31.1.1",Dze={version:Pze,moduleName:Te.ColumnsToolPanelModule,beans:[Tze],agStackComponents:[{componentName:"AgPrimaryColsHeader",componentClass:CUe},{componentName:"AgPrimaryColsList",componentClass:MUe},{componentName:"AgPrimaryCols",componentClass:yj}],userComponents:[{componentName:"agColumnsToolPanel",componentClass:hze}],dependantModules:[Pi,Iee,Cj]},Aze={getTemplate:function(n){var t=new Date,e=t.toJSON();return{name:"cp:coreProperties",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"}}]},children:[{name:"dc:creator",textNode:n},{name:"dc:title",textNode:"Workbook"},{name:"dcterms:created",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e},{name:"dcterms:modified",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e}]}}},Mze={getTemplate:function(n){var t=n.name,e=n.ContentType,r=n.Extension,i=n.PartName;return{name:t,properties:{rawMap:{Extension:r,PartName:i,ContentType:e}}}}},kL=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},ag=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},Lze={getTemplate:function(n){var t=new Array(n).fill(void 0).map(function(s,l){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",PartName:"/xl/worksheets/sheet".concat(l+1,".xml")}}),e=Br.worksheetImages.size,r={};Br.workbookImageIds.forEach(function(s){r[s.type]=!0});var i=new Array(e).fill(void 0).map(function(s,l){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml",PartName:"/xl/drawings/drawing".concat(l+1,".xml")}}),o=Object.keys(r).map(function(s){return{name:"Default",ContentType:"image/".concat(s),Extension:s}}),a=ag(ag(ag(ag(ag(ag([],kL(o),!1),[{name:"Default",Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"},{name:"Default",ContentType:"application/xml",Extension:"xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",PartName:"/xl/workbook.xml"}],!1),kL(t),!1),[{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml",PartName:"/xl/theme/theme1.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",PartName:"/xl/styles.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",PartName:"/xl/sharedStrings.xml"}],!1),kL(i),!1),[{name:"Override",ContentType:"application/vnd.openxmlformats-package.core-properties+xml",PartName:"/docProps/core.xml"}],!1).map(function(s){return Mze.getTemplate(s)});return{name:"Types",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"}},children:a}}},Fze=9525,P4={0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49},Ize=function(n){return Math.round(n*72/96)},Nze=function(n){return Math.round(n*96/72)},sg=function(n){return Math.ceil(n*Fze)},kze=function(n){if(n!==void 0){var t=["Automatic","Roman","Swiss","Modern","Script","Decorative"],e=t.indexOf(n||"Automatic");return Math.max(e,0)}},ZE=function(n,t){if(t){var e;if(typeof t=="number")e=t;else{var r=t;e=r({rowIndex:n})}return Ize(e)}},Gze=function(n,t){var e=n.position,r=e.colSpan,i=e.column;if(n.width)if(r)for(var o=t.slice(i-1,i+r-1),a=0,s=0;s<o.length;s++){var l=o[s].getActualWidth();if(n.width<a+l){n.position.colSpan=s+1,n.totalWidth=n.width,n.width=n.totalWidth-a;break}a+=l}else n.totalWidth=n.width},Vze=function(n,t){var e=n.position,r=e.rowSpan,i=e.row;if(n.height)if(r)for(var o=0,a=0,s=i;s<i+r;s++){var l=Nze(ZE(s,t)||20);if(n.height<o+l){n.position.rowSpan=a+1,n.totalHeight=n.height,n.height=n.totalHeight-o;break}o+=l,a++}else n.totalHeight=n.height},gs=function(n){var t=b1.createHeader({encoding:"UTF-8",standalone:"yes"}),e=b1.createXml(n);return"".concat(t).concat(e)},E0=function(n){var t=65,e=26,r=String.fromCharCode,i=Math.floor(n/e),o=n%e;return!i||n===e?r(t+n-1):o?i<e?r(t+i-1)+r(t+o-1):E0(i)+r(t+o-1):E0(i-1)+"Z"},D4=function(n,t){return{name:"xdr:".concat(n),children:[{name:"xdr:col",textNode:t.col.toString()},{name:"xdr:colOff",textNode:t.offsetX.toString()},{name:"xdr:row",textNode:t.row.toString()},{name:"xdr:rowOff",textNode:t.offsetY.toString()}]}},Bze=function(n){var t=[{name:"a:ext",properties:{rawMap:{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}},children:[{name:"a16:creationId",properties:{rawMap:{id:"{822E6D20-D7BC-2841-A643-D49A6EF008A2}","xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main"}}}]}],e=n.recolor&&n.recolor.toLowerCase();switch(e){case"grayscale":case"sepia":case"washout":t.push({name:"a:ext",properties:{rawMap:{uri:"{C183D7F6-B498-43B3-948B-1728B52AA6E4}"}},children:[{name:"adec:decorative",properties:{rawMap:{val:"0","xmlns:adec":"http://schemas.microsoft.com/office/drawing/2017/decorative"}}}]})}return{name:"a:extLst",children:t}},jze=function(n,t){return{name:"xdr:nvPicPr",children:[{name:"xdr:cNvPr",properties:{rawMap:{id:t,name:n.id,descr:n.altText!=null?n.altText:void 0}},children:[Bze(n)]},{name:"xdr:cNvPicPr",properties:{rawMap:{preferRelativeResize:"0"}},children:[{name:"a:picLocks"}]}]}},A4=function(n){if(!(!n.saturation&&!n.tint)){var t=[];return n.saturation&&t.push({name:"a:satMod",properties:{rawMap:{val:n.saturation*1e3}}}),n.tint&&t.push({name:"a:tint",properties:{rawMap:{val:n.tint*1e3}}}),t}},Hze=function(n,t){return{name:"a:duotone",children:[{name:"a:prstClr",properties:{rawMap:{val:n.color}},children:A4(n)},{name:"a:srgbClr",properties:{rawMap:{val:t.color}},children:A4(t)}]}},$ze=function(n,t){var e;if(n.transparency){var r=Math.min(Math.max(n.transparency,0),100);e=[{name:"a:alphaModFix",properties:{rawMap:{amt:1e5-Math.round(r*1e3)}}}]}if(n.recolor)switch(e||(e=[]),n.recolor.toLocaleLowerCase()){case"grayscale":e.push({name:"a:grayscl"});break;case"sepia":e.push(Hze({color:"black"},{color:"D9C3A5",tint:50,saturation:180}));break;case"washout":e.push({name:"a:lum",properties:{rawMap:{bright:"70000",contrast:"-70000"}}});break}return{name:"xdr:blipFill",children:[{name:"a:blip",properties:{rawMap:{cstate:"print","r:embed":"rId".concat(t),"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}},children:e},{name:"a:stretch",children:[{name:"a:fillRect"}]}]}},Wze=function(n,t){var e={name:"a:xfrm",children:[{name:"a:off",properties:{rawMap:{x:0,y:0}}},{name:"a:ext",properties:{rawMap:{cx:t.width,cy:t.height}}}]};if(n.rotation){var r=n.rotation;e.properties={rawMap:{rot:Math.min(Math.max(r,0),360)*6e4}}}var i={name:"a:prstGeom",properties:{rawMap:{prst:"rect"}},children:[{name:"a:avLst"}]},o={name:"xdr:spPr",children:[e,i]};return o},Uze=function(n){n.fitCell=!!n.fitCell||!n.width||!n.height;var t=n.position,e=t===void 0?{}:t,r=n.fitCell,i=n.width,o=i===void 0?0:i,a=n.height,s=a===void 0?0:a,l=n.totalHeight,u=n.totalWidth,c=e.offsetX,d=c===void 0?0:c,p=e.offsetY,h=p===void 0?0:p,f=e.row,v=f===void 0?1:f,g=e.rowSpan,m=g===void 0?1:g,y=e.column,C=y===void 0?1:y,S=e.colSpan,w=S===void 0?1:S;return{from:{row:v-1,col:C-1,offsetX:sg(d),offsetY:sg(h)},to:{row:v-1+(r?1:m-1),col:C-1+(r?1:w-1),offsetX:sg(o+d),offsetY:sg(s+h)},height:sg(l||s),width:sg(u||o)}},zze=function(n,t,e,r){return{name:"xdr:pic",children:[jze(n,t+1),$ze(n,e+1),Wze(n,r)]}},Kze={getTemplate:function(n){var t=n.sheetIndex,e=Br.worksheetImages.get(t),r=Br.worksheetImageIds.get(t),i=e.map(function(o,a){var s=Uze(o);return{name:"xdr:twoCellAnchor",properties:{rawMap:{editAs:"absolute"}},children:[D4("from",s.from),D4("to",s.to),zze(o,a,r.get(o.id).index,s),{name:"xdr:clientData"}]}});return{name:"xdr:wsDr",properties:{rawMap:{"xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main","xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"}},children:i}}},Yze=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},ms=function(n){var t=Yze(n,4),e=t[0],r=t[1],i=t[2],o=t[3];return{name:"a:".concat(e),children:[{name:"a:".concat(r),properties:{rawMap:{val:i,lastClr:o}}}]}},qze={getTemplate:function(){return{name:"a:clrScheme",properties:{rawMap:{name:"Office"}},children:[ms(["dk1","sysClr","windowText","000000"]),ms(["lt1","sysClr","window","FFFFFF"]),ms(["dk2","srgbClr","44546A"]),ms(["lt2","srgbClr","E7E6E6"]),ms(["accent1","srgbClr","4472C4"]),ms(["accent2","srgbClr","ED7D31"]),ms(["accent3","srgbClr","A5A5A5"]),ms(["accent4","srgbClr","FFC000"]),ms(["accent5","srgbClr","5B9BD5"]),ms(["accent6","srgbClr","70AD47"]),ms(["hlink","srgbClr","0563C1"]),ms(["folHlink","srgbClr","954F72"])]}}},Xze=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},De=function(n){var t=Xze(n,4),e=t[0],r=t[1],i=t[2],o=t[3];return{name:"a:".concat(e),properties:{rawMap:{script:i,typeface:r,panose:o}}}},Zze={getTemplate:function(){return{name:"a:fontScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:majorFont",children:[De(["latin","Calibri Light",void 0,"020F0302020204030204"]),De(["ea",""]),De(["cs",""]),De(["font","游ゴシック Light","Jpan"]),De(["font","맑은 고딕","Hang"]),De(["font","等线 Light","Hans"]),De(["font","新細明體","Hant"]),De(["font","Times New Roman","Arab"]),De(["font","Times New Roman","Hebr"]),De(["font","Tahoma","Thai"]),De(["font","Nyala","Ethi"]),De(["font","Vrinda","Beng"]),De(["font","Shruti","Gujr"]),De(["font","MoolBoran","Khmr"]),De(["font","Tunga","Knda"]),De(["font","Raavi","Guru"]),De(["font","Euphemia","Cans"]),De(["font","Plantagenet Cherokee","Cher"]),De(["font","Microsoft Yi Baiti","Yiii"]),De(["font","Microsoft Himalaya","Tibt"]),De(["font","MV Boli","Thaa"]),De(["font","Mangal","Deva"]),De(["font","Gautami","Telu"]),De(["font","Latha","Taml"]),De(["font","Estrangelo Edessa","Syrc"]),De(["font","Kalinga","Orya"]),De(["font","Kartika","Mlym"]),De(["font","DokChampa","Laoo"]),De(["font","Iskoola Pota","Sinh"]),De(["font","Mongolian Baiti","Mong"]),De(["font","Times New Roman","Viet"]),De(["font","Microsoft Uighur","Uigh"]),De(["font","Sylfaen","Geor"]),De(["font","Arial","Armn"]),De(["font","Leelawadee UI","Bugi"]),De(["font","Microsoft JhengHei","Bopo"]),De(["font","Javanese Text","Java"]),De(["font","Segoe UI","Lisu"]),De(["font","Myanmar Text","Mymr"]),De(["font","Ebrima","Nkoo"]),De(["font","Nirmala UI","Olck"]),De(["font","Ebrima","Osma"]),De(["font","Phagspa","Phag"]),De(["font","Estrangelo Edessa","Syrn"]),De(["font","Estrangelo Edessa","Syrj"]),De(["font","Estrangelo Edessa","Syre"]),De(["font","Nirmala UI","Sora"]),De(["font","Microsoft Tai Le","Tale"]),De(["font","Microsoft New Tai Lue","Talu"]),De(["font","Ebrima","Tfng"])]},{name:"a:minorFont",children:[De(["latin","Calibri",void 0,"020F0502020204030204"]),De(["ea",""]),De(["cs",""]),De(["font","游ゴシック","Jpan"]),De(["font","맑은 고딕","Hang"]),De(["font","等线","Hans"]),De(["font","新細明體","Hant"]),De(["font","Arial","Arab"]),De(["font","Arial","Hebr"]),De(["font","Tahoma","Thai"]),De(["font","Nyala","Ethi"]),De(["font","Vrinda","Beng"]),De(["font","Shruti","Gujr"]),De(["font","DaunPenh","Khmr"]),De(["font","Tunga","Knda"]),De(["font","Raavi","Guru"]),De(["font","Euphemia","Cans"]),De(["font","Plantagenet Cherokee","Cher"]),De(["font","Microsoft Yi Baiti","Yiii"]),De(["font","Microsoft Himalaya","Tibt"]),De(["font","MV Boli","Thaa"]),De(["font","Mangal","Deva"]),De(["font","Gautami","Telu"]),De(["font","Latha","Taml"]),De(["font","Estrangelo Edessa","Syrc"]),De(["font","Kalinga","Orya"]),De(["font","Kartika","Mlym"]),De(["font","DokChampa","Laoo"]),De(["font","Iskoola Pota","Sinh"]),De(["font","Mongolian Baiti","Mong"]),De(["font","Arial","Viet"]),De(["font","Microsoft Uighur","Uigh"]),De(["font","Sylfaen","Geor"]),De(["font","Arial","Armn"]),De(["font","Leelawadee UI","Bugi"]),De(["font","Microsoft JhengHei","Bopo"]),De(["font","Javanese Text","Java"]),De(["font","Segoe UI","Lisu"]),De(["font","Myanmar Text","Mymr"]),De(["font","Ebrima","Nkoo"]),De(["font","Nirmala UI","Olck"]),De(["font","Ebrima","Osma"]),De(["font","Phagspa","Phag"]),De(["font","Estrangelo Edessa","Syrn"]),De(["font","Estrangelo Edessa","Syrj"]),De(["font","Estrangelo Edessa","Syre"]),De(["font","Nirmala UI","Sora"]),De(["font","Microsoft Tai Le","Tale"]),De(["font","Microsoft New Tai Lue","Talu"]),De(["font","Ebrima","Tfng"])]}]}}},O0=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Fu=function(n,t,e){return{name:"a:".concat(n),properties:{rawMap:{val:t}},children:e}},GL=function(n){var t=O0(n,6),e=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=[];return l.push(Fu("satMod",i)),o&&l.push(Fu("lumMod",o)),a&&l.push(Fu("tint",a)),s&&l.push(Fu("shade",s)),{name:"a:gs",properties:{rawMap:{pos:e}},children:[{name:"a:schemeClr",properties:{rawMap:{val:r}},children:l}]}},JR=function(n,t){return{name:"a:solidFill",children:[Fu("schemeClr",n,t)]}},U1=function(n){var t=O0(n,5),e=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=O0(a,2),l=s[0],u=s[1];return{name:"a:gradFill",properties:{rawMap:{rotWithShape:e}},children:[{name:"a:gsLst",children:[GL(r),GL(i),GL(o)]},{name:"a:lin",properties:{rawMap:{ang:l,scaled:u}}}]}},VL=function(n){var t=O0(n,4),e=t[0],r=t[1],i=t[2],o=t[3];return{name:"a:ln",properties:{rawMap:{w:e,cap:r,cmpd:i,algn:o}},children:[JR("phClr"),Fu("prstDash","solid"),{name:"a:miter",properties:{rawMap:{lim:"800000"}}}]}},BL=function(n){var t=[];if(n){var e=O0(n,5),r=e[0],i=e[1],o=e[2],a=e[3],s=e[4];t.push({name:"a:outerShdw",properties:{rawMap:{blurRad:r,dist:i,dir:o,algn:a,rotWithShape:s}},children:[Fu("srgbClr","000000",[Fu("alpha","63000")])]})}return{name:"a:effectStyle",children:[Object.assign({},{name:"a:effectLst"},t.length?{children:t}:{})]}},Qze=function(){return{name:"a:fillStyleLst",children:[JR("phClr"),U1(["1",["0","phClr","105000","110000","67000"],["50000","phClr","103000","105000","73000"],["100000","phClr","109000","105000","81000"],["5400000","0"]]),U1(["1",["0","phClr","103000","102000","94000"],["50000","phClr","110000","100000",void 0,"100000"],["100000","phClr","120000","99000",void 0,"78000"],["5400000","0"]])]}},Jze=function(){return{name:"a:lnStyleLst",children:[VL(["6350","flat","sng","ctr"]),VL(["12700","flat","sng","ctr"]),VL(["19050","flat","sng","ctr"])]}},e4e=function(){return{name:"a:effectStyleLst",children:[BL(),BL(),BL(["57150","19050","5400000","ctr","0"])]}},t4e=function(){return{name:"a:bgFillStyleLst",children:[JR("phClr"),JR("phClr",[Fu("tint","95000"),Fu("satMod","170000")]),U1(["1",["0","phClr","150000","102000","93000","98000"],["50000","phClr","130000","103000","98000","90000"],["100000","phClr","120000",void 0,void 0,"63000"],["5400000","0"]])]}},r4e={getTemplate:function(){return{name:"a:fmtScheme",properties:{rawMap:{name:"Office"}},children:[Qze(),Jze(),e4e(),t4e()]}}},n4e={getTemplate:function(){return{name:"a:themeElements",children:[qze.getTemplate(),Zze.getTemplate(),r4e.getTemplate()]}}},i4e={getTemplate:function(){return{name:"a:theme",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{a:"http://schemas.openxmlformats.org/drawingml/2006/main"}}],rawMap:{name:"Office Theme"}},children:[n4e.getTemplate(),{name:"a:objectDefaults"},{name:"a:extraClrSchemeLst"}]}}},o4e=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a4e=function(n){var t,e,r=[];try{for(var i=o4e(n.keys()),o=i.next();!o.done;o=i.next()){var a=o.value,s=a.toString(),l={name:"t",textNode:F.escapeString(s)},u=s.trim().length!==s.length;u&&(l.properties={rawMap:{"xml:space":"preserve"}}),r.push({name:"si",children:[l]})}}catch(c){t={error:c}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return r},s4e={getTemplate:function(n){return{name:"sst",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:n.size,uniqueCount:n.size}},children:a4e(n)}}};function l4e(n){for(var t=n.split(/(\[[^\]]*\])/),e=0;e<t.length;e++){var r=t[e];r.length&&(r.startsWith("[")||(r=r.replace(/\$/g,'"$"')),t[e]=F.escapeString(r))}return t.join("")}var u4e={getTemplate:function(n){var t=n.formatCode,e=n.numFmtId;return t.length&&(t=l4e(t)),{name:"numFmt",properties:{rawMap:{formatCode:t,numFmtId:e}}}}},c4e={getTemplate:function(n){return{name:"numFmts",properties:{rawMap:{count:n.length}},children:n.map(function(t){return u4e.getTemplate(t)})}}},d4e={getTemplate:function(n){var t=n.size,e=n.colorTheme,r=n.color,i=r===void 0?"FF000000":r,o=n.fontName,a=o===void 0?"Calibri":o,s=n.family,l=n.scheme,u=n.italic,c=n.bold,d=n.strikeThrough,p=n.outline,h=n.shadow,f=n.underline,v=n.verticalAlign,g=[{name:"sz",properties:{rawMap:{val:t}}},{name:"color",properties:{rawMap:{theme:e,rgb:i}}},{name:"name",properties:{rawMap:{val:a}}}];return s&&g.push({name:"family",properties:{rawMap:{val:s}}}),l&&g.push({name:"scheme",properties:{rawMap:{val:l}}}),u&&g.push({name:"i"}),c&&g.push({name:"b"}),d&&g.push({name:"strike"}),p&&g.push({name:"outline"}),h&&g.push({name:"shadow"}),f&&g.push({name:"u",properties:{rawMap:{val:f}}}),v&&g.push({name:"vertAlign",properties:{rawMap:{val:v}}}),{name:"font",children:g}}},p4e={getTemplate:function(n){return{name:"fonts",properties:{rawMap:{count:n.length}},children:n.map(function(t){return d4e.getTemplate(t)})}}},h4e={getTemplate:function(n){var t=n.patternType,e=n.fgTheme,r=n.fgTint,i=n.fgRgb,o=n.bgRgb,a=n.bgIndexed,s={name:"patternFill",properties:{rawMap:{patternType:t}}};return(e||r||i)&&(s.children=[{name:"fgColor",properties:{rawMap:{theme:e,tint:r,rgb:i}}}]),(a||o)&&(s.children||(s.children=[]),s.children.push({name:"bgColor",properties:{rawMap:{indexed:a,rgb:o}}})),{name:"fill",children:[s]}}},f4e={getTemplate:function(n){return{name:"fills",properties:{rawMap:{count:n.length}},children:n.map(function(t){return h4e.getTemplate(t)})}}},v4e=function(n){switch(n){case 1:return"thin";case 2:return"medium";case 3:return"thick";default:return"hair"}},g4e={None:"None",Dot:"Dotted",Dash:"Dashed",Double:"Double",DashDot:"DashDot",DashDotDot:"DashDotDot",SlantDashDot:"SlantDashDot"},m4e=["Dashed","DashDot","DashDotDot"],y4e={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinDiagStripe:"lightUp",ThinHorzCross:"lightGrid",ThinDiagCross:"lightTrellis",Gray125:"gray125",Gray0625:"gray0625"},C4e={Automatic:"general",Left:"left",Center:"center",Right:"right",Fill:"fill",Justify:"justify",CenterAcrossSelection:"centerContinuous",Distributed:"distributed",JustifyDistributed:"justify"},S4e={Automatic:void 0,Top:"top",Bottom:"bottom",Center:"center",Justify:"justify",Distributed:"distributed",JustifyDistributed:"justify"},w4e=function(n){return n?y4e[n]||n:"none"},Cp=function(n){return n==null?n:(n.charAt(0)==="#"&&(n=n.substring(1)),n.length===6?"FF"+n:n)},Vb=function(n,t){if(!n)return"thin";var e=v4e(t),r=g4e[n];return n==="Continuous"?e:e==="medium"&&m4e.indexOf(r)!==-1?"medium".concat(r):r.charAt(0).toLowerCase()+r.substring(1)},_4e=function(n){return C4e[n]||"general"},x4e=function(n){return S4e[n]||void 0},qC=function(n){return{name:"color",properties:{rawMap:{rgb:Cp(n||"#000000")}}}},b4e={getTemplate:function(n){var t=n.left,e=n.right,r=n.top,i=n.bottom,o=n.diagonal,a=t?[qC(t.color)]:void 0,s=e?[qC(e.color)]:void 0,l=r?[qC(r.color)]:void 0,u=i?[qC(i.color)]:void 0,c=o?[qC(o.color)]:void 0;return{name:"border",children:[{name:"left",properties:{rawMap:{style:t&&t.style}},children:a},{name:"right",properties:{rawMap:{style:e&&e.style}},children:s},{name:"top",properties:{rawMap:{style:r&&r.style}},children:l},{name:"bottom",properties:{rawMap:{style:i&&i.style}},children:u},{name:"diagonal",properties:{rawMap:{style:o&&o.style}},children:c}]}}},E4e={getTemplate:function(n){return{name:"borders",properties:{rawMap:{count:n.length}},children:n.map(function(t){return b4e.getTemplate(t)})}}},O4e=function(n){var t=["Context","LeftToRight","RightToLeft"],e=t.indexOf(n);return Math.max(e,0)},R4e={getTemplate:function(n){var t=n.horizontal,e=n.indent,r=n.readingOrder,i=n.rotate,o=n.shrinkToFit,a=n.vertical,s=n.wrapText;return{name:"alignment",properties:{rawMap:{horizontal:t&&_4e(t),indent:e,readingOrder:r&&O4e(r),textRotation:i,shrinkToFit:o,vertical:a&&x4e(a),wrapText:s}}}}},T4e={getTemplate:function(n){var t=n.protected===!1?0:1,e=n.hideFormula===!0?1:0;return{name:"protection",properties:{rawMap:{hidden:e,locked:t}}}}},Gee={getTemplate:function(n){var t=n.alignment,e=n.borderId,r=n.fillId,i=n.fontId,o=n.numFmtId,a=n.protection,s=n.quotePrefix,l=n.xfId,u=[];return t&&u.push(R4e.getTemplate(t)),a&&u.push(T4e.getTemplate(a)),{name:"xf",properties:{rawMap:{applyAlignment:t?1:void 0,applyProtection:a?1:void 0,applyBorder:e?1:void 0,applyFill:r?1:void 0,borderId:e,fillId:r,applyFont:i?1:void 0,fontId:i,applyNumberFormat:o?1:void 0,numFmtId:o,quotePrefix:s?1:void 0,xfId:l}},children:u.length?u:void 0}}},P4e={getTemplate:function(n){return{name:"cellStyleXfs",properties:{rawMap:{count:n.length}},children:n.map(function(t){return Gee.getTemplate(t)})}}},D4e={getTemplate:function(n){return{name:"cellXfs",properties:{rawMap:{count:n.length}},children:n.map(function(t){return Gee.getTemplate(t)})}}},A4e={getTemplate:function(n){var t=n.builtinId,e=n.name,r=n.xfId;return{name:"cellStyle",properties:{rawMap:{builtinId:t,name:e,xfId:r}}}}},M4e={getTemplate:function(n){return{name:"cellStyles",properties:{rawMap:{count:n.length}},children:n.map(function(t){return A4e.getTemplate(t)})}}},eT=function(){return eT=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},eT.apply(this,arguments)},tT,qg,xw,bw,Ew,Vee,rT,Bee,z1,jee=function(n,t){return n.indexOf("mixedStyle")!==-1&&t>1&&(n+="_".concat(t)),n},Hee=function(){tT={base:0},qg=[],xw=[{fontName:"Calibri",colorTheme:"1",family:"2",scheme:"minor"}],bw=[{patternType:"none"},{patternType:"gray125"}],Ew=[{left:void 0,right:void 0,top:void 0,bottom:void 0,diagonal:void 0}],Vee=[{borderId:0,fillId:0,fontId:0,numFmtId:0}],rT=[{borderId:0,fillId:0,fontId:0,numFmtId:0,xfId:0}],Bee=[{builtinId:0,name:"Normal",xfId:0}]},L4e=function(n){var t=w4e(n.pattern),e=Cp(n.color),r=Cp(n.patternColor),i=bw.findIndex(function(o){var a=o.patternType,s=o.fgRgb,l=o.bgRgb;return!(a!=t||s!=e||l!=r)});return i===-1&&(i=bw.length,bw.push({patternType:t,fgRgb:e,bgRgb:r})),i},F4e=function(n){if(P4[n])return P4[n];var t=qg.findIndex(function(e){return e.formatCode===n});return t===-1?(t=qg.length+164,qg.push({formatCode:n,numFmtId:t})):t=qg[t].numFmtId,t},I4e=function(n){var t=n.borderBottom,e=n.borderTop,r=n.borderLeft,i=n.borderRight,o,a,s,l,u,c,d,p;r&&(s=Vb(r.lineStyle,r.weight),d=Cp(r.color)),i&&(l=Vb(i.lineStyle,i.weight),p=Cp(i.color)),t&&(o=Vb(t.lineStyle,t.weight),u=Cp(t.color)),e&&(a=Vb(e.lineStyle,e.weight),c=Cp(e.color));var h=Ew.findIndex(function(f){var v=f.left,g=f.right,m=f.top,y=f.bottom;if(!v&&(s||d)||!g&&(l||p)||!m&&(a||c)||!y&&(o||u))return!1;var C=v||{},S=C.style,w=C.color,_=g||{},x=_.style,E=_.color,R=m||{},P=R.style,A=R.color,N=y||{},I=N.style,G=N.color;return!(S!=s||w!=d||x!=l||E!=p||P!=a||A!=c||I!=o||G!=u)});return h===-1&&(h=Ew.length,Ew.push({left:{style:s,color:d},right:{style:l,color:p},top:{style:a,color:c},bottom:{style:o,color:u},diagonal:{style:void 0,color:void 0}})),h},N4e=function(n){var t=n.fontName,e=t===void 0?"Calibri":t,r=n.color,i=n.size,o=n.bold,a=n.italic,s=n.outline,l=n.shadow,u=n.strikeThrough,c=n.underline,d=n.family,p=n.verticalAlign,h=Cp(r),f=kze(d),v=c?c.toLocaleLowerCase():void 0,g=p?p.toLocaleLowerCase():void 0,m=xw.findIndex(function(y){return!(y.fontName!=e||y.color!=h||y.size!=i||y.bold!=o||y.italic!=a||y.outline!=s||y.shadow!=l||y.strikeThrough!=u||y.underline!=v||y.verticalAlign!=g||y.family!=f)});return m===-1&&(m=xw.length,xw.push({fontName:e,color:h,size:i,bold:o,italic:a,outline:s,shadow:l,strikeThrough:u,underline:v,verticalAlign:g,family:f!=null?f.toString():void 0})),m},k4e=function(n){var t=n.alignment,e=n.borders,r=n.font,i=n.interior,o=n.numberFormat,a=n.protection,s=n.quotePrefix,l=n.id,u=0,c=0,d=0,p=0;l&&(l=jee(l,z1),tT[l]==null&&(i&&(u=L4e(i)),e&&(c=I4e(e)),r&&(d=N4e(r)),o&&(p=F4e(o.format)),tT[l]=rT.length,rT.push({alignment:t,borderId:c||0,fillId:u||0,fontId:d||0,numFmtId:p||0,protection:a,quotePrefix:s,xfId:0})))},G4e={getTemplate:function(n){var t=c4e.getTemplate(qg),e=p4e.getTemplate(xw.map(function(l){return eT(eT({},l),{size:l.size!=null?l.size:n})})),r=f4e.getTemplate(bw),i=E4e.getTemplate(Ew),o=P4e.getTemplate(Vee),a=D4e.getTemplate(rT),s=M4e.getTemplate(Bee);return Hee(),{name:"styleSheet",properties:{rawMap:{"mc:Ignorable":"x14ac x16r2 xr",xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision"}},children:[t,e,r,i,o,a,s,{name:"tableStyles",properties:{rawMap:{count:0,defaultPivotStyle:"PivotStyleLight16",defaultTableStyle:"TableStyleMedium2"}}}]}}},V4e=function(n,t){return tT[jee(n,t)]||0},B4e=function(n,t){z1=t,z1===1&&Hee(),n.forEach(k4e)},j4e={getTemplate:function(n,t){var e=(t+1).toString();return{name:"sheet",properties:{rawMap:{name:n,sheetId:e,"r:id":"rId".concat(e)}}}}},H4e={getTemplate:function(n){return{name:"sheets",children:n.map(function(t,e){return j4e.getTemplate(t,e)})}}},$4e={getTemplate:function(n){return{name:"workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:[H4e.getTemplate(n)]}}},W4e=function(n){return Math.ceil((n-12)/7+1)},U4e={getTemplate:function(n){var t=n.min,e=n.max,r=n.outlineLevel,i=n.s,o=n.width,a=n.hidden,s=n.bestFit,l=1,u="0";return o>1&&(l=W4e(o),u="1"),{name:"col",properties:{rawMap:{min:t,max:e,outlineLevel:r??void 0,width:l,style:i,hidden:a?"1":"0",bestFit:s?"1":"0",customWidth:u}}}}},z4e=function(n){var t=n.charAt(0).toLowerCase();return t==="s"?"inlineStr":t},K4e={getTemplate:function(n,t,e){var r=n.ref,i=n.data,o=n.styleId,a=i||{type:"empty",value:null},s=a.type,l=a.value,u=s;s==="f"?u="str":s.charAt(0)===s.charAt(0).toUpperCase()&&(u=z4e(s));var c={name:"c",properties:{rawMap:{r,t:u==="empty"?void 0:u,s:o?V4e(o,e):void 0}}};if(u==="empty")return c;var d;return u==="str"&&s==="f"?d=[{name:"f",textNode:F.escapeString(l)}]:u==="inlineStr"?d=[{name:"is",children:[{name:"t",textNode:F.escapeString(l)}]}]:d=[{name:"v",textNode:l}],Object.assign({},c,{children:d})}},Y4e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},q4e=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},X4e=function(n,t){for(var e=[],r=0,i=0;i<n.length;i++){var o=n[i];o.mergeAcross&&(e.push({pos:i,excelPos:r}),r+=o.mergeAcross),r++}if(e.length)for(var i=e.length-1;i>=0;i--){for(var a=[],o=n[e[i].pos],s=1;s<=o.mergeAcross;s++)a.push({ref:"".concat(E0(e[i].excelPos+1+s)).concat(t+1),styleId:o.styleId,data:{type:"empty",value:null}});a.length&&n.splice.apply(n,q4e([e[i].pos+1,0],Y4e(a),!1))}},Z4e=function(n){var t;return((t=n.data)===null||t===void 0?void 0:t.value)!==""||n.styleId!==void 0},Q4e={getTemplate:function(n,t,e){var r=n.collapsed,i=n.hidden,o=n.height,a=n.outlineLevel,s=n.cells,l=s===void 0?[]:s;X4e(l,t);var u=l.filter(Z4e).map(function(c,d){return K4e.getTemplate(c,d,e)});return{name:"row",properties:{rawMap:{r:t+1,collapsed:r?"1":"0",hidden:i?"1":"0",ht:o,customHeight:o!=null?"1":"0",spans:"1:1",outlineLevel:a||void 0}},children:u}}},J4e={getTemplate:function(n){return{name:"mergeCell",properties:{rawMap:{ref:n}}}}},e5e=function(n,t,e){var r=[],i=[];n.forEach(function(s,l){var u=s.cells,c=0,d;u.forEach(function(p,h){var f=h+c+1,v=E0(f),g=l+1;if(p.mergeAcross){c+=p.mergeAcross;var m=E0(h+c+1);r.push("".concat(v).concat(g,":").concat(m).concat(g))}t[f-1]||(t[f-1]={});var y=p.collapsibleRanges;y&&y.forEach(function(C){i.push([f+C[0],f+C[1]])}),d=t[f-1],d.min=f,d.max=f,p.ref="".concat(v).concat(g)})}),i.sort(function(s,l){return s[0]!==l[0]?s[0]-l[0]:l[1]-s[1]});var o=new Map,a=new Map;return i.filter(function(s){var l=s.toString(),u=o.get(l);return u?!1:(o.set(l,!0),!0)}).forEach(function(s){var l=t.find(function(c){return c.min==s[0]&&c.max==s[1]}),u=a.get(s[0]);t.push({min:s[0],max:s[1],outlineLevel:e?void 0:u||1,width:(l||{width:100}).width}),a.set(s[0],(u||0)+1)}),r},t5e=function(n){return!n||n!=="Portrait"&&n!=="Landscape"?"portrait":n.toLocaleLowerCase()},r5e=function(n){if(n==null)return 1;var t=["Letter","Letter Small","Tabloid","Ledger","Legal","Statement","Executive","A3","A4","A4 Small","A5","A6","B4","B5","Folio","Envelope","Envelope DL","Envelope C5","Envelope B5","Envelope C3","Envelope C4","Envelope C6","Envelope Monarch","Japanese Postcard","Japanese Double Postcard"],e=t.indexOf(n);return e===-1?1:e+1},n5e=function(n){return function(t){return n.length&&t.push({name:"cols",children:n.map(function(e){return U4e.getTemplate(e)})}),t}},i5e=function(n,t){return function(e){return n.length&&e.push({name:"sheetData",children:n.map(function(r,i){return Q4e.getTemplate(r,i,t)})}),e}},o5e=function(n){return function(t){return n.length&&t.push({name:"mergeCells",properties:{rawMap:{count:n.length}},children:n.map(function(e){return J4e.getTemplate(e)})}),t}},a5e=function(n){return function(t){var e=n.top,r=e===void 0?.75:e,i=n.right,o=i===void 0?.7:i,a=n.bottom,s=a===void 0?.75:a,l=n.left,u=l===void 0?.7:l,c=n.header,d=c===void 0?.3:c,p=n.footer,h=p===void 0?.3:p;return t.push({name:"pageMargins",properties:{rawMap:{bottom:s,footer:h,header:d,left:u,right:o,top:r}}}),t}},s5e=function(n){return function(t){return n&&t.push({name:"pageSetup",properties:{rawMap:{horizontalDpi:0,verticalDpi:0,orientation:t5e(n.orientation),paperSize:r5e(n.pageSize)}}}),t}},l5e=function(n){var t={"&[Page]":"&P","&[Pages]":"&N","&[Date]":"&D","&[Time]":"&T","&[Tab]":"&A","&[Path]":"&Z","&[File]":"&F"};return F.iterateObject(t,function(e,r){n=n.replace(e,r)}),n},u5e=function(n){return n==="Center"?"C":n==="Right"?"R":"L"},c5e=function(n,t){return t&&(n+="&amp;&quot;",n+=t.fontName||"Calibri",t.bold!==t.italic?n+=t.bold?",Bold":",Italic":t.bold?n+=",Bold Italic":n+=",Regular",n+="&quot;",t.size&&(n+="&amp;".concat(t.size)),t.strikeThrough&&(n+="&amp;S"),t.underline&&(n+="&amp;".concat(t.underline==="Double"?"E":"U")),t.color&&(n+="&amp;K".concat(t.color.replace("#","").toUpperCase()))),n},d5e=function(n){return n.reduce(function(t,e){var r=u5e(e.position),i=c5e("".concat(t,"&amp;").concat(r),e.font);return"".concat(i).concat(F.escapeString(l5e(e.value)))},"")},p5e=function(n){var t=["all","first","even"],e=[];return t.forEach(function(r){var i=n[r],o=r==="all"?"odd":r;!i||!i.header&&!i.footer||F.iterateObject(i,function(a,s){var l="".concat(a.charAt(0).toUpperCase()).concat(a.slice(1));s&&e.push({name:"".concat(o).concat(l),properties:{rawMap:{"xml:space":"preserve"}},textNode:d5e(s)})})}),e},h5e=function(n){return function(t){if(!n)return t;var e=n.first!=null?1:0,r=n.even!=null?1:0;return t.push({name:"headerFooter",properties:{rawMap:{differentFirst:e,differentOddEven:r}},children:p5e(n)}),t}},f5e=function(n){return function(t){return Br.worksheetImages.get(n)&&t.push({name:"drawing",properties:{rawMap:{"r:id":"rId1"}}}),t}},v5e=function(){return function(n){return n.push({name:"sheetPr",children:[{name:"outlinePr",properties:{rawMap:{summaryBelow:0}}}]}),n}},g5e=function(n){return function(t){var e=n.reduce(function(r,i){return i.outlineLevel&&i.outlineLevel>r?i.outlineLevel:r},0);return t.push({name:"sheetFormatPr",properties:{rawMap:{baseColWidth:10,defaultRowHeight:16,outlineLevelRow:e||void 0}}}),t}},m5e={getTemplate:function(n){var t=n.worksheet,e=n.currentSheet,r=n.config,i=r.margins,o=i===void 0?{}:i,a=r.pageSetup,s=r.headerFooterConfig,l=r.suppressColumnOutline,u=t.table,c=u.rows,d=u.columns,p=d&&d.length?e5e(c,d,!!l):[],h=F.compose(v5e(),g5e(c),n5e(d),i5e(c,e+1),o5e(p),a5e(o),s5e(a),h5e(s),f5e(e)),f=h([]);return{name:"worksheet",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:f}}},y5e={getTemplate:function(n){var t=n.Id,e=n.Type,r=n.Target;return{name:"Relationship",properties:{rawMap:{Id:t,Type:e,Target:r}}}}},Bb={getTemplate:function(n){var t=n.map(function(e){return y5e.getTemplate(e)});return{name:"Relationships",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}},children:t}}},C5e=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},M4=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},Br=function(){function n(){}return n.createExcel=function(t,e,r){return this.addSheetName(e),B4e(t,this.sheetNames.length),this.createWorksheet(e,r)},n.buildImageMap=function(t,e,r,i,o){var a=this.sheetNames.length,s=this.images.get(t.id);(!t.position||!t.position.row||!t.position.column)&&(t.position||(t.position={}),t.position=Object.assign({},t.position,{row:e,column:i.indexOf(r)+1}));var l=t;if(Gze(l,i),Vze(l,o),s){var u=s.find(function(c){return c.sheetId===a});u?u.image.push(l):s.push({sheetId:a,image:[l]})}else this.images.set(l.id,[{sheetId:a,image:[l]}]),this.workbookImageIds.set(l.id,{type:l.imageType,index:this.workbookImageIds.size});this.buildSheetImageMap(a,l)},n.buildSheetImageMap=function(t,e){var r=this.worksheetImageIds.get(t);r||(r=new Map,this.worksheetImageIds.set(t,r));var i=this.worksheetImages.get(t);i?(i.push(e),r.get(e.id)||r.set(e.id,{index:r.size,type:e.imageType})):(this.worksheetImages.set(t,[e]),r.set(e.id,{index:0,type:e.imageType}))},n.addSheetName=function(t){for(var e=F.escapeString(t.name)||"",r="";this.sheetNames.indexOf("".concat(e).concat(r))!==-1;)if(r==="")r="_1";else{var i=parseInt(r.slice(1),10);r="_".concat(i+1)}t.name="".concat(e).concat(r),this.sheetNames.push(t.name)},n.getStringPosition=function(t){return this.sharedStrings.has(t)?this.sharedStrings.get(t):(this.sharedStrings.set(t,this.sharedStrings.size),this.sharedStrings.size-1)},n.resetFactory=function(){this.sharedStrings=new Map,this.images=new Map,this.worksheetImages=new Map,this.workbookImageIds=new Map,this.worksheetImageIds=new Map,this.sheetNames=[],this.factoryMode=pv.SINGLE_SHEET},n.createWorkbook=function(){return gs($4e.getTemplate(this.sheetNames))},n.createStylesheet=function(t){return gs(G4e.getTemplate(t))},n.createSharedStrings=function(){return gs(s4e.getTemplate(this.sharedStrings))},n.createCore=function(t){return gs(Aze.getTemplate(t))},n.createContentTypes=function(t){return gs(Lze.getTemplate(t))},n.createRels=function(){var t=Bb.getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Target:"xl/workbook.xml"},{Id:"rId2",Type:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",Target:"docProps/core.xml"}]);return gs(t)},n.createTheme=function(){return gs(i4e.getTemplate())},n.createWorkbookRels=function(t){var e=new Array(t).fill(void 0).map(function(i,o){return{Id:"rId".concat(o+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",Target:"worksheets/sheet".concat(o+1,".xml")}}),r=Bb.getTemplate(M4(M4([],C5e(e),!1),[{Id:"rId".concat(t+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Target:"theme/theme1.xml"},{Id:"rId".concat(t+2),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Target:"styles.xml"},{Id:"rId".concat(t+3),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Target:"sharedStrings.xml"}],!1));return gs(r)},n.createDrawing=function(t){return gs(Kze.getTemplate({sheetIndex:t}))},n.createDrawingRel=function(t){var e=this,r=this.worksheetImageIds.get(t),i=[];return r.forEach(function(o,a){i.push({Id:"rId".concat(o.index+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:"../media/image".concat(e.workbookImageIds.get(a).index+1,".").concat(o.type)})}),gs(Bb.getTemplate(i))},n.createWorksheetDrawingRel=function(t){var e=Bb.getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:"../drawings/drawing".concat(t+1,".xml")}]);return gs(e)},n.createWorksheet=function(t,e){return gs(m5e.getTemplate({worksheet:t,currentSheet:this.sheetNames.length-1,config:e}))},n.sharedStrings=new Map,n.sheetNames=[],n.images=new Map,n.worksheetImages=new Map,n.workbookImageIds=new Map,n.worksheetImageIds=new Map,n.factoryMode=pv.SINGLE_SHEET,n}(),S5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),nT=function(){return nT=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},nT.apply(this,arguments)},L4=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},jL=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},F4=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},w5e=function(n){S5e(t,n);function t(e){var r=n.call(this,e)||this;return r.mixedStyles={},r.mixedStyleCounter=0,r.rows=[],r.config=Object.assign({},e),r.stylesByIds={},r.config.baseExcelStyles.forEach(function(i){r.stylesByIds[i.id]=i}),r.excelStyles=jL(jL([],L4(r.config.baseExcelStyles),!1),[{id:"_quotePrefix",quotePrefix:1}],!1),r}return t.prototype.addCustomContent=function(e){var r=this;e.forEach(function(i){var o=r.rows.length+1,a;!r.config.suppressRowOutline&&i.outlineLevel!=null&&(a=i.outlineLevel);var s={height:ZE(o,i.height||r.config.rowHeight),cells:(i.cells||[]).map(function(l,u){var c,d,p,h=r.addImage(o,r.columnsToExport[u],(c=l.data)===null||c===void 0?void 0:c.value),f=null;l.styleId&&(f=typeof l.styleId=="string"?[l.styleId]:l.styleId);var v=r.getStyleId(f);if(h)return r.createCell(v,r.getDataTypeForValue(h.value),h.value==null?"":h.value);var g=(p=(d=l.data)===null||d===void 0?void 0:d.value)!==null&&p!==void 0?p:"",m=r.getDataTypeForValue(g);return l.mergeAcross?r.createMergedCell(v,m,g,l.mergeAcross):r.createCell(v,m,g)}),outlineLevel:a};i.collapsed!=null&&(s.collapsed=i.collapsed),i.hidden!=null&&(s.hidden=i.hidden),r.rows.push(s)})},t.prototype.onNewHeaderGroupingRow=function(){var e=this,r=[];return this.rows.push({cells:r,height:ZE(this.rows.length+1,this.config.headerRowHeight)}),{onColumn:function(i,o,a,s,l){var u=e.config.styleLinker({rowType:Ip.HEADER_GROUPING,rowIndex:1,value:"grouping-".concat(o),columnGroup:i});r.push(nT(nT({},e.createMergedCell(e.getStyleId(u),e.getDataTypeForValue("string"),o,s)),{collapsibleRanges:l}))}}},t.prototype.onNewHeaderRow=function(){return this.onNewRow(this.onNewHeaderColumn,this.config.headerRowHeight)},t.prototype.onNewBodyRow=function(e){var r=this.onNewRow(this.onNewBodyColumn,this.config.rowHeight);return e&&this.addRowOutlineIfNecessary(e),r},t.prototype.prepare=function(e){var r=this;n.prototype.prepare.call(this,e),this.columnsToExport=jL([],L4(e),!1),this.cols=e.map(function(i,o){return r.convertColumnToExcel(i,o)})},t.prototype.parse=function(){for(var e=this.rows.reduce(function(i,o){return Math.max(i,o.cells.length)},0);this.cols.length<e;)this.cols.push(this.convertColumnToExcel(null,this.cols.length+1));var r={name:this.config.sheetName,table:{columns:this.cols,rows:this.rows}};return this.createExcel(r)},t.prototype.addRowOutlineIfNecessary=function(e){var r=this.config,i=r.gridOptionsService,o=r.suppressRowOutline,a=r.rowGroupExpandState,s=a===void 0?"expanded":a,l=i.get("groupHideOpenParents");if(!(l||o||e.level==null)){var u=e.footer?1:0,c=F.last(this.rows);if(c.outlineLevel=e.level+u,s!=="expanded"){var d=s==="collapsed";if(e.isExpandable()){var p=!d&&e.expanded;c.collapsed=!p}c.hidden=!!e.parent&&e.parent.level!==-1&&(d||this.isAnyParentCollapsed(e.parent))}}},t.prototype.isAnyParentCollapsed=function(e){for(;e&&e.level!==-1;){if(!e.expanded)return!0;e=e.parent}return!1},t.prototype.convertColumnToExcel=function(e,r){var i=this.config.columnWidth;if(i)return typeof i=="number"?{width:i}:{width:i({column:e,index:r})};if(e){var o=75;return{width:Math.max(e.getActualWidth(),o)}}return{}},t.prototype.onNewHeaderColumn=function(e,r){var i=this;return function(o,a){var s=i.extractHeaderValue(o),l=i.config.styleLinker({rowType:Ip.HEADER,rowIndex:e,value:s,column:o});r.push(i.createCell(i.getStyleId(l),i.getDataTypeForValue("string"),s))}},t.prototype.onNewBodyColumn=function(e,r){var i=this,o=0;return function(a,s,l){if(o>0){o-=1;return}var u=i.extractRowCellValue(a,s,e,"excel",l),c=u.value,d=u.valueFormatted,p=i.config.styleLinker({rowType:Ip.BODY,rowIndex:e,value:c,column:a,node:l}),h=i.getStyleId(p),f=a.getColSpan(l),v=i.addImage(e,a,c);v?r.push(i.createCell(h,i.getDataTypeForValue(v.value),v.value==null?"":v.value)):f>1?(o=f-1,r.push(i.createMergedCell(h,i.getDataTypeForValue(c),c,f-1))):r.push(i.createCell(h,i.getDataTypeForValue(c),c,d))}},t.prototype.onNewRow=function(e,r){var i=[];return this.rows.push({cells:i,height:ZE(this.rows.length+1,r)}),{onColumn:e.bind(this,this.rows.length,i)()}},t.prototype.createExcel=function(e){var r=this,i=r.excelStyles,o=r.config;return Br.createExcel(i,e,o)},t.prototype.getDataTypeForValue=function(e){return e===void 0?"empty":this.isNumerical(e)?"n":"s"},t.prototype.getTypeFromStyle=function(e,r){if(this.isFormula(r))return"f";if(e&&e.dataType)switch(e.dataType.toLocaleLowerCase()){case"formula":return"f";case"string":return"s";case"number":return"n";case"datetime":return"d";case"error":return"e";case"boolean":return"b";default:console.warn("AG Grid: Unrecognized data type for excel export [".concat(e.id,".dataType=").concat(e.dataType,"]"))}return null},t.prototype.addImage=function(e,r,i){if(this.config.addImageToCell){var o=this.config.addImageToCell(e,r,i);if(o)return Br.buildImageMap(o.image,e,r,this.columnsToExport,this.config.rowHeight),o}},t.prototype.createCell=function(e,r,i,o){var a=this.getStyleById(e);!(a!=null&&a.dataType)&&r==="s"&&o&&(i=o);var s=this.getTypeFromStyle(a,i)||r,l=this.getCellValue(s,i),u=l.value,c=l.escaped,d=[];return a&&d.push(e),c&&d.push("_quotePrefix"),e=this.getStyleId(d)||void 0,{styleId:e,data:{type:s,value:u}}},t.prototype.createMergedCell=function(e,r,i,o){var a=i??"";return{styleId:this.getStyleById(e)?e:void 0,data:{type:r,value:r==="s"?Br.getStringPosition(a).toString():i},mergeAcross:o}},t.prototype.getCellValue=function(e,r){var i=!1;return r==null&&(e="s",r=""),e==="s"?(r&&r[0]==="'"&&(i=!0,r=r.slice(1)),r=Br.getStringPosition(r).toString()):e==="f"?r=r.slice(1):e==="n"&&(r=Number(r).toString()),{value:r,escaped:i}},t.prototype.getStyleId=function(e){if(!e||!e.length)return null;if(e.length===1)return e[0];var r=e.join("-");return this.mixedStyles[r]||this.addNewMixedStyle(e),this.mixedStyles[r].excelID},t.prototype.deepCloneObject=function(e){return JSON.parse(JSON.stringify(e))},t.prototype.addNewMixedStyle=function(e){var r,i,o,a;this.mixedStyleCounter+=1;var s="mixedStyle".concat(this.mixedStyleCounter),l={};try{for(var u=F4(e),c=u.next();!c.done;c=u.next()){var d=c.value;try{for(var p=(o=void 0,F4(this.excelStyles)),h=p.next();!h.done;h=p.next()){var f=h.value;f.id===d&&F.mergeDeep(l,this.deepCloneObject(f))}}catch(g){o={error:g}}finally{try{h&&!h.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}}}catch(g){r={error:g}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}l.id=s,l.name=s;var v=e.join("-");this.mixedStyles[v]={excelID:s,key:v,result:l},this.excelStyles.push(l),this.stylesByIds[s]=l},t.prototype.isFormula=function(e){return e==null?!1:this.config.autoConvertFormulas&&e.toString().startsWith("=")},t.prototype.isNumerical=function(e){return typeof e=="bigint"?!0:isFinite(e)&&e!==""&&!isNaN(parseFloat(e))},t.prototype.getStyleById=function(e){return e==null?null:this.stylesByIds[e]||null},t}(TB),_5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),iT=function(){return iT=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},iT.apply(this,arguments)},bc=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},x5e=function(){if(xi.addFolders(["_rels/","docProps/","xl/","xl/theme/","xl/_rels/","xl/worksheets/"]),!!Br.images.size){xi.addFolders(["xl/worksheets/_rels","xl/drawings/","xl/drawings/_rels","xl/media/"]);var n=0;Br.images.forEach(function(t){var e=t[0].image[0],r=e.imageType;xi.addFile("xl/media/image".concat(++n,".").concat(r),e.base64,!0)})}},b5e=function(n){var t=0;n.forEach(function(e,r){xi.addFile("xl/worksheets/sheet".concat(r+1,".xml"),e,!1),Br.images.size&&Br.worksheetImages.get(r)&&R5e(r,t++)})},E5e=function(n,t,e){xi.addFile("xl/workbook.xml",Br.createWorkbook()),xi.addFile("xl/styles.xml",Br.createStylesheet(n)),xi.addFile("xl/sharedStrings.xml",Br.createSharedStrings()),xi.addFile("xl/theme/theme1.xml",Br.createTheme()),xi.addFile("xl/_rels/workbook.xml.rels",Br.createWorkbookRels(e)),xi.addFile("docProps/core.xml",Br.createCore(t)),xi.addFile("[Content_Types].xml",Br.createContentTypes(e)),xi.addFile("_rels/.rels",Br.createRels())},$ee=function(n,t,e){return t===void 0&&(t=11),e===void 0&&(e="AG Grid"),n&&n.length>0?(x5e(),b5e(n),E5e(t,e,n.length)):console.warn("AG Grid: Invalid params supplied to getMultipleSheetsAsExcel() - `ExcelExportParams.data` is empty."),Br.resetFactory(),!(!n||n.length===0)},Wee=function(n){var t=n.data,e=n.fontSize,r=n.author,i=n.mimeType||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";return $ee(t,e,r)?xi.getZipFile(i):Promise.resolve(void 0)},I4=function(n){var t=n.data,e=n.fontSize,r=n.author,i=n.mimeType||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";if($ee(t,e,r))return xi.getUncompressedZipFile(i)},O5e=function(n){var t=n.fileName,e=t===void 0?"export.xlsx":t;Wee(n).then(function(r){if(r){var i=typeof e=="function"?e():e;vD.download(i,r)}})},R5e=function(n,t){var e="xl/drawings",r="".concat(e,"/drawing").concat(t+1,".xml"),i="".concat(e,"/_rels/drawing").concat(t+1,".xml.rels"),o="xl/worksheets/_rels/sheet".concat(n+1,".xml.rels");xi.addFile(i,Br.createDrawingRel(n)),xi.addFile(r,Br.createDrawing(n)),xi.addFile(o,Br.createWorksheetDrawingRel(t))},T5e=function(n){_5e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})},t.prototype.getMergedParams=function(e){var r=this.gridOptionsService.get("defaultExcelExportParams");return Object.assign({},r,e)},t.prototype.export=function(e){var r=this;if(this.isExportSuppressed()){console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration.");return}var i=this.getMergedParams(e),o=this.getData(i),a={data:[o],fontSize:i.fontSize,author:i.author,mimeType:i.mimeType};this.packageCompressedFile(a).then(function(s){if(s){var l=i.fileName,u=typeof l=="function"?l(r.gridOptionsService.getGridCommonParams()):l;vD.download(r.getFileName(u),s)}})},t.prototype.exportDataAsExcel=function(e){this.export(e)},t.prototype.getDataAsExcel=function(e){var r=this.getMergedParams(e),i=this.getData(r),o={data:[i],fontSize:r.fontSize,author:r.author,mimeType:r.mimeType};return this.packageFile(o)},t.prototype.setFactoryMode=function(e){Br.factoryMode=e},t.prototype.getFactoryMode=function(){return Br.factoryMode},t.prototype.getSheetDataForExcel=function(e){var r=this.getMergedParams(e),i=this.getData(r);return i},t.prototype.getMultipleSheetsAsExcel=function(e){return I4(e)},t.prototype.exportMultipleSheetsAsExcel=function(e){O5e(e)},t.prototype.getDefaultFileExtension=function(){return"xlsx"},t.prototype.createSerializingSession=function(e){var r=this,i=r.columnModel,o=r.valueService,a=r.gridOptionsService,s=r.valueFormatterService,l=r.valueParserService,u;if(e.sheetName!=null){var c=e.sheetName,d=typeof c=="function"?c(this.gridOptionsService.getGridCommonParams()):c;u=String(d).substring(0,31)}else u="ag-grid";var p=iT(iT({},e),{sheetName:u,columnModel:i,valueService:o,gridOptionsService:a,valueFormatterService:s,valueParserService:l,suppressRowOutline:e.suppressRowOutline||e.skipRowGroups,headerRowHeight:e.headerRowHeight||e.rowHeight,baseExcelStyles:this.gridOptionsService.get("excelStyles")||[],styleLinker:this.styleLinker.bind(this)});return new w5e(p)},t.prototype.styleLinker=function(e){var r=e.rowType,i=e.rowIndex,o=e.value,a=e.column,s=e.columnGroup,l=e.node,u=r===Ip.HEADER,c=r===Ip.HEADER_GROUPING,d=u?a:s,p=[];if(u||c)return p.push("header"),c&&p.push("headerGroup"),d&&(p=p.concat(fh.getHeaderClassesFromColDef(d.getDefinition(),this.gridOptionsService,a||null,s||null))),p;var h=this.gridOptionsService.get("excelStyles"),f=["cell"];if(!h||!h.length)return f;var v=h.map(function(g){return g.id});return this.stylingService.processAllCellClasses(a.getDefinition(),this.gridOptionsService.addGridCommonParams({value:o,data:l.data,node:l,colDef:a.getDefinition(),column:a,rowIndex:i}),function(g){v.indexOf(g)>-1&&f.push(g)}),f.sort(function(g,m){return v.indexOf(g)<v.indexOf(m)?-1:1})},t.prototype.isExportSuppressed=function(){return this.gridOptionsService.get("suppressExcelExport")},t.prototype.packageCompressedFile=function(e){return Wee(e)},t.prototype.packageFile=function(e){return I4(e)},bc([O("columnModel")],t.prototype,"columnModel",void 0),bc([O("valueService")],t.prototype,"valueService",void 0),bc([O("stylingService")],t.prototype,"stylingService",void 0),bc([O("gridSerializer")],t.prototype,"gridSerializer",void 0),bc([O("gridOptionsService")],t.prototype,"gridOptionsService",void 0),bc([O("valueFormatterService")],t.prototype,"valueFormatterService",void 0),bc([O("valueParserService")],t.prototype,"valueParserService",void 0),bc([q],t.prototype,"postConstruct",null),t=bc([me("excelCreator")],t),t}(RB),P5e="31.1.1",D5e={version:P5e,moduleName:Te.ExcelExportModule,beans:[T5e,DB,PB],dependantModules:[gD,Pi]},A5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),XC=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Du;(function(n){n[n.EXPANDED=0]="EXPANDED",n[n.COLLAPSED=1]="COLLAPSED",n[n.INDETERMINATE=2]="INDETERMINATE"})(Du||(Du={}));var M5e=function(n){A5e(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.preConstruct=function(){this.setTemplate(`<div class="ag-filter-toolpanel-search" role="presentation">
                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>
                <ag-input-text-field ref="eFilterTextField" class="ag-filter-toolpanel-search-input"></ag-input-text-field>
            </div>`)},t.prototype.postConstruct=function(){var e=this.localeService.getLocaleTextFunc();this.eFilterTextField.setAutoComplete(!1).setInputAriaLabel(e("ariaFilterColumnsInput","Filter Columns Input")).onValueChange(this.onSearchTextChanged.bind(this)),this.createExpandIcons(),this.setExpandState(Du.EXPANDED),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this))},t.prototype.init=function(e){this.params=e,this.columnModel.isReady()&&this.showOrHideOptions()},t.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=F.createIconNoSpan("columnSelectOpen",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandUnchecked=F.createIconNoSpan("columnSelectClosed",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandIndeterminate=F.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsService))},t.prototype.showOrHideOptions=function(){var e=!this.params.suppressFilterSearch,r=!this.params.suppressExpandAll,i=this.localeService.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(i("searchOoo","Search..."));var o=function(s){return s.getOriginalParent()&&s.isFilterAllowed()},a=this.columnModel.getAllGridColumns().some(o);F.setDisplayed(this.eFilterTextField.getGui(),e),F.setDisplayed(this.eExpand,r&&a)},t.prototype.onSearchTextChanged=function(){var e=this;this.onSearchTextChangedDebounced||(this.onSearchTextChangedDebounced=F.debounce(function(){e.dispatchEvent({type:"searchChanged",searchText:e.eFilterTextField.getValue()})},300)),this.onSearchTextChangedDebounced()},t.prototype.onExpandClicked=function(){var e=this.currentExpandState===Du.EXPANDED?{type:"collapseAll"}:{type:"expandAll"};this.dispatchEvent(e)},t.prototype.setExpandState=function(e){this.currentExpandState=e,F.setDisplayed(this.eExpandChecked,this.currentExpandState===Du.EXPANDED),F.setDisplayed(this.eExpandUnchecked,this.currentExpandState===Du.COLLAPSED),F.setDisplayed(this.eExpandIndeterminate,this.currentExpandState===Du.INDETERMINATE)},XC([O("columnModel")],t.prototype,"columnModel",void 0),XC([U("eExpand")],t.prototype,"eExpand",void 0),XC([U("eFilterTextField")],t.prototype,"eFilterTextField",void 0),XC([uv],t.prototype,"preConstruct",null),XC([q],t.prototype,"postConstruct",null),t}(Ce),L5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zd=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Uee=function(n){L5e(t,n);function t(e,r){var i=n.call(this,t.TEMPLATE)||this;return i.expandedCallback=r,i.expanded=!1,i.hideHeader=e,i}return t.prototype.postConstruct=function(){this.eExpandChecked=F.createIconNoSpan("columnSelectOpen",this.gridOptionsService),this.eExpandUnchecked=F.createIconNoSpan("columnSelectClosed",this.gridOptionsService),this.eExpand.appendChild(this.eExpandChecked),this.eExpand.appendChild(this.eExpandUnchecked)},t.prototype.setColumn=function(e){var r=this;this.column=e,this.eFilterName.innerText=this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)||"",this.addManagedListener(this.eFilterToolPanelHeader,"click",this.toggleExpanded.bind(this)),this.addManagedListener(this.eFilterToolPanelHeader,"keydown",function(i){(i.key===K.ENTER||i.key===K.SPACE)&&(i.preventDefault(),r.toggleExpanded())}),this.addManagedListener(this.eventService,M.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this)),this.addInIcon("filter",this.eFilterIcon,this.column),F.setDisplayed(this.eFilterIcon,this.isFilterActive(),{skipAriaHidden:!0}),F.setDisplayed(this.eExpandChecked,!1),this.hideHeader?(F.setDisplayed(this.eFilterToolPanelHeader,!1),this.eFilterToolPanelHeader.removeAttribute("tabindex")):this.eFilterToolPanelHeader.setAttribute("tabindex","0"),this.addManagedListener(this.column,Rt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_FILTER_DESTROYED,this.onFilterDestroyed.bind(this))},t.prototype.getColumn=function(){return this.column},t.prototype.getColumnFilterName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)},t.prototype.addCssClassToTitleBar=function(e){this.eFilterToolPanelHeader.classList.add(e)},t.prototype.addInIcon=function(e,r,i){if(r!=null){var o=F.createIconNoSpan(e,this.gridOptionsService,i);r.appendChild(o)}},t.prototype.isFilterActive=function(){return this.filterManager.isFilterActive(this.column)},t.prototype.onFilterChanged=function(){F.setDisplayed(this.eFilterIcon,this.isFilterActive(),{skipAriaHidden:!0}),this.dispatchEvent({type:Rt.EVENT_FILTER_CHANGED})},t.prototype.onFilterDestroyed=function(e){this.expanded&&(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.columnModel.getPrimaryColumn(this.column)&&(this.removeFilterElement(),this.addFilterElement(!0))},t.prototype.toggleExpanded=function(){this.expanded?this.collapse():this.expand()},t.prototype.expand=function(){this.expanded||(this.expanded=!0,F.setAriaExpanded(this.eFilterToolPanelHeader,!0),F.setDisplayed(this.eExpandChecked,!0),F.setDisplayed(this.eExpandUnchecked,!1),this.addFilterElement(),this.expandedCallback())},t.prototype.addFilterElement=function(e){var r=this,i=F.loadTemplate('<div class="ag-filter-toolpanel-instance-filter"></div>'),o=this.filterManager.getOrCreateFilterWrapper(this.column,"TOOLBAR");if(o){var a=o.filterPromise,s=o.guiPromise;a==null||a.then(function(l){r.underlyingFilter=l,l&&s.then(function(u){u&&i.appendChild(u),r.agFilterToolPanelBody.appendChild(i),l.afterGuiAttached&&l.afterGuiAttached({container:"toolPanel",suppressFocus:e})})})}},t.prototype.collapse=function(){var e,r;this.expanded&&(this.expanded=!1,F.setAriaExpanded(this.eFilterToolPanelHeader,!1),this.removeFilterElement(),F.setDisplayed(this.eExpandChecked,!1),F.setDisplayed(this.eExpandUnchecked,!0),(r=(e=this.underlyingFilter)===null||e===void 0?void 0:e.afterGuiDetached)===null||r===void 0||r.call(e),this.expandedCallback())},t.prototype.removeFilterElement=function(){F.clearElement(this.agFilterToolPanelBody)},t.prototype.isExpanded=function(){return this.expanded},t.prototype.refreshFilter=function(e){var r;if(this.expanded){var i=this.underlyingFilter;i&&(e?typeof i.refreshVirtualList=="function"&&i.refreshVirtualList():(r=i.afterGuiDetached)===null||r===void 0||r.call(i))}},t.prototype.onFilterOpened=function(e){e.source==="COLUMN_MENU"&&e.column===this.column&&this.expanded&&this.collapse()},t.TEMPLATE=`
        <div class="ag-filter-toolpanel-instance">
            <div class="ag-filter-toolpanel-header ag-filter-toolpanel-instance-header" ref="eFilterToolPanelHeader" role="button" aria-expanded="false">
                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>
                <span ref="eFilterName" class="ag-header-cell-text"></span>
                <span ref="eFilterIcon" class="ag-header-icon ag-filter-icon ag-filter-toolpanel-instance-header-icon" aria-hidden="true"></span>
            </div>
            <div class="ag-filter-toolpanel-instance-body ag-filter" ref="agFilterToolPanelBody"></div>
        </div>`,zd([U("eFilterToolPanelHeader")],t.prototype,"eFilterToolPanelHeader",void 0),zd([U("eFilterName")],t.prototype,"eFilterName",void 0),zd([U("agFilterToolPanelBody")],t.prototype,"agFilterToolPanelBody",void 0),zd([U("eFilterIcon")],t.prototype,"eFilterIcon",void 0),zd([U("eExpand")],t.prototype,"eExpand",void 0),zd([O("filterManager")],t.prototype,"filterManager",void 0),zd([O("columnModel")],t.prototype,"columnModel",void 0),zd([q],t.prototype,"postConstruct",null),t}(Ce),F5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jb=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Kd=function(n){F5e(t,n);function t(e,r,i,o,a){var s=n.call(this)||this;return s.columnGroup=e,s.childFilterComps=r,s.depth=o,s.expandedCallback=i,s.showingColumn=a,s}return t.prototype.preConstruct=function(){var e={cssIdentifier:"filter-toolpanel",direction:"vertical"};this.setTemplate(t.TEMPLATE,{filterGroupComp:e})},t.prototype.init=function(){var e=this;this.setGroupTitle(),this.filterGroupComp.setAlignItems("stretch"),this.filterGroupComp.addCssClass("ag-filter-toolpanel-group-level-".concat(this.depth)),this.filterGroupComp.addCssClassToTitleBar("ag-filter-toolpanel-group-level-".concat(this.depth,"-header")),this.childFilterComps.forEach(function(r){e.filterGroupComp.addItem(r),r.addCssClassToTitleBar("ag-filter-toolpanel-group-level-".concat(e.depth+1,"-header"))}),this.refreshFilterClass(),this.addExpandCollapseListeners(),this.addFilterChangedListeners(),this.setupTooltip()},t.prototype.setupTooltip=function(){var e=this;if(this.showingColumn){var r=function(){var i=e.columnGroup.getColDef().headerTooltip;e.setTooltip(i)};r(),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,r)}},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="filterToolPanelColumnGroup",e},t.prototype.addCssClassToTitleBar=function(e){this.filterGroupComp.addCssClassToTitleBar(e)},t.prototype.refreshFilters=function(e){this.childFilterComps.forEach(function(r){r instanceof t?r.refreshFilters(e):r.refreshFilter(e)})},t.prototype.isColumnGroup=function(){return this.columnGroup instanceof er},t.prototype.isExpanded=function(){return this.filterGroupComp.isExpanded()},t.prototype.getChildren=function(){return this.childFilterComps},t.prototype.getFilterGroupName=function(){return this.filterGroupName?this.filterGroupName:""},t.prototype.getFilterGroupId=function(){return this.columnGroup.getId()},t.prototype.hideGroupItem=function(e,r){this.filterGroupComp.hideItem(e,r)},t.prototype.hideGroup=function(e){this.setDisplayed(!e)},t.prototype.forEachToolPanelFilterChild=function(e){this.childFilterComps.forEach(function(r){r instanceof Uee&&e(r)})},t.prototype.addExpandCollapseListeners=function(){var e=this,r=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild(function(o){return o.expand()})},i=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild(function(o){return o.collapse()})};this.addManagedListener(this.filterGroupComp,Ls.EVENT_EXPANDED,r),this.addManagedListener(this.filterGroupComp,Ls.EVENT_COLLAPSED,i)},t.prototype.getColumns=function(){return this.columnGroup instanceof er?this.columnGroup.getLeafColumns():[this.columnGroup]},t.prototype.addFilterChangedListeners=function(){var e=this;this.getColumns().forEach(function(r){e.addManagedListener(r,Rt.EVENT_FILTER_CHANGED,function(){return e.refreshFilterClass()})}),this.columnGroup instanceof er||this.addManagedListener(this.eventService,M.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this))},t.prototype.refreshFilterClass=function(){var e=this.getColumns(),r=function(){return e.some(function(i){return i.isFilterActive()})};this.filterGroupComp.addOrRemoveCssClass("ag-has-filter",r())},t.prototype.onFilterOpened=function(e){e.source==="COLUMN_MENU"&&e.column===this.columnGroup&&this.isExpanded()&&this.collapse()},t.prototype.expand=function(){this.filterGroupComp.toggleGroupExpand(!0)},t.prototype.collapse=function(){this.filterGroupComp.toggleGroupExpand(!1)},t.prototype.setGroupTitle=function(){this.filterGroupName=this.columnGroup instanceof er?this.getColumnGroupName(this.columnGroup):this.getColumnName(this.columnGroup),this.filterGroupComp.setTitle(this.filterGroupName||"")},t.prototype.getColumnGroupName=function(e){return this.columnModel.getDisplayNameForProvidedColumnGroup(null,e,"filterToolPanel")},t.prototype.getColumnName=function(e){return this.columnModel.getDisplayNameForColumn(e,"filterToolPanel",!1)},t.prototype.destroyFilters=function(){this.childFilterComps=this.destroyBeans(this.childFilterComps),F.clearElement(this.getGui())},t.prototype.destroy=function(){this.destroyFilters(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div class="ag-filter-toolpanel-group-wrapper">
            <ag-group-component ref="filterGroupComp"></ag-group-component>
        </div>`,jb([U("filterGroupComp")],t.prototype,"filterGroupComp",void 0),jb([O("columnModel")],t.prototype,"columnModel",void 0),jb([uv],t.prototype,"preConstruct",null),jb([q],t.prototype,"init",null),t}(Ce),I5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),N4=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},N5e=function(n){I5e(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.initialised=!1,e.hasLoadedInitialState=!1,e.isInitialState=!1,e.filterGroupComps=[],e.suppressOnColumnsChanged=!1,e.onColumnsChangedPending=!1,e}return t.prototype.init=function(e){var r=this;this.initialised=!0;var i=this.gridOptionsService.addGridCommonParams({suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1});F.mergeDeep(i,e),this.params=i,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,M.EVENT_COLUMN_MOVED,function(){return r.onColumnsChanged()}),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,function(){return r.onColumnsChanged()}),this.addManagedListener(this.eventService,M.EVENT_TOOL_PANEL_VISIBLE_CHANGED,function(a){a.key==="filters"&&r.refreshFilters(a.visible)}),this.addManagedListener(this.eventService,M.EVENT_DRAG_STARTED,function(){r.suppressOnColumnsChanged=!0}),this.addManagedListener(this.eventService,M.EVENT_DRAG_STOPPED,function(){r.suppressOnColumnsChanged=!1,r.onColumnsChangedPending&&(r.onColumnsChangedPending=!1,r.onColumnsChanged())}),this.columnModel.isReady()&&this.onColumnsChanged();var o=this.getAriaElement();F.setAriaLive(o,"assertive"),F.setAriaAtomic(o,!1),F.setAriaRelevant(o,"text")},t.prototype.onColumnsChanged=function(){if(this.suppressOnColumnsChanged){this.onColumnsChangedPending=!0;return}var e=this.columnModel.isPivotMode(),r=!this.params.suppressSyncLayoutWithGrid&&!e;r?this.syncFilterLayout():this.buildTreeFromProvidedColumnDefs(),this.refreshAriaLabel()},t.prototype.syncFilterLayout=function(){this.toolPanelColDefService.syncLayoutWithGrid(this.setFiltersLayout.bind(this)),this.refreshAriaLabel()},t.prototype.buildTreeFromProvidedColumnDefs=function(){var e=this.columnModel.getPrimaryColumnTree();this.recreateFilters(e)},t.prototype.setFiltersLayout=function(e){var r=this.toolPanelColDefService.createColumnTree(e);this.recreateFilters(r)},t.prototype.recreateFilters=function(e){var r=this,i=this.gridOptionsService.getDocument().activeElement;this.hasLoadedInitialState||(this.hasLoadedInitialState=!0,this.isInitialState=!!this.params.initialState);var o=this.getExpansionState();this.destroyFilters(),this.filterGroupComps=this.recursivelyAddComps(e,0,o);var a=this.filterGroupComps.length;a&&(this.filterGroupComps.forEach(function(s){return r.appendChild(s)}),this.setFirstAndLastVisible(0,a-1)),F.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent(),this.getGui().contains(i)&&i.focus(),this.isInitialState=!1,this.refreshAriaLabel()},t.prototype.recursivelyAddComps=function(e,r,i){var o=this;return F.flatten(e.map(function(a){if(a instanceof er)return F.flatten(o.recursivelyAddFilterGroupComps(a,r,i));var s=a;if(!o.shouldDisplayFilter(s))return[];var l=r===0,u=new Uee(l,function(){return o.onFilterExpanded()});if(o.createBean(u),u.setColumn(s),i.get(s.getId())&&u.expand(),r>0)return u;var c=o.createBean(new Kd(s,[u],o.onGroupExpanded.bind(o),r,!0));return c.addCssClassToTitleBar("ag-filter-toolpanel-header"),i.get(c.getFilterGroupId())||c.collapse(),c}))},t.prototype.refreshAriaLabel=function(){var e=this.localeService.getLocaleTextFunc(),r=e("ariaFilterPanelList","Filter List"),i=e("filters","Filters"),o=this.getGui(),a=".ag-filter-toolpanel-group-wrapper",s=".ag-filter-toolpanel-group-item",l=".ag-hidden",u=o.querySelectorAll("".concat(s,":not(").concat(a,", ").concat(l,")")),c=u.length;F.setAriaLabel(this.getAriaElement(),"".concat(r," ").concat(c," ").concat(i))},t.prototype.recursivelyAddFilterGroupComps=function(e,r,i){if(this.filtersExistInChildren(e.getChildren())){var o=e.getColGroupDef();if(o&&o.suppressFiltersToolPanel)return[];var a=e.isPadding()?r:r+1,s=F.flatten(this.recursivelyAddComps(e.getChildren(),a,i));if(e.isPadding())return s;var l=new Kd(e,s,this.onGroupExpanded.bind(this),r,!1);this.createBean(l),l.addCssClassToTitleBar("ag-filter-toolpanel-header");var u=i.get(l.getFilterGroupId());return(this.isInitialState&&!u||u===!1)&&l.collapse(),[l]}},t.prototype.filtersExistInChildren=function(e){var r=this;return e.some(function(i){return i instanceof er?r.filtersExistInChildren(i.getChildren()):r.shouldDisplayFilter(i)})},t.prototype.shouldDisplayFilter=function(e){var r=e.getColDef()&&e.getColDef().suppressFiltersToolPanel;return e.isFilterAllowed()&&!r},t.prototype.getExpansionState=function(){var e=new Map;if(this.isInitialState){var r=this.params.initialState,i=r.expandedColIds,o=r.expandedGroupIds;return i.forEach(function(s){return e.set(s,!0)}),o.forEach(function(s){return e.set(s,!0)}),e}var a=function(s){e.set(s.getFilterGroupId(),s.isExpanded()),s.getChildren().forEach(function(l){l instanceof Kd?a(l):e.set(l.getColumn().getId(),l.isExpanded())})};return this.filterGroupComps.forEach(a),e},t.prototype.refresh=function(){},t.prototype.setVisible=function(e){n.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},t.prototype.expandFilterGroups=function(e,r){var i=[],o=function(s){var l=s.getFilterGroupId(),u=!r||F.includes(r,l);u&&(e&&s.isColumnGroup()?s.expand():s.collapse(),i.push(l)),s.getChildren().forEach(function(c){c instanceof Kd&&o(c)})};if(this.filterGroupComps.forEach(o),this.onGroupExpanded(),r){var a=r.filter(function(s){return i.indexOf(s)<0});a.length>0&&console.warn("AG Grid: unable to find groups for these supplied groupIds:",a)}},t.prototype.expandFilters=function(e,r){var i=[],o=function(s){if(s instanceof Kd){var l=!1;return s.getChildren().forEach(function(d){var p=o(d);p&&(e?(s.expand(),l=!0):s.isColumnGroup()||s.collapse())}),l}var u=s.getColumn().getColId(),c=!r||F.includes(r,u);return c&&(e?s.expand():s.collapse(),i.push(u)),c};if(this.filterGroupComps.forEach(o),this.onGroupExpanded(),r){var a=r.filter(function(s){return i.indexOf(s)<0});a.length>0&&console.warn("AG Grid: unable to find columns for these supplied colIds:",a)}},t.prototype.onGroupExpanded=function(){this.fireExpandedEvent()},t.prototype.onFilterExpanded=function(){this.dispatchEvent({type:"filterExpanded"})},t.prototype.fireExpandedEvent=function(){var e=0,r=0,i=function(a){a.isColumnGroup()&&(a.isExpanded()?e++:r++,a.getChildren().forEach(function(s){s instanceof Kd&&i(s)}))};this.filterGroupComps.forEach(i);var o;e>0&&r>0?o=Du.INDETERMINATE:r>0?o=Du.COLLAPSED:o=Du.EXPANDED,this.dispatchEvent({type:"groupExpanded",state:o})},t.prototype.performFilterSearch=function(e){this.searchFilterText=F.exists(e)?e.toLowerCase():null,this.searchFilters(this.searchFilterText)},t.prototype.searchFilters=function(e){var r=function(s){return!F.exists(e)||s.toLowerCase().indexOf(e)!==-1},i=function(s,l){if(!(s instanceof Kd))return r(s.getColumnFilterName()||"");var u=s.getChildren(),c=r(s.getFilterGroupName()),d=l||c;if(d){s.hideGroup(!1);for(var p=0;p<u.length;p++)i(u[p],d),s.hideGroupItem(!1,p);return!0}var h=!1;return u.forEach(function(f,v){var g=i(f,l);s.hideGroupItem(!g,v),g&&(h=!0)}),s.hideGroup(!h),h},o,a;this.filterGroupComps.forEach(function(s,l){i(s,!1),o===void 0?s.containsCssClass("ag-hidden")||(o=l,a=l):!s.containsCssClass("ag-hidden")&&a!==l&&(a=l)}),this.setFirstAndLastVisible(o,a),this.refreshAriaLabel()},t.prototype.setFirstAndLastVisible=function(e,r){this.filterGroupComps.forEach(function(i,o){i.removeCssClass("ag-first-group-visible"),i.removeCssClass("ag-last-group-visible"),o===e&&i.addCssClass("ag-first-group-visible"),o===r&&i.addCssClass("ag-last-group-visible")})},t.prototype.refreshFilters=function(e){this.filterGroupComps.forEach(function(r){return r.refreshFilters(e)})},t.prototype.getExpandedFiltersAndGroups=function(){var e=[],r=new Set,i=function(o){if(o instanceof Kd){o.getChildren().forEach(function(s){return i(s)});var a=o.getFilterGroupId();o.isExpanded()&&!r.has(a)&&e.push(a)}else o.isExpanded()&&r.add(o.getColumn().getColId())};return this.filterGroupComps.forEach(i),{expandedGroupIds:e,expandedColIds:Array.from(r)}},t.prototype.destroyFilters=function(){this.filterGroupComps=this.destroyBeans(this.filterGroupComps),F.clearElement(this.getGui())},t.prototype.destroy=function(){this.destroyFilters(),n.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-list-panel"></div>',N4([O("toolPanelColDefService")],t.prototype,"toolPanelColDefService",void 0),N4([O("columnModel")],t.prototype,"columnModel",void 0),t}(Ce),k5e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),oT=function(){return oT=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},oT.apply(this,arguments)},k4=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},G5e=function(n){k5e(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.initialised=!1,e.listenerDestroyFuncs=[],e}return t.prototype.init=function(e){this.initialised&&(this.listenerDestroyFuncs.forEach(function(a){return a()}),this.listenerDestroyFuncs=[]),this.initialised=!0;var r=this.gridOptionsService.addGridCommonParams({suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1});this.params=oT(oT({},r),e),this.filtersToolPanelHeaderPanel.init(this.params),this.filtersToolPanelListPanel.init(this.params);var i=this.params.suppressExpandAll,o=this.params.suppressFilterSearch;i&&o&&this.filtersToolPanelHeaderPanel.setDisplayed(!1),this.listenerDestroyFuncs.push(this.addManagedListener(this.filtersToolPanelHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"searchChanged",this.onSearchChanged.bind(this)),this.addManagedListener(this.filtersToolPanelListPanel,"filterExpanded",this.onFilterExpanded.bind(this)),this.addManagedListener(this.filtersToolPanelListPanel,"groupExpanded",this.onGroupExpanded.bind(this)))},t.prototype.setVisible=function(e){n.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},t.prototype.onExpandAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!0)},t.prototype.onCollapseAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!1)},t.prototype.onSearchChanged=function(e){this.filtersToolPanelListPanel.performFilterSearch(e.searchText)},t.prototype.setFilterLayout=function(e){this.filtersToolPanelListPanel.setFiltersLayout(e)},t.prototype.onFilterExpanded=function(){this.params.onStateUpdated()},t.prototype.onGroupExpanded=function(e){this.filtersToolPanelHeaderPanel.setExpandState(e.state),this.params.onStateUpdated()},t.prototype.expandFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!0,e)},t.prototype.collapseFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!1,e)},t.prototype.expandFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!0,e)},t.prototype.collapseFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!1,e)},t.prototype.syncLayoutWithGrid=function(){this.filtersToolPanelListPanel.syncFilterLayout()},t.prototype.refresh=function(e){return this.init(e),!0},t.prototype.getState=function(){return this.filtersToolPanelListPanel.getExpandedFiltersAndGroups()},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.TEMPLATE=`<div class="ag-filter-toolpanel">
            <ag-filters-tool-panel-header ref="filtersToolPanelHeaderPanel"></ag-filters-tool-panel-header>
            <ag-filters-tool-panel-list ref="filtersToolPanelListPanel"></ag-filters-tool-panel-list>
         </div>`,k4([U("filtersToolPanelHeaderPanel")],t.prototype,"filtersToolPanelHeaderPanel",void 0),k4([U("filtersToolPanelListPanel")],t.prototype,"filtersToolPanelListPanel",void 0),t}(Ce),V5e="31.1.1",B5e={version:V5e,moduleName:Te.FiltersToolPanelModule,beans:[],agStackComponents:[{componentName:"AgFiltersToolPanelHeader",componentClass:M5e},{componentName:"AgFiltersToolPanelList",componentClass:N5e}],userComponents:[{componentName:"agFiltersToolPanel",componentClass:G5e}],dependantModules:[Cj,Pi]},Sj=Object.defineProperty,j5e=Object.defineProperties,H5e=Object.getOwnPropertyDescriptor,$5e=Object.getOwnPropertyDescriptors,aT=Object.getOwnPropertySymbols,W5e=Object.getPrototypeOf,zee=Object.prototype.hasOwnProperty,Kee=Object.prototype.propertyIsEnumerable,U5e=Reflect.get,HL=(n,t)=>(t=Symbol[n])?t:Symbol.for("Symbol."+n),It=Math.pow,G4=(n,t,e)=>t in n?Sj(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,de=(n,t)=>{for(var e in t||(t={}))zee.call(t,e)&&G4(n,e,t[e]);if(aT)for(var e of aT(t))Kee.call(t,e)&&G4(n,e,t[e]);return n},Xe=(n,t)=>j5e(n,$5e(t)),di=(n,t)=>{var e={};for(var r in n)zee.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&aT)for(var r of aT(n))t.indexOf(r)<0&&Kee.call(n,r)&&(e[r]=n[r]);return e},yd=(n,t)=>{for(var e in t)Sj(n,e,{get:t[e],enumerable:!0})},D=(n,t,e,r)=>{for(var i=r>1?void 0:r?H5e(t,e):t,o=n.length-1,a;o>=0;o--)(a=n[o])&&(i=(r?a(t,e,i):a(i))||i);return r&&i&&Sj(t,e,i),i},Cd=(n,t,e)=>U5e(W5e(n),e,t),Oe=(n,t,e)=>new Promise((r,i)=>{var o=l=>{try{s(e.next(l))}catch(u){i(u)}},a=l=>{try{s(e.throw(l))}catch(u){i(u)}},s=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,a);s((e=e.apply(n,t)).next())}),z5e=function(n,t){this[0]=n,this[1]=t},K5e=n=>{var t=n[HL("asyncIterator")],e=!1,r,i={};return t==null?(t=n[HL("iterator")](),r=o=>i[o]=a=>t[o](a)):(t=t.call(n),r=o=>i[o]=a=>{if(e){if(e=!1,o==="throw")throw a;return a}return e=!0,{done:!1,value:new z5e(new Promise(s=>{var l=t[o](a);if(!(l instanceof Object))throw TypeError("Object expected");s(l)}),1)}}),i[HL("iterator")]=()=>i,r("next"),"throw"in t?r("throw"):i.throw=o=>{throw o},"return"in t&&r("return"),i},Yee=(n=>(n.POINTER="pointer",n.NODE="node",n))(Yee||{}),Y5e={};yd(Y5e,{day:()=>rte,friday:()=>vKe,hour:()=>tte,millisecond:()=>qee,minute:()=>Jee,monday:()=>dKe,month:()=>ite,saturday:()=>gKe,second:()=>Zee,sunday:()=>nte,thursday:()=>fKe,tuesday:()=>pKe,utcDay:()=>MKe,utcHour:()=>PKe,utcMinute:()=>OKe,utcMonth:()=>IKe,utcYear:()=>GKe,wednesday:()=>hKe,year:()=>ote});var K1=new Map;function Y1(n,t){K1.has(t)||(K1.set(t,!0),n())}Y1.clear=()=>K1.clear();function V4(n){return n}function q5e(n,t=0,e){const{leading:r=!1,trailing:i=!0,maxWait:o=1/0}=e??{};let a,s;if(o<t)throw new Error("Value of maxWait cannot be lower than waitMs.");function l(...u){if(r&&!s){s=Date.now(),a=setTimeout(()=>s=null,t),n(...u);return}let c=t;if(o!==1/0&&s){const d=Date.now()-s;t>o-d&&(c=o-d)}clearTimeout(a),s??(s=Date.now()),a=setTimeout(()=>{s=null,i&&n(...u)},c)}return Object.assign(l,{cancel(){clearTimeout(a),s=null}})}function B4(n,t=0,e){const{leading:r=!0,trailing:i=!0}=e??{};let o,a,s=!1;function l(){i&&a?(o=setTimeout(l,t),n(...a)):s=!1,a=null}function u(...c){s?a=c:(s=!0,o=setTimeout(l,t),r?n(...c):a=c)}return Object.assign(u,{cancel(){clearTimeout(o),s=!1,a=null}})}var Ue={log(...n){console.log(...n)},warn(n,...t){console.warn(`AG Charts - ${n}`,...t)},error(n,...t){typeof n=="object"?console.error("AG Charts error",n,...t):console.error(`AG Charts - ${n}`,...t)},table(...n){console.table(...n)},warnOnce(n,...t){Y1(()=>Ue.warn(n,...t),`Logger.warn: ${n}`)},errorOnce(n,...t){Y1(()=>Ue.error(n,...t),`Logger.error: ${n}`)}},R0=class{constructor(n,t,e){this._encode=n,this._decode=t,this._rangeCallback=e}floor(n){const t=new Date(n),e=this._encode(t);return this._decode(e)}ceil(n){const t=new Date(Number(n)-1),e=this._encode(t);return this._decode(e+1)}range(n,t,e){var r;const i=(r=this._rangeCallback)==null?void 0:r.call(this,n,t),o=this._encode(e?this.floor(n):this.ceil(n)),a=this._encode(e?this.ceil(t):this.floor(t));if(a<o)return[];const s=[];for(let l=o;l<=a;l++){const u=this._decode(l);s.push(u)}return i==null||i(),s}},ds=class extends R0{getOffset(n,t){const e=typeof n=="number"||n instanceof Date?this._encode(new Date(n)):0;return Math.floor(e)%t}every(n,t){let e=0,r;const i=n;n=Math.max(1,Math.round(n)),i!==n&&Ue.warnOnce(`interval step of [${i}] rounded to [${n}].`);const{snapTo:o="start"}=t??{};if(typeof o=="string"){const l=e;r=(u,c)=>{const d=o==="start"?u:c;return e=this.getOffset(d,n),()=>e=l}}else typeof o=="number"?e=this.getOffset(new Date(o),n):o instanceof Date&&(e=this.getOffset(o,n));const a=l=>{const u=this._encode(l);return Math.floor((u-e)/n)},s=l=>this._decode(l*n+e);return new R0(a,s,r)}};function X5e(n){return n.getTime()}function Z5e(n){return new Date(n)}var qee=new ds(X5e,Z5e),Q5e=qee;new Date(0).getFullYear();var Nf=1e3,wo=Nf*60,Au=wo*60,kp=Au*24,MS=kp*7,ZC=kp*30,Hb=kp*365,Xee=new Date().getTimezoneOffset()*wo;function J5e(n){return Math.floor((n.getTime()-Xee)/Nf)}function eKe(n){return new Date(Xee+n*Nf)}var Zee=new ds(J5e,eKe),tKe=Zee,Qee=new Date().getTimezoneOffset()*wo;function rKe(n){return Math.floor((n.getTime()-Qee)/wo)}function nKe(n){return new Date(Qee+n*wo)}var Jee=new ds(rKe,nKe),iKe=Jee,ete=new Date().getTimezoneOffset()*wo;function oKe(n){return Math.floor((n.getTime()-ete)/Au)}function aKe(n){return new Date(ete+n*Au)}var tte=new ds(oKe,aKe),sKe=tte;function lKe(n){const t=n.getTimezoneOffset()*wo;return Math.floor((n.getTime()-t)/kp)}function uKe(n){const t=new Date(1970,0,1);return t.setDate(t.getDate()+n),t}var rte=new ds(lKe,uKe),cKe=rte;function Tv(n){const e=(7+n-4)%7;function r(o){const a=o.getTimezoneOffset()*wo;return Math.floor((o.getTime()-a)/MS-e/7)}function i(o){const a=new Date(1970,0,1);return a.setDate(a.getDate()+o*7+e),a}return new ds(r,i)}var nte=Tv(0),dKe=Tv(1),pKe=Tv(2),hKe=Tv(3),fKe=Tv(4),vKe=Tv(5),gKe=Tv(6),mKe=nte;function yKe(n){return n.getFullYear()*12+n.getMonth()}function CKe(n){const t=Math.floor(n/12),e=n-t*12;return new Date(t,e,1)}var ite=new ds(yKe,CKe),SKe=ite;function wKe(n){return n.getFullYear()}function _Ke(n){const t=new Date;return t.setFullYear(n),t.setMonth(0,1),t.setHours(0,0,0,0),t}var ote=new ds(wKe,_Ke),xKe=ote;function bKe(n){return Math.floor(n.getTime()/wo)}function EKe(n){return new Date(n*wo)}var OKe=new ds(bKe,EKe);function RKe(n){return Math.floor(n.getTime()/Au)}function TKe(n){return new Date(n*Au)}var PKe=new ds(RKe,TKe);function DKe(n){return Math.floor(n.getTime()/kp)}function AKe(n){const t=new Date(0);return t.setUTCDate(t.getUTCDate()+n),t.setUTCHours(0,0,0,0),t}var MKe=new ds(DKe,AKe);function LKe(n){return n.getUTCFullYear()*12+n.getUTCMonth()}function FKe(n){const t=Math.floor(n/12),e=n-t*12;return new Date(Date.UTC(t,e,1))}var IKe=new ds(LKe,FKe);function NKe(n){return n.getUTCFullYear()}function kKe(n){const t=new Date;return t.setUTCFullYear(n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0),t}var GKe=new ds(NKe,kKe),_m={isEnterprise:!1},wj=class{constructor(){this.destroyFns=[]}destroy(){for(const n of this.destroyFns)n()}},Iu=[];function dl(n){const t=Iu.find(e=>n.type===e.type&&n.optionsKey===e.optionsKey&&n.identifier===e.identifier);if(t){if(n.packageType==="enterprise"&&t.packageType==="community"){const e=Iu.indexOf(t);Iu.splice(e,1,n)}}else Iu.push(n)}function _j(){return Iu.some(n=>n.packageType==="enterprise")}var sT={};function ate(n,t){sT[n]=t}function VKe(n,t){const e=sT[n];if(e)return new e(t);throw new Error(`AG Charts - unknown axis type: ${n}`)}var xj={has(n){return Object.hasOwn(sT,n)},get axesTypes(){return Object.keys(sT)}},ste={};function j4(n,t){ste[n]=t}function BKe(n){var t;return(t=ste[n])!=null?t:{}}var lT=Symbol("BREAK"),xm="__decorator_config";function lte(n,t){Object.getOwnPropertyDescriptor(n,xm)==null&&Object.defineProperty(n,xm,{value:{}});const e=n[xm],r=t.toString();if(typeof e[r]<"u")return e[r];const i=new WeakMap;e[r]={setters:[],getters:[],observers:[],valuesMap:i};const o=Object.getOwnPropertyDescriptor(n,t),a=o==null?void 0:o.set,s=o==null?void 0:o.get;return Object.defineProperty(n,t,{set:function(c){const{setters:d,observers:p}=e[r];let h;d.some(f=>f.length>2)&&(h=s?s.call(this):i.get(this));for(const f of d)if(c=f(this,t,c,h),c===lT)return;a?a.call(this,c):i.set(this,c);for(const f of p)f(this,c,h)},get:function(){let c=s?s.call(this):i.get(this);for(const d of e[r].getters)if(c=d(this,t,c),c===lT)return;return c},enumerable:!0,configurable:!1}),e[r]}function ud(n,t,e){return(r,i)=>{const o=lte(r,i);o.setters.push(n),t&&o.getters.unshift(t),e&&Object.assign(o,e)}}function jKe(n){return(t,e)=>{lte(t,e).observers.push(n)}}function ND(n){return typeof n<"u"&&xm in n}function bm(n){const t=new Set;for(;ND(n);)t.add(n==null?void 0:n[xm]),n=Object.getPrototypeOf(n);return Array.from(t).flatMap(e=>Object.keys(e))}function HKe(n){return bm(n).reduce((t,e)=>{var r;return t[e]=(r=n[e])!=null?r:null,t},{})}function $Ke(n,t){const e=t.toString();for(;ND(n);){const r=n[xm];if(Object.hasOwn(r,e))return r[e];n=Object.getPrototypeOf(n)}}function q1(n){return n!=null}function ni(n){return Array.isArray(n)}function ute(n){return typeof n=="boolean"}function kD(n){return n instanceof Date}function M_(n){return kD(n)&&!isNaN(Number(n))}function cte(n){return n instanceof RegExp}function by(n){return typeof n=="function"}function Ju(n){return typeof n=="object"&&n!==null&&!ni(n)}function WKe(n){return ni(n)||Ys(n)}function Ys(n){return typeof n=="object"&&n!==null&&n.constructor===Object}function js(n){return typeof n=="string"}function xl(n){return typeof n=="number"}function fr(n){return xl(n)&&Number.isFinite(n)}function dte(n){return typeof window<"u"&&n instanceof HTMLElement}function UKe(n,t){return js(t)&&Object.keys(n).includes(t)}function pte(n,t){return Object.values(n).includes(t)}function hte(n){return typeof n=="symbol"}function zKe(...n){return Ht(...n.reverse())}function Ht(...n){var t;const e={};for(const r of n){if(!Ju(r))continue;const i=ND(r)?bm(r):Object.keys(r);for(const o of i)Ys(e[o])&&Ys(r[o])?e[o]=Ht(e[o],r[o]):(t=e[o])!=null||(e[o]=r[o])}return e}function X1(n,...t){return t&&ni(n)?n.map(e=>Ht(e,...t)):n}function fte(n,t){return Object.entries(n).reduce((e,[r,i])=>(e[r]=t(i,r,n),e),{})}function vte(n,t){return(ni(t)?t:t.split(".")).reduce((r,i)=>r[i],n)}function gte(n,t,e){const r=ni(t)?t.slice():t.split("."),i=r.pop(),o=r.reduce((a,s)=>a[s],n);o[i]=e}function Z1(n,t,e){if(e===void 0)return t;for(const r of n){const i=e[r];i!==void 0&&(t[r]=i)}return t}var wf={},Q1={},Is={has(n){return Object.hasOwn(wf,n)},isCartesian(n){return wf[n]==="cartesian"},isPolar(n){return wf[n]==="polar"},isHierarchy(n){return wf[n]==="hierarchy"},get seriesTypes(){return Object.keys(wf)},get cartesianTypes(){return this.seriesTypes.filter(n=>this.isCartesian(n))},get polarTypes(){return this.seriesTypes.filter(n=>this.isPolar(n))},get hierarchyTypes(){return this.seriesTypes.filter(n=>this.isHierarchy(n))}};function KKe(n,t){wf[n]=t}function YKe(n,t){Q1[n]=Ht(t,Q1[n])}function H4(n){var t;return(t=Q1[n])!=null?t:{}}function qKe(n){var t;return(t=wf[n])!=null?t:"unknown"}var Ey=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","hierarchy"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","hierarchy"],optionsInnerKey:"image"},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","hierarchy"]},{type:"root",optionsKey:"dataSource",chartTypes:["cartesian","polar","hierarchy"]},{type:"root",optionsKey:"sync",chartTypes:["cartesian"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","hierarchy"],identifier:"gradient"},{type:"root",optionsKey:"navigator",chartTypes:["cartesian"],optionsInnerKey:"miniChart"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"bullet"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"}];function mte(n){return Ey.some(t=>t.type==="series"&&t.identifier===n)}function bj(n){var t;return(t=Ey.find(e=>e.type==="series"&&e.identifier===n))==null?void 0:t.chartTypes}function XKe(n){var t,e;return((e=(t=Ey.find(r=>r.type==="series"&&r.identifier===n))==null?void 0:t.useCount)!=null?e:0)>0}function ZKe(n){var t;return((t=bj(n))==null?void 0:t.find(r=>r==="cartesian"))==="cartesian"}function QKe(n){var t;return((t=bj(n))==null?void 0:t.find(r=>r==="polar"))==="polar"}function JKe(n){var t;return((t=bj(n))==null?void 0:t.find(r=>r==="hierarchy"))==="hierarchy"}function e6e(n){return n.packageType==="enterprise"}function t6e(n){var t;if(!e6e(n))throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");const e=Ey.find(r=>r.type===n.type&&r.optionsKey===n.optionsKey&&r.identifier===n.identifier&&n.chartTypes.every(i=>r.chartTypes.includes(i)));return e&&((t=e.useCount)!=null||(e.useCount=0),e.useCount++),e!=null}function r6e(){return Ey.filter(({useCount:n})=>n==null||n===0)}function L_(n){var t,e,r;return(r=(e=(t=n.series)==null?void 0:t[0])==null?void 0:e.type)!=null?r:"line"}function Yf(n){const t=L_(n);return t==null?!0:t==="cartesian"?(Ue.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):Is.isCartesian(t)||ZKe(t)}function Ej(n){const t=L_(n);return t==null?!1:t==="hierarchy"?(Ue.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):Is.isHierarchy(t)||JKe(t)}function F_(n){const t=L_(n);return t==null?!1:t==="polar"?(Ue.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):Is.isPolar(t)||QKe(t)}function n6e(n){const t=L_(n);return F_(n)&&t!=="pie"&&t!=="donut"}function i6e(n){return n==null?!1:Is.has(n)}function o6e(n){return n==null?!1:xj.has(n)}function a6e(n){var t,e,r,i;const o=[],a=qKe(L_(n));for(const{type:s,chartTypes:l,optionsKey:u,optionsInnerKey:c,identifier:d}of Ey)if(!(a!=="unknown"&&!l.includes(a))){if(s==="root"||s==="legend"){const p=n[u];if(p==null)continue;c?p[c]&&(o.push(`${u}.${c}`),delete p[c]):(o.push(u),delete n[u])}else if(s==="axis"){if(!("axes"in n)||!((t=n.axes)!=null&&t.some(p=>p.type===d)))continue;o.push(`axis[type=${d}]`),n.axes=n.axes.filter(p=>p.type!==d)}else if(s==="axis-option"){if(!("axes"in n)||!((e=n.axes)!=null&&e.some(p=>p[u])))continue;o.push(`axis.${u}`),n.axes.forEach(p=>{p[u]&&delete p[u]})}else if(s==="series"){if(!((r=n.series)!=null&&r.some(p=>p.type===d)))continue;o.push(`series[type=${d}]`),n.series=n.series.filter(p=>p.type!==d)}else if(s==="series-option"){if(!((i=n.series)!=null&&i.some(p=>p[u])))continue;o.push(`series.${u}`),n.series.forEach(p=>{p[u]&&delete p[u]})}}o.length&&Ue.warnOnce([`unable to use these enterprise features as 'ag-charts-enterprise' has not been loaded:
`,"",...o,"","See: https://charts.ag-grid.com/javascript/installation/"].join(`
`))}var Fr=class{constructor(n){this.className=n}set(n){const t=new Set(Object.keys(n));for(const e of bm(this))if(t.has(e)){const r=n[e],i=this;Xa(i[e])?i[e]=i[e]instanceof I_?i[e].reset(r):i[e].set(r):i[e]=r,t.delete(e)}for(const e of t){const{className:r=this.constructor.name}=this.constructor;Ue.warn(`unable to set [${e}] in ${r} - property is unknown`)}return this}isValid(){return bm(this).every(n=>{const{optional:t}=$Ke(this,n);return t||typeof this[n]<"u"})}toJson(){return bm(this).reduce((n,t)=>{const e=this[t];return n[t]=Xa(e)?e.toJson():e,n},{})}},I_=class yte extends Array{constructor(t,...e){super(e.length),Object.defineProperty(this,"itemFactory",{value:t,enumerable:!1,configurable:!1}),this.set(e)}set(t){if(ni(t)){this.length=t.length;for(let e=0;e<t.length;e++)this[e]=new this.itemFactory().set(t[e])}return this}reset(t){return new yte(this.itemFactory,...t)}toJson(){return this.slice()}};function Xa(n){return n instanceof Fr||n instanceof I_}var QE="class-instance";function ss(n,t){if(ni(t)){if(!ni(n)||n.length!==t.length||t.some((e,r)=>ss(n[r],e)!=null))return t}else if(Ys(t)){if(!Ys(n))return t;const e={},r=new Set([...Object.keys(n),...Object.keys(t)]);for(const i of r)if(n[i]!==t[i])if(typeof n[i]!=typeof t[i])e[i]=t[i];else{const o=ss(n[i],t[i]);o!==null&&(e[i]=o)}return Object.keys(e).length?e:null}else if(n!==t)return t;return null}function io(n,t){return ni(n)?n.map(e=>io(e,t)):Ys(n)?Object.entries(n).reduce((e,[r,i])=>{var o;return e[r]=(o=t==null?void 0:t.shallow)!=null&&o.includes(r)?uT(i):io(i,t),e},{}):uT(n)}function uT(n){return ni(n)?[...n]:Ys(n)?de({},n):kD(n)?new Date(n):cte(n)?new RegExp(n.source,n.flags):n}function Nu(n,t,e,...r){var i;if(ni(n))t(n,...r),n.forEach((o,a)=>{Nu(o,t,e,...$4(r,a))});else if(Ys(n)){t(n,...r);for(const o of Object.keys(n)){if((i=e==null?void 0:e.skip)!=null&&i.includes(o))continue;const a=n[o];(ni(a)||Ys(a))&&Nu(a,t,e,...$4(r,o))}}}function Gp(n,t,e={}){var r,i,o;const{path:a,matcherPath:s=a?a.replace(/(\[[0-9+]+])/i,"[]"):void 0,skip:l=[],constructors:u={},constructedArrays:c=new WeakMap,allowedTypes:d={},idx:p}=e;if(n==null)throw new Error(`AG Charts - target is uninitialised: ${a??"<root>"}`);if(t==null)return n;if(Xa(n))return n.set(t);const h=n;p!=null&&"_declarationOrder"in h&&(h._declarationOrder=p);const f=$L(n);for(const v in t){const g=`${s?s+".":""}${v}`;if(l.indexOf(g)>=0)continue;const m=t[v],y=`${a?a+".":""}${v}`,C=h.constructor,S=h[v];let w=(r=u[g])!=null?r:u[v];try{const _=$L(S),x=$L(m);if(f===QE&&!(v in n||Object.hasOwn(h,v))){Ue.warn(`unable to set [${y}] in ${C==null?void 0:C.name} - property is unknown`);continue}const E=(i=d[g])!=null?i:[_];if(!(_===QE&&x==="object")){if(_!=null&&x!=null&&!E.includes(x)){Ue.warn(`unable to set [${y}] in ${C==null?void 0:C.name} - can't apply type of [${x}], allowed types are: [${E}]`);continue}}if(x==="array")if(w=(o=w??c.get(S))!=null?o:u[`${g}[]`],Xa(h[v]))h[v].set(m);else if(w!=null){const R=m;h[v]=R.map((P,A)=>Gp(new w,P,Xe(de({},e),{path:y,matcherPath:g+"[]",idx:A})))}else h[v]=m;else if(x===QE)h[v]=m;else if(x==="object")if(Xa(S))h[v].set(m);else if(S!=null)Gp(S,m,Xe(de({},e),{path:y,matcherPath:g,idx:void 0}));else if(w!=null){const R=new w;Xa(R)?h[v]=R.set(m):h[v]=Gp(R,m,Xe(de({},e),{path:y,matcherPath:g,idx:void 0}))}else h[v]=m;else Xa(h[v])?h[v].set(m):h[v]=m}catch(_){Ue.warn(`unable to set [${y}] in [${C==null?void 0:C.name}]; nested error is: ${_.message}`)}}return n}function $4(n,t){return n.map(e=>e==null?void 0:e[t])}function $L(n){return n==null?null:dte(n)||kD(n)?"primitive":ni(n)?"array":Ju(n)?Ys(n)?"object":QE:by(n)?"function":"primitive"}var Cte={},Ste={},J1={},wte={},_te={},xte=new Set,bte=new Set,Ete=new Set,Ote=new Set,eN={};function s6e({identifier:n,chartTypes:[t],instanceConstructor:e,seriesDefaults:r,themeTemplate:i,enterpriseThemeTemplate:o,paletteFactory:a,solo:s,stackable:l,groupable:u,stackedByDefault:c,swapDefaultAxesCondition:d}){Cte[n]=e,Ste[n]=r,Rte(n,i,o),a&&d6e(n,a),s&&m6e(n),l&&y6e(n),u&&g6e(n),c&&C6e(n),d&&S6e(n,d),KKe(n,t)}function Rte(n,t,e={}){const r=J1[n];J1[n]=Ht(t,r),wte[n]=Ht(e,t,r)}function l6e(n,t){const e=Cte[n];if(e)return new e(t);throw new Error(`AG Charts - unknown series type: ${n}`)}function u6e(n){var t;return io((t=Ste[n])!=null?t:{})}function c6e(n){return _m.isEnterprise?wte[n]:J1[n]}function d6e(n,t){_te[n]=t}function p6e(n){return _te[n]}function WL(n){return xte.has(n)}function h6e(n){return bte.has(n)}function f6e(n){return Ete.has(n)}function v6e(n){return Ote.has(n)}function g6e(n){Ete.add(n)}function m6e(n){xte.add(n)}function y6e(n){bte.add(n)}function C6e(n){Ote.add(n)}function S6e(n,t){eN[n]=t}function w6e(n){var t,e;let r;for(const i of(t=n.series)!=null?t:[]){const{type:o="line"}=i,a=(e=eN[o])==null?void 0:e.call(eN,i);if(a!=null){if(r!=null&&r!=a)throw new Error("AG Charts - The provided series have incompatible directions");r=a}}return r}var Tte={};function Pte(n,t,e,r){Tte[n]=t,Dte[t]=r}var Dte={};function _6e(){return Dte}function x6e(){return Tte}var Ate=(n=>(n[n.SMALL=12]="SMALL",n[n.MEDIUM=13]="MEDIUM",n[n.LARGE=17]="LARGE",n))(Ate||{}),Mte=(n=>(n.NORMAL="normal",n.BOLD="bold",n.BOLDER="bolder",n.LIGHTER="lighter",n))(Mte||{}),Lte=(n=>(n.TOP="top",n.RIGHT="right",n.BOTTOM="bottom",n.LEFT="left",n))(Lte||{}),Fte=(n=>(n.CATEGORY="category",n.NUMBER="number",n.TIME="time",n.LOG="log",n))(Fte||{}),Ite=(n=>(n.ANGLE_CATEGORY="angle-category",n.ANGLE_NUMBER="angle-number",n.RADIUS_CATEGORY="radius-category",n.RADIUS_NUMBER="radius-number",n))(Ite||{}),Nte=(n=>(n.CIRCLE="circle",n.POLYGON="polygon",n))(Nte||{}),bu={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},qf={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"},_f=Symbol("is-dark-theme"),kte=Symbol("extends-chart-defaults"),Gte=Symbol("extends-legend-defaults"),Vte=Symbol("extends-legend-item-defaults"),Bte=Symbol("extends-legend-item-marker-defaults"),jte=Symbol("extends-axes-defaults"),Hte=Symbol("extends-axes-label-defaults"),$te=Symbol("extends-axes-line-defaults"),Wte=Symbol("extends-axes-tick-defaults"),Ute=Symbol("extends-axes-grid-line-defaults"),Sd=Symbol("extends-series-defaults"),Oy=Symbol("extends-cartesian-marker-defaults"),zte=Symbol("override-series-label-defaults"),ui=Symbol("default-font"),pr=Symbol("default-label-colour"),Kte=Symbol("default-inverted-label-colour"),Ry=Symbol("default-inside-series-label-colour"),Em=Symbol("default-muted-label-colour"),cT=Symbol("default-axis-grid-colour"),JE=Symbol("default-axis-line-colour"),Ow=Symbol("default-cross-lines-colour"),T0=Symbol("default-background-colour"),Ty=Symbol("default-shadow-colour"),Bl=Symbol("default-waterfall-series-positive-colors"),jl=Symbol("default-waterfall-series-negative-colors"),Hl=Symbol("default-waterfall-series-total-colors"),$l=Symbol("default-waterfall-series-connector-line-stroke"),Oj=Symbol("default-polar-series-stroke"),Wl=Symbol("default-diverging-series-colour-range"),Rj=Symbol("default-hierarchy-fills"),Tj=Symbol("default-hierarchy-strokes"),UL="white",b6e={fills:Object.values(bu),strokes:Object.values(qf)},tN={get cartesian(){return{seriesTypes:Is.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:Is.polarTypes,commonOptions:[]}},get hierarchy(){return{seriesTypes:Is.hierarchyTypes,commonOptions:[]}}},E6e=Object.values(tN).reduce((n,{commonOptions:t})=>[...n,...t],[]);function O6e(n,t){var e,r;return n==null?null:{fills:(e=n.fills)!=null?e:t.fills,strokes:(r=n.strokes)!=null?r:t.strokes}}var nf=class Cn{getPalette(){return b6e}static getAxisDefaults(t){return Ht(t,{top:{},right:{},bottom:{},left:{},title:{enabled:!1,text:"Axis Title",spacing:25,fontWeight:"normal",fontSize:13,fontFamily:ui,color:pr},label:{fontSize:12,fontFamily:ui,padding:5,color:pr,avoidCollisions:!0},line:{enabled:!0,width:1,color:JE},tick:{enabled:!1,width:1,color:JE},gridLine:{enabled:!0,style:[{stroke:cT,lineDash:[]}]},crossLines:{enabled:!1,fill:Ow,stroke:Ow,fillOpacity:.1,strokeWidth:1,label:{enabled:!1,fontSize:12,fontFamily:ui,padding:5,color:pr}}})}static getSeriesDefaults(){return{tooltip:{enabled:!0},visible:!0,showInLegend:!0,highlightStyle:{item:{fill:"rgba(255,255,255, 0.33)",stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2},series:{dimOpacity:1},text:{color:"black"}},nodeClickRange:"exact"}}static getCartesianSeriesMarkerDefaults(){return{enabled:!0,shape:"circle",size:7,strokeWidth:1}}static getLegendItemMarkerDefaults(){return{size:15,padding:8}}static getCaptionWrappingDefaults(){return"hyphenate"}static getChartDefaults(){return{background:{visible:!0,fill:T0},padding:{top:20,right:20,bottom:20,left:20},title:{enabled:!1,text:"Title",fontWeight:"normal",fontSize:17,fontFamily:ui,color:pr,wrapping:Cn.getCaptionWrappingDefaults()},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontSize:13,fontFamily:ui,color:Em,wrapping:Cn.getCaptionWrappingDefaults()},footnote:{enabled:!1,text:"Footnote",spacing:20,fontSize:13,fontFamily:ui,color:"rgb(140, 140, 140)",wrapping:Cn.getCaptionWrappingDefaults()},legend:{position:"bottom",spacing:30,listeners:{},item:{paddingX:16,paddingY:8,marker:Cn.getLegendItemMarkerDefaults(),toggleSeriesVisible:!0,label:{color:pr,fontSize:12,fontFamily:ui}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:pr},inactiveStyle:{fill:Em},highlightStyle:{fill:pr},label:{color:pr}}},tooltip:{enabled:!0,darkTheme:_f,range:"nearest",delay:0},overlays:{loading:{darkTheme:_f},noData:{darkTheme:_f},noVisibleSeries:{darkTheme:_f}},listeners:{}}}constructor(t){var e;t=io(t??{});const{overrides:r=null,palette:i=null}=t,o=this.createChartConfigPerChartType(this.getDefaults());if(r){const{common:s}=r,l=(u,c)=>{if(c)for(const d of u){const p=d;o[p]=Ht(c,o[p])}};for(const[,{seriesTypes:u,commonOptions:c}]of Object.entries(tN)){const d=de({},s);for(const p of E6e)c.includes(p)||delete d[p];l(u,d)}Is.seriesTypes.forEach(u=>{const c=u;r[c]&&(o[c]=Ht(r[c],o[c]))})}const a=this.getPalette();this.palette=(e=O6e(i,a))!=null?e:a,this.config=Object.freeze(this.templateTheme(o))}createChartConfigPerChartType(t){return Object.entries(tN).forEach(([e,{seriesTypes:r}])=>{const i=H4(e);r.forEach(o=>{const a=o;t[a]||(t[a]=io(i))})}),t}getDefaults(){const t=r=>de(de(de({axes:{}},_6e()),Cn.getChartDefaults()),H4(r)),e=(r,i)=>{var o;const a=t(r),s={};for(const l of i){s[l]=Ht(c6e(l),(o=s[l])!=null?o:io(a));const{axes:u}=s[l];for(const c of xj.axesTypes)u[c]=Ht(u[c],BKe(c),r==="cartesian"&&Cn.cartesianAxisDefault[c])}return s};return Ht(e("cartesian",Is.cartesianTypes),e("polar",Is.polarTypes),e("hierarchy",Is.hierarchyTypes))}templateTheme(t){const e=io(t),{extensions:r,properties:i}=this.getTemplateParameters();return Nu(e,o=>{if(o.__extends__){const a=o.__extends__,s=r.get(a);if(s==null)throw new Error(`AG Charts - no template variable provided for: ${a}`);Object.keys(s).forEach(l=>{l in o?Ju(o[l])&&(o[l]=Ht(o[l],s[l])):o[l]=s[l]}),delete o.__extends__}if(o.__overrides__){const a=o.__overrides__,s=r.get(a);if(s==null)throw new Error(`AG Charts - no template variable provided for: ${a}`);Object.assign(o,s),delete o.__overrides__}if(ni(o))for(let a=0;a<o.length;a++){const s=o[a];i.has(s)&&(o[a]=i.get(s))}else for(const[a,s]of Object.entries(o))i.has(s)&&(o[a]=i.get(s))}),io(e)}static getWaterfallSeriesDefaultPositiveColors(){return{fill:bu.BLUE,stroke:qf.BLUE,label:{color:pr}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:bu.ORANGE,stroke:qf.ORANGE,label:{color:pr}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:bu.GRAY,stroke:qf.GRAY,label:{color:pr}}}getTemplateParameters(){const t=new Map;t.set(kte,Cn.getChartDefaults()),t.set(jte,Cn.getAxisDefaults()),t.set(Gte,Cn.getChartDefaults().legend),t.set(Vte,Cn.getChartDefaults().legend.item),t.set(Bte,Cn.getLegendItemMarkerDefaults()),t.set(Hte,Cn.getAxisDefaults().label),t.set($te,Cn.getAxisDefaults().line),t.set(Wte,Cn.getAxisDefaults().tick),t.set(Ute,Cn.getAxisDefaults().gridLine),t.set(Sd,Cn.getSeriesDefaults()),t.set(zte,{}),t.set(Oy,Cn.getCartesianSeriesMarkerDefaults());const e=new Map;return e.set(_f,!1),e.set(ui,"Verdana, sans-serif"),e.set(pr,"rgb(70, 70, 70)"),e.set(Kte,"white"),e.set(Em,"rgb(140, 140, 140)"),e.set(cT,"rgb(224,234,241)"),e.set(JE,"rgb(195, 195, 195)"),e.set(Ow,"rgb(70, 70, 70)"),e.set(Ry,UL),e.set(T0,UL),e.set(Ty,"rgba(0, 0, 0, 0.5)"),e.set(Wl,[bu.ORANGE,bu.YELLOW,bu.GREEN]),e.set(Rj,["#ffffff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"]),e.set(Tj,["#ffffff","#c5cbd1","#a4b1bd","#8498a9","#648096"]),e.set(Oj,UL),e.set(Bl,Cn.getWaterfallSeriesDefaultPositiveColors()),e.set(jl,Cn.getWaterfallSeriesDefaultNegativeColors()),e.set(Hl,Cn.getWaterfallSeriesDefaultTotalColors()),e.set($l,Cn.getWaterfallSeriesDefaultTotalColors().stroke),{extensions:t,properties:e}}};nf.cartesianAxisDefault={number:nf.getAxisDefaults({line:{enabled:!1}}),log:nf.getAxisDefaults({base:10,line:{enabled:!1}}),category:nf.getAxisDefaults({groupPaddingInner:.1,label:{autoRotate:!0},gridLine:{enabled:!1}}),time:nf.getAxisDefaults({gridLine:{enabled:!1}}),"grouped-category":nf.getAxisDefaults()};var wd=nf,zL="#192232",of={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},eO={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},R6e={fills:Object.values(of),strokes:Object.values(eO)},N_=class LS extends wd{static getWaterfallSeriesDefaultPositiveColors(){return{fill:of.BLUE,stroke:eO.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:of.ORANGE,stroke:eO.ORANGE,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:of.GRAY,stroke:eO.GRAY,label:{color:"white"}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(_f,!0),t.properties.set(Bl,LS.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(jl,LS.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(Hl,LS.getWaterfallSeriesDefaultTotalColors()),t.properties.set($l,LS.getWaterfallSeriesDefaultTotalColors().stroke),t.properties.set(Oj,zL),t.properties.set(pr,"white"),t.properties.set(Em,"#7D91A0"),t.properties.set(cT,"#545A6E"),t.properties.set(Ow,"white"),t.properties.set(Wl,[of.ORANGE,of.YELLOW,of.GREEN]),t.properties.set(Rj,["#192834","#253746","#324859","#3f596c","#4d6a80"]),t.properties.set(Tj,["#192834","#3b5164","#496275","#577287","#668399"]),t.properties.set(T0,zL),t.properties.set(Ry,zL),t}getPalette(){return R6e}constructor(t){super(t)}},af={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},tO={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},T6e={fills:Object.values(af),strokes:Object.values(tO)},P6e=class FS extends N_{static getWaterfallSeriesDefaultPositiveColors(){return{fill:af.BLUE,stroke:tO.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:af.RED,stroke:tO.RED,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:af.GRAY,stroke:tO.GRAY,label:{color:"white"}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(Bl,FS.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(jl,FS.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(Hl,FS.getWaterfallSeriesDefaultTotalColors()),t.properties.set(Wl,[af.ORANGE,af.YELLOW,af.GREEN]),t.properties.set($l,FS.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return T6e}},sf={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},rO={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},D6e={fills:Object.values(sf),strokes:Object.values(rO)},A6e=class IS extends wd{static getWaterfallSeriesDefaultPositiveColors(){return{fill:sf.BLUE,stroke:rO.BLUE,label:{color:pr}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:sf.RED,stroke:rO.RED,label:{color:pr}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:sf.GRAY,stroke:rO.GRAY,label:{color:pr}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(Bl,IS.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(jl,IS.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(Hl,IS.getWaterfallSeriesDefaultTotalColors()),t.properties.set(Wl,[sf.ORANGE,sf.YELLOW,sf.GREEN]),t.properties.set($l,IS.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return D6e}},NS={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4"},rN={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff"},M6e="#bbbbbb",L6e="#eeeeee",F6e={fills:Object.values(NS),strokes:Object.values(rN)},I6e=class kS extends N_{static getWaterfallSeriesDefaultPositiveColors(){return{fill:NS.BLUE,stroke:rN.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:NS.RED,stroke:rN.RED,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:M6e,stroke:L6e,label:{color:"white"}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(Bl,kS.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(jl,kS.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(Hl,kS.getWaterfallSeriesDefaultTotalColors()),t.properties.set(Wl,[NS.BLUE,NS.RED]),t.properties.set($l,kS.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return F6e}},GS={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4"},nN={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb"},N6e="#bbbbbb",k6e="#888888",G6e={fills:Object.values(GS),strokes:Object.values(nN)},V6e=class VS extends wd{static getWaterfallSeriesDefaultPositiveColors(){return{fill:GS.BLUE,stroke:nN.BLUE,label:{color:pr}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:GS.RED,stroke:nN.RED,label:{color:pr}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:N6e,stroke:k6e,label:{color:pr}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(Bl,VS.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(jl,VS.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(Hl,VS.getWaterfallSeriesDefaultTotalColors()),t.properties.set(Wl,[GS.BLUE,GS.RED]),t.properties.set($l,VS.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return G6e}},lf={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},nO={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},B6e={fills:Object.values(lf),strokes:Object.values(nO)},j6e=class BS extends N_{static getWaterfallSeriesDefaultPositiveColors(){return{fill:lf.BLUE,stroke:nO.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:lf.ORANGE,stroke:nO.ORANGE,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:lf.GRAY,stroke:nO.GRAY,label:{color:"white"}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(Bl,BS.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(jl,BS.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(Hl,BS.getWaterfallSeriesDefaultTotalColors()),t.properties.set(Wl,[lf.ORANGE,lf.YELLOW,lf.GREEN]),t.properties.set($l,BS.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return B6e}},uf={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},iO={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},H6e={fills:Object.values(uf),strokes:Object.values(iO)},$6e=class jS extends wd{static getWaterfallSeriesDefaultPositiveColors(){return{fill:uf.BLUE,stroke:iO.BLUE,label:{color:pr}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:uf.ORANGE,stroke:iO.ORANGE,label:{color:pr}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:uf.GRAY,stroke:iO.GRAY,label:{color:pr}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(Bl,jS.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(jl,jS.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(Hl,jS.getWaterfallSeriesDefaultTotalColors()),t.properties.set(Wl,[uf.ORANGE,uf.YELLOW,uf.GREEN]),t.properties.set($l,jS.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return H6e}},cf={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},oO={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#c18aff",YELLOW:"#fff653",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},W6e={fills:Object.values(cf),strokes:Object.values(oO)},U6e=class HS extends N_{static getWaterfallSeriesDefaultPositiveColors(){return{fill:cf.BLUE,stroke:oO.BLUE,label:{color:"white"}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:cf.ORANGE,stroke:oO.ORANGE,label:{color:"white"}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:cf.GRAY,stroke:oO.GRAY,label:{color:"white"}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(Bl,HS.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(jl,HS.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(Hl,HS.getWaterfallSeriesDefaultTotalColors()),t.properties.set(Wl,[cf.ORANGE,cf.YELLOW,cf.GREEN]),t.properties.set($l,HS.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return W6e}},df={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},aO={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},z6e={fills:Object.values(df),strokes:Object.values(aO)},K6e=class $S extends wd{static getWaterfallSeriesDefaultPositiveColors(){return{fill:df.BLUE,stroke:aO.BLUE,label:{color:pr}}}static getWaterfallSeriesDefaultNegativeColors(){return{fill:df.ORANGE,stroke:aO.ORANGE,label:{color:pr}}}static getWaterfallSeriesDefaultTotalColors(){return{fill:df.GRAY,stroke:aO.GRAY,label:{color:pr}}}getTemplateParameters(){const t=super.getTemplateParameters();return t.properties.set(Bl,$S.getWaterfallSeriesDefaultPositiveColors()),t.properties.set(jl,$S.getWaterfallSeriesDefaultNegativeColors()),t.properties.set(Hl,$S.getWaterfallSeriesDefaultTotalColors()),t.properties.set(Wl,[df.ORANGE,df.YELLOW,df.GREEN]),t.properties.set($l,$S.getWaterfallSeriesDefaultTotalColors().stroke),t}getPalette(){return z6e}},Rw=()=>new wd,KL=()=>new N_,Y6e={undefined:Rw,null:Rw,"ag-default":Rw,"ag-sheets":()=>new $6e,"ag-polychroma":()=>new V6e,"ag-vivid":()=>new K6e,"ag-material":()=>new A6e},q6e={undefined:KL,null:KL,"ag-default-dark":KL,"ag-sheets-dark":()=>new j6e,"ag-polychroma-dark":()=>new I6e,"ag-vivid-dark":()=>new U6e,"ag-material-dark":()=>new P6e},Yte=de(de({},q6e),Y6e);function X6e(n){if(n===null)return;let t=!0;const{baseTheme:e,palette:r,overrides:i}=n;if(e!==void 0&&typeof e!="string"&&typeof e!="object"&&(Ue.warn(`invalid theme.baseTheme type ${typeof e}, expected (string | object).`),t=!1),i!==void 0&&typeof i!="object"&&(Ue.warn(`invalid theme.overrides type ${typeof i}, expected object.`),t=!1),typeof r=="object"){if(r!==null){const{fills:o,strokes:a}=r;o!==void 0&&!Array.isArray(o)&&(Ue.warn("theme.overrides.fills must be undefined or an array"),t=!1),a!==void 0&&!Array.isArray(a)&&(Ue.warn("theme.overrides.strokes must be undefined or an array"),t=!1)}}else r!==void 0&&(Ue.warn(`invalid theme.palette type ${typeof r}, expected object.`),t=!1);if(t)return n}function Z6e(n){if(n===void 0||typeof n=="string"||n instanceof wd)return n;if(typeof n=="object")return X6e(n);Ue.warn(`invalid theme value type ${typeof n}, expected object or string.`)}function Pj(n){let t=Z6e(n);if(t instanceof wd)return t;if(t===void 0||typeof t=="string"){const a=Yte[t];return a?a():(Ue.warnOnce(`the theme [${t}] is invalid, using [ag-default] instead.`),Rw())}const e=[];let r;for(;typeof t=="object";)e.push(t.overrides),r??(r=t.palette),t=t.baseTheme;const i={baseTheme:t,overrides:Ht(...e),palette:r},o=i.baseTheme?Pj(i.baseTheme):Rw();return new o.constructor(i)}function ac(n){if(n.length===0)return;let t=1/0,e=-1/0;for(let i of n)i instanceof Date&&(i=i.getTime()),typeof i=="number"&&(i<t&&(t=i),i>e&&(e=i));const r=[t,e];if(r.every(isFinite))return r}function qte(n,t,e){return k_(n,t,e).extent}function k_(n,t,e){var r;let i=!1;return n.length>2&&(n=(r=ac(n))!=null?r:[NaN,NaN]),isNaN(t)||(i||(i=t>n[0]),n=[t,n[1]]),isNaN(e)||(i||(i=e<n[1]),n=[n[0],e]),n[0]>n[1]&&(n=[]),{extent:n,clipped:i}}function Tw(n,t){if(n==null||t==null||n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(Array.isArray(n[e])&&Array.isArray(t[e])){if(!Tw(n[e],t[e]))return!1}else if(n[e]!==t[e])return!1;return!0}function dT(n){return typeof n>"u"?[]:Array.isArray(n)?n:[n]}function Dj(n){return Array.from(new Set(n))}function Aj(n,t){return n.reduce((e,r)=>{var i;const o=t(r);return(i=e[o])!=null||(e[o]=[]),e[o].push(r),e},{})}function iN(n,t,e=0){if(n.length===0)return[];const r=[];for(let i=0;i<t;i++)r.push(n.at((i+e)%n.length));return r}function oN(n){const t=typeof window<"u"?window:void 0;return t==null?void 0:t[n]}var Q6e=2e3,W4=Date.now(),J6e=()=>{const n=Date.now()-W4;if(n>Q6e){const t=(Math.floor(n/100)/10).toFixed(1);Ue.log(`**** ${t}s since last log message ****`)}W4=Date.now()},Rn={create(...n){return Object.assign((...e)=>{Rn.check(...n)&&(typeof e[0]=="function"&&(e=dT(e[0]())),J6e(),Ue.log(...e))},{check:()=>Rn.check(...n)})},check(...n){return n.length===0&&n.push(!0),dT(oN("agChartsDebug")).some(e=>n.includes(e))}},Xte=class{constructor(n,t){var e,r,i;const o={shallow:["data"]},a=io(n,o),s=this.optionsType(a);this.sanityCheckAndCleanup(a),this.userOptions=a,this.activeTheme=Pj(a.theme),this.seriesDefaults=this.getOptionsDefaults(a),this.specialOverrides=this.specialOverridesDefaults(de({},t));const l=this.getSeriesThemeConfig(s),{axes:u={},series:c}=l,d=di(l,["axes","series"]);this.processedOptions=io(Ht(this.userOptions,d,this.seriesDefaults),o),this.processAxesOptions(this.processedOptions,u),this.processSeriesOptions(this.processedOptions),(Yf(this.processedOptions)||n6e(this.processedOptions))&&((e=this.processedOptions.legend)==null?void 0:e.enabled)==null&&((i=(r=this.processedOptions).legend)!=null||(r.legend={}),this.processedOptions.legend.enabled=this.processedOptions.series.length>1),this.enableConfiguredOptions(this.processedOptions),_m.isEnterprise||a6e(this.processedOptions)}getOptions(){var n;return(n=this.processedOptions)!=null?n:{}}diffOptions(n){return ss(n,this.processedOptions)}getSeriesThemeConfig(n){var t,e;return io((e=(t=this.activeTheme)==null?void 0:t.config[n])!=null?e:{})}getOptionsDefaults(n){const t=this.optionsType(n),e=u6e(t);return w6e(n)&&this.swapAxesPosition(e),e}optionsType(n){var t,e,r;return(r=(e=(t=n.series)==null?void 0:t[0])==null?void 0:e.type)!=null?r:"line"}sanityCheckAndCleanup(n){var t;this.deprecationWarnings(n),this.axesTypeIntegrity(n),this.seriesTypeIntegrity(n),this.soloSeriesIntegrity(n),this.removeDisabledOptions(n),this.removeLeftoverSymbols(n),(t=n.series)!=null&&t.some(e=>e.type==="bullet")&&n.sync!=null&&n.sync.enabled!==!1&&(Ue.warnOnce("bullet series cannot be synced, disabling synchronization."),delete n.sync)}swapAxesPosition(n){var t;if(Yf(n)){const[e,r]=(t=n.axes)!=null?t:[];n.axes=[Xe(de({},e),{position:r.position}),Xe(de({},r),{position:e.position})]}}processAxesOptions(n,t){"axes"in n&&(n.axes=n.axes.map(e=>{var r,i,o,a;const s=Ht((r=this.seriesDefaults.axes)==null?void 0:r.find(({type:h})=>h===e.type),(i=t[e.type])==null?void 0:i[e.position],t[e.type]),{crossLines:l}=s,u=di(s,["crossLines"]);e.crossLines&&(e.crossLines=X1(e.crossLines,l));const c=(o=u.gridLine)==null?void 0:o.style;(a=e.gridLine)!=null&&a.style&&(c!=null&&c.length)&&(e.gridLine.style=e.gridLine.style.map((h,f)=>h.stroke!=null||h.lineDash!=null?Ht(h,c.at(f%c.length)):h));const d=Ht(e,u);return di(d,["top","right","bottom","left"])}))}processSeriesOptions(n){const t=this.getDefaultSeriesType(n),e=this.getTooltipPositionDefaults(n),r={colourIndex:0,userPalette:!!(Ju(n.theme)&&n.theme.palette)},i=n.series.map(o=>{var a,s;(a=o.type)!=null||(o.type=t);const l=(s=this.getSeriesThemeConfig(o.type).series)!=null?s:{},{innerLabels:u}=l,c=di(l,["innerLabels"]),d=Ht(this.getSeriesGroupingOptions(o),o,e,c,this.getSeriesPalette(o.type,r));return d.innerLabels&&(d.innerLabels=X1(d.innerLabels,u)),this.activeTheme.templateTheme(d)});n.series=this.setSeriesGroupingOptions(i)}getSeriesPalette(n,t){const e=p6e(n),{colourIndex:r,userPalette:i}=t,{fills:o=[],strokes:a=[]}=this.activeTheme.palette;return e==null?void 0:e({userPalette:i,colorsCount:Math.max(o.length,a.length),themeTemplateParameters:this.activeTheme.getTemplateParameters(),takeColors(s){return t.colourIndex+=s,{fills:iN(o,s,r),strokes:iN(a,s,r)}}})}getSeriesGroupingOptions(n){const t=f6e(n.type),e=h6e(n.type),r=v6e(n.type);n.grouped&&!t&&Ue.warnOnce(`unsupported grouping of series type "${n.type}".`),(n.stacked||n.stackGroup)&&!e&&Ue.warnOnce(`unsupported stacking of series type "${n.type}".`);let{grouped:i,stacked:o}=n;return o??(o=(r||n.stackGroup!=null)&&!(t&&i)),i??(i=!0),{stacked:e&&o,grouped:t&&i&&!(e&&o)}}setSeriesGroupingOptions(n){const t=this.getSeriesGrouping(n);Rn.create(!0,"opts")("setSeriesGroupingOptions() - series grouping: ",t);const e={},r=t.reduce((i,o)=>{var a,s;return o.groupType==="default"||((s=i[a=o.seriesType])!=null||(i[a]=0),i[o.seriesType]+=o.groupType==="stack"?1:o.series.length),i},{});return t.flatMap(i=>{var o,a;switch((a=e[o=i.seriesType])!=null||(e[o]=0),i.groupType){case"stack":const s=e[i.seriesType]++;return i.series.map((l,u)=>Object.assign(l,{seriesGrouping:{groupIndex:s,groupCount:r[i.seriesType],stackIndex:u,stackCount:i.series.length}}));case"group":return i.series.map(l=>Object.assign(l,{seriesGrouping:{groupIndex:e[i.seriesType]++,groupCount:r[i.seriesType],stackIndex:0,stackCount:0}}))}return i.series}).map(i=>{var o=i,a=di(o,["stacked","grouped"]);return a})}getSeriesGroupId(n){var t;return!n.stacked&&!n.grouped?"default-ag-charts-group":[n.type,n.xKey,n.stacked?(t=n.stackGroup)!=null?t:"stacked":"grouped"].filter(Boolean).join("-")}getSeriesGrouping(n){const t=new Map;return n.reduce((e,r)=>{const i=r.type;if(!r.stacked&&!r.grouped)e.push({groupType:"default",seriesType:i,series:[r]});else{const o=this.getSeriesGroupId(r);if(!t.has(o)){const s={groupType:r.stacked?"stack":"group",seriesType:i,series:[]};t.set(o,s),e.push(s)}t.get(o).series.push(r)}return e},[])}getDefaultSeriesType(n){if(Yf(n))return"line";if(Ej(n))return"treemap";if(F_(n))return"pie";throw new Error("Invalid chart options type detected.")}getTooltipPositionDefaults(n){var t;const e=(t=n.tooltip)==null?void 0:t.position;if(!Ys(e))return;const{type:r,xOffset:i,yOffset:o}=e,a={};return js(r)&&pte(Yee,r)&&(a.type=r),fr(i)&&(a.xOffset=i),fr(o)&&(a.yOffset=o),{tooltip:{position:a}}}deprecationWarnings(n){Object.entries({yKeys:"yKey",yNames:"yName"}).forEach(([e,r])=>{var i;(i=n.series)!=null&&i.some(o=>o[e]!=null)&&Ue.warnOnce(`Property [series.${e}] is deprecated, please use [series.${r}] and multiple series instead.`)})}axesTypeIntegrity(n){var t;if("axes"in n){const e=(t=n.axes)!=null?t:[];for(const{type:r}of e)o6e(r)||(delete n.axes,Ue.warnOnce(`unknown axis type: ${r}; expected one of: ${xj.axesTypes.join(", ")}, ignoring.`))}}seriesTypeIntegrity(n){var t;const e=(t=n.series)!=null?t:[];n.series=e.filter(({type:r})=>{if(r==null||i6e(r)||mte(r))return!0;Ue.warnOnce(`unknown series type: ${r}; expected one of: ${Is.seriesTypes.join(", ")}`)})}soloSeriesIntegrity(n){const t=n.series;if(t&&t.length>1&&t.some(e=>WL(e.type))){const e=this.optionsType(n);if(WL(e))Ue.warn(`series[0] of type '${e}' is incompatible with other series types. Only processing series[0]`),n.series=t.slice(0,1);else{const{solo:r,nonSolo:i}=Aj(t,a=>WL(a.type)?"solo":"nonSolo"),o=Dj(r.map(a=>a.type)).join(", ");Ue.warn(`Unable to mix these series types with the lead series type: ${o}`),n.series=i}}}enableConfiguredOptions(n){Nu(this.userOptions,(t,e)=>{e&&"enabled"in e&&!e._enabledFromTheme&&t.enabled==null&&(e.enabled=!0)},{skip:["data","theme"]},n),Nu(n,t=>{t._enabledFromTheme!=null&&delete t._enabledFromTheme},{skip:["data","theme"]})}removeDisabledOptions(n){Nu(n,t=>{"enabled"in t&&t.enabled===!1&&Object.keys(t).forEach(e=>{e!=="enabled"&&delete t[e]})},{skip:["data","theme"]})}removeLeftoverSymbols(n){Nu(n,t=>{if(!(!t||!Ju(t)))for(const[e,r]of Object.entries(t))hte(r)&&delete t[e]},{skip:["data"]})}specialOverridesDefaults(n){if(n.window==null)if(typeof window<"u")n.window=window;else if(typeof global<"u")n.window=global.window;else throw new Error("AG Charts - unable to resolve global window");if(n.document==null)if(typeof document<"u")n.document=document;else if(typeof global<"u")n.document=global.document;else throw new Error("AG Charts - unable to resolve global document");return n}};function Mj(){return(n,t)=>{const e=[`Property [${n}] is deprecated.`,t].filter(Boolean).join(" ");Ue.warnOnce(e)}}function Pv(n,t){const e=Mj(),r=t==null?void 0:t.default;return ud((i,o,a)=>(a!==r&&e(o.toString(),n),a))}function eYe(n,t){const e=Mj();return ud((r,i,o)=>(o!==r[n]&&(e(i.toString(),`Use [${n}] instead.`),r[n]=t?t(o):o),lT),(r,i)=>(e(i.toString(),`Use [${n}] instead.`),r[n]))}var Zte={};yd(Zte,{NODE_UPDATE_PHASES:()=>pre,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>bo,fromToMotion:()=>tn,staticFromToMotion:()=>lc});function aN(n,t){const e={};if(Array.isArray(t))for(let r=0;r<n.length;r++)e[`${n[r]}`]=t[r];else for(let r=0;r<n.length;r++)e[`${n[r]}`]=t;return e}var sN=new Map;function Qte(){sN.clear()}function sc(n){var t;const e=n.constructor,r=Object.hasOwn(e,"className")?e.className:e.name;if(!r)throw new Error(`The ${e} is missing the 'className' property.`);const i=((t=sN.get(r))!=null?t:0)+1;return sN.set(r,i),`${r}-${i}`}var op=(n=>(n[n.NONE=0]="NONE",n[n.TRIVIAL=1]="TRIVIAL",n[n.MINOR=2]="MINOR",n[n.MAJOR=3]="MAJOR",n))(op||{});function tYe(){try{return new Function("return true"),!0}catch{return!1}}var rYe=tYe();function Je(n){const{changeCb:t,convertor:e}=n??{};return function(r,i){const o=`__${i}`;r[i]||(rYe&&t==null&&e==null?nYe(r,i,o,n):iYe(r,i,o,n))}}function nYe(n,t,e,r){const{redraw:i=1,type:o="normal",checkDirtyOnAssignment:a=!1}=r??{},s=new Function("value",`
        const oldValue = this.${e};
        if (value !== oldValue) {
            this.${e} = value;
            ${o==="normal"?`this.markDirty(this, ${i});`:""}
            ${o==="transform"?`this.markDirtyTransform(${i});`:""}
            ${o==="path"?`if (!this._dirtyPath) { this._dirtyPath = true; this.markDirty(this, ${i}); }`:""}
            ${o==="font"?`if (!this._dirtyFont) { this._dirtyFont = true; this.markDirty(this, ${i}); }`:""}
        }
        ${a?"if (value != null && value._dirty > 0) { this.markDirty(value, value._dirty); }":""}
`),l=new Function(`return this.${e};`);Object.defineProperty(n,t,{set:s,get:l,enumerable:!0,configurable:!0})}function iYe(n,t,e,r){const{redraw:i=1,type:o="normal",changeCb:a,convertor:s,checkDirtyOnAssignment:l=!1}=r??{};Object.defineProperty(n,t,{set:function(d){const p=this[e];d=s?s(d):d,d!==p&&(this[e]=d,o==="normal"&&this.markDirty(this,i),o==="transform"&&this.markDirtyTransform(i),o==="path"&&!this._dirtyPath&&(this._dirtyPath=!0,this.markDirty(this,i)),o==="font"&&!this._dirtyFont&&(this._dirtyFont=!0,this.markDirty(this,i)),a&&a(this)),l&&d!=null&&d._dirty>0&&this.markDirty(d,d._dirty)},get:function(){return this[e]},enumerable:!0,configurable:!0})}var oYe=class{constructor(){this._dirty=3}markDirty(n,t=1){this._dirty<t&&(this._dirty=t)}markClean(n){this._dirty=0}isDirty(){return this._dirty>0}};function rr(n,t,e){return Math.min(e,Math.max(n,t))}function pT(n,t){const[e,r]=cd(t);return rr(e,n,r)}function cd(n){return n.length?[Math.min(...n),Math.max(...n)]:[]}function ny(n){const[t,e]=cd(n);return e-t}function Xf(n,t,e=1e-10){return Math.abs(n-t)<e}function G_(n){return Math.sign(n)===-1||Object.is(n,-0)}function Lj(n,t=2){const e=It(10,t);return Math.round(n*e)/e}function GD(n,t=2){const e=Math.floor(Math.log(Math.abs(n))/Math.LN10);return e>=0||!isFinite(e)?n.toFixed(t):n.toFixed(Math.abs(e)-1+t)}function VD(n,t){return Math.floor(n%t+(n<0?t:0))}function Fj(n,t=10){const[,e=""]=(Math.abs(n)%1).toLocaleString("en-GB",{minimumFractionDigits:0,maximumFractionDigits:t}).split(".");return e.length}function Jte(n,t,e=1/0){const r={nearest:void 0,distanceSquared:e};for(const i of t){const o=i.distanceSquared(n);if(o===0)return{nearest:i,distanceSquared:0};o<r.distanceSquared&&(r.nearest=i,r.distanceSquared=o)}return r}function aYe(n,t,e=1/0){const r=t.transformPoint(n.x,n.y),i={nearest:void 0,distanceSquared:e};for(const o of t.children){const{nearest:a,distanceSquared:s}=o.nearestSquared(r,i.distanceSquared);if(s===0)return{nearest:a,distanceSquared:s};s<i.distanceSquared&&(i.nearest=a,i.distanceSquared=s)}return i}var lN=class uN{constructor(t,e,r,i){this.x=t,this.y=e,this.width=r,this.height=i}clone(){const{x:t,y:e,width:r,height:i}=this;return new uN(t,e,r,i)}equals(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}containsPoint(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height}collidesBBox(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y}isInfinite(){return Math.abs(this.x)===1/0||Math.abs(this.y)===1/0||Math.abs(this.width)===1/0||Math.abs(this.height)===1/0}distanceSquared(t){if(this.containsPoint(t.x,t.y))return 0;const e=t.x-rr(this.x,t.x,this.x+this.width),r=t.y-rr(this.y,t.y,this.y+this.height);return e*e+r*r}static nearestBox(t,e){return Jte(t,e)}shrink(t,e){const r=(i,o)=>{switch(i){case"top":this.y+=o;case"bottom":this.height-=o;break;case"left":this.x+=o;case"right":this.width-=o;break;case"vertical":this.y+=o,this.height-=o*2;break;case"horizontal":this.x+=o,this.width-=o*2;break;case void 0:this.x+=o,this.width-=o*2,this.y+=o,this.height-=o*2;break}};return typeof t=="number"?r(e,t):typeof t=="object"&&Object.entries(t).forEach(([i,o])=>r(i,o)),this}grow(t,e){if(typeof t=="number")this.shrink(-t,e);else{const r=de({},t);for(const i in r)r[i]*=-1;this.shrink(r)}return this}static merge(t){let e=1/0,r=1/0,i=-1/0,o=-1/0;return t.forEach(a=>{a.x<e&&(e=a.x),a.y<r&&(r=a.y),a.x+a.width>i&&(i=a.x+a.width),a.y+a.height>o&&(o=a.y+a.height)}),new uN(e,r,i-e,o-r)}};lN.zero=new lN(0,0,0,0);var Tt=lN,cN=class WS{get e(){return[...this.elements]}constructor(t=[1,0,0,1,0,0]){this.elements=t}setElements(t){const e=this.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this}get identity(){const t=this.elements;return t[0]===1&&t[1]===0&&t[2]===0&&t[3]===1&&t[4]===0&&t[5]===0}AxB(t,e,r){const i=t[0]*e[0]+t[2]*e[1],o=t[1]*e[0]+t[3]*e[1],a=t[0]*e[2]+t[2]*e[3],s=t[1]*e[2]+t[3]*e[3],l=t[0]*e[4]+t[2]*e[5]+t[4],u=t[1]*e[4]+t[3]*e[5]+t[5];r=r??t,r[0]=i,r[1]=o,r[2]=a,r[3]=s,r[4]=l,r[5]=u}multiplySelf(t){return this.AxB(this.elements,t.elements),this}multiply(t){const e=new Array(6);return this.AxB(this.elements,t.elements,e),new WS(e)}preMultiplySelf(t){return this.AxB(t.elements,this.elements,this.elements),this}inverse(){const t=this.elements;let e=t[0],r=t[1],i=t[2],o=t[3];const a=t[4],s=t[5],l=1/(e*o-r*i);return e*=l,r*=l,i*=l,o*=l,new WS([o,-r,-i,e,i*s-o*a,r*a-e*s])}inverseTo(t){const e=this.elements;let r=e[0],i=e[1],o=e[2],a=e[3];const s=e[4],l=e[5],u=1/(r*a-i*o);return r*=u,i*=u,o*=u,a*=u,t.setElements([a,-i,-o,r,o*l-a*s,i*s-r*l]),this}invertSelf(){const t=this.elements;let e=t[0],r=t[1],i=t[2],o=t[3];const a=t[4],s=t[5],l=1/(e*o-r*i);return e*=l,r*=l,i*=l,o*=l,t[0]=o,t[1]=-r,t[2]=-i,t[3]=e,t[4]=i*s-o*a,t[5]=r*a-e*s,this}transformPoint(t,e){const r=this.elements;return{x:t*r[0]+e*r[2]+r[4],y:t*r[1]+e*r[3]+r[5]}}transformBBox(t,e){const r=this.elements,i=r[0],o=r[1],a=r[2],s=r[3],l=t.width*.5,u=t.height*.5,c=t.x+l,d=t.y+u,p=Math.abs(l*i)+Math.abs(u*a),h=Math.abs(l*o)+Math.abs(u*s);return e||(e=new Tt(0,0,0,0)),e.x=c*i+d*a+r[4]-p,e.y=c*o+d*s+r[5]-h,e.width=p+p,e.height=h+h,e}toContext(t){if(this.identity)return;const e=this.elements;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}static flyweight(t){return WS.instance.setElements(t.elements)}static updateTransformMatrix(t,e,r,i,o,a,s){const[l,u]=[0,0],c=e,d=r;let p,h;c===1&&d===1?(p=0,h=0):(p=(s==null?void 0:s.scalingCenterX)==null?l:s==null?void 0:s.scalingCenterX,h=(s==null?void 0:s.scalingCenterY)==null?u:s==null?void 0:s.scalingCenterY);const f=i,v=Math.cos(f),g=Math.sin(f);let m,y;f===0?(m=0,y=0):(m=(s==null?void 0:s.rotationCenterX)==null?l:s==null?void 0:s.rotationCenterX,y=(s==null?void 0:s.rotationCenterY)==null?u:s==null?void 0:s.rotationCenterY);const C=o,S=a,w=p*(1-c)-m,_=h*(1-d)-y;return t.setElements([v*c,g*c,-g*d,v*d,v*w-g*_+m+C,g*w+v*_+y+S]),t}static fromContext(t){const e=t.getTransform();return new WS([e.a,e.b,e.c,e.d,e.e,e.f])}};cN.instance=new cN;var wl=cN,ere=(n=>(n[n.All=0]="All",n[n.None=1]="None",n))(ere||{}),tre=n=>{n.parent&&(n.parent.dirtyZIndex=!0),n.zIndexChanged()},Ca=class rre extends oYe{constructor({isVirtual:t,tag:e}={}){super(),this.serialNumber=rre._nextSerialNumber++,this.id=sc(this),this.isContainerNode=!1,this._virtualChildren=[],this._children=[],this.childSet={},this.matrix=new wl,this.inverseMatrix=new wl,this.dirtyTransform=!1,this.scalingX=1,this.scalingY=1,this.scalingCenterX=null,this.scalingCenterY=null,this.rotationCenterX=null,this.rotationCenterY=null,this.rotation=0,this.translationX=0,this.translationY=0,this.visible=!0,this.dirtyZIndex=!1,this.zIndex=0,this.zIndexSubOrder=void 0,this.pointerEvents=0,this.isVirtual=t??!1,this.tag=e??NaN}get datum(){var t,e;return(e=this._datum)!=null?e:(t=this._parent)==null?void 0:t.datum}get previousDatum(){return this._previousDatum}set datum(t){this._datum!==t&&(this._previousDatum=this._datum),this._datum=t}_setLayerManager(t){this._layerManager=t,this._debug=t==null?void 0:t.debug;for(const e of this._children)e._setLayerManager(t);for(const e of this._virtualChildren)e._setLayerManager(t)}get layerManager(){return this._layerManager}get parent(){return this._parent}get children(){if(this._virtualChildren.length===0)return this._children;const t=[...this._children];for(const e of this._virtualChildren)t.push(...e.children);return t}get virtualChildren(){return this._virtualChildren}hasVirtualChildren(){return this._virtualChildren.length>0}setProperties(t,e){const r=e??Object.keys(t);for(const i of r)this[i]=t[i];return this}append(t){Array.isArray(t)||(t=[t]);for(const e of t){if(e.parent)throw new Error(`${e} already belongs to another parent: ${e.parent}.`);if(e.layerManager)throw new Error(`${e} already belongs to a scene: ${e.layerManager}.`);if(this.childSet[e.id])throw new Error(`Duplicate ${e.constructor.name} node: ${e}`);e.isVirtual?this._virtualChildren.push(e):this._children.push(e),this.childSet[e.id]=!0,e._parent=this,e._setLayerManager(this.layerManager)}this.dirtyZIndex=!0,this.markDirty(this,3)}appendChild(t){return this.append(t),t}removeChild(t){const e=()=>{throw new Error("The node to be removed is not a child of this node.")};if(t.parent!==this&&e(),t.isVirtual){const r=this._virtualChildren.indexOf(t);r<0&&e(),this._virtualChildren.splice(r,1)}else{const r=this._children.indexOf(t);r<0&&e(),this._children.splice(r,1)}return delete this.childSet[t.id],t._parent=void 0,t._setLayerManager(),this.dirtyZIndex=!0,this.markDirty(t,3),t}calculateCumulativeMatrix(){this.computeTransformMatrix();const t=wl.flyweight(this.matrix);let e=this.parent;for(;e;)e.computeTransformMatrix(),t.preMultiplySelf(e.matrix),e=e.parent;return t}transformPoint(t,e){return this.calculateCumulativeMatrix().invertSelf().transformPoint(t,e)}inverseTransformPoint(t,e){return this.calculateCumulativeMatrix().transformPoint(t,e)}transformBBox(t){return this.calculateCumulativeMatrix().invertSelf().transformBBox(t)}inverseTransformBBox(t){return this.calculateCumulativeMatrix().transformBBox(t)}markDirtyTransform(){this.dirtyTransform=!0,this.markDirty(this,3)}containsPoint(t,e){return!1}pickNode(t,e){var r;if(!this.visible||this.pointerEvents===1||!this.containsPoint(t,e))return;const i=this.children;if(i.length>1e3)for(let o=i.length-1;o>=0;o--){const a=i[o],l=((r=a.computeTransformedBBox())==null?void 0:r.containsPoint(t,e))?a.pickNode(t,e):void 0;if(l)return l}else if(i.length)for(let o=i.length-1;o>=0;o--){const a=i[o].pickNode(t,e);if(a)return a}else if(!this.isContainerNode)return this}findNodes(t){const e=t(this)?[this]:[];for(const r of this.children){const i=r.findNodes(t);i&&e.push(...i)}return e}computeBBox(){}computeTransformedBBox(){const t=this.computeBBox();if(!t)return;this.computeTransformMatrix();const e=wl.flyweight(this.matrix);let r=this.parent;for(;r;)r.computeTransformMatrix(),e.preMultiplySelf(r.matrix),r=r.parent;return e.transformBBox(t,t),t}computeTransformMatrix(){if(!this.dirtyTransform)return;const{matrix:t,scalingX:e,scalingY:r,rotation:i,translationX:o,translationY:a,scalingCenterX:s,scalingCenterY:l,rotationCenterX:u,rotationCenterY:c}=this;wl.updateTransformMatrix(t,e,r,i,o,a,{scalingCenterX:s,scalingCenterY:l,rotationCenterX:u,rotationCenterY:c}),t.inverseTo(this.inverseMatrix),this.dirtyTransform=!1}render(t){const{stats:e}=t;this._dirty=0,e&&e.nodesRendered++}clearBBox(t){const e=this.computeBBox();if(e==null)return;const{x:r,y:i,width:o,height:a}=e,s=this.transformPoint(r,i),l=this.transformPoint(r+o,i+a);t.clearRect(s.x,s.y,l.x-s.x,l.y-s.y)}markDirty(t,e=1,r=e){this._dirty>e||this._dirty===e&&e===r||(this._dirty=e,this.parent?this.parent.markDirty(this,r):this.layerManager&&this.layerManager.markDirty())}get dirty(){return this._dirty}markClean(t){const{force:e=!1,recursive:r=!0}=t??{};if(!(this._dirty===0&&!e)){if(this._dirty=0,r!==!1)for(const i of this._virtualChildren)i.markClean({force:e});if(r===!0)for(const i of this._children)i.markClean({force:e})}}visibilityChanged(){}get nodeCount(){let t=1,e=this._dirty>=0||this.dirtyTransform?1:0,r=this.visible?1:0;const i=o=>{const{count:a,visibleCount:s,dirtyCount:l}=o.nodeCount;t+=a,r+=s,e+=l};for(const o of this._children)i(o);for(const o of this._virtualChildren)i(o);return{count:t,visibleCount:r,dirtyCount:e}}zIndexChanged(){}};Ca._nextSerialNumber=0;D([Je({type:"transform"})],Ca.prototype,"scalingX",2);D([Je({type:"transform"})],Ca.prototype,"scalingY",2);D([Je({type:"transform"})],Ca.prototype,"scalingCenterX",2);D([Je({type:"transform"})],Ca.prototype,"scalingCenterY",2);D([Je({type:"transform"})],Ca.prototype,"rotationCenterX",2);D([Je({type:"transform"})],Ca.prototype,"rotationCenterY",2);D([Je({type:"transform"})],Ca.prototype,"rotation",2);D([Je({type:"transform"})],Ca.prototype,"translationX",2);D([Je({type:"transform"})],Ca.prototype,"translationY",2);D([Je({redraw:3,changeCb:n=>n.visibilityChanged()})],Ca.prototype,"visible",2);D([Je({redraw:1,changeCb:tre})],Ca.prototype,"zIndex",2);D([Je({redraw:1,changeCb:tre})],Ca.prototype,"zIndexSubOrder",2);var Py=Ca,YL=n=>{const t=n<0?-1:1,e=Math.abs(n);return e<=.04045?n/12.92:t*It((e+.055)/1.055,2.4)},qL=n=>{const t=n<0?-1:1,e=Math.abs(n);return e>.0031308?t*(1.055*It(e,1/2.4)-.055):12.92*n},Ij=class Jt{constructor(t,e,r,i=1){this.r=rr(0,t||0,1),this.g=rr(0,e||0,1),this.b=rr(0,r||0,1),this.a=rr(0,i||0,1)}static validColorString(t){return t.indexOf("#")>=0?!!Jt.parseHex(t):t.indexOf("rgb")>=0?!!Jt.stringToRgba(t):!!Jt.nameToHex[t.toLowerCase()]}static fromString(t){if(t.indexOf("#")>=0)return Jt.fromHexString(t);const e=Jt.nameToHex[t.toLowerCase()];if(e)return Jt.fromHexString(e);if(t.indexOf("rgb")>=0)return Jt.fromRgbaString(t);throw new Error(`Invalid color string: '${t}'`)}static tryParseFromString(t){try{return Jt.fromString(t)}catch{return Ue.warnOnce(`invalid color string: '${t}'.`),Jt.fromArray([0,0,0])}}static parseHex(t){t=t.replace(/ /g,"").slice(1);let e;switch(t.length){case 6:case 8:e=[];for(let r=0;r<t.length;r+=2)e.push(parseInt(`${t[r]}${t[r+1]}`,16));break;case 3:case 4:e=t.split("").map(r=>parseInt(r,16)).map(r=>r+r*16);break}if((e==null?void 0:e.length)>=3&&e.every(r=>r>=0))return e.length===3&&e.push(255),e}static fromHexString(t){const e=Jt.parseHex(t);if(e){const[r,i,o,a]=e;return new Jt(r/255,i/255,o/255,a/255)}throw new Error(`Malformed hexadecimal color string: '${t}'`)}static stringToRgba(t){let[e,r]=[NaN,NaN];for(let s=0;s<t.length;s++){const l=t[s];if(!e&&l==="(")e=s;else if(l===")"){r=s;break}}const i=e&&r&&t.substring(e+1,r);if(!i)return;const o=i.split(","),a=[];for(let s=0;s<o.length;s++){const l=o[s];let u=parseFloat(l);if(isNaN(u))return;l.indexOf("%")>=0?(u=rr(0,u,100),u/=100):s===3?u=rr(0,u,1):(u=rr(0,u,255),u/=255),a.push(u)}return a}static fromRgbaString(t){const e=Jt.stringToRgba(t);if(e){if(e.length===3)return new Jt(e[0],e[1],e[2]);if(e.length===4)return new Jt(e[0],e[1],e[2],e[3])}throw new Error(`Malformed rgb/rgba color string: '${t}'`)}static fromArray(t){if(t.length===4)return new Jt(t[0],t[1],t[2],t[3]);if(t.length===3)return new Jt(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(t,e,r,i=1){const o=Jt.HSBtoRGB(t,e,r);return new Jt(o[0],o[1],o[2],i)}static fromHSL(t,e,r,i=1){const o=Jt.HSLtoRGB(t,e,r);return new Jt(o[0],o[1],o[2],i)}static fromOKLCH(t,e,r,i=1){const o=Jt.OKLCHtoRGB(t,e,r);return new Jt(o[0],o[1],o[2],i)}static padHex(t){return t.length===1?"0"+t:t}toHexString(){let t="#"+Jt.padHex(Math.round(this.r*255).toString(16))+Jt.padHex(Math.round(this.g*255).toString(16))+Jt.padHex(Math.round(this.b*255).toString(16));return this.a<1&&(t+=Jt.padHex(Math.round(this.a*255).toString(16))),t}toRgbaString(t=3){const e=[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255)],r=Math.pow(10,t);return this.a!==1?(e.push(Math.round(this.a*r)/r),`rgba(${e.join(", ")})`):`rgb(${e.join(", ")})`}toString(){return this.a===1?this.toHexString():this.toRgbaString()}toHSB(){return Jt.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(t,e,r){const i=YL(t),o=YL(e),a=YL(r),s=Math.cbrt(.4122214708*i+.5363325363*o+.0514459929*a),l=Math.cbrt(.2119034982*i+.6806995451*o+.1073969566*a),u=Math.cbrt(.0883024619*i+.2817188376*o+.6299787005*a),c=.2104542553*s+.793617785*l-.0040720468*u,d=1.9779984951*s-2.428592205*l+.4505937099*u,p=.0259040371*s+.7827717662*l-.808675766*u,h=Math.atan2(p,d)*180/Math.PI,f=c,v=Math.hypot(d,p),g=h>=0?h:h+360;return[f,v,g]}static OKLCHtoRGB(t,e,r){const i=t,o=e*Math.cos(r*Math.PI/180),a=e*Math.sin(r*Math.PI/180),s=It(i+.3963377774*o+.2158037573*a,3),l=It(i-.1055613458*o-.0638541728*a,3),u=It(i-.0894841775*o-1.291485548*a,3),c=4.0767416621*s-3.3077115913*l+.2309699292*u,d=-1.2684380046*s+2.6097574011*l-.3413193965*u,p=-.0041960863*s-.7034186147*l+1.707614701*u,h=qL(c),f=qL(d),v=qL(p);return[h,f,v]}static RGBtoHSL(t,e,r){const i=Math.min(t,e,r),o=Math.max(t,e,r),a=(o+i)/2;let s,l;if(o===i)s=NaN,l=0;else{const u=o-i;l=a>.5?u/(2-o-i):u/(o+i),o===t?s=(e-r)/u+(e<r?6:0):o===e?s=(r-t)/u+2:s=(t-e)/u+4,s*=360/6}return[s,l,a]}static HSLtoRGB(t,e,r){if(e===0)return[r,r,r];const i=r<.5?r*(1+e):r+e-r*e,o=2*r-i;function a(c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?o+(i-o)*6*c:c<1/2?i:c<2/3?o+(i-o)*(2/3-c)*6:o}const s=a(t/360+1/3),l=a(t/360),u=a(t/360-1/3);return[s,l,u]}static RGBtoHSB(t,e,r){const i=Math.min(t,e,r),o=Math.max(t,e,r),a=o!==0?(o-i)/o:0;let s=NaN;if(i!==o){const l=o-i,u=(o-t)/l,c=(o-e)/l,d=(o-r)/l;t===o?s=d-c:e===o?s=2+u-d:s=4+c-u,s/=6,s<0&&(s=s+1)}return[s*360,a,o]}static HSBtoRGB(t,e,r){isNaN(t)&&(t=0),t=(t%360+360)%360/360;let i=0,o=0,a=0;if(e===0)i=o=a=r;else{const s=(t-Math.floor(t))*6,l=s-Math.floor(s),u=r*(1-e),c=r*(1-e*l),d=r*(1-e*(1-l));switch(s>>0){case 0:i=r,o=d,a=u;break;case 1:i=c,o=r,a=u;break;case 2:i=u,o=r,a=d;break;case 3:i=u,o=c,a=r;break;case 4:i=d,o=u,a=r;break;case 5:i=r,o=u,a=c;break}}return[i,o,a]}derive(t,e,r,i){const o=Jt.RGBtoHSB(this.r,this.g,this.b);let a=o[2];a==0&&r>1&&(a=.05);const s=((o[0]+t)%360+360)%360,l=rr(0,o[1]*e,1);a=rr(0,a*r,1);const u=rr(0,this.a*i,1),c=Jt.HSBtoRGB(s,l,a);return c.push(u),Jt.fromArray(c)}brighter(){return this.derive(0,1,1/.7,1)}darker(){return this.derive(0,1,.7,1)}static interpolate(t,e){const r=Jt.tryParseFromString(t),i=Jt.tryParseFromString(e);return o=>{const a=(l,u)=>l*(1-o)+u*o;return new Jt(a(r.r,i.r),a(r.g,i.g),a(r.b,i.b),a(r.a,i.a)).toString()}}};Ij.didDebug=!1;Ij.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",transparent:"#00000000",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"});var Mu=Ij;function US(n,t){return e=>Number(n)*(1-e)+Number(t)*e}function sYe(n,t){if(typeof n=="string")try{n=Mu.fromString(n)}catch{n=Mu.fromArray([0,0,0])}if(typeof t=="string")try{t=Mu.fromString(t)}catch{t=Mu.fromArray([0,0,0])}const e=US(n.r,t.r),r=US(n.g,t.g),i=US(n.b,t.b),o=US(n.a,t.a);return a=>Mu.fromArray([e(a),r(a),i(a),o(a)]).toRgbaString()}var Nj={};yd(Nj,{easeIn:()=>lYe,easeInOut:()=>uYe,easeInOutQuad:()=>pYe,easeInQuad:()=>cYe,easeOut:()=>P0,easeOutQuad:()=>dYe,inverseEaseOut:()=>ire,linear:()=>nre});var nre=n=>n,lYe=n=>1-Math.cos(n*Math.PI/2),P0=n=>Math.sin(n*Math.PI/2),uYe=n=>-(Math.cos(n*Math.PI)-1)/2,cYe=n=>n*n,dYe=n=>1-It(1-n,2),pYe=n=>n<.5?2*n*n:1-It(-2*n+2,2)/2,ire=n=>2*Math.asin(n)/Math.PI,BD=.2,ore={animationDuration:1,animationDelay:0},are={animationDuration:.25,animationDelay:0},sre={animationDuration:.5,animationDelay:.25},kj={animationDuration:.25,animationDelay:.75},lre={animationDuration:BD,animationDelay:1},pf=["initial","remove","update","add","trailing","end"],ure={initial:ore,add:kj,remove:are,update:sre,trailing:lre,end:{animationDelay:1+BD,animationDuration:0}},cre=(n=>(n.Loop="loop",n.Reverse="reverse",n))(cre||{});function hYe(n){return n.every(t=>t instanceof Py)}function jD(n){return hYe(n)?{nodes:n,selections:[]}:{nodes:[],selections:n}}var dre=class{constructor(n){this.isComplete=!1,this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1;var t,e,r,i,o,a,s,l;this.id=n.id,this.groupId=n.groupId,this.autoplay=(t=n.autoplay)!=null?t:!0,this.ease=(e=n.ease)!=null?e:nre,this.phase=n.phase;const u=(r=n.duration)!=null?r:ure[this.phase].animationDuration;this.duration=u*n.defaultDuration,this.delay=((i=n.delay)!=null?i:0)*n.defaultDuration,this.onComplete=n.onComplete,this.onPlay=n.onPlay,this.onStop=n.onStop,this.onUpdate=n.onUpdate,this.interpolate=this.createInterpolator(n.from,n.to),n.skip===!0?((o=this.onUpdate)==null||o.call(this,n.to,!1,this),(a=this.onStop)==null||a.call(this,this),(s=this.onComplete)==null||s.call(this,this),this.isComplete=!0):this.autoplay&&(this.play(),(l=this.onUpdate)==null||l.call(this,n.from,!0,this)),n.collapsable!==!1&&(this.duration=this.checkCollapse(n,this.duration))}checkCollapse(n,t){let e=n.from===n.to;return e||(e=typeof n.from=="object"&&ss(n.from,n.to)==null),e?0:t}play(){var n;!this.isPlaying&&!this.isComplete&&(this.isPlaying=!0,(n=this.onPlay)==null||n.call(this,this))}pause(){this.isPlaying&&(this.isPlaying=!1)}stop(){var n;this.isPlaying&&(this.isPlaying=!1,this.isComplete=!0,(n=this.onStop)==null||n.call(this,this))}update(n){var t,e;const r=this.elapsed;if(this.elapsed+=n,this.delay>this.elapsed)return 0;const i=this.interpolate(this.isReverse?1-this.delta:this.delta);(t=this.onUpdate)==null||t.call(this,i,!1,this);const o=this.delay+this.duration;return this.elapsed>=o?(this.stop(),this.isComplete=!0,(e=this.onComplete)==null||e.call(this,this),n-(o-r)):0}get delta(){return this.ease(rr(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(n,t){if(typeof t!="object")return this.interpolateValue(n,t);const e=[];for(const r in t){const i=this.interpolateValue(n[r],t[r]);i!=null&&e.push([r,i])}return r=>{const i={};for(const[o,a]of e)i[o]=a(r);return i}}interpolateValue(n,t){if(!(n===void 0||t===void 0)){try{switch(typeof n){case"number":return US(n,t);case"string":return sYe(n,t)}}catch{}throw new Error(`Unable to interpolate values: ${n}, ${t}`)}}},pre=["removed","updated","added"],bo={added:"add",updated:"update",removed:"remove",unknown:"initial"};function tn(n,t,e,r,i,o,a){const{fromFn:s,toFn:l,intermediateFn:u}=i,{nodes:c,selections:d}=jD(r),p={added:{},removed:{}};o&&a&&(p.added=aN(a.added,!0),p.removed=aN(a.removed,!0));const h=(v,g)=>{var m;let y,C=0,S=0;for(const w of g){const _=v[C]===w,x={last:S>=g.length-1,lastLive:C>=v.length-1,prev:g[S-1],prevFromProps:y,prevLive:v[C-1],next:g[S+1],nextLive:v[C+(_?1:0)]},E=`${n}_${t}_${w.id}`;e.stopByAnimationId(E);let R="unknown";_?o&&a&&(R=fYe(w,w.datum,o,p)):R="removed";const P=s(w,w.datum,R,x),{phase:A,start:N,finish:I,delay:G,duration:V}=P,H=di(P,["phase","start","finish","delay","duration"]),j=l(w,w.datum,R,x),{phase:B,start:$,finish:W,delay:Y,duration:Z}=j,se=di(j,["phase","start","finish","delay","duration"]),X=I==null&&W==null;e.animate({id:E,groupId:n,phase:(m=A??B)!=null?m:"update",duration:V??Z,delay:G??Y,from:H,to:se,ease:P0,collapsable:X,onPlay:()=>{w.setProperties(de(de({},N),$))},onUpdate(ie){w.setProperties(ie),u&&w.setProperties(u(w,w.datum,R,x))},onStop:()=>{w.setProperties(de(de(de({},se),I),W))}}),_&&C++,S++,y=H}};let f=0;for(const v of d){const g=v.nodes(),m=g.filter(y=>!v.isGarbage(y));h(m,g),e.animate({id:`${n}_${t}_selection_${f}`,groupId:n,phase:"end",from:0,to:1,ease:P0,onStop(){v.cleanup()}}),f++}h(c,c)}function lc(n,t,e,r,i,o,a){const{nodes:s,selections:l}=jD(r),{start:u={},finish:c,phase:d}=a,p=c==null;e.animate({id:`${n}_${t}`,groupId:n,phase:d??"update",from:i,to:o,ease:P0,collapsable:p,onPlay:()=>{for(const h of s)h.setProperties(u);for(const h of l)for(const f of h.nodes())f.setProperties(u)},onUpdate(h){for(const f of s)f.setProperties(h);for(const f of l)for(const v of f.nodes())v.setProperties(h)},onStop:()=>{for(const h of s)h.setProperties(de(de({},o),c));for(const h of l)for(const f of h.nodes())f.setProperties(de(de({},o),c))}})}function fYe(n,t,e,r){const i=e(n,t);return r.added[i]?"added":"updated"}var ku=Math.PI*2;function Gn(n){return n%=ku,n+=ku,n%=ku,n}function vYe(n){return n%=ku,n+=ku,n!==ku&&(n%=ku),n}function D0(n){return n%=ku,n<-Math.PI?n+=ku:n>=Math.PI&&(n-=ku),n}function ao(n){return n/180*Math.PI}function gYe(n){return n/Math.PI*180}function Gj(n,t){return n=Gn(n),t=Gn(t),t-n+(n>t?2*Math.PI:0)}var Sa=(n,t)=>{const e=Symbol(String(t));n[e]=void 0,Object.defineProperty(n,t,{get(){return this[e]},set(r){this[e]!==r&&(this[e]=r,this.invalid=!0)},enumerable:!0,configurable:!1})},ec=class{constructor(){this.type="band",this.invalid=!0,this.interval=1,this.index=new Map,this.ordinalRange=[],this._domain=[],this.range=[0,1],this._bandwidth=1,this._step=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0,this.round=!1}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Ue.warnOnce("Expected update to not invalidate scale"))}set domain(n){this.invalid=!0;const t=[];this.index=new Map;const e=this.index;n.forEach(r=>{e.get(r)===void 0&&e.set(r,t.push(r)-1)}),this._domain=t}get domain(){return this._domain}ticks(){this.refresh();const{interval:n=1}=this,t=Math.abs(Math.round(n));return this._domain.filter((e,r)=>r%t===0)}convert(n){this.refresh();const t=this.index.get(n);if(t===void 0)return NaN;const e=this.ordinalRange[t];return e===void 0?NaN:e}invert(n){this.refresh();const t=this.ordinalRange.findIndex(e=>e===n);return this.domain[t]}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(n){n=rr(0,n,1),this._paddingInner=n,this._paddingOuter=n}get padding(){return this._paddingInner}set paddingInner(n){this._paddingInner=rr(0,n,1)}get paddingInner(){return this._paddingInner}set paddingOuter(n){this._paddingOuter=rr(0,n,1)}get paddingOuter(){return this._paddingOuter}update(){const n=this._domain.length;if(n===0)return;const t=this.round,e=this._paddingInner,r=this._paddingOuter,[i,o]=this.range,a=o-i,s=a/Math.max(1,n+2*r-e),l=t?Math.floor(s):s,u=l*(n-e),c=i+(a-u)/2,d=t?Math.round(c):c,p=l*(1-e),h=t?Math.round(p):p,f=s*(1-e),v=[];for(let g=0;g<n;g++)v.push(d+l*g);this._bandwidth=h,this._rawBandwidth=f,this._step=l,this.ordinalRange=v}};D([Sa],ec.prototype,"interval",2);D([Sa],ec.prototype,"range",2);D([Sa],ec.prototype,"round",2);function k(n,t={}){const{optional:e=!1}=t;return ud((r,i,o)=>{var a;const s=Xe(de({},t),{target:r,property:i});if(e&&typeof o>"u"||n(o,s))return Xa(r[i])&&!Xa(o)?(r[i].set(o),r[i]):o;const l=String(i).replace(/^_*/,""),u=(a=r.constructor.className)!=null?a:r.constructor.name.replace(/Properties$/,"");return Ue.warn(`Property [${l}] of [${u}] cannot be set to [${Pw(o)}]${n.message?`; expecting ${H_(n,s)}`:""}, ignoring.`),lT},void 0,{optional:e})}var uc=(...n)=>{const t=[];return Ar((e,r)=>(t.length=0,n.every(i=>{const o=i(e,r);return o||t.push(H_(i,r)),o})),()=>t.filter(Boolean).join(" AND "))},Dv=(...n)=>Ar((t,e)=>n.some(r=>r(t,e)),t=>n.map(xYe(t)).filter(Boolean).join(" OR ")),ct=OYe(Ar((n,t)=>Xa(n)||Ju(n)&&Xa(t.target[t.property]),"an object")),St=Ar(ute,"a boolean"),el=Ar(by,"a function"),Ne=Ar(js,"a string"),Vr=EYe(Ar(fr,"a number")),HD=Ar(n=>xl(n)&&isNaN(n),"NaN"),Le=Vr.restrict({min:0}),_r=Vr.restrict({min:0,max:1}),vh=Vr.restrict({min:-360,max:360}),Dy=Dv(Vr,HD),V_=bYe(Ar(ni,"an array")),_d=(n,t)=>Ar((e,r)=>ni(e)&&e.every(i=>n(i,r)),e=>{var r;const i=(r=H_(V_,e))!=null?r:"";return t?`${i} of ${t}`:i}),hT=n=>fr(n)||M_(n),B_=n=>Ar((t,e)=>!hT(t)||!hT(e.target[n])||t<e.target[n],`expected to be less than ${n}`),j_=n=>Ar((t,e)=>!hT(t)||!hT(e.target[n])||t>e.target[n],`expected to be greater than ${n}`),Vj=Ar(M_,"Date object"),Bj=Dv(Vj,Le),hre="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",tr=Ar(n=>js(n)&&Mu.validColorString(n),`color String. ${hre}`),tl=Ar(_d(tr),`color strings. ${hre}`),mYe=_d(St,"boolean values"),$D=_d(Vr,"numbers"),fre=_d(Ne,"strings"),yYe=Ar(_d(Vj),"Date objects"),jj=Ar(_d(ct),"objects"),vre=Wn(["butt","round","square"],"a line cap"),CYe=Wn(["round","bevel","miter"],"a line join"),xd=Ar(_d(Le),"numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),Hj=Wn(["top","right","bottom","left"],"a position"),gh=Wn(["normal","italic","oblique"],"a font style"),mh=Dv(Wn(["normal","bold","bolder","lighter"],"a font weight"),Vr.restrict({min:1,max:1e3})),WD=Wn(["never","always","hyphenate","on-space"],"a text wrap strategy"),gre=Wn(["left","center","right"],"a text align"),SYe=Wn(["top","middle","bottom"],"a vertical align"),wYe=Wn(["ellipsis","hide"],"an overflow strategy"),mre=Wn(["horizontal","vertical"],"a direction"),yre=Wn(["inside","outside"],"a placement"),$j=Dv(Wn(["exact","nearest"],"interaction range"),Vr);function Wn(n,t="a"){return Ar(e=>n.includes(e),`${t} keyword such as ${_Ye(n)}`)}var Cre=Dv(uc(Vr.restrict({min:1}),B_("maxSpacing")),HD),Wj=Dv(uc(Vr.restrict({min:1}),j_("minSpacing")),HD);function Ar(n,t){return n.message=t,n}function _Ye(n){const t=n.map(r=>`'${r}'`);if(t.length===1)return t[0];const e=t.pop();return`${t.join(", ")} or ${e}`}function H_(n,t){return by(n.message)?n.message(t):n.message}function xYe(n){return t=>H_(t,n)}function bYe(n){return Object.assign(n,{restrict({length:t,minLength:e}={}){return Ar(r=>ni(r)&&(xl(t)?r.length===t:!0)&&(xl(e)?r.length>=e:!0),xl(e)&&e>0?"a non-empty array":xl(t)?`an array of length ${t}`:"an array")}})}function EYe(n){return Object.assign(n,{restrict({min:t,max:e}={}){const r=["a number"],i=xl(t),o=xl(e);return i&&o?r.push(`between ${t} and ${e} inclusive`):i?r.push(`greater than or equal to ${t}`):o&&r.push(`less than or equal to ${e}`),Ar(a=>fr(a)&&(i?a>=t:!0)&&(o?a<=e:!0),r.join(" "))}})}function OYe(n){return Object.assign(n,{restrict(t){const e=r=>Xa(r)&&r instanceof t;return Ar((r,i)=>e(r)||Ju(r)&&e(i.target[i.property]),r=>{var i;return(i=H_(n,r))!=null?i:"an object"})}})}function Pw(n){if(typeof n=="number"){if(isNaN(n))return"NaN";if(n===1/0)return"Infinity";if(n===-1/0)return"-Infinity"}return JSON.stringify(n)}var Sre=(n=>(n.X="x",n.Y="y",n))(Sre||{});function wre(){if(typeof navigator>"u")return!1;const n=navigator.userAgent.match(/\(iPhone; CPU iPhone OS (\d+_\d+_\d+) like Mac OS X\)/);if(n==null)return!1;const t=n[1].split("_"),e=Number(t[0]);return e>16?!1:e===16?Number(t[1])<6:!0}var Uj=class dN{constructor(t){this._enabled=!0,this._pixelRatio=NaN,this._width=0,this._height=0;const{document:e,window:r,width:i=600,height:o=300,domLayer:a=!1,zIndex:s=0,name:l=void 0,overrideDevicePixelRatio:u=void 0}=t;this.document=e,this.window=r,dN.document=e,this.element=e.createElement("canvas"),this.element.width=i,this.element.height=o,this.realContext=this.element.getContext("2d"),this.imageSource=this.realContext.canvas;const{style:c}=this.element;c.userSelect="none",c.display="block",a&&(c.position="absolute",c.zIndex=String(s),c.top="0",c.left="0",c.pointerEvents="none",c.opacity="1",l&&(this.element.id=l)),this.context=this.setPixelRatio(u),this.resize(i,o)}set container(t){this._container!==t&&(this.remove(),t&&t.appendChild(this.element),this._container=t)}get container(){return this._container}set enabled(t){this.element.style.display=t?"block":"none",this._enabled=!!t}get enabled(){return this._enabled}remove(){const{parentNode:t}=this.element;t!=null&&t.removeChild(this.element)}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}snapshot(){}clear(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()}toImage(){const t=this.document.createElement("img");return t.src=this.getDataURL(),t}getDataURL(t){return this.element.toDataURL(t)}download(t,e="image/png"){t=(t??"").trim()||"image";const r=this.getDataURL(e),i=this.document,o=i.createElement("a");o.href=r,o.download=t,o.style.display="none",i.body.appendChild(o),o.click(),i.body.removeChild(o)}get pixelRatio(){return this._pixelRatio}setPixelRatio(t){let e=t??this.window.devicePixelRatio;return wre()&&(e=1),this._pixelRatio=e,dN.overrideScale(this.realContext,e)}set pixelated(t){this.element.style.imageRendering=t?"pixelated":"auto"}get pixelated(){return this.element.style.imageRendering==="pixelated"}get width(){return this._width}get height(){return this._height}resize(t,e){if(!(t>0&&e>0))return;const{element:r,context:i,pixelRatio:o}=this;r.width=Math.round(t*o),r.height=Math.round(e*o),r.style.width=t+"px",r.style.height=e+"px",i.resetTransform(),this._width=t,this._height=e}static get textMeasuringContext(){if(this._textMeasuringContext)return this._textMeasuringContext;const t=this.document.createElement("canvas");return this._textMeasuringContext=t.getContext("2d"),this._textMeasuringContext}static get svgText(){if(this._svgText)return this._svgText;const t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"svg");e.setAttribute("width","100"),e.setAttribute("height","100"),e.classList?e.classList.add("text-measuring-svg"):e.setAttribute("class","text-measuring-svg"),e.style.position="absolute",e.style.top="-1000px",e.style.visibility="hidden";const r=document.createElementNS(t,"text");return r.setAttribute("x","0"),r.setAttribute("y","30"),r.setAttribute("text","black"),e.appendChild(r),document.body.appendChild(e),this._svgText=r,r}static get has(){if(this._has)return this._has;const t=typeof navigator>"u"||navigator.userAgent.indexOf("Chrome")>-1,e=typeof navigator<"u"&&navigator.userAgent.indexOf("Firefox")>-1,r=!t&&typeof navigator<"u"&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:this.textMeasuringContext.measureText("test").actualBoundingBoxDescent!==void 0&&!e&&!r,getTransform:this.textMeasuringContext.getTransform!==void 0}),this._has}static measureText(t,e,r,i){const o=this.textMeasuringContext;return o.font=e,o.textBaseline=r,o.textAlign=i,o.measureText(t)}static getTextSize(t,e){if(this.has.textMetrics){const r=this.textMeasuringContext;r.font=e;const i=r.measureText(t);return{width:i.width,height:i.actualBoundingBoxAscent+i.actualBoundingBoxDescent}}else return this.measureSvgText(t,e)}static measureSvgText(t,e){const r=this.textSizeCache,i=r[e];if(i){const l=i[t];if(l)return l}else r[e]={};const o=this.svgText;o.style.font=e,o.textContent=t;const a=o.getBBox(),s={width:a.width,height:a.height};return r[e][t]=s,s}static overrideScale(t,e){let r=0;const i={save(){this.$save(),r++},restore(){if(r>0)this.$restore(),r--;else throw new Error("AG Charts - Unable to restore() past depth 0")},setTransform(o,a,s,l,u,c){typeof o=="object"?this.$setTransform(o):this.$setTransform(o*e,a*e,s*e,l*e,u*e,c*e)},resetTransform(){this.$setTransform(e,0,0,e,0,0)},verifyDepthZero(){if(r!==0)throw new Error("AG Charts - Save/restore depth is non-zero: "+r)}};for(const o in i)Object.hasOwn(i,o)&&(t["$"+o]||(t["$"+o]=t[o]),t[o]=i[o]);return t}};Uj.document=globalThis.document;Uj.textSizeCache={};var Tn=Uj,RYe=class{constructor(){this.stops=[]}},TYe=class extends RYe{constructor(){super(...arguments),this.angle=0}createGradient(n,t){const{stops:r,angle:i}=this,o=Gn(ao(i+90)),a=Math.cos(o),s=Math.sin(o),l=t.width,u=t.height,c=t.x+l*.5,d=t.y+u*.5;if(l>0&&u>0){const p=Math.sqrt(u*u+l*l)/2,h=Math.atan2(u,l);let f;o<Math.PI/2?f=o:o<Math.PI?f=Math.PI-o:o<3*Math.PI/2?f=o-Math.PI:f=2*Math.PI-o;const v=p*Math.abs(Math.cos(f-h)),g=n.createLinearGradient(c+a*v,d+s*v,c-a*v,d-s*v);return r.forEach(m=>{g.addColorStop(m.offset,m.color)}),g}return"black"}},PYe=/^linear-gradient\((.*?)deg,\s*(.*?)\s*\)$/i,ps=class hu extends Py{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill=hu.defaultStyles.fill,this.stroke=hu.defaultStyles.stroke,this.strokeWidth=hu.defaultStyles.strokeWidth,this.lineDash=hu.defaultStyles.lineDash,this.lineDashOffset=hu.defaultStyles.lineDashOffset,this.lineCap=hu.defaultStyles.lineCap,this.lineJoin=hu.defaultStyles.lineJoin,this.opacity=hu.defaultStyles.opacity,this.fillShadow=hu.defaultStyles.fillShadow}restoreOwnStyles(){const t=this.constructor.defaultStyles,e=Object.getOwnPropertyNames(t);for(let r=0,i=e.length;r<i;r++){const o=e[r];this[o]=t[o]}}updateGradient(){const{fill:t}=this;let e;if(t!=null&&t.startsWith("linear-gradient")&&(e=PYe.exec(t))){const r=parseFloat(e[1]),i=[],o=e[2],a=/(#[0-9a-f]+)|(rgba?\(.+?\))|([a-z]+)/gi;let s;for(;s=a.exec(o);)i.push(s[0]);this.gradient=new TYe,this.gradient.angle=r,this.gradient.stops=i.map((l,u)=>({offset:u/(i.length-1),color:l}))}else this.gradient=void 0}align(t,e){var r,i,o;const a=(o=(i=(r=this.layerManager)==null?void 0:r.canvas)==null?void 0:i.pixelRatio)!=null?o:1,s=Math.round(t*a)/a;return e==null?s:e===0?0:e<1?Math.ceil(e*a)/a:Math.round((e+t)*a)/a-s}fillStroke(t){this.renderFill(t),this.renderStroke(t)}renderFill(t){if(this.fill){const{globalAlpha:e}=t;this.applyFill(t),this.applyFillAlpha(t),this.applyShadow(t),t.fill(),t.globalAlpha=e}t.shadowColor="rgba(0, 0, 0, 0)"}applyFill(t){this.gradient?t.fillStyle=this.gradient.createGradient(t,this.computeBBox()):t.fillStyle=this.fill}applyFillAlpha(t){const{globalAlpha:e}=t;t.globalAlpha=e*this.opacity*this.fillOpacity}applyShadow(t){var e,r;const i=(r=(e=this.layerManager)==null?void 0:e.canvas.pixelRatio)!=null?r:1,o=this.fillShadow;o!=null&&o.enabled&&(t.shadowColor=o.color,t.shadowOffsetX=o.xOffset*i,t.shadowOffsetY=o.yOffset*i,t.shadowBlur=o.blur*i)}renderStroke(t){if(this.stroke&&this.strokeWidth){const{globalAlpha:e}=t;t.strokeStyle=this.stroke,t.globalAlpha=e*this.opacity*this.strokeOpacity,t.lineWidth=this.strokeWidth,this.lineDash&&t.setLineDash(this.lineDash),this.lineDashOffset&&(t.lineDashOffset=this.lineDashOffset),this.lineCap&&(t.lineCap=this.lineCap),this.lineJoin&&(t.lineJoin=this.lineJoin),t.stroke(),t.globalAlpha=e}}containsPoint(t,e){return this.isPointInPath(t,e)}};ps.defaultStyles=Object.assign({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0});D([Je({redraw:2})],ps.prototype,"fillOpacity",2);D([Je({redraw:2})],ps.prototype,"strokeOpacity",2);D([Je({redraw:2,changeCb:n=>n.updateGradient()})],ps.prototype,"fill",2);D([Je({redraw:2})],ps.prototype,"stroke",2);D([Je({redraw:2})],ps.prototype,"strokeWidth",2);D([Je({redraw:2})],ps.prototype,"lineDash",2);D([Je({redraw:2})],ps.prototype,"lineDashOffset",2);D([Je({redraw:2})],ps.prototype,"lineCap",2);D([Je({redraw:2})],ps.prototype,"lineJoin",2);D([Je({redraw:2,convertor:n=>rr(0,n,1)})],ps.prototype,"opacity",2);D([Je({redraw:2,checkDirtyOnAssignment:!0})],ps.prototype,"fillShadow",2);var qs=ps,pN="…";function UD(n){const{redraw:t=3,changeCb:e}=n??{};return Je({redraw:t,type:"font",changeCb:e})}var lo=class ka extends qs{constructor(){super(...arguments),this.x=0,this.y=0,this.lines=[],this.text=void 0,this._dirtyFont=!0,this.fontSize=10,this.fontFamily="sans-serif",this.textAlign=ka.defaultStyles.textAlign,this.textBaseline=ka.defaultStyles.textBaseline,this.lineHeight=void 0}_setLines(){this.lines=Ere(this.text)}get font(){return(this._font==null||this._dirtyFont)&&(this._dirtyFont=!1,this._font=Zp(this)),this._font}computeBBox(){return Tn.has.textMetrics?_re(this.lines,this.x,this.y,this):xre(this.lines,this.x,this.y,this)}getLineHeight(t){var e,r;if(this.lineHeight)return this.lineHeight;if(Tn.has.textMetrics){const i=Tn.measureText(t,this.font,this.textBaseline,this.textAlign);return((e=i.fontBoundingBoxAscent)!=null?e:i.emHeightAscent)+((r=i.fontBoundingBoxDescent)!=null?r:i.emHeightDescent)}return Tn.getTextSize(t,this.font).height}isPointInPath(t,e){const r=this.transformPoint(t,e),i=this.computeBBox();return i?i.containsPoint(r.x,r.y):!1}render(t){const{ctx:e,forceRender:r,stats:i}=t;if(this.dirty===0&&!r){i&&(i.nodesSkipped+=this.nodeCount.count);return}if(!this.lines.length||!this.layerManager){i&&(i.nodesSkipped+=this.nodeCount.count);return}this.computeTransformMatrix(),this.matrix.toContext(e);const{fill:o,stroke:a,strokeWidth:s}=this;e.font=this.font,e.textAlign=this.textAlign,e.textBaseline=this.textBaseline;const l=this.layerManager.canvas.pixelRatio||1,{globalAlpha:u}=e;if(o){e.fillStyle=o,e.globalAlpha=u*this.opacity*this.fillOpacity;const{fillShadow:c}=this;c!=null&&c.enabled&&(e.shadowColor=c.color,e.shadowOffsetX=c.xOffset*l,e.shadowOffsetY=c.yOffset*l,e.shadowBlur=c.blur*l),this.renderLines((d,p,h)=>e.fillText(d,p,h))}if(a&&s){e.strokeStyle=a,e.lineWidth=s,e.globalAlpha=u*this.opacity*this.strokeOpacity;const{lineDash:c,lineDashOffset:d,lineCap:p,lineJoin:h}=this;c&&e.setLineDash(c),d&&(e.lineDashOffset=d),p&&(e.lineCap=p),h&&(e.lineJoin=h),this.renderLines((f,v,g)=>e.strokeText(f,v,g))}super.render(t)}renderLines(t){const{lines:e,x:r,y:i}=this,o=this.lines.map(l=>this.getLineHeight(l));let s=-(o.reduce((l,u)=>l+u,0)-o[0])*bre(this.textBaseline);for(let l=0;l<e.length;l++)t(e[l],r,i+s),s+=o[l]}static wrapLines(t,e,r,i,o,a){const s=a!=="hide",l=Zp(i),u=DYe(l),c=t.split(/\r?\n/g);if(c.length===0)return{lines:void 0,truncated:!1};if(o==="never"){const{text:f,truncated:v}=ka.truncateLine(c[0],e,u,s?"auto":"never");return{lines:f!=null?[f]:void 0,truncated:v}}const d=[];let p=0,h=!1;for(const f of c){const v=ka.wrapLine(f,e,r,u,i,o,p,s);if(v==null)return{lines:void 0,truncated:!1};if(d.push(...v.result),p=v.cumulativeHeight,v.truncated){h=!0;break}}return{lines:d,truncated:h}}static wrap(t,e,r,i,o,a="ellipsis"){const{lines:s,truncated:l}=ka.wrapLines(t,e,r,i,o,a);return{text:s!=null?s.join(`
`).trim():"",truncated:l}}static wrapLine(t,e,r,i,o,a,s,l){if(t=t.trim(),!t)return{result:[],truncated:!1,cumulativeHeight:s};const u=i.size(t);if(u.width<=e)return{result:[t],truncated:!1,cumulativeHeight:s+u.height};if(u.height>r||i.width("W")>e)return l?{result:[],truncated:!0,cumulativeHeight:s}:void 0;const c=t.split(/\s+/g),d=ka.wrapLineSequentially(c,e,r,i,o,a,s,l);if(d==null)return;s=d.cumulativeHeight;let{lines:p}=d;if(!(d.wordsBrokenOrTruncated||d.linesTruncated)){const f=d.lines.length,v=ka.wrapLineBalanced(c,e,i,f);v.length===p.length&&(p=v)}return{result:p.map(f=>f.join(" ")),truncated:d.linesTruncated,cumulativeHeight:s}}static breakWord(t,e,r,i,o){const a=h=>ka.punctuationMarks.includes(t[h]),s=i?o.width("-"):0,l=[];let u=0,c=0;for(let h=0;h<t.length;h++){const f=t[h],v=o.width(f),g=c===0?e:r;u+v+s>g&&(l.push(h),u=0,c++),u+=v}const d=[];let p=0;for(const h of l){let f=t.substring(p,h);i&&f.length>0&&!a(h-1)&&!a(h)&&(f+="-"),d.push(f),p=h}return d.push(t.substring(p)),d}static truncateLine(t,e,r,i){t=t.trimEnd();const o=r.width(t);if(o>e&&i==="never")return{text:void 0,truncated:!1};if(o<=e&&i!=="force")return{text:t,truncated:!1};const a=r.width(pN);let s=t,l=o;for(;s.length>0&&l+a>e;)s=s.slice(0,-1).trimEnd(),l=r.width(s);return l+a<=e?{text:`${s}${pN}`,truncated:!0}:{text:void 0,truncated:!1}}static wrapLineSequentially(t,e,r,i,o,a,s,l){const{fontSize:u=0,lineHeight:c=u*ka.defaultLineHeightRatio}=o,d=a==="always"||a==="hyphenate",p=a==="hyphenate",h=i.width(" ");let f=!1,v=!1;const g=[];let m=[],y=0;const C=()=>({lines:g,linesTruncated:v,wordsBrokenOrTruncated:f,cumulativeHeight:s}),S=()=>{if(!l)return;const _=m.join(" "),{text:x}=ka.truncateLine(_,e,i,"force");if(x!=null)return m.splice(0,m.length,x),v=!0,C()},w=()=>{const _=s+c;return _>=r?!1:(m=[],y=0,s=_,g.push(m),!0)};if(!w())return S();for(let _=0;_<t.length;_++){const x=t[_],E=i.width(x),R=m.length===0?0:h,P=y+R+E;if(P<=e){m.push(x),y=P;continue}if(E<=e){if(!w())return S();m.push(x),y=E;continue}if(f=!0,d){const A=e-y-R,N=ka.breakWord(x,A,e,p,i);for(let I=0;I<N.length;I++){const G=N[I];if(G&&m.push(G),I===N.length-1)y=i.width(G);else if(!w())return S()}}else if(l){if(!w())return S();const{text:A}=ka.truncateLine(x,e,i,"force");if(A==null)return;m.push(A),_<t.length-1&&(v=!0);break}else return}return C()}static wrapLineBalanced(t,e,r,i){const o=t.reduce((h,f)=>h+r.width(f),0),a=r.width(" "),s=a*(t.length-i-2),l=(o+s)/i,u=[];let c=[],d=r.width(t[0]),p=!0;for(const h of t){const f=r.width(h);if(p){c=[],c.push(h),d=f,p=!1,u.push(c);continue}const v=d+a+f;v<=l?(c.push(h),d=v):v<=e?(c.push(h),p=!0):(c=[h],d=f,u.push(c))}return u}setFont(t){this.fontFamily=t.fontFamily,this.fontSize=t.fontSize,this.fontStyle=t.fontStyle,this.fontWeight=t.fontWeight}setAlign(t){this.textAlign=t.textAlign,this.textBaseline=t.textBaseline}};lo.className="Text";lo.defaultLineHeightRatio=1.15;lo.defaultStyles=Object.assign({},qs.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"});lo.ellipsis=pN;lo.punctuationMarks=[".",",","-",":",";","!","?","'",'"',"(",")"];D([Je({redraw:3})],lo.prototype,"x",2);D([Je({redraw:3})],lo.prototype,"y",2);D([Je({redraw:3,changeCb:n=>n._setLines()})],lo.prototype,"text",2);D([UD()],lo.prototype,"fontStyle",2);D([UD()],lo.prototype,"fontWeight",2);D([UD()],lo.prototype,"fontSize",2);D([UD()],lo.prototype,"fontFamily",2);D([Je({redraw:3})],lo.prototype,"textAlign",2);D([Je({redraw:3})],lo.prototype,"textBaseline",2);D([Je({redraw:3})],lo.prototype,"lineHeight",2);var nr=lo;function DYe(n){const t=new Map,e=i=>Tn.getTextSize(i,n);return{size:e,width:i=>{if(t.has(i))return t.get(i);const{width:o}=e(i);return t.set(i,o),o}}}function Zp(n){const{fontFamily:t,fontSize:e,fontStyle:r,fontWeight:i}=n;return[r??"",i??"",e+"px",t].join(" ").trim()}function AYe(n,t,e,r){return Tn.has.textMetrics?_re(n,t,e,r):xre(n,t,e,r)}function _re(n,t,e,r){var i,o;let a=0,s=0,l=0,u=0,c=0;const d=Zp(r),{lineHeight:p,textBaseline:h=nr.defaultStyles.textBaseline,textAlign:f=nr.defaultStyles.textAlign}=r;for(let v=0;v<n.length;v++){const g=Tn.measureText(n[v],d,h,f);a=Math.max(a,g.actualBoundingBoxLeft),l=Math.max(l,g.width),v==0?(s+=g.actualBoundingBoxAscent,u+=g.actualBoundingBoxAscent):c+=(i=g.fontBoundingBoxAscent)!=null?i:g.emHeightAscent,v==n.length-1?u+=g.actualBoundingBoxDescent:c+=(o=g.fontBoundingBoxDescent)!=null?o:g.emHeightDescent}return p!==void 0&&(c=(n.length-1)*p),u+=c,s+=c*bre(h),new Tt(t-a,e-s,l,u)}function xre(n,t,e,r){let i=0,o=0,a=0;const s=Zp(r),{lineHeight:l,textBaseline:u=nr.defaultStyles.textBaseline,textAlign:c=nr.defaultStyles.textAlign}=r;if(n.length>0){const d=Tn.getTextSize(n[0],s);i=d.width,o=d.height}for(let d=1;d<n.length;d++){const p=Tn.getTextSize(n[d],s);i=Math.max(i,p.width),a+=l??p.height}switch(c){case"end":case"right":t-=i;break;case"center":t-=i/2}switch(u){case"alphabetic":e-=o*.7+a*.5;break;case"middle":e-=o*.45+a*.5;break;case"ideographic":e-=o+a;break;case"hanging":e-=o*.2+a*.5;break;case"bottom":e-=o+a;break}return new Tt(t,e,i,o+a)}function bre(n){switch(n){case"top":case"hanging":return 0;case"bottom":case"alphabetic":case"ideographic":return 1;case"middle":return .5}}function Ere(n){return typeof n=="string"?n.split(/\r?\n/g):[]}function yh(n){const t=ni(n)?n:n.split(".");if(t.length===1){const[e]=t;return ud((r,i,o)=>r[e]=o,r=>r[e])}return ud((e,r,i)=>gte(e,t,i),e=>vte(e,t))}function MYe(n){return ud((t,e,r)=>t[n]=r)}function Hr(n,t){return ud((e,r,i)=>e[n][t??r]=i)}function Ci(n){const{newValue:t,oldValue:e,changeValue:r}=n;return ud((i,o,a,s)=>(a!==s&&(s!==void 0&&(e==null||e.call(i,s)),a!==void 0&&(t==null||t.call(i,a)),r==null||r.call(i,a,s)),a))}function Ay(n){return jKe(n)}function zD(n,t){const e=n.createElement("style");e.innerHTML=t,n.head.insertBefore(e,n.head.querySelector("style"))}var qn="ag-chart-tooltip",LYe="ag-chart-dark-tooltip",FYe=`
.${qn} {
    transition: transform 0.1s ease;
    max-width: 100%;
    position: fixed;
    left: 0px;
    top: 0px;
    z-index: 99999;
    font: 12px Verdana, sans-serif;
    color: rgb(70, 70, 70);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
}

.${qn}-wrap-always {
    overflow-wrap: break-word;
    word-break: break-word;
    hyphens: none;
}

.${qn}-wrap-hyphenate {
    overflow-wrap: break-word;
    word-break: break-word;
    hyphens: auto;
}

.${qn}-wrap-on-space {
    overflow-wrap: normal;
    word-break: normal;
}

.${qn}-wrap-never {
    white-space: pre;
    text-overflow: ellipsis;
}

.${qn}-no-interaction {
    pointer-events: none;
    user-select: none;
}

.${qn}-no-animation {
    transition: none !important;
}

.${qn}-hidden {
    visibility: hidden;
}

.${qn}-title {
    overflow: hidden;
    position: relative;
    padding: 8px 14px;
    border-top-left-radius: 2px;
    border-top-right-radius: 2px;
    color: white;
    background-color: #888888;
    z-index: 1;
    text-overflow: inherit;
}

.${qn}-title:only-child {
    border-bottom-left-radius: 2px;
    border-bottom-right-radius: 2px;
}

.${qn}-content {
    overflow: hidden;
    padding: 6px 14px;
    line-height: 1.7em;
    background: white;
    border-bottom-left-radius: 2px;
    border-bottom-right-radius: 2px;
    border: 1px solid rgba(0, 0, 0, 0.15);
    overflow: hidden;
    text-overflow: inherit;
}

.${qn}-arrow::before {
    content: "";

    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%);

    border: 5px solid #d9d9d9;

    border-left-color: transparent;
    border-right-color: transparent;
    border-bottom-color: transparent;

    width: 0;
    height: 0;

    margin: 0 auto;
}

.${qn}-arrow::after {
    content: "";

    position: absolute;
    top: calc(100% - 1px);
    left: 50%;
    transform: translateX(-50%);

    border: 5px solid white;

    border-left-color: transparent;
    border-right-color: transparent;
    border-bottom-color: transparent;

    width: 0;
    height: 0;

    margin: 0 auto;
}

.ag-chart-wrapper {
    box-sizing: border-box;
    overflow: hidden;
}
`;function A0(n,t){var e,r,i;if(typeof n=="string")return n;const{content:o=(e=t==null?void 0:t.content)!=null?e:"",title:a=t==null?void 0:t.title,color:s=(r=t==null?void 0:t.color)!=null?r:"white",backgroundColor:l=(i=t==null?void 0:t.backgroundColor)!=null?i:"#888"}=n,u=a?`<div class="${qn}-title"
        style="color: ${s}; background-color: ${l}">${a}</div>`:"",c=o?`<div class="${qn}-content">${o}</div>`:"";return`${u}${c}`}var $_=class extends Fr{constructor(){super(...arguments),this.type="pointer",this.xOffset=0,this.yOffset=0}};D([k(Wn(["pointer","node"],"a position type"))],$_.prototype,"type",2);D([k(Vr)],$_.prototype,"xOffset",2);D([k(Vr)],$_.prototype,"yOffset",2);var bd=class hN{constructor(t,e,r,i){this.enableInteraction=!1,this.enabled=!0,this.showArrow=void 0,this.class=void 0,this.lastClass=void 0,this.delay=0,this.range="nearest",this.wrapping="hyphenate",this.darkTheme=!1,this.lastVisibilityChange=Date.now(),this.position=new $_,this.showTimeout=0,this._showArrow=!0,this.tooltipRoot=i,this.window=r;const o=e.createElement("div");if(this.element=this.tooltipRoot.appendChild(o),this.element.classList.add(qn),this.canvasElement=t,typeof IntersectionObserver<"u"){const a=new IntersectionObserver(s=>{for(const l of s)l.target===this.canvasElement&&l.intersectionRatio===0&&this.toggle(!1)},{root:this.tooltipRoot});a.observe(this.canvasElement),this.observer=a}hN.tooltipDocuments.indexOf(e)<0&&(zD(e,FYe),hN.tooltipDocuments.push(e))}destroy(){const{parentNode:t}=this.element;t&&t.removeChild(this.element),this.observer&&this.observer.unobserve(this.canvasElement)}isVisible(){const{element:t}=this;return!t.classList.contains(qn+"-hidden")}updateClass(t,e,r=!0){const{element:i,class:o,lastClass:a,enableInteraction:s,lastVisibilityChange:l}=this,u=this.isVisible(),c=!!t;let d=1/0;if(u!==c){const g=Date.now();d=g-l,this.lastVisibilityChange=g}const p=(g,m)=>{const y=`${qn}-${g}`;m?i.classList.add(y):i.classList.remove(y)},h=100,f=5,v=!u&&c&&d>h;d>f&&p("no-animation",v),p("no-interaction",!s),p("hidden",!t),p("arrow",!!e),i.classList.toggle(LYe,this.darkTheme),this.updateWrapping(),r?(o!==a&&(a&&i.classList.remove(a),o&&i.classList.add(o)),this.lastClass=o):(a&&i.classList.remove(a),this.lastClass=void 0)}updateWrapping(){const{element:t,wrapping:e}=this,r={always:!1,hyphenate:!1,"on-space":!1,never:!1};r[e]=!0,Object.entries(r).forEach(([i,o])=>{t.classList.toggle(`${qn}-wrap-${i}`,o)})}show(t,e,r=!1){var i,o,a,s,l,u,c;const{element:d,canvasElement:p}=this;if(e!==void 0)d.innerHTML=e;else if(!d.innerHTML){this.toggle(!1);return}const h=(o=(i=t.position)==null?void 0:i.xOffset)!=null?o:0,f=(s=(a=t.position)==null?void 0:a.yOffset)!=null?s:0,v=p.getBoundingClientRect(),g=v.left+t.offsetX-d.clientWidth/2+h,m=v.top+t.offsetY-d.clientHeight-8+f,y=this.getWindowBoundingBox(),C=y.x+y.width-d.clientWidth-1,S=y.y+y.height-d.clientHeight,w=rr(y.x,g,C),_=rr(y.y,m,S),E=!(w!==g||_!==m)&&!h&&!f,R=(u=(l=t.showArrow)!=null?l:this.showArrow)!=null?u:E;if(this.updateShowArrow(R),d.style.transform=`translate(${Math.round(w)}px, ${Math.round(_)}px)`,this.enableInteraction=(c=t.enableInteraction)!=null?c:!1,this.delay>0&&!r){this.toggle(!1),this.showTimeout=this.window.setTimeout(()=>{this.toggle(!0,t.addCustomClass)},this.delay);return}this.toggle(!0,t.addCustomClass)}getWindowBoundingBox(){return new Tt(0,0,this.window.innerWidth,this.window.innerHeight)}toggle(t,e){t||this.window.clearTimeout(this.showTimeout),this.updateClass(t,this._showArrow,e)}pointerLeftOntoTooltip(t){var e;if(!this.enableInteraction)return!1;const r=(e=t.sourceEvent.relatedTarget)==null?void 0:e.classList,o=!!["","-title","-content"].filter(a=>r==null?void 0:r.contains(`${qn}${a}`));return r!==void 0&&o}updateShowArrow(t){this._showArrow=t}};bd.tooltipDocuments=[];D([k(St)],bd.prototype,"enabled",2);D([k(St,{optional:!0})],bd.prototype,"showArrow",2);D([k(Ne,{optional:!0})],bd.prototype,"class",2);D([k(Le)],bd.prototype,"delay",2);D([k($j)],bd.prototype,"range",2);D([k(WD)],bd.prototype,"wrapping",2);D([k(St)],bd.prototype,"darkTheme",2);var Ore=bd,dn=class extends Fr{constructor(){super(...arguments),this.id=sc(this),this.node=new nr().setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.truncated=!1}registerInteraction(n){return n.interactionManager.addListener("hover",t=>this.handleMouseMove(n,t))}computeTextWrap(n,t){var e,r;const{text:i,wrapping:o}=this,a=Math.min((e=this.maxWidth)!=null?e:1/0,n),s=(r=this.maxHeight)!=null?r:t;if(!isFinite(a)&&!isFinite(s)){this.node.text=i;return}const{text:l,truncated:u}=nr.wrap(i??"",a,s,this,o);this.node.text=l,this.truncated=u}handleMouseMove(n,t){if(!this.enabled)return;const{offsetX:e,offsetY:r}=t,i=this.node.computeBBox(),o=this.node.visible&&i.containsPoint(e,r);o&&t.consume(),!this.truncated||!o?n.tooltipManager.removeTooltip(this.id):n.tooltipManager.updateTooltip(this.id,{offsetX:e,offsetY:r,lastPointerEvent:t,showArrow:!1,addCustomClass:!1},A0({content:this.text}))}};dn.SMALL_PADDING=10;dn.LARGE_PADDING=20;D([k(St)],dn.prototype,"enabled",2);D([k(Ne,{optional:!0}),Hr("node")],dn.prototype,"text",2);D([k(gre,{optional:!0}),Hr("node")],dn.prototype,"textAlign",2);D([k(gh,{optional:!0}),Hr("node")],dn.prototype,"fontStyle",2);D([k(mh,{optional:!0}),Hr("node")],dn.prototype,"fontWeight",2);D([k(Le),Hr("node")],dn.prototype,"fontSize",2);D([k(Ne),Hr("node")],dn.prototype,"fontFamily",2);D([k(tr,{optional:!0}),Hr("node","fill")],dn.prototype,"color",2);D([k(Le,{optional:!0})],dn.prototype,"spacing",2);D([k(Le,{optional:!0})],dn.prototype,"lineHeight",2);D([k(Le,{optional:!0})],dn.prototype,"maxWidth",2);D([k(Le,{optional:!0})],dn.prototype,"maxHeight",2);D([k(WD)],dn.prototype,"wrapping",2);var Ul=class{constructor(){this.enabled=!1,this.spacing=dn.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}};D([k(St)],Ul.prototype,"enabled",2);D([k(Ne,{optional:!0})],Ul.prototype,"text",2);D([k(Le,{optional:!0})],Ul.prototype,"spacing",2);D([k(gh,{optional:!0})],Ul.prototype,"fontStyle",2);D([k(mh,{optional:!0})],Ul.prototype,"fontWeight",2);D([k(Le)],Ul.prototype,"fontSize",2);D([k(Ne)],Ul.prototype,"fontFamily",2);D([k(tr,{optional:!0})],Ul.prototype,"color",2);D([k(WD)],Ul.prototype,"wrapping",2);D([k(el,{optional:!0})],Ul.prototype,"formatter",2);var Rre={constructedArrays:new WeakMap};function Tre(n,t){var e;(e=Rre.constructedArrays)==null||e.set(n,t)}var U4={constructors:{"axes[].title":Ul},allowedTypes:{"legend.pagination.marker.shape":["primitive","function"],"axis[].tick.count":["primitive","class-instance"]}},cc=class fN{constructor(t,e){this.invalid=!0,this.nice=!1,this.interval=void 0,this.tickCount=fN.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.niceDomain=[],this.defaultClampMode="raw",this.domain=t,this.range=e}static is(t){return t instanceof fN}transform(t){return t}transformInvert(t){return t}calcBandwidth(t=1){const{range:e}=this,r=this.getDomain(),i=Math.abs(e[1]-e[0]),o=Math.abs(r[1]-r[0])/t+1,a=Math.floor(i),s=Math.min(o,a);return i/Math.max(1,s)}fromDomain(t){return typeof t=="number"?t:t instanceof Date?t.getTime():NaN}getDomain(){return this.nice&&(this.refresh(),this.niceDomain.length)?this.niceDomain:this.domain}convert(t,e){var r;const i=(r=e==null?void 0:e.clampMode)!=null?r:this.defaultClampMode;if(!this.domain||this.domain.length<2)return NaN;this.refresh();const o=this.getDomain().map(d=>this.transform(d)),[a,s]=o,{range:l}=this,[u,c]=l;if(t=this.transform(t),i==="clamped"){const d=Math.min(this.fromDomain(a),this.fromDomain(s)),p=Math.max(this.fromDomain(a),this.fromDomain(s));if(this.fromDomain(t)<d)return u;if(this.fromDomain(t)>p)return c}return a===s?(u+c)/2:t===a?u:t===s?c:u+(this.fromDomain(t)-this.fromDomain(a))/(this.fromDomain(s)-this.fromDomain(a))*(c-u)}invert(t){this.refresh();const e=this.getDomain().map(p=>this.transform(p)),[r,i]=e,{range:o}=this,[a,s]=o,l=a>s,u=l?s:a,c=l?a:s;let d;return t<u?l?i:r:t>c?l?r:i:(a===s?d=this.toDomain((this.fromDomain(r)+this.fromDomain(i))/2):d=this.toDomain(this.fromDomain(r)+(t-a)/(s-a)*(this.fromDomain(i)-this.fromDomain(r))),this.transformInvert(d))}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Ue.warnOnce("Expected update to not invalidate scale"))}getPixelRange(){const t=this.range.slice().sort((e,r)=>e-r);return t[1]-t[0]}isDenseInterval({start:t,stop:e,interval:r,count:i}){const o=e-t,a=this.getPixelRange();return i??(i=o/(typeof r=="number"?r:1)),i>=a?(Ue.warn("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0):!1}};cc.defaultTickCount=5;cc.defaultMaxTickCount=6;D([Sa],cc.prototype,"domain",2);D([Sa],cc.prototype,"range",2);D([Sa],cc.prototype,"nice",2);D([Sa],cc.prototype,"interval",2);D([Sa],cc.prototype,"tickCount",2);D([Sa],cc.prototype,"minTickCount",2);D([Sa],cc.prototype,"maxTickCount",2);var Rr=cc;function Pre(n,t){let e=0;return typeof n=="number"&&typeof t=="number"?e=n-t:typeof n=="string"&&typeof t=="string"?e=n.localeCompare(t):n==null&&t==null||(n==null?e=-1:t==null?e=1:e=String(n).localeCompare(String(t))),e}function Dre(n,t,e){const r=i=>typeof i=="function"?i():i;for(const i in n){const o=e(r(n[i]),r(t[i]));if(o!==0)return o}return 0}var zj=class vN extends Py{constructor(t){var e;super({isVirtual:t==null?void 0:t.isVirtual}),this.opts=t,this.opacity=1,this.lastBBox=void 0;const{zIndex:r,zIndexSubOrder:i}=t??{};this.isContainerNode=!0,r!==void 0&&(this.zIndex=r),i!==void 0&&(this.zIndexSubOrder=i),this.name=(e=this.opts)==null?void 0:e.name}zIndexChanged(){var t;this.layer&&((t=this._layerManager)==null||t.moveLayer(this.layer,this.zIndex,this.zIndexSubOrder))}isLayer(){return this.layer!=null}_setLayerManager(t){var e,r;if(this._layerManager&&this.layer&&(this._layerManager.removeLayer(this.layer),this.layer=void 0),this.layer)throw new Error("AG Charts - unable to deregister scene rendering layer!");if(super._setLayerManager(t),t&&((e=this.opts)!=null&&e.layer)){const{zIndex:i,zIndexSubOrder:o,name:a}=(r=this.opts)!=null?r:{},s=()=>this.getComputedOpacity(),l=()=>this.getVisibility();this.layer=t.addLayer({zIndex:i,zIndexSubOrder:o,name:a,getComputedOpacity:s,getVisibility:l})}}getComputedOpacity(){let t=1,e=this;do e instanceof vN&&(t*=e.opacity);while(e=e.parent);return t}getVisibility(){let t=this,e=this.visible;for(;t=t.parent;)t.visible||(e=t.visible);return e}visibilityChanged(){this.layer&&(this.layer.enabled=this.visible)}markDirty(t,e=1){if(this.isVirtual){super.markDirty(t,e);return}let r=e;(e<2||this.layer!=null)&&(r=1),super.markDirty(t,e,r)}containsPoint(t,e){return!0}computeBBox(){return this.computeTransformMatrix(),vN.computeBBox(this.children)}computeTransformedBBox(){return this.computeBBox()}render(t){var e,r;const{opts:{name:i=void 0}={},_debug:o=()=>{}}=this,{dirty:a,dirtyZIndex:s,layer:l,children:u,clipRect:c,dirtyTransform:d}=this;let{ctx:p,forceRender:h,clipBBox:f}=t;const{resized:v,stats:g}=t,m=p.getTransform(),y=a>=2||s||v;let C=y,S=!1;for(const P of u)if(C||(C=P.layerManager==null&&P.dirty>=1),S||(S=P.layerManager!=null&&P.dirty>=1),C)break;if(i&&o({name:i,group:this,isDirty:y,isChildDirty:C,dirtyTransform:d,renderCtx:t,forceRender:h}),d)h="dirtyTransform";else if(l){const P=this.computeBBox();(this.lastBBox===void 0||!this.lastBBox.equals(P))&&(h="dirtyTransform",this.lastBBox=P)}if(!y&&!C&&!S&&!h){i&&g&&o({name:i,result:"skipping",renderCtx:t,counts:this.nodeCount,group:this}),l&&g&&(g.layersSkipped++,g.nodesSkipped+=this.nodeCount.count),this.markClean({recursive:!1});return}const w=this.visible;if(l){if(p=l.context,p.save(),p.resetTransform(),h!=="dirtyTransform"&&(h=C||s),h&&l.clear(),f){const{width:P,height:A,x:N,y:I}=f;o(()=>({name:i,clipBBox:f,ctxTransform:p.getTransform(),renderCtx:t,group:this})),this.clipCtx(p,N,I,P,A)}p.setTransform(m)}else p.globalAlpha*=this.opacity;if(this.computeTransformMatrix(),this.matrix.toContext(p),c){const{x:P,y:A,width:N,height:I}=c;p.save(),o(()=>({name:i,clipRect:c,ctxTransform:p.getTransform(),renderCtx:t,group:this})),this.clipCtx(p,P,A,N,I),f=this.matrix.transformBBox(c)}const _=this.hasVirtualChildren();s?(this.sortChildren(u),h!=="dirtyTransform"&&(h=!0)):_&&this.sortChildren(u);const E=h!==t.forceRender||f!==t.clipBBox||p!==t.ctx?Xe(de({},t),{ctx:p,forceRender:h,clipBBox:f}):t;let R=0;for(const P of u){if(!P.visible||!w){P.markClean(),g&&(R+=P.nodeCount.count);continue}if(!h&&P.dirty===0){g&&(R+=P.nodeCount.count);continue}p.save(),P.render(E),p.restore()}if(g&&(g.nodesSkipped+=R),super.render(t),c&&p.restore(),_)for(const P of this.virtualChildren)P.markClean({recursive:"virtual"});l&&(g&&g.layersRendered++,p.restore(),h&&l.snapshot(),(r=(e=l.context).verifyDepthZero)==null||r.call(e)),i&&g&&o({name:i,result:"rendered",skipped:R,renderCtx:t,counts:this.nodeCount,group:this})}sortChildren(t){this.dirtyZIndex=!1,t.sort((e,r)=>{var i,o;return Dre([e.zIndex,...(i=e.zIndexSubOrder)!=null?i:[void 0,void 0],e.serialNumber],[r.zIndex,...(o=r.zIndexSubOrder)!=null?o:[void 0,void 0],r.serialNumber],Pre)})}clipCtx(t,e,r,i,o){t.beginPath(),t.moveTo(e,r),t.lineTo(e+i,r),t.lineTo(e+i,r+o),t.lineTo(e,r+o),t.closePath(),t.clip()}static computeBBox(t){let e=1/0,r=-1/0,i=1/0,o=-1/0;return t.forEach(a=>{if(!a.visible)return;const s=a.computeTransformedBBox();if(!s)return;const l=s.x,u=s.y;l<e&&(e=l),u<i&&(i=u),l+s.width>r&&(r=l+s.width),u+s.height>o&&(o=u+s.height)}),new Tt(e,i,r-e,o-i)}setClipRectInGroupCoordinateSpace(t){this.clipRect=t?this.transformBBox(t):void 0}};zj.className="Group";D([Je({redraw:3,convertor:n=>rr(0,n,1)})],zj.prototype,"opacity",2);var st=zj,dc=class extends qs{constructor(n={}){super(n),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.isRange=!1,this.restoreOwnStyles()}computeBBox(){return new Tt(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(n,t){return!1}render(n){var t;const{ctx:e,forceRender:r,stats:i}=n;if(this.dirty===0&&!r){i&&(i.nodesSkipped+=this.nodeCount.count);return}this.computeTransformMatrix(),this.matrix.toContext(e);let{x1:o,y1:a,x2:s,y2:l}=this;o=this.align(o),a=this.align(a),s=this.align(s),l=this.align(l);const{fill:u,opacity:c,isRange:d}=this;if(!!(d&&u)){const{fillOpacity:y}=this;e.fillStyle=u,e.globalAlpha=c*y,e.beginPath(),e.moveTo(o,a),e.lineTo(s,a),e.lineTo(s,l),e.lineTo(o,l),e.closePath(),e.fill()}const{stroke:h,strokeWidth:f,startLine:v,endLine:g}=this;if(!!((v||g)&&h&&f)){const{strokeOpacity:y,lineDash:C,lineDashOffset:S,lineCap:w,lineJoin:_}=this;e.strokeStyle=h,e.globalAlpha=c*y,e.lineWidth=f,C&&e.setLineDash(C),S&&(e.lineDashOffset=S),w&&(e.lineCap=w),_&&(e.lineJoin=_),e.beginPath(),v&&(e.moveTo(o,a),e.lineTo(s,a)),g&&(e.moveTo(s,l),e.lineTo(o,l)),e.stroke()}(t=this.fillShadow)==null||t.markClean(),super.render(n)}};dc.className="Range";dc.defaultStyles=Xe(de({},qs.defaultStyles),{strokeWidth:1});D([Je({redraw:2})],dc.prototype,"x1",2);D([Je({redraw:2})],dc.prototype,"y1",2);D([Je({redraw:2})],dc.prototype,"x2",2);D([Je({redraw:2})],dc.prototype,"y2",2);D([Je({redraw:2})],dc.prototype,"startLine",2);D([Je({redraw:2})],dc.prototype,"endLine",2);D([Je({redraw:2})],dc.prototype,"isRange",2);var oi=class extends Fr{constructor(){super(...arguments),this.enabled=!0,this.color="#464646",this.fontSize=12,this.fontFamily="Verdana, sans-serif"}getFont(){return Zp(this)}};D([k(St)],oi.prototype,"enabled",2);D([k(tr)],oi.prototype,"color",2);D([k(gh,{optional:!0})],oi.prototype,"fontStyle",2);D([k(mh,{optional:!0})],oi.prototype,"fontWeight",2);D([k(Le)],oi.prototype,"fontSize",2);D([k(Ne)],oi.prototype,"fontFamily",2);D([k(el,{optional:!0})],oi.prototype,"formatter",2);function fT(n){const{parallelFlipRotation:t=0,regularFlipRotation:e=0}=n,r=n.rotation?Gn(ao(n.rotation)):0,i=!r&&t>=0&&t<=Math.PI?-1:1,o=!r&&e>=0&&e<=Math.PI?-1:1;let a=0;return n.parallel?a=i*Math.PI/2:o===-1&&(a=Math.PI),{configuredRotation:r,defaultRotation:a,parallelFlipFlag:i,regularFlipFlag:o}}function IYe(n,t){return isNaN(n)?t?0:10:n}function NYe(n,t,e,r){return n&&!t?e*r===-1?"hanging":"bottom":"middle"}function XL(n,t,e,r,i){const o=t>0&&t<=Math.PI,a=e>0&&e<=Math.PI,s=o||a?-1:1;if(n)if(t||e){if(r*s===-1)return"end"}else return"center";else if(r*i===-1)return"end";return"start"}function kYe(n,t,e,r,i){const{width:o,height:a}=t,s=new Tt(e,r,0,0);i.transformBBox(s,t);const{x:l=0,y:u=0}=t;return t.width=o,t.height=a,{point:{x:l,y:u,size:0},label:{width:o,height:a,text:n}}}var Are=(n=>(n[n.SERIES_BACKGROUND_ZINDEX=0]="SERIES_BACKGROUND_ZINDEX",n[n.AXIS_GRID_ZINDEX=1]="AXIS_GRID_ZINDEX",n[n.AXIS_ZINDEX=2]="AXIS_ZINDEX",n[n.SERIES_CROSSLINE_RANGE_ZINDEX=3]="SERIES_CROSSLINE_RANGE_ZINDEX",n[n.SERIES_LAYER_ZINDEX=4]="SERIES_LAYER_ZINDEX",n[n.AXIS_FOREGROUND_ZINDEX=5]="AXIS_FOREGROUND_ZINDEX",n[n.SERIES_CROSSHAIR_ZINDEX=6]="SERIES_CROSSHAIR_ZINDEX",n[n.SERIES_LABEL_ZINDEX=7]="SERIES_LABEL_ZINDEX",n[n.SERIES_CROSSLINE_LINE_ZINDEX=8]="SERIES_CROSSLINE_LINE_ZINDEX",n[n.LEGEND_ZINDEX=9]="LEGEND_ZINDEX",n))(Are||{}),Kj=n=>!!n&&Object.hasOwn(n,"toString")&&js(n.toString()),GYe=n=>!!n&&Object.hasOwn(n,"valueOf")&&fr(n.valueOf()),Yj=n=>fr(n)||GYe(n)||M_(n);function M0(n,t){if(t&&Yj(n))return n;if(!t)return js(n)||Kj(n)?n:String(n)}function Om(n){return Kj(n)&&Object.hasOwn(n,"id")?n.id:n}var qj=n=>n==="value"?Ar((t,e)=>e.target.type==="line",t=>t.target.type==="range"?"crossLine type 'range' to have a 'range' property instead of 'value'":"crossLine property 'type' to be 'line'"):Ar((t,e)=>e.target.type==="range",t=>t.target.type==="line"?"crossLine type 'line' to have a 'value' property instead of 'range'":"crossLine property 'type' to be 'range'"),Mre=(n,t,e,r)=>{const i=n==="line"&&t!==void 0,o=n==="range"&&e!==void 0;if(!i&&!o)return!0;const[a,s]=e??[t,void 0],l=Rr.is(r),u=M0(a,l)!=null&&!isNaN(r.convert(a)),c=M0(s,l)!=null&&!isNaN(r.convert(s));if(i&&u||o&&u&&c)return!0;const d=["Expecting crossLine"];return o?(u||d.push(`range start ${Pw(a)}`),c||d.push(`${u?"":"and "}range end ${Pw(s)}`)):d.push(`value ${Pw(a)}`),d.push("to match the axis scale domain."),Ue.warnOnce(d.join(" ")),!1},VYe={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},topLeft:{xTranslationDirection:1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:-1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:1},bottomRight:{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:1,yTranslationDirection:0},insideRight:{xTranslationDirection:-1,yTranslationDirection:0},insideTop:{xTranslationDirection:0,yTranslationDirection:1},insideBottom:{xTranslationDirection:0,yTranslationDirection:-1},insideTopLeft:{xTranslationDirection:1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomRight:{xTranslationDirection:-1,yTranslationDirection:-1}},BYe={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},topLeft:{xTranslationDirection:-1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},bottomRight:{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:0,yTranslationDirection:1},insideRight:{xTranslationDirection:0,yTranslationDirection:-1},insideTop:{xTranslationDirection:-1,yTranslationDirection:0},insideBottom:{xTranslationDirection:1,yTranslationDirection:0},insideTopLeft:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:-1},insideBottomRight:{xTranslationDirection:1,yTranslationDirection:-1}};function z4({yDirection:n,padding:t=0,position:e="top",bbox:r}){const i=n?VYe:BYe,{xTranslationDirection:o,yTranslationDirection:a}=i[e],s=n?r.width:r.height,l=n?r.height:r.width,u=o*(t+s/2),c=a*(t+l/2);return{xTranslation:u,yTranslation:c}}function jYe({yDirection:n,bbox:t,padding:e=0,position:r="top"}){const i={};return r.startsWith("inside")||(r==="top"&&!n?i.top=e+t.height:r==="bottom"&&!n?i.bottom=e+t.height:r==="left"&&n?i.left=e+t.width:r==="right"&&n&&(i.right=e+t.width)),i}var gN=({yDirection:n,xEnd:t,yStart:e,yEnd:r})=>n?{x:t/2,y:e}:{x:t,y:isNaN(r)?e:(e+r)/2},K4=({yDirection:n,xStart:t,xEnd:e,yStart:r,yEnd:i})=>n?{x:t,y:isNaN(i)?r:(r+i)/2}:{x:e/2,y:r},Y4=({yDirection:n,xEnd:t,yStart:e,yEnd:r})=>n?{x:t,y:isNaN(r)?e:(e+r)/2}:{x:t/2,y:isNaN(r)?e:r},q4=({yDirection:n,xStart:t,xEnd:e,yStart:r,yEnd:i})=>n?{x:e/2,y:isNaN(i)?r:i}:{x:t,y:isNaN(i)?r:(r+i)/2},HYe=({xEnd:n,yStart:t,yEnd:e})=>({x:n/2,y:isNaN(e)?t:(t+e)/2}),X4=({yDirection:n,xStart:t,xEnd:e,yStart:r})=>n?{x:t/2,y:r}:{x:e,y:r},Z4=({yDirection:n,xStart:t,yStart:e,yEnd:r})=>n?{x:t,y:isNaN(r)?e:r}:{x:t,y:e},Q4=({yDirection:n,xEnd:t,yStart:e,yEnd:r})=>n?{x:t,y:e}:{x:t,y:isNaN(r)?e:r},J4=({yDirection:n,xStart:t,xEnd:e,yStart:r,yEnd:i})=>n?{x:e,y:isNaN(i)?r:i}:{x:t,y:isNaN(i)?r:i},$Ye={top:{c:gN},bottom:{c:q4},left:{c:K4},right:{c:Y4},topLeft:{c:X4},topRight:{c:Q4},bottomLeft:{c:Z4},bottomRight:{c:J4},inside:{c:HYe},insideLeft:{c:K4},insideRight:{c:Y4},insideTop:{c:gN},insideBottom:{c:q4},insideTopLeft:{c:X4},insideBottomLeft:{c:Z4},insideTopRight:{c:Q4},insideBottomRight:{c:J4}},WYe=Wn(["top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","inside","insideLeft","insideRight","insideTop","insideBottom","insideTopLeft","insideBottomLeft","insideTopRight","insideBottomRight"],"crossLine label position"),rl=class{constructor(){this.enabled=void 0,this.text=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.position=void 0,this.rotation=void 0,this.parallel=void 0}};D([k(St,{optional:!0})],rl.prototype,"enabled",2);D([k(Ne,{optional:!0})],rl.prototype,"text",2);D([k(gh,{optional:!0})],rl.prototype,"fontStyle",2);D([k(mh,{optional:!0})],rl.prototype,"fontWeight",2);D([k(Le)],rl.prototype,"fontSize",2);D([k(Ne)],rl.prototype,"fontFamily",2);D([k(Vr)],rl.prototype,"padding",2);D([k(tr,{optional:!0})],rl.prototype,"color",2);D([k(WYe,{optional:!0})],rl.prototype,"position",2);D([k(vh,{optional:!0})],rl.prototype,"rotation",2);D([k(St,{optional:!0})],rl.prototype,"parallel",2);var Fo=class zS{constructor(){this.id=sc(this),this.enabled=void 0,this.type=void 0,this.range=void 0,this.value=void 0,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.strokeOpacity=void 0,this.lineDash=void 0,this.label=new rl,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction="x",this.group=new st({name:`${this.id}`,layer:!0,zIndex:zS.LINE_LAYER_ZINDEX}),this.labelGroup=new st({name:`${this.id}`,layer:!0,zIndex:zS.LABEL_LAYER_ZINDEX}),this.crossLineRange=new dc,this.crossLineLabel=new nr,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1;const{group:t,labelGroup:e,crossLineRange:r,crossLineLabel:i}=this;t.append(r),e.append(i),r.pointerEvents=1}update(t){const{enabled:e,data:r,type:i,value:o,range:a,scale:s}=this;if(!i||!s||!e||!t||!Mre(i,o,a,s)||r.length===0){this.group.visible=!1,this.labelGroup.visible=!1;return}this.group.visible=t,this.labelGroup.visible=t,this.group.zIndex=this.getZIndex(this.isRange),this.updateNodes()}calculateLayout(t,e){if(!t||!this.createNodeData(e))return;const{sideFlag:i,gridLength:o,data:a}=this,s=[],l=0,u=i*o,c=a[0],d=a[1],p=new Tt(Math.min(l,u),Math.min(c,d),Math.abs(l-u),Math.abs(c-d));s.push(p);const h=this.computeLabelBBox();return h&&s.push(h),Tt.merge(s)}updateNodes(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())}createNodeData(t){var e,r,i;const{scale:o,gridLength:a,sideFlag:s,direction:l,label:{position:u="top"},clippedRange:c,strokeWidth:d=0}=this;if(this.data=[],!o)return!1;const p=(e=o.bandwidth)!=null?e:0,h=(r=o.step)!=null?r:0,f=(t?-1:1)*(o instanceof ec?(h-p)/2:0),[v,g]=[0,s*a];let[m,y]=this.getRange(),[C,S]=[Number(o.convert(m,{clampMode:"clamped"}))-f,o.convert(y,{clampMode:"clamped"})+p+f];C=pT(C,c),S=pT(S,c),[m,y]=[Number(o.convert(m)),o.convert(y)+p];const w=(m===C||y===S||C!==S)&&Math.abs(S-C)>0;if(w&&C>S&&([C,S]=[S,C],[m,y]=[y,m]),m-f>=C&&(m-=f),y+f<=S&&(y+=f),this.isRange=w,this.startLine=d>0&&m>=C&&m<=C+f,this.endLine=d>0&&y>=S-p-f&&y<=S,!w&&!this.startLine&&!this.endLine)return!1;if(this.data=[C,S],this.label.enabled){const _=l==="y",{c:x=gN}=(i=$Ye[u])!=null?i:{},{x:E,y:R}=x({yDirection:_,xStart:v,xEnd:g,yStart:C,yEnd:S});this.labelPoint={x:E,y:R}}return!0}updateRangeNode(){var t;const{crossLineRange:e,sideFlag:r,gridLength:i,data:o,startLine:a,endLine:s,isRange:l,fill:u,fillOpacity:c,stroke:d,strokeWidth:p,lineDash:h}=this;e.x1=0,e.x2=r*i,e.y1=o[0],e.y2=o[1],e.startLine=a,e.endLine=s,e.isRange=l,e.fill=u,e.fillOpacity=c??1,e.stroke=d,e.strokeWidth=p??1,e.strokeOpacity=(t=this.strokeOpacity)!=null?t:1,e.lineDash=h}updateLabel(){const{crossLineLabel:t,label:e}=this;e.text&&(t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.fontSize=e.fontSize,t.fontFamily=e.fontFamily,t.fill=e.color,t.text=e.text)}positionLabel(){const{crossLineLabel:t,labelPoint:{x:e=void 0,y:r=void 0}={},label:{parallel:i,rotation:o,position:a="top",padding:s=0},direction:l,parallelFlipRotation:u,regularFlipRotation:c}=this;if(e===void 0||r===void 0)return;const{defaultRotation:d,configuredRotation:p}=fT({rotation:o,parallel:i,regularFlipRotation:c,parallelFlipRotation:u});t.rotation=d+p,t.textBaseline="middle",t.textAlign="center";const h=t.computeTransformedBBox();if(!h)return;const f=l==="y",{xTranslation:v,yTranslation:g}=z4({yDirection:f,padding:s,position:a,bbox:h});t.translationX=e+v,t.translationY=r+g}getZIndex(t=!1){return t?zS.RANGE_LAYER_ZINDEX:zS.LINE_LAYER_ZINDEX}getRange(){var t;const{value:e,range:r,scale:i}=this,o=Rr.is(i),a=(t=r==null?void 0:r[0])!=null?t:e;let s=r==null?void 0:r[1];return!o&&s===void 0&&(s=a),o&&a===s&&(s=void 0),[a,s]}computeLabelBBox(){const{label:t}=this;if(!t.enabled)return;const e=new nr;e.fontFamily=t.fontFamily,e.fontSize=t.fontSize,e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.text=t.text;const{labelPoint:{x:r=void 0,y:i=void 0}={},label:{parallel:o,rotation:a,position:s="top",padding:l=0},direction:u,parallelFlipRotation:c,regularFlipRotation:d}=this;if(r===void 0||i===void 0)return;const{configuredRotation:p}=fT({rotation:a,parallel:o,regularFlipRotation:d,parallelFlipRotation:c});e.rotation=p,e.textBaseline="middle",e.textAlign="center";const h=e.computeTransformedBBox();if(!h)return;const f=u==="y",{xTranslation:v,yTranslation:g}=z4({yDirection:f,padding:l,position:s,bbox:h});return e.translationX=r+v,e.translationY=i+g,e.computeTransformedBBox()}calculatePadding(t){var e,r,i,o,a,s,l,u;const{isRange:c,startLine:d,endLine:p,direction:h,label:{padding:f=0,position:v="top"}}=this;if(!c&&!d&&!p)return;const g=this.computeLabelBBox();if((g==null?void 0:g.x)==null||(g==null?void 0:g.y)==null)return;const m=jYe({yDirection:h==="y",padding:f,position:v,bbox:g});t.left=Math.max((e=t.left)!=null?e:0,(r=m.left)!=null?r:0),t.right=Math.max((i=t.right)!=null?i:0,(o=m.right)!=null?o:0),t.top=Math.max((a=t.top)!=null?a:0,(s=m.top)!=null?s:0),t.bottom=Math.max((l=t.bottom)!=null?l:0,(u=m.bottom)!=null?u:0)}};Fo.LINE_LAYER_ZINDEX=8;Fo.RANGE_LAYER_ZINDEX=3;Fo.LABEL_LAYER_ZINDEX=7;Fo.className="CrossLine";D([k(St,{optional:!0})],Fo.prototype,"enabled",2);D([k(Wn(["range","line"],"a crossLine type"),{optional:!0})],Fo.prototype,"type",2);D([k(uc(qj("range"),V_.restrict({length:2})),{optional:!0})],Fo.prototype,"range",2);D([k(qj("value"),{optional:!0})],Fo.prototype,"value",2);D([k(tr,{optional:!0})],Fo.prototype,"fill",2);D([k(_r,{optional:!0})],Fo.prototype,"fillOpacity",2);D([k(tr,{optional:!0})],Fo.prototype,"stroke",2);D([k(Vr,{optional:!0})],Fo.prototype,"strokeWidth",2);D([k(_r,{optional:!0})],Fo.prototype,"strokeOpacity",2);D([k(xd,{optional:!0})],Fo.prototype,"lineDash",2);var mN=Fo,Lre=class{constructor(){this.moduleMap=new Map}addModule(n,t){if(this.moduleMap.has(n.optionsKey))throw new Error(`AG Charts - module already initialised: ${n.optionsKey}`);this.moduleMap.set(n.optionsKey,t(n))}removeModule(n){var t;const e=js(n)?n:n.optionsKey;(t=this.moduleMap.get(e))==null||t.destroy(),this.moduleMap.delete(e)}isModuleEnabled(n){return this.moduleMap.has(js(n)?n:n.optionsKey)}getModule(n){return this.moduleMap.get(js(n)?n:n.optionsKey)}get modules(){return this.moduleMap.values()}mapValues(n){return Array.from(this.moduleMap.values()).map(n)}destroy(){for(const n of this.moduleMap.keys())this.removeModule({optionsKey:n})}},Fre={};yd(Fre,{resetMotion:()=>ci});function ci(n,t){const{nodes:e,selections:r}=jD(n);for(const i of r){for(const o of i.nodes()){const a=t(o,o.datum);o.setProperties(a)}i.cleanup()}for(const i of e){const o=t(i,i.datum);i.setProperties(o)}}var W_=class{constructor(n,t,e){this.states=t,this.preTransitionCb=e,this.debug=Rn.create(!0,"animation"),this.state=n,this.debug(`%c${this.constructor.name} | init -> ${n}`,"color: green")}transition(n,t){var e,r;const i=this.states[this.state],o=i==null?void 0:i[n];if(!o){this.debug(`%c${this.constructor.name} | ${this.state} -> ${n} -> ${this.state}`,"color: grey");return}let a=this.state;return typeof o=="string"?a=o:typeof o=="object"&&(a=o.target),this.debug(`%c${this.constructor.name} | ${this.state} -> ${n} -> ${a}`,"color: green"),(e=this.preTransitionCb)==null||e.call(this,this.state,a),this.state=a,typeof o=="function"?o(t):typeof o=="object"&&((r=o.action)==null||r.call(o,t)),this.state}},Rm=n=>`(${n})`,Pc=n=>`${Rm(n)}?`,e5=n=>Pc(`?:${n}`),UYe=(()=>{const n=".",t="[<>=^]",e="[+\\-( ]",r="[$€£¥₣₹#]",i="0",o="\\d+",a=",",s="\\d+",l="~",u="[%a-z]";return new RegExp(["^",e5(`${Pc(n)}${Rm(t)}`),Pc(e),Pc(r),Pc(i),Pc(o),Pc(a),e5(`\\.${Rm(s)}`),Pc(l),Pc(u),"$"].join(""),"i")})(),zYe=(()=>{const n=".*?",t=".+?",e=".*?";return new RegExp(["^",Rm(n),`#\\{${Rm(t)}\\}`,Rm(e),"$"].join(""))})();function Ire(n){let t,e;const r=zYe.exec(n);r&&([,t,n,e]=r);const i=UYe.exec(n);if(!i)throw new Error(`The number formatter is invalid: ${n}`);const[,o,a,s,l,u,c,d,p,h,f]=i;return{fill:o,align:a,sign:s,symbol:l,zero:u,width:parseInt(c),comma:d,precision:parseInt(p),trim:!!h,type:f,prefix:t,suffix:e}}function Nre(n){const t=typeof n=="string"?Ire(n):n,{fill:e,align:r,sign:i="-",symbol:o,zero:a,width:s,comma:l,type:u,prefix:c="",suffix:d="",precision:p}=t;let{trim:h}=t;const f=p===void 0||isNaN(p);let v;if(!u)v=Ka.g,h=!0;else if(u in Ka&&u in Xg)v=f?Xg[u]:Ka[u];else if(u in Ka)v=Ka[u];else if(u in Xg)v=Xg[u];else throw new Error(`The number formatter type is invalid: ${u}`);let g;return p==null||f?g=u?6:12:g=p,m=>{let y=v(m,g);return h&&(y=KYe(y)),l&&(y=YYe(y,l)),y=QYe(m,y,i),o&&o!=="#"&&(y=`${o}${y}`),o==="#"&&u==="x"&&(y=`0x${y}`),u==="s"&&(y=`${y}${qYe(m)}`),(u==="%"||u==="p")&&(y=`${y}%`),s!=null&&!isNaN(s)&&(y=JYe(y,s,e??a,r)),y=`${c}${y}${d}`,y}}var $b=n=>Math.floor(Math.abs(n)),Xg={b:n=>$b(n).toString(2),c:n=>String.fromCharCode(n),d:n=>Math.round(Math.abs(n)).toFixed(0),o:n=>$b(n).toString(8),x:n=>$b(n).toString(16),X:n=>Xg.x(n).toUpperCase(),n:n=>Xg.d(n),"%":n=>`${$b(n*100).toFixed(0)}`},Ka={e:(n,t)=>Math.abs(n).toExponential(t),E:(n,t)=>Ka.e(n,t).toUpperCase(),f:(n,t)=>Math.abs(n).toFixed(t),F:(n,t)=>Ka.f(n,t).toUpperCase(),g:(n,t)=>{if(n===0)return"0";const e=Math.abs(n),r=Math.floor(Math.log10(e));return r>=-4&&r<t?e.toFixed(t-1-r):e.toExponential(t-1)},G:(n,t)=>Ka.g(n,t).toUpperCase(),n:(n,t)=>Ka.g(n,t),p:(n,t)=>Ka.r(n*100,t),r:(n,t)=>{if(n===0)return"0";const e=Math.abs(n),i=Math.floor(Math.log10(e))-(t-1);if(i<=0)return e.toFixed(-i);const o=Math.pow(10,i);return(Math.round(e/o)*o).toFixed()},s:(n,t)=>{const e=kre(n);return Ka.r(n/Math.pow(10,e),t)},"%":(n,t)=>Ka.f(n*100,t)};function KYe(n){return n.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")}function YYe(n,t){let e=n.indexOf(".");e<0&&(e=n.length);const r=n.substring(0,e).split(""),i=n.substring(e);for(let o=r.length-3;o>0;o-=3)r.splice(o,0,t);return`${r.join("")}${i}`}function qYe(n){return XYe[kre(n)]}function kre(n){return rr(Gre,Math.floor(Math.log10(Math.abs(n))/3)*3,Vre)}var Gre=-24,Vre=24,XYe={[Gre]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"µ",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[Vre]:"Y"},ZYe="−";function QYe(n,t,e=""){if(e==="(")return n>=0?t:`(${t})`;const r=e==="+"?"+":"";return`${n>=0?r:ZYe}${t}`}function JYe(n,t,e=" ",r=">"){let i=n;if(r===">"||!r)i=i.padStart(t,e);else if(r==="<")i=i.padEnd(t,e);else if(r==="^"){const o=Math.max(0,t-i.length),a=Math.ceil(o/2),s=Math.floor(o/2);i=i.padStart(a+i.length,e),i=i.padEnd(s+i.length,e)}return i}function Bre(n,t){const e=Ire(t??",f"),{precision:r}=e;(r==null||isNaN(r))&&(e.type==="f"||e.type==="%"?e.precision=Math.max(...n.map(o=>{if(typeof o!="number"||o===0)return 0;const a=Math.floor(Math.log10(Math.abs(o))),s=e.type?6:12,l=o.toExponential(s-1).replace(/\.?0+e/,"e"),u=l.indexOf(".");if(u<0)return a>=0?0:-a;const c=l.indexOf("e")-u;return Math.max(0,c-a-1)})):(!e.type||e.type in Ka)&&(e.precision=Math.max(...n.map(o=>{if(typeof o!="number")return 0;const a=o.toExponential((e.type?6:12)-1).replace(/\.?0+e/,"e");return a.substring(0,a.indexOf("e")).replace(".","").length}))));const i=Nre(e);return o=>i(Number(o))}var L0=(n,t=[])=>Object.assign(t,{fractionDigits:n});function KD(n,t,e,r,i){if(e<2)return F0(n,t,t-n);const o=iy(n,t,e,r,i);return isNaN(o)?L0(0):(n=Math.ceil(n/o)*o,t=Math.floor(t/o)*o,F0(n,t,o))}var jre=[1,2,5,10];function iy(n,t,e,r=0,i=1/0){const o=Math.abs(t-n),a=o/e,s=Math.floor(Math.log10(a)),l=Math.pow(10,s),u=jre.map(c=>{const d=c*l,p=Math.ceil(o/d),h=p>=r&&p<=i,f=Math.abs(p-e);return{multiplier:c,isWithinBounds:h,diffCount:f}}).sort((c,d)=>c.isWithinBounds!==d.isWithinBounds?c.isWithinBounds?-1:1:c.diffCount-d.diffCount)[0].multiplier;return!u||isNaN(u)?NaN:u*l}function e8e(n,t){const e=Math.abs(t-n),r=Math.floor(Math.log10(e)),i=Math.pow(10,r),o=n>t?Math.ceil:Math.floor,a=t<n?Math.floor:Math.ceil;return jre.map(s=>{const l=s*i,u=o(n/l)*l,c=a(t/l)*l;return{error:1-e/Math.abs(c-u),domain:[u,c]}}).sort((s,l)=>s.error-l.error)[0].domain}function F0(n,t,e){const r=Math.min(n,t),i=Math.max(n,t),o=Fj(e),a=Math.pow(10,o),s=Math.ceil((i-r)/e),l=L0(o);for(let u=0;u<=s;u++){const c=r+e*u;l.push(Math.round(c*a)/a)}return l}var Hre=class yN extends Rr{constructor(){super([1,10],[0,1]),this.type="log",this.base=10,this.baseLog=V4,this.basePow=V4,this.log=t=>Math.min(...this.domain)>=0?this.baseLog(t):-this.baseLog(-t),this.pow=t=>Math.min(...this.domain)>=0?this.basePow(t):-this.basePow(-t),this.defaultClampMode="clamped"}toDomain(t){return t}transform(t){return Math.min(...this.domain)>=0?Math.log(t):-Math.log(-t)}transformInvert(t){return Math.min(...this.domain)>=0?Math.exp(t):-Math.exp(-t)}refresh(){this.base<=0&&(this.base=0,Ue.warnOnce("expecting a finite Number greater than to 0")),super.refresh()}update(){!this.domain||this.domain.length<2||(this.baseLog=yN.getBaseLogMethod(this.base),this.basePow=yN.getBasePowerMethod(this.base),this.nice&&this.updateNiceDomain())}updateNiceDomain(){const[t,e]=this.domain,r=t>e?Math.ceil:Math.floor,i=t>e?Math.floor:Math.ceil,o=this.pow(r(this.log(t))),a=this.pow(i(this.log(e)));this.niceDomain=[o,a]}ticks(){var t;const e=(t=this.tickCount)!=null?t:10;if(!this.domain||this.domain.length<2||e<1)return[];this.refresh();const r=this.base,[i,o]=this.getDomain(),a=Math.min(i,o),s=Math.max(i,o);let l=this.log(a),u=this.log(s);if(this.interval){const g=Math.abs(this.interval),m=Math.abs(u-l);let y=F0(l,u,Math.min(m,g));if(y=L0(y.fractionDigits,y.map(C=>this.pow(C)).filter(C=>C>=a&&C<=s)),!this.isDenseInterval({start:a,stop:s,interval:g,count:y.length}))return y}const c=r%1===0,d=u-l>=e;if(!c||d){let g=KD(l,u,Math.min(u-l,e));return g=L0(g.fractionDigits,g.map(m=>this.pow(m))),g}const p=[],h=a>0;l=Math.floor(l)-1,u=Math.round(u)+1;const f=ny(this.range)/e;let v=1/0;for(let g=l;g<=u;g++){const m=this.convert(this.pow(g+1));for(let y=1;y<r;y++){const C=h?y:r-y+1,S=this.pow(g)*C,w=this.convert(S),_=Math.abs(v-w),x=Math.abs(w-m),E=_>=f&&x>=f;S>=a&&S<=s&&(y===1||E)&&(p.push(S),v=w)}}return p}tickFormat({count:t,ticks:e,specifier:r}){return t!==1/0&&e==null&&this.ticks(),r??(r=this.base===10?".0e":","),js(r)?Nre(r):r}static getBaseLogMethod(t){switch(t){case 10:return Math.log10;case Math.E:return Math.log;case 2:return Math.log2;default:const e=Math.log(t);return r=>Math.log(r)/e}}static getBasePowerMethod(t){switch(t){case 10:return e=>e>=0?It(10,e):1/It(10,-e);case Math.E:return Math.exp;default:return e=>It(t,e)}}};D([Sa],Hre.prototype,"base",2);var Xj=Hre,Wb={periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function Zj(n,t=new Date(n.getFullYear(),0,1)){const e=n.getTimezoneOffset()-t.getTimezoneOffset(),r=n.getTime()-t.getTime()+e*6e4,i=36e5*24;return Math.floor(r/i)}function t5(n,t){const r=new Date(n.getFullYear(),0,1).getDay(),i=(t-r+7)%7,o=new Date(n.getFullYear(),0,i+1);return o<=n?Math.floor(Zj(n,o)/7)+1:0}var t8e=0,$re=1,r5=4;function Wre(n,t=n.getFullYear()){const r=new Date(t,0,1).getDay(),i=(r5-r+7)%7,o=new Date(t,0,i-(r5-$re)+1);return o<=n?Math.floor(Zj(n,o)/7)+1:Wre(n,t-1)}function r8e(n){const t=n.getTimezoneOffset(),e=Math.abs(t);return`${t>0?"-":"+"}${Ii(Math.floor(e/60),2,"0")}${Ii(Math.floor(e%60),2,"0")}`}var n8e={a:n=>Wb.shortDays[n.getDay()],A:n=>Wb.days[n.getDay()],b:n=>Wb.shortMonths[n.getMonth()],B:n=>Wb.months[n.getMonth()],c:"%x, %X",d:(n,t)=>Ii(n.getDate(),2,t??"0"),e:"%_d",f:(n,t)=>Ii(n.getMilliseconds()*1e3,6,t??"0"),H:(n,t)=>Ii(n.getHours(),2,t??"0"),I:(n,t)=>{const e=n.getHours()%12;return e===0?"12":Ii(e,2,t??"0")},j:(n,t)=>Ii(Zj(n)+1,3,t??"0"),m:(n,t)=>Ii(n.getMonth()+1,2,t??"0"),M:(n,t)=>Ii(n.getMinutes(),2,t??"0"),L:(n,t)=>Ii(n.getMilliseconds(),3,t??"0"),p:n=>n.getHours()<12?"AM":"PM",Q:n=>String(n.getTime()),s:n=>String(Math.floor(n.getTime()/1e3)),S:(n,t)=>Ii(n.getSeconds(),2,t??"0"),u:n=>{let t=n.getDay();return t<1&&(t+=7),String(t%7)},U:(n,t)=>Ii(t5(n,t8e),2,t??"0"),V:(n,t)=>Ii(Wre(n),2,t??"0"),w:(n,t)=>Ii(n.getDay(),2,t??"0"),W:(n,t)=>Ii(t5(n,$re),2,t??"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(n,t)=>Ii(n.getFullYear()%100,2,t??"0"),Y:(n,t)=>Ii(n.getFullYear(),4,t??"0"),Z:n=>r8e(n),"%":()=>"%"},i8e={_:" ",0:"0","-":""};function Ii(n,t,e){const r=String(Math.floor(n));return r.length>=t?r:`${e.repeat(t-r.length)}${r}`}function CN(n){const t=[];for(;n.length>0;){let e=n.indexOf("%");if(e!==0){const s=e>0?n.substring(0,e):n;t.push(s)}if(e<0)break;const r=n[e+1],i=i8e[r];i!=null&&e++;const o=n[e+1],a=n8e[o];if(typeof a=="function")t.push([a,i]);else if(typeof a=="string"){const s=CN(a);t.push([s,i])}else t.push(`${i??""}${o}`);n=n.substring(e+2)}return e=>{const r=typeof e=="number"?new Date(e):e;return t.map(i=>typeof i=="string"?i:i[0](r,i[1])).join("")}}var Gh={0:".%L",1:":%S",2:"%I:%M",3:"%I %p",4:"%a",5:"%b %d",6:"%B",7:"%y",8:"%Y"};function ys(n){return n instanceof Date?n.getTime():n}var Qj=class extends Rr{constructor(){super([],[0,1]),this.type="time",this.year=xKe,this.month=SKe,this.week=mKe,this.day=cKe,this.hour=sKe,this.minute=iKe,this.second=tKe,this.millisecond=Q5e,this.tickIntervals=[[this.second,1,Nf],[this.second,5,5*Nf],[this.second,15,15*Nf],[this.second,30,30*Nf],[this.minute,1,wo],[this.minute,5,5*wo],[this.minute,15,15*wo],[this.minute,30,30*wo],[this.hour,1,Au],[this.hour,3,3*Au],[this.hour,6,6*Au],[this.hour,12,12*Au],[this.day,1,kp],[this.day,2,2*kp],[this.week,1,MS],[this.week,2,2*MS],[this.week,3,3*MS],[this.month,1,ZC],[this.month,2,2*ZC],[this.month,3,3*ZC],[this.month,4,4*ZC],[this.month,6,6*ZC],[this.year,1,Hb]]}toDomain(n){return new Date(n)}calculateDefaultTickFormat(n=[]){let t=8;const e=l=>{l<t&&(t=l)};for(const l of n){const u=this.getLowestGranularityFormat(l);e(u)}const r=ys(n[0]),i=ys(n.at(-1)),o=new Date(r).getFullYear(),s=new Date(i).getFullYear()-o>0;return this.buildFormatString(t,s)}buildFormatString(n,t){let e=[Gh[n]],r=0;const i=this.getDomain(),o=ny(i.map(ys));switch(n){case 1:o/wo>1&&e.push(Gh[2]);case 2:o/Au>1&&e.push(Gh[3]);case 3:r=e.length,o/kp>1&&e.push(Gh[4]);case 4:if(o/MS>1||t){const a=e.indexOf(Gh[4]);a>-1&&e.splice(a,1,Gh[5])}case 5:case 6:(o/Hb>1||t)&&e.push(Gh[8])}return r<e.length&&(e=[...e.slice(0,r),e.slice(r).join(" ")]),r>0&&(e=[...e.slice(0,r).reverse(),...e.slice(r)],r<e.length&&e.splice(r,0," ")),e.join("")}getLowestGranularityFormat(n){return this.second.floor(n)<n?0:this.minute.floor(n)<n?1:this.hour.floor(n)<n?2:this.day.floor(n)<n?3:this.month.floor(n)<n?this.week.floor(n)<n?4:5:this.year.floor(n)<n?6:8}defaultTickFormat(n){const t=this.calculateDefaultTickFormat(n);return e=>CN(t)(e)}getTickInterval({start:n,stop:t,count:e,minCount:r,maxCount:i}){const{tickIntervals:o}=this;let a,s;const l=e??Rr.defaultTickCount,u=Math.abs(t-n)/Math.max(l,1);let c=0;for(;c<o.length&&u>o[c][2];)c++;if(c===0)s=Math.max(iy(n,t,l,r,i),1),a=this.millisecond;else if(c===o.length){const d=n/Hb,p=t/Hb;s=iy(d,p,l,r,i),a=this.year}else{const d=u-o[c-1][2],p=o[c][2]-u,h=d<p?c-1:c;[a,s]=o[h]}return a.every(s)}invert(n){return new Date(super.invert(n))}ticks(){if(!this.domain||this.domain.length<2)return[];this.refresh();const[n,t]=this.getDomain().map(ys),e=Math.min(n,t),r=Math.max(n,t);if(this.interval!==void 0)return this.getTicksForInterval({start:e,stop:r});if(this.nice){const{tickCount:i}=this;if(i===2)return this.niceDomain;if(i===1)return this.niceDomain.slice(0,1)}return this.getDefaultTicks({start:e,stop:r})}getDefaultTicks({start:n,stop:t}){const e=this.getTickInterval({start:n,stop:t,count:this.tickCount,minCount:this.minTickCount,maxCount:this.maxTickCount});return e?e.range(new Date(n),new Date(t)):[]}getTicksForInterval({start:n,stop:t}){const{interval:e,tickIntervals:r}=this;if(!e)return[];if(e instanceof R0){const c=e.range(new Date(n),new Date(t));return this.isDenseInterval({start:n,stop:t,interval:e,count:c.length})?this.getDefaultTicks({start:n,stop:t}):c}const i=Math.abs(e);if(this.isDenseInterval({start:n,stop:t,interval:i}))return this.getDefaultTicks({start:n,stop:t});const o=[...r];o.reverse();const a=o.find(c=>i%c[2]===0);if(a)return a[0].every(i/(a[2]/a[1])).range(new Date(n),new Date(t));let s=new Date(n);const l=new Date(t),u=[];for(;s<=l;)u.push(s),s=new Date(s),s.setMilliseconds(s.getMilliseconds()+i);return u}tickFormat({ticks:n,specifier:t}){return t==null?this.defaultTickFormat(n):CN(t)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}updateNiceDomain(){let[t,e]=this.domain;for(let r=0;r<4;r++){this.updateNiceDomainIteration(t,e);const[i,o]=this.niceDomain;if(ys(t)===ys(i)&&ys(e)===ys(o))break;t=i,e=o}}updateNiceDomainIteration(n,t){const e=Math.min(ys(n),ys(t)),r=Math.max(ys(n),ys(t)),i=n>t,{interval:o}=this;let a;if(o instanceof R0)a=o;else{const s=typeof o=="number"?(r-e)/Math.max(o,1):this.tickCount;a=this.getTickInterval({start:e,stop:r,count:s,minCount:this.minTickCount,maxCount:this.maxTickCount})}if(a){const s=a.range(new Date(e),new Date(r),!0),l=i?[...s].reverse():s,u=l[0],c=l.at(-1);this.niceDomain=[u,c]}}},rn=class hf{constructor(t,e,r=!0){this.parentNode=t,this.autoCleanup=r,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=Rn.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(Py,e)?()=>new e:e}static select(t,e,r=!0){return new hf(t,e,r)}static selectAll(t,e){const r=[],i=o=>{e(o)&&r.push(o),o.children.forEach(i)};return i(t),r}static selectByClass(t,e){return hf.selectAll(t,r=>r instanceof e)}static selectByTag(t,e){return hf.selectAll(t,r=>r.tag===e)}createNode(t,e,r){const i=this.nodeFactory(t);return i.datum=t,e==null||e(i),r!=null?this._nodes.splice(r,0,i):this._nodes.push(i),this.parentNode.appendChild(i),i}update(t,e,r){if(this.garbageBin.size>0&&this.debug(`Selection - update() called with pending garbage: ${t}`),r){const i=new Map(t.map((o,a)=>[r(o),[o,a]]));for(const[o,a]of this._nodesMap.entries())if(i.has(a)){const[s]=i.get(a);o.datum=s,this.garbageBin.delete(o),i.delete(a)}else this.garbageBin.add(o);for(const[o,[a,s]]of i.entries())this._nodesMap.set(this.createNode(a,e,s),o)}else{const i=Math.max(t.length,this.data.length);for(let o=0;o<i;o++)o>=t.length?this.garbageBin.add(this._nodes[o]):o>=this._nodes.length?this.createNode(t[o],e):(this._nodes[o].datum=t[o],this.garbageBin.delete(this._nodes[o]))}return this.data=t.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return this.garbageBin.size===0?this:(this._nodes=this._nodes.filter(t=>this.garbageBin.has(t)?(this._nodesMap.delete(t),this.garbageBin.delete(t),this.parentNode.removeChild(t),!1):!0),this)}clear(){return this.update([]),this}isGarbage(t){return this.garbageBin.has(t)}hasGarbage(){return this.garbageBin.size>0}each(t){return this._nodes.forEach((e,r)=>t(e,e.datum,r)),this}*[Symbol.iterator](){for(let t=0;t<this._nodes.length;t++){const e=this._nodes[t],r=this._nodes[t].datum;yield{node:e,datum:r,index:t}}}select(t){return hf.selectAll(this.parentNode,t)}selectByClass(t){return hf.selectByClass(this.parentNode,t)}selectByTag(t){return hf.selectByTag(this.parentNode,t)}nodes(){return this._nodes}},pi=class extends qs{constructor(n={}){super(n),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.restoreOwnStyles()}set x(n){this.x1=n,this.x2=n}set y(n){this.y1=n,this.y2=n}computeBBox(){return new Tt(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(n,t){if(this.x1===this.x2||this.y1===this.y2){const{x:e,y:r}=this.transformPoint(n,t);return this.computeBBox().grow(this.strokeWidth/2).containsPoint(e,r)}return!1}render(n){var t;const{ctx:e,forceRender:r,stats:i,devicePixelRatio:o}=n;if(this.dirty===0&&!r){i&&(i.nodesSkipped+=this.nodeCount.count);return}this.computeTransformMatrix(),this.matrix.toContext(e);let{x1:a,y1:s,x2:l,y2:u}=this;if(a===l){const{strokeWidth:c}=this,d=Math.round(a*o)/o+Math.trunc(c*o)%2/(o*2);a=d,l=d}else if(s===u){const{strokeWidth:c}=this,d=Math.round(s*o)/o+Math.trunc(c*o)%2/(o*2);s=d,u=d}e.beginPath(),e.moveTo(a,s),e.lineTo(l,u),this.fillStroke(e),(t=this.fillShadow)==null||t.markClean(),super.render(n)}};pi.className="Line";pi.defaultStyles=Object.assign({},qs.defaultStyles,{fill:void 0,strokeWidth:1});D([Je({redraw:3})],pi.prototype,"x1",2);D([Je({redraw:3})],pi.prototype,"y1",2);D([Je({redraw:3})],pi.prototype,"x2",2);D([Je({redraw:3})],pi.prototype,"y2",2);function o8e(n,t,e,r,i){let o=n.x;n.x<t?o=t:n.x>t+r&&(o=t+r);let a=n.y;n.y<e?a=e:n.y>e+i&&(a=e+i);const s=n.x-o,l=n.y-a;return Math.sqrt(s*s+l*l)<=n.size*.5}function Ure(n,t,e,r,i){const o=n.x+n.width>t&&n.x<t+r,a=n.y+n.height>e&&n.y<e+i;return o&&a}function a8e(n,t,e,r,i){return t+r<n.x+n.width&&t>n.x&&e>n.y&&e+i<n.y+n.height}function s8e(n){return n!=null&&typeof n.point=="object"&&typeof n.label=="object"}function l8e(n,t,e=5){const r=[];n=n.map(i=>i.slice().sort((o,a)=>a.point.size-o.point.size));for(let i=0;i<n.length;i++){const o=r[i]=[],a=n[i];if(a!=null&&a.length&&a[0].label)for(let s=0,l=a.length;s<l;s++){const u=a[s],c=u.label,d=u.point.size*.5,p=u.point.x-c.width*.5,h=u.point.y-d-c.height-e,{width:f,height:v}=c;!(!t||a8e(t,p,h,f,v))||n.some(C=>C.some(S=>o8e(S.point,p,h,f,v)))||r.some(C=>C.some(S=>Ure(S,p,h,f,v)))||o.push({index:s,text:c.text,x:p,y:h,width:f,height:v,datum:u})}}return r}function u8e(n,t){const e=[];for(let r=0;r<n.length;r++){const i=n[r],{point:{x:o,y:a},label:{text:s}}=i;let{label:{width:l,height:u}}=i;if(l+=t??0,u+=t??0,e.some(d=>Ure(d,o,a,l,u)))return!0;e.push({index:r,text:s,x:o,y:a,width:l,height:u,datum:i})}return!1}function c8e(n,t){return n.length===t.length&&n.every((e,r)=>Number(e)===Number(t[r]))}var d8e=["stroke","lineDash"],p8e=_d(n=>Ju(n)&&Object.keys(n).every(t=>d8e.includes(t)),"objects with gridline style properties such as 'stroke' or 'lineDash'"),YD=class{constructor(){this.enabled=!0,this.width=1,this.style=[{stroke:void 0,lineDash:[]}]}};D([k(St)],YD.prototype,"enabled",2);D([k(Le)],YD.prototype,"width",2);D([k(p8e)],YD.prototype,"style",2);function Ed(n,t=[void 0]){return ud((e,r,i)=>t.includes(i)?by(n)?n(i):n:i)}var ai=class{constructor(){this.enabled=!0,this.autoWrap=!1,this.maxWidth=void 0,this.maxHeight=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.minSpacing=NaN,this.color="rgba(87, 87, 87, 1)",this.rotation=void 0,this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1,this.formatter=void 0}getSideFlag(){return this.mirrored?1:-1}getFont(){return Zp(this)}};D([k(St)],ai.prototype,"enabled",2);D([k(St,{optional:!0})],ai.prototype,"autoWrap",2);D([k(Le,{optional:!0})],ai.prototype,"maxWidth",2);D([k(Le,{optional:!0})],ai.prototype,"maxHeight",2);D([k(gh,{optional:!0})],ai.prototype,"fontStyle",2);D([k(mh,{optional:!0})],ai.prototype,"fontWeight",2);D([k(Vr.restrict({min:1}))],ai.prototype,"fontSize",2);D([k(Ne)],ai.prototype,"fontFamily",2);D([k(Le)],ai.prototype,"padding",2);D([k(Dy),Ed(NaN)],ai.prototype,"minSpacing",2);D([k(tr,{optional:!0})],ai.prototype,"color",2);D([k(vh,{optional:!0})],ai.prototype,"rotation",2);D([k(St)],ai.prototype,"avoidCollisions",2);D([k(St)],ai.prototype,"mirrored",2);D([k(St)],ai.prototype,"parallel",2);D([k(Ne,{optional:!0})],ai.prototype,"format",2);var U_=class{constructor(){this.enabled=!0,this.width=1,this.color=void 0}};D([k(St)],U_.prototype,"enabled",2);D([k(Le)],U_.prototype,"width",2);D([k(tr,{optional:!0})],U_.prototype,"color",2);var h8e=Ar(n=>fr(n)&&n>0||n instanceof R0,"a non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),zl=class{constructor(){this.enabled=!0,this.width=1,this.size=6,this.color=void 0,this.interval=void 0,this.values=void 0,this.minSpacing=NaN}};D([k(St)],zl.prototype,"enabled",2);D([k(Le)],zl.prototype,"width",2);D([k(Le)],zl.prototype,"size",2);D([k(tr,{optional:!0})],zl.prototype,"color",2);D([k(h8e,{optional:!0})],zl.prototype,"interval",2);D([k(V_,{optional:!0})],zl.prototype,"values",2);D([k(Cre),Ed(NaN)],zl.prototype,"minSpacing",2);function SN(n){const[t,e]=cd(n.range),r=Math.floor(t),i=Math.ceil(e);return{min:r,max:i,visible:r!==i}}var wN=Math.PI*2,f8e=wN/2;function v8e(n,t){return Math.abs(t-n)<f8e?t:n>t?t+wN:t-wN}function zre(n){const t=(a,s)=>{const[l=n.min,u=n.max]=cd(s??[]);return a<l||a>u};return{tick:{fromFn(a,s,l){let u=a.y1+a.translationY,c=a.opacity;return(l==="added"||t(a.datum.translationY,a.datum.range))&&(u=s.translationY,c=0),{y:0,translationY:u,opacity:c,phase:bo[l]}},toFn(a,s,l){const u=s.translationY;let c=1;return l==="removed"&&(c=0),{y:0,translationY:u,opacity:c,finish:{y:u,translationY:0}}},intermediateFn(a,s,l){return{visible:!t(a.y)}}},line:{fromFn(a,s){var l;return Xe(de({},(l=a.previousDatum)!=null?l:s),{phase:bo.updated})},toFn(a,s){return de({},s)}},label:{fromFn(a,s,l){var u;const c=(u=a.previousDatum)!=null?u:s,d=c.x,p=c.y,h=c.rotationCenterX;let f=Math.round(a.translationY),v=c.rotation,g=a.opacity;return l==="removed"||t(c.y,c.range)||(l==="added"||t(a.datum.y,a.datum.range))&&(f=Math.round(c.translationY),g=0,v=s.rotation),{x:d,y:p,rotationCenterX:h,translationY:f,rotation:v,opacity:g,phase:bo[l]}},toFn(a,s,l){var u,c;const d=s.x,p=s.y,h=s.rotationCenterX,f=Math.round(s.translationY);let v=0,g=1;return l==="added"?(g=1,v=s.rotation):l==="removed"?(g=0,v=s.rotation):v=v8e((c=(u=a.previousDatum)==null?void 0:u.rotation)!=null?c:s.rotation,s.rotation),{x:d,y:p,rotationCenterX:h,translationY:f,rotation:v,opacity:g,finish:{rotation:s.rotation}}}},group:{fromFn(a,s){const{rotation:l,translationX:u,translationY:c}=a;return{rotation:l,translationX:u,translationY:c,phase:bo.updated}},toFn(a,s){const{rotation:l,translationX:u,translationY:c}=s;return{rotation:l,translationX:u,translationY:c}}}}}function Kre(){return(n,t)=>({rotation:t.rotation,rotationCenterX:t.rotationCenterX,rotationCenterY:t.rotationCenterY,translationX:t.translationX,translationY:t.translationY})}function Yre(n){const{visible:t,min:e,max:r}=n;return(i,o)=>{const a=o.translationY,s=t&&a>=e&&a<=r;return{y:a,translationY:0,opacity:1,visible:s}}}function qre(){return(n,t)=>({x:t.x,y:t.y,translationY:t.translationY,rotation:t.rotation,rotationCenterX:t.rotationCenterX})}function Xre(){return(n,t)=>de({},t)}var Zre=(n=>(n[n.TickLine=0]="TickLine",n[n.TickLabel=1]="TickLabel",n[n.GridLine=2]="GridLine",n[n.GridArc=3]="GridArc",n[n.AxisLine=4]="AxisLine",n))(Zre||{}),Av=class Qre{constructor(t,e,r){this.moduleCtx=t,this.scale=e,this.id=sc(this),this.nice=!0,this.reverse=!1,this.keys=[],this.dataDomain={domain:[],clipped:!1},this.boundSeries=[],this.includeInvisibleDomains=!1,this.interactionEnabled=!0,this.axisGroup=new st({name:`${this.id}-axis`,zIndex:2}),this.lineNode=this.axisGroup.appendChild(new pi),this.tickLineGroup=this.axisGroup.appendChild(new st({name:`${this.id}-Axis-tick-lines`,zIndex:2})),this.tickLabelGroup=this.axisGroup.appendChild(new st({name:`${this.id}-Axis-tick-labels`,zIndex:2})),this.crossLineGroup=new st({name:`${this.id}-CrossLines`}),this.gridGroup=new st({name:`${this.id}-Axis-grid`}),this.gridLineGroup=this.gridGroup.appendChild(new st({name:`${this.id}-gridLines`,zIndex:1})),this.tickLineGroupSelection=rn.select(this.tickLineGroup,pi,!1),this.tickLabelGroupSelection=rn.select(this.tickLabelGroup,nr,!1),this.gridLineGroupSelection=rn.select(this.gridLineGroup,pi,!1),this.line=new U_,this.tick=this.createTick(),this.gridLine=new YD,this.label=this.createLabel(),this.defaultTickMinSpacing=Qre.defaultTickMinSpacing,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{fractionDigits:0,padding:this.label.padding,format:this.label.format}},this.destroyFns=[],this.range=[0,1],this.visibleRange=[0,1],this.title=void 0,this._titleCaption=new dn,this.gridLength=0,this.fractionDigits=0,this.gridPadding=0,this.seriesAreaPadding=0,this.tickGenerationResult=void 0,this.maxThickness=1/0,this.moduleMap=new Lre,this.refreshScale(),this._titleCaption.registerInteraction(this.moduleCtx),this._titleCaption.node.rotation=-Math.PI/2,this.axisGroup.appendChild(this._titleCaption.node),this.destroyFns.push(t.interactionManager.addListener("hover",o=>this.checkAxisHover(o))),this.animationManager=t.animationManager,this.animationState=new W_("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()},reset:"empty"},ready:{update:o=>this.animateReadyUpdate(o),resize:()=>this.resetSelectionNodes(),reset:"empty"}}),this._crossLines=[],this.assignCrossLineArrayConstructor(this._crossLines);let i;this.destroyFns.push(t.layoutService.addListener("layout-complete",o=>{i!=null&&ss(o.chart,i)!=null&&this.animationState.transition("resize"),i=de({},o.chart)})),(r==null?void 0:r.respondsToZoom)!==!1&&this.destroyFns.push(t.updateService.addListener("update-complete",o=>{this.minRect=o.minRect}))}get type(){var t;return(t=this.constructor.type)!=null?t:""}set crossLines(t){var e,r;(e=this._crossLines)==null||e.forEach(i=>this.detachCrossLine(i)),t&&this.assignCrossLineArrayConstructor(t),this._crossLines=t,(r=this._crossLines)==null||r.forEach(i=>{this.attachCrossLine(i),this.initCrossLine(i)})}get crossLines(){return this._crossLines}resetAnimation(t){t==="initial"&&this.animationState.transition("reset")}attachCrossLine(t){this.crossLineGroup.appendChild(t.group),this.crossLineGroup.appendChild(t.labelGroup)}detachCrossLine(t){this.crossLineGroup.removeChild(t.group),this.crossLineGroup.removeChild(t.labelGroup)}destroy(){this.moduleMap.destroy(),this.destroyFns.forEach(t=>t())}refreshScale(){var t;this.range=this.scale.range.slice(),(t=this.crossLines)==null||t.forEach(this.initCrossLine,this)}updateRange(){var t;const{range:e,visibleRange:r,scale:i}=this,o=(e[1]-e[0])/(r[1]-r[0]),a=o*r[0],s=e[0]-a;i.range=[s,s+o],(t=this.crossLines)==null||t.forEach(l=>{l.clippedRange=[e[0],e[1]]})}setCrossLinesVisible(t){this.crossLineGroup.visible=t}attachAxis(t,e){e.appendChild(this.gridGroup),t.appendChild(this.axisGroup),t.appendChild(this.crossLineGroup)}detachAxis(t,e){e.removeChild(this.gridGroup),t.removeChild(this.axisGroup),t.removeChild(this.crossLineGroup)}inRange(t,e=0,r=0){const[i,o]=cd(this.range);return t+e>=i-r&&t<=o+r}onLabelFormatChange(t,e){const{scale:r,fractionDigits:i}=this,a=!(r instanceof Xj)&&i>0?s=>typeof s=="number"?s.toFixed(i):String(s):s=>String(s);if(e&&r&&r.tickFormat)try{this.labelFormatter=r.tickFormat({ticks:t,specifier:e})}catch{this.labelFormatter=a,Ue.warnOnce(`the axis label format string ${e} is invalid. No formatting will be applied`)}else this.labelFormatter=a}setTickInterval(t){var e;this.scale.interval=(e=this.tick.interval)!=null?e:t}setTickCount(t,e,r){const{scale:i}=this;if(t&&Rr.is(i)){if(typeof t=="number"){i.tickCount=t,i.minTickCount=e??0,i.maxTickCount=r??1/0;return}i instanceof Qj&&this.setTickInterval(t)}}onGridLengthChange(t,e){var r;(e&&!t||!e&&t)&&this.onGridVisibilityChange(),(r=this.crossLines)==null||r.forEach(this.initCrossLine,this)}onGridVisibilityChange(){this.gridLineGroupSelection.clear()}createTick(){return new zl}createLabel(){return new ai}checkAxisHover(t){!this.interactionEnabled||!this.computeBBox().containsPoint(t.offsetX,t.offsetY)||this.moduleCtx.chartEventManager.axisHover(this.id,this.direction)}update(t=0,e=!0){if(!this.tickGenerationResult)return;const{rotation:r,parallelFlipRotation:i,regularFlipRotation:o}=this.calculateRotations(),a=this.label.getSideFlag();this.updatePosition();const s=this.getAxisLineCoordinates(),{tickData:l,combinedRotation:u,textBaseline:c,textAlign:d,primaryTickCount:p}=this.tickGenerationResult,h=this.tickLabelGroupSelection.nodes().map(f=>f.datum.tickId);if(this.updateSelections(s,l.ticks,{combinedRotation:u,textAlign:d,textBaseline:c,range:this.scale.range}),!e||this.animationManager.isSkipped())this.resetSelectionNodes();else{const f=this.calculateUpdateDiff(h,l);this.animationState.transition("update",f)}return this.updateAxisLine(),this.updateLabels(),this.updateVisibility(),this.updateGridLines(a),this.updateTickLines(),this.updateTitle({anyTickVisible:l.ticks.length>0}),this.updateCrossLines({rotation:r,parallelFlipRotation:i,regularFlipRotation:o}),this.updateLayoutState(),p}getAxisLineCoordinates(){const[t,e]=cd(this.range);return{x:0,y1:t,y2:e}}getTickLineCoordinates(t){const r=this.label.getSideFlag()*this.getTickSize(),i=Math.min(0,r),o=i+Math.abs(r),a=t.translationY;return{x1:i,x2:o,y:a}}getTickLabelProps(t,e){const{label:r}=this,{combinedRotation:i,textBaseline:o,textAlign:a,range:s}=e,l=t.tickLabel,c=r.getSideFlag()*(this.getTickSize()+r.padding+this.seriesAreaPadding),d=l!==""&&l!=null;return{tickId:t.tickId,translationY:t.translationY,fill:r.color,fontFamily:r.fontFamily,fontSize:r.fontSize,fontStyle:r.fontStyle,fontWeight:r.fontWeight,rotation:i,rotationCenterX:c,text:l,textAlign:a,textBaseline:o,visible:d,x:c,y:0,range:s}}getTickSize(){return this.tick.enabled?this.tick.size:this.createTick().size}setTitleProps(t,e){var r;const{title:i}=this;if(!i){t.enabled=!1;return}if(t.color=i.color,t.fontFamily=i.fontFamily,t.fontSize=i.fontSize,t.fontStyle=i.fontStyle,t.fontWeight=i.fontWeight,t.enabled=i.enabled,t.wrapping=i.wrapping,i.enabled){const o=t.node,a=((r=i.spacing)!=null?r:0)+e.spacing,s=this.label.getSideFlag(),l=Gn(this.rotation),u=s===-1&&l>Math.PI&&l<Math.PI*2?-1:1,c=u*s*Math.PI/2,d=u===1?"bottom":"top",{range:p}=this,h=Math.floor(u*s*(p[0]+p[1])/2),f=Math.floor(s===-1?u*-a:-a),{callbackCache:v}=this.moduleCtx,{formatter:g=y=>y.defaultValue}=i,m=v.call(g,this.getTitleFormatterParams());o.setProperties({rotation:c,text:m,textBaseline:d,visible:!0,x:h,y:f})}}calculateLayout(t){var e,r;const{rotation:i,parallelFlipRotation:o,regularFlipRotation:a}=this.calculateRotations(),s=this.label.getSideFlag(),l=s*(this.getTickSize()+this.label.padding+this.seriesAreaPadding);this.updateScale(),this.tickGenerationResult=this.generateTicks({primaryTickCount:t,parallelFlipRotation:o,regularFlipRotation:a,labelX:l,sideFlag:s}),this.updateLayoutState();const u=this.tickGenerationResult,{tickData:c,combinedRotation:d,textBaseline:p,textAlign:h}=u,f=di(u,["tickData","combinedRotation","textBaseline","textAlign"]),v=[],{x:g,y1:m,y2:y}=this.getAxisLineCoordinates(),C=new Tt(g+Math.min(s*this.seriesAreaPadding,0),m,this.seriesAreaPadding,y-m);if(v.push(C),this.tick.enabled&&c.ticks.forEach(E=>{const{x1:R,x2:P,y:A}=this.getTickLineCoordinates(E),N=new Tt(R,A,P-R,0);v.push(N)}),this.label.enabled){const E=new nr;c.ticks.forEach(R=>{const P=this.getTickLabelProps(R,{combinedRotation:d,textAlign:h,textBaseline:p,range:this.scale.range});if(!P.visible)return;E.setProperties(Xe(de({},P),{translationY:Math.round(R.translationY)}));const A=E.computeTransformedBBox();A&&v.push(A)})}const S=E=>{const R=new wl,{rotation:P,translationX:A,translationY:N,rotationCenterX:I,rotationCenterY:G}=this.getAxisTransform();return wl.updateTransformMatrix(R,1,1,P,A,N,{scalingCenterX:0,scalingCenterY:0,rotationCenterX:I,rotationCenterY:G}),R.transformBBox(E)};if((e=this.title)!=null&&e.enabled){const E=new dn,R=Tt.merge(v).width;this.setTitleProps(E,{spacing:R});const A=E.node.computeTransformedBBox();A&&v.push(A)}const w=Tt.merge(v),_=S(w),x=this.isAnySeriesActive();return(r=this.crossLines)==null||r.forEach(E=>{var R;E.sideFlag=-s,E.direction=i===-Math.PI/2?"x":"y",E instanceof mN&&(E.label.parallel=(R=E.label.parallel)!=null?R:this.label.parallel),E.parallelFlipRotation=o,E.regularFlipRotation=a,E.calculateLayout(x,this.reverse)}),t=f.primaryTickCount,{primaryTickCount:t,bbox:_}}updateLayoutState(){this.layout.label={fractionDigits:this.fractionDigits,padding:this.label.padding,format:this.label.format}}setDomain(t){this.dataDomain=this.normaliseDataDomain(t),this.reverse&&this.dataDomain.domain.reverse(),this.scale.domain=this.dataDomain.domain}updateScale(){this.updateRange(),this.calculateDomain(),this.setTickInterval(this.tick.interval);const{scale:t,nice:e}=this;Rr.is(t)&&(t.nice=e,t.update())}calculateRotations(){const t=ao(this.rotation),e=Gn(t),r=Gn(t-Math.PI/2);return{rotation:t,parallelFlipRotation:e,regularFlipRotation:r}}generateTicks({primaryTickCount:t,parallelFlipRotation:e,regularFlipRotation:r,labelX:i,sideFlag:o}){var a;const{scale:s,tick:l,label:{parallel:u,rotation:c,fontFamily:d,fontSize:p,fontStyle:h,fontWeight:f}}=this,v=t!==void 0,{defaultRotation:g,configuredRotation:m,parallelFlipFlag:y,regularFlipFlag:C}=fT({rotation:c,parallel:u,regularFlipRotation:r,parallelFlipRotation:e}),S=m+g,w=new wl,{maxTickCount:_}=this.estimateTickCount({minSpacing:l.minSpacing,maxSpacing:(a=l.maxSpacing)!=null?a:NaN}),E=!Rr.is(s)||isNaN(_)?10:_;let R=XL(u,m,0,o,C);const P=NYe(u,m,o,y),A={fontFamily:d,fontSize:p,fontStyle:h,fontWeight:f,textBaseline:P,textAlign:R};let N={rawTicks:[],ticks:[],labelCount:0},I=0,G=0,V=!0,H=!1;for(;V&&I<=E&&!H;){G=0,R=XL(u,m,0,o,C);const B=this.getTickStrategies({secondaryAxis:v,index:I});for(const $ of B){({tickData:N,index:I,autoRotation:G,terminate:H}=$({index:I,tickData:N,textProps:A,labelOverlap:V,terminate:H,primaryTickCount:t}));const W=m!==0||G!==0,Y=S+G;R=XL(u,m,G,o,C),V=this.checkLabelOverlap(Y,W,w,N.ticks,i,Xe(de({},A),{textAlign:R}))}}const j=g+m+G;return!v&&N.rawTicks.length>0&&(t=N.rawTicks.length),{tickData:N,primaryTickCount:t,combinedRotation:j,textBaseline:P,textAlign:R}}getTickStrategies({index:t,secondaryAxis:e}){const{scale:r,label:i,tick:o}=this,a=Rr.is(r),s=i.enabled&&i.avoidCollisions,l=!a&&t!==0&&s,u=i.autoRotate===!0&&i.rotation===void 0,c=[];let d;this.tick.values?d=3:e?d=1:l?d=2:d=0;const p=({index:h,tickData:f,primaryTickCount:v,terminate:g})=>this.createTickData(d,h,f,g,v);if(c.push(p),!a&&!isNaN(o.minSpacing)){const h=({index:f,tickData:v,primaryTickCount:g,terminate:m})=>this.createTickData(2,f,v,m,g);c.push(h)}if(!s)return c;if(i.autoWrap){const h=({index:f,tickData:v,textProps:g})=>this.wrapLabels(v,f,g);c.push(h)}else if(u){const h=({index:f,tickData:v,labelOverlap:g,terminate:m})=>({index:f,tickData:v,autoRotation:this.getAutoRotation(g),terminate:m});c.push(h)}return c}createTickData(t,e,r,i,o){var a;const{scale:s,tick:l}=this,{maxTickCount:u,minTickCount:c,defaultTickCount:d}=this.estimateTickCount({minSpacing:l.minSpacing,maxSpacing:(a=l.maxSpacing)!=null?a:NaN}),p=Rr.is(s),h=!p||isNaN(u)?10:u;let f=p?Math.max(d-e,c):u;const v=l.interval===void 0&&l.values===void 0&&f>c&&(p||t===2);let g=!0;for(;g&&e<=h;){const y=r.rawTicks;f=p?Math.max(d-e,c):u;const{rawTicks:C,ticks:S,labelCount:w}=this.getTicks({tickGenerationType:t,previousTicks:y,tickCount:f,minTickCount:c,maxTickCount:u,primaryTickCount:o});r.rawTicks=C,r.ticks=S,r.labelCount=w,g=v?c8e(C,y):!1,e++}const m=l.interval!==void 0||l.values!==void 0;return i||(i=m),{tickData:r,index:e,autoRotation:0,terminate:i}}checkLabelOverlap(t,e,r,i,o,a){wl.updateTransformMatrix(r,1,1,t,0,0);const s=this.createLabelData(i,o,a,r),l=IYe(this.label.minSpacing,e);return u8e(s,l)}createLabelData(t,e,r,i){const o=[];for(const a of t){const{tickLabel:s,translationY:l}=a;if(s===""||s==null)continue;const u=Ere(s),{width:c,height:d}=AYe(u,e,l,r),p=new Tt(e,l,c,d),h=kYe(s,p,e,l,i);o.push(h)}return o}getAutoRotation(t){var e;return t?Gn(ao((e=this.label.autoRotateAngle)!=null?e:0)):0}getTicks({tickGenerationType:t,previousTicks:e,tickCount:r,minTickCount:i,maxTickCount:o,primaryTickCount:a}){var s;const{range:l,scale:u,visibleRange:c}=this;let d;switch(t){case 3:if(Rr.is(u)){const y=u.getDomain(),C=u.fromDomain(y[0]),S=u.fromDomain(y[1]),w=Math.min(C,S),_=Math.max(C,S);d=this.tick.values.filter(x=>x>=w&&x<=_).sort((x,E)=>x-E)}else d=this.tick.values;break;case 1:d=this.updateSecondaryAxisTicks(a);break;case 2:d=this.filterTicks(e,r);break;default:d=this.createTicks(r,i,o);break}this.fractionDigits=d.fractionDigits>=0?d.fractionDigits:0,this.onLabelFormatChange(d,this.label.format);const p=((s=u.bandwidth)!=null?s:0)/2,h=[];let f=0;const v=new Map,g=Math.max(0,Math.floor(c[0]*d.length)),m=Math.min(d.length,Math.ceil(c[1]*d.length));for(let y=g;y<m;y++){const C=d[y],S=u.convert(C)+p;if(l.length>0&&!this.inRange(S,0,.001))continue;const w=this.formatTick(C,y);let _=w;if(v.has(_)){const x=v.get(_);v.set(_,x+1),_=`${_}_${x}`}else v.set(_,1);h.push({tick:C,tickId:_,tickLabel:w,translationY:S}),!(w===""||w==null)&&f++}return{rawTicks:d,ticks:h,labelCount:f}}filterTicks(t,e){var r;const o=!isNaN(this.tick.minSpacing)||!isNaN((r=this.tick.maxSpacing)!=null?r:NaN)?Math.ceil(t.length/e):2;return t.filter((a,s)=>s%o===0)}createTicks(t,e,r){var i,o,a;return this.setTickCount(t,e,r),(a=(o=(i=this.scale).ticks)==null?void 0:o.call(i))!=null?a:[]}estimateTickCount({minSpacing:t,maxSpacing:e}){const{minRect:r}=this,i=this.calculateRangeWithBleed(),o=Math.max(this.defaultTickMinSpacing,i/Rr.defaultMaxTickCount);let a=!isNaN(e);isNaN(t)&&(t=o),isNaN(e)&&(e=i),t>e&&(t===o?t=e:e=t);const s=r?this.direction==="x"?r.width:r.height:1;a&&(a=s<o);const l=rr(1,Math.floor(i/t),a?Math.floor(i/s):1/0),u=Math.min(l,Math.ceil(i/e)),c=rr(u,Rr.defaultTickCount,l);return{minTickCount:u,maxTickCount:l,defaultTickCount:c}}updateVisibility(){this.moduleCtx.animationManager.isSkipped()&&this.resetSelectionNodes(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled}updateCrossLines({rotation:t,parallelFlipRotation:e,regularFlipRotation:r}){var i;const o=this.label.getSideFlag(),a=this.isAnySeriesActive();(i=this.crossLines)==null||i.forEach(s=>{var l;s.sideFlag=-o,s.direction=t===-Math.PI/2?"x":"y",s instanceof mN&&(s.label.parallel=(l=s.label.parallel)!=null?l:this.label.parallel),s.parallelFlipRotation=e,s.regularFlipRotation=r,s.update(a)})}updateTickLines(){const{tick:t,label:e}=this,r=e.getSideFlag();this.tickLineGroupSelection.each(i=>{i.strokeWidth=t.width,i.stroke=t.color,i.x1=r*this.getTickSize(),i.x2=0})}calculateAvailableRange(){return ny(this.range)}calculateRangeWithBleed(){const t=1/ny(this.visibleRange);return Lj(this.calculateAvailableRange()*t,2)}calculateDomain(){const e=this.boundSeries.filter(r=>this.includeInvisibleDomains||r.isEnabled()).flatMap(r=>r.getDomain(this.direction));this.setDomain(e)}getAxisTransform(){return{rotation:ao(this.rotation),rotationCenterX:0,rotationCenterY:0,translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){const{crossLineGroup:t,axisGroup:e,gridGroup:r,translation:i,gridLineGroupSelection:o,gridPadding:a,gridLength:s}=this,{rotation:l}=this.calculateRotations(),u=this.label.getSideFlag(),c=Math.floor(i.x),d=Math.floor(i.y);t.setProperties({rotation:l,translationX:c,translationY:d}),r.setProperties({rotation:l,translationX:c,translationY:d}),e.datum=this.getAxisTransform(),o.each(p=>{p.x1=a,p.x2=-u*s+a})}updateSecondaryAxisTicks(t){throw new Error("AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.")}updateSelections(t,e,r){this.lineNode.datum=t,this.gridLineGroupSelection.update(this.gridLength?e:[],i=>i.append(new pi({tag:2})),i=>i.tickId),this.tickLineGroupSelection.update(e,i=>i.appendChild(new pi({tag:0})),i=>i.tickId),this.tickLabelGroupSelection.update(e.map(i=>this.getTickLabelProps(i,r)),i=>i.appendChild(new nr({tag:1})),i=>i.tickId)}updateAxisLine(){const{line:t}=this,e=t.enabled?t.width:0;this.lineNode.setProperties({stroke:t.color,strokeWidth:e})}updateGridLines(t){const{gridLine:{style:e,width:r},gridPadding:i,gridLength:o}=this;o===0||e.length===0||this.gridLineGroupSelection.each((a,s,l)=>{const{stroke:u,lineDash:c}=e[l%e.length];a.setProperties({x1:i,x2:-t*o+i,fill:void 0,stroke:u,strokeWidth:r,lineDash:c})})}updateLabels(){const{label:t}=this;t.enabled&&this.tickLabelGroupSelection.each((e,r)=>{e.setProperties(r,["fill","fontFamily","fontSize","fontStyle","fontWeight","text","textAlign","textBaseline"])})}wrapLabels(t,e,r){const{parallel:i,maxWidth:o,maxHeight:a}=this.label;let s=this.maxThickness,l=Math.round(this.calculateAvailableRange()/t.labelCount);return i&&([s,l]=[l,s]),t.ticks.forEach(u=>{const{text:c}=nr.wrap(u.tickLabel,o??s,a??l,r,"hyphenate");u.tickLabel=c}),{tickData:t,index:e,autoRotation:0,terminate:!0}}updateTitle(t){const{rotation:e,title:r,_titleCaption:i,lineNode:o,tickLineGroup:a,tickLabelGroup:s}=this;if(!r){i.enabled=!1;return}let l=0;if(r.enabled&&t.anyTickVisible){const u=st.computeBBox([a,s,o]),c=e===0?u.width:u.height;l+=c+(this.tickLabelGroup.visible?0:this.seriesAreaPadding)}this.setTitleProps(i,{spacing:l})}formatTick(t,e){var r,i;const{label:o,labelFormatter:a,fractionDigits:s,moduleCtx:{callbackCache:l}}=this;if(o.formatter){const u=s>0?t:String(t);return(r=l.call(o.formatter,{value:u,index:e,fractionDigits:s,formatter:a}))!=null?r:u}else if(a)return(i=l.call(a,t))!=null?i:String(t);return String(t)}formatDatum(t){return String(t)}computeBBox(){return this.axisGroup.computeBBox()}initCrossLine(t){t.scale=this.scale,t.gridLength=this.gridLength}isAnySeriesActive(){return this.boundSeries.some(t=>this.includeInvisibleDomains||t.isEnabled())}clipTickLines(t,e,r,i){this.tickLineGroup.setClipRectInGroupCoordinateSpace(new Tt(t,e,r,i))}clipGrid(t,e,r,i){this.gridGroup.setClipRectInGroupCoordinateSpace(new Tt(t,e,r,i))}calculatePadding(t,e,r){const i=Math.abs(r?e:t)*.01;return[i,i]}getTitleFormatterParams(){var t;const e=this.boundSeries.reduce((r,i)=>{const o=i.getKeys(this.direction),a=i.getNames(this.direction);for(let s=0;s<o.length;s++)r.push({key:o[s],name:a[s]});return r},[]);return{direction:this.direction,boundSeries:e,defaultValue:(t=this.title)==null?void 0:t.text}}normaliseDataDomain(t){return{domain:[...t],clipped:!1}}getLayoutState(){return de({rect:this.computeBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize()},this.layout)}getModuleMap(){return this.moduleMap}createModuleContext(){var t;return(t=this.axisContext)!=null||(this.axisContext=this.createAxisContext()),Xe(de({},this.moduleCtx),{parent:this.axisContext})}createAxisContext(){return{axisId:this.id,direction:this.direction,continuous:Rr.is(this.scale),keys:()=>this.boundSeries.flatMap(t=>t.getKeys(this.direction)),scaleValueFormatter:t=>{var e,r;return(r=(e=this.scale).tickFormat)==null?void 0:r.call(e,{specifier:t})},scaleBandwidth:()=>{var t;return(t=this.scale.bandwidth)!=null?t:0},scaleConvert:t=>this.scale.convert(t),scaleInvert:t=>{var e,r;return(r=(e=this.scale).invert)==null?void 0:r.call(e,t)}}}animateReadyUpdate(t){const{animationManager:e}=this.moduleCtx,r=SN(this),i=zre(r);tn(this.id,"axis-group",e,[this.axisGroup],i.group),tn(this.id,"line",e,[this.lineNode],i.line),tn(this.id,"line-paths",e,[this.gridLineGroupSelection,this.tickLineGroupSelection],i.tick,(o,a)=>a.tickId,t),tn(this.id,"tick-labels",e,[this.tickLabelGroupSelection],i.label,(o,a)=>a.tickId,t)}resetSelectionNodes(){const{gridLineGroupSelection:t,tickLineGroupSelection:e,tickLabelGroupSelection:r,lineNode:i}=this,o=SN(this);ci([this.axisGroup],Kre()),ci([t,e],Yre(o)),ci([r],qre()),ci([i],Xre())}calculateUpdateDiff(t,e){const r=new Set,i=new Set,o=Math.max(t.length,e.ticks.length);for(let a=0;a<o;a++){const s=e.ticks[a],l=t[a],u=s==null?void 0:s.tickId;l!==u&&(i.has(u)?i.delete(u):u&&r.add(u),r.has(l)?r.delete(l):l&&i.add(l))}return{changed:r.size>0||i.size>0,added:Array.from(r.values()),removed:Array.from(i.values())}}isReversed(){return this.reverse}};Av.defaultTickMinSpacing=50;D([k(St)],Av.prototype,"nice",2);D([k(St)],Av.prototype,"reverse",2);D([k(fre)],Av.prototype,"keys",2);D([k(Ar(n=>typeof n=="object","Title object"),{optional:!0})],Av.prototype,"title",2);D([Ay((n,t,e)=>n.onGridLengthChange(t,e))],Av.prototype,"gridLength",2);var Jj=Av,e2=class extends ai{constructor(){super(...arguments),this.autoRotateAngle=335}};D([k(St,{optional:!0})],e2.prototype,"autoRotate",2);D([k(vh)],e2.prototype,"autoRotateAngle",2);var t2=class Jre extends Jj{constructor(){super(...arguments),this.thickness=0,this.position="left"}static is(t){return t instanceof Jre}get direction(){return["top","bottom"].includes(this.position)?"x":"y"}updateDirection(){switch(this.position){case"top":this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1;break}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}update(t,e){return this.updateDirection(),super.update(t,e)}calculateLayout(t){return this.updateDirection(),super.calculateLayout(t)}createAxisContext(){return Xe(de({},super.createAxisContext()),{position:this.position})}assignCrossLineArrayConstructor(t){Tre(t,mN)}createLabel(){return new e2}};D([k(Le)],t2.prototype,"thickness",2);D([k(Hj)],t2.prototype,"position",2);var z_=t2,dd=class extends z_{constructor(n){super(n,new ec),this._paddingOverrideEnabled=!1,this.groupPaddingInner=.1,this.includeInvisibleDomains=!0}set paddingInner(n){this._paddingOverrideEnabled=!0,this.scale.paddingInner=n}get paddingInner(){return this._paddingOverrideEnabled=!0,this.scale.paddingInner}set paddingOuter(n){this.scale.paddingOuter=n}get paddingOuter(){return this.scale.paddingOuter}normaliseDataDomain(n){const t=[],e=new Set;for(const r of n){const i=r instanceof Date?r.getTime():r;e.has(i)||(e.add(i),t.push(r))}return{domain:t,clipped:!1}}calculateDomain(){if(!this._paddingOverrideEnabled){const n=this.boundSeries.map(t=>{var e;return(e=t.getBandScalePadding)==null?void 0:e.call(t)}).filter(t=>t!=null);n.length>0&&(this.scale.paddingInner=Math.min(...n.map(t=>t.inner)),this.scale.paddingOuter=Math.max(...n.map(t=>t.outer)))}return super.calculateDomain()}};dd.className="CategoryAxis";dd.type="category";D([k(_r)],dd.prototype,"groupPaddingInner",2);var ene=class{constructor(n="",t,e=0){this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=n,this.parent=t,this.depth=t?t.depth+1:0,this.number=e}getLeftSibling(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0}getLeftmostSibling(){return this.number>0&&this.parent?this.parent.children[0]:void 0}nextLeft(){return this.children?this.children[0]:this.thread}nextRight(){return this.children?this.children[this.children.length-1]:this.thread}getSiblings(){return this.parent?this.parent.children.filter((n,t)=>t!==this.number):[]}};function g8e(n,t=!0){const e=new ene;let r=0;return t&&n.forEach(i=>r=Math.max(r,i.labels.length)),n.forEach(i=>{if(t)for(;i.labels.length<r;)i.labels.unshift("");m8e(e,i)}),e}function m8e(n,t){const e=t.labels.slice().reverse(),r=e.length-1;e.forEach((i,o)=>{const a=n.children,s=a.find(u=>u.label===i),l=o!==r;if(s&&l)n=s;else{const u=new ene(i,n);u.number=a.length,a.push(u),l&&(n=u)}})}function y8e(n,t,e){const r=t.number-n.number,i=e/r;t.change-=i,t.shift+=e,n.change+=i,t.prelim+=e,t.mod+=e}function C8e(n,t,e){return t.getSiblings().indexOf(n.ancestor)>=0?n.ancestor:e}function S8e(n){const t=n.children;if(t){let e=0,r=0;for(let i=t.length-1;i>=0;i--){const o=t[i];o.prelim+=e,o.mod+=e,r+=o.change,e+=o.shift+r}}}function w8e(n,t,e){const r=n.getLeftSibling();if(r){let i=n,o=n,a=r,s=o.getLeftmostSibling(),l=o.mod,u=i.mod,c=a.mod,d=s.mod;for(;a.nextRight()&&o.nextLeft();){a=a.nextRight(),o=o.nextLeft(),s=s.nextLeft(),i=i.nextRight(),i.ancestor=n;const p=a.prelim+c-(o.prelim+l)+e;p>0&&(y8e(C8e(a,n,t),n,p),l+=p,u+=p),c+=a.mod,l+=o.mod,d+=s.mod,u+=i.mod}a.nextRight()&&!i.nextRight()?(i.thread=a.nextRight(),i.mod+=c-u):(o.nextLeft()&&!s.nextLeft()&&(s.thread=o.nextLeft(),s.mod+=l-d),t=n)}return t}function tne(n,t){const e=n.children;if(e.length){let r=e[0];e.forEach(a=>{tne(a,t),r=w8e(a,r,t)}),S8e(n);const i=(e[0].prelim+e.at(-1).prelim)/2,o=n.getLeftSibling();o?(n.prelim=o.prelim+t,n.mod=n.prelim-i):n.prelim=i}else{const r=n.getLeftSibling();n.prelim=r?r.prelim+t:0}}var n5=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(n,t){const{x:e,y:r}=t(n);e>this.right&&(this.right=e),e<this.left&&(this.left=e),r>this.bottom&&(this.bottom=r),r<this.top&&(this.top=r)}};function rne(n,t,e){n.x=n.prelim+t,n.y=n.depth,e.update(n),n.children.forEach(r=>rne(r,t+n.mod,e))}function nne(n){const t=n.children;let e=0;t.forEach(r=>{nne(r),r.children.length?e+=r.leafCount:e++}),n.leafCount=e,t.length?(n.subtreeLeft=t[0].subtreeLeft,n.subtreeRight=t[n.children.length-1].subtreeRight,n.x=(n.subtreeLeft+n.subtreeRight)/2):(n.subtreeLeft=n.x,n.subtreeRight=n.x)}function _8e(n){const t=new x8e;return tne(n,1),rne(n,-n.prelim,t),nne(n),t}var x8e=class{constructor(){this.dimensions=new n5,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}update(n){this.dimensions.update(n,t=>({x:t.x,y:t.y})),n.children.length?this.nonLeafNodes.push(n):(this.leafCount++,this.leafNodes.push(n)),n.depth>this.depth&&(this.depth=n.depth),this.nodes.push(n)}resize(n,t,e=0,r=0,i=!1){const o=this.leafCount-1,a=this.depth,s=this.dimensions;let l=1,u=1;if(n>0&&o){const h=(s.right-s.left)/o;l=n/o/h,i&&(l=-l)}if(t>0&&a){const h=(s.bottom-s.top)/a;u=t/a/h}const c=new n5;this.nodes.forEach(h=>{h.screenX=h.x*l,h.screenY=h.y*u,c.update(h,f=>({x:f.screenX,y:f.screenY}))});const d=-c.left,p=-c.top;this.nodes.forEach(h=>{h.screenX+=d+e,h.screenY+=p+r})}},ine=class extends ai{constructor(){super(...arguments),this.grid=!1}};D([k(St)],ine.prototype,"grid",2);var Qp=class extends z_{constructor(n){super(n,new ec),this.tickScale=new ec,this.line=new U_,this.label=new ine,this.labelColor="rgba(87, 87, 87, 1)",this.includeInvisibleDomains=!0;const{tickLineGroup:t,tickLabelGroup:e,gridLineGroup:r,tickScale:i,scale:o}=this;o.paddingOuter=.1,o.paddingInner=o.paddingOuter*2,this.refreshScale(),i.paddingInner=1,i.paddingOuter=0,this.gridLineSelection=rn.select(r,pi),this.axisLineSelection=rn.select(t,pi),this.separatorSelection=rn.select(t,pi),this.labelSelection=rn.select(e,nr)}updateRange(){const{range:n,visibleRange:t,scale:e}=this,r=(n[1]-n[0])/(t[1]-t[0]),i=r*t[0],o=n[0]-i;this.tickScale.range=e.range=[o,o+r],this.resizeTickTree()}resizeTickTree(){var n;const t=this.scale,e=t.domain.length?[t.convert(t.domain[0]),t.convert(t.domain[t.domain.length-1])]:t.range,r=this.tickTreeLayout,i=this.lineHeight;r&&r.resize(Math.abs(e[1]-e[0]),r.depth*i,(Math.min(e[0],e[1])||0)+((n=t.bandwidth)!=null?n:0)/2,-r.depth*i,e[1]-e[0]<0)}get lineHeight(){return this.label.fontSize*1.5}onGridVisibilityChange(){this.gridLineSelection.clear(),this.labelSelection.clear()}calculateDomain(){var n;const{direction:t}=this;let e=null;const r=this.boundSeries.filter(o=>o.visible).flatMap(o=>{if(t==="y"||e)return o.getDomain(t);if(e===null){const a=o.getDomain(t);return e=xl(a[0]),a}return[]});this.setDomain((n=ac(r))!=null?n:Dj(r));const{domain:i}=this.dataDomain;this.tickTreeLayout=_8e(g8e(i)),this.tickScale.domain=i.concat(""),this.resizeTickTree()}update(){this.computedLayout&&(this.updatePosition(),this.updateTitleCaption(),this.updateCategoryLabels(),this.updateSeparators(),this.updateAxisLines(),this.updateCategoryGridLines(),this.resetSelectionNodes())}updateTitleCaption(){const{_titleCaption:n}=this;n.node.visible=!1}updateCategoryLabels(){if(!this.computedLayout)return;const{tickLabelLayout:n}=this.computedLayout;this.labelSelection.update(n).each((e,r)=>{e.setProperties(r)})}updateSeparators(){if(!this.computedLayout)return;const{separatorLayout:n}=this.computedLayout,{range:t}=this,e=1e-7;this.separatorSelection.update(n).each((i,o)=>{i.x1=o.x1,i.x2=o.x2,i.y1=o.y,i.y2=o.y,i.visible=o.y>=t[0]-e&&o.y<=t[1]+e,i.stroke=this.tick.color,i.fill=void 0,i.strokeWidth=1})}updateAxisLines(){if(!this.computedLayout)return;const{axisLineLayout:n}=this.computedLayout;this.axisLineSelection.update(n).each((e,r)=>{e.setProperties(Xe(de({},r),{stroke:this.line.color,strokeWidth:this.line.width})),e.x1=r.x,e.x2=r.x,e.y1=r.y1,e.y2=r.y2,e.strokeWidth=this.line.width,e.stroke=this.line.color})}updateCategoryGridLines(){const{gridLength:n,gridLine:t,label:e,range:r,tickScale:i}=this,o=i.ticks(),a=e.getSideFlag(),s=this.gridLineSelection.update(n?o:[]);if(n){const{width:l,style:u}=t,c=u.length;s.each((d,p,h)=>{const f=Math.round(i.convert(p));d.x1=0,d.x2=-a*n,d.y1=f,d.y2=f,d.visible=f>=r[0]&&f<=r[1];const{stroke:v,lineDash:g}=u[h%c];d.stroke=v,d.strokeWidth=l,d.lineDash=g,d.fill=void 0})}}computeLayout(){this.updateDirection(),this.calculateDomain(),this.updateRange();const{scale:n,label:t,label:{parallel:e},moduleCtx:{callbackCache:r},range:i,title:o,title:{formatter:a=z=>z.defaultValue}={}}=this,s=n.range[0],l=n.range[1],c=Math.abs(l-s)/n.domain.length||0,d=Math.ceil(t.fontSize/c),p=ao(this.rotation),h=Math.abs(Math.cos(p))<1e-8,f=t.getSideFlag(),v=this.lineHeight,g=this.tickTreeLayout,m=n.ticks(),y=g?g.nodes:[],C=g?g.depth>1:!1,{defaultRotation:S,configuredRotation:w,parallelFlipFlag:_}=fT({rotation:t.rotation,parallel:e,regularFlipRotation:Gn(p-Math.PI/2),parallelFlipRotation:Gn(p)}),x=[],E=z=>({fill:z.fill,fontFamily:z.fontFamily,fontSize:z.fontSize,fontStyle:z.fontStyle,fontWeight:z.fontWeight,rotation:z.rotation,rotationCenterX:z.rotationCenterX,rotationCenterY:z.rotationCenterY,text:z.text,textAlign:z.textAlign,textBaseline:z.textBaseline,translationX:z.translationX,translationY:z.translationY,visible:z.visible,x:z.x,y:z.y}),R=new Map;let P=0;const A=new nr,N=(z,Q)=>{var ue;if(A.setProperties({fill:t.color,fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight,textAlign:"center",textBaseline:_===-1?"bottom":"hanging",translationX:z.screenY-t.fontSize*.25,translationY:z.screenX}),Q===0){if(!((o==null?void 0:o.enabled)&&m.length>0))return!1;const _e=r.call(a,this.getTitleFormatterParams());A.setProperties({fill:o.color,fontFamily:o.fontFamily,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight,text:_e,textBaseline:"hanging",translationX:z.screenY-t.fontSize*.25,translationY:z.screenX})}else{if(Q%d!==0)return!1;if(!(z.screenX>=i[0]&&z.screenX<=i[1]))return!1;t.formatter?A.text=(ue=r.call(t.formatter,{value:String(z.label),index:Q}))!=null?ue:String(z.label):A.text=String(z.label)}return!0};y.forEach((z,Q)=>{if(!N(z,Q))return;const pe=A.computeTransformedBBox();if(!pe)return;R.set(Q,pe),!z.children.length&&pe.width>P&&(P=pe.width)});const I=f*t.padding,G=this.label.grid,V=[];y.forEach((z,Q)=>{let ue=N(z,Q);const pe=Q;A.x=I,A.rotationCenterX=I;const _e=!z.children.length;if(_e)A.rotation=w,A.textAlign="end",A.textBaseline="middle";else{A.translationX-=P-v+this.label.padding;const we=z.leafCount*c,ne=R.get(pe);ne&&ne.width>we?(ue=!1,R.delete(pe)):h?A.rotation=S:A.rotation=-Math.PI/2}if(z.parent&&C){const we=_e?z.screenX-c/2:z.screenX-z.leafCount*c/2;if(_e)(z.number!==z.children.length-1||G)&&V.push({y:we,x1:0,x2:-P-this.label.padding*2});else{const ne=-P-this.label.padding*2+z.screenY;V.push({y:we,x1:ne+v,x2:ne})}}let oe;if(ue){const we=A.computeTransformedBBox();we&&R.set(Q,we),oe=Xe(de({},E(A)),{visible:ue})}else R.delete(Q),oe={visible:ue};x.push(oe)});let H=0;V.forEach(z=>H=Math.min(H,z.x2)),V.push({y:Math.max(s,l),x1:0,x2:H});const j=[],B=[],$=1e-7;V.forEach(z=>{if(z.y>=i[0]-$&&z.y<=i[1]+$){const{x1:Q,x2:ue,y:pe}=z,_e=new Tt(Math.min(Q,ue),pe,Math.abs(Q-ue),0);B.push(_e),j.push({x1:Q,x2:ue,y:pe})}});const W=[],Y=[],Z=g?g.depth+1:1;for(let z=0;z<Z;z++){const Q=m.length>0&&(z===0||G&&C),ue=z>0?-P-this.label.padding*2-(z-1)*v:0,pe=new Tt(ue,Math.min(...i),0,Math.abs(i[1]-i[0]));Y.push(pe),W.push({x:ue,y1:i[0],y2:i[1],visible:Q})}const se=z=>{const Q=new wl,{rotation:ue,translationX:pe,translationY:_e,rotationCenterX:oe,rotationCenterY:we}=this.getAxisTransform();return wl.updateTransformMatrix(Q,1,1,ue,pe,_e,{scalingCenterX:0,scalingCenterY:0,rotationCenterX:oe,rotationCenterY:we}),Q.transformBBox(z)},X=Tt.merge([...R.values(),...B,...Y]);return{bbox:se(X),tickLabelLayout:x,separatorLayout:j,axisLineLayout:W}}calculateLayout(){const{axisLineLayout:n,separatorLayout:t,tickLabelLayout:e,bbox:r}=this.computeLayout();return this.computedLayout={axisLineLayout:n,separatorLayout:t,tickLabelLayout:e},{bbox:r,primaryTickCount:void 0}}};Qp.className="GroupedCategoryAxis";Qp.type="grouped-category";D([k(tr,{optional:!0})],Qp.prototype,"labelColor",2);var i5=class{constructor({width:n=600,height:t=300,overrideDevicePixelRatio:e}){this.enabled=!0,this._pixelRatio=NaN,this._width=0,this._height=0,this.canvas=new OffscreenCanvas(n,t),this.realContext=this.canvas.getContext("2d"),this.imageSource=this.canvas.transferToImageBitmap(),this.context=this.setPixelRatio(e),this.resize(n,t)}static isSupported(){return typeof OffscreenCanvas<"u"&&OffscreenCanvas.prototype.transferToImageBitmap!=null}snapshot(){this.imageSource.close(),this.imageSource=this.canvas.transferToImageBitmap()}destroy(){this.imageSource.close(),this.canvas.width=0,this.canvas.height=0,this.context.clearRect(0,0,0,0)}clear(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()}get pixelRatio(){return this._pixelRatio}setPixelRatio(n){let t=n??window.devicePixelRatio;return wre()&&(t=1),this._pixelRatio=t,Tn.overrideScale(this.realContext,t)}get width(){return this._width}get height(){return this._height}resize(n,t){if(!(n>0&&t>0))return;const{canvas:e,context:r,pixelRatio:i}=this;e.width=Math.round(n*i),e.height=Math.round(t*i),r.resetTransform(),this._width=n,this._height=t}},ZL="adv-composite",QL="dom-composite",r2=class{constructor(n){this.id=sc(this),this.layers=[],this._nextZIndex=0,this._nextLayerId=0,this._dirty=!1,this._root=null,this.debug=Rn.create(!0,"scene");var t;const{document:e,window:r,mode:i=(t=oN("agChartsSceneRenderModel"))!=null?t:ZL,width:o,height:a,overrideDevicePixelRatio:s=void 0}=n;this.overrideDevicePixelRatio=s,this.opts={document:e,window:r,mode:i},this.canvas=new Tn({document:e,window:r,width:o,height:a,overrideDevicePixelRatio:s})}set container(n){this.canvas.container=n}get container(){return this.canvas.container}download(n,t){this.canvas.download(n,t)}getDataURL(n){return this.canvas.getDataURL(n)}get width(){return this.pendingSize?this.pendingSize[0]:this.canvas.width}get height(){return this.pendingSize?this.pendingSize[1]:this.canvas.height}resize(n,t){n=Math.round(n),t=Math.round(t);const e=n<=0||t<=0,r=isNaN(n)||isNaN(t);return n===this.width&&t===this.height||r||e?!1:(this.pendingSize=[n,t],this.markDirty(),!0)}addLayer(n){var t;const{mode:e}=this.opts;if(!["composite",QL,ZL].includes(e))return;const{zIndex:i=this._nextZIndex++,name:o,zIndexSubOrder:a,getComputedOpacity:s,getVisibility:l}=n,{width:u,height:c,overrideDevicePixelRatio:d}=this,p=e===QL,f=!(e===ZL)||!i5.isSupported()?new Tn({document:this.opts.document,window:this.opts.window,width:u,height:c,domLayer:p,zIndex:i,name:o,overrideDevicePixelRatio:d}):new i5({width:u,height:c,overrideDevicePixelRatio:d}),v={id:this._nextLayerId++,name:o,zIndex:i,zIndexSubOrder:a,canvas:f,getComputedOpacity:s,getVisibility:l};if(i>=this._nextZIndex&&(this._nextZIndex=i+1),this.layers.push(v),this.sortLayers(),p){const g=this.layers.map(C=>C.canvas).filter(C=>C instanceof Tn),m=g.findIndex(C=>C===f);((t=g[m-1])!=null?t:this.canvas).element.insertAdjacentElement("afterend",f.element)}return this.debug("Scene.addLayer() - layers",this.layers),v.canvas}removeLayer(n){const t=this.layers.findIndex(e=>e.canvas===n);t>=0&&(this.layers.splice(t,1),n.destroy(),this.markDirty(),this.debug("Scene.removeLayer() -  layers",this.layers))}moveLayer(n,t,e){const r=this.layers.find(i=>i.canvas===n);r&&(r.zIndex=t,r.zIndexSubOrder=e,this.sortLayers(),this.markDirty(),this.debug("Scene.moveLayer() -  layers",this.layers))}sortLayers(){this.layers.sort((n,t)=>{var e,r;return Dre([n.zIndex,...(e=n.zIndexSubOrder)!=null?e:[void 0,void 0],n.id],[t.zIndex,...(r=t.zIndexSubOrder)!=null?r:[void 0,void 0],t.id],Pre)})}markDirty(){this._dirty=!0}get dirty(){return this._dirty}set root(n){var t;n!==this._root&&((t=this._root)==null||t._setLayerManager(),this._root=n,n&&n._setLayerManager({addLayer:e=>this.addLayer(e),moveLayer:(...e)=>this.moveLayer(...e),removeLayer:(...e)=>this.removeLayer(...e),markDirty:()=>this.markDirty(),canvas:this.canvas,debug:Rn.create("scene")}),this.markDirty())}get root(){return this._root}strip(){const{layers:n}=this;for(const t of n)t.canvas.destroy(),delete t.canvas;n.splice(0,n.length),this.root=null,this._dirty=!1,this.canvas.context.resetTransform()}destroy(){this.container=void 0,this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0,ctx:void 0})}render(n){return Oe(this,null,function*(){var t,e;const{debugSplitTimes:r={start:performance.now()},extraDebugStats:i={}}=n??{},{canvas:o,canvas:{context:a},root:s,layers:l,pendingSize:u,opts:{mode:c}}=this;if(u&&(this.canvas.resize(...u),this.layers.forEach(h=>h.canvas.resize(...u)),this.pendingSize=void 0),s&&!s.visible){this._dirty=!1;return}if(s&&!this.dirty){this.debug("Scene.render() - no-op",{redrawType:op[s.dirty],tree:this.buildTree(s)}),this.debugStats(r,a,void 0,i);return}const d={ctx:a,devicePixelRatio:(t=this.canvas.pixelRatio)!=null?t:1,forceRender:!0,resized:!!u,debugNodes:{}};Rn.check("scene:stats:verbose")&&(d.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0});let p=!1;if((!s||s.dirty>=1)&&(p=!0,o.clear()),s&&Rn.check("scene:dirtyTree")){const{dirtyTree:h,paths:f}=this.buildDirtyTree(s);Rn.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:h,paths:f})}s&&p&&(this.debug("Scene.render() - before",{redrawType:op[s.dirty],canvasCleared:p,tree:this.buildTree(s)}),s.visible&&(a.save(),s.render(d),a.restore())),r["✍️"]=performance.now(),c!==QL&&l.length>0&&p&&(this.sortLayers(),a.save(),a.setTransform(1/o.pixelRatio,0,0,1/o.pixelRatio,0,0),l.forEach(({canvas:{imageSource:h,enabled:f},getComputedOpacity:v,getVisibility:g})=>{!f||!g()||(a.globalAlpha=v(),a.drawImage(h,0,0))}),a.restore(),r["⛙"]=performance.now()),(e=a.verifyDepthZero)==null||e.call(a),this._dirty=!1,this.debugStats(r,a,d.stats,i),this.debugSceneNodeHighlight(a,d.debugNodes),s&&this.debug("Scene.render() - after",{redrawType:op[s.dirty],canvasCleared:p,tree:this.buildTree(s)})})}debugStats(n,t,e,r={}){if(Rn.check("scene:stats","scene:stats:verbose")){const i=performance.now(),o=n.start;n.end=performance.now();const a=(w,_)=>{const x=w+_;return`${w} / ${x} (${Math.round(100*w/x)}%)`},s=(w,_,x)=>`${w}: ${Math.round((x-_)*100)/100}ms`,{layersRendered:l=0,layersSkipped:u=0,nodesRendered:c=0,nodesSkipped:d=0}=e??{};let p=0;const h=Object.entries(n).filter(([w])=>w!=="end").map(([w,_],x)=>{const E=x>0?s(w,p,_):null;return p=_,E}).filter(w=>w!=null).join(" + "),f=Object.entries(r).map(([w,_])=>`${w}: ${_}`).join(" ; "),v=Rn.check("scene:stats:verbose"),m=[`${s("⏱️",o,i)} (${h})`,`${f}`,`Layers: ${v?a(l,u):this.layers.length}`,v?`Nodes: ${a(c,d)}`:null].filter(w=>w!=null).map(w=>[w,Tn.getTextSize(w,t.font)]),y=Math.max(...m.map(([,{width:w}])=>w)),C=m.reduce((w,[,{height:_}])=>w+_,0);t.save(),t.fillStyle="white",t.fillRect(0,0,y,C),t.fillStyle="black";let S=0;for(const[w,_]of m)S+=_.height,t.fillText(w,2,S);t.restore()}}debugSceneNodeHighlight(n,t){var e;const r=a=>s=>a.test(s.id)?!0:s instanceof st&&s.name!=null&&a.test(s.name),i=a=>s=>a===s.id?!0:s instanceof st&&s.name!=null&&a===s.name,o=dT(oN("agChartsSceneDebug")).flatMap(a=>a==="layout"?["seriesRoot","legend","root",/.*Axis-\d+-axis.*/]:a);for(const a of o){if(typeof a=="string"&&t[a]!=null)continue;const s=typeof a=="string"?i(a):r(a),l=(e=this.root)==null?void 0:e.findNodes(s);if(!l||l.length===0){Ue.log(`Scene.render() - no debugging node with id [${a}] in scene graph.`);continue}for(const u of l)u instanceof st&&u.name?t[u.name]=u:t[u.id]=u}n.save();for(const[a,s]of Object.entries(t)){const l=s.computeTransformedBBox();if(!l){Ue.log(`Scene.render() - no bbox for debugged node [${a}].`);continue}n.globalAlpha=.8,n.strokeStyle="red",n.lineWidth=1,n.strokeRect(l.x,l.y,l.width,l.height),n.fillStyle="red",n.strokeStyle="white",n.font="16px sans-serif",n.textBaseline="top",n.textAlign="left",n.lineWidth=2,n.strokeText(a,l.x,l.y,l.width),n.fillText(a,l.x,l.y,l.width)}n.restore()}buildTree(n){var t,e;const r=(t=n instanceof st?n.name:null)!=null?t:n.id;return this.debug.check()?de(de({name:r,node:n,dirty:op[n.dirty]},(e=n.parent)!=null&&e.isVirtual?{virtualParentDirty:op[n.parent.dirty],virtualParent:n.parent}:{}),n.children.map(i=>this.buildTree(i)).reduce((i,o)=>{let{name:a}=o;const{node:{visible:s,opacity:l,zIndex:u,zIndexSubOrder:c},node:d,virtualParent:p}=o;(!s||l<=0)&&(a=`(${a})`),d instanceof st&&d.isLayer()&&(a=`*${a}*`);const h=[`${a??"<unknown>"}`,`z: ${u}`,c&&`zo: ${c.map(g=>typeof g=="function"?`${g()} (fn)`:g).join(" / ")}`,p&&"(virtual parent)"].filter(g=>!!g).join(" ");let f=h,v=1;for(;i[f]!=null&&v<100;)f=`${h} (${v++})`;return i[f]=o,i},{})):{}}buildDirtyTree(n){var t;if(n.dirty===0)return{dirtyTree:{},paths:[]};const e=n.children.map(o=>this.buildDirtyTree(o)).filter(o=>o.paths.length>0),r=(t=n instanceof st?n.name:null)!=null?t:n.id,i=e.length===0?[r]:e.map(o=>o.paths).reduce((o,a)=>o.concat(a),[]).map(o=>`${r}.${o}`);return{dirtyTree:de({name:r,node:n,dirty:op[n.dirty]},e.map(o=>o.dirtyTree).filter(o=>o.dirty!==void 0).reduce((o,a)=>{var s;return o[(s=a.name)!=null?s:"<unknown>"]=a,o},{})),paths:i}}};r2.className="Scene";function b8e(n){return new Promise(t=>{setTimeout(()=>t(void 0),n)})}var E8e=class{constructor(){this.cache=new WeakMap}call(n,...t){let e,r=this.cache.get(n);const i=()=>{try{const o=n(...t);return r&&e!=null&&r.set(e,o),o}catch(o){Ue.warnOnce("User callback errored, ignoring",o);return}};try{e=JSON.stringify(t)}catch{return i()}return r==null&&(r=new Map,this.cache.set(n,r)),r.has(e)?r.get(e):i()}invalidateCache(){this.cache=new WeakMap}},O8e=class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(n){return new Promise(t=>{this.acquireQueue.push([n,t]),this.available&&this.dispatchNext()})}acquireImmediately(n){return Oe(this,null,function*(){return this.available?(yield this.acquire(n),!0):!1})}waitForClearAcquireQueue(){return Oe(this,null,function*(){return this.acquire(()=>Oe(this,null,function*(){}))})}dispatchNext(){return Oe(this,null,function*(){var n,t;this.available=!1;let[e,r]=(n=this.acquireQueue.shift())!=null?n:[];for(;e;){try{yield e(),r==null||r()}catch(i){Ue.error("mutex callback error",i),r==null||r()}[e,r]=(t=this.acquireQueue.shift())!=null?t:[]}this.available=!0})}},one=class{constructor(){this.eventListeners=new Map}addEventListener(n,t){if(typeof t!="function")throw new Error("AG Charts - listener must be a Function");const e=this.eventListeners.get(n);e?e.add(t):this.eventListeners.set(n,new Set([t]))}removeEventListener(n,t){var e;(e=this.eventListeners.get(n))==null||e.delete(t),this.eventListeners.size===0&&this.eventListeners.delete(n)}hasEventListener(n){return this.eventListeners.has(n)}clearEventListeners(){this.eventListeners.clear()}fireEvent(n){var t;(t=this.eventListeners.get(n.type))==null||t.forEach(e=>e(n))}},Ch=class extends Fr{constructor(n=0,t=n,e=n,r=t){super(),this.top=n,this.right=t,this.bottom=e,this.left=r}clear(){this.top=this.right=this.bottom=this.left=0}};D([k(Le)],Ch.prototype,"top",2);D([k(Le)],Ch.prototype,"right",2);D([k(Le)],Ch.prototype,"bottom",2);D([k(Le)],Ch.prototype,"left",2);function R8e(n){return ane((t,e)=>requestAnimationFrame(t),n)}function T8e(n){return ane((t,e=0)=>setTimeout(t,e),n)}function ane(n,t){let e=0,r=!1,i,o;const a=()=>r,s=()=>{r=!1,o==null||o(),o=void 0,i=void 0,e>0&&n(l)},l=()=>{const u=e;e=0,r=!0;const c=t({count:u});if(!c){s();return}c.then(s,s)};return{schedule(u){e===0&&!a()&&n(l,u),e++},await(){return Oe(this,null,function*(){if(a())for(i==null&&(i=new Promise(u=>{o=u}));a();)yield i})}}}var Os=class{static init(t){if(typeof ResizeObserver>"u"){for(const[e,r]of this.elements)this.checkClientSize(e,r);return}this.resizeObserver=new ResizeObserver(e=>{for(const r of e){const{width:i,height:o}=r.contentRect;this.checkSize(this.elements.get(r.target),r.target,i,o)}}),this.ownerDocument=t,this.ready=!0,this.documentReady=t.readyState!=="loading",this.documentReady||t.addEventListener("DOMContentLoaded",this.onContentLoaded)}static destroy(){var t,e;(t=this.ownerDocument)==null||t.removeEventListener("DOMContentLoaded",this.onContentLoaded),(e=this.resizeObserver)==null||e.disconnect(),delete this.resizeObserver,delete this.ownerDocument,this.ready=!1}static checkSize(t,e,r,i){var o,a;t&&(r!==((o=t.size)==null?void 0:o.width)||i!==((a=t.size)==null?void 0:a.height))&&(t.size={width:r,height:i},t.cb(t.size,e))}static observe(t,e){var r;if(this.ready||this.init(t.ownerDocument),!this.documentReady){this.queuedObserveRequests.push([t,e]);return}this.elements.has(t)?this.removeFromQueue(t):(r=this.resizeObserver)==null||r.observe(t),this.elements.set(t,{cb:e})}static unobserve(t){var e;(e=this.resizeObserver)==null||e.unobserve(t),this.elements.delete(t),this.removeFromQueue(t),this.elements.size||this.destroy()}static removeFromQueue(t){this.queuedObserveRequests=this.queuedObserveRequests.filter(([e])=>e!==t)}static checkClientSize(t,e){var r,i;const o=(r=t.clientWidth)!=null?r:0,a=(i=t.clientHeight)!=null?i:0;this.checkSize(e,t,o,a)}};Os.elements=new Map;Os.ready=!1;Os.documentReady=!1;Os.queuedObserveRequests=[];Os.onContentLoaded=()=>{var n;const t=((n=Os.ownerDocument)==null?void 0:n.readyState)!=="loading",e=Os.documentReady;Os.documentReady=t,t&&t!==e&&(Os.queuedObserveRequests.forEach(([r,i])=>Os.observe(r,i)),Os.queuedObserveRequests=[])};var o5=Os,sne=class{constructor(){this.range="tooltip"}};D([k(Wn(["tooltip","node"],"a range"))],sne.prototype,"range",2);var Dw=(n=>(n[n.FULL=0]="FULL",n[n.UPDATE_DATA=1]="UPDATE_DATA",n[n.PROCESS_DATA=2]="PROCESS_DATA",n[n.PERFORM_LAYOUT=3]="PERFORM_LAYOUT",n[n.SERIES_UPDATE=4]="SERIES_UPDATE",n[n.TOOLTIP_RECALCULATION=5]="TOOLTIP_RECALCULATION",n[n.SCENE_RENDER=6]="SCENE_RENDER",n[n.NONE=7]="NONE",n))(Dw||{}),JL=class{constructor(n){this.type=n,this.continuousDomain=[1/0,-1/0],this.discreteDomain=new Set}extend(n){this.type==="discrete"?this.discreteDomain.add(n):this.type==="continuous"&&(this.continuousDomain[0]>n&&(this.continuousDomain[0]=n),this.continuousDomain[1]<n&&(this.continuousDomain[1]=n))}getDomain(){if(this.type==="discrete")return this.discreteDomain;if(this.type==="continuous")return this.continuousDomain;throw new Error("AG Charts - Unsupported data domain type: "+this.type)}};function KS(n,t=[1/0,-1/0]){for(const e of n)typeof e=="number"&&(e<t[0]&&(t[0]=e),e>t[1]&&(t[1]=e));return t}function P8e(n){return n.map(t=>Ju(t)?JSON.stringify(t):t).join("-")}function D8e(n){return Number.isInteger(n)?n:Math.abs(n)>1e4?Math.trunc(n):Math.round(n*1e4)/1e4}function A8e(n){if(n===void 0)return[];let[t,e]=n;return t=Number(t),e=Number(e),t===0&&e===0?[0,1]:t===1/0&&e===-1/0?[]:(t===1/0&&(t=0),e===-1/0&&(e=0),fr(t)&&fr(e)?[t,e]:[])}function Eo(n,t){var e;const r=A8e(n);if(r.length===0)return r;let[i,o]=r;if(i===o){const[a,s]=(e=t==null?void 0:t.calculatePadding(i,o,t.isReversed()))!=null?e:[1,1];i-=a,o+=s}return[i,o]}function a5(){return new Map([[void 0,0]])}function n2(n,t){var e;return t===void 0?0:(e=t.get(n.id))!=null?e:0}var Vh=Symbol("invalid"),lne=class{constructor(n){this.debug=Rn.create(!0,"data-model");const{props:t,mode:e="standalone"}=n;this.mode=e;let r=!0;for(const a of t){if(a.type==="key"&&!r)throw new Error("AG Charts - internal config error: keys must come before values.");a.type==="value"&&r&&(r=!1)}this.opts=de({dataVisible:!0},n),this.keys=t.filter(a=>a.type==="key").map((a,s)=>Xe(de({},a),{index:s,missing:a5()})),this.values=t.filter(a=>a.type==="value").map((a,s)=>Xe(de({},a),{index:s,missing:a5()})),this.aggregates=t.filter(a=>a.type==="aggregate").map((a,s)=>Xe(de({},a),{index:s})),this.groupProcessors=t.filter(a=>a.type==="group-value-processor").map((a,s)=>Xe(de({},a),{index:s})),this.propertyProcessors=t.filter(a=>a.type==="property-value-processor").map((a,s)=>Xe(de({},a),{index:s})),this.reducers=t.filter(a=>a.type==="reducer").map((a,s)=>Xe(de({},a),{index:s})),this.processors=t.filter(a=>a.type==="processor").map((a,s)=>Xe(de({},a),{index:s}));for(const a of this.values)if(a.property==null)throw new Error(`AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(a)}`);const i=({matchGroupIds:a})=>{for(const s of a??[])if(!this.values.some(l=>l.groupId===s))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${s}).`)},o=({matchIds:a})=>{for(const s of a??[])if(!this.values.some(l=>{var u;return(u=l.ids)==null?void 0:u.some(([c,d])=>c===s[0]&&d===s[1])}))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${s}).`)};for(const a of[...this.groupProcessors,...this.aggregates])o(a),i(a)}resolveProcessedDataIndexById(n,t){var e;const{index:r,def:i}=(e=this.resolveProcessedDataDefById(n,t))!=null?e:{};return{index:r,def:i}}resolveProcessedDataIndicesById(n,t){return this.resolveProcessedDataDefsById(n,t).map(({index:e,def:r})=>({index:e,def:r}))}resolveProcessedDataDefById(n,t){return this.resolveProcessedDataDefsById(n,t)[0]}resolveProcessedDataDefsByIds(n,t){const e=[];for(const r of t)e.push([r,this.resolveProcessedDataDefsById(n,r)]);return e}resolveProcessedDataDefsValues(n,{keys:t,values:e}){const r={};for(const[i,[{index:o,def:a}]]of n){const s=a.type==="key"?t:e;r[i]=s[o]}return r}resolveProcessedDataDefsById(n,t){const{keys:e,values:r,aggregates:i,groupProcessors:o,reducers:a}=this,s=c=>{const{ids:d,scopes:p}=c;return d==null||n!=null&&!(p!=null&&p.some(h=>h===n.id))?!1:d.some(([h,f])=>h===n.id&&(typeof t=="string"?f===t:t.test(f)))},l=[e,r,i,o,a],u=[];for(const c of l)u.push(...c.filter(s).map(d=>({index:d.index,def:d})));if(u.length>0)return u;throw new Error(`AG Charts - didn't find property definition for [${t}, ${n.id}]`)}getDomain(n,t,e="value",r){var i,o,a,s;let l;try{l=this.resolveProcessedDataIndicesById(n,t)}catch(p){if(typeof t!="string"&&/didn't find property definition/.test(p.message))return[];throw p}let u;switch(e){case"key":u="keys";break;case"value":u="values";break;case"aggregate":u="aggValues";break;case"group-value-processor":u="groups";break;default:return[]}const c=(o=(i=r.domain[u])==null?void 0:i[l[0].index])!=null?o:[];if(l.length===1)return c;const d=[...c];for(const p of l.slice(1))KS((s=(a=r.domain[u])==null?void 0:a[p.index])!=null?s:[],d);return d}processData(n,t){const{opts:{groupByKeys:e,groupByFn:r},aggregates:i,groupProcessors:o,reducers:a,processors:s,propertyProcessors:l}=this,u=performance.now();if(e&&this.keys.length===0)return;let c=this.extractData(n,t);e?c=this.groupData(c):r&&(c=this.groupData(c,r(c))),o.length>0&&this.postProcessGroups(c),i.length>0&&this.aggregateData(c),l.length>0&&this.postProcessProperties(c),a.length>0&&this.reduceData(c),s.length>0&&this.postProcessData(c);for(const p of[...this.keys,...this.values])if(n.length>0){for(const[h,f]of p.missing)if(f>=n.length){const v=h===void 0?"":` for ${h}`;Ue.warnOnce(`the key '${p.property}' was not found in any data element${v}.`)}}const d=performance.now();return c.time=d-u,this.debug.check()&&M8e(c),c}valueGroupIdxLookup({matchGroupIds:n,matchIds:t}){return this.values.map((e,r)=>({def:e,index:r})).filter(({def:e})=>n&&(e.groupId==null||!n.includes(e.groupId))?!1:t?e.ids==null?!1:t.some(([r,i])=>{var o;return(o=e.ids)==null?void 0:o.some(([a,s])=>a===r&&s===i)}):!0).map(({index:e})=>e)}valueIdxLookup(n,t){const e=n==null||n.length===0,r=s=>{if(s==null)return!0;const u=s==null||s.length===0;return e===u?!0:s==null?void 0:s.some(c=>n.includes(c))},i=typeof t=="string"?t:t.id,o=([s,l])=>r([s])&&l===i,a=this.values.findIndex(s=>{var l;return r(s.scopes)&&(((l=s.ids)==null?void 0:l.some(u=>o(u)))||s.property===i||s.id===i)});if(a>=0)return a;throw new Error(`AG Charts - configuration error, unknown property ${JSON.stringify(t)} in scope(s) ${JSON.stringify(n)}`)}extractData(n,t){var e,r,i,o,a,s;const{keys:l,values:u,opts:{dataVisible:c}}=this,{dataDomain:d,processValue:p,scopes:h,allScopesHaveSameDefs:f}=this.initDataDomainProcessor(),v=new Array(c?n.length:0);let g=0,m=0;for(const[C,S]of n.entries()){const w={},_=h.size>0?new Set(h):void 0,x=c?new Array(l.length):void 0;let E=0,R;for(const I of l){if(R=p(I,S,R),R===Vh)break;x&&(x[E++]=R)}if(R===Vh)continue;const P=c&&u.length>0?new Array(u.length):void 0;let A;const N={};for(const I of t??[])N[I.id]=I;for(const[I,G]of u.entries()){for(const V of(e=G.scopes)!=null?e:h){const H=N[V],j=(r=H==null?void 0:H.data[C])!=null?r:S;A=p(G,j,A,V),!(A===Vh||!P)&&(H!==void 0&&((o=w[i=H.id])!=null||(w[i]={}),w[H.id][G.property]=A),G.useScopedValues?((a=P[I])!=null||(P[I]={}),P[I][V]=A):P[I]=A)}if(A===Vh){if(f)break;for(const V of(s=G.scopes)!=null?s:h)_==null||_.delete(V);if((_==null?void 0:_.size)===0)break}}if(!(A===Vh&&f)&&(_==null?void 0:_.size)!==0&&c){const I={datum:de(de({},S),w),keys:x,values:P};!f&&_&&_.size<h.size&&(m++,I.validScopes=[..._]),v[g++]=I}}v.length=g;const y=C=>{const S=d.get(C).getDomain();return Array.isArray(S)&&S[0]>S[1]?[]:[...S]};return{type:"ungrouped",input:{count:n.length},data:v,domain:{keys:l.map(C=>y(C)),values:u.map(C=>y(C))},defs:{allScopesHaveSameDefs:f,keys:l,values:u},partialValidDataCount:m,time:0}}groupData(n,t){var e,r,i,o;const a=new Map;for(const c of n.data){const{keys:d,values:p,datum:h,validScopes:f}=c,v=t?t(c):d,g=P8e(v);if(a.has(g)){const m=a.get(g);if(m.values.push(p),m.datum.push(h),f!=null)for(let y=0;y<((r=(e=m.validScopes)==null?void 0:e.length)!=null?r:0);y++){const C=(i=m.validScopes)==null?void 0:i[y];f.some(S=>S===C)||(o=m.validScopes)==null||o.splice(y,1)}}else a.set(g,{keys:v,values:[p],datum:[h],validScopes:f})}const s=new Array(a.size),l=new Array(a.size);let u=0;for(const[,{keys:c,values:d,datum:p,validScopes:h}]of a.entries())(h==null?void 0:h.length)!==0&&(l[u]=c,s[u++]={keys:c,values:d,datum:p,validScopes:h});return Xe(de({},n),{type:"grouped",data:s,domain:Xe(de({},n.domain),{groups:l})})}aggregateData(n){var t,e,r,i,o,a,s,l;const{aggregates:u}=this;if(!u)return;const c=u.map(()=>[1/0,-1/0]),d=u.map(v=>this.valueGroupIdxLookup(v)),p=u.map(v=>v.aggregateFunction),h=u.map(v=>v.groupAggregateFunction),f=u.map(v=>v.finalFunction);for(const v of n.data){let{values:g}=v;const{validScopes:m}=v;(t=v.aggValues)!=null||(v.aggValues=new Array(d.length)),n.type==="ungrouped"&&(g=[g]);let y=0;for(const C of d){if(!((e=m==null?void 0:m.some(x=>{var E;return(E=u[y].matchScopes)==null?void 0:E.some(R=>x===R)}))!=null?e:!0)){y++;continue}let w=(i=(r=h[y])==null?void 0:r.call(h))!=null?i:KS([]);for(const x of g){const E=C.map(P=>x[P]),R=p[y](E,v.keys);R&&(w=(a=(o=h[y])==null?void 0:o.call(h,R,w))!=null?a:KS(R,w))}const _=((l=(s=f[y])==null?void 0:s.call(f,w))!=null?l:w).map(x=>D8e(x));KS(_,c[y]),v.aggValues[y++]=_}}n.domain.aggValues=c}postProcessGroups(n){var t,e,r,i,o;const{groupProcessors:a}=this;if(!a)return;const s=new Set,l=new Map,u=new Map,c=new Map;for(const p of a){const h=this.valueGroupIdxLookup(p);u.set(p,h),c.set(p,p.adjust());for(const f of h){const v=this.values[f];s.add(f),l.set(f,new JL(v.valueType==="category"?"discrete":"continuous"))}}const d=p=>{var h;for(const f of s)(h=l.get(f))==null||h.extend(p[f])};for(const p of n.data){for(const h of a){if(!((e=(t=p.validScopes)==null?void 0:t.some(m=>{var y;return(y=h.matchScopes)==null?void 0:y.some(C=>m===C)}))!=null?e:!0))continue;const v=(r=u.get(h))!=null?r:[],g=(o=(i=c.get(h))==null?void 0:i())!=null?o:()=>{};if(n.type==="grouped"){for(const m of p.values)m&&g(m,v);continue}p.values&&g(p.values,v)}if(n.type==="grouped")for(const h of p.values)d(h);else d(p.values)}for(const[p,h]of l)n.domain.values[p]=[...h.getDomain()]}postProcessProperties(n){const{propertyProcessors:t}=this;if(t)for(const{adjust:e,property:r,scopes:i}of t)e()(n,this.valueIdxLookup(i??[],r))}reduceData(n){var t,e,r;const{reducers:i}=this,o=i.map(l=>l.scopes),a=i.map(l=>l.reducer()),s=i.map(l=>l.initialValue);for(const l of n.data){let u=0;for(const c of a){if(!((e=(t=l.validScopes)==null?void 0:t.some(p=>{var h;return(h=o[u])==null?void 0:h.some(f=>p===f)}))!=null?e:!0)){u++;continue}s[u]=c(s[u],l),u++}}for(let l=0;l<s.length;l++)(r=n.reduced)!=null||(n.reduced={}),n.reduced[i[l].property]=s[l]}postProcessData(n){var t;const{processors:e}=this;for(const r of e)(t=n.reduced)!=null||(n.reduced={}),n.reduced[r.property]=r.calculate(n)}initDataDomainProcessor(){var n;const{keys:t,values:e}=this,r=new Set;for(const p of e)for(const h of(n=p.scopes)!=null?n:[])r.add(h);const i=r.size,o=new Map,a=new Map;let s=!0;const l=(p,h,f=o)=>{var v;h==="category"?f.set(p,new JL("discrete")):(f.set(p,new JL("continuous")),s&&(s=((v=p.scopes)!=null?v:[]).length===i))},u=()=>{t.forEach(p=>l(p,p.valueType)),e.forEach(p=>l(p,p.valueType))};u();const c=this.buildAccessors(...t,...e);return{dataDomain:o,processValue:(p,h,f,v)=>{var g,m,y,C,S;const w=p.property in c;let _=!1,x;if(w){try{x=c[p.property](h)}catch{}_=x!==void 0}else _=p.property in h,x=_?h[p.property]:p.missingValue;p.forceValue!=null&&(x=_&&G_(x)?-1*p.forceValue:p.forceValue,_=!0);const E="missingValue"in p;if(!_&&!E){const R=(g=p.missing.get(v))!=null?g:0;p.missing.set(v,R+1)}if(o.has(p)||u(),_&&!((y=(m=p.validation)==null?void 0:m.call(p,x,h))!=null?y:!0))if("invalidValue"in p)x=p.invalidValue;else return this.mode!=="integrated"&&Ue.warnOnce(`invalid value of type [${typeof x}] ignored:`,`[${x}]`),Vh;return p.processor&&(a.has(p)||a.set(p,p.processor()),x=(C=a.get(p))==null?void 0:C(x,f!==Vh?f:void 0)),(S=o.get(p))==null||S.extend(x),x},initDataDomain:u,scopes:r,allScopesHaveSameDefs:s}}buildAccessors(...n){const t={};if(this.mode==="integrated")return t;for(const e of n){if(!(e.property.indexOf(".")>=0||e.property.indexOf("[")>=0))continue;let i;e.property.startsWith("[")?i=`return datum${e.property};`:i=`return datum.${e.property};`,t[e.property]=new Function("datum",i)}return t}};function M8e(n){var t,e;const r=(i,o)=>{o.length>0&&(Ue.log(`DataModel.processData() - ${i}`),Ue.table(o))};if(Ue.log("DataModel.processData() - processedData",n),r("Key Domains",n.domain.keys),r("Group Domains",(t=n.domain.groups)!=null?t:[]),r("Value Domains",n.domain.values),r("Aggregate Domains",(e=n.domain.aggValues)!=null?e:[]),n.type==="grouped"){const i=n.data.reduce((o,a)=>{var s,l;const u=(s=a.keys)!=null?s:[],c=(l=a.aggValues)!=null?l:[],d=a.keys.map(()=>{}),p=c==null?void 0:c.map(()=>{});return o.push(...a.values.map((h,f)=>[...f===0?u:d,...h??[],...f==0?c:p])),o},[]);r("Values",i)}else{const i=n.data.reduce((o,a)=>{var s;const l=(s=a.aggValues)!=null?s:[];return o.push([...a.keys,...a.values,...l]),o},[]);r("Values",i)}}var une=class{constructor(n){this.mode=n,this.debug=Rn.create(!0,"data-model"),this.requested=[],this.status="setup"}request(n,t,e){return Oe(this,null,function*(){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");return new Promise((r,i)=>{this.requested.push({id:n,opts:e,data:t,resultCb:r,reject:i})})})}execute(){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);const{valid:n,invalid:t}=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",n);const e=this.mergeRequested(n);this.debug("DataController.execute() - merged",e),this.debug.check()&&(window.processedData=[]);const r=n.some(i=>i.data!=null);for(const{opts:i,data:o,resultCbs:a,rejects:s,ids:l}of e){const u=r||i.props.some(c=>{var d;return c.type!=="value"&&c.type!=="key"?!1:(d=c.useScopedValues)!=null?d:!1});try{const c=new lne(Xe(de({},i),{mode:this.mode})),d=c.processData(o,n);this.debug.check()&&window.processedData.push(d),d&&d.partialValidDataCount===0?a.forEach((p,h)=>{const f=l[h];let v=d;u&&(v=this.extractScopedData(f,d)),p({dataModel:c,processedData:v})}):d?this.splitResult(c,d,l,a):s.forEach(p=>p(new Error("AG Charts - no processed data generated")))}catch(c){s.forEach(d=>d(c))}}t.forEach(({error:i,reject:o})=>o(i))}extractScopedData(n,t){const e=i=>Array.isArray(i)?i.map(e):de(de({},i),i[n]),r=i=>{var o;return Array.isArray(i)?i.map(r):(o=i==null?void 0:i[n])!=null?o:i};return Xe(de({},t),{data:t.data.map(i=>Xe(de({},i),{datum:e(i.datum),values:i.values.map(r)}))})}validateRequests(n){const t=[],e=[];for(const[r,i]of n.entries())r>0&&i.data.length!==n[0].data.length&&i.opts.groupByData===!1?e.push(Xe(de({},i),{error:new Error("all series[].data arrays must be of the same length and have matching keys.")})):t.push(i);return{valid:t,invalid:e}}mergeRequested(n){const t=[],e=l=>l.filter(u=>u.type==="key").map(u=>u.property).join(";"),r=({opts:l,data:u})=>c=>(l.groupByData===!1||c[0].data===u)&&c[0].opts.groupByKeys===l.groupByKeys&&c[0].opts.dataVisible===l.dataVisible&&c[0].opts.groupByFn===l.groupByFn&&e(c[0].opts.props)===e(l.props),i=l=>u=>{var c;if(u.type!==l.type)return!1;const d=(c=ss(u,l))!=null?c:{};return delete d.scopes,delete d.id,delete d.ids,"useScopedValues"in d&&delete d.useScopedValues,Object.keys(d).length===0},o=l=>{var u;if(l.type!=="key"&&l.type!=="value")return;const c=new Set((u=l.scopes)!=null?u:[]);l.useScopedValues=c.size>1},a=l=>Xe(de({},l[0]),{props:l.reduce((u,c)=>{var d,p,h,f,v,g;for(const m of c.props){if(m.id!=null){(d=m.ids)!=null||(m.ids=[]);for(const C of(p=m.scopes)!=null?p:[])m.ids.push([C,m.id])}const y=u.find(i(m));if(!y){o(m),u.push(m);continue}(h=y.scopes)!=null||(y.scopes=[]),y.scopes.push(...(f=m.scopes)!=null?f:[]),o(m),(y.type==="key"||y.type==="value")&&((v=m.ids)!=null&&v.length)&&((g=y.ids)==null||g.push(...m.ids))}return u},[])}),s=l=>({ids:l.map(({id:u})=>u),resultCbs:l.map(({resultCb:u})=>u),rejects:l.map(({reject:u})=>u),data:l[0].data,opts:a(l.map(({opts:u})=>u))});for(const l of n){const u=t.find(r(l));u?u.push(l):t.push([l])}return t.map(s)}splitResult(n,t,e,r){for(let i=0;i<e.length;i++){const o=e[i],a=r[i];a({dataModel:n,processedData:Xe(de({},t),{data:t.data.filter(({validScopes:s})=>s==null||s.some(l=>l===o))})})}}},My=class{constructor(){this.registeredListeners=new Map}addListener(n,t){const e={symbol:Symbol(n),handler:t};return this.registeredListeners.has(n)?this.registeredListeners.get(n).push(e):this.registeredListeners.set(n,[e]),()=>this.removeListener(e.symbol)}removeListener(n){for(const[t,e]of this.registeredListeners.entries()){const r=e.findIndex(i=>i.symbol===n);if(r>=0){e.splice(r,1),e.length===0&&this.registeredListeners.delete(t);break}}}dispatch(n,...t){for(const e of this.getListenersByType(n))try{e.handler(...t)}catch(r){Ue.errorOnce(r)}}dispatchWrapHandlers(n,t,...e){for(const r of this.getListenersByType(n))try{t(r.handler,...e)}catch(i){Ue.errorOnce(i)}}getListenersByType(n){var t;return(t=this.registeredListeners.get(n))!=null?t:[]}destroy(){this.registeredListeners.clear()}},qD=class extends My{constructor(n){super(),this.animationManager=n,this.dispatchOnlyLatest=!0,this.dispatchThrottle=0,this.requestThrottle=300,this.isLoadingInitialData=!1,this.freshRequests=[],this.requestCounter=0,this.debug=Rn.create(!0,"data-model","data-source"),this.throttledFetch=this.createThrottledFetch(this.requestThrottle),this.throttledDispatch=this.createThrottledDispatch(this.dispatchThrottle)}updateCallback(n){typeof n=="function"&&(this.debug("DataService - updated data source callback"),this.dataSourceCallback=n,this.isLoadingInitialData=!0,this.animationManager.skip(),this.dispatch("data-source-change"))}clearCallback(){this.dataSourceCallback=void 0}load(n){this.throttledFetch(n)}isLazy(){return this.dataSourceCallback!=null}isLoading(){return this.isLazy()&&(this.isLoadingInitialData||this.freshRequests.length>0)}createThrottledFetch(n){return B4(t=>this.fetch(t),n,{leading:!1,trailing:!0})}createThrottledDispatch(n){return B4((t,e)=>{this.debug(`DataService - dispatching 'data-load' | ${t}`),this.dispatch("data-load",{type:"data-load",data:e})},n,{leading:!0,trailing:!0})}fetch(n){return Oe(this,null,function*(){if(!this.dataSourceCallback)throw new Error("DataService - [dataSource.getData] callback not initialised");const t=performance.now(),e=this.requestCounter++;this.debug(`DataService - requesting | ${e}`),this.freshRequests.push(e);let r;try{r=yield this.dataSourceCallback(n),this.debug(`DataService - response | ${performance.now()-t}ms | ${e}`)}catch(o){this.debug(`DataService - request failed | ${e}`),Ue.errorOnce(`DataService - request failed | [${o}]`)}this.isLoadingInitialData=!1;const i=this.freshRequests.findIndex(o=>o===e);if(i===-1||this.dispatchOnlyLatest&&i!==this.freshRequests.length-1){this.debug(`DataService - discarding stale request | ${e}`);return}this.freshRequests=this.freshRequests.slice(i+1),Array.isArray(r)?this.throttledDispatch(e,r):this.dispatch("data-error")})}};D([Ci({newValue(n){this.throttledDispatch=this.createThrottledDispatch(n)}})],qD.prototype,"dispatchThrottle",2);D([Ci({newValue(n){this.throttledFetch=this.createThrottledFetch(n)}})],qD.prototype,"requestThrottle",2);var L8e=[!0,"animation"],s5=class{constructor(){this.stoppedCbs=new Set,this.controllers=new Map,this.debug=Rn.create(...L8e),this.currentPhase=0,this.phases=new Map(pf.map(n=>[n,[]])),this.skipAnimations=!1}get size(){return this.controllers.size}isActive(){return this.controllers.size>0}getActiveControllers(){var n;return(n=this.phases.get(pf[this.currentPhase]))!=null?n:[]}checkOverlappingId(n){n!=null&&this.controllers.has(n)&&(this.controllers.get(n).stop(),this.debug(`Skipping animation batch due to update of existing animation: ${n}`),this.skip())}addAnimation(n){var t;if(n.isComplete)return;if(pf.indexOf(n.phase)<this.currentPhase){this.debug("Skipping animation due to being for an earlier phase",n.id),n.stop();return}this.controllers.set(n.id,n),(t=this.phases.get(n.phase))==null||t.push(n)}removeAnimation(n){this.controllers.delete(n.id);const t=this.phases.get(n.phase),e=t==null?void 0:t.indexOf(n);e!=null&&e>=0&&(t==null||t.splice(e,1))}progress(n){const t=pf[this.currentPhase];let e=[...this.getActiveControllers()];const r=this.controllers.size;this.debug(`AnimationBatch - progressing by ${n}; current phase ${t} with ${e==null?void 0:e.length} active controllers of ${r} total`,this.phases);let i=n===0?.01:n;const o=()=>pf[this.currentPhase]==null,a=()=>{for(e=[...this.getActiveControllers()];!o()&&e.length===0;)this.currentPhase++,e=[...this.getActiveControllers()],this.debug(`AnimationBatch - phase changing to ${pf[this.currentPhase]}`,{unusedTime:i},e)};for(;i>0&&!o();){a();const s=i;let l=0;for(const u of e)i=Math.min(u.update(s),i),u.isComplete&&(l++,this.removeAnimation(u));this.debug(`AnimationBatch - updated ${e.length} controllers; ${l} completed`)}}skip(n=!0){if(this.skipAnimations===!1&&n===!0){for(const t of this.controllers.values())t.stop();this.controllers.clear()}this.skipAnimations=n}play(){for(const n of this.controllers.values())n.play()}pause(){for(const n of this.controllers.values())n.pause()}stop(){for(const n of this.controllers.values())try{n.stop(),this.removeAnimation(n)}catch(t){Ue.error("Error during animation stop",t)}this.dispatchStopped()}stopByAnimationId(n){if(n!=null&&this.controllers.has(n)){const t=this.controllers.get(n);t&&(t.stop(),this.removeAnimation(t))}}stopByAnimationGroupId(n){for(const t of this.controllers.values())t.groupId===n&&this.stopByAnimationId(t.id)}dispatchStopped(){this.stoppedCbs.forEach(n=>n()),this.stoppedCbs.clear()}isSkipped(){return this.skipAnimations}destroy(){}},Mv=class{constructor(){this.listeners=new My}addListener(n,t){return this.listeners.addListener(n,t)}removeListener(n){this.listeners.removeListener(n)}destroy(){this.listeners.destroy()}},cne=["click","dblclick","contextmenu","hover","drag-start","drag","drag-end","leave","page-left","wheel"],l5=["pagehide","mousemove","mouseup"],u5=["click","dblclick","contextmenu","mousedown","mouseout","mouseenter","touchstart","touchmove","touchend","touchcancel","wheel"],F8e=`
.ag-chart-wrapper {
    touch-action: none;
}
`,vT=(n=>(n[n.Default=8]="Default",n[n.ZoomDrag=4]="ZoomDrag",n[n.ContextMenu=2]="ContextMenu",n[n.Animation=1]="Animation",n[n.All=15]="All",n))(vT||{}),I8e=[!0,"interaction"],i2=class YS extends Mv{constructor(t,e,r){super(),this.debug=Rn.create(...I8e),this.eventHandler=i=>this.processEvent(i),this.mouseDown=!1,this.touchDown=!1,this.stateQueue=8,this.rootElement=e.body,this.element=t,this.window=r;for(const i of u5)i.startsWith("touch")?t.addEventListener(i,this.eventHandler,{passive:!0}):i==="wheel"?t.addEventListener(i,this.eventHandler,{passive:!1}):t.addEventListener(i,this.eventHandler);for(const i of l5)this.window.addEventListener(i,this.eventHandler);YS.interactionDocuments.includes(e)||(zD(e,F8e),YS.interactionDocuments.push(e))}destroy(){super.destroy();for(const t of l5)this.window.removeEventListener(t,this.eventHandler);for(const t of u5)this.element.removeEventListener(t,this.eventHandler)}addListener(t,e,r=8){return super.addListener(t,i=>{this.getState()&r&&e(i)})}pushState(t){this.stateQueue|=t}popState(t){this.stateQueue&=~t}getState(){return this.stateQueue&-this.stateQueue}processEvent(t){const e=this.decideInteractionEventTypes(t);e.length>0&&this.dispatchEvent(t,e).catch(r=>Ue.errorOnce(r))}dispatchEvent(t,e){return Oe(this,null,function*(){const r=this.calculateCoordinates(t);if(r!=null)for(const i of e)this.listeners.dispatchWrapHandlers(i,(o,a)=>{a.consumed||o(a)},this.buildEvent(de({type:i,event:t},r)))})}decideInteractionEventTypes(t){const e="drag-start";switch(t.type){case"click":case"dblclick":case"contextmenu":case"wheel":return[t.type];case"mousedown":return this.mouseDown=!0,this.dragStartElement=t.target,[e];case"touchstart":return this.touchDown=!0,this.dragStartElement=t.target,[e];case"touchmove":case"mousemove":return!this.mouseDown&&!this.touchDown&&!this.isEventOverElement(t)?[]:this.mouseDown||this.touchDown?["drag"]:["hover"];case"mouseup":return!this.mouseDown&&!this.isEventOverElement(t)?[]:(this.mouseDown=!1,this.dragStartElement=void 0,["drag-end"]);case"touchend":return!this.touchDown&&!this.isEventOverElement(t)?[]:(this.touchDown=!1,this.dragStartElement=void 0,["drag-end"]);case"mouseout":case"touchcancel":return["leave"];case"mouseenter":const r=t instanceof MouseEvent&&(t.buttons&1)===1;return this.mouseDown!==r?(this.mouseDown=r,[r?e:"drag-end"]):[];case"pagehide":return["page-left"]}return[]}isEventOverElement(t){var e;return t.target===this.element||((e=t.target)==null?void 0:e.parentElement)===this.element}calculateCoordinates(t){var e;if(t instanceof MouseEvent)return this.getMouseEventCoords(t);if(typeof TouchEvent<"u"&&t instanceof TouchEvent){const r=(e=t.touches[0])!=null?e:t.changedTouches[0],{clientX:i,clientY:o,pageX:a,pageY:s}=r;return Xe(de({},YS.NULL_COORDS),{clientX:i,clientY:o,pageX:a,pageY:s})}else if(t instanceof PageTransitionEvent)return t.persisted?void 0:YS.NULL_COORDS}getMouseEventCoords(t){const{clientX:e,clientY:r,pageX:i,pageY:o}=t;let{offsetX:a,offsetY:s}=t;const l=u=>{let c=0,d=0;for(;u;)c+=u.offsetLeft,d+=u.offsetTop,u=u.offsetParent;return{x:c,y:d}};if(this.dragStartElement!=null&&t.target!==this.dragStartElement){const u=l(this.dragStartElement),c=l(t.target);a-=u.x-c.x,s-=u.y-c.y}return{clientX:e,clientY:r,pageX:i,pageY:o,offsetX:a,offsetY:s}}isWheelEvent(t){return t.type==="wheel"}buildEvent(t){const{type:e,event:r,clientX:i,clientY:o}=t;let{offsetX:a,offsetY:s,pageX:l,pageY:u}=t;if(!fr(a)||!fr(s)){const f=this.element.getBoundingClientRect();a=i-f.left,s=o-f.top}if(!fr(l)||!fr(u)){const f=this.rootElement.getBoundingClientRect();l=i-f.left,u=o-f.top}const c=f=>{const y=Math.sign(f);return(Math.log10(Math.abs(f)/60+.1)*3+3)*y};let[d,p]=[NaN,NaN];if(this.isWheelEvent(r)){const f=r.deltaMode===0?c:v=>v;d=f(r.deltaX),p=f(r.deltaY)}const h={type:e,offsetX:a,offsetY:s,pageX:l,pageY:u,deltaX:d,deltaY:p,sourceEvent:r,consumed:!1,consume(){h.consumed=!0}};return this.debug("InteractionManager - builtEvent: ",h),h}};i2.interactionDocuments=[];i2.NULL_COORDS={clientX:-1/0,clientY:-1/0,pageX:-1/0,pageY:-1/0,offsetX:-1/0,offsetY:-1/0};var dne=i2,N8e=[!0,"animation"],pne=class extends Mv{constructor(n,t){super(),this.interactionManager=n,this.chartUpdateMutex=t,this.defaultDuration=1e3,this.batch=new s5,this.debug=Rn.create(...N8e),this.rafAvailable=typeof requestAnimationFrame<"u",this.isPlaying=!1,this.requestId=null,this.skipAnimations=!1}animate(n){var t=n,e=di(t,["disableInteractions"]),r;const i=this.batch;try{i.checkOverlappingId(e.id)}catch(l){this.failsafeOnError(l);return}const o=(r=e.id)!=null?r:Math.random().toString(),a=this.isSkipped();a&&this.debug("AnimationManager - skipping animation");const s=new dre(Xe(de({},e),{id:o,skip:a,autoplay:this.isPlaying?e.autoplay:!1,phase:e.phase,defaultDuration:this.defaultDuration}));if(!this.forceTimeJump(s,this.defaultDuration))return this.batch.addAnimation(s),s}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");try{this.batch.play()}catch(n){this.failsafeOnError(n)}this.requestAnimation()}}pause(){if(this.isPlaying){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.pause()");try{this.batch.pause()}catch(n){this.failsafeOnError(n)}}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()"),this.batch.stop()}stopByAnimationId(n){try{this.batch.stopByAnimationId(n)}catch(t){this.failsafeOnError(t)}}stopByAnimationGroupId(n){try{this.batch.stopByAnimationGroupId(n)}catch(t){this.failsafeOnError(t)}}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(n=!0){this.skipAnimations=n}isSkipped(){return!this.rafAvailable||this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}skipCurrentBatch(){this.debug.check()&&this.debug("AnimationManager - skipCurrentBatch()",{stack:new Error().stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(n){this.requestId=requestAnimationFrame(n)}forceTimeJump(n,t){return!1}requestAnimation(){if(!this.rafAvailable||!this.batch.isActive()||this.requestId!==null)return;let n;const t=e=>Oe(this,null,function*(){const r=()=>Oe(this,null,function*(){const i=e-(n??e);n=e,this.debug("AnimationManager - onAnimationFrame()",{controllersCount:this.batch.size,deltaTime:i}),this.interactionManager.pushState(1);try{this.batch.progress(i)}catch(o){this.failsafeOnError(o)}this.listeners.dispatch("animation-frame",{type:"animation-frame",deltaMs:i})});this.isSkippingFrames()?yield this.chartUpdateMutex.acquireImmediately(r):yield this.chartUpdateMutex.acquire(r),this.batch.isActive()?this.scheduleAnimationFrame(t):this.batch.stop()});this.scheduleAnimationFrame(t)}cancelAnimation(){this.requestId!==null&&(cancelAnimationFrame(this.requestId),this.requestId=null,this.startBatch())}failsafeOnError(n,t=!0){Ue.error("Error during animation, skipping animations",n),t&&this.cancelAnimation()}startBatch(n){this.debug(`AnimationManager - startBatch() with skipAnimations=${n}.`),this.reset(),this.batch.stop(),this.batch.destroy(),this.batch=new s5,n===!0&&this.batch.skip()}endBatch(){this.debug(`AnimationManager - endBatch() with ${this.batch.size} animations; skipped: ${this.batch.isSkipped()}.`),this.batch.isActive()||this.interactionManager.popState(1),this.batch.isSkipped()&&!this.batch.isActive()&&this.batch.skip(!1),this.requestAnimation()}onBatchStop(n){this.batch.stoppedCbs.add(n)}},hne=class extends Mv{legendItemClick(n,t,e,r){const i={type:"legend-item-click",series:n,itemId:t,enabled:e,legendItemName:r};this.listeners.dispatch("legend-item-click",i)}legendItemDoubleClick(n,t,e,r,i){const o={type:"legend-item-double-click",series:n,itemId:t,enabled:e,legendItemName:i,numVisibleItems:r};this.listeners.dispatch("legend-item-double-click",o)}axisHover(n,t){const e={type:"axis-hover",axisId:n,direction:t};this.listeners.dispatch("axis-hover",e)}},fne=class{constructor(){this.defaultActions=[],this.disabledActions=new Set}copyDefaultAction(){return[...this.defaultActions]}registerDefaultAction(n){n.id&&this.defaultActions.find(({id:t})=>t===n.id)||this.defaultActions.push(n)}enableAction(n){this.disabledActions.delete(n)}disableAction(n){this.disabledActions.add(n)}isDisabled(n){return this.disabledActions.has(n)}},vne=class{constructor(n){this.states={},this.element=n}updateCursor(n,t){delete this.states[n],t!=null&&(this.states[n]={style:t}),this.applyStates()}applyStates(){let n="default";Object.entries(this.states).reverse().slice(0,1).forEach(([t,{style:e}])=>n=e),this.element.style.cursor=n}getCursor(){return this.element.style.cursor}};function k8e(n,t){const e=n.screenX-t.screenX,r=n.screenY-t.screenY;return e*e+r*r}function c5(n,t){return Math.sqrt(k8e(n,t))}var G8e=1,gne=class extends Mv{constructor(n){super(),this.touchstart=t=>this.onTouchStart(t),this.touchmove=t=>this.onTouchMove(t),this.touchend=t=>this.onTouchEnd(t),this.touchcancel=t=>this.onTouchCancel(t),this.pinch={finger1:{identifier:NaN,screenX:NaN,screenY:NaN},finger2:{identifier:NaN,screenX:NaN,screenY:NaN},origin:{x:NaN,y:NaN},distance:NaN,status:0},this.element=n,n.addEventListener("touchstart",this.touchstart,{passive:!0}),n.addEventListener("touchmove",this.touchmove,{passive:!0}),n.addEventListener("touchend",this.touchend),n.addEventListener("touchcancel",this.touchcancel)}destroy(){const{element:n}=this;n.removeEventListener("touchstart",this.touchstart),n.removeEventListener("touchmove",this.touchmove),n.removeEventListener("touchend",this.touchend),n.removeEventListener("touchcancel",this.touchcancel)}findPinchTouches(n){const{touches:t}=n,{finger1:e,finger2:r}=this.pinch;if(this.pinch.status!==0&&t.length===2){if(t[0].identifier===e.identifier&&t[1].identifier===r.identifier)return[t[0],t[1]];if(t[0].identifier===r.identifier&&t[1].identifier===e.identifier)return[t[1],t[0]]}}copyTouchData(n){const t=["identifier","screenX","screenY"];Z1(t,this.pinch.finger1,n.touches[0]),Z1(t,this.pinch.finger2,n.touches[1]),this.pinch.distance=c5(this.pinch.finger1,this.pinch.finger2)}dispatchPinchEvent(n,t){const{finger1:e,finger2:r,origin:i}=this.pinch,o={type:n,finger1:e,finger2:r,deltaDistance:t,origin:i};this.listeners.dispatch(n,o)}onTouchStart(n){this.stopPinchTracking();const{pinch:t}=this;n.touches.length===2&&(t.status=1,this.copyTouchData(n),t.origin.x=(n.touches[0].clientX+n.touches[1].clientX)/2,t.origin.y=(n.touches[0].clientY+n.touches[1].clientY)/2)}onTouchMove(n){const t=this.findPinchTouches(n);if(t!==void 0){const[e,r]=t,{pinch:i}=this,o=c5(e,r),a=o-i.distance;i.status===1?Math.abs(a)>G8e&&(i.status=2,this.copyTouchData(n),this.dispatchPinchEvent("pinch-start",0)):i.status===2?(i.distance=o,this.copyTouchData(n),this.dispatchPinchEvent("pinch-move",a)):Ue.error(`unexpected pinch.status: ${i.status}`)}}onTouchEnd(n){this.stopPinchTracking()}onTouchCancel(n){this.stopPinchTracking()}stopPinchTracking(){const{pinch:n}=this;n.status===2&&this.dispatchPinchEvent("pinch-end",0),this.pinch.status=0}},_N=class extends Mv{constructor(){super(...arguments),this.highlightStates=new Map,this.pickedStates=new Map}updateHighlight(n,t){this.highlightStates.delete(n),t!=null&&this.highlightStates.set(n,t),this.applyHighlightStates()}getActiveHighlight(){return this.activeHighlight}updatePicked(n,t){this.pickedStates.delete(n),t!=null&&this.pickedStates.set(n,t),this.applyPickedStates()}getActivePicked(){return this.activePicked}applyHighlightStates(){const{activeHighlight:n}=this;this.activeHighlight=Array.from(this.highlightStates.values()).pop(),this.isEqual(this.activeHighlight,n)||this.listeners.dispatch("highlight-change",{type:"highlight-change",currentHighlight:this.activeHighlight,previousHighlight:n})}applyPickedStates(){this.activePicked=Array.from(this.pickedStates.values()).pop()}isEqual(n,t){return n===t||(n==null?void 0:n.series)===(t==null?void 0:t.series)&&(n==null?void 0:n.itemId)===(t==null?void 0:t.itemId)&&(n==null?void 0:n.datum)===(t==null?void 0:t.datum)}};function V8e(n,t,e){var r,i;return(i=(r=n.bbox.computeBBox())==null?void 0:r.containsPoint(t,e))!=null?i:!1}function d5(n){var t;const{width:e=0,height:r=0}=(t=n.bbox.computeBBox())!=null?t:{};return e*r}var B8e=class{constructor(){this.nodes=[]}add(n,t){this.nodes.push({value:n,bbox:t})}find(n,t){return this.nodes.filter(e=>V8e(e,n,t)).sort((e,r)=>d5(e)-d5(r)).map(e=>e.value)}*[Symbol.iterator](){for(const{value:n}of Object.values(this.nodes))yield n}clear(){this.nodes.length=0}},j8e=class extends My{},H8e=class{constructor(n){this.interactionManager=n,this.eventHandler=t=>this.processEvent(t),this.regions=new B8e,this.destroyFns=[],cne.forEach(t=>this.destroyFns.push(n.addListener(t,this.eventHandler,15)))}destroy(){this.destroyFns.forEach(n=>n()),this.currentRegion=void 0;for(const n of this.regions)n.listeners.destroy();this.regions.clear()}pushRegion(n,t){const e={name:n,listeners:new j8e};return this.regions.add(e,t),e}addRegion(n,t){const e=this.pushRegion(n,t),{interactionManager:r}=this;class i{addListener(a,s,l=8){return e.listeners.addListener(a,u=>{u.consumed||r.getState()&l&&s(u)})}}return new i}processEvent(n){const{currentRegion:t}=this,e=this.pickRegion(n.offsetX,n.offsetY);t!==void 0&&(e==null?void 0:e.name)!==t.name&&(t==null||t.listeners.dispatch("leave",Xe(de({},n),{type:"leave"}))),e!==void 0&&(()=>Oe(this,null,function*(){return e.listeners.dispatch(n.type,n)}))().catch(i=>Ue.errorOnce(i)),this.currentRegion=e}pickRegion(n,t){const e=this.regions.find(n,t);return e.length>0?e[0]:void 0}},o2=class ff extends Mv{constructor(t){super(),this.chart=t}subscribe(t=ff.DEFAULT_GROUP){let e=this.get(t);return e||(e=new Set,ff.chartsGroups.set(t,e)),e.add(this.chart),this}unsubscribe(t=ff.DEFAULT_GROUP){var e;return(e=this.get(t))==null||e.delete(this.chart),this}getChart(){return this.chart}getGroup(t=ff.DEFAULT_GROUP){const e=this.get(t);return e?Array.from(e):[]}getGroupSiblings(t=ff.DEFAULT_GROUP){return this.getGroup(t).filter(e=>e!==this.chart)}get(t){return ff.chartsGroups.get(t)}};o2.chartsGroups=new Map;o2.DEFAULT_GROUP=Symbol("sync-group-default");var $8e=o2,xN=class{constructor(n,t){this.states={},this.exclusiveAreas={},this.destroyFns=[],this.tooltip=n,this.destroyFns.push(t.addListener("hover",e=>this.checkExclusiveRects(e)))}getRange(){return this.tooltip.range}updateTooltip(n,t,e){var r;e==null&&(e=(r=this.states[n])==null?void 0:r.content),this.states[n]={content:e,meta:t},this.applyStates()}updateExclusiveRect(n,t){t?this.exclusiveAreas[n]=t:delete this.exclusiveAreas[n]}removeTooltip(n){delete this.states[n],this.applyStates()}getTooltipMeta(n){var t;return(t=this.states[n])==null?void 0:t.meta}destroy(){for(const n of this.destroyFns)n()}checkExclusiveRects(n){let t;for(const[e,r]of Object.entries(this.exclusiveAreas))if(r.containsPoint(n.offsetX,n.offsetY)){t=e;break}t!==this.appliedExclusiveArea&&(this.appliedExclusiveArea=t,this.applyStates())}applyStates(){var n;const t=this.appliedExclusiveArea?[this.appliedExclusiveArea]:Object.keys(this.states);let e,r;if(t.reverse(),t.slice(0,1).forEach(i=>{var o;const{content:a,meta:s}=(o=this.states[i])!=null?o:{};e=a,r=s}),r===void 0||e===void 0){this.appliedState=void 0,this.tooltip.toggle(!1);return}if(((n=this.appliedState)==null?void 0:n.content)===e){const i=this.tooltip.isVisible();this.tooltip.show(r,void 0,i)}else this.tooltip.show(r,e);this.appliedState={content:e,meta:r}}static makeTooltipMeta(n,t){var e,r,i,o;const{offsetX:a,offsetY:s}=n,{tooltip:l}=t.series.properties,u={xOffset:l.position.xOffset,yOffset:l.position.yOffset},c={offsetX:a,offsetY:s,lastPointerEvent:{offsetX:a,offsetY:s},showArrow:l.showArrow,position:u},d=(r=(e=t.yBar)==null?void 0:e.upperPoint)!=null?r:t.midPoint;if(l.position.type==="node"&&d){const{x:p,y:h}=d,f=t.series.contentGroup.inverseTransformPoint(p,h);return Xe(de({},c),{offsetX:Math.round(f.x),offsetY:Math.round(f.y)})}return c.enableInteraction=(o=(i=l.interaction)==null?void 0:i.enabled)!=null?o:!1,c}},mne=class extends Mv{constructor(){super(...arguments),this.axisZoomManagers=new Map}updateAxes(n){var t;const e=new Map(n.map(r=>[r.id,this.axisZoomManagers.get(r.id)]));this.axisZoomManagers.clear();for(const r of n)this.axisZoomManagers.set(r.id,(t=e.get(r.id))!=null?t:new W8e(r));this.initialZoom&&(this.updateZoom(this.initialZoom),this.initialZoom=void 0)}updateZoom(n){if(this.axisZoomManagers.size===0){this.initialZoom=n;return}this.axisZoomManagers.forEach(t=>{t.updateZoom(n==null?void 0:n[t.getDirection()])}),this.applyChanges()}updateAxisZoom(n,t){var e;(e=this.axisZoomManagers.get(n))==null||e.updateZoom(t),this.applyChanges()}getZoom(){let n,t;if(this.axisZoomManagers.forEach(e=>{e.getDirection()==="x"?n??(n=e.getZoom()):e.getDirection()==="y"&&(t??(t=e.getZoom()))}),n||t)return{x:n,y:t}}getAxisZoom(n){var t,e;return(e=(t=this.axisZoomManagers.get(n))==null?void 0:t.getZoom())!=null?e:{min:0,max:1}}getAxisZooms(){const n={};for(const[t,e]of this.axisZoomManagers.entries())n[t]={direction:e.getDirection(),zoom:e.getZoom()};return n}applyChanges(){if(!Array.from(this.axisZoomManagers.values()).map(e=>e.applyChanges()).some(Boolean))return;const t={};for(const[e,r]of this.axisZoomManagers.entries())t[e]=r.getZoom();this.listeners.dispatch("zoom-change",Xe(de({type:"zoom-change"},this.getZoom()),{axes:t}))}},W8e=class{constructor(n){this.pendingZoom=null,this.axis=n;const[t=0,e=1]=n.visibleRange;this.initialZoom=this.currentZoom={min:t,max:e}}getDirection(){return this.axis.direction}updateZoom(n){this.pendingZoom=n?de({},n):null}getZoom(){return io(this.currentZoom)}applyChanges(){var n;const t=this.currentZoom;return this.currentZoom=(n=this.pendingZoom)!=null?n:this.initialZoom,t.min!==this.currentZoom.min||t.max!==this.currentZoom.max}},yne=class extends My{constructor(){super(...arguments),this.layoutComplete="layout-complete"}addListener(n,t){if(this.isLayoutStage(n)||this.isLayoutComplete(n))return super.addListener(n,t);throw new Error(`AG Charts - unsupported listener type: ${n}`)}dispatchPerformLayout(n,t){return this.isLayoutStage(n)?this.getListenersByType(n).reduce((e,r)=>{try{return r.handler(e)}catch(i){return Ue.errorOnce(i),e}},t):t}dispatchLayoutComplete(n){this.dispatch(this.layoutComplete,n)}isLayoutStage(n){return n!==this.layoutComplete}isLayoutComplete(n){return n===this.layoutComplete}};function U8e({orientation:n,bboxes:t,maxHeight:e,maxWidth:r,itemPaddingY:i=0,itemPaddingX:o=0,forceResult:a=!1}){const s=n==="horizontal",l={max:s?r:e,fn:s?p=>p.width:p=>p.height,padding:s?o:i},u={max:s?e:r,fn:s?p=>p.height:p=>p.width,padding:s?i:o};let c=0;const d=[];for(;c<t.length;){const p=t.slice(c),h=z8e(p,c,l,u,a);if(!h)return;c+=h.processedBBoxCount,d.push(h.pageIndices)}return Y8e(d,n,t,i,o)}function z8e(n,t,e,r,i){let a=X8e(n,e);if(a<1){if(!i)return;a=1}for(let s=a;s>=1;s--){const l=K8e(n,t,s,e,r,i);if(l==null&&s<=1)return;if(l==null)continue;if(typeof l=="number"){if(l<=1)return;s=l<s&&l>1?l:s;continue}return{processedBBoxCount:l.length*l[0].length,pageIndices:l}}}function K8e(n,t,e,r,i,o){var a;const s=[];let l=0,u=0,c=[];const d=[];for(let p=0;p<n.length;p++){const h=(p+e)%e;h===0&&(l+=u,u=0,c.length>0&&s.push(c),c=[]);const f=r.fn(n[p])+r.padding;d[h]=Math.max((a=d[h])!=null?a:0,f),u=Math.max(u,i.fn(n[p])+i.padding);const v=l+u,g=!o||s.length>0;if(v>i.max&&g){c=[];break}if(d.reduce((y,C)=>y+C,0)>r.max&&!o)return d.length<e?d.length:void 0;c.push(p+t)}return c.length>0&&s.push(c),s.length>0?s:void 0}function Y8e(n,t,e,r,i){let o=0,a=0;return{pages:n.map(l=>{t==="horizontal"&&(l=q8e(l));let u=0;const c=l.map(h=>{const f=h.map(m=>(u=Math.max(m,u),e[m]));let v=0,g=0;return f.forEach(m=>{v+=m.height+r,g=Math.max(g,m.width+i)}),{indices:h,bboxes:f,columnHeight:Math.ceil(v),columnWidth:Math.ceil(g)}});let d=0,p=0;return c.forEach(h=>{d+=h.columnWidth,p=Math.max(p,h.columnHeight)}),o=Math.max(d,o),a=Math.max(p,a),{columns:c,startIndex:l[0][0],endIndex:u,pageWidth:d,pageHeight:p}}),maxPageWidth:o,maxPageHeight:a}}function q8e(n){const t=[];for(const e of n[0])t.push([]);return n.forEach((e,r)=>{e.forEach((i,o)=>{t[o][r]=i})}),t}function X8e(n,t){const e=n.length;let r=0;for(let i=0;i<e;i++)if(r+=t.fn(n[i])+t.padding,r>t.max)return e/i<2?Math.ceil(e/2):i;return e}function Z8e(n,t){const e=-t/n;return n!==0&&e>=0&&e<=1?[e]:[]}function Q8e(n,t,e){if(n===0)return Z8e(t,e);const r=t*t-4*n*e,i=[];if(r===0){const o=-t/(2*n);o>=0&&o<=1&&i.push(o)}else if(r>0){const o=Math.sqrt(r),a=(-t-o)/(2*n),s=(-t+o)/(2*n);a>=0&&a<=1&&i.push(a),s>=0&&s<=1&&i.push(s)}return i}function J8e(n,t,e,r){if(n===0)return Q8e(t,e,r);const i=t/n,o=e/n,a=r/n,s=(3*o-i*i)/9,l=(9*i*o-27*a-2*i*i*i)/54,u=s*s*s+l*l,c=1/3,d=[];if(u>=0){const p=Math.sqrt(u),h=Math.sign(l+p)*Math.pow(Math.abs(l+p),c),f=Math.sign(l-p)*Math.pow(Math.abs(l-p),c),v=Math.abs(Math.sqrt(3)*(h-f)/2),g=-c*i+(h+f);if(g>=0&&g<=1&&d.push(g),v===0){const m=-c*i-(h+f)/2;m>=0&&m<=1&&d.push(m)}}else{const p=Math.acos(l/Math.sqrt(-s*s*s)),h=c*i,f=2*Math.sqrt(-s),v=f*Math.cos(c*p)-h,g=f*Math.cos(c*(p+2*Math.PI))-h,m=f*Math.cos(c*(p+4*Math.PI))-h;v>=0&&v<=1&&d.push(v),g>=0&&g<=1&&d.push(g),m>=0&&m<=1&&d.push(m)}return d}function Aw(n,t,e,r,i,o,a,s){const l=(e-n)*(s-o)-(r-t)*(a-i);if(l===0)return null;const u=((a-i)*(t-o)-(n-i)*(s-o))/l,c=((e-n)*(t-o)-(r-t)*(n-i))/l;return u>=0&&u<=1&&c>=0&&c<=1?{x:n+u*(e-n),y:t+u*(r-t)}:null}function e9e(n,t,e,r,i,o,a,s,l,u,c,d){const p=[],h=u-d,f=c-l,v=l*(d-u)-u*(c-l),g=p5(n,e,i,a),m=p5(t,r,o,s),y=h*g[0]+f*m[0],C=h*g[1]+f*m[1],S=h*g[2]+f*m[2],w=h*g[3]+f*m[3]+v,_=J8e(y,C,S,w);for(const x of _){const E=x*x,R=x*E,P=g[0]*R+g[1]*E+g[2]*x+g[3],A=m[0]*R+m[1]*E+m[2]*x+m[3];let N;l!==c?N=(P-l)/(c-l):N=(A-u)/(d-u),N>=0&&N<=1&&p.push({x:P,y:A})}return p}function p5(n,t,e,r){return[-n+3*t-3*e+r,3*n-6*t+3*e,-3*n+3*t,n]}function Cne(n,t,e,r,i,o,a,s,l,u){const c=(u-s)/(l-a),d=s-c*a,p=Math.pow(c,2)+1,h=2*(c*(d-t)-n),f=Math.pow(n,2)+Math.pow(d-t,2)-Math.pow(e,2),v=Math.pow(h,2)-4*p*f;if(v<0)return[];const g=(-h+Math.sqrt(v))/2/p,m=(-h-Math.sqrt(v))/2/p,y=[];return[g,m].forEach(C=>{if(!(C>=Math.min(a,l)&&C<=Math.max(a,l)))return;const w=c*C+d,_=Gn(r);let x=Gn(i),E=Gn(Math.atan2(w,C));x<=_&&(x+=2*Math.PI),E<_&&(E+=2*Math.PI),o!==(E>=_&&E<=x)&&y.push({x:C,y:w})}),y}var oy=class{constructor(){this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this._closedPath=!1}isDirty(){if(this._closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length)return!0;for(let n=0;n<this.commands.length;n++)if(this.commands[n]!==this.previousCommands[n])return!0;for(let n=0;n<this.params.length;n++)if(this.params[n]!==this.previousParams[n])return!0;return!1}draw(n){const t=this.commands,e=this.params;let r=0;n.beginPath();for(const i of t)switch(i){case 0:n.moveTo(e[r++],e[r++]);break;case 1:n.lineTo(e[r++],e[r++]);break;case 3:n.bezierCurveTo(e[r++],e[r++],e[r++],e[r++],e[r++],e[r++]);break;case 2:n.arc(e[r++],e[r++],e[r++],e[r++],e[r++],e[r++]===1);break;case 4:n.closePath();break}t.length===0&&n.closePath()}moveTo(n,t){this.xy?(this.xy[0]=n,this.xy[1]=t):this.xy=[n,t],this.commands.push(0),this.params.push(n,t)}lineTo(n,t){this.xy?(this.commands.push(1),this.params.push(n,t),this.xy[0]=n,this.xy[1]=t):this.moveTo(n,t)}rect(n,t,e,r){this.moveTo(n,t),this.lineTo(n+e,t),this.lineTo(n+e,t+r),this.lineTo(n,t+r),this.closePath()}roundRect(n,t,e,r,i){i=Math.min(i,e/2,r/2),this.moveTo(n,t+i),this.arc(n+i,t+i,i,Math.PI,3*Math.PI/2),this.lineTo(n+i,t),this.lineTo(n+e-i,t),this.arc(n+e-i,t+i,i,3*Math.PI/2,2*Math.PI),this.lineTo(n+e,t+i),this.lineTo(n+e,t+r-i),this.arc(n+e-i,t+r-i,i,0,Math.PI/2),this.lineTo(n+e-i,t+r),this.lineTo(n+i,t+r),this.arc(n+ +i,t+r-i,i,Math.PI/2,Math.PI),this.lineTo(n,t+r-i),this.closePath()}arc(n,t,e,r,i,o=!1){const a=n+e*Math.cos(i),s=t+e*Math.sin(i);this.xy?(this.xy[0]=a,this.xy[1]=s):this.xy=[a,s],this.commands.push(2),this.params.push(n,t,e,r,i,o?1:0)}cubicCurveTo(n,t,e,r,i,o){this.xy||this.moveTo(n,t),this.commands.push(3),this.params.push(n,t,e,r,i,o),this.xy&&(this.xy[0]=i,this.xy[1]=o)}get closedPath(){return this._closedPath}closePath(){this.xy&&(this.xy=void 0,this.commands.push(4),this._closedPath=!0)}clear({trackChanges:n}={trackChanges:!1}){n?(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this._closedPath,this.commands=[],this.params=[]):(this.commands.length=0,this.params.length=0),this.xy=void 0,this._closedPath=!1}isPointInPath(n,t){const e=this.commands,r=this.params,i=e.length,o=-1e4,a=-1e4;let s=NaN,l=NaN,u=0,c=0,d=0;for(let p=0,h=0;p<i;p++)switch(e[p]){case 0:!isNaN(s)&&Aw(s,l,u,c,o,a,n,t)&&d++,u=r[h++],s=u,c=r[h++],l=c;break;case 1:Aw(u,c,r[h++],r[h++],o,a,n,t)&&d++,u=r[h-2],c=r[h-1];break;case 3:d+=e9e(u,c,r[h++],r[h++],r[h++],r[h++],r[h++],r[h++],o,a,n,t).length,u=r[h-2],c=r[h-1];break;case 2:const f=r[h++],v=r[h++],g=r[h++],m=r[h++],y=r[h++],C=!!r[h++];d+=Cne(f,v,g,m,y,C,o,a,n,t).length,u=f+Math.cos(y)*g,c=v+Math.sin(y)*g;break;case 4:!isNaN(s)&&Aw(s,l,u,c,o,a,n,t)&&d++;break}return d%2===1}getPoints(){const{commands:n,params:t}=this,e=[];let r=0;for(let i=0;i<n.length;i++)switch(n[i]){case 0:case 1:e.push({x:t[r++],y:t[r++]});break;case 3:r+=4,e.push({x:t[r++],y:t[r++]});break;case 2:e.push({x:t[r++],y:t[r++]}),r+=4;break}return e}};function Mt(n){const{redraw:t=3,changeCb:e,convertor:r}=n??{};return Je({redraw:t,type:"path",convertor:r,changeCb:e})}var hs=class extends qs{constructor(){super(...arguments),this.path=new oy,this._clipX=NaN,this._clipY=NaN,this._dirtyPath=!0}set clipX(n){this._clipX=n,this.dirtyPath=!0}set clipY(n){this._clipY=n,this.dirtyPath=!0}set dirtyPath(n){this._dirtyPath!==n&&(this._dirtyPath=n,n&&this.markDirty(this,3))}get dirtyPath(){return this._dirtyPath}checkPathDirty(){var n,t,e,r;this._dirtyPath||(this.dirtyPath=this.path.isDirty()||((t=(n=this.fillShadow)==null?void 0:n.isDirty())!=null?t:!1)||((r=(e=this._clipPath)==null?void 0:e.isDirty())!=null?r:!1))}isPointInPath(n,t){const e=this.transformPoint(n,t);return this.path.closedPath&&this.path.isPointInPath(e.x,e.y)}isDirtyPath(){return!1}updatePath(){}render(n){var t,e,r,i,o;const{ctx:a,forceRender:s,stats:l}=n;if(this.dirty===0&&!s){l&&(l.nodesSkipped+=this.nodeCount.count);return}if(this.computeTransformMatrix(),this.matrix.toContext(a),(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),!isNaN(this._clipX)&&!isNaN(this._clipY)&&this.clipMode!=null){a.save();const u=this.strokeWidth/2;if((t=this._clipPath)!=null||(this._clipPath=new oy),this._clipPath.clear(),this._clipPath.rect(-u,-u,this._clipX+u,this._clipY+u+u),this.clipMode==="normal"&&((e=this._clipPath)==null||e.draw(a),a.clip()),this._clipX>0&&this._clipY>0&&(this.path.draw(a),this.fillStroke(a)),this.clipMode==="punch-out"){(r=this._clipPath)==null||r.draw(a),a.clip();const{x:c=-1e4,y:d=-1e4,width:p=2e4,height:h=2e4}=(i=this.computeBBox())!=null?i:{};a.clearRect(c,d,p,h)}a.restore()}else this.path.draw(a),this.fillStroke(a);(o=this.fillShadow)==null||o.markClean(),super.render(n)}};hs.className="Path";D([Mt()],hs.prototype,"clipMode",2);D([Mt()],hs.prototype,"clipX",1);D([Mt()],hs.prototype,"clipY",1);var nl=class extends hs{constructor(){super(...arguments),this.x=0,this.y=0,this.size=12}computeBBox(){const{x:n,y:t,size:e}=this,r=e/2;return new Tt(n-r,t-r,e,e)}applyPath(n,t){const{path:e}=this;let{x:r,y:i}=this;e.clear();for(const{x:o,y:a,t:s}of t)r+=o*n,i+=a*n,s==="move"?e.moveTo(r,i):e.lineTo(r,i);e.closePath()}};D([Mt()],nl.prototype,"x",2);D([Mt()],nl.prototype,"y",2);D([Mt({convertor:Math.abs})],nl.prototype,"size",2);var Ku=class extends nl{updatePath(){const{x:n,y:t,path:e,size:r}=this,i=r/2;e.clear(),e.arc(n,t,i,0,Math.PI*2),e.closePath()}};Ku.className="Circle";var a2=class Sne extends nl{updatePath(){const t=this.size/4.2;super.applyPath(t,Sne.moves)}};a2.className="Cross";a2.moves=[{x:-1,y:0,t:"move"},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:-1,y:1},{x:-1,y:-1}];var t9e=a2,s2=class wne extends nl{updatePath(){const t=this.size/2;super.applyPath(t,wne.moves)}};s2.className="Diamond";s2.moves=[{x:0,y:-1,t:"move"},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}];var _ne=s2,xne=class extends nl{rad(n){return n/180*Math.PI}updatePath(){const{x:n,path:t,size:e,rad:r}=this,i=e/4,o=this.y+i/2;t.clear(),t.arc(n-i,o-i,i,r(130),r(330)),t.arc(n+i,o-i,i,r(220),r(50)),t.lineTo(n,o+i),t.closePath()}};xne.className="Heart";var l2=class bne extends nl{updatePath(){const t=this.size/3;super.applyPath(t,bne.moves)}};l2.className="Plus";l2.moves=[{x:-.5,y:-.5,t:"move"},{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1},{x:-1,y:0},{x:0,y:-1}];var r9e=l2,ay=class extends nl{updatePath(){const{path:n,x:t,y:e}=this,r=this.size/2;n.clear(),n.moveTo(this.align(t-r),this.align(e-r)),n.lineTo(this.align(t+r),this.align(e-r)),n.lineTo(this.align(t+r),this.align(e+r)),n.lineTo(this.align(t-r),this.align(e+r)),n.closePath()}};ay.className="Square";var u2=class Ene extends nl{updatePath(){const t=this.size*1.1;super.applyPath(t,Ene.moves)}};u2.className="Triangle";u2.moves=[{x:0,y:-.48,t:"move"},{x:.5,y:.87},{x:-1,y:0}];var Tm=u2,One={circle:Ku,cross:t9e,diamond:_ne,heart:xne,plus:r9e,square:ay,triangle:Tm},n9e=Object.keys(One);function Rne(n){return typeof n=="string"&&n9e.includes(n)}function Sh(n=ay){return Rne(n)?One[n]:typeof n=="function"?n:ay}var ii=class extends st{constructor(){super({name:"markerLabelGroup"}),this.label=new nr,this.line=new pi,this._marker=new ay,this._markerSize=15,this._spacing=8;const{marker:n,label:t,line:e}=this;t.textBaseline="middle",t.fontSize=12,t.fontFamily="Verdana, sans-serif",t.fill="black",t.y=Tn.has.textMetrics?1:0,this.append([e,n,t]),this.update()}set marker(n){this._marker!==n&&(this.removeChild(this._marker),this._marker=n,this.appendChild(n),this.update())}get marker(){return this._marker}set markerSize(n){this._markerSize!==n&&(this._markerSize=n,this.update())}get markerSize(){return this._markerSize}set spacing(n){this._spacing!==n&&(this._spacing=n,this.update())}get spacing(){return this._spacing}setSeriesStrokeOffset(n){const t=this.marker.size/2+n;this.line.x1=-t,this.line.x2=t,this.line.y1=0,this.line.y2=0,this.line.markDirtyTransform(),this.update()}update(){this.marker.size=this.markerSize;const n=this.line.visible?this.line.x2:-1/0,t=this.markerSize/2;this.label.x=Math.max(n,t)+this.spacing}render(n){this.marker.opacity=this.opacity,this.label.opacity=this.opacity,this.line.opacity=this.opacity,super.render(n)}};ii.className="MarkerLabel";D([Hr("label")],ii.prototype,"text",2);D([Hr("label")],ii.prototype,"fontStyle",2);D([Hr("label")],ii.prototype,"fontWeight",2);D([Hr("label")],ii.prototype,"fontSize",2);D([Hr("label")],ii.prototype,"fontFamily",2);D([Hr("label","fill")],ii.prototype,"color",2);D([Hr("marker","fill")],ii.prototype,"markerFill",2);D([Hr("marker","stroke")],ii.prototype,"markerStroke",2);D([Hr("marker","strokeWidth")],ii.prototype,"markerStrokeWidth",2);D([Hr("marker","fillOpacity")],ii.prototype,"markerFillOpacity",2);D([Hr("marker","strokeOpacity")],ii.prototype,"markerStrokeOpacity",2);D([Hr("marker","visible")],ii.prototype,"markerVisible",2);D([Hr("line","stroke")],ii.prototype,"lineStroke",2);D([Hr("line","strokeWidth")],ii.prototype,"lineStrokeWidth",2);D([Hr("line","strokeOpacity")],ii.prototype,"lineStrokeOpacity",2);D([Hr("line","lineDash")],ii.prototype,"lineLineDash",2);D([Hr("line","visible")],ii.prototype,"lineVisible",2);var Ly=class extends Fr{constructor(){super(...arguments),this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};D([k(tr)],Ly.prototype,"color",2);D([k(gh,{optional:!0})],Ly.prototype,"fontStyle",2);D([k(mh,{optional:!0})],Ly.prototype,"fontWeight",2);D([k(Le)],Ly.prototype,"fontSize",2);D([k(Ne)],Ly.prototype,"fontFamily",2);var $c=class extends Fr{constructor(){super(...arguments),this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}};D([k(Le)],$c.prototype,"size",2);D([k(tr,{optional:!0})],$c.prototype,"fill",2);D([k(_r,{optional:!0})],$c.prototype,"fillOpacity",2);D([k(tr,{optional:!0})],$c.prototype,"stroke",2);D([k(Le)],$c.prototype,"strokeWidth",2);D([k(_r)],$c.prototype,"strokeOpacity",2);var XD=class extends Fr{constructor(n){super(),this.parent=n,this.shape=Tm,this.size=15,this.padding=8}};D([Ci({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],XD.prototype,"shape",2);D([k(Le)],XD.prototype,"size",2);D([k(Le)],XD.prototype,"padding",2);var Lv=class extends Fr{constructor(n,t,e,r){super(),this.chartUpdateCallback=n,this.pageUpdateCallback=t,this.regionManager=e,this.cursorManager=r,this.id=sc(this),this.marker=new XD(this),this.activeStyle=new $c,this.inactiveStyle=new $c,this.highlightStyle=new $c,this.label=new Ly,this.group=new st({name:"pagination"}),this.labelNode=new nr,this.destroyFns=[],this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this._nextButton=new Tm,this._previousButton=new Tm,this.labelNode.setProperties({textBaseline:"middle",fontSize:12,fontFamily:"Verdana, sans-serif",fill:"black",y:Tn.has.textMetrics?1:0}),this.group.append([this.nextButton,this.previousButton,this.labelNode]);const i=this.regionManager.addRegion("pagination",this.group);this.destroyFns.push(i.addListener("click",o=>this.onPaginationClick(o)),i.addListener("hover",o=>this.onPaginationMouseMove(o))),this.update(),this.updateMarkers()}destroy(){this.destroyFns.forEach(n=>n())}set visible(n){this._visible=n,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(n){this._enabled=n,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(n){switch(this._orientation=n,n){case"horizontal":{this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;break}case"vertical":default:this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}}get orientation(){return this._orientation}set nextButton(n){this._nextButton!==n&&(this.group.removeChild(this._nextButton),this._nextButton=n,this.group.appendChild(n))}get nextButton(){return this._nextButton}set previousButton(n){this._previousButton!==n&&(this.group.removeChild(this._previousButton),this._previousButton=n,this.group.appendChild(n))}get previousButton(){return this._previousButton}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){const{size:n,padding:t}=this.marker;this.nextButton.size=n,this.previousButton.size=n,this.labelNode.x=n/2+t}updateNextButtonPosition(){const n=this.labelNode.computeBBox();this.nextButton.translationX=n.x+n.width+this.marker.size/2+this.marker.padding}updateLabel(){const{currentPage:n,totalPages:t,labelNode:e,label:{color:r,fontStyle:i,fontWeight:o,fontSize:a,fontFamily:s}}=this;e.text=`${n+1} / ${t}`,e.fill=r,e.fontStyle=i,e.fontWeight=o,e.fontSize=a,e.fontFamily=s}updateMarkers(){const{nextButton:n,previousButton:t,nextButtonDisabled:e,previousButtonDisabled:r,activeStyle:i,inactiveStyle:o,highlightStyle:a,highlightActive:s}=this,l=(u,c)=>c?o:u===s?a:i;this.updateMarker(n,l("next",e)),this.updateMarker(t,l("previous",r))}updateMarker(n,t){var e;const{size:r}=this.marker;n.size=r,n.fill=t.fill,n.fillOpacity=(e=t.fillOpacity)!=null?e:1,n.stroke=t.stroke,n.strokeWidth=t.strokeWidth,n.strokeOpacity=t.strokeOpacity}enableOrDisableButtons(){const{currentPage:n,totalPages:t}=this,e=t===0,r=n===t-1,i=n===0;this.nextButtonDisabled=r||e,this.previousButtonDisabled=i||e}nextButtonContainsPoint(n,t){return!this.nextButtonDisabled&&this.nextButton.containsPoint(n,t)}previousButtonContainsPoint(n,t){return!this.previousButtonDisabled&&this.previousButton.containsPoint(n,t)}onPaginationClick(n){const{offsetX:t,offsetY:e}=n;this.nextButtonContainsPoint(t,e)?(this.incrementPage(),this.onPaginationChanged(),n.consume()):this.previousButtonContainsPoint(t,e)&&(this.decrementPage(),this.onPaginationChanged(),n.consume())}onPaginationMouseMove(n){const{offsetX:t,offsetY:e}=n;this.nextButtonContainsPoint(t,e)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="next"):this.previousButtonContainsPoint(t,e)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="previous"):(this.cursorManager.updateCursor(this.id),this.highlightActive=void 0),this.updateMarkers(),this.chartUpdateCallback(6)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){const n=Sh(this.marker.shape||Tm);this.previousButton=new n,this.nextButton=new n,this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(6)}attachPagination(n){n.append(this.group)}computeBBox(){return this.group.computeBBox()}};Lv.className="Pagination";D([k(ct)],Lv.prototype,"marker",2);D([k(ct)],Lv.prototype,"activeStyle",2);D([k(ct)],Lv.prototype,"inactiveStyle",2);D([k(ct)],Lv.prototype,"highlightStyle",2);D([k(ct)],Lv.prototype,"label",2);var wh=class extends Fr{constructor(){super(...arguments),this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.formatter=void 0}};D([k(Le,{optional:!0})],wh.prototype,"maxLength",2);D([k(tr)],wh.prototype,"color",2);D([k(gh,{optional:!0})],wh.prototype,"fontStyle",2);D([k(mh,{optional:!0})],wh.prototype,"fontWeight",2);D([k(Le)],wh.prototype,"fontSize",2);D([k(Ne)],wh.prototype,"fontFamily",2);D([k(el,{optional:!0})],wh.prototype,"formatter",2);var Fy=class extends Fr{constructor(){super(...arguments),this.size=15,this.padding=8,this.enabled=!0}};D([Ay(n=>{var t;return(t=n.parent)==null?void 0:t.onMarkerShapeChange()})],Fy.prototype,"shape",2);D([k(Le)],Fy.prototype,"size",2);D([k(Le)],Fy.prototype,"padding",2);D([k(Le,{optional:!0})],Fy.prototype,"strokeWidth",2);D([k(St)],Fy.prototype,"enabled",2);var c2=class extends Fr{};D([k(Le,{optional:!0})],c2.prototype,"strokeWidth",2);D([k(Le,{optional:!0})],c2.prototype,"length",2);var Od=class extends Fr{constructor(){super(...arguments),this.paddingX=16,this.paddingY=8,this.toggleSeriesVisible=!0,this.showSeriesStroke=!1,this.marker=new Fy,this.label=new wh,this.line=new c2}};D([k(Le,{optional:!0})],Od.prototype,"maxWidth",2);D([k(Le)],Od.prototype,"paddingX",2);D([k(Le)],Od.prototype,"paddingY",2);D([k(St)],Od.prototype,"toggleSeriesVisible",2);D([k(St)],Od.prototype,"showSeriesStroke",2);D([k(ct)],Od.prototype,"marker",2);D([k(ct)],Od.prototype,"label",2);D([k(ct)],Od.prototype,"line",2);var d2=class extends Fr{};D([k(el,{optional:!0})],d2.prototype,"legendItemClick",2);D([k(el,{optional:!0})],d2.prototype,"legendItemDoubleClick",2);var wa=class extends Fr{constructor(n){super(),this.ctx=n,this.id=sc(this),this.group=new st({name:"legend",layer:!0,zIndex:9}),this.itemSelection=rn.select(this.group,ii),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.truncatedItems=new Set,this._data=[],this.item=new Od,this.listeners=new d2,this.enabled=!0,this.position="bottom",this.spacing=20,this.characterWidths=new Map,this.destroyFns=[],this.size=[0,0],this._visible=!0,this.item.marker.parent=this,this.pagination=new Lv(r=>n.updateService.update(r),r=>this.updatePageNumber(r),n.regionManager,n.cursorManager),this.pagination.attachPagination(this.group),this.item.marker.parent=this;const t=9,e=n.regionManager.addRegion("legend",this.group);this.destroyFns.push(e.addListener("click",r=>this.checkLegendClick(r),t),e.addListener("dblclick",r=>this.checkLegendDoubleClick(r),t),e.addListener("hover",r=>this.handleLegendMouseMove(r)),e.addListener("leave",r=>this.handleLegendMouseExit(r)),n.layoutService.addListener("start-layout",r=>this.positionLegend(r.shrinkRect)),()=>this.detachLegend())}set data(n){this._data=n,this.updateGroupVisibility()}get data(){return this._data}destroy(){this.destroyFns.forEach(n=>n()),this.pagination.destroy()}onMarkerShapeChange(){this.itemSelection.clear(),this.group.markDirty(this.group,2)}getOrientation(){if(this.orientation!==void 0)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}}getCharacterWidths(n){const{characterWidths:t}=this;if(t.has(n))return t.get(n);const e={"...":Tn.getTextSize("...",n).width};return t.set(n,e),e}set visible(n){this._visible=n,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(n){n.append(this.group)}detachLegend(){var n;(n=this.group.parent)==null||n.removeChild(this.group)}getItemLabel(n){const{ctx:{callbackCache:t}}=this,{formatter:e}=this.item.label;return e?t.call(e,{itemId:n.itemId,value:n.label.text,seriesId:n.seriesId}):n.label.text}performLayout(n,t){const{paddingX:e,paddingY:r,label:i,maxWidth:o,marker:{size:a,padding:s,shape:l},label:{maxLength:u=1/0,fontStyle:c,fontWeight:d,fontSize:p,fontFamily:h},line:f,showSeriesStroke:v}=this.item,g=[...this.data];this.reverseOrder&&g.reverse(),this.itemSelection.update(g);const m=[],y=Zp(i),S=o??n*.8,w=a+s+e;if(this.itemSelection.each((I,G)=>{var V,H,j;const B=Sh(l??G.marker.shape),$=(V=G.marker.enabled)!=null?V:this.item.marker.enabled;I.marker&&I.marker instanceof B||(I.marker=new B),I.markerSize=a,I.spacing=s,I.fontStyle=c,I.fontWeight=d,I.fontSize=p,I.fontFamily=h;const W=(H=G.itemId)!=null?H:G.id,Y=this.getItemLabel(G),Z=(Y??"<unknown>").replace(/\r?\n/g," ");I.text=this.truncate(Z,u,S,w,y,W),v&&G.line!==void 0?(I.lineVisible=!0,I.markerVisible=$,I.setSeriesStrokeOffset((j=f.length)!=null?j:5)):(I.lineVisible=!1,I.markerVisible=!0),m.push(I.computeBBox())}),n=Math.max(1,n),t=Math.max(1,t),!isFinite(n))return!1;const _=this.size,x=this.oldSize;_[0]=n,_[1]=t,(_[0]!==x[0]||_[1]!==x[1])&&(x[0]=_[0],x[1]=_[1]);const{pages:E,maxPageHeight:R,maxPageWidth:P}=this.updatePagination(m,n,t);this.pages=E,this.maxPageSize=[P-e,R-r];const A=this.pagination.currentPage,N=this.pages[A];if(this.pages.length<1||!N){this.visible=!1;return}this.visible=!0,this.updatePositions(A),this.update()}truncate(n,t,e,r,i,o){const a="...",s=n.split("");let l=!1;if(n.length>t&&(n=`${n.substring(0,t)}`,l=!0),Math.floor(r+Tn.getTextSize(n,i).width)>e){let c="";const d=this.getCharacterWidths(i);let p=r+d[a];for(const h of s){if(d[h]||(d[h]=Tn.getTextSize(h,i).width),p+=d[h],p>e)break;c+=h}n=c,l=!0}return l?(n+=a,this.truncatedItems.add(o)):this.truncatedItems.delete(o),n}updatePagination(n,t,e){const r=this.getOrientation(),i=Math.min(this.paginationTrackingIndex,n.length);this.pagination.orientation=r,this.pagination.translationX=0,this.pagination.translationY=0;const{pages:o,maxPageHeight:a,maxPageWidth:s,paginationBBox:l,paginationVertical:u}=this.calculatePagination(n,t,e),c=o.findIndex(y=>y.endIndex>=i);this.pagination.currentPage=rr(0,c,o.length-1);const{paddingX:d,paddingY:p}=this.item,h=8,f=s-d,v=a-p;let g=0,m=-l.y-this.item.marker.size/2;return u?m+=v+h:(g+=-l.x+f+h,m+=(v-l.height)/2),this.pagination.translationX=g,this.pagination.translationY=m,this.pagination.update(),this.pagination.updateMarkers(),{maxPageHeight:a,maxPageWidth:s,pages:o}}calculatePagination(n,t,e){var r,i,o;const{paddingX:a,paddingY:s}=this.item,l=this.getOrientation(),u=["left","right"].includes(this.position);let c=this.pagination.computeBBox(),d=new Tt(0,0,0,0),p=[],h=0,f=0,v=0;const g=y=>{const{width:C,height:S}=y;return C===c.width&&S===c.height},m=this.maxWidth!==void 0||this.maxHeight!==void 0;do{if(v++>10){Ue.warn("unable to find stable legend layout.");break}c=d;const y=t-(u?0:c.width),C=e-(u?c.height:0),S=U8e({orientation:l,bboxes:n,maxHeight:C,maxWidth:y,itemPaddingY:s,itemPaddingX:a,forceResult:m});p=(r=S==null?void 0:S.pages)!=null?r:[],h=(i=S==null?void 0:S.maxPageWidth)!=null?i:0,f=(o=S==null?void 0:S.maxPageHeight)!=null?o:0;const w=p.length;if(this.pagination.visible=w>1,this.pagination.totalPages=w,this.pagination.update(),d=this.pagination.computeBBox(),!this.pagination.visible)break}while(!g(d));return{maxPageWidth:h,maxPageHeight:f,pages:p,paginationBBox:c,paginationVertical:u}}updatePositions(n=0){const{item:{paddingY:t},itemSelection:e,pages:r}=this;if(r.length<1||!r[n])return;const{columns:i,startIndex:o,endIndex:a}=r[n];let s=0,l=0;const u=i.length,c=i[0].indices.length,d=this.getOrientation()==="horizontal",p=i[0].bboxes[0].height+t,h=[];e.each((f,v,g)=>{var m,y;if(g<o||g>a){f.visible=!1;return}const C=g-o;let S=0,w=0;d?(S=C%u,w=Math.floor(C/u)):(S=Math.floor(C/c),w=C%c),f.visible=!0;const _=i[S];_&&(l=p*w,s=(m=h[w])!=null?m:0,h[w]=((y=h[w])!=null?y:0)+_.columnWidth,f.translationX=Math.floor(s),f.translationY=Math.floor(l))})}updatePageNumber(n){const{pages:t}=this,{startIndex:e,endIndex:r}=t[n];e===0?this.paginationTrackingIndex=0:n===t.length-1?this.paginationTrackingIndex=r:this.paginationTrackingIndex=Math.floor((e+r)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(n),this.ctx.updateService.update(6)}update(){const{label:{color:n},marker:t,line:e,showSeriesStroke:r}=this.item;this.itemSelection.each((i,o)=>{var a,s;const l=o.marker;i.markerFill=l.fill,i.markerStroke=l.stroke,i.markerStrokeWidth=(a=t.strokeWidth)!=null?a:Math.min(2,l.strokeWidth),i.markerFillOpacity=l.fillOpacity,i.markerStrokeOpacity=l.strokeOpacity,i.opacity=o.enabled?1:.5,i.color=n;const{line:u}=o;r&&u!==void 0&&(i.lineStroke=u.stroke,i.lineStrokeOpacity=u.strokeOpacity,i.lineStrokeWidth=(s=e.strokeWidth)!=null?s:Math.min(2,u.strokeWidth),i.lineLineDash=u.lineDash)})}getDatumForPoint(n,t){const e=[],r={dist:1/0,datum:void 0};for(const o of this.group.children){if(!o.visible||!(o instanceof ii))continue;const a=o.computeBBox();if(a.grow(this.item.paddingX/2,"horizontal"),a.grow(this.item.paddingY/2,"vertical"),a.containsPoint(n,t))return o.datum;const s=n-a.x-this.item.paddingX/2,l=t-a.y-this.item.paddingY/2,u=It(s,2)+It(l,2);s>=0&&l>=0&&u<r.dist&&(r.dist=u,r.datum=o.datum),e.push(a)}if(Tt.merge(e).containsPoint(n,t))return r.datum}computePagedBBox(){const n=this.group.computeBBox();if(this.pages.length<=1)return n;const[t,e]=this.maxPageSize;return n.height=Math.max(e,n.height),n.width=Math.max(t,n.width),n}checkLegendClick(n){const{listeners:{legendItemClick:t},ctx:{chartService:e,highlightManager:r},item:{toggleSeriesVisible:i},preventHidingAll:o}=this,a=this.getDatumForPoint(n.offsetX,n.offsetY);if(!a)return;const{id:s,itemId:l,enabled:u}=a,c=e.series.find(p=>p.id===s);if(!c)return;n.consume();let d=u;i&&(d=!u,o&&!d&&e.series.flatMap(h=>h.getLegendData("category")).filter(h=>h.enabled).length<2&&(d=!0),this.ctx.chartEventManager.legendItemClick(c,l,d,a.legendItemName)),d?r.updateHighlight(this.id,{series:c,itemId:l,datum:void 0}):r.updateHighlight(this.id),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),t==null||t({type:"click",enabled:d,itemId:l,seriesId:c.id})}checkLegendDoubleClick(n){var t;const{listeners:{legendItemDoubleClick:e},ctx:{chartService:r},item:{toggleSeriesVisible:i}}=this;if(r.mode==="integrated")return;const o=this.getDatumForPoint(n.offsetX,n.offsetY);if(!o)return;const{id:a,itemId:s,seriesId:l}=o,u=r.series.find(c=>c.id===a);if(u){if(n.consume(),i){const c=r.series.flatMap(h=>h.getLegendData("category")),d=c.filter(h=>h.enabled).length,p=c.find(h=>h.itemId===s&&h.seriesId===l);this.ctx.chartEventManager.legendItemDoubleClick(u,s,(t=p==null?void 0:p.enabled)!=null?t:!1,d,p==null?void 0:p.legendItemName)}this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),e==null||e({type:"dblclick",enabled:!0,itemId:s,seriesId:u.id})}}handleLegendMouseMove(n){var t;const{enabled:e,item:{toggleSeriesVisible:r},listeners:i}=this;if(!e)return;const{offsetX:o,offsetY:a}=n;n.consume();const s=this.getDatumForPoint(o,a);if(s===void 0){this.ctx.cursorManager.updateCursor(this.id),this.ctx.highlightManager.updateHighlight(this.id);return}const l=s?this.ctx.chartService.series.find(u=>u.id===(s==null?void 0:s.id)):void 0;s&&this.truncatedItems.has((t=s.itemId)!=null?t:s.id)?this.ctx.tooltipManager.updateTooltip(this.id,{offsetX:o,offsetY:a,lastPointerEvent:n,showArrow:!1,addCustomClass:!1},A0({content:this.getItemLabel(s)})):this.ctx.tooltipManager.removeTooltip(this.id),(r||i.legendItemClick!=null||i.legendItemDoubleClick!=null)&&this.ctx.cursorManager.updateCursor(this.id,"pointer"),s!=null&&s.enabled&&l?this.ctx.highlightManager.updateHighlight(this.id,{series:l,itemId:s==null?void 0:s.itemId,datum:void 0}):this.ctx.highlightManager.updateHighlight(this.id)}handleLegendMouseExit(n){this.ctx.cursorManager.updateCursor(this.id),this.ctx.highlightManager.updateHighlight(this.id),this.ctx.tooltipManager.removeTooltip(this.id)}positionLegend(n){const t=n.clone();if(!this.enabled||!this.data.length)return{shrinkRect:t};const[e,r]=this.calculateLegendDimensions(n);this.group.translationX=0,this.group.translationY=0,this.performLayout(e,r);const i=this.computePagedBBox(),o=()=>{switch(this.position){case"top":case"left":return 0;case"bottom":return n.height-i.height;case"right":default:return n.width-i.width}};if(this.visible){let a,s;switch(this.position){case"top":case"bottom":a=(n.width-i.width)/2,s=o(),t.shrink(i.height,this.position);break;case"left":case"right":default:a=o(),s=(n.height-i.height)/2,t.shrink(i.width,this.position)}this.group.translationX=Math.floor(-i.x+n.x+a),this.group.translationY=Math.floor(-i.y+n.y+s)}if(this.visible&&this.enabled&&this.data.length){const a=this.spacing;t.shrink(a,this.position);const s=i.clone();s.x+=this.group.translationX,s.y+=this.group.translationY,this.ctx.tooltipManager.updateExclusiveRect(this.id,s)}else this.ctx.tooltipManager.updateExclusiveRect(this.id);return{shrinkRect:t}}calculateLegendDimensions(n){const{width:t,height:e}=n,r=t/e,i=.5,o=.2,a=.25;let s,l;switch(this.position){case"top":case"bottom":const u=r<1?Math.min(i,o*(1/r)):o;s=this.maxWidth?Math.min(this.maxWidth,t):t,l=this.maxHeight?Math.min(this.maxHeight,e):Math.round(e*u);break;case"left":case"right":default:const c=r>1?Math.min(i,a*r):a;s=this.maxWidth?Math.min(this.maxWidth,t):Math.round(t*c),l=this.maxHeight?Math.min(this.maxHeight,e):e}return[s,l]}};wa.className="Legend";D([k(ct)],wa.prototype,"pagination",2);D([k(ct)],wa.prototype,"item",2);D([k(ct)],wa.prototype,"listeners",2);D([Ay(n=>n.updateGroupVisibility()),k(St)],wa.prototype,"enabled",2);D([k(Hj)],wa.prototype,"position",2);D([k(Le,{optional:!0})],wa.prototype,"maxWidth",2);D([k(Le,{optional:!0})],wa.prototype,"maxHeight",2);D([k(St,{optional:!0})],wa.prototype,"reverseOrder",2);D([k(Wn(["horizontal","vertical"],"an orientation"),{optional:!0})],wa.prototype,"orientation",2);D([k(St,{optional:!0})],wa.prototype,"preventHidingAll",2);D([k(Le)],wa.prototype,"spacing",2);var i9e=["top","right","bottom","left"],Tne=["category","grouped-category","number","log","time"];function o9e(n){return Tne.includes(n.type)}function a9e(n){return Tne.includes(n.type)}function s9e(n){return typeof n=="string"&&i9e.includes(n)}var l9e=class{constructor(){this.result=[],this.valid=[],this.invalid=[]}push(n,t){const{result:e,valid:r,invalid:i}=this;a9e(t)&&(s9e(t.position)?r.push(n):i.push(n)),e.push(n)}guessInvalidPositions(){const n=this.valid.filter(e=>o9e(e)).map(e=>e.position).filter(e=>e!==void 0),t=["top","right","bottom","left"];for(const e of this.invalid){let r=t.pop();for(;n.includes(r)&&r!==void 0;)r=t.pop();if(r===void 0)break;e.position=r}return this.result}};function u9e(n,t,e){var r,i,o;const a=["direction","xKey","yKey","sizeKey","angleKey","radiusKey","normalizedTo"],s=(f,v)=>{const g=[f];for(const m of a)m in v&&v[m]!=null&&g.push(`${m}=${v[m]}`);return g.join(";")},l=new Map;let u=0;for(const f of n){const v=s(f.type,f.properties);l.has(v)||l.set(v,[]),(r=l.get(v))==null||r.push([f,u++])}const c=new Map;for(const f of t){const v=s(f.type,f);c.has(v)||c.set(v,[]),(i=c.get(v))==null||i.push(f)}if(![...l.keys()].some(f=>c.has(f)))return{status:"no-overlap",oldKeys:l.keys(),newKeys:c.keys()};const p=[];let h=-1;for(const[f,v]of c.entries())for(const g of v){h++;const m=l.get(f);if(m==null||m.length<1){p.push({opts:g,idx:h,status:"add"}),l.delete(f);continue}const[y,C]=m.shift(),S=(o=e==null?void 0:e[C])!=null?o:{},w=ss(S,g??{});w?p.push({opts:g,series:y,diff:w,idx:C,status:"update"}):p.push({opts:g,series:y,idx:C,status:"no-op"}),m.length===0&&l.delete(f)}for(const f of l.values())for(const[v,g]of f)p.push({series:v,idx:g,status:"remove"});return{status:"overlap",changes:p}}var Mc="ag-chart-overlay",bN="ag-chart-dark-overlay",Pm=class{constructor(n,t,e){this.className=n,this.parentElement=t,this.animationManager=e,this.darkTheme=!1}show(n){var t,e;this.element||(this.element=this.createElement("div"),this.element.classList.add(this.className,Mc)),this.element.classList.toggle(bN,this.darkTheme);const{element:r}=this;if(r.style.position="absolute",r.style.left=`${n.x}px`,r.style.top=`${n.y}px`,r.style.width=`${n.width}px`,r.style.height=`${n.height}px`,this.renderer)r.innerHTML=this.renderer();else{const i=this.createElement("div");i.style.alignItems="center",i.style.boxSizing="border-box",i.style.display="flex",i.style.justifyContent="center",i.style.margin="8px",i.style.height="100%",i.style.font="12px Verdana, sans-serif",i.innerText=(t=this.text)!=null?t:"No data to display",r.replaceChildren(i),this.animationManager.animate({from:0,to:1,phase:"add",id:"overlay",groupId:"opacity",onUpdate(o){r.style.opacity=String(o)},onStop(){r.style.opacity="1"}})}(e=this.parentElement)==null||e.append(r)}hide(){if(!this.element)return;const n=this.element;this.animationManager.animate({from:1,to:0,phase:"remove",id:"overlay",groupId:"opacity",onUpdate(t){n.style.opacity=String(t)},onStop(){n.remove()}}),this.element=void 0}createElement(n,t){return this.parentElement.ownerDocument.createElement(n,t)}};D([k(el,{optional:!0})],Pm.prototype,"renderer",2);D([k(Ne,{optional:!0})],Pm.prototype,"text",2);D([k(St)],Pm.prototype,"darkTheme",2);var c9e=`
.${Mc} {
    color: #181d1f;
}

.${Mc}.${bN} {
    color: #ffffff;
}

.${Mc}--loading {
    color: rgb(140, 140, 140); /* DEFAULT_MUTED_LABEL_COLOUR */
}

.${Mc}__loading-background {
    background: white; /* DEFAULT_BACKGROUND_FILL */
}

.${Mc}.${bN} .${Mc}__loading-background {
    background: #192232; /* DEFAULT_DARK_BACKGROUND_FILL */
}
`,Pne=class EN{constructor(t,e){this.loading=new Pm("ag-chart-loading-overlay",t,e),this.loading.text="Loading data...",this.loading.renderer=()=>this.renderLoadingSpinner(t,e),this.noData=new Pm("ag-chart-no-data-overlay",t,e),this.noVisibleSeries=new Pm("ag-chart-no-visible-series",t,e),this.noVisibleSeries.text="No visible series",EN.overlayDocuments.indexOf(t.ownerDocument)<0&&(zD(t.ownerDocument,c9e),EN.overlayDocuments.push(t.ownerDocument))}destroy(){this.loading.hide(),this.noData.hide(),this.noVisibleSeries.hide()}renderLoadingSpinner(t,e){var r;const i=this.createElement(t,"div");i.className=`${Mc}--loading`,i.style.display="flex",i.style.alignItems="center",i.style.justifyContent="center",i.style.flexDirection="column",i.style.height="100%",i.style.boxSizing="border-box",i.style.font="13px Verdana, sans-serif",i.style.userSelect="none",i.style.animation=`ag-charts-loading ${kj.animationDuration*e.defaultDuration}ms linear 50ms both`;const o=this.createElement(i,"span");o.style.width="45px",o.style.height="40px",o.style.backgroundImage=`${["linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)"].join("")}`,o.style.backgroundSize="10px 400%",o.style.backgroundRepeat="no-repeat",o.style.animation="ag-charts-loading-matrix 1s infinite linear";const a=this.createElement(i,"p");a.style.marginTop="1em",a.innerText=(r=this.loading.text)!=null?r:"Loading data...";const s=this.createElement(t,"div");s.className=`${Mc}__loading-background`,s.style.position="absolute",s.style.top="0",s.style.right="0",s.style.bottom="0",s.style.left="0",s.style.opacity="0.5",s.style.zIndex="-1";const l=this.createElement(i,"style");return l.innerText=["@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }","@keyframes ag-charts-loading-matrix {","0% { background-position: 0% 0%, 50% 0%, 100% 0%; }","100% { background-position: 0% 100%, 50% 100%, 100% 100%; }","}"].join(" "),i.replaceChildren(l,o,a,s),i.outerHTML}createElement(t,e,r){return t.ownerDocument.createElement(e,r)}};Pne.overlayDocuments=[];var d9e=Pne;function ZD(n,t=[0,0]){for(const e of n)typeof e=="number"&&(e<0&&(t[0]+=e),e>0&&(t[1]+=e));return t}function p9e(n,t,e){return{id:t,scopes:[n.id],matchGroupIds:[e],type:"aggregate",aggregateFunction:i=>ZD(i)}}function Dne(n,t,e){return{id:t,scopes:[n.id],type:"aggregate",matchGroupIds:e?[e]:void 0,aggregateFunction:r=>ZD(r),groupAggregateFunction:(r,i=[0,0])=>{var o,a;return i[0]+=(o=r==null?void 0:r[0])!=null?o:0,i[1]+=(a=r==null?void 0:r[1])!=null?a:0,i}}}function Ane(n,t,e){return{id:t,scopes:[n.id],matchGroupIds:[e],type:"aggregate",aggregateFunction:i=>KS(i)}}function h9e(n,t){return{id:t,scopes:[n.id],type:"aggregate",aggregateFunction:()=>[0,1]}}function ON(n,t){return{id:t,scopes:[n.id],type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:(e,r=[0,0])=>{var i,o;return r[0]+=(i=e==null?void 0:e[0])!=null?i:0,r[1]+=(o=e==null?void 0:e[1])!=null?o:0,r}}}function f9e(n,t,e){return{id:t,scopes:[n.id],matchGroupIds:[e],type:"aggregate",aggregateFunction:i=>ZD(i).map(o=>o/i.length)}}function Mne(n,t,e){return{id:t,scopes:[n.id],matchGroupIds:e?[e]:void 0,type:"aggregate",aggregateFunction:i=>ZD(i),groupAggregateFunction:(i,o=[0,0,-1])=>{var a,s;return o[0]+=(a=i==null?void 0:i[0])!=null?a:0,o[1]+=(s=i==null?void 0:i[1])!=null?s:0,o[2]++,o},finalFunction:(i=[0,0,0])=>{const o=i[0]+i[1];return o>=0?[0,o/i[2]]:[o/i[2],0]}}}function RN(n,t,e,r){const i={id:t,scopes:[n.id],matchGroupIds:r?[r]:void 0,type:"aggregate",aggregateFunction:(o,a=[])=>{const s=a[1]-a[0];return e.aggregateFunction(o).map(l=>l/s)}};return e.groupAggregateFunction&&(i.groupAggregateFunction=e.groupAggregateFunction),i}function Lne(n){return()=>{let t=0;return e=>fr(e)?(t+=n?Math.max(0,e):e,t):e}}function Fne(){return()=>{let n=0;return t=>{if(!fr(t))return t;const e=n;return n+=t,e}}}var QC=new Map;function gT(n,t){var e,r,i;const o=JSON.stringify(n,null,0);return QC.has(t)||QC.set(t,new Map),(e=QC.get(t))!=null&&e.has(o)||(r=QC.get(t))==null||r.set(o,t(n)),(i=QC.get(t))==null?void 0:i.get(o)}var TN={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let n=NaN;return(t=1/0,e)=>{const r=e.keys[0],i=Math.abs(r-n);return n=r,!isNaN(i)&&i>0&&i<t?i:t}}},v9e={type:"processor",property:"aggValuesExtent",calculate:n=>{var t,e,r,i;const o=[...(e=(t=n.domain.aggValues)==null?void 0:t[0])!=null?e:[0,0]];for(const[a,s]of(i=(r=n.domain.aggValues)==null?void 0:r.slice(1))!=null?i:[])a<o[0]&&(o[0]=a),s>o[1]&&(o[1]=s);return o}},Ine={type:"processor",property:"sortedGroupDomain",calculate:({domain:{groups:n}})=>{if(n!=null)return[...n].sort((t,e)=>{for(let r=0;r<t.length;r++){const i=t[r]-e[r];if(i!==0)return i}return 0})}};function g9e({normaliseTo:n,mode:t}){const e=(r,i)=>{const o=r*n/i;return o>=0?Math.min(n,o):Math.max(-n,o)};return()=>()=>(r,i)=>{const o=[0,0];for(const s of i){const l=r[s],u=l<0?0:1;t==="sum"?o[u]+=l:u===0?o[u]=Math.min(o[u],l):o[u]=Math.max(o[u],l)}const a=Math.max(Math.abs(o[0]),o[1]);for(const s of i)r[s]=e(r[s],a)}}function mT(n,t,e,r="sum"){return{scopes:[n.id],type:"group-value-processor",matchGroupIds:t,adjust:gT({normaliseTo:e,mode:r},g9e)}}function m9e({normaliseTo:n,zeroDomain:t,rangeMin:e,rangeMax:r}){const i=n[1]-n[0],o=(a,s,l)=>{const u=n[0]+(a-s)/l*i;return l===0?t:u>=n[1]?n[1]:u<n[0]?n[0]:u};return()=>(a,s)=>{let[l,u]=a.domain.values[s];e!=null&&(l=e),r!=null&&(u=r);const c=u-l;a.domain.values[s]=[n[0],n[1]];for(const d of a.data){let p=d.values;a.type==="ungrouped"&&(p=[p]);for(const h of p)h[s]=o(h[s],l,c)}}}function I0(n,t,e,r,i,o){return{scopes:[n.id],type:"property-value-processor",property:t,adjust:gT({normaliseTo:e,rangeMin:i,rangeMax:o,zeroDomain:r},m9e)}}function Iy(n,t=[]){return{type:"processor",scopes:[n.id],property:"animationValidation",calculate(e){var r;const{keys:i,values:o}=e.defs,{input:a,data:s}=e;let l=!0,u=!0;const c=[];for(let p=0;p<o.length;p++)(r=o[p].scopes)!=null&&r.some(h=>h===n.id)&&t.some(h=>o[p].id===h)&&c.push([p,o[p]]);const d=(p,h,f)=>{var v;if(h.valueType==="category"){const m=e.domain[f][p];l&&(l=m.length===a.count);return}let g=(v=s[0])==null?void 0:v[f][p];for(let m=1;(l||u)&&m<s.length;m++){const y=s[m][f][p];u&&(u=g<=y),l&&(l=g!==y),g=y}};for(let p=0;(l||u)&&p<i.length;p++)d(p,i[p],"keys");for(let p=0;(l||u)&&p<c.length;p++){const[h,f]=c[p];d(h,f,"values")}return{uniqueKeys:l,orderedKeys:u}}}}function y9e({mode:n,separateNegative:t}){return()=>()=>(e,r)=>{const i=[0,0];for(const o of r){const a=e[o],s=G_(a)&&t?0:1;fr(a)&&(n==="normal"&&(i[s]+=a),e[o]=i[s],n==="trailing"&&(i[s]+=a))}}}function C9e({mode:n,sum:t}){return()=>{const e=[];let r=!0;return()=>(i,o)=>{let a=0;for(const s of o){const l=i[s],u=r&&t==="current"?0:e[s];e[s]=l;const c=t==="current"?l:u;if(!fr(l)||!fr(u)){i[s]=a;continue}n==="normal"&&(a+=c),i[s]=a,n==="trailing"&&(a+=c)}r=!1}}}function Nne(n,t,e,r,i=!1){let o;if(e.startsWith("window")){const a=e.endsWith("-trailing")?"trailing":"normal";o=gT({mode:a,sum:r},C9e)}else o=gT({mode:e,separateNegative:i},y9e);return{scopes:[n.id],type:"group-value-processor",matchGroupIds:[t],adjust:o}}function Fv(n,t=!0){return{type:"processor",property:"diff",calculate:e=>{const r={changed:!1,moved:[],added:[],updated:[],removed:[],addedIndices:[],updatedIndices:[],removedIndices:[]},i=new Map,o=new Map,a=new Map,s=new Map,l=new Map,u=new Map,c=new Map;for(let d=0;d<Math.max(n.data.length,e.data.length);d++){const p=n.data[d],h=e.data[d],f=p?Jp(p.keys):"",v=h?Jp(h.keys):"";if(f===v){Tw(p.values,h.values)||(a.set(v,h),u.set(v,d));continue}s.has(v)?((t||!Tw(s.get(v).values,h.values))&&(a.set(v,h),u.set(v,d),i.set(v,h)),s.delete(v),c.delete(v)):h&&(o.set(v,h),l.set(v,d)),o.has(f)?((t||!Tw(o.get(f).values,p.values))&&(a.set(f,p),u.set(f,d),i.set(f,p)),o.delete(f),l.delete(f)):p&&(a.delete(f),u.delete(f),s.set(f,p),c.set(f,d))}return r.added=Array.from(o.keys()),r.updated=Array.from(a.keys()),r.removed=Array.from(s.keys()),r.moved=Array.from(i.keys()),r.addedIndices=Array.from(l.values()),r.updatedIndices=Array.from(u.values()),r.removedIndices=Array.from(c.values()),r.changed=r.added.length>0||r.updated.length>0||r.removed.length>0,r}}}function Jp(n){return ni(n)?n.map(t=>Om(t)).join("___"):Om(n)}var kne=(n=>(n[n.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",n[n.NEAREST_BY_MAIN_AXIS_FIRST=1]="NEAREST_BY_MAIN_AXIS_FIRST",n[n.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST=2]="NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST",n[n.NEAREST_NODE=3]="NEAREST_NODE",n))(kne||{});function p2(n){return M0(n,!0)!=null}function Gne(n){return M0(n,!1)!=null}function $i(n,t,e,r={}){return de({scopes:[n.id],property:t,type:"key",valueType:e?"range":"category",validation:e?p2:Gne},r)}function Tr(n,t,e,r={}){return de({scopes:[n.id],property:t,type:"value",valueType:e?"range":"category",validation:e?p2:Gne},r)}function h2(n,t,e={}){const r=e,{min:i=-1/0,max:o=1/0}=r,a=di(r,["min","max"]);return de({scopes:[n.id],type:"value",property:t,valueType:"range",validation:p2,processor:()=>s=>fr(s)?rr(i,s,o):s},a)}function S9e(n,t,e,r={}){return Xe(de({},Tr(n,t,e,r)),{processor:Vne()})}function Vne(){return()=>{let n=0;return t=>{const e=n;return n=t,e}}}function f2(n,t,e,r={}){const i=r,{onlyPositive:o}=i,a=di(i,["onlyPositive"]);return Xe(de({},Tr(n,t,e,a)),{processor:Lne(o)})}function w9e(n,t,e,r={}){return Xe(de({},Tr(n,t,e,r)),{processor:Fne()})}function hp(n,t,e,r,i="current",o){return[Tr(n,t,e,o),Nne(n,o.groupId,r,i,o.separateNegative),...o.rangeId!=null?[Ane(n,o.rangeId,o.groupId)]:[]]}var K_=class{constructor(n,t,{datum:e},r){this.type=n,this.event=t,this.datum=e,this.seriesId=r.id}},v2=class{constructor(n,t,e){this.series=n,this.seriesGrouping=t,this.oldGrouping=e,this.type="groupingChanged"}},Ny=class extends one{constructor(n){super(),this.destroyFns=[],this.seriesGrouping=void 0,this.NodeClickEvent=K_,this.internalId=sc(this),this.rootGroup=new st({name:"seriesRoot",isVirtual:!0}),this.axes={x:void 0,y:void 0},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new Lre,this._declarationOrder=-1,this.seriesListeners=new My;const{moduleCtx:t,useLabelLayer:e=!1,pickModes:r=[1],directionKeys:i={},directionNames:o={},contentGroupVirtual:a=!0,canHaveAxes:s=!1}=n;this.ctx=t,this.directionKeys=i,this.directionNames=o,this.canHaveAxes=s,this.contentGroup=this.rootGroup.appendChild(new st({name:`${this.internalId}-content`,layer:!a,isVirtual:a,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.highlightGroup=new st({name:`${this.internalId}-highlight`,layer:!a,isVirtual:a,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("highlight")}),this.highlightNode=this.highlightGroup.appendChild(new st({name:"highlightNode",zIndex:0})),this.highlightLabel=this.highlightGroup.appendChild(new st({name:"highlightLabel",zIndex:10})),this.pickModes=r,this.labelGroup=this.rootGroup.appendChild(new st({name:`${this.internalId}-series-labels`,layer:e,zIndex:7})),this.annotationGroup=new st({name:`${this.id}-annotation`,layer:!a,isVirtual:a,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("annotation")})}get id(){var n,t;return(t=(n=this.properties)==null?void 0:n.id)!=null?t:this.internalId}get type(){var n;return(n=this.constructor.type)!=null?n:""}set data(n){this._data=n,this.onDataChange()}get data(){var n;return(n=this._data)!=null?n:this._chartData}set visible(n){this.properties.visible=n,this.visibleChanged()}get visible(){return this.properties.visible}onDataChange(){this.nodeDataRefresh=!0}setChartData(n){this._chartData=n,this.data===n&&this.onDataChange()}onSeriesGroupingChange(n,t){const{internalId:e,type:r,visible:i}=this;n&&this.ctx.seriesStateManager.deregisterSeries({id:e,type:r}),t&&this.ctx.seriesStateManager.registerSeries({id:e,type:r,visible:i,seriesGrouping:t}),this.fireEvent(new v2(this,t,n))}getBandScalePadding(){return{inner:1,outer:0}}getGroupZIndexSubOrder(n,t=0){let e=0;switch(n){case"data":case"paths":break;case"labels":e+=2e4;break;case"marker":e+=1e4;break;case"highlight":t+=15e3;break;case"annotation":e+=15e3;break}return[()=>this._declarationOrder+e,t]}addListener(n,t){return this.seriesListeners.addListener(n,t)}dispatch(n,t){this.seriesListeners.dispatch(n,t)}addChartEventListeners(){}destroy(){this.destroyFns.forEach(n=>n()),this.destroyFns=[],this.ctx.seriesStateManager.deregisterSeries(this)}getDirectionValues(n,t){const e=this.resolveKeyDirection(n),r=t==null?void 0:t[e],i=[];if(!r)return i;const o=(...a)=>{for(const s of a)Array.isArray(s)?o(...s):typeof s=="object"?o(...Object.values(s)):i.push(s)};return o(...r.map(a=>this.properties[a])),i}getKeys(n){return this.getDirectionValues(n,this.directionKeys)}getNames(n){return this.getDirectionValues(n,this.directionNames)}resolveKeyDirection(n){return n}getDomain(n){const t=this.getSeriesDomain(n),e=this.moduleMap.mapValues(r=>r.getDomain(n));return t.concat(e.flat())}markNodeDataDirty(){this.nodeDataRefresh=!0}visibleChanged(){this.ctx.seriesStateManager.registerSeries(this)}getOpacity(){const{dimOpacity:t=1,enabled:e=!0}=this.properties.highlightStyle.series;if(!e||t===1)return 1;switch(this.isItemIdHighlighted()){case 0:case 1:return 1;case 2:default:return t}}getStrokeWidth(n){const{strokeWidth:t,enabled:e=!0}=this.properties.highlightStyle.series;if(!e||t===void 0)return n;switch(this.isItemIdHighlighted()){case 1:return t;case 0:case 2:return n}}isItemIdHighlighted(){var n,t;const{series:e}=(t=(n=this.ctx.highlightManager)==null?void 0:n.getActiveHighlight())!=null?t:{};return e==null?0:e!==this?2:1}getModuleTooltipParams(){return this.moduleMap.mapValues(t=>t.getTooltipParams()).reduce((t,e)=>de(de({},e),t),{})}pickNode(n,t){const{pickModes:e,visible:r,rootGroup:i}=this;if(!(!r||!i.visible))for(const o of e){if(t&&!t.includes(o))continue;let a;switch(o){case 0:a=this.pickNodeExactShape(n);break;case 1:case 2:a=this.pickNodeMainAxisFirst(n,o===2);break;case 3:a=this.pickNodeClosestDatum(n);break}if(a)return{pickMode:o,match:a.datum,distance:a.distance}}}pickNodeExactShape(n){const t=this.contentGroup.pickNode(n.x,n.y);return t&&{datum:t.datum,distance:0}}pickNodeClosestDatum(n){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeMainAxisFirst(n,t){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}fireNodeClickEvent(n,t){this.fireEvent(new this.NodeClickEvent("nodeClick",n,t,this))}fireNodeDoubleClickEvent(n,t){this.fireEvent(new this.NodeClickEvent("nodeDoubleClick",n,t,this))}toggleSeriesItem(n,t){this.visible=t,this.nodeDataRefresh=!0,this.dispatch("visibility-changed",{itemId:n,enabled:t})}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return Xe(de({},this.ctx),{series:this})}getLabelText(n,t,e=String){var r;return n.formatter&&(r=this.ctx.callbackCache.call(n.formatter,de({seriesId:this.id},t)))!=null?r:e(t.value)}getMarkerStyle(n,t,e=n.getStyle()){var r,i;const o={size:(i=(r=t.datum.point)==null?void 0:r.size)!=null?i:0},a=Ht(o,e);if(n.formatter){const s=this.ctx.callbackCache.call(n.formatter,Xe(de(de({seriesId:this.id},a),t),{datum:t.datum.datum}));return Ht(s,a)}return a}updateMarkerStyle(n,t,e,r=t.getStyle(),{applyTranslation:i=!0}={}){const{point:o}=e.datum,a=this.getMarkerStyle(t,e,r),s=this.visible&&a.size>0&&o&&!isNaN(o.x)&&!isNaN(o.y);i?n.setProperties(Xe(de({visible:s},a),{translationX:o==null?void 0:o.x,translationY:o==null?void 0:o.y})):n.setProperties(de({visible:s},a)),typeof t.shape=="function"&&!n.dirtyPath&&(n.path.clear({trackChanges:!0}),n.updatePath(),n.checkPathDirty())}getMinRect(){}get nodeDataDependencies(){var n;return(n=this._nodeDataDependencies)!=null?n:{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(n){const{width:t,height:e}=n??{width:NaN,height:NaN},r=n?{seriesRectWidth:t,seriesRectHeight:e}:void 0,i=ss(this.nodeDataDependencies,r)!=null;return i&&(this._nodeDataDependencies=r,this.markNodeDataDirty()),i}};Ny.highlightedZIndex=1e12;D([Ci({changeValue:function(n,t){this.onSeriesGroupingChange(t,n)}})],Ny.prototype,"seriesGrouping",2);var h5=30,_9e=class{constructor(n){this.groups={},this.series={},this.expectedSeriesCount=1,this.mode="normal",this.rootGroup=n}setSeriesCount(n){this.expectedSeriesCount=n}requestGroup(n){var t,e,r,i;const{internalId:o,type:a,rootGroup:s,highlightGroup:l,annotationGroup:u,seriesGrouping:c}=n,{groupIndex:d=o}=c??{};if(this.series[o]!=null)throw new Error(`AG Charts - series already has an allocated layer: ${this.series[o]}`);Object.keys(this.series).length===0&&(this.mode=this.expectedSeriesCount>=h5?"aggressive-grouping":"normal"),(e=(t=this.groups)[a])!=null||(t[a]={});const p=this.lookupIdx(d);let h=this.groups[a][p];return h||(h=(i=(r=this.groups[a])[p])!=null?i:r[p]={seriesIds:[],group:this.rootGroup.appendChild(new st({name:`${a}-content`,layer:!0,zIndex:4,zIndexSubOrder:n.getGroupZIndexSubOrder("data")})),highlight:this.rootGroup.appendChild(new st({name:`${a}-highlight`,layer:!0,zIndex:4,zIndexSubOrder:n.getGroupZIndexSubOrder("highlight")})),annotation:this.rootGroup.appendChild(new st({name:`${a}-annotation`,layer:!0,zIndex:4,zIndexSubOrder:n.getGroupZIndexSubOrder("annotation")}))}),this.series[o]={layerState:h,seriesConfig:n},h.seriesIds.push(o),h.group.appendChild(s),h.highlight.appendChild(l),h.annotation.appendChild(u),h.group}changeGroup(n){var t,e;const{internalId:r,seriesGrouping:i,type:o,rootGroup:a,highlightGroup:s,annotationGroup:l,oldGrouping:u}=n,{groupIndex:c=r}=i??{};(e=(t=this.groups[o])==null?void 0:t[c])!=null&&e.seriesIds.includes(r)||(this.series[r]!=null&&this.releaseGroup({internalId:r,seriesGrouping:u,type:o,rootGroup:a,highlightGroup:s,annotationGroup:l}),this.requestGroup(n))}releaseGroup(n){var t,e,r,i,o;const{internalId:a,seriesGrouping:s,rootGroup:l,highlightGroup:u,annotationGroup:c,type:d}=n,{groupIndex:p=a}=s??{};if(this.series[a]==null)throw new Error(`AG Charts - series doesn't have an allocated layer: ${a}`);const h=this.lookupIdx(p),f=(r=(t=this.groups[d])==null?void 0:t[h])!=null?r:(e=this.series[a])==null?void 0:e.layerState;if(f&&(f.seriesIds=f.seriesIds.filter(v=>v!==a),f.group.removeChild(l),f.highlight.removeChild(u),f.annotation.removeChild(c)),(f==null?void 0:f.seriesIds.length)===0)this.rootGroup.removeChild(f.group),this.rootGroup.removeChild(f.highlight),this.rootGroup.removeChild(f.annotation),delete this.groups[d][h],delete this.groups[d][a];else if((f==null?void 0:f.seriesIds.length)>0){const v=(o=this.series[(i=f==null?void 0:f.seriesIds)==null?void 0:i[0]])==null?void 0:o.seriesConfig;f.group.zIndexSubOrder=v==null?void 0:v.getGroupZIndexSubOrder("data"),f.highlight.zIndexSubOrder=v==null?void 0:v.getGroupZIndexSubOrder("highlight"),f.annotation.zIndexSubOrder=v==null?void 0:v.getGroupZIndexSubOrder("annotation")}delete this.series[a]}lookupIdx(n){return this.mode==="normal"?n:typeof n=="string"&&(n=Number(n.split("-").slice(-1)[0]),!n)?0:Math.floor(Math.max(Math.min(n/this.expectedSeriesCount,1),0)*h5)}destroy(){for(const n of Object.values(this.groups))for(const t of Object.values(n))this.rootGroup.removeChild(t.group),this.rootGroup.removeChild(t.highlight),this.rootGroup.removeChild(t.annotation);this.groups={},this.series={}}},x9e=class{constructor(){this.groups={}}registerSeries({id:n,seriesGrouping:t,visible:e,type:r}){var i,o;t&&((o=(i=this.groups)[r])!=null||(i[r]={}),this.groups[r][n]={grouping:t,visible:e})}deregisterSeries({id:n,type:t}){this.groups[t]&&delete this.groups[t][n],this.groups[t]&&Object.keys(this.groups[t]).length===0&&delete this.groups[t]}getVisiblePeerGroupIndex({type:n,seriesGrouping:t,visible:e}){var r;if(!t)return{visibleGroupCount:e?1:0,visibleSameStackCount:e?1:0,index:0};const i=new Set,o=new Set;for(const[s,l]of Object.entries((r=this.groups[n])!=null?r:{}))l.visible&&(i.add(l.grouping.groupIndex),l.grouping.groupIndex===t.groupIndex&&o.add(l.grouping.stackIndex));const a=[...i.values()];return a.sort((s,l)=>s-l),{visibleGroupCount:a.length,visibleSameStackCount:o.size,index:a.indexOf(t.groupIndex)}}},b9e=class{constructor(n,t){this.chartLike=n,this.layoutService=t,this.destroyFns=[],this.destroyFns.push(this.layoutService.addListener("layout-complete",e=>this.layoutComplete(e)),this.layoutService.addListener("start-layout",e=>this.positionPadding(e.shrinkRect)),this.layoutService.addListener("start-layout",e=>this.positionCaptions(e.shrinkRect)))}destroy(){this.destroyFns.forEach(n=>n())}layoutComplete({clipSeries:n,series:{paddedRect:t}}){const{seriesArea:e,seriesRoot:r}=this.chartLike;e.clip||n?r.setClipRectInGroupCoordinateSpace(t):r.setClipRectInGroupCoordinateSpace()}positionPadding(n){const{padding:t}=this.chartLike;return n.shrink(t.left,"left"),n.shrink(t.top,"top"),n.shrink(t.right,"right"),n.shrink(t.bottom,"bottom"),{shrinkRect:n}}positionCaptions(n){var t,e,r,i;const{title:o,subtitle:a,footnote:s}=this.chartLike,l=n.clone(),u=h=>{var f;const v=n.height/10,g=(f=h.lineHeight)!=null?f:h.fontSize*nr.defaultLineHeightRatio,m=n.width,y=Math.max(g,v);h.computeTextWrap(m,y)},c=h=>h==="left"?l.x:h==="right"?l.x+l.width:(h!=="center"&&Ue.error(`invalid textAlign value: ${h}`),l.x+l.width/2),d=(h,f)=>{const v=l.y;h.node.x=c(h.textAlign),h.node.y=v,h.node.textBaseline="top",u(h);const g=h.node.computeBBox(),m=Math.ceil(g.y-v+g.height+f);l.shrink(m,"top")},p=(h,f)=>{const v=l.y+l.height;h.node.x=c(h.textAlign),h.node.y=v,h.node.textBaseline="bottom",u(h);const g=h.node.computeBBox(),m=Math.ceil(v-g.y+f);l.shrink(m,"bottom")};if(a&&(a.node.visible=(t=a.enabled)!=null?t:!1),o&&(o.node.visible=o.enabled,o.node.visible)){const h=a!=null&&a.node.visible?dn.SMALL_PADDING:dn.LARGE_PADDING,f=(e=o.spacing)!=null?e:h;d(o,f)}return a&&a.node.visible&&d(a,(r=a.spacing)!=null?r:0),s&&(s.node.visible=s.enabled,s.node.visible&&p(s,(i=s.spacing)!=null?i:0)),{shrinkRect:l}}},E9e=class{constructor(n,t,e,r){this.chart=n,this.dataService=t,this.updateService=e,this.zoomManager=r,this.dirtyZoom=!1,this.dirtyDataSource=!1,this.lastAxisZooms=new Map,this.destroyFns=[],this.destroyFns.push(this.dataService.addListener("data-source-change",()=>this.onDataSourceChange()),this.dataService.addListener("data-load",()=>this.onDataLoad()),this.dataService.addListener("data-error",()=>this.onDataError()),this.updateService.addListener("update-complete",()=>this.onUpdateComplete()),this.zoomManager.addListener("zoom-change",()=>this.onZoomChange()))}destroy(){this.destroyFns.forEach(n=>n())}onDataLoad(){this.updateService.update(1)}onDataError(){this.updateService.update(3)}onDataSourceChange(){this.dirtyDataSource=!0}onUpdateComplete(){!this.dirtyZoom&&!this.dirtyDataSource||this.updateWindow()}onZoomChange(){this.dirtyZoom=!0}updateWindow(){return Oe(this,null,function*(){if(!this.dataService.isLazy())return;const n=this.getValidAxis();let t,e=!0;if(n){const r=this.zoomManager.getAxisZoom(n.id);t=this.getAxisWindow(n,r),e=this.shouldRefresh(n,r)}this.dirtyZoom=!1,this.dirtyDataSource=!1,e&&this.dataService.load({windowStart:t==null?void 0:t.min,windowEnd:t==null?void 0:t.max})})}getValidAxis(){return this.chart.axes.find(n=>n.type==="time")}shouldRefresh(n,t){if(this.dirtyDataSource)return!0;if(!this.dirtyZoom)return!1;const e=this.lastAxisZooms.get(n.id);return e&&t.min===e.min&&t.max===e.max?!1:(this.lastAxisZooms.set(n.id,t),!0)}getAxisWindow(n,t){var e,r;const i=(r=(e=n.scale).getDomain)==null?void 0:r.call(e);if(!t||!i||i.length===0||isNaN(Number(i[0])))return;const o=Number(i[1])-Number(i[0]),a=new Date(Number(i[0])+o*t.min),s=new Date(Number(i[0])+o*t.max);return{min:a,max:s}}},O9e=class{constructor(n,t,e,r){this.chartLike=n,this.overlays=t,this.dataService=e,this.layoutService=r,this.destroyFns=[],this.destroyFns.push(this.layoutService.addListener("layout-complete",i=>this.onLayoutComplete(i)))}destroy(){this.destroyFns.forEach(n=>n())}onLayoutComplete({series:{rect:n}}){const t=this.dataService.isLoading(),e=this.chartLike.series.some(i=>{var o;return(o=i.data)==null?void 0:o.length}),r=this.chartLike.series.some(i=>i.visible);this.toggleOverlay(this.overlays.loading,n,t),this.toggleOverlay(this.overlays.noData,n,!t&&!e),this.toggleOverlay(this.overlays.noVisibleSeries,n,e&&!r)}toggleOverlay(n,t,e){e&&t?n.show(t):n.hide()}},Bne=class extends My{constructor(n){super(),this.updateCallback=n}update(n=0,t){this.updateCallback(n,t)}dispatchUpdateComplete(n){this.dispatch("update-complete",{type:"update-complete",minRect:n})}},ll=Rn.create(!0,"opts"),g2=class extends Fr{constructor(){super(...arguments),this.padding=new Ch(0)}};D([k(St,{optional:!0})],g2.prototype,"clip",2);D([k(ct)],g2.prototype,"padding",2);var ei=class jne extends one{constructor(t,e){var r;super(),this.id=sc(this),this.seriesRoot=new st({name:`${this.id}-Series-root`}),this.debug=Rn.create(),this.extraDebugStats={},this.data=[],this._firstAutoSize=!0,this.padding=new Ch(20),this.seriesArea=new g2,this.mode="standalone",this.destroyed=!1,this._skipSync=!1,this._destroyFns=[],this.chartAnimationPhase="initial",this.highlightManager=new _N,this.syncManager=new $8e(this),this.zoomManager=new mne,this.modules=new Map,this.legends=new Map,this.processors=[],this.processedOptions={},this.userOptions={},this.queuedUserOptions=[],this._pendingFactoryUpdatesCount=0,this._performUpdateNoRenderCount=0,this._performUpdateSkipAnimations=!1,this.performUpdateType=7,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new O8e,this.updateRequestors={},this.performUpdateTrigger=T8e(d=>Oe(this,[d],function*({count:p}){this.destroyed||this.updateMutex.acquire(()=>Oe(this,null,function*(){try{yield this.performUpdate(p)}catch(h){Ue.error("update error",h)}}))})),this.axes=[],this.series=[],this.lastInteractionEvent=void 0,this.pointerScheduler=R8e(()=>{this.lastInteractionEvent&&(this.handlePointer(this.lastInteractionEvent,!1),this.lastInteractionEvent=void 0)}),this.onSeriesNodeClick=d=>{const p=Xe(de({},d),{type:"seriesNodeClick"});Object.defineProperty(p,"series",{enumerable:!1,get:()=>d.series}),this.fireEvent(p)},this.onSeriesNodeDoubleClick=d=>{const p=Xe(de({},d),{type:"seriesNodeDoubleClick"});this.fireEvent(p)},this.seriesGroupingChanged=d=>{if(!(d instanceof v2))return;const{series:p,seriesGrouping:h,oldGrouping:f}=d;p.rootGroup.parent!=null&&this.seriesLayerManager.changeGroup({internalId:p.internalId,type:p.type,rootGroup:p.rootGroup,highlightGroup:p.highlightGroup,annotationGroup:p.annotationGroup,getGroupZIndexSubOrder:v=>p.getGroupZIndexSubOrder(v),seriesGrouping:h,oldGrouping:f})},this.chartOptions=t;const{window:i,document:o}=t.specialOverrides,a=e==null?void 0:e.scene,s=(r=e==null?void 0:e.element)!=null?r:o.createElement("div"),l=e==null?void 0:e.container,u=new st({name:"root"});u.visible=!1,u.append(this.seriesRoot),this.axisGridGroup=new st({name:"Axes-Grids",layer:!0,zIndex:1}),u.appendChild(this.axisGridGroup),this.axisGroup=new st({name:"Axes",layer:!0,zIndex:2}),u.appendChild(this.axisGroup),this.element=s,s.classList.add("ag-chart-wrapper"),s.style.position="relative",this.scene=a??new r2(this.chartOptions.specialOverrides),this.scene.root=u,this.scene.container=s,this.autoSize=!0,this.chartEventManager=new hne,this.contextMenuRegistry=new fne,this.cursorManager=new vne(s),this.highlightManager=new _N,this.interactionManager=new dne(s,o,i),this.regionManager=new H8e(this.interactionManager),this.gestureDetector=new gne(s),this.layoutService=new yne,this.updateService=new Bne((d=0,p)=>this.update(d,p)),this.seriesStateManager=new x9e,this.seriesLayerManager=new _9e(this.seriesRoot),this.callbackCache=new E8e,this.animationManager=new pne(this.interactionManager,this.updateMutex),this.animationManager.skip(),this.animationManager.play(),this.dataService=new qD(this.animationManager),this.overlays=new d9e(this.element,this.animationManager),this.processors=[new b9e(this,this.layoutService),new E9e(this,this.dataService,this.updateService,this.zoomManager),new O9e(this,this.overlays,this.dataService,this.layoutService)],this.tooltip=new Ore(this.scene.canvas.element,o,i,o.body),this.tooltipManager=new xN(this.tooltip,this.interactionManager),this.highlight=new sne,this.container=l,this.attachLegend("category",wa),this.legend=this.legends.get("category");const{All:c}=vT;o5.observe(this.element,d=>this.rawResize(d)),this._destroyFns.push(this.dataService.addListener("data-load",d=>{this.data=d.data}),this.interactionManager.addListener("click",d=>this.onClick(d)),this.interactionManager.addListener("dblclick",d=>this.onDoubleClick(d)),this.interactionManager.addListener("hover",d=>this.onMouseMove(d)),this.interactionManager.addListener("leave",d=>this.onLeave(d)),this.interactionManager.addListener("page-left",()=>this.destroy()),this.interactionManager.addListener("wheel",()=>this.resetPointer()),this.interactionManager.addListener("drag",()=>this.resetPointer()),this.interactionManager.addListener("contextmenu",d=>this.onContextMenu(d),c),this.animationManager.addListener("animation-frame",()=>{this.update(6)}),this.highlightManager.addListener("highlight-change",d=>this.changeHighlightDatum(d)),this.zoomManager.addListener("zoom-change",()=>this.update(2,{forceNodeDataRefresh:!0,skipAnimations:!0})))}static getInstance(t){return jne.chartsInstances.get(t)}onAutoSizeChange(t){const{style:e}=this.element;if(t){if(e.display="block",e.width="100%",e.height="100%",!this._lastAutoSize)return;this.resize(void 0,void 0,"autoSize option")}else e.display="inline-block",e.width="auto",e.height="auto"}download(t,e){this.scene.download(t,e)}getOptions(){var t;return(t=this.queuedUserOptions.at(-1))!=null?t:this.userOptions}addModule(t){if(this.modules.has(t.optionsKey))throw new Error(`AG Charts - module already initialised: ${t.optionsKey}`);const e=new t.instanceConstructor(this.getModuleContext());if(t.type==="legend"){const r=e;this.legends.set(t.identifier,r),r.attachLegend(this.scene.root)}this.modules.set(t.optionsKey,e)}removeModule(t){var e;t.type==="legend"&&this.legends.delete(t.identifier),(e=this.modules.get(t.optionsKey))==null||e.destroy(),this.modules.delete(t.optionsKey)}attachLegend(t,e){const r=new e(this.getModuleContext());this.legends.set(t,r),r.attachLegend(this.scene.root)}isModuleEnabled(t){return this.modules.has(t.optionsKey)}getModuleContext(){return{window:this.chartOptions.specialOverrides.window,document:this.chartOptions.specialOverrides.document,scene:this.scene,animationManager:this.animationManager,chartEventManager:this.chartEventManager,contextMenuRegistry:this.contextMenuRegistry,cursorManager:this.cursorManager,highlightManager:this.highlightManager,interactionManager:this.interactionManager,regionManager:this.regionManager,gestureDetector:this.gestureDetector,tooltipManager:this.tooltipManager,syncManager:this.syncManager,zoomManager:this.zoomManager,chartService:this,dataService:this.dataService,layoutService:this.layoutService,updateService:this.updateService,seriesStateManager:this.seriesStateManager,callbackCache:this.callbackCache}}resetAnimations(){var t;this.chartAnimationPhase="initial";for(const e of this.series)e.resetAnimation(this.chartAnimationPhase);for(const e of this.axes)e.resetAnimation(this.chartAnimationPhase);this.animationRect=void 0,(t=this.animationManager)==null||t.reset()}skipAnimations(){this.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0}destroy(t){if(this.destroyed)return;const e=t==null?void 0:t.keepTransferableResources;let r;this.performUpdateType=7,this._destroyFns.forEach(i=>i()),this.processors.forEach(i=>i.destroy()),this.tooltipManager.destroy(),this.tooltip.destroy(),this.legends.forEach(i=>i.destroy()),this.legends.clear(),this.overlays.destroy(),o5.unobserve(this.element);for(const i of this.modules.values())i==null||i.destroy();return this.modules.clear(),this.regionManager.destroy(),this.interactionManager.destroy(),this.animationManager.stop(),this.animationManager.destroy(),this.chartEventManager.destroy(),this.highlightManager.destroy(),this.zoomManager.destroy(),e?(this.scene.strip(),r={container:this.container,scene:this.scene,element:this.element}):(this.scene.destroy(),this.container=void 0),this.destroySeries(this.series),this.seriesLayerManager.destroy(),this.axes.forEach(i=>i.destroy()),this.axes=[],this.callbackCache.invalidateCache(),this.animationRect=void 0,this.animationManager.reset(),this.syncManager.destroy(),this.destroyed=!0,Object.freeze(this),r}resetPointer(t=!1){t||this.tooltipManager.removeTooltip(this.id),this.highlightManager.updateHighlight(this.id),this.lastInteractionEvent=void 0}requestFactoryUpdate(t){this.destroyed||(this._pendingFactoryUpdatesCount++,this.updateMutex.acquire(()=>Oe(this,null,function*(){this.destroyed||(yield t(this),!this.destroyed&&this._pendingFactoryUpdatesCount--)})))}update(t=0,e){var r,i;const{forceNodeDataRefresh:o=!1,skipAnimations:a,seriesToUpdate:s=this.series,newAnimationBatch:l}=e??{};o&&this.series.forEach(u=>u.markNodeDataDirty());for(const u of s)this.seriesToUpdate.add(u);if(a&&(this.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),l&&this.animationManager.isActive()&&(this._performUpdateSkipAnimations=!0),this._skipSync=(r=e==null?void 0:e.skipSync)!=null?r:!1,this.debug.check()){let u=(i=new Error().stack)!=null?i:"<unknown>";u=u.replace(/\([^)]*/g,""),this.updateRequestors[u]=t}t<this.performUpdateType&&(this.performUpdateType=t,this.performUpdateTrigger.schedule(e==null?void 0:e.backOffMs))}performUpdate(t){return Oe(this,null,function*(){const{performUpdateType:e,extraDebugStats:r}=this,i=[...this.seriesToUpdate];this.performUpdateType=7,this.seriesToUpdate.clear(),this.updateShortcutCount===0&&e<6&&(this.animationManager.startBatch(this._performUpdateSkipAnimations),this.animationManager.onBatchStop(()=>this.chartAnimationPhase="ready")),this.debug("Chart.performUpdate() - start",Dw[e]);const o={start:performance.now()};switch(e){case 0:case 1:yield this.updateData(),o["⬇️"]=performance.now();case 2:yield this.processData(),this.resetPointer(!0),o["🏭"]=performance.now();case 3:if(this.checkUpdateShortcut(3)||!this.checkFirstAutoSize(i))break;yield this.processLayout(),o["⌖"]=performance.now();case 4:if(this.checkUpdateShortcut(4))break;const{seriesRect:s}=this;yield Promise.all(i.map(u=>u.update({seriesRect:s}))),o["🤔"]=performance.now();case 5:if(this.checkUpdateShortcut(5))break;const l=this.tooltipManager.getTooltipMeta(this.id);e<=4&&l!==void 0&&this.handlePointer(l.lastPointerEvent,!0),o["↖"]=performance.now();case 6:if(this.checkUpdateShortcut(6))break;r.updateShortcutCount=this.updateShortcutCount,yield this.scene.render({debugSplitTimes:o,extraDebugStats:r}),this.extraDebugStats={};case 7:this.updateShortcutCount=0,this.updateRequestors={},this._performUpdateSkipAnimations=!1,this.animationManager.endBatch()}this.updateService.dispatchUpdateComplete(this.getMinRect());const a=performance.now();this.debug("Chart.performUpdate() - end",{chart:this,durationMs:Math.round((a-o.start)*100)/100,count:t,performUpdateType:Dw[e]})})}checkUpdateShortcut(t){return this.updateShortcutCount>3?(Ue.warn(`exceeded the maximum number of simultaneous updates (${3+1}), discarding changes and rendering`,this.updateRequestors),!1):this.performUpdateType<=t?(this.updateShortcutCount++,!0):!1}checkFirstAutoSize(t){if(this.autoSize&&!this._lastAutoSize){const e=this._performUpdateNoRenderCount++,r=It(e,2)*10;if(e<8)return this.update(3,{seriesToUpdate:t,backOffMs:r}),this.debug("Chart.checkFirstAutoSize() - backing off until first size update",r),!1;this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")}return this._performUpdateNoRenderCount=0,!0}onSeriesChange(t,e){var r,i;const o=(r=e==null?void 0:e.filter(a=>!t.includes(a)))!=null?r:[];this.destroySeries(o),(i=this.seriesLayerManager)==null||i.setSeriesCount(t.length);for(const a of t){if(e!=null&&e.includes(a))continue;a.rootGroup.parent==null&&this.seriesLayerManager.requestGroup(a);const s=this;a.chart={get mode(){return s.mode},get isMiniChart(){return!1},get seriesRect(){return s.seriesRect},placeLabels(){return s.placeLabels()}},a.resetAnimation(this.chartAnimationPhase),this.addSeriesListeners(a),a.addChartEventListeners()}}destroySeries(t){t==null||t.forEach(e=>{e.removeEventListener("nodeClick",this.onSeriesNodeClick),e.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),e.removeEventListener("groupingChanged",this.seriesGroupingChanged),e.destroy(),this.seriesLayerManager.releaseGroup(e),e.chart=void 0})}addSeriesListeners(t){this.hasEventListener("seriesNodeClick")&&t.addEventListener("nodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&t.addEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),t.addEventListener("groupingChanged",this.seriesGroupingChanged)}updateAllSeriesListeners(){this.series.forEach(t=>{t.removeEventListener("nodeClick",this.onSeriesNodeClick),t.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),this.addSeriesListeners(t)})}assignSeriesToAxes(){this.axes.forEach(t=>{t.boundSeries=this.series.filter(e=>e.axes[t.direction]===t)})}assignAxesToSeries(){const t=Aj(this.axes,e=>e.direction);this.series.forEach(e=>{e.directions.forEach(r=>{const i=t[r];if(!i){Ue.warnOnce(`no available axis for direction [${r}]; check series and axes configuration.`);return}const o=e.getKeys(r),a=this.findMatchingAxis(i,o);if(!a){Ue.warnOnce(`no matching axis for direction [${r}] and keys [${o}]; check series and axes configuration.`);return}e.axes[r]=a})})}findMatchingAxis(t,e){for(const r of t){if(!r.keys.length)return r;if(e){for(const i of e)if(r.keys.includes(i))return r}}}rawResize(t){var e;let{width:r,height:i}=t;if(r=Math.floor(r),i=Math.floor(i),!this.autoSize||r===0&&i===0)return;const[o=0,a=0]=(e=this._lastAutoSize)!=null?e:[];o===r&&a===i||(this._lastAutoSize=[r,i],this.resize(void 0,void 0,"SizeMonitor"))}resize(t,e,r){var i,o,a,s;if(t??(t=(o=this.width)!=null?o:this.autoSize?(i=this._lastAutoSize)==null?void 0:i[0]:this.scene.canvas.width),e??(e=(s=this.height)!=null?s:this.autoSize?(a=this._lastAutoSize)==null?void 0:a[1]:this.scene.canvas.height),this.debug(`Chart.resize() from ${r}`,{width:t,height:e,stack:new Error().stack}),!(!t||!e||!fr(t)||!fr(e))&&this.scene.resize(t,e)){this.resetPointer(),this.animationManager.reset();let l=!0;this.autoSize&&this._firstAutoSize&&(l=!1,this._firstAutoSize=!1),this.update(3,{forceNodeDataRefresh:!0,skipAnimations:l})}}updateData(){return Oe(this,null,function*(){this.series.forEach(e=>e.setChartData(this.data));const t=Array.from(this.modules.values(),e=>{var r;return(r=e.updateData)==null?void 0:r.call(e,{data:this.data})});yield Promise.all(t)})}processData(){return Oe(this,null,function*(){if(this.series.some(i=>i.canHaveAxes)){this.assignAxesToSeries(),this.assignSeriesToAxes();const i=this.modules.get("sync");i!=null&&i.enabled&&i.syncAxes(this._skipSync)}const t=new une(this.mode),e=this.series.map(i=>i.processData(t)),r=Array.from(this.modules.values(),i=>{var o;return(o=i.processData)==null?void 0:o.call(i,{dataController:t})});t.execute(),yield Promise.all([...e,...r]),yield this.updateLegend()})}placeLabels(){const t=[],e=[];for(const u of this.series){if(!u.visible)continue;const c=u.getLabelData();s8e(c==null?void 0:c[0])&&(e.push(c),t.push(u))}const{seriesRect:r}=this,{top:i,right:o,bottom:a,left:s}=this.seriesArea.padding,l=r&&e.length>0?l8e(e,{x:-s,y:-i,width:r.width+s+o,height:r.height+i+a}):[];return new Map(l.map((u,c)=>[t[c],u]))}updateLegend(){return Oe(this,null,function*(){this.legends.forEach((t,e)=>{const r=o=>o.every(a=>a.legendType==="category"),i=this.series.filter(o=>o.properties.showInLegend).flatMap(o=>o.getLegendData(e));r(i)&&this.mode!=="integrated"&&this.validateCategoryLegendData(i),t.data=i})})}validateCategoryLegendData(t){const e={};t.forEach(r=>{var i,o,a,s,l;const u=(i=this.series.find(c=>c.id===r.seriesId))==null?void 0:i.type;u&&((o=e[u])!=null||(e[u]={}),(l=(a=e[u])[s=r.label.text])!=null||(a[s]=new Set),r.marker.fill!=null&&e[u][r.label.text].add(r.marker.fill))});for(const r of Object.values(e))for(const[i,o]of Object.entries(r))o.size>1&&Ue.warnOnce(`legend item '${i}' has multiple fill colors, this may cause unexpected behaviour.`)}processLayout(){return Oe(this,null,function*(){var t;const e=this.animationRect;yield this.performLayout(),e&&!((t=this.animationRect)!=null&&t.equals(e))&&this.animationManager.skipCurrentBatch(),this.debug("Chart.performUpdate() - seriesRect",this.seriesRect)})}performLayout(){return Oe(this,null,function*(){this.scene.root&&(this.scene.root.visible=!0);const{width:t,height:e}=this.scene;let r={shrinkRect:new Tt(0,0,t,e)};r=this.layoutService.dispatchPerformLayout("start-layout",r),r=this.layoutService.dispatchPerformLayout("before-series",r);const i=Array.from(this.modules.values(),o=>Oe(this,null,function*(){var a;o.performLayout!=null&&(r=yield(a=o.performLayout)==null?void 0:a.call(o,r))}));return yield Promise.all(i),r.shrinkRect})}pickSeriesNode(t,e,r){var i,o;const a=performance.now(),s=e?[0]:void 0,l=[...this.series].reverse();let u;for(const c of l){if(!c.visible||!c.rootGroup.visible)continue;const{match:d,distance:p}=(i=c.pickNode(t,s))!=null?i:{};if(!(!d||p==null)&&((!u||u.distance>p)&&p<=(r??1/0)&&(u={series:c,distance:p,datum:d}),p===0))break}return this.extraDebugStats.pickSeriesNode=Math.round(((o=this.extraDebugStats.pickSeriesNode)!=null?o:0)+(performance.now()-a)),u}onMouseMove(t){this.lastInteractionEvent=t,this.pointerScheduler.schedule(),this.extraDebugStats.mouseX=t.offsetX,this.extraDebugStats.mouseY=t.offsetY,this.update(6)}onLeave(t){this.tooltip.pointerLeftOntoTooltip(t)||(this.resetPointer(),this.update(6))}onContextMenu(t){this.tooltipManager.removeTooltip(this.id);const{Default:e,ContextMenu:r}=vT;this.interactionManager.getState()&(e|r)&&this.checkSeriesNodeRange(t,(i,o)=>{this.highlightManager.updateHighlight(this.id,o)})}handlePointer(t,e){if(this.interactionManager.getState()!==8)return;const{lastPick:r,hoverRect:i}=this,{offsetX:o,offsetY:a}=t,s=(l=!1)=>{r&&this.resetPointer(l)};if(e&&this.animationManager.isActive()){s();return}if(!(i!=null&&i.containsPoint(o,a))){s();return}this.handlePointerTooltip(t,s),this.handlePointerNode(t)}handlePointerTooltip(t,e){const{lastPick:r,tooltip:i}=this,{range:o}=i,{offsetX:a,offsetY:s}=t;let l;fr(o)&&(l=o);const u=this.pickSeriesNode({x:a,y:s},o==="exact",l);if(!u){this.tooltipManager.removeTooltip(this.id),this.highlight.range==="tooltip"&&e(!0);return}const c=this.highlight.range==="node"||!r||r!==u.datum;let d;c&&(d=u.series.getTooltipHtml(u.datum),this.highlight.range==="tooltip"&&this.highlightManager.updateHighlight(this.id,u.datum));const p=l!=null,h=this.tooltip.enabled&&u.series.properties.tooltip.enabled,f=o==="exact"&&u.distance===0,g=h&&(o==="nearest"||p||f)&&(!c||d!==void 0),m=xN.makeTooltipMeta(t,u.datum);g&&this.tooltipManager.updateTooltip(this.id,m,d)}handlePointerNode(t){this.checkSeriesNodeRange(t,(r,i)=>{(r.hasEventListener("nodeClick")||r.hasEventListener("nodeDoubleClick"))&&this.cursorManager.updateCursor("chart","pointer"),this.highlight.range==="node"&&this.highlightManager.updateHighlight(this.id,i)})||(this.cursorManager.updateCursor("chart"),this.highlight.range==="node"&&this.highlightManager.updateHighlight(this.id))}onClick(t){if(this.checkSeriesNodeClick(t)){this.update(4);return}this.fireEvent({type:"click",event:t.sourceEvent})}onDoubleClick(t){if(this.checkSeriesNodeDoubleClick(t)){this.update(4);return}this.fireEvent({type:"doubleClick",event:t.sourceEvent})}checkSeriesNodeClick(t){return this.checkSeriesNodeRange(t,(e,r)=>e.fireNodeClickEvent(t.sourceEvent,r))}checkSeriesNodeDoubleClick(t){return this.checkSeriesNodeRange(t,(e,r)=>e.fireNodeDoubleClickEvent(t.sourceEvent,r))}checkSeriesNodeRange(t,e){const r=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},!1),i=r==null?void 0:r.datum,o=i==null?void 0:i.series.properties.nodeClickRange;let a;fr(o)&&(a=o);let s=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},!0);if(s?this.highlightManager.updatePicked(this.id,s.datum):this.highlightManager.updatePicked(this.id),i&&o==="nearest")return e(i.series,i),!0;if(o!=="exact"&&(s=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},!1,a)),!s)return!1;const l=a!=null,u=o==="exact"&&s.distance===0;return l||u?(e(s.series,s.datum),!0):!1}changeHighlightDatum(t){var e,r;const i=new Set,{series:o=void 0,datum:a}=(e=t.currentHighlight)!=null?e:{},{series:s=void 0,datum:l}=(r=t.previousHighlight)!=null?r:{};s&&i.add(s),o&&i.add(o),s!=null&&s.properties.cursor&&l&&this.cursorManager.updateCursor(s.id),o!=null&&o.properties.cursor&&a&&this.cursorManager.updateCursor(o.id,o.properties.cursor),this.lastPick=t.currentHighlight,o==null||s==null?this.update(4):this.update(4,{seriesToUpdate:i})}waitForUpdate(t=5e3){return Oe(this,null,function*(){const e=performance.now();for(this._pendingFactoryUpdatesCount>0&&(yield this.updateMutex.waitForClearAcquireQueue());this.performUpdateType!==7;){if(performance.now()-e>t)throw new Error("waitForUpdate() timeout reached.");yield b8e(5)}yield this.updateMutex.waitForClearAcquireQueue()})}getMinRect(){const t=this.series.map(e=>e.getMinRect()).filter(e=>e!==void 0);if(t.length)return new Tt(0,0,t.reduce((e,r)=>Math.max(e,r.width),0),t.reduce((e,r)=>Math.max(e,r.height),0))}filterMiniChartSeries(t){return t!=null?t.filter(e=>e.showInMiniChart!==!1):t}applyOptions(t){var e,r,i,o,a,s;const l=this.processedOptions,u=t.diffOptions(l),c=t.userOptions;if(u==null)return;ll("AgChartV2.updateDelta() - applying delta",u);const d=Ht(u,l),p=this.applyModules(d),h=["type","data","series","listeners","theme","legend.listeners","navigator.miniChart.label"];(Yf(u)||F_(u))&&h.push("axes"),u.listeners&&this.registerListeners(this,u.listeners),this.applyOptionValues(this,u,{skip:h});let f=!1,v="no-op";u.series&&u.series.length>0&&(v=this.applySeries(this,u.series,l==null?void 0:l.series),f=!0),v==="replaced"&&this.resetAnimations(),this.applyAxes(this,d,l,v)&&(f=!0);const g=!!u.data||v==="data-change"||v==="replaced",m=x6e(),y=Object.values(m).some(R=>u[R]!=null),C=u.title!=null&&u.subtitle!=null;f=f||g||y||C,u.data&&(this.data=u.data),(e=u.legend)!=null&&e.listeners&&Object.assign(this.legend.listeners,u.legend.listeners),u.listeners&&this.updateAllSeriesListeners(),this.chartOptions=t,this.processedOptions=d,this.userOptions=Ht(c,this.userOptions);const S=this.modules.get("navigator"),w=this.modules.get("zoom");!(S!=null&&S.enabled)&&!(w!=null&&w.enabled)&&this.zoomManager.updateZoom();const _=S==null?void 0:S.miniChart;if((_==null?void 0:_.enabled)===!0&&(u==null?void 0:u.series)!=null){const R=this.applySeries(_,this.filterMiniChartSeries(u.series),this.filterMiniChartSeries(l==null?void 0:l.series));this.applyAxes(_,u,l,R,["axes[].tick","axes[].thickness","axes[].title","axes[].crosshair","axes[].gridLine","axes[].label"]);const P=_.axes,A=P.find(N=>N.direction==="x");for(const N of P)N.gridLine.enabled=!1,N.label.enabled=N===A,N.tick.enabled=!1,N.interactionEnabled=!1;if(A!=null){const N=(i=(r=u.navigator)==null?void 0:r.miniChart)==null?void 0:i.label,I=(s=(a=(o=u.navigator)==null?void 0:o.miniChart)==null?void 0:a.label)==null?void 0:s.interval;Gp(A.label,N,{path:"navigator.miniChart.label",skip:["navigator.miniChart.label.interval","navigator.miniChart.label.rotation","navigator.miniChart.label.minSpacing","navigator.miniChart.label.autoRotate","navigator.miniChart.label.autoRotateAngle"]}),Gp(A.tick,I,{path:"navigator.miniChart.interval",skip:["navigator.miniChart.interval.enabled","navigator.miniChart.interval.width","navigator.miniChart.interval.size","navigator.miniChart.interval.color","navigator.miniChart.interval.interval","navigator.miniChart.interval.step"]});const G=I==null?void 0:I.step;G!=null&&(A.tick.interval=G)}}else(_==null?void 0:_.enabled)===!1&&(_.series=[],_.axes=[]);const E=f||p?1:3;ll("AgChartV2.applyChartOptions() - update type",Dw[E]),this.update(E,{forceNodeDataRefresh:f,newAnimationBatch:!0})}applyModules(t){let e=!1;for(const r of Iu){if(r.type!=="root"&&r.type!=="legend")continue;const i=t[r.optionsKey],o=r.chartTypes.includes(this.constructor.type)&&i!=null,a=this.isModuleEnabled(r);o!==a&&(o?(this.addModule(r),this[r.optionsKey]=this.modules.get(r.optionsKey)):(this.removeModule(r),delete this[r.optionsKey]),e=!0)}return e}applySeries(t,e,r){if(!e)return"no-change";const i=u9e(t.series,e,r);if(i.status==="no-overlap")return ll(`AgChartV2.applySeries() - creating new series instances, status: ${i.status}`,i),t.series=this.createSeries(e),"replaced";ll("AgChartV2.applySeries() - matchResult",i);const o=[];for(const l of i.changes){if(l.status==="add"){const p=this.createSeries([l.opts])[0];o.push(p),ll("AgChartV2.applySeries() - created new series",p);continue}else if(l.status==="remove"){ll(`AgChartV2.applySeries() - removing series at previous idx ${l.idx}`,l.series);continue}else if(l.status==="no-op"){o.push(l.series),ll(`AgChartV2.applySeries() - no change to series at previous idx ${l.idx}`,l.series);continue}const{series:u,diff:c,idx:d}=l;ll(`AgChartV2.applySeries() - applying series diff previous idx ${d}`,c,u),this.applySeriesValues(u,c),u.markNodeDataDirty(),o.push(u)}for(let l=0;l<o.length;l++)o[l]._declarationOrder=l;ll("AgChartV2.applySeries() - final series instances",o),t.series=o;const a=i.changes.some(({diff:l})=>l&&(l.seriesGrouping!=null||l.data!=null)),s=i.changes.every(l=>l.status==="no-op");return a?"data-change":s?"no-op":"updated"}applyAxes(t,e,r,i,o=[]){if(!("axes"in e)||!e.axes)return!1;o=["axes[].type",...o];const{axes:a}=e;return!(i==="replaced")&&t.axes.length===a.length&&t.axes.every((u,c)=>u.type===a[c].type)&&Yf(r)?(t.axes.forEach((u,c)=>{var d,p;const h=(p=(d=r.axes)==null?void 0:d[c])!=null?p:{},f=ss(h,a[c]);ll(`AgChartV2.applyAxes() - applying axis diff idx ${c}`,f);const v=`axes[${c}]`;this.applyOptionValues(u,f,{path:v,skip:o})}),!0):(ll(`AgChartV2.applyAxes() - creating new axes instances; seriesStatus: ${i}`),t.axes=this.createAxis(a,o),!0)}createSeries(t){var e;const r=[],i=this.getModuleContext();for(const o of t??[]){const a=(e=o.type)!=null?e:"unknown";if(mte(a)&&!XKe(a))continue;const s=l6e(a,i);this.applySeriesOptionModules(s,o),this.applySeriesValues(s,o),r.push(s)}return r}applySeriesOptionModules(t,e){const r=t.createModuleContext(),i=t.getModuleMap();for(const o of Iu)o.type==="series-option"&&o.optionsKey in e&&o.seriesTypes.includes(t.type)&&i.addModule(o,a=>new a.instanceConstructor(r))}applySeriesValues(t,e){const r=t.getModuleMap(),i=e,{type:o,data:a,errorBar:s,listeners:l,seriesGrouping:u,showInMiniChart:c}=i,d=di(i,["type","data","errorBar","listeners","seriesGrouping","showInMiniChart"]);t.properties.set(d),"data"in e&&(t.data=e.data),"errorBar"in e&&r.isModuleEnabled("errorBar")&&r.getModule("errorBar").properties.set(e.errorBar),e!=null&&e.listeners&&this.registerListeners(t,e.listeners),u&&(t.seriesGrouping=de(de({},t.seriesGrouping),u))}createAxis(t,e){const r=new l9e,i=this.getModuleContext();let o=0;for(const a of t??[]){const s=VKe(a.type,i),l=`axes[${o++}]`;this.applyAxisModules(s,a),this.applyOptionValues(s,a,{path:l,skip:e}),r.push(s,a)}return r.guessInvalidPositions()}applyAxisModules(t,e){let r=!1;const i=Iu.filter(a=>a.type==="axis-option"),o=t.createModuleContext();for(const a of i){const s=e[a.optionsKey]!=null,l=t.getModuleMap(),u=l.isModuleEnabled(a);s!==u&&(r=!0,s?(l.addModule(a,c=>new c.instanceConstructor(o)),t[a.optionsKey]=l.getModule(a)):(l.removeModule(a),delete t[a.optionsKey]))}return r}applyOptionValues(t,e,{skip:r,path:i}={}){const o=this.getModuleContext();class a extends dn{constructor(){super(),this.registerInteraction(o)}}return Gp(t,e,{constructors:Xe(de({},U4.constructors),{title:a,subtitle:a,footnote:a}),constructedArrays:Rre.constructedArrays,allowedTypes:de({},U4.allowedTypes),skip:r,path:i})}registerListeners(t,e){t.clearEventListeners();for(const[r,i]of Object.entries(e))by(i)&&t.addEventListener(r,i)}};ei.chartsInstances=new WeakMap;ei.NodeValueChangeOptions={newValue(n){var t;(t=this.scene.root)==null||t.appendChild(n.node)},oldValue(n){var t;(t=this.scene.root)==null||t.removeChild(n.node)}};D([Ci({newValue(n){this.destroyed||(n.setAttribute("data-ag-charts",""),n.appendChild(this.element),ei.chartsInstances.set(n,this))},oldValue(n){n.removeAttribute("data-ag-charts"),n.removeChild(this.element),ei.chartsInstances.delete(n)}})],ei.prototype,"container",2);D([Ci({newValue(n){this.resize(n,void 0,"width option")}})],ei.prototype,"width",2);D([Ci({newValue(n){this.resize(void 0,n,"height option")}})],ei.prototype,"height",2);D([Ci({newValue(n){this.onAutoSizeChange(n)}}),k(St)],ei.prototype,"autoSize",2);D([k(ct)],ei.prototype,"padding",2);D([k(ct)],ei.prototype,"seriesArea",2);D([Ci(ei.NodeValueChangeOptions)],ei.prototype,"title",2);D([Ci(ei.NodeValueChangeOptions)],ei.prototype,"subtitle",2);D([Ci(ei.NodeValueChangeOptions)],ei.prototype,"footnote",2);D([k(Wn(["standalone","integrated"],"a chart mode"))],ei.prototype,"mode",2);D([Ci({changeValue(n,t=[]){for(const e of t)n.includes(e)||(e.detachAxis(this.axisGroup,this.axisGridGroup),e.destroy());for(const e of n)t!=null&&t.includes(e)||e.attachAxis(this.axisGroup,this.axisGridGroup);this.zoomManager.updateAxes(n)}})],ei.prototype,"axes",2);D([Ci({changeValue(n,t){this.onSeriesChange(n,t)}})],ei.prototype,"series",2);var QD=ei,Hne=class extends Ny{isContinuous(){var n,t;const e=Rr.is((n=this.axes.x)==null?void 0:n.scale),r=Rr.is((t=this.axes.y)==null?void 0:t.scale);return{isContinuousX:e,isContinuousY:r}}getModulePropertyDefinitions(){return this.moduleMap.mapValues(n=>n.getPropertyDefinitions(this.isContinuous())).flat()}requestDataModel(n,t,e){return Oe(this,null,function*(){e.props.push(...this.getModulePropertyDefinitions());const{dataModel:r,processedData:i}=yield n.request(this.id,t??[],e);return this.dataModel=r,this.processedData=i,this.dispatch("data-processed",{dataModel:r,processedData:i}),{dataModel:r,processedData:i}})}isProcessedDataAnimatable(){var n,t;const e=(t=(n=this.processedData)==null?void 0:n.reduced)==null?void 0:t.animationValidation;if(!e)return!0;const{orderedKeys:r,uniqueKeys:i}=e;return r&&i}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}},Rd=class extends Fr{constructor(){super(...arguments),this.fill="rgba(255,255,255, 0.33)",this.stroke="rgba(0, 0, 0, 0.4)",this.strokeWidth=2}};D([k(tr,{optional:!0})],Rd.prototype,"fill",2);D([k(_r,{optional:!0})],Rd.prototype,"fillOpacity",2);D([k(tr,{optional:!0})],Rd.prototype,"stroke",2);D([k(Le,{optional:!0})],Rd.prototype,"strokeWidth",2);D([k(_r,{optional:!0})],Rd.prototype,"strokeOpacity",2);D([k(xd,{optional:!0})],Rd.prototype,"lineDash",2);D([k(Le,{optional:!0})],Rd.prototype,"lineDashOffset",2);var JD=class extends Fr{};D([k(Le,{optional:!0})],JD.prototype,"strokeWidth",2);D([k(_r,{optional:!0})],JD.prototype,"dimOpacity",2);D([k(St,{optional:!0})],JD.prototype,"enabled",2);var $ne=class extends Fr{constructor(){super(...arguments),this.color="black"}};D([k(tr,{optional:!0})],$ne.prototype,"color",2);var Y_=class extends Fr{constructor(){super(...arguments),this.item=new Rd,this.series=new JD,this.text=new $ne}};D([k(ct)],Y_.prototype,"item",2);D([k(ct)],Y_.prototype,"series",2);D([k(ct)],Y_.prototype,"text",2);var Kl=class extends Fr{constructor(){super(...arguments),this.visible=!0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlightStyle=new Y_}};D([k(Ne,{optional:!0})],Kl.prototype,"id",2);D([k(St)],Kl.prototype,"visible",2);D([k(St)],Kl.prototype,"showInLegend",2);D([k(Ne)],Kl.prototype,"cursor",2);D([k($j)],Kl.prototype,"nodeClickRange",2);D([k(ct)],Kl.prototype,"highlightStyle",2);var R9e={x:["xKey"],y:["yKey"]},T9e={x:["xName"],y:["yName"]},m2=class extends K_{constructor(n,t,e,r){super(n,t,e,r),this.xKey=r.properties.xKey,this.yKey=r.properties.yKey}},_h=class extends Kl{};D([k(Ne,{optional:!0})],_h.prototype,"legendItemName",2);var xh=class extends Hne{constructor(n){var t=n,{pathsPerSeries:e=1,hasMarkers:r=!1,hasHighlightedLabels:i=!1,pathsZIndexSubOrderOffset:o=[],directionKeys:a=R9e,directionNames:s=T9e,datumSelectionGarbageCollection:l=!0,markerSelectionGarbageCollection:u=!0,animationAlwaysUpdateSelections:c=!1,animationResetFns:d}=t,p=di(t,["pathsPerSeries","hasMarkers","hasHighlightedLabels","pathsZIndexSubOrderOffset","directionKeys","directionNames","datumSelectionGarbageCollection","markerSelectionGarbageCollection","animationAlwaysUpdateSelections","animationResetFns"]);super(de({directionKeys:a,directionNames:s,useSeriesGroupLayer:!0,canHaveAxes:!0},p)),this._contextNodeData=[],this.NodeClickEvent=m2,this.highlightSelection=rn.select(this.highlightNode,()=>this.opts.hasMarkers?this.markerFactory():this.nodeFactory()),this.highlightLabelSelection=rn.select(this.highlightLabel,nr),this.annotationSelections=new Set,this.subGroups=[],this.subGroupId=0,this.debug=Rn.create(),this.opts={pathsPerSeries:e,hasMarkers:r,hasHighlightedLabels:i,pathsZIndexSubOrderOffset:o,directionKeys:a,directionNames:s,animationResetFns:d,animationAlwaysUpdateSelections:c,datumSelectionGarbageCollection:l,markerSelectionGarbageCollection:u},this.animationState=new W_("empty",{empty:{update:{target:"ready",action:h=>this.animateEmptyUpdateReady(h)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:h=>this.animateReadyHighlight(h),highlightMarkers:h=>this.animateReadyHighlightMarkers(h),resize:h=>this.animateReadyResize(h),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:h=>this.animateWaitingUpdateReady(h)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:h=>this.animateClearingUpdateEmpty(h)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}get contextNodeData(){return this._contextNodeData.slice()}resetAnimation(n){n==="initial"?this.animationState.transition("reset"):n==="ready"&&this.animationState.transition("skip")}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",n=>this.onLegendItemClick(n)),this.ctx.chartEventManager.addListener("legend-item-double-click",n=>this.onLegendItemDoubleClick(n)))}destroy(){super.destroy(),this._contextNodeData.splice(0,this._contextNodeData.length),this.subGroups.splice(0,this.subGroups.length)}update(n){return Oe(this,arguments,function*({seriesRect:t}){var e,r;const{visible:i,_contextNodeData:o}=this,{series:a}=(r=(e=this.ctx.highlightManager)==null?void 0:e.getActiveHighlight())!=null?r:{},s=a?a===this:void 0,l=this.checkResize(t),u=yield this.updateHighlightSelection(s);yield this.updateSelections(i),yield this.updateNodes(u,s,i);const c=this.getAnimationData(t,o);l&&this.animationState.transition("resize",c),this.animationState.transition("update",c)})}updateSelections(n){return Oe(this,null,function*(){const t=!this.opts.animationAlwaysUpdateSelections&&this.ctx.animationManager.isSkipped();if(!(!n&&t)&&!(!this.nodeDataRefresh&&!this.isPathOrSelectionDirty())){if(this.nodeDataRefresh){this.nodeDataRefresh=!1,this.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this._contextNodeData=yield this.createNodeData();const e=this.isProcessedDataAnimatable();this._contextNodeData.forEach(o=>{var a;(a=o.animationValid)!=null||(o.animationValid=e)}),yield this.updateSeriesGroups();const{dataModel:r,processedData:i}=this;r!==void 0&&i!==void 0&&this.dispatch("data-update",{dataModel:r,processedData:i})}yield Promise.all(this.subGroups.map((e,r)=>this.updateSeriesGroupSelections(e,r)))}})}updateSeriesGroupSelections(n,t,e){return Oe(this,null,function*(){const{datumSelection:r,labelSelection:i,markerSelection:o,paths:a}=n,s=this._contextNodeData[t],{nodeData:l,labelData:u,itemId:c}=s;yield this.updatePaths({seriesHighlighted:e,itemId:c,contextData:s,paths:a,seriesIdx:t}),n.datumSelection=yield this.updateDatumSelection({nodeData:l,datumSelection:r,seriesIdx:t}),n.labelSelection=yield this.updateLabelSelection({labelData:u,labelSelection:i,seriesIdx:t}),o&&(n.markerSelection=yield this.updateMarkerSelection({nodeData:l,markerSelection:o,seriesIdx:t}))})}markerFactory(){const n=Sh();return new n}updateSeriesGroups(){return Oe(this,null,function*(){const{_contextNodeData:n,contentGroup:t,subGroups:e,opts:{pathsPerSeries:r,hasMarkers:i,datumSelectionGarbageCollection:o,markerSelectionGarbageCollection:a}}=this;if(n.length===e.length)return;n.length<e.length&&e.splice(n.length).forEach(({dataNodeGroup:l,markerGroup:u,labelGroup:c,paths:d})=>{t.removeChild(l),u&&t.removeChild(u),c&&t.removeChild(c);for(const p of d)t.removeChild(p)});const s=n.length;for(;s>e.length;){const u=this.subGroupId++,c=new st({name:`${this.id}-series-sub${u}-dataNodes`,layer:!1,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data",u)}),d=i?new st({name:`${this.id}-series-sub${this.subGroupId++}-markers`,layer:!1,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("marker",u)}):void 0,p=new st({name:`${this.id}-series-sub${this.subGroupId++}-labels`,layer:!1,zIndex:7,zIndexSubOrder:this.getGroupZIndexSubOrder("labels",u)});t.appendChild(c),t.appendChild(p),d&&t.appendChild(d);const h=[];for(let f=0;f<r;f++)h[f]=new hs,h[f].zIndex=4,h[f].zIndexSubOrder=this.getGroupZIndexSubOrder("paths",f),t.appendChild(h[f]);e.push({paths:h,dataNodeGroup:c,markerGroup:d,labelGroup:p,labelSelection:rn.select(p,nr),datumSelection:rn.select(c,()=>this.nodeFactory(),o),markerSelection:d?rn.select(d,()=>this.markerFactory(),a):void 0})}})}getGroupZIndexSubOrder(n,t=0){var e;const r=super.getGroupZIndexSubOrder(n,t);if(n==="paths"){const i=(e=this.opts.pathsZIndexSubOrderOffset[t])!=null?e:0,o=r[0];typeof o=="function"?r[0]=()=>+o()+i:r[0]=+o+i}return r}updateNodes(n,t,e){return Oe(this,null,function*(){var r;const{highlightSelection:i,highlightLabelSelection:o,opts:{hasMarkers:a,hasHighlightedLabels:s}}=this,l=!this.ctx.animationManager.isSkipped(),u=this.visible&&((r=this._contextNodeData)==null?void 0:r.length)>0&&e;this.rootGroup.visible=l||u,this.contentGroup.visible=l||u,this.highlightGroup.visible=(l||u)&&!!t;const c=this.getOpacity();a?(yield this.updateMarkerNodes({markerSelection:i,isHighlight:!0,seriesIdx:-1}),this.animationState.transition("highlightMarkers",i)):(yield this.updateDatumNodes({datumSelection:i,isHighlight:!0,seriesIdx:-1}),this.animationState.transition("highlight",i)),s&&(yield this.updateLabelNodes({labelSelection:o,seriesIdx:-1})),yield Promise.all(this.subGroups.map((d,p)=>Oe(this,null,function*(){const{dataNodeGroup:h,markerGroup:f,datumSelection:v,labelSelection:g,markerSelection:m,paths:y,labelGroup:C}=d,{itemId:S}=this.contextNodeData[p],w=u;h.opacity=c,h.visible=l||w,C.visible=w,f&&(f.opacity=c,f.zIndex=h.zIndex>=4?h.zIndex:h.zIndex+1,f.visible=w),C&&(C.opacity=c),yield this.updatePathNodes({seriesHighlighted:t,itemId:S,paths:y,seriesIdx:p,opacity:c,visible:w,animationEnabled:l}),h.visible&&(yield this.updateDatumNodes({datumSelection:v,highlightedItems:n,isHighlight:!1,seriesIdx:p}),yield this.updateLabelNodes({labelSelection:g,seriesIdx:p}),a&&m&&(yield this.updateMarkerNodes({markerSelection:m,isHighlight:!1,seriesIdx:p})))})))})}getHighlightLabelData(n,t){const e=n.filter(r=>r.datum===t.datum&&r.itemId===t.itemId);return e.length!==0?e:void 0}getHighlightData(n,t){return t?[t]:void 0}updateHighlightSelection(n){return Oe(this,null,function*(){var t;const{highlightSelection:e,highlightLabelSelection:r,_contextNodeData:i}=this,o=(t=this.ctx.highlightManager)==null?void 0:t.getActiveHighlight(),a=n&&(o!=null&&o.datum)?o:void 0;let s,l;if(a!=null){const u=this.isLabelEnabled();for(const{labelData:c,nodeData:d}of i)if(l=this.getHighlightData(d,a),s=u?this.getHighlightLabelData(c,a):void 0,(!u||s!=null)&&l!=null)break}return this.highlightSelection=yield this.updateHighlightSelectionItem({items:l,highlightSelection:e}),this.highlightLabelSelection=yield this.updateHighlightSelectionLabel({items:s,highlightLabelSelection:r}),l})}pickNodeExactShape(n){var t;const e=super.pickNodeExactShape(n);if(e)return e;const{x:r,y:i}=n,{opts:{hasMarkers:o}}=this;for(const{dataNodeGroup:a,markerGroup:s}of this.subGroups){let l=a.pickNode(r,i);if(!l&&o&&(l=s==null?void 0:s.pickNode(r,i)),l)break}for(const a of this.moduleMap.modules){const{datum:s}=(t=a.pickNodeExact(n))!=null?t:{};if(s!==void 0)return{datum:s,distance:0}}}pickNodeClosestDatum(n){var t,e;const{x:r,y:i}=n,{axes:o,rootGroup:a,_contextNodeData:s}=this,l=o.x,u=o.y,c=a.transformPoint(r,i);let d=1/0,p;for(const h of s)for(const f of h.nodeData){const{point:{x:v=NaN,y:g=NaN}={}}=f;if(isNaN(v)||isNaN(g)||!((l==null?void 0:l.inRange(v))&&(u==null?void 0:u.inRange(g))))continue;const y=Math.max(It(c.x-v,2)+It(c.y-g,2),0);y<d&&(d=y,p=f)}for(const h of this.moduleMap.modules){const f=h.pickNodeNearest(n);if(f!==void 0&&f.distanceSquared<d){d=f.distanceSquared,p=f.datum;break}}if(p){const h=Math.max(Math.sqrt(d)-((e=(t=p.point)==null?void 0:t.size)!=null?e:0),0);return{datum:p,distance:h}}}pickNodeMainAxisFirst(n,t){var e,r;const{x:i,y:o}=n,{axes:a,rootGroup:s,_contextNodeData:l}=this,u=a.x,c=a.y,d=[u,c].filter(m=>m instanceof dd).map(m=>m.direction);if(t&&d.length===0)return;const[p="x"]=d,h=s.transformPoint(i,o),f=p==="x"?[h.x,h.y]:[h.y,h.x],v=[1/0,1/0];let g;for(const m of l)for(const y of m.nodeData){const{point:{x:C=NaN,y:S=NaN}={}}=y;if(isNaN(C)||isNaN(S)||!((u==null?void 0:u.inRange(C))&&(c==null?void 0:c.inRange(S))))continue;const _=p==="x"?[C,S]:[S,C];let x=!0;for(let E=0;E<_.length;E++){const R=Math.abs(_[E]-f[E]);if(R>v[E]){x=!1;break}R<v[E]&&(v[E]=R,v.fill(1/0,E+1,v.length))}x&&(g=y)}if(g){let m=Math.max(It(v[0],2)+It(v[1],2)-((r=(e=g.point)==null?void 0:e.size)!=null?r:0),0);for(const y of this.moduleMap.modules){const C=y.pickNodeMainAxisFirst(n);if(C!==void 0&&C.distanceSquared<m){g=C.datum,m=C.distanceSquared;break}}return{datum:g,distance:Math.sqrt(m)}}}onLegendItemClick(n){const{legendItemName:t}=this.properties,{enabled:e,itemId:r,series:i}=n,o=t!=null&&t===n.legendItemName;(i.id===this.id||o)&&this.toggleSeriesItem(r,e)}onLegendItemDoubleClick(n){const{enabled:t,itemId:e,series:r,numVisibleItems:i}=n,{legendItemName:o}=this.properties,a=o!=null&&o===n.legendItemName;r.id===this.id||a?this.toggleSeriesItem(e,!0):t&&i===1?this.toggleSeriesItem(e,!0):this.toggleSeriesItem(e,!1)}isPathOrSelectionDirty(){return!1}getLabelData(){return[]}shouldFlipXY(){return!1}getMinRect(){const[n]=this._contextNodeData;if(!(n!=null&&n.nodeData.length))return;const t=n.nodeData.map(({midPoint:r})=>{var i;return(i=r==null?void 0:r.x)!=null?i:0}).sort((r,i)=>r-i).reduce((r,i,o,a)=>o>0?Math.max(r,i-a[o-1]):r,0),e=n.nodeData.map(({midPoint:r})=>{var i;return(i=r==null?void 0:r.y)!=null?i:0}).sort((r,i)=>r-i).reduce((r,i,o,a)=>o>0?Math.max(r,i-a[o-1]):r,0);return new Tt(0,0,t,e)}updateHighlightSelectionItem(n){return Oe(this,null,function*(){const{opts:{hasMarkers:t}}=this,{items:e,highlightSelection:r}=n,i=e??[];if(t){const o=r;return this.updateMarkerSelection({nodeData:i,markerSelection:o,seriesIdx:-1})}else return this.updateDatumSelection({nodeData:i,datumSelection:r,seriesIdx:-1})})}updateHighlightSelectionLabel(n){return Oe(this,null,function*(){var t;return this.updateLabelSelection({labelData:(t=n.items)!=null?t:[],labelSelection:n.highlightLabelSelection,seriesIdx:-1})})}updateDatumSelection(n){return Oe(this,null,function*(){return n.datumSelection})}updateDatumNodes(n){return Oe(this,null,function*(){})}updateMarkerSelection(n){return Oe(this,null,function*(){return n.markerSelection})}updateMarkerNodes(n){return Oe(this,null,function*(){})}updatePaths(n){return Oe(this,null,function*(){n.paths.forEach(t=>t.visible=!1)})}updatePathNodes(n){return Oe(this,null,function*(){const{paths:t,opacity:e,visible:r}=n;for(const i of t)i.opacity=e,i.visible=r})}resetAllAnimation(n){var t,e;const{path:r,datum:i,label:o,marker:a}=(e=(t=this.opts)==null?void 0:t.animationResetFns)!=null?e:{};this.ctx.animationManager.stopByAnimationGroupId(this.id),r&&n.paths.forEach(s=>{ci(s,r)}),i&&ci(n.datumSelections,i),o&&ci(n.labelSelections,o),a&&ci(n.markerSelections,a),n.contextData.some(s=>s.animationValid===!1)&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(n){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(n)}animateWaitingUpdateReady(n){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(n)}animateReadyHighlight(n){var t,e;const{datum:r}=(e=(t=this.opts)==null?void 0:t.animationResetFns)!=null?e:{};r&&ci([n],r)}animateReadyHighlightMarkers(n){var t,e;const{marker:r}=(e=(t=this.opts)==null?void 0:t.animationResetFns)!=null?e:{};r&&ci([n],r)}animateReadyResize(n){this.resetAllAnimation(n)}animateClearingUpdateEmpty(n){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(n)}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(n,t){return{datumSelections:this.subGroups.map(({datumSelection:r})=>r),markerSelections:this.subGroups.filter(({markerSelection:r})=>r!==void 0).map(({markerSelection:r})=>r),labelSelections:this.subGroups.map(({labelSelection:r})=>r),annotationSelections:[...this.annotationSelections],contextData:this._contextNodeData,previousContextData:t,paths:this.subGroups.map(({paths:r})=>r),seriesRect:n}}calculateScaling(){const n={},t=e=>{const r=this.axes[e];if(r){if(r.scale instanceof Xj){const{range:i,domain:o}=r.scale;n[e]={type:"log",convert:a=>r.scale.convert(a),domain:[o[0],o[1]],range:[i[0],i[1]]}}else if(r.scale instanceof Rr){const{range:i}=r.scale,o=r.scale.getDomain();n[e]={type:"continuous",domain:[o[0],o[1]],range:[i[0],i[1]]}}else if(r.scale){const{domain:i}=r.scale;n[e]={type:"category",domain:i,range:i.map(o=>r.scale.convert(o))}}}};return t("x"),t("y"),n}},P9e=["top","right","bottom","left"],y2=class Wne extends QD{constructor(t,e){super(t,e),this.paired=!0,this.firstSeriesTranslation=!0,this._lastCrossLineIds=void 0,this._lastAxisWidths={top:0,bottom:0,left:0,right:0},this._lastVisibility={crossLines:!0,series:!0}}destroySeries(t){super.destroySeries(t),this.firstSeriesTranslation=!0}performLayout(){return Oe(this,null,function*(){const t=yield Cd(Wne.prototype,this,"performLayout").call(this),{firstSeriesTranslation:e,seriesRoot:r}=this,{animationRect:i,seriesRect:o,visibility:a,clipSeries:s}=this.updateAxes(t);this.seriesRoot.visible=a.series,this.seriesRect=o,this.animationRect=i;const{x:l,y:u}=o;if(e)r.translationX=Math.floor(l),r.translationY=Math.floor(u),this.firstSeriesTranslation=!1;else{const{translationX:p,translationY:h}=r;lc(this.id,"seriesRect",this.animationManager,[this.seriesRoot],{translationX:p,translationY:h},{translationX:Math.floor(l),translationY:Math.floor(u)},{phase:"update"})}const c=o.clone().grow(this.seriesArea.padding);this.hoverRect=c,this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},clipSeries:s,series:{rect:o,paddedRect:c,visible:a.series,shouldFlipXY:this.shouldFlipXY()},axes:this.axes.map(p=>de({id:p.id},p.getLayoutState()))});const d=Array.from(this.modules.values(),p=>{var h;return(h=p.performCartesianLayout)==null?void 0:h.call(p,{seriesRect:o})});return yield Promise.all(d),t})}updateAxes(t){var e;const r=this.axes.flatMap(m=>{var y;return(y=m.crossLines)!=null?y:[]}).map(m=>m.id),i=this._lastCrossLineIds!=null&&this._lastCrossLineIds.length===r.length&&this._lastCrossLineIds.every((m,y)=>r[y]===m);let o,a;i?(o=de({},this._lastAxisWidths),a=de({},this._lastVisibility)):(o={top:0,bottom:0,left:0,right:0},a={crossLines:!0,series:!0},this._lastCrossLineIds=r);const s=new Set(this.axes.map(m=>m.position));for(const m of Object.keys(o))s.has(m)||delete o[m];const l=(m,y)=>Object.keys(m).some(C=>o[C]==null)?!1:a.crossLines===y.crossLines&&a.series===y.series&&Object.entries(o).every(([C,S])=>{const w=m[C];return S!=null||w!=null?S===w:!0}),u=m=>fte(m,y=>y&&Math.abs(y)===1/0?0:y!=null?Math.ceil(y):y);let c={},d={},p=!1,h=(e=this.seriesRect)==null?void 0:e.clone(),f=0,v={};do{Object.assign(o,c),Object.assign(a,d);const m=this.updateAxesPass(o,t.clone(),h);if(c=u(m.axisWidths),d=m.visibility,p=m.clipSeries,h=m.seriesRect,v=m.primaryTickCounts,f++>10){Ue.warn("unable to find stable axis layout.");break}}while(!l(c,d));this.axes.forEach(m=>{m.update(v[m.direction])});const g=5;return this.axes.forEach(m=>{if(m.setCrossLinesVisible(a.crossLines),!!h)switch(m.clipGrid(h.x,h.y,h.width+g,h.height+g),m.position){case"left":case"right":m.clipTickLines(t.x,h.y,t.width+g,h.height+g);break;case"top":case"bottom":m.clipTickLines(h.x,t.y,h.width+g,t.height+g);break}}),this._lastAxisWidths=o,this._lastVisibility=a,{seriesRect:h,animationRect:t,visibility:a,clipSeries:p}}updateAxesPass(t,e,r){const i={},o={},a={series:!0,crossLines:!0};let s=!1;const l={},u=this.applySeriesPadding(e),c=r?this.buildCrossLinePadding(t):{},d=this.buildAxisBound(u,t,c,a),p=this.buildSeriesRect(d,t);return this.axes.forEach(h=>{var f,v;const{position:g="left"}=h,{clipSeries:m,axisThickness:y,axisOffset:C}=this.calculateAxisDimensions({axis:h,seriesRect:p,paddedBounds:u,axisWidths:t,newAxisWidths:o,primaryTickCounts:l,clipSeries:s,addInterAxisPadding:((f=i[g])!=null?f:0)>0});i[g]=((v=i[g])!=null?v:0)+1,s=s||m,this.positionAxis({axis:h,axisBound:d,axisOffset:C,axisThickness:y,axisWidths:t,primaryTickCounts:l,seriesRect:p})}),{clipSeries:s,seriesRect:p,axisWidths:o,visibility:a,primaryTickCounts:l}}buildCrossLinePadding(t){var e;const r={};this.axes.forEach(i=>{i.crossLines&&i.crossLines.forEach(o=>{o.calculatePadding(r)})});for(const[i,o=0]of Object.entries(r))r[i]=Math.max(o-((e=t[i])!=null?e:0),0);return r}applySeriesPadding(t){const e=t.clone(),r=this.axes.slice().reverse();return P9e.forEach(i=>{const o=this.seriesArea.padding[i],a=r.find(s=>s.position===i);a?a.seriesAreaPadding=o:e.shrink(o,i)}),e}buildAxisBound(t,e,r,i){var o,a,s,l;const u=t.clone(),{top:c=0,right:d=0,bottom:p=0,left:h=0}=r,f=h+d,v=c+p,g=((o=e.left)!=null?o:0)+((a=e.right)!=null?a:0)+f,m=((s=e.top)!=null?s:0)+((l=e.bottom)!=null?l:0)+v;return u.width<=g||u.height<=m?(i.crossLines=!1,i.series=!1,u):(u.x+=h,u.y+=c,u.width-=f,u.height-=v,u)}buildSeriesRect(t,e){const r=t.clone(),{top:i,bottom:o,left:a,right:s}=e;return r.x+=a??0,r.y+=i??0,r.width-=(a??0)+(s??0),r.height-=(i??0)+(o??0),r.width=Math.max(0,r.width),r.height=Math.max(0,r.height),r}clampToOutsideSeriesRect(t,e,r,i){const{x:o,y:a,width:s,height:l}=t,c=[o,a,o+s,a+l][(r==="x"?0:1)+(i===1?0:2)];return(i===1?Math.min:Math.max)(e,c)}calculateAxisDimensions(t){var e,r,i,o,a;const{axis:s,seriesRect:l,paddedBounds:u,axisWidths:c,newAxisWidths:d,primaryTickCounts:p,addInterAxisPadding:h}=t;let{clipSeries:f}=t;const{position:v="left",direction:g}=s,m=A=>A instanceof dd||A instanceof Qp?[0,l.height]:[l.height,0],y=(e=d[v])!=null?e:0;switch(v){case"top":case"bottom":s.range=[0,l.width],s.gridLength=l.height;break;case"right":case"left":s.range=m(s),s.gridLength=l.width;break}const{min:C,max:S}=this.zoomManager.getAxisZoom(s.id);s.visibleRange=[C,S],f||(f=s.dataDomain.clipped||s.visibleRange[0]>0||s.visibleRange[1]<1);let w=s.nice?p[g]:void 0;const _=g==="y",x=.3;s.maxThickness=s.thickness||(_?u.width:u.height)*x;const E=s.calculateLayout(w);w=E.primaryTickCount,(r=p[g])!=null||(p[g]=w);let R;if(s.thickness!=null&&s.thickness>0)R=s.thickness;else{const{bbox:A}=E;R=_?A.width:A.height}return h&&(R+=15),R=Math.ceil(R),d[v]=((i=d[v])!=null?i:0)+R,s.gridPadding=((o=c[v])!=null?o:0)-((a=d[v])!=null?a:0),{clipSeries:f,axisThickness:R,axisOffset:y,primaryTickCount:w}}positionAxis(t){var e,r,i,o;const{axis:a,axisBound:s,axisWidths:l,seriesRect:u,axisOffset:c,axisThickness:d}=t,{position:p}=a;switch(p){case"top":a.translation.x=s.x+((e=l.left)!=null?e:0),a.translation.y=this.clampToOutsideSeriesRect(u,s.y+1+c+d,"y",1);break;case"bottom":a.translation.x=s.x+((r=l.left)!=null?r:0),a.translation.y=this.clampToOutsideSeriesRect(u,s.y+s.height+1-d-c,"y",-1);break;case"left":a.translation.y=s.y+((i=l.top)!=null?i:0),a.translation.x=this.clampToOutsideSeriesRect(u,s.x+c+d,"x",1);break;case"right":a.translation.y=s.y+((o=l.top)!=null?o:0),a.translation.x=this.clampToOutsideSeriesRect(u,s.x+s.width-d-c,"x",-1);break}a.updatePosition({rotation:ao(a.rotation),sideFlag:a.label.getSideFlag()})}shouldFlipXY(){return!this.series.some(t=>!(t instanceof xh&&t.shouldFlipXY()))}};y2.className="CartesianChart";y2.type="cartesian";var D9e=y2,Mw=class Une{static isInstance(t){var e;return t instanceof Une||((e=t.constructor)==null?void 0:e.name)==="AgChartInstanceProxy"&&t.chart!=null?!0:t.chart!=null&&this.validateImplementation(t)}static validateImplementation(t){var e;const r=["getOptions","destroy"],i=Object.keys((e=Object.getPrototypeOf(t))!=null?e:{});return r.every(o=>i.includes(o))}constructor(t){this.chart=t}getOptions(){return io(this.chart.getOptions())}resetAnimations(){this.chart.resetAnimations()}skipAnimations(){this.chart.skipAnimations()}destroy(){this.chart.destroy()}};Mw.chartInstances=new WeakMap;D([Ci({oldValue(n){Mw.chartInstances.delete(n)},newValue(n){Mw.chartInstances.set(n,this)}})],Mw.prototype,"chart",2);var Zg=Mw,Yu=class extends Rr{constructor(){super([0,1],[0,1]),this.type="linear"}toDomain(n){return n}ticks(){var n;const t=(n=this.tickCount)!=null?n:Rr.defaultTickCount;if(!this.domain||this.domain.length<2||t<1||this.domain.some(o=>!isFinite(o)))return[];this.refresh();const[e,r]=this.getDomain(),{interval:i}=this;if(i){const o=Math.abs(i);if(!this.isDenseInterval({start:e,stop:r,interval:o}))return F0(e,r,o)}return KD(e,r,t,this.minTickCount,this.maxTickCount)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}getTickStep(n,t){var e,r;const i=(e=this.tickCount)!=null?e:Rr.defaultTickCount;return(r=this.interval)!=null?r:iy(n,t,i,this.minTickCount,this.maxTickCount)}updateNiceDomain(){var n;const t=(n=this.tickCount)!=null?n:Rr.defaultTickCount;if(t<1){this.niceDomain=[...this.domain];return}let[e,r]=this.domain;if(t===1)[e,r]=e8e(e,r);else{const i=e>r?Math.ceil:Math.floor,o=r<e?Math.floor:Math.ceil,a=4;for(let s=0;s<a;s++){const l=e,u=r,c=this.getTickStep(e,r),[d,p]=this.domain;if(c>=1)e=i(d/c)*c,r=o(p/c)*c;else{const h=1/c;e=i(d*h)/h,r=o(p*h)/h}if(e===l&&r===u)break}}this.niceDomain=[e,r]}tickFormat({ticks:n,specifier:t}){return Bre(n??this.ticks(),t)}};function A9e(n,t,e){let[r,i]=cd(n);r=M9e(Math.floor(r),i,t);const o=F9e(r,i,t),a=t-1;i=r+a*o;const s=e?[i,r]:[r,i],l=L9e(r,o,t);return[s,l]}function M9e(n,t,e){const r=Math.abs(t-n)/(e-1),i=Math.floor(Math.log10(r)),o=Math.pow(10,i);return Math.floor(n/o)*o}function L9e(n,t,e){const r=Math.floor(Math.log10(t)),i=t>0&&t<1?Math.abs(r):0,o=Math.pow(10,i),a=L0(i);for(let s=0;s<e;s++){const l=n+t*s;a[s]=Math.round(l*o)/o}return a}function F9e(n,t,e){const r=e-1,i=(t-n)/r;return I9e(i)}function I9e(n){const t=Math.floor(Math.log10(n)),e=Math.pow(10,t),r=n/e*10;return r>0&&r<=1?e/10:r>1&&r<=2?2*e/10:r>1&&r<=5?5*e/10:r>5&&r<=10?10*e/10:r>10&&r<=20?20*e/10:r>20&&r<=40?40*e/10:r>40&&r<=50?50*e/10:r>50&&r<=100?100*e/10:r}var zne=class extends zl{constructor(){super(...arguments),this.maxSpacing=NaN}};D([k(Wj),Ed(NaN)],zne.prototype,"maxSpacing",2);var gv=class extends z_{constructor(n,t=new Yu){super(n,t),this.min=NaN,this.max=NaN}normaliseDataDomain(n){const{min:t,max:e}=this,{extent:r,clipped:i}=k_(n,t,e);return{domain:r,clipped:i}}formatDatum(n){return typeof n=="number"?n.toFixed(2):(Ue.warnOnce("data contains Date objects which are being plotted against a number axis, please only use a number axis for numbers."),String(n))}createTick(){return new zne}updateSecondaryAxisTicks(n){if(this.dataDomain==null)throw new Error("AG Charts - dataDomain not calculated, cannot perform tick calculation.");if(this.dataDomain.domain.length===0)return[];const[t,e]=A9e(this.dataDomain.domain,n??0,this.reverse);return this.scale.nice=!1,this.scale.domain=t,this.scale.update(),e}};gv.className="NumberAxis";gv.type="number";D([k(uc(Dy,B_("max"))),Ed(NaN)],gv.prototype,"min",2);D([k(uc(Dy,j_("min"))),Ed(NaN)],gv.prototype,"max",2);var Kne=Ar(n=>xl(n)&&n!==0,"a non-zero number"),eh=class extends gv{constructor(n){super(n,new Xj),this.min=NaN,this.max=NaN}normaliseDataDomain(n){const{min:t,max:e}=this,{extent:r,clipped:i}=k_(n,t,e),o=r[0]>r[1],a=r[0]<0&&r[1]>0,s=r[0]===0&&r[1]===0;return(o||a||s)&&(n=[],a?Ue.warn("the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."):s&&Ue.warn("the data domain has 0 extent, no data is rendered.")),r[0]===0&&(r[0]=1),r[1]===0&&(r[1]=-1),{domain:r,clipped:i}}set base(n){this.scale.base=n}get base(){return this.scale.base}};eh.className="LogAxis";eh.type="log";D([k(uc(Dy,Kne,B_("max"))),Ed(NaN)],eh.prototype,"min",2);D([k(uc(Dy,Kne,j_("min"))),Ed(NaN)],eh.prototype,"max",2);var Yne=class extends zl{constructor(){super(...arguments),this.maxSpacing=NaN}};D([k(Wj),Ed(NaN)],Yne.prototype,"maxSpacing",2);var mv=class extends z_{constructor(n){super(n,new Qj),this.datumFormat="%m/%d/%y, %H:%M:%S",this.min=void 0,this.max=void 0;const{scale:t}=this;this.refreshScale(),this.datumFormatter=t.tickFormat({specifier:this.datumFormat})}normaliseDataDomain(n){var t;let{min:e,max:r}=this,i=!1;return typeof e=="number"&&(e=new Date(e)),typeof r=="number"&&(r=new Date(r)),n.length>2&&(n=((t=ac(n))!=null?t:[0,1e3]).map(o=>new Date(o))),e instanceof Date&&(i||(i=e>n[0]),n=[e,n[1]]),r instanceof Date&&(i||(i=r<n[1]),n=[n[0],r]),n[0]>n[1]&&(n=[]),{domain:n,clipped:i}}createTick(){return new Yne}onLabelFormatChange(n,t){t?super.onLabelFormatChange(n,t):this.labelFormatter=this.scale.tickFormat({ticks:n})}formatDatum(n){var t;return(t=this.moduleCtx.callbackCache.call(this.datumFormatter,n))!=null?t:String(n)}calculatePadding(n,t,e){return e?[1,0]:[0,1]}};mv.className="TimeAxis";mv.type="time";D([k(uc(Bj,B_("max")),{optional:!0})],mv.prototype,"min",2);D([k(uc(Bj,j_("min")),{optional:!0})],mv.prototype,"max",2);var f5=1e-6,Ub=(n,t,e,r,i)=>{let o=!1,a=!1,s=r-Math.sqrt(Math.max(It(i,2)-It(e,2),0)),l=0,u=0,c=e-Math.sqrt(Math.max(It(i,2)-It(r,2),0));return s>n?(o=!0,s=n,l=e-Math.sqrt(Math.max(It(i,2)-It(r-n,2)))):s<f5&&(s=0),c>t?(a=!0,u=r-Math.sqrt(Math.max(It(i,2)-It(e-t,2))),c=t):c<f5&&(c=0),{leading0:s,leading1:l,trailing0:u,trailing1:c,leadingClipped:o,trailingClipped:a}},zb=(n,{x0:t,y0:e,x1:r,y1:i,cx:o,cy:a},s,l)=>{if(l&&n.moveTo(t,e),t!==r||e!==i){const u=Math.atan2(e-a,t-o),c=Math.atan2(i-a,r-o);n.arc(o,a,s,u,c)}else n.lineTo(t,e)},eF=(n,t,e,r,i,o,a)=>{let{topLeft:s,topRight:l,bottomRight:u,bottomLeft:c}=o;const d=Math.max(s+c,l+u),p=Math.max(s+l,c+u);if(d<=0&&p<=0){n.rect(t,e,r,i);return}else if(a==null&&s===l&&s===u&&s===c){n.roundRect(t,e,r,i,s);return}if(r<0&&(t+=r,r=Math.abs(r)),i<0&&(e+=i,i=Math.abs(i)),a!=null){const x=Math.max(t,a.x),E=Math.min(t+r,a.x+a.width),R=Math.max(e,a.y),P=Math.min(e+i,a.y+a.height);t=x,e=R,r=E-x,i=P-R}if(r<=0||i<=0)return;a??(a=new Tt(t,e,r,i));const h=Math.max(d/a.height,p/a.width,1);h>1&&(s/=h,l/=h,u/=h,c/=h);let f=!0,v=!0,g=!0,m=!0,y,C,S,w;if(f){const x=Ub(i,r,Math.max(a.x+s-t,0),Math.max(a.y+s-e,0),s);x.leadingClipped&&(m=!1),x.trailingClipped&&(v=!1);const E=Math.max(t+x.leading1,t),R=Math.max(e+x.leading0,e),P=Math.max(t+x.trailing1,t),A=Math.max(e+x.trailing0,e),N=a.x+s,I=a.y+s;y={x0:E,y0:R,x1:P,y1:A,cx:N,cy:I}}if(v){const x=Ub(r,i,Math.max(a.y+l-e,0),Math.max(t+r-(a.x+a.width-l),0),l);x.leadingClipped&&(f=!1),x.trailingClipped&&(g=!1);const E=Math.min(t+r-x.leading0,t+r),R=Math.max(e+x.leading1,e),P=Math.min(t+r-x.trailing0,t+r),A=Math.max(e+x.trailing1,e),N=a.x+a.width-l,I=a.y+l;C={x0:E,y0:R,x1:P,y1:A,cx:N,cy:I}}if(g){const x=Ub(i,r,Math.max(t+r-(a.x+a.width-u),0),Math.max(e+i-(a.y+a.height-u),0),u);x.leadingClipped&&(v=!1),x.trailingClipped&&(m=!1);const E=Math.min(t+r-x.leading1,t+r),R=Math.min(e+i-x.leading0,e+i),P=Math.min(t+r-x.trailing1,t+r),A=Math.min(e+i-x.trailing0,e+i),N=a.x+a.width-u,I=a.y+a.height-u;S={x0:E,y0:R,x1:P,y1:A,cx:N,cy:I}}if(m){const x=Ub(r,i,Math.max(e+i-(a.y+a.height-c),0),Math.max(a.x+c-t,0),c);x.leadingClipped&&(g=!1),x.trailingClipped&&(f=!1);const E=Math.max(t+x.leading0,t),R=Math.min(e+i-x.leading1,e+i),P=Math.max(t+x.trailing0,t),A=Math.min(e+i-x.trailing1,e+i),N=a.x+c,I=a.y+a.height-c;w={x0:E,y0:R,x1:P,y1:A,cx:N,cy:I}}let _=!1;f&&y!=null&&(zb(n,y,s,!_),_||(_=!0)),v&&C!=null&&(zb(n,C,l,!_),_||(_=!0)),g&&S!=null&&(zb(n,S,u,!_),_||(_=!0)),m&&w!=null&&(zb(n,w,c,!_),_||(_=!0)),n.closePath()},uo=class extends hs{constructor(){super(...arguments),this.borderPath=new oy,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.cornerRadiusBbox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=qs.defaultStyles.strokeWidth,this.effectiveStrokeWidth=qs.defaultStyles.strokeWidth,this.microPixelEffectOpacity=1}set cornerRadius(n){this.topLeftCornerRadius=n,this.topRightCornerRadius=n,this.bottomRightCornerRadius=n,this.bottomLeftCornerRadius=n}isDirtyPath(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth?!0:!!(this.path.isDirty()||this.borderPath.isDirty())}updatePath(){var n,t,e;const{path:r,borderPath:i,crisp:o,topLeftCornerRadius:a,topRightCornerRadius:s,bottomRightCornerRadius:l,bottomLeftCornerRadius:u}=this;let{x:c,y:d,width:p,height:h,strokeWidth:f,cornerRadiusBbox:v}=this;const m=1/((t=(n=this.layerManager)==null?void 0:n.canvas.pixelRatio)!=null?t:1);let y=1;if(r.clear({trackChanges:!0}),i.clear({trackChanges:!0}),o&&(p<=m&&(y*=p/m),h<=m&&(y*=h/m),p=this.align(c,p),h=this.align(d,h),c=this.align(c),d=this.align(d),v=v!=null?new Tt(this.align(v.x),this.align(v.y),this.align(v.x,v.width),this.align(v.y,v.height)):void 0),f)if(p<m){const C=c+m/2;i.moveTo(C,d),i.lineTo(C,d+h),f=m,this.borderClipPath=void 0}else if(h<m){const C=d+m/2;i.moveTo(c,C),i.lineTo(c+p,C),f=m,this.borderClipPath=void 0}else if(f<p&&f<h){const C=f/2;c+=C,d+=C,p-=f,h-=f;const S=v==null?void 0:v.clone().shrink(C),w={topLeft:a>0?a-f:0,topRight:s>0?s-f:0,bottomRight:l>0?l-f:0,bottomLeft:u>0?u-f:0};this.borderClipPath=void 0,eF(r,c,d,p,h,w,S),eF(i,c,d,p,h,w,S)}else this.borderClipPath=(e=this.borderClipPath)!=null?e:new oy,this.borderClipPath.clear({trackChanges:!0}),this.borderClipPath.rect(c,d,p,h),i.rect(c,d,p,h);else{const C={topLeft:a,topRight:s,bottomRight:l,bottomLeft:u};this.borderClipPath=void 0,eF(r,c,d,p,h,C,v)}this.effectiveStrokeWidth=f,this.lastUpdatePathStrokeWidth=f,this.microPixelEffectOpacity=y}computeBBox(){const{x:n,y:t,width:e,height:r}=this;return new Tt(n,t,e,r)}isPointInPath(n,t){const e=this.transformPoint(n,t);return this.computeBBox().containsPoint(e.x,e.y)}applyFillAlpha(n){const{fillOpacity:t,microPixelEffectOpacity:e,opacity:r}=this,{globalAlpha:i}=n;n.globalAlpha=i*r*t*e}renderStroke(n){const{stroke:t,effectiveStrokeWidth:e,borderPath:r,borderClipPath:i,opacity:o,microPixelEffectOpacity:a}=this;if(!!t&&!!e){const{strokeOpacity:l,lineDash:u,lineDashOffset:c,lineCap:d,lineJoin:p}=this;i&&(i.draw(n),n.clip()),r.draw(n);const{globalAlpha:h}=n;n.strokeStyle=t,n.globalAlpha=h*o*l*a,n.lineWidth=e,u&&n.setLineDash(u),c&&(n.lineDashOffset=c),d&&(n.lineCap=d),p&&(n.lineJoin=p),n.stroke(),n.globalAlpha=h}}};uo.className="Rect";D([Mt()],uo.prototype,"x",2);D([Mt()],uo.prototype,"y",2);D([Mt()],uo.prototype,"width",2);D([Mt()],uo.prototype,"height",2);D([Mt()],uo.prototype,"topLeftCornerRadius",2);D([Mt()],uo.prototype,"topRightCornerRadius",2);D([Mt()],uo.prototype,"bottomRightCornerRadius",2);D([Mt()],uo.prototype,"bottomLeftCornerRadius",2);D([Mt()],uo.prototype,"cornerRadiusBbox",2);D([Mt()],uo.prototype,"crisp",2);var q_=class extends wj{constructor(n){var t;super(),this.node=new st({name:"background",zIndex:0}),this.rectNode=new uo,this.visible=!0,this.fill="white",this.image=void 0,this.node.appendChild(this.rectNode),(t=n.scene.root)==null||t.appendChild(this.node),this.destroyFns.push(()=>{var e;return(e=n.scene.root)==null?void 0:e.removeChild(this.node)},n.layoutService.addListener("layout-complete",e=>this.onLayoutComplete(e)))}onLayoutComplete(n){const{width:t,height:e}=n.chart;this.rectNode.width=t,this.rectNode.height=e}};D([k(St),Hr("node","visible")],q_.prototype,"visible",2);D([k(tr,{optional:!0}),Hr("rectNode","fill")],q_.prototype,"fill",2);D([k(ct,{optional:!0})],q_.prototype,"image",2);var qne={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy"],instanceConstructor:q_},Ll=class extends hs{constructor(){super(...arguments),this._fill="#f2f2f2",this._stroke="#999999",this._strokeWidth=1,this._lineCap="square",this._centerX=0,this._centerY=0,this._width=8,this._gripLineGap=2,this._gripLineLength=8,this._height=16}set centerX(n){this._centerX!==n&&(this._centerX=n,this.dirtyPath=!0)}get centerX(){return this._centerX}set centerY(n){this._centerY!==n&&(this._centerY=n,this.dirtyPath=!0)}get centerY(){return this._centerY}set width(n){this._width!==n&&(this._width=n,this.dirtyPath=!0)}get width(){return this._width}set gripLineGap(n){this._gripLineGap!==n&&(this._gripLineGap=n,this.dirtyPath=!0)}get gripLineGap(){return this._gripLineGap}set gripLineLength(n){this._gripLineLength!==n&&(this._gripLineLength=n,this.dirtyPath=!0)}get gripLineLength(){return this._gripLineLength}set height(n){this._height!==n&&(this._height=n,this.dirtyPath=!0)}get height(){return this._height}computeBBox(){const{centerX:n,centerY:t,width:e,height:r}=this,i=n-e/2,o=t-r/2;return new Tt(i,o,e,r)}isPointInPath(n,t){const e=this.transformPoint(n,t);return this.computeBBox().containsPoint(e.x,e.y)}updatePath(){const{path:n,centerX:t,centerY:e,width:r,height:i}=this;n.clear();const o=t-r/2,a=e-i/2,s=this.align(o),l=this.align(a),u=s+this.align(o,r),c=l+this.align(a,i);n.moveTo(s,l),n.lineTo(u,l),n.lineTo(u,c),n.lineTo(s,c),n.closePath();const d=this.gripLineGap/2,p=this.gripLineLength/2;n.moveTo(this.align(t-d),this.align(e-p)),n.lineTo(this.align(t-d),this.align(e+p)),n.moveTo(this.align(t+d),this.align(e-p)),n.lineTo(this.align(t+d),this.align(e+p))}};Ll.className="RangeHandle";D([k(tr)],Ll.prototype,"_fill",2);D([k(tr)],Ll.prototype,"_stroke",2);D([k(Le)],Ll.prototype,"_strokeWidth",2);D([k(vre)],Ll.prototype,"_lineCap",2);D([k(Le)],Ll.prototype,"_width",2);D([k(Le)],Ll.prototype,"_gripLineGap",2);D([k(Le)],Ll.prototype,"_gripLineLength",2);D([k(Le)],Ll.prototype,"_height",2);function eA(n,t){n!==t&&(this.dirtyPath=!0)}var bh=class extends hs{constructor(){super(...arguments),this.x=0,this.y=0,this.width=200,this.height=30,this.minRange=.001,this._min=0,this._max=1}set min(n){var t;n=rr(0,n,this.max-this.minRange),this._min!==n&&!isNaN(n)&&(this._min=n,this.dirtyPath=!0,(t=this.onRangeChange)==null||t.call(this))}get min(){return this._min}set max(n){var t;n=rr(this.min+this.minRange,n,1),this._max!==n&&!isNaN(n)&&(this._max=n,this.dirtyPath=!0,(t=this.onRangeChange)==null||t.call(this))}get max(){return this._max}computeBBox(){const{x:n,y:t,width:e,height:r}=this;return new Tt(n,t,e,r)}computeVisibleRangeBBox(){const{x:n,y:t,width:e,height:r,min:i,max:o}=this,a=n+e*i,s=n+e*o;return new Tt(a,t,s-a,r)}updatePath(){const{path:n,x:t,y:e,width:r,height:i,min:o,max:a}=this;n.clear();const s=this.align(t),l=this.align(e),u=s+this.align(t,r),c=l+this.align(e,i);n.moveTo(s,l),n.lineTo(u,l),n.lineTo(u,c),n.lineTo(s,c),n.lineTo(s,l);const d=this.align(t+r*o),p=this.align(t+r*a);n.moveTo(d,l),n.lineTo(d,c),n.lineTo(p,c),n.lineTo(p,l),n.lineTo(d,l)}};bh.className="RangeMask";D([Ci({changeValue:eA}),k(Le)],bh.prototype,"x",2);D([Ci({changeValue:eA}),k(Le)],bh.prototype,"y",2);D([Ci({changeValue:eA}),k(Le)],bh.prototype,"width",2);D([Ci({changeValue:eA}),k(Le)],bh.prototype,"height",2);D([k(Vr)],bh.prototype,"_min",2);D([k(Vr)],bh.prototype,"_max",2);var X_=class Xne extends st{constructor(){super({name:"rangeSelectorGroup",layer:!0}),this.minHandle=new Ll,this.maxHandle=new Ll,this.background=(()=>{const t=new st({name:"navigator-background"});return t.zIndex=1,this.appendChild(t),t})(),this.mask=(()=>{const{x:t,y:e,width:r,height:i,min:o,max:a}=Xne.defaults,s=new bh;s.x=t,s.y=e,s.width=r,s.height=i,s.min=o,s.max=a,s.zIndex=2;const{minHandle:l,maxHandle:u}=this;return l.centerX=t,u.centerX=t+r,l.centerY=u.centerY=e+i/2,l.zIndex=4,u.zIndex=3,this.append([s,l,u]),s.onRangeChange=()=>{var c;this.updateHandles(),(c=this.onRangeChange)==null||c.call(this)},s})(),this.isContainerNode=!0}layout(t,e,r,i){this.mask.x=t,this.mask.y=e,this.mask.width=r,this.mask.height=i,this.updateHandles(),this.background.translationX=t,this.background.translationY=e}updateHandles(){const{x:t,y:e,width:r,height:i}=this.mask,{minHandle:o,maxHandle:a,min:s,max:l}=this;o.centerX=t+r*s,a.centerX=t+r*l,o.centerY=a.centerY=e+i/2,s+(l-s)/2<.5?(o.zIndex=3,a.zIndex=4):(o.zIndex=4,a.zIndex=3)}computeBBox(){return this.mask.computeBBox()}computeVisibleRangeBBox(){return this.mask.computeVisibleRangeBBox()}};X_.className="Range";X_.defaults={x:0,y:0,width:200,height:30,min:0,max:1};D([yh("mask.min")],X_.prototype,"min",2);D([yh("mask.max")],X_.prototype,"max",2);var N9e=X_,Yl=class extends wj{constructor(n){var t;super(),this.ctx=n,this.rs=new N9e,this.miniChart=void 0,this.minHandleDragging=!1,this.maxHandleDragging=!1,this.panHandleOffset=NaN,this.enabled=!1,this.height=30,this.margin=10,this.visible=!0,this.x=0,this.y=0,this.width=0,this.rs.onRangeChange=q5e(()=>this.onRangeChange()),(t=n.scene.root)==null||t.appendChild(this.rs);const e=13;this.destroyFns.push(n.interactionManager.addListener("drag-start",r=>this.onDragStart(r),e),n.interactionManager.addListener("drag",r=>this.onDrag(r),e),n.interactionManager.addListener("hover",r=>this.onDrag(r),e),n.interactionManager.addListener("drag-end",()=>this.onDragStop(),e),n.zoomManager.addListener("zoom-change",()=>this.onZoomChange()),()=>{var r;return(r=n.scene.root)==null?void 0:r.removeChild(this.rs)},()=>delete this.rs.onRangeChange),this.updateGroupVisibility()}updateGroupVisibility(){const n=!!(this.enabled&&this.visible);n!==this.rs.visible&&(this.rs.visible=n,n&&this.onRangeChange())}performLayout(n){return Oe(this,arguments,function*({shrinkRect:t}){if(this.enabled){const e=this.height+this.margin;t.shrink(e,"bottom"),this.y=t.y+t.height+this.margin}else this.y=0;return{shrinkRect:t}})}performCartesianLayout(n){return Oe(this,null,function*(){const{x:t,width:e}=n.seriesRect,r=!0;if(this.enabled&&r){const{y:i,height:o}=this;this.rs.layout(t,i,e,o)}this.visible=r,this.x=t,this.width=e})}onRangeChange(){var n,t;const{min:e,max:r}=this.rs,i=this.ctx.zoomManager.getZoom();(((n=i==null?void 0:i.x)==null?void 0:n.min)!==e||((t=i==null?void 0:i.x)==null?void 0:t.max)!==r)&&this.ctx.zoomManager.updateZoom({x:{min:e,max:r},y:i==null?void 0:i.y})}onZoomChange(){const n=this.ctx.zoomManager.getZoom();n&&n.x&&(this.min=n.x.min,this.max=n.x.max)}onDragStart(n){if(!this.enabled)return;const{offsetX:t,offsetY:e}=n,{rs:r}=this,{minHandle:i,maxHandle:o,min:a}=r,{x:s,width:l}=this,u=r.computeVisibleRangeBBox();this.minHandleDragging||this.maxHandleDragging||(i.zIndex<o.zIndex?o.containsPoint(t,e)?this.maxHandleDragging=!0:i.containsPoint(t,e)&&(this.minHandleDragging=!0):i.containsPoint(t,e)?this.minHandleDragging=!0:o.containsPoint(t,e)&&(this.maxHandleDragging=!0),!this.minHandleDragging&&!this.maxHandleDragging&&u.containsPoint(t,e)&&(this.panHandleOffset=(t-s)/l-a))}onDrag(n){if(!this.enabled)return;const{rs:t,panHandleOffset:e}=this,{minHandle:r,maxHandle:i}=t,{x:o,y:a,width:s,height:l}=this,{offsetX:u,offsetY:c}=n,d=o+s*t.min,p=o+s*t.max,h=new Tt(d,a,p-d,l),f=()=>rr(0,(u-o)/s,1);if(r.containsPoint(u,c)||i.containsPoint(u,c)?this.ctx.cursorManager.updateCursor("navigator","ew-resize"):h.containsPoint(u,c)?this.ctx.cursorManager.updateCursor("navigator","grab"):this.ctx.cursorManager.updateCursor("navigator"),this.minHandleDragging)t.min=f();else if(this.maxHandleDragging)t.max=f();else if(!isNaN(e)){const v=t.max-t.min,g=Math.min(f()-e,1-v);g<=t.min?(t.min=g,t.max=t.min+v):(t.max=g+v,t.min=t.max-v)}}onDragStop(){this.stopHandleDragging()}stopHandleDragging(){this.minHandleDragging=this.maxHandleDragging=!1,this.panHandleOffset=NaN}};D([k(ct,{optional:!0})],Yl.prototype,"miniChart",2);D([k(St),Ay(n=>n.updateGroupVisibility())],Yl.prototype,"enabled",2);D([yh("rs.mask")],Yl.prototype,"mask",2);D([yh("rs.minHandle")],Yl.prototype,"minHandle",2);D([yh("rs.maxHandle")],Yl.prototype,"maxHandle",2);D([yh("rs.min")],Yl.prototype,"min",2);D([yh("rs.max")],Yl.prototype,"max",2);D([k(Le)],Yl.prototype,"margin",2);D([k(St),Ay(n=>n.updateGroupVisibility())],Yl.prototype,"visible",2);var Zne={type:"root",optionsKey:"navigator",packageType:"community",chartTypes:["cartesian"],instanceConstructor:Yl,themeTemplate:{navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}}},C2=({takeColors:n})=>{const{fills:[t],strokes:[e]}=n(1);return{fill:t,stroke:e}},Z_=n=>{const{fill:t,stroke:e}=C2(n);return{marker:{fill:t,stroke:e}}};function Qne(n,t,e,r,i){const{addPhaseFn:o,updatePhaseFn:a,removePhaseFn:s}=i,l=(u,c,d)=>{e.animate({id:`${n}_${t}_${c.id}_${u}`,groupId:n,from:0,to:1,ease:P0,onUpdate(p,h){h&&u!=="removed"||(c.path.clear({trackChanges:!0}),d(p,c),c.checkPathDirty())},onStop(){u==="added"&&(c.path.clear({trackChanges:!0}),d(1,c),c.checkPathDirty())},phase:bo[u]})};for(const u of r)e.isSkipped()||(l("removed",u,s),l("updated",u,a)),l("added",u,o)}var JC=null;function Qr(n){if(n!=null)return n===""?"":(JC??(JC=document.createElement("div")),JC.textContent=String(n),JC.innerHTML)}function Sr({id:n},t,e,r){lc(n,t,e,r,{opacity:0},{opacity:1},{phase:"trailing"})}function Zf({id:n},t,e,r){lc(n,t,e,r,{opacity:1},{opacity:0},{phase:"remove"})}function Td(n){return{opacity:1}}var Jne=class extends Fr{constructor(){super(...arguments),this._dirty=3}markDirty(n,t=1){this._dirty<t&&(this._dirty=t)}markClean(n){this._dirty=0}isDirty(){return this._dirty>0}},ql=class extends Jne{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}};D([k(St),Je({redraw:3})],ql.prototype,"enabled",2);D([k(tr),Je({redraw:3})],ql.prototype,"color",2);D([k(Vr),Je({redraw:3})],ql.prototype,"xOffset",2);D([k(Vr),Je({redraw:3})],ql.prototype,"yOffset",2);D([k(Le),Je({redraw:3})],ql.prototype,"blur",2);var k9e=Ar(n=>Rne(n)||Object.getPrototypeOf(n)===nl,"a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),_a=class extends Jne{constructor(){super(...arguments),this.enabled=!0,this.shape=Ku,this.size=6,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1}getStyle(){const{size:n,fill:t,fillOpacity:e,stroke:r,strokeWidth:i,strokeOpacity:o}=this;return{size:n,fill:t,fillOpacity:e,stroke:r,strokeWidth:i,strokeOpacity:o}}getDiameter(){return this.size+this.strokeWidth}};D([k(St),Je({redraw:3})],_a.prototype,"enabled",2);D([k(k9e),Je({redraw:3})],_a.prototype,"shape",2);D([k(Le),Je({redraw:3})],_a.prototype,"size",2);D([k(tr,{optional:!0}),Je({redraw:3})],_a.prototype,"fill",2);D([k(_r),Je({redraw:3})],_a.prototype,"fillOpacity",2);D([k(tr,{optional:!0}),Je({redraw:3})],_a.prototype,"stroke",2);D([k(Le),Je({redraw:3})],_a.prototype,"strokeWidth",2);D([k(_r),Je({redraw:3})],_a.prototype,"strokeOpacity",2);D([k(el,{optional:!0}),Je({redraw:3})],_a.prototype,"formatter",2);var eie=class extends Fr{constructor(){super(...arguments),this.enabled=!1}};D([k(St)],eie.prototype,"enabled",2);var xa=class extends Fr{constructor(){super(...arguments),this.enabled=!0,this.interaction=new eie,this.position=new $_}toTooltipHtml(n,t){return this.renderer?A0(this.renderer(t),n):A0(n)}};D([k(St)],xa.prototype,"enabled",2);D([k(St,{optional:!0})],xa.prototype,"showArrow",2);D([k(el,{optional:!0})],xa.prototype,"renderer",2);D([k(ct)],xa.prototype,"interaction",2);D([k(ct)],xa.prototype,"position",2);var Di=class extends _h{constructor(){super(...arguments),this.xName=void 0,this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.shadow=new ql,this.marker=new _a,this.label=new oi,this.tooltip=new xa,this.connectMissingData=!1}};D([k(Ne)],Di.prototype,"xKey",2);D([k(Ne,{optional:!0})],Di.prototype,"xName",2);D([k(Ne)],Di.prototype,"yKey",2);D([k(Ne,{optional:!0})],Di.prototype,"yName",2);D([k(Le,{optional:!0})],Di.prototype,"normalizedTo",2);D([k(tr)],Di.prototype,"fill",2);D([k(_r)],Di.prototype,"fillOpacity",2);D([k(tr)],Di.prototype,"stroke",2);D([k(Le)],Di.prototype,"strokeWidth",2);D([k(_r)],Di.prototype,"strokeOpacity",2);D([k(xd)],Di.prototype,"lineDash",2);D([k(Le)],Di.prototype,"lineDashOffset",2);D([k(ct)],Di.prototype,"shadow",2);D([k(ct)],Di.prototype,"marker",2);D([k(ct)],Di.prototype,"label",2);D([k(ct)],Di.prototype,"tooltip",2);D([k(St)],Di.prototype,"connectMissingData",2);function N0({id:n},t,e,r){const i={phase:r?bo[r]:"trailing"};lc(n,"markers",t,e,{opacity:0},{opacity:1},i),e.forEach(o=>o.cleanup())}function S2({id:n},t,e){lc(n,"markers",t,e,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1},{phase:"initial"}),e.forEach(r=>r.cleanup())}function w2({id:n,nodeDataDependencies:t},e,r){const i=t.seriesRectWidth;tn(n,"markers",e,r,{fromFn:(s,l)=>{var u,c;const d=(c=(u=l.midPoint)==null?void 0:u.x)!=null?c:i;return{scalingX:0,scalingY:0,delay:rr(0,ire(d/i),1),duration:BD,phase:"initial"}},toFn:()=>({scalingX:1,scalingY:1})})}function Q_(n){return{opacity:1,scalingX:1,scalingY:1}}function k0(n,t){var e,r,i,o;return{translationX:(r=(e=t.point)==null?void 0:e.x)!=null?r:NaN,translationY:(o=(i=t.point)==null?void 0:i.y)!=null?o:NaN}}function _2(n,t){const e=(a,s)=>{const l=n[s][a];return Array.isArray(l)?l[0]:l},r=a=>{const{xValue:s}=a;return n.moved[s]?{point:e(s,"moved"),status:"updated"}:n.removed[s]?{point:e(s,"removed"),status:"removed"}:n.added[s]?{point:e(s,"added"),status:"added"}:{status:"unknown"}};return{fromFn:(a,s)=>{var l,u,c,d,p,h;const{status:f,point:v}=r(s);if(f==="unknown")return{opacity:0};const g={translationX:(u=(l=v==null?void 0:v.from)==null?void 0:l.x)!=null?u:a.translationX,translationY:(d=(c=v==null?void 0:v.from)==null?void 0:c.y)!=null?d:a.translationY,opacity:a.opacity,phase:bo[f]};return t==="added"?Xe(de({},g),{opacity:0,translationX:(p=v==null?void 0:v.to)==null?void 0:p.x,translationY:(h=v==null?void 0:v.to)==null?void 0:h.y,phase:bo.added}):(f==="added"&&(g.opacity=0),g)},toFn:(a,s)=>{var l,u;const{status:c,point:d}=r(s);if(c==="unknown")return{opacity:0};const p={translationX:s.point.x,translationY:s.point.y,opacity:1,phase:bo[c]};return c==="removed"||t==="removed"?Xe(de({},p),{translationX:(l=d==null?void 0:d.to)==null?void 0:l.x,translationY:(u=d==null?void 0:d.to)==null?void 0:u.y,opacity:0,phase:bo.removed}):p}}}function PN(n){return n.reduce(({min:t,max:e},r)=>((t==null||t.point.x>r.point.x)&&(t=r),(e==null||e.point.x<r.point.x)&&(e=r),{min:t,max:e}),{})}function v5(n,t,e){const r=(t.y-n.y)/(t.x-n.x),i=(e-n.x)*r+n.y;return{x:e,y:i}}function g5(n,t,e,r){let i=-1,o=0;const a=[];for(;o<n.length;){if(n[o].change===t){a.push(n[o]),o++;continue}if(n[o].change===e){o++;continue}a.length>0&&(r(a,i,o),a.length=0),i=o,o++}a.length>0&&r(a,i,o)}function x2(n,t){g5(n,"out","in",(e,r,i)=>{var o,a;r===-1&&n[i]?e.forEach(s=>s.to=n[i].from):i===n.length&&n[r]?e.forEach(s=>s.to=n[r].from):t==="intersect"&&((o=n[r])!=null&&o.from)&&((a=n[i])!=null&&a.from)?e.forEach(s=>s.to=v5(n[r].from,n[i].from,s.from.x)):e.forEach(s=>s.to=s.from)}),g5(n,"in","out",(e,r,i)=>{var o,a;r===-1&&n[i]?e.forEach(s=>s.from=n[i].to):i===n.length&&n[r]?e.forEach(s=>s.from=n[r].to):t==="intersect"&&((o=n[r])!=null&&o.to)&&((a=n[i])!=null&&a.to)?e.forEach(s=>s.from=v5(n[r].to,n[i].to,s.to.x)):e.forEach(s=>s.from=s.to)})}function m5(n,t,e){const r=isNaN(n.x)?t.x:n.x,i=isNaN(n.y)?t.y:n.y,o=t.x-n.x,a=t.y-n.y,s=isNaN(o)?0:o*e,l=isNaN(a)?0:a*e;return{x:r+s,y:i+l}}function b2(n,t,e){const{path:r}=e;let i;for(const o of n){const{from:a,to:s}=o,l=t[o.change];if(l==null||a==null||s==null)continue;const{x:u,y:c}=m5(a,s,l);if(o.moveTo===!1)r.lineTo(u,c);else if(o.moveTo===!0||!i)r.moveTo(u,c);else if(i){const d=o.moveTo==="in"?l:1-l,{x:p,y:h}=m5(i,{x:u,y:c},d);r.lineTo(p,h),r.moveTo(u,c)}i={x:u,y:c}}}function E2({id:n,visible:t,nodeDataDependencies:e},r,i){const{seriesRectWidth:o,seriesRectHeight:a}=e;lc(n,"path_properties",r,i,{clipX:0},{clipX:o},{phase:"initial",start:{clipMode:"normal",clipY:a,visible:t},finish:{clipMode:void 0,visible:t}})}function Lw({id:n},t,e,r,i="add"){lc(n,t,e,r,{opacity:0},{opacity:1},{phase:i})}function G9e({id:n},t,e,r){lc(n,t,e,r,{opacity:1},{opacity:0},{phase:"remove"})}function O2(n){return t=>({opacity:n.getOpacity(),clipScalingX:1,clipMode:void 0})}function yT({nodeDataDependencies:n},t){const e=r=>isFinite(r)?r:0;t.clipX=e(n.seriesRectWidth),t.clipY=e(n.seriesRectHeight)}function y5(n){return n.type==="continuous"||n.type==="log"}function C5(n){return n.type==="category"}function S5(n,t){return n.domain.length===t.domain.length&&n.range.length===t.range.length&&n.domain.every((e,r)=>e===t.domain[r])&&n.range.every((e,r)=>e===t.range[r])}function w5(n,t){return n===void 0||t===void 0?n!==void 0||t!==void 0:y5(n)&&y5(t)?n.type===t.type&&S5(n,t):C5(n)&&C5(t)?S5(n,t):!1}function Kb(n,t){if(!t)return NaN;if(n instanceof Date&&(n=n.getTime()),t.type==="continuous"&&typeof n=="number")return(n-t.domain[0])/(t.domain[1]-t.domain[0])*(t.range[1]-t.range[0])+t.range[0];if(t.type==="log"&&typeof n=="number")return t.convert(n);const e=t.domain.findIndex(r=>r===n);return e>=0?t.range[e]:NaN}function V9e(n,t){return!w5(n.scales.x,t.scales.x)||!w5(n.scales.y,t.scales.y)}function B9e(n,t){const e=Number(n),r=Number(t);return!isNaN(e)&&!isNaN(r)?Math.abs(r-e)<.25:n===t}function tie(n=!1,t=!1){return n===t?!!n:n?"in":"out"}function G0(n,t,e={}){var r,i,o,a;const{backfillSplitMode:s="intersect"}=e,l=C=>{var S,w;return{x:Kb((S=C.xValue)!=null?S:NaN,n.scales.x),y:Kb((w=C.yValue)!=null?w:NaN,n.scales.y)}},u=C=>{var S,w;return{x:Kb((S=C.xValue)!=null?S:NaN,t.scales.x),y:Kb((w=C.yValue)!=null?w:NaN,t.scales.y)}},c=[],d={added:{},moved:{},removed:{}},p=(C,S,w,_="move")=>{C&&(isNaN(C.point.x)||isNaN(C.point.y))&&(C=S);const x={from:C==null?void 0:C.point,to:S==null?void 0:S.point,moveTo:tie(C==null?void 0:C.point.moveTo,S==null?void 0:S.point.moveTo),change:_};_==="move"?(d.moved[w]=x,m++,y++):_==="in"?(d.added[w]=x,y++):_==="out"&&(d.removed[w]=x,m++),c.push(x)},{min:h,max:f}=PN(t.nodeData),{min:v,max:g}=PN(n.nodeData);let m=0,y=0;for(;m<t.nodeData.length||y<n.nodeData.length;){const C=t.nodeData[m],S=n.nodeData[y],w=C?l(C):void 0,_=S?u(S):void 0,x=void 0;if(w&&B9e(w.x,S==null?void 0:S.point.x))p(C,S,S.xValue,"move");else if(w&&w.x<((r=v==null?void 0:v.point.x)!=null?r:-1/0))p(C,x,C.xValue,"out");else if(w&&w.x>((i=g==null?void 0:g.point.x)!=null?i:1/0))p(C,x,C.xValue,"out");else if(_&&_.x<((o=h==null?void 0:h.point.x)!=null?o:-1/0))p(x,S,S.xValue,"in");else if(_&&_.x>((a=f==null?void 0:f.point.x)!=null?a:1/0))p(x,S,S.xValue,"in");else if(w&&w.x<(S==null?void 0:S.point.x))p(C,x,C.xValue,"out");else if(_&&_.x<(C==null?void 0:C.point.x))p(x,S,S.xValue,"in");else if(C)p(C,x,C.xValue,"out");else if(S)p(x,S,S.xValue,"in");else throw new Error("Unable to process points")}return x2(c,s),{result:c,resultMap:d}}function V0(n,t,e,r={}){var i,o,a;const{backfillSplitMode:s="intersect",multiDatum:l=!1}=r,u=[],c={added:{},moved:{},removed:{}},d={added:{},moved:{},removed:{}};let p,h;const f=(C,S)=>{var w,_;const x=S.change==="move"?"moved":S.change==="in"?"added":"removed";l?((_=(w=d[x])[C])!=null||(w[C]=[]),d[x][C].push(S)):c[x][C]=S,p=S,h=Om(C)};let v=0,g=0,m=!1;for(;v<t.nodeData.length||g<n.nodeData.length;){const C=t.nodeData[v],S=n.nodeData[g],w=Om(C==null?void 0:C.xValue),_=Om(S==null?void 0:S.xValue);let x;if(w===_)x={change:"move",moveTo:tie((i=C.point.moveTo)!=null?i:!1,S.point.moveTo),from:C.point,to:S.point},f(C==null?void 0:C.xValue,x),v++,g++;else if(e!==void 0&&e.removed.indexOf(String(w))>=0)x={change:"out",moveTo:(o=C.point.moveTo)!=null?o:!1,from:C.point},f(C==null?void 0:C.xValue,x),v++;else if(e!==void 0&&e.added.indexOf(String(_))>=0)x={change:"in",moveTo:(a=S.point.moveTo)!=null?a:!1,to:S.point},f(S==null?void 0:S.xValue,x),g++;else if(l&&p&&h===w)x=de({},p),f(C==null?void 0:C.xValue,x),v++;else if(l&&p&&h===_)x=de({},p),f(S==null?void 0:S.xValue,x),g++;else{m=!0;break}u.push(x)}let y=-1/0;return m||(m=u.some(C=>{const{change:S,to:{x:w=-1/0}={}}=C;if(S==="out")return;const _=w<y;return y=w,_})),m?{result:void 0,resultMap:void 0}:(x2(u,s),l?{result:u,resultMap:d}:{result:u,resultMap:c})}function rie(n,t){let e="updated";const r=i=>i.visible;return!r(t)&&r(n)?e="added":r(t)&&!r(n)&&(e="removed"),e}function j9e(n,t){const e=t==="none"?"updated":n,r={fromFn:i=>{let o;return n==="removed"?o={finish:{visible:!1}}:n==="added"?o={start:{visible:!0}}:o={},de({phase:bo[e]},o)},toFn:i=>({phase:bo[e]})};return t==="fade"?{fromFn:i=>{const o=n==="added"?0:i.opacity;return de({opacity:o},r.fromFn(i))},toFn:i=>de({opacity:n==="removed"?0:1},r.toFn(i))}:r}function R2(n,t,e,r,i){const o=rie(n,t),a=(c,d)=>{i(e,{move:0,out:c},d)},s=(c,d)=>{i(e,{move:c},d)},l=(c,d)=>{i(e,{move:1,in:c},d)},u=j9e(o,r);return{status:o,path:{addPhaseFn:l,updatePhaseFn:s,removePhaseFn:a},pathProperties:u}}function nie(n,t,e){var r,i,o;const a=((r=n.scales.x)==null?void 0:r.type)==="category",s=((i=t.scales.x)==null?void 0:i.type)==="category";if(a!==s)return;const{result:l,resultMap:u}=a?V0(n,t,e):G0(n,t);let c="updated";if(t.visible&&!n.visible?c="removed":!t.visible&&n.visible&&(c="added"),l===void 0||u===void 0)return;const d=((o=e==null?void 0:e.changed)!=null?o:!0)||V9e(n,t)||c!=="updated",p=R2(n,t,l,"fade",b2),h=_2(u,c);return Xe(de({},p),{marker:h,hasMotion:d})}var iie=(n=>(n[n.Fill=0]="Fill",n[n.Stroke=1]="Stroke",n[n.Marker=2]="Marker",n[n.Label=3]="Label",n))(iie||{});function CT(n){const{points:t}=n.fillData;return{top:t.slice(0,t.length/2),bottom:t.slice(t.length/2).reverse()}}function Sp(n,t,e){return{scales:t.scales,nodeData:e[n],visible:t.visible}}function H9e(n,t,e){const r=CT(t),i=CT(n),o={multiDatum:!0};return{top:V0(Sp("top",n,i),Sp("top",t,r),e,o),bottom:V0(Sp("bottom",n,i),Sp("bottom",t,r),e,o)}}function $9e(n,t){const e=CT(t),r=CT(n);return{top:G0(Sp("top",n,r),Sp("top",t,e)),bottom:G0(Sp("bottom",n,r),Sp("bottom",t,e))}}function oie(n,t,e){var r,i;const o=((r=n.scales.x)==null?void 0:r.type)==="category",a=((i=t.scales.x)==null?void 0:i.type)==="category";if(o!==a)return;let s="updated";t.visible&&!n.visible?s="removed":!t.visible&&n.visible&&(s="added");const l=()=>o?V0(n,t,e,{backfillSplitMode:"static",multiDatum:!0}):G0(n,t,{backfillSplitMode:"static"}),u=()=>o?H9e(n,t,e):$9e(n,t),{resultMap:c}=l(),{top:d,bottom:p}=u();if(c===void 0||d.result===void 0||p.result===void 0)return;const h=[...d.result,...p.result.reverse()],v=(t.stackVisible?n.stackVisible:!1)?"none":"fade",g=R2(n,t,h,v,b2),m=_2(c,s);return{fill:g,marker:m}}var T2=class aie extends xh{constructor(t){super({moduleCtx:t,pathsPerSeries:2,pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,markerSelectionGarbageCollection:!1,pickModes:[1,0],animationResetFns:{path:O2({getOpacity:()=>this.getOpacity()}),label:Td,marker:(e,r)=>de(de({},Q_()),k0(e,r))}}),this.properties=new Di}processData(t){return Oe(this,null,function*(){if(this.data==null||!this.properties.isValid())return;const{data:e,visible:r,seriesGrouping:{groupIndex:i=this.id,stackCount:o=1}={}}=this,{xKey:a,yKey:s,connectMissingData:l,normalizedTo:u}=this.properties,c=!this.ctx.animationManager.isSkipped(),{isContinuousX:d,isContinuousY:p}=this.isContinuous(),h=[`area-stack-${i}-yValues`,`area-stack-${i}-yValues-trailing`,`area-stack-${i}-yValues-prev`,`area-stack-${i}-yValues-trailing-prev`,`area-stack-${i}-yValues-marker`],f=[];q1(u)&&(f.push(mT(this,[h[0],h[1],h[4]],u,"range")),f.push(mT(this,[h[2],h[3]],u,"range"))),!d&&c&&this.processedData&&f.push(Fv(this.processedData)),c&&f.push(Iy(this));const v={invalidValue:null};l&&o>1&&(v.invalidValue=0),r||(v.forceValue=0),yield this.requestDataModel(t,e,{props:[$i(this,a,d,{id:"xValue"}),Tr(this,s,p,de({id:"yValueRaw"},v)),...hp(this,s,p,"window","current",Xe(de({id:"yValueEnd"},v),{groupId:h[0]})),...hp(this,s,p,"window-trailing","current",Xe(de({id:"yValueStart"},v),{groupId:h[1]})),...hp(this,s,p,"window","last",Xe(de({id:"yValuePreviousEnd"},v),{groupId:h[2]})),...hp(this,s,p,"window-trailing","last",Xe(de({id:"yValuePreviousStart"},v),{groupId:h[3]})),...hp(this,s,p,"normal","current",Xe(de({id:"yValueCumulative"},v),{groupId:h[4]})),...f],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")})}getSeriesDomain(t){const{processedData:e,dataModel:r,axes:i}=this;if(!e||!r||e.data.length===0)return[];const o=i.x,a=i.y,s=r.resolveProcessedDataDefById(this,"xValue"),l=r.getDomain(this,"xValue","key",e),u=r.getDomain(this,"yValueEnd","value",e);if(t==="x")return(s==null?void 0:s.def.type)==="key"&&s.def.valueType==="category"?l:Eo(ac(l),o);if(a instanceof eh||a instanceof mv)return Eo(u,a);{const c=[u[0]>0?0:u[0],u[1]<0?0:u[1]];return Eo(c,a)}}createNodeData(){return Oe(this,null,function*(){var t;const{axes:e,data:r,processedData:{data:i}={},dataModel:o}=this,a=e.x,s=e.y;if(!a||!s||!r||!o||!this.properties.isValid())return[];const{yKey:l,xKey:u,marker:c,label:d,fill:p,stroke:h,connectMissingData:f}=this.properties,{scale:v}=a,{scale:g}=s,m=Rr.is(g),y=((t=v.bandwidth)!=null?t:0)/2,C=o.resolveProcessedDataDefsByIds(this,["yValueStart","yValueEnd","yValueRaw","yValuePreviousStart","yValuePreviousEnd","yValueCumulative"]),S=B=>{const $=B,{point:W}=$,Y=di($,["point"]);return Xe(de({},Y),{point:Xe(de({},W),{moveTo:!0})})},w=(B,$,W)=>{const Y=v.convert(B)+y,Z=g.convert($),se=g.convert(W);return[{point:{x:Y,y:se},yValue:W,xValue:B},{point:{x:Y,y:Z},yValue:$,xValue:B}]},_=(B,$,W)=>{let Y;return(q1(this.properties.normalizedTo)?m&&Yj(W):!isNaN(W))&&(Y=$),{x:v.convert(B)+y,y:g.convert(Y),size:c.size}},x=l,E=[],R=[],{visibleSameStackCount:P}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this),A={itemId:x,fillData:{itemId:x,points:[]},strokeData:{itemId:x,points:[]},labelData:E,nodeData:R,scales:Cd(aie.prototype,this,"calculateScaling").call(this),visible:this.visible,stackVisible:P>0},N=A.fillData.points,I=[],G=A.strokeData.points;let V=-1,H,j=-1/0;return i==null||i.forEach(B=>{const{keys:$,keys:[W],datum:Y,values:Z}=B;Z.forEach((se,X)=>{var ie,z,Q;V++;const ue=Y[X],pe=o.resolveProcessedDataDefsValues(C,{keys:$,values:se}),{yValueRaw:_e,yValueCumulative:oe}=pe;let{yValueStart:we,yValueEnd:ne,yValuePreviousStart:xe,yValuePreviousEnd:Pe}=pe;const ze=_e!=null,ht=_(W,+oe,_e);if(ze&&c&&R.push({index:V,series:this,itemId:x,datum:ue,midPoint:{x:ht.x,y:ht.y},cumulativeValue:ne,yValue:_e,xValue:W,yKey:l,xKey:u,point:ht,fill:(ie=c.fill)!=null?ie:p,stroke:(z=c.stroke)!=null?z:h,strokeWidth:(Q=c.strokeWidth)!=null?Q:this.getStrokeWidth(this.properties.strokeWidth)}),ze&&d){const Ie=this.getLabelText(d,{value:_e,datum:ue,xKey:u,yKey:l,xName:this.properties.xName,yName:this.properties.yName},rt=>fr(rt)?rt.toFixed(2):String(rt));E.push({index:V,series:this,itemId:l,datum:ue,x:ht.x,y:ht.y,label:Ie?{text:Ie,fontStyle:d.fontStyle,fontWeight:d.fontWeight,fontSize:d.fontSize,fontFamily:d.fontFamily,textAlign:"center",textBaseline:"bottom",fill:d.color}:void 0})}const Ae=H!=null&&W!=null,Ke=j!=null&&ze;Ke||(we=we??0,ne=we??0,xe=xe??0,Pe=xe??0);const[he,Ee]=w(H,xe,Pe),[Be,tt]=w(W,we,ne);Ae&&(!f||Ke)&&(N.push(he),I.push(Ee),N.push(Be),I.push(tt)),Ke&&V>0&&(G.push(S(he)),G.push(Be)),H=W,j=_e})}),G.length>0&&(G[0]=S(G[0])),I.reverse(),N.push(...I),[A]})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:t}=this.properties.marker,e=Sh(t);return new e}updatePathNodes(t){return Oe(this,null,function*(){const{opacity:e,visible:r,animationEnabled:i}=t,[o,a]=t.paths,s=this.getStrokeWidth(this.properties.strokeWidth);a.setProperties({tag:1,fill:void 0,lineJoin:a.lineCap="round",pointerEvents:1,stroke:this.properties.stroke,strokeWidth:s,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:e,visible:r}),o.setProperties({tag:0,stroke:void 0,lineJoin:"round",pointerEvents:1,fill:this.properties.fill,fillOpacity:this.properties.fillOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,strokeOpacity:this.properties.strokeOpacity,fillShadow:this.properties.shadow,opacity:e,visible:r||i,strokeWidth:s}),yT(this,a),yT(this,o)})}updatePaths(t){return Oe(this,null,function*(){this.updateAreaPaths([t.paths],[t.contextData])})}updateAreaPaths(t,e){this.updateFillPath(t,e),this.updateStrokePath(t,e)}updateFillPath(t,e){e.forEach(({fillData:r},i)=>{const[o]=t[i],{path:a}=o;a.clear({trackChanges:!0});for(const{point:s}of r.points)s.moveTo?a.moveTo(s.x,s.y):a.lineTo(s.x,s.y);a.closePath(),o.checkPathDirty()})}updateStrokePath(t,e){e.forEach(({strokeData:r},i)=>{const[,o]=t[i],{path:a}=o;a.clear({trackChanges:!0});for(const{point:s}of r.points)s.moveTo?a.moveTo(s.x,s.y):a.lineTo(s.x,s.y);o.checkPathDirty()})}updateMarkerSelection(t){return Oe(this,null,function*(){const{nodeData:e,markerSelection:r}=t;return this.properties.marker.isDirty()&&(r.clear(),r.cleanup()),r.update(this.properties.marker.enabled?e:[])})}updateMarkerNodes(t){return Oe(this,null,function*(){const{markerSelection:e,isHighlight:r}=t,{xKey:i,yKey:o,marker:a,fill:s,stroke:l,strokeWidth:u,fillOpacity:c,strokeOpacity:d,highlightStyle:p}=this.properties,h=Ht(r&&p.item,a.getStyle(),{fill:s,stroke:l,strokeWidth:u,fillOpacity:c,strokeOpacity:d});e.each((f,v)=>{this.updateMarkerStyle(f,a,{datum:v,highlighted:r,xKey:i,yKey:o},h)}),r||this.properties.marker.markClean()})}updateLabelSelection(t){return Oe(this,null,function*(){const{labelData:e,labelSelection:r}=t;return r.update(e,i=>{i.tag=3})})}updateLabelNodes(t){return Oe(this,null,function*(){const{labelSelection:e}=t,{enabled:r,fontStyle:i,fontWeight:o,fontSize:a,fontFamily:s,color:l}=this.properties.label;e.each((u,c)=>{const{x:d,y:p,label:h}=c;h&&r&&this.visible?(u.fontStyle=i,u.fontWeight=o,u.fontSize=a,u.fontFamily=s,u.textAlign=h.textAlign,u.textBaseline=h.textBaseline,u.text=h.text,u.x=d,u.y=p-10,u.fill=l,u.visible=!0):u.visible=!1})})}getTooltipHtml(t){const{id:e,axes:r,dataModel:i}=this,{xKey:o,xName:a,yName:s,tooltip:l,marker:u}=this.properties,{yKey:c,xValue:d,yValue:p,datum:h}=t,f=r.x,v=r.y;if(!this.properties.isValid()||!(f&&v&&fr(p))||!i)return"";const g=f.formatDatum(d),m=v.formatDatum(p),y=Qr(s),C=Qr(g+": "+m),S=Ht({fill:this.properties.fill},u.getStyle(),{stroke:this.properties.stroke,strokeWidth:this.properties.strokeWidth}),{fill:w}=this.getMarkerStyle(u,{datum:t,xKey:o,yKey:c,highlighted:!1},S);return l.toTooltipHtml({title:y,content:C,backgroundColor:w},{datum:h,xKey:o,xName:a,yKey:c,yName:s,color:w,title:y,seriesId:e})}getLegendData(t){var e,r,i,o;if(!((e=this.data)!=null&&e.length)||!this.properties.isValid()||t!=="category")return[];const{yKey:a,yName:s,fill:l,stroke:u,fillOpacity:c,strokeOpacity:d,strokeWidth:p,lineDash:h,marker:f,visible:v}=this.properties,g=!f.enabled||f.fill===void 0;return[{legendType:t,id:this.id,itemId:a,seriesId:this.id,enabled:v,label:{text:s??a},marker:{shape:f.shape,fill:g?l:f.fill,fillOpacity:g?c:f.fillOpacity,stroke:(r=f.stroke)!=null?r:u,strokeOpacity:(i=f.strokeOpacity)!=null?i:d,strokeWidth:(o=f.strokeWidth)!=null?o:0,enabled:f.enabled||p<=0},line:{stroke:u,strokeOpacity:d,strokeWidth:p,lineDash:h}}]}animateEmptyUpdateReady(t){const{markerSelections:e,labelSelections:r,contextData:i,paths:o}=t,{animationManager:a}=this.ctx;this.updateAreaPaths(o,i),E2(this,a,o.flat()),ci(e,k0),w2(this,a,e),Sr(this,"labels",a,r)}animateReadyResize(t){const{contextData:e,paths:r}=t;this.updateAreaPaths(r,e),super.animateReadyResize(t)}animateWaitingUpdateReady(t){var e,r;const{animationManager:i}=this.ctx,{markerSelections:o,labelSelections:a,contextData:s,paths:l,previousContextData:u}=t,[[c,d]]=l;super.resetAllAnimation(t);const p=()=>{this.updateAreaPaths(l,s),this.updateStrokePath(l,s)},h=()=>{i.skipCurrentBatch(),p()};if(s.length===0||(u==null?void 0:u.length)===0){p(),N0(this,i,o,"added"),Lw(this,"fill_path_properties",i,[c]),Lw(this,"stroke",i,[d],"trailing"),Sr(this,"labels",i,a);return}const[f]=s,[v]=u??[],g=oie(f,v,(r=(e=this.processedData)==null?void 0:e.reduced)==null?void 0:r.diff);if(g===void 0){h();return}N0(this,i,o),tn(this.id,"fill_path_properties",i,[c],g.fill.pathProperties),Qne(this.id,"fill_path_update",i,[c],g.fill.path),this.updateStrokePath(l,s),Lw(this,"stroke",i,[d],"trailing"),Sr(this,"labels",i,a)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new st}};T2.className="AreaSeries";T2.type="area";var W9e=T2,U9e={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",instanceConstructor:W9e,stackable:!0,seriesDefaults:{axes:[{type:"number",position:"left"},{type:"category",position:"bottom"}]},themeTemplate:{series:{__extends__:Sd,nodeClickRange:"nearest",tooltip:{position:{type:"node"}},fillOpacity:.8,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:Ty,xOffset:3,yOffset:3,blur:5},marker:{__extends__:Oy,enabled:!1,fillOpacity:1,strokeOpacity:1,strokeWidth:0},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:ui,color:pr,formatter:void 0}}},paletteFactory:n=>{const{marker:t}=Z_(n);return{fill:t.fill,stroke:t.stroke,marker:t}}},P2=class extends _h{constructor(){super(...arguments),this.direction="vertical"}};D([k(mre)],P2.prototype,"direction",2);var sie=class extends xh{getBandScalePadding(){return{inner:.2,outer:.1}}shouldFlipXY(){return!this.isVertical()}isVertical(){return this.properties.direction==="vertical"}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){const n=this.getBarDirection();return this.axes[n]}getCategoryAxis(){const n=this.getCategoryDirection();return this.axes[n]}},lie=class extends oi{constructor(){super(...arguments),this.placement="inside"}};D([k(yre)],lie.prototype,"placement",2);var Si=class extends P2{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.shadow=new ql,this.label=new lie,this.tooltip=new xa}};D([k(Ne)],Si.prototype,"xKey",2);D([k(Ne,{optional:!0})],Si.prototype,"xName",2);D([k(Ne)],Si.prototype,"yKey",2);D([k(Ne,{optional:!0})],Si.prototype,"yName",2);D([k(Ne,{optional:!0})],Si.prototype,"stackGroup",2);D([k(Vr,{optional:!0})],Si.prototype,"normalizedTo",2);D([k(tr)],Si.prototype,"fill",2);D([k(_r)],Si.prototype,"fillOpacity",2);D([k(tr)],Si.prototype,"stroke",2);D([k(Le)],Si.prototype,"strokeWidth",2);D([k(_r)],Si.prototype,"strokeOpacity",2);D([k(xd)],Si.prototype,"lineDash",2);D([k(Le)],Si.prototype,"lineDashOffset",2);D([k(Le)],Si.prototype,"cornerRadius",2);D([k(el,{optional:!0})],Si.prototype,"formatter",2);D([k(ct,{optional:!0})],Si.prototype,"shadow",2);D([k(ct)],Si.prototype,"label",2);D([k(ct)],Si.prototype,"tooltip",2);function uie({rect:n,config:t}){const{crisp:e=!0,fill:r,stroke:i,strokeWidth:o,fillOpacity:a,strokeOpacity:s,lineDash:l,lineDashOffset:u,fillShadow:c,cornerRadius:d=0,topLeftCornerRadius:p,topRightCornerRadius:h,bottomRightCornerRadius:f,bottomLeftCornerRadius:v,cornerRadiusBbox:g,visible:m=!0}=t;n.crisp=e,n.fill=r,n.stroke=i,n.strokeWidth=o,n.fillOpacity=a,n.strokeOpacity=s,n.lineDash=l,n.lineDashOffset=u,n.fillShadow=c,n.topLeftCornerRadius=p?d:0,n.topRightCornerRadius=h?d:0,n.bottomRightCornerRadius=f?d:0,n.bottomLeftCornerRadius=v?d:0,n.cornerRadiusBbox=g,n.visible=m}function cie(n){var t=n,{datum:e,isHighlighted:r,style:i,highlightStyle:o,formatter:a,seriesId:s,ctx:{callbackCache:l}}=t,u=di(t,["datum","isHighlighted","style","highlightStyle","formatter","seriesId","ctx"]),c,d,p,h,f,v;const{fill:g,fillOpacity:m,stroke:y,strokeWidth:C}=Ht(r&&o,i),{strokeOpacity:S,fillShadow:w,lineDash:_,lineDashOffset:x,cornerRadius:E=0,topLeftCornerRadius:R=!0,topRightCornerRadius:P=!0,bottomRightCornerRadius:A=!0,bottomLeftCornerRadius:N=!0,cornerRadiusBbox:I}=i;let G;return a&&(G=l.call(a,de({datum:e.datum,xKey:e.xKey,fill:g,stroke:y,strokeWidth:C,cornerRadius:E,highlighted:r,seriesId:s},u))),{fill:(c=G==null?void 0:G.fill)!=null?c:g,stroke:(d=G==null?void 0:G.stroke)!=null?d:y,strokeWidth:(p=G==null?void 0:G.strokeWidth)!=null?p:C,fillOpacity:(h=G==null?void 0:G.fillOpacity)!=null?h:m,strokeOpacity:(f=G==null?void 0:G.strokeOpacity)!=null?f:S,lineDash:_,lineDashOffset:x,fillShadow:w,cornerRadius:(v=G==null?void 0:G.cornerRadius)!=null?v:E,topLeftCornerRadius:R,topRightCornerRadius:P,bottomRightCornerRadius:A,bottomLeftCornerRadius:N,cornerRadiusBbox:I}}function die(n=[]){const[t,e]=n;return!(t!==0||e!==1)}var _5=n=>{var t;return G_((t=n.yValue)!=null?t:0)};function B0(n,t,e){const{startingX:r,startingY:i}=K9e(n,t);return{isVertical:n,calculate:(a,s)=>{let l=n?a.x:r,u=n?i:a.y,c=n?a.width:0,d=n?0:a.height;const p=a.opacity;return s&&(isNaN(l)||isNaN(u))&&({x:l,y:u}=s,c=n?s.width:0,d=n?0:s.height,n&&!_5(s)?u+=s.height:!n&&_5(s)&&(l+=s.width)),{x:l,y:u,width:c,height:d,opacity:p}},mode:e}}function z9e(n,t){return{isVertical:n,calculate:e=>({x:n?e.x:e.x+e.width/2,y:n?e.y+e.height/2:e.y,width:n?e.width:0,height:n?0:e.height,opacity:e.opacity}),mode:t}}function j0(n){const t=i=>i==null||isNaN(i.x)||isNaN(i.y);return{toFn:(i,o,a)=>a==="removed"&&i.datum==null&&n.mode==="fade"?Xe(de({},H0(i,o)),{opacity:0}):a==="removed"||t(o)?n.calculate(o,i.previousDatum):{x:o.x,y:o.y,width:o.width,height:o.height,opacity:o.opacity},fromFn:(i,o,a)=>{a==="updated"&&t(o)?a="removed":a==="updated"&&t(i.previousDatum)&&(a="added");let s={x:i.x,y:i.y,width:i.width,height:i.height,opacity:i.opacity};a==="added"&&i.previousDatum==null&&n.mode==="fade"?s=Xe(de({},H0(i,o)),{opacity:0}):(a==="unknown"||a==="added")&&(s=n.calculate(o,i.previousDatum));const l=bo[a];return Xe(de({},s),{phase:l})}}}function K9e(n,t){const e=t[n?"y":"x"];let r=1/0,i=0;return e?(n?i=e.scale.convert(Rr.is(e.scale)?0:Math.max(...e.range)):r=e.scale.convert(Rr.is(e.scale)?0:Math.min(...e.range)),{startingX:r,startingY:i}):{startingX:r,startingY:i}}function H0(n,{x:t,y:e,width:r,height:i,opacity:o}){return{x:t,y:e,width:r,height:i,opacity:o}}function pie(n,t,e){if(t.enabled&&e){const{x:r,y:i,text:o,textAlign:a,textBaseline:s}=e,{color:l,fontStyle:u,fontWeight:c,fontSize:d,fontFamily:p}=t;n.setProperties({visible:!0,x:r,y:i,text:o,fill:l,fontStyle:u,fontWeight:c,fontSize:d,fontFamily:p,textAlign:a,textBaseline:s})}else n.visible=!1}function hie({isPositive:n,isVertical:t,placement:e,padding:r=0,rect:i}){let o=i.x+i.width/2,a=i.y+i.height/2,s="center",l="middle";switch(e){case"start":{t?(a=n?i.y+i.height+r:i.y-r,l=n?"top":"bottom"):(o=n?i.x-r:i.x+i.width+r,s=n?"start":"end");break}case"outside":case"end":{t?(a=n?i.y-r:i.y+i.height+r,l=n?"bottom":"top"):(o=n?i.x+i.width+r:i.x-r,s=n?"start":"end");break}}return{x:o,y:a,textAlign:s,textBaseline:l}}var D2=class fie extends sie{constructor(t){super({moduleCtx:t,pickModes:[0],pathsPerSeries:0,hasHighlightedLabels:!0,datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:H0,label:Td}}),this.properties=new Si,this.groupScale=new ec,this.smallestDataInterval=void 0}resolveKeyDirection(t){return this.getBarDirection()==="x"?t==="x"?"y":"x":t}processData(t){return Oe(this,null,function*(){var e,r,i,o;if(!this.properties.isValid()||!this.data)return;const{seriesGrouping:{groupIndex:a=this.id}={},data:s=[]}=this,{xKey:l,yKey:u,normalizedTo:c}=this.properties,d=!this.ctx.animationManager.isSkipped(),p=Math.abs(c??NaN),h=Rr.is((e=this.getCategoryAxis())==null?void 0:e.scale),f=Rr.is((r=this.getValueAxis())==null?void 0:r.scale),v=`bar-stack-${a}-yValues`,g=`${v}-trailing`,m=p&&isFinite(p)?p:void 0,y=[];m&&y.push(mT(this,[v,g],m,"range")),d&&this.processedData&&y.push(Fv(this.processedData)),d&&y.push(Iy(this));const C=this.visible?{}:{forceValue:0},{processedData:S}=yield this.requestDataModel(t,s,{props:[$i(this,l,h,{id:"xValue"}),Tr(this,u,f,de({id:"yValue-raw",invalidValue:null},C)),...hp(this,u,f,"normal","current",de({id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:v,separateNegative:!0},C)),...hp(this,u,f,"trailing","current",de({id:"yValue-start",invalidValue:null,missingValue:0,groupId:g,separateNegative:!0},C)),...h?[TN]:[],...y],groupByKeys:!0,groupByData:!1});this.smallestDataInterval={x:(o=(i=S.reduced)==null?void 0:i.smallestKeyInterval)!=null?o:1/0,y:1/0},this.animationState.transition("updateData")})}getSeriesDomain(t){var e;const{processedData:r,dataModel:i}=this;if(!r||!i||r.data.length===0)return[];const{reduced:{[TN.property]:o}={}}=r,a=this.getCategoryAxis(),s=this.getValueAxis(),l=i.resolveProcessedDataDefById(this,"xValue"),u=i.getDomain(this,"xValue","key",r),c=i.getDomain(this,"yValue-end","value",r);if(t===this.getCategoryDirection()){if((l==null?void 0:l.def.type)==="key"&&(l==null?void 0:l.def.valueType)==="category")return u;const d=o!=null&&isFinite(o)?o:0,p=(e=ac(u))!=null?e:[NaN,NaN],h=a==null?void 0:a.isReversed();if(t==="y"){const g=p[0]+(h?0:-d),m=p[1]+(h?d:0);return Eo([g,m],a)}const f=p[0]+(h?-d:0),v=p[1]+(h?0:d);return Eo([f,v],a)}else{if(this.getValueAxis()instanceof eh)return Eo(c,s);{const d=[c[0]>0?0:c[0],c[1]<0?0:c[1]];return Eo(d,s)}}}createNodeData(){return Oe(this,null,function*(){const{dataModel:t}=this,e=this.getCategoryAxis(),r=this.getValueAxis();if(!(t&&e&&r&&this.properties.isValid()))return[];const i=e.scale,o=r.scale,{groupScale:a,processedData:s,smallestDataInterval:l,ctx:{seriesStateManager:u}}=this,{xKey:c,yKey:d,xName:p,yName:h,fill:f,stroke:v,strokeWidth:g,cornerRadius:m,legendItemName:y,label:C}=this.properties,S=r.isReversed(),w=Rr.is(i)?i.calcBandwidth(l==null?void 0:l.x):i.bandwidth,_=[],{index:x,visibleGroupCount:E}=u.getVisiblePeerGroupIndex(this);for(let j=0;j<E;j++)_.push(String(j));a.domain=_,a.range=[0,w??0],e instanceof dd?a.paddingInner=e.groupPaddingInner:e instanceof Qp?a.padding=.1:a.padding=0,a.round=a.padding!==0;const R=a.bandwidth>=1?a.bandwidth:a.rawBandwidth,P=t.resolveProcessedDataIndexById(this,"xValue").index,A=t.resolveProcessedDataIndexById(this,"yValue-raw").index,N=t.resolveProcessedDataIndexById(this,"yValue-start").index,I=t.resolveProcessedDataIndexById(this,"yValue-end").index,G=t.resolveProcessedDataDefById(this,"yValue-range").index,V=!this.ctx.animationManager.isSkipped(),H=[];return s==null||s.data.forEach(({keys:j,datum:B,values:$,aggValues:W})=>{$.forEach((Y,Z)=>{var se,X;(se=H[Z])!=null||(H[Z]={itemId:d,nodeData:[],labelData:[],scales:Cd(fie.prototype,this,"calculateScaling").call(this),visible:this.visible||V});const ie=j[P],z=i.convert(ie),Q=+Y[I],ue=+Y[N],pe=Y[A],_e=pe>=0,oe=_e!==S,we=(X=W==null?void 0:W[G][_e?1:0])!=null?X:0,ne=z+a.convert(String(x));if(isNaN(Q))return;const xe=o.convert(Q),Pe=o.convert(ue),ze=this.getBarDirection()==="x",ht=o.convert(we),Ae=o.convert(0),Ke=new Tt(ze?Math.min(Ae,ht):ne,ze?ne:Math.min(Ae,ht),ze?Math.abs(Ae-ht):R,ze?R:Math.abs(Ae-ht)),he={x:ze?Math.min(xe,Pe):ne,y:ze?ne:Math.min(xe,Pe),width:ze?Math.abs(Pe-xe):R,height:ze?R:Math.abs(Pe-xe),cornerRadiusBbox:Ke},{fontStyle:Ee,fontWeight:Be,fontSize:tt,fontFamily:Ie,color:rt,placement:mt}=C,ft=this.getLabelText(this.properties.label,{datum:B[Z],value:pe,xKey:c,yKey:d,xName:p,yName:h,legendItemName:y},ur=>fr(ur)?ur.toFixed(2):""),yt=ft?de({text:ft,fill:rt,fontStyle:Ee,fontWeight:Be,fontSize:tt,fontFamily:Ie},hie({isPositive:_e,isVertical:!ze,placement:mt,rect:he})):void 0,We=this.shouldFlipXY()?he.height:he.width,dt={series:this,itemId:d,datum:B[Z],cumulativeValue:Q,xValue:ie,yValue:pe,yKey:d,xKey:c,capDefaults:{lengthRatioMultiplier:We,lengthMax:We},x:he.x,y:he.y,width:he.width,height:he.height,midPoint:{x:he.x+he.width/2,y:he.y+he.height/2},fill:f,stroke:v,opacity:1,strokeWidth:g,cornerRadius:m,topLeftCornerRadius:ze!==oe,topRightCornerRadius:oe,bottomRightCornerRadius:ze===oe,bottomLeftCornerRadius:!oe,cornerRadiusBbox:Ke,label:yt};H[Z].nodeData.push(dt),H[Z].labelData.push(dt)})}),H})}nodeFactory(){return new uo}updateDatumSelection(t){return Oe(this,null,function*(){return t.datumSelection.update(t.nodeData,e=>{e.tag=0},e=>Jp(e.xValue))})}updateDatumNodes(t){return Oe(this,null,function*(){if(!this.properties.isValid())return;const{yKey:e,stackGroup:r,fill:i,fillOpacity:o,stroke:a,strokeWidth:s,strokeOpacity:l,lineDash:u,lineDashOffset:c,formatter:d,shadow:p,highlightStyle:{item:h}}=this.properties,f=this.axes.x,v=die(f==null?void 0:f.visibleRange),g=this.getCategoryDirection()==="x";t.datumSelection.each((m,y)=>{const C={fill:i,stroke:a,fillOpacity:o,strokeOpacity:l,lineDash:u,lineDashOffset:c,fillShadow:p,strokeWidth:this.getStrokeWidth(s),cornerRadius:y.cornerRadius,topLeftCornerRadius:y.topLeftCornerRadius,topRightCornerRadius:y.topRightCornerRadius,bottomRightCornerRadius:y.bottomRightCornerRadius,bottomLeftCornerRadius:y.bottomLeftCornerRadius,cornerRadiusBbox:y.cornerRadiusBbox},S=g?y.width>0:y.height>0,w=cie({datum:y,ctx:this.ctx,seriesId:this.id,isHighlighted:t.isHighlight,highlightStyle:h,yKey:e,style:C,formatter:d,stackGroup:r});w.crisp=v,w.visible=S,uie({rect:m,config:w})})})}updateLabelSelection(t){return Oe(this,null,function*(){const e=this.isLabelEnabled()?t.labelData:[];return t.labelSelection.update(e,r=>{r.tag=1,r.pointerEvents=1})})}updateLabelNodes(t){return Oe(this,null,function*(){t.labelSelection.each((e,r)=>{pie(e,this.properties.label,r.label)})})}getTooltipHtml(t){var e;const{id:r,processedData:i,ctx:{callbackCache:o}}=this,a=this.getCategoryAxis(),s=this.getValueAxis();if(!i||!this.properties.isValid()||!a||!s)return"";const{xKey:l,yKey:u,xName:c,yName:d,fill:p,stroke:h,strokeWidth:f,tooltip:v,formatter:g,stackGroup:m}=this.properties,{xValue:y,yValue:C,datum:S}=t,w=a.formatDatum(y),_=s.formatDatum(C),x=Qr(d),E=Qr(w+": "+_);let R;g&&(R=o.call(g,{seriesId:r,datum:S,xKey:l,yKey:u,stackGroup:m,fill:p,stroke:h,strokeWidth:this.getStrokeWidth(f),highlighted:!1}));const P=(e=R==null?void 0:R.fill)!=null?e:p;return v.toTooltipHtml({title:x,content:E,backgroundColor:P},de({seriesId:r,datum:S,xKey:l,yKey:u,xName:c,yName:d,stackGroup:m,title:x,color:P},this.getModuleTooltipParams()))}getLegendData(t){var e,r;const{showInLegend:i}=this.properties;if(t!=="category"||!((e=this.data)!=null&&e.length)||!this.properties.isValid()||!i)return[];const{yKey:o,yName:a,fill:s,stroke:l,strokeWidth:u,fillOpacity:c,strokeOpacity:d,legendItemName:p,visible:h}=this.properties;return[{legendType:"category",id:this.id,itemId:o,seriesId:this.id,enabled:h,label:{text:(r=p??a)!=null?r:o},marker:{fill:s,fillOpacity:c,stroke:l,strokeWidth:u,strokeOpacity:d},legendItemName:p}]}animateEmptyUpdateReady({datumSelections:t,labelSelections:e,annotationSelections:r}){const i=j0(B0(this.isVertical(),this.axes,"normal"));tn(this.id,"nodes",this.ctx.animationManager,t,i),Sr(this,"labels",this.ctx.animationManager,e),Sr(this,"annotations",this.ctx.animationManager,r)}animateWaitingUpdateReady(t){var e,r,i;const{datumSelections:o,labelSelections:a,annotationSelections:s,previousContextData:l}=t;this.ctx.animationManager.stopByAnimationGroupId(this.id);const u=(r=(e=this.processedData)==null?void 0:e.reduced)==null?void 0:r.diff,c=(l==null?void 0:l.length)===0?"fade":"normal",d=j0(B0(this.isVertical(),this.axes,c));tn(this.id,"nodes",this.ctx.animationManager,o,d,(h,f)=>Jp(f.xValue),u),((i=u==null?void 0:u.changed)!=null?i:!0)&&(Sr(this,"labels",this.ctx.animationManager,a),Sr(this,"annotations",this.ctx.animationManager,s))}isLabelEnabled(){return this.properties.label.enabled}};D2.className="BarSeries";D2.type="bar";var Y9e=D2,q9e={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",instanceConstructor:Y9e,stackable:!0,groupable:!0,seriesDefaults:{axes:[{type:"number",position:"left"},{type:"category",position:"bottom"}]},swapDefaultAxesCondition:n=>(n==null?void 0:n.direction)==="horizontal",themeTemplate:{series:{__extends__:Sd,direction:"vertical",fillOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:"normal",fontSize:12,fontFamily:ui,color:Ry,formatter:void 0,placement:"inside"},shadow:{enabled:!1,color:Ty,xOffset:3,yOffset:3,blur:5}}},enterpriseThemeTemplate:{series:{errorBar:{cap:{lengthRatio:.3}}}},paletteFactory:C2},x5=n=>{const t=Mu.fromString(n),[e,r,i]=Mu.RGBtoOKLCH(t.r,t.g,t.b);return{l:e,c:r,h:i,a:t.a}},X9e=(n,t,e)=>{e=rr(0,e,1);let r,i;if(Number.isNaN(n.h)&&Number.isNaN(t.h))r=0,i=0;else if(Number.isNaN(n.h))r=t.h,i=t.c;else if(Number.isNaN(t.h))r=n.h,i=n.c;else{const s=n.h;let l=t.h;const u=t.h-n.h;u>180?l-=360:u<-180&&(l+=360),r=s*(1-e)+l*e,i=n.c*(1-e)+t.c*e}const o=n.l*(1-e)+t.l*e,a=n.a*(1-e)+t.a*e;return Mu.fromOKLCH(o,i,r,a)},Iv=class{constructor(){this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map(x5)}update(){const{domain:n,range:t}=this;n.length<2&&(Ue.warnOnce("`colorDomain` should have at least 2 values."),n.length===0?n.push(0,1):n.length===1&&n.push(n[0]+1));for(let e=1;e<n.length;e++){const r=n[e-1],i=n[e];if(r>=i){Ue.warnOnce("`colorDomain` values should be supplied in ascending order."),n.sort((o,a)=>o-a);break}}if(t.length<n.length)for(let e=t.length;e<n.length;e++)t.push(t.length>0?t[0]:"black");this.parsedRange=this.range.map(x5)}convert(n){this.refresh();const{domain:t,range:e,parsedRange:r}=this,i=t[0],o=t.at(-1),a=e[0],s=e[e.length-1];if(n<=i)return a;if(n>=o)return s;let l,u;if(t.length===2){const p=(n-i)/(o-i),h=1/(e.length-1);l=e.length<=2?0:Math.min(Math.floor(p*(e.length-1)),e.length-2),u=(p-l*h)/h}else{for(l=0;l<t.length-2&&!(n<t[l+1]);l++);const p=t[l],h=t[l+1];u=(n-p)/(h-p)}const c=r[l],d=r[l+1];return X9e(c,d,u).toRgbaString()}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Ue.warnOnce("Expected update to not invalidate scale"))}};D([Sa],Iv.prototype,"domain",2);D([Sa],Iv.prototype,"range",2);var A2=class extends _a{constructor(){super(...arguments),this.maxSize=30}};D([k(Le),Je({redraw:3})],A2.prototype,"maxSize",2);D([k($D,{optional:!0}),Je({redraw:3})],A2.prototype,"domain",2);var Yi=class extends _h{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.marker=new A2,this.label=new oi,this.tooltip=new xa}};D([k(Ne)],Yi.prototype,"xKey",2);D([k(Ne)],Yi.prototype,"yKey",2);D([k(Ne)],Yi.prototype,"sizeKey",2);D([k(Ne,{optional:!0})],Yi.prototype,"labelKey",2);D([k(Ne,{optional:!0})],Yi.prototype,"colorKey",2);D([k(Ne,{optional:!0})],Yi.prototype,"xName",2);D([k(Ne,{optional:!0})],Yi.prototype,"yName",2);D([k(Ne,{optional:!0})],Yi.prototype,"sizeName",2);D([k(Ne,{optional:!0})],Yi.prototype,"labelName",2);D([k(Ne,{optional:!0})],Yi.prototype,"colorName",2);D([k($D,{optional:!0})],Yi.prototype,"colorDomain",2);D([k(tl)],Yi.prototype,"colorRange",2);D([k(Ne,{optional:!0})],Yi.prototype,"title",2);D([k(ct)],Yi.prototype,"marker",2);D([k(ct)],Yi.prototype,"label",2);D([k(ct)],Yi.prototype,"tooltip",2);var Z9e=class extends m2{constructor(n,t,e,r){super(n,t,e,r),this.sizeKey=r.properties.sizeKey}},M2=class vie extends xh{constructor(t){super({moduleCtx:t,pickModes:[2,3,0],pathsPerSeries:0,hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{label:Td,marker:Q_}}),this.NodeClickEvent=Z9e,this.properties=new Yi,this.sizeScale=new Yu,this.colorScale=new Iv}processData(t){return Oe(this,null,function*(){var e,r;if(!this.properties.isValid()||this.data==null)return;const{isContinuousX:i,isContinuousY:o}=this.isContinuous(),{xKey:a,yKey:s,sizeKey:l,labelKey:u,colorDomain:c,colorRange:d,colorKey:p,marker:h}=this.properties,{dataModel:f,processedData:v}=yield this.requestDataModel(t,this.data,{props:[$i(this,a,i,{id:"xKey-raw"}),$i(this,s,o,{id:"yKey-raw"}),...u?[$i(this,u,!1,{id:"labelKey-raw"})]:[],Tr(this,a,i,{id:"xValue"}),Tr(this,s,o,{id:"yValue"}),Tr(this,l,!0,{id:"sizeValue"}),...p?[Tr(this,p,!0,{id:"colorValue"})]:[],...u?[Tr(this,u,!1,{id:"labelValue"})]:[]],dataVisible:this.visible}),g=f.resolveProcessedDataIndexById(this,"sizeValue").index,m=(e=v.domain.values[g])!=null?e:[];if(this.sizeScale.domain=h.domain?h.domain:m,p){const y=f.resolveProcessedDataIndexById(this,"colorValue").index;this.colorScale.domain=(r=c??v.domain.values[y])!=null?r:[],this.colorScale.range=d,this.colorScale.update()}this.animationState.transition("updateData")})}getSeriesDomain(t){const{dataModel:e,processedData:r}=this;if(!r||!e)return[];const i=t==="x"?"xValue":"yValue",o=e.resolveProcessedDataDefById(this,i),a=e.getDomain(this,i,"value",r);if((o==null?void 0:o.def.type)==="value"&&(o==null?void 0:o.def.valueType)==="category")return a;const s=this.axes[t];return Eo(ac(a),s)}createNodeData(){return Oe(this,null,function*(){var t,e,r;const{axes:i,dataModel:o,processedData:a,colorScale:s,sizeScale:l}=this,{xKey:u,yKey:c,sizeKey:d,labelKey:p,xName:h,yName:f,sizeName:v,labelName:g,label:m,colorKey:y,marker:C,visible:S}=this.properties,w=i.x,_=i.y;if(!(o&&a&&S&&w&&_))return[];const x=o.resolveProcessedDataIndexById(this,"xValue").index,E=o.resolveProcessedDataIndexById(this,"yValue").index,R=d?o.resolveProcessedDataIndexById(this,"sizeValue").index:-1,P=y?o.resolveProcessedDataIndexById(this,"colorValue").index:-1,A=p?o.resolveProcessedDataIndexById(this,"labelValue").index:-1,N=w.scale,I=_.scale,G=((t=N.bandwidth)!=null?t:0)/2,V=((e=I.bandwidth)!=null?e:0)/2,H=[];l.range=[C.size,C.maxSize];const j=m.getFont();for(const{values:B,datum:$}of(r=a.data)!=null?r:[]){const W=B[x],Y=B[E],Z=N.convert(W)+G,se=I.convert(Y)+V,X=this.getLabelText(m,{value:p?B[A]:Y,datum:$,xKey:u,yKey:c,sizeKey:d,labelKey:p,xName:h,yName:f,sizeName:v,labelName:g}),ie=Tn.getTextSize(String(X),j),z=d?l.convert(B[R]):C.size,Q=y?s.convert(B[P]):void 0;H.push({series:this,itemId:c,yKey:c,xKey:u,datum:$,xValue:W,yValue:Y,sizeValue:B[R],point:{x:Z,y:se,size:z},midPoint:{x:Z,y:se},fill:Q,label:de({text:X},ie)})}return[{itemId:c,nodeData:H,labelData:H,scales:Cd(vie.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var t;return(t=this.contextNodeData)==null?void 0:t.reduce((e,r)=>e.concat(r.labelData),[])}markerFactory(){const{shape:t}=this.properties.marker,e=Sh(t);return new e}updateMarkerSelection(t){return Oe(this,null,function*(){const{nodeData:e,markerSelection:r}=t;this.properties.marker.isDirty()&&(r.clear(),r.cleanup());const i=this.properties.marker.enabled?e:[];return r.update(i,void 0,o=>Jp([o.xValue,o.yValue,o.label.text]))})}updateMarkerNodes(t){return Oe(this,null,function*(){const{markerSelection:e,isHighlight:r}=t,{xKey:i,yKey:o,sizeKey:a,labelKey:s,marker:l}=this.properties,u=Ht(r&&this.properties.highlightStyle.item,l.getStyle());this.sizeScale.range=[l.size,l.maxSize],e.each((c,d)=>{this.updateMarkerStyle(c,l,{datum:d,highlighted:r,xKey:i,yKey:o,sizeKey:a,labelKey:s},u)}),r||this.properties.marker.markClean()})}updateLabelSelection(t){return Oe(this,null,function*(){var e,r;const i=this.properties.label.enabled?(r=(e=this.chart)==null?void 0:e.placeLabels().get(this))!=null?r:[]:[];return t.labelSelection.update(i.map(o=>Xe(de({},o.datum),{point:{x:o.x,y:o.y,size:o.datum.point.size}})))})}updateLabelNodes(t){return Oe(this,null,function*(){const{label:e}=this.properties;t.labelSelection.each((r,i)=>{var o,a,s,l;r.text=i.label.text,r.fill=e.color,r.x=(a=(o=i.point)==null?void 0:o.x)!=null?a:0,r.y=(l=(s=i.point)==null?void 0:s.y)!=null?l:0,r.fontStyle=e.fontStyle,r.fontWeight=e.fontWeight,r.fontSize=e.fontSize,r.fontFamily=e.fontFamily,r.textAlign="left",r.textBaseline="top"})})}getTooltipHtml(t){var e;const r=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!r||!i)return"";const{xKey:o,yKey:a,sizeKey:s,labelKey:l,xName:u,yName:c,sizeName:d,labelName:p,marker:h,tooltip:f}=this.properties,v=(e=this.properties.title)!=null?e:c,g=Ht({fill:t.fill,strokeWidth:this.getStrokeWidth(h.strokeWidth)},h.getStyle()),{fill:m="gray"}=this.getMarkerStyle(h,{datum:t,highlighted:!1,xKey:o,yKey:a,sizeKey:s,labelKey:l},g),{datum:y,xValue:C,yValue:S,sizeValue:w,label:{text:_}}=t,x=Qr(r.formatDatum(C)),E=Qr(i.formatDatum(S));let R=`<b>${Qr(u??o)}</b>: ${x}<br><b>${Qr(c??a)}</b>: ${E}`;return s&&(R+=`<br><b>${Qr(d??s)}</b>: ${Qr(String(w))}`),l&&(R=`<b>${Qr(p??l)}</b>: ${Qr(_)}<br>`+R),f.toTooltipHtml({title:v,content:R,backgroundColor:m},{datum:y,xKey:o,xName:u,yKey:a,yName:c,sizeKey:s,sizeName:d,labelKey:l,labelName:p,title:v,color:m,seriesId:this.id})}getLegendData(){var t,e;if(!((t=this.data)!=null&&t.length)||!this.properties.isValid())return[];const{yKey:r,yName:i,title:o,marker:a,visible:s}=this.properties,{shape:l,fill:u,stroke:c,fillOpacity:d,strokeOpacity:p,strokeWidth:h}=a;return[{legendType:"category",id:this.id,itemId:r,seriesId:this.id,enabled:s,label:{text:(e=o??i)!=null?e:r},marker:{shape:l,fill:u??"rgba(0, 0, 0, 0)",stroke:c??"rgba(0, 0, 0, 0)",fillOpacity:d??1,strokeOpacity:p??1,strokeWidth:h??0}}]}animateEmptyUpdateReady({markerSelections:t,labelSelections:e}){S2(this,this.ctx.animationManager,t),Sr(this,"labels",this.ctx.animationManager,e)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new st}};M2.className="BubbleSeries";M2.type="bubble";var Q9e=M2,J9e={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",instanceConstructor:Q9e,seriesDefaults:{axes:[{type:"number",position:"bottom"},{type:"number",position:"left"}]},themeTemplate:{series:{__extends__:Sd,tooltip:{position:{type:"node"}},marker:{__extends__:Oy,maxSize:30,fillOpacity:.8},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:ui,color:pr}}},paletteFactory:Z_},wi=class extends _h{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new ql,this.label=new oi,this.tooltip=new xa}};D([k(Ne)],wi.prototype,"xKey",2);D([k(Ne,{optional:!0})],wi.prototype,"yKey",2);D([k(Ne,{optional:!0})],wi.prototype,"xName",2);D([k(Ne,{optional:!0})],wi.prototype,"yName",2);D([k(tr,{optional:!0})],wi.prototype,"fill",2);D([k(_r)],wi.prototype,"fillOpacity",2);D([k(tr,{optional:!0})],wi.prototype,"stroke",2);D([k(Le)],wi.prototype,"strokeWidth",2);D([k(_r)],wi.prototype,"strokeOpacity",2);D([k(xd)],wi.prototype,"lineDash",2);D([k(Le)],wi.prototype,"lineDashOffset",2);D([k(St)],wi.prototype,"areaPlot",2);D([k(V_,{optional:!0})],wi.prototype,"bins",2);D([k(Wn(["count","sum","mean"],"a histogram aggregation"))],wi.prototype,"aggregation",2);D([k(Le,{optional:!0})],wi.prototype,"binCount",2);D([k(ct)],wi.prototype,"shadow",2);D([k(ct)],wi.prototype,"label",2);D([k(ct)],wi.prototype,"tooltip",2);var b5=10,L2=class gie extends xh{constructor(t){super({moduleCtx:t,pickModes:[0],datumSelectionGarbageCollection:!1,animationResetFns:{datum:H0,label:Td}}),this.properties=new wi,this.calculatedBins=[]}deriveBins(t){if(this.properties.binCount)return this.calculateNiceBins(t,this.properties.binCount);const e=KD(t[0],t[1],b5),r=iy(t[0],t[1],b5),[i]=e,o=a=>[a,a+r];return[[i-r,i],...e.map(o)]}calculateNiceBins(t,e){const r=Math.floor(t[0]),i=t[1],o=e||1,{start:a,binSize:s}=this.calculateNiceStart(r,i,o);return this.getBins(a,i,s,o)}getBins(t,e,r,i){const o=[],a=this.calculatePrecision(r);for(let s=0;s<i;s++){const l=Math.round((t+s*r)*a)/a;let u=Math.round((t+(s+1)*r)*a)/a;s===i-1&&(u=Math.max(u,e)),o[s]=[l,u]}return o}calculatePrecision(t){let e=10;if(isFinite(t)&&t>0)for(;t<1;)e*=10,t*=10;return e}calculateNiceStart(t,e,r){const i=Math.abs(e-t)/r,o=Math.floor(Math.log10(i)),a=Math.pow(10,o);return{start:Math.floor(t/a)*a,binSize:i}}processData(t){return Oe(this,null,function*(){var e;const{xKey:r,yKey:i,areaPlot:o,aggregation:a}=this.properties,s=[$i(this,r,!0),Ine];if(i){let u=ON(this,"groupCount");a==="count"||(a==="sum"?u=Dne(this,"groupAgg"):a==="mean"&&(u=Mne(this,"groupAgg"))),o&&(u=RN(this,"groupAgg",u)),s.push(Tr(this,i,!0,{invalidValue:void 0}),u)}else{let u=ON(this,"groupAgg");o&&(u=RN(this,"groupAgg",u)),s.push(u)}const l=u=>{var c;const d=Eo(u.domain.keys[0]);if(d.length===0)return u.domain.groups=[],()=>[];const p=(c=this.properties.bins)!=null?c:this.deriveBins(d),h=p.length;return this.calculatedBins=[...p],f=>{const v=f.keys[0];for(let g=0;g<h;g++){const m=p[g];if(v>=m[0]&&v<m[1]||g===h-1&&v<=m[1])return m}return[]}};!this.ctx.animationManager.isSkipped()&&this.processedData&&s.push(Fv(this.processedData,!1)),yield this.requestDataModel(t,(e=this.data)!=null?e:[],{props:s,dataVisible:this.visible,groupByFn:l}),this.animationState.transition("updateData")})}getSeriesDomain(t){var e,r,i,o;const{processedData:a,dataModel:s}=this;if(!a||!s||!this.calculatedBins.length)return[];const l=s.getDomain(this,"groupAgg","aggregate",a),u=(e=this.calculatedBins)==null?void 0:e[0][0],c=(o=this.calculatedBins)==null?void 0:o[((i=(r=this.calculatedBins)==null?void 0:r.length)!=null?i:0)-1][1];return Eo(t==="x"?[u,c]:l)}createNodeData(){return Oe(this,null,function*(){var t;const{id:e,axes:r,processedData:i,ctx:{callbackCache:o}}=this,a=r.x,s=r.y;if(!this.visible||!a||!s||!i||i.type!=="grouped")return[];const{scale:l}=a,{scale:u}=s,{xKey:c,yKey:d,xName:p,yName:h,fill:f,stroke:v,strokeWidth:g}=this.properties,{formatter:m=E=>String(E.value),fontStyle:y,fontWeight:C,fontSize:S,fontFamily:w,color:_}=this.properties.label,x=[];return i.data.forEach(E=>{var R;const{aggValues:[[P,A]]=[[0,0]],datum:N,datum:{length:I},keys:G,keys:[V,H]}=E,j=l.convert(V),B=l.convert(H),$=P+A,W=u.convert(0),Y=u.convert($),Z=Math.abs(B-j),se=Math.abs(Y-W),X=Math.min(j,B),ie=Math.min(W,Y),z=$!==0?{text:(R=o.call(m,{value:$,datum:N,seriesId:e,xKey:c,yKey:d,xName:p,yName:h}))!=null?R:String($),fontStyle:y,fontWeight:C,fontSize:S,fontFamily:w,fill:_,x:X+Z/2,y:ie+se/2}:void 0,Q={x:X+Z/2,y:ie+se/2};x.push({series:this,datum:N,aggregatedValue:$,frequency:I,domain:G,yKey:d,xKey:c,x:X,y:ie,xValue:j,yValue:Y,width:Z,height:se,midPoint:Q,fill:f,stroke:v,opacity:1,strokeWidth:g,label:z})}),[{itemId:(t=this.properties.yKey)!=null?t:this.id,nodeData:x,labelData:x,scales:Cd(gie.prototype,this,"calculateScaling").call(this),animationValid:!0,visible:this.visible}]})}nodeFactory(){return new uo}updateDatumSelection(t){return Oe(this,null,function*(){const{nodeData:e,datumSelection:r}=t;return r.update(e,i=>{i.tag=0,i.crisp=!0},i=>i.domain.join("_"))})}updateDatumNodes(t){return Oe(this,null,function*(){const{isHighlight:e}=t,{fillOpacity:r,strokeOpacity:i,lineDash:o,lineDashOffset:a,shadow:s,highlightStyle:{item:{fill:l,fillOpacity:u=r,stroke:c,strokeWidth:d}}}=this.properties;t.datumSelection.each((p,h,f)=>{var v,g;const m=e&&d!==void 0?d:h.strokeWidth,y=e?u:r;p.fill=(v=e?l:void 0)!=null?v:h.fill,p.stroke=(g=e?c:void 0)!=null?g:h.stroke,p.fillOpacity=y,p.strokeOpacity=i,p.strokeWidth=m,p.lineDash=o,p.lineDashOffset=a,p.fillShadow=s,p.zIndex=e?Ny.highlightedZIndex:f,p.visible=h.height>0})})}updateLabelSelection(t){return Oe(this,null,function*(){const{labelData:e,labelSelection:r}=t;return r.update(e,i=>{i.tag=1,i.pointerEvents=1,i.textAlign="center",i.textBaseline="middle"})})}updateLabelNodes(t){return Oe(this,null,function*(){const e=this.isLabelEnabled();t.labelSelection.each((r,i)=>{const o=i.label;o&&e?(r.text=o.text,r.x=o.x,r.y=o.y,r.fontStyle=o.fontStyle,r.fontWeight=o.fontWeight,r.fontSize=o.fontSize,r.fontFamily=o.fontFamily,r.fill=o.fill,r.visible=!0):r.visible=!1})})}getTooltipHtml(t){const e=this.axes.x,r=this.axes.y;if(!this.properties.isValid()||!e||!r)return"";const{xKey:i,yKey:o,xName:a,yName:s,fill:l,aggregation:u,tooltip:c}=this.properties,{aggregatedValue:d,frequency:p,domain:[h,f]}=t,v=`${Qr(a??i)}: ${e.formatDatum(h)} - ${e.formatDatum(f)}`;let g=o?`<b>${Qr(s??o)} (${u})</b>: ${r.formatDatum(d)}<br>`:"";g+=`<b>Frequency</b>: ${p}`;const m={title:v,backgroundColor:l,content:g};return c.toTooltipHtml(m,{datum:{data:t.datum,aggregatedValue:t.aggregatedValue,domain:t.domain,frequency:t.frequency},xKey:i,xName:a,yKey:o,yName:s,color:l,title:v,seriesId:this.id})}getLegendData(t){var e,r;if(!((e=this.data)!=null&&e.length)||t!=="category")return[];const{xKey:i,yName:o,fill:a,fillOpacity:s,stroke:l,strokeWidth:u,strokeOpacity:c,visible:d}=this.properties;return[{legendType:"category",id:this.id,itemId:i,seriesId:this.id,enabled:d,label:{text:(r=o??i)!=null?r:"Frequency"},marker:{fill:a??"rgba(0, 0, 0, 0)",stroke:l??"rgba(0, 0, 0, 0)",fillOpacity:s,strokeOpacity:c,strokeWidth:u}}]}animateEmptyUpdateReady({datumSelections:t,labelSelections:e}){const r=j0(B0(!0,this.axes,"normal"));tn(this.id,"datums",this.ctx.animationManager,t,r),Sr(this,"labels",this.ctx.animationManager,e)}animateWaitingUpdateReady(t){var e,r;const i=(r=(e=this.processedData)==null?void 0:e.reduced)==null?void 0:r.diff,o=j0(B0(!0,this.axes,"normal"));tn(this.id,"datums",this.ctx.animationManager,t.datumSelections,o,(a,s)=>Jp(s.domain),i),Sr(this,"labels",this.ctx.animationManager,t.labelSelections)}isLabelEnabled(){return this.properties.label.enabled}};L2.className="HistogramSeries";L2.type="histogram";var e7e=L2,t7e={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",instanceConstructor:e7e,seriesDefaults:{axes:[{type:"number",position:"bottom"},{type:"number",position:"left"}]},themeTemplate:{series:{__extends__:Sd,strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:ui,color:Ry,formatter:void 0},shadow:{enabled:!1,color:Ty,xOffset:3,yOffset:3,blur:5}}},paletteFactory:({takeColors:n})=>{const{fills:[t],strokes:[e]}=n(1);return{fill:t,stroke:e}}},Io=class extends _h{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.marker=new _a,this.label=new oi,this.tooltip=new xa,this.connectMissingData=!1}};D([k(Ne)],Io.prototype,"xKey",2);D([k(Ne)],Io.prototype,"yKey",2);D([k(Ne,{optional:!0})],Io.prototype,"xName",2);D([k(Ne,{optional:!0})],Io.prototype,"yName",2);D([k(Ne,{optional:!0})],Io.prototype,"title",2);D([k(tr)],Io.prototype,"stroke",2);D([k(Le)],Io.prototype,"strokeWidth",2);D([k(_r)],Io.prototype,"strokeOpacity",2);D([k(xd)],Io.prototype,"lineDash",2);D([k(Le)],Io.prototype,"lineDashOffset",2);D([k(ct)],Io.prototype,"marker",2);D([k(ct)],Io.prototype,"label",2);D([k(ct)],Io.prototype,"tooltip",2);D([k(St)],Io.prototype,"connectMissingData",2);var F2=class mie extends xh{constructor(t){super({moduleCtx:t,hasMarkers:!0,pickModes:[2,3,0],markerSelectionGarbageCollection:!1,animationResetFns:{path:O2({getOpacity:()=>this.getOpacity()}),label:Td,marker:(e,r)=>de(de({},Q_()),k0(e,r))}}),this.properties=new Io}processData(t){return Oe(this,null,function*(){if(!this.properties.isValid()||this.data==null)return;const{xKey:e,yKey:r}=this.properties,i=!this.ctx.animationManager.isSkipped(),{isContinuousX:o,isContinuousY:a}=this.isContinuous(),s=[];o||(s.push($i(this,e,o,{id:"xKey"})),i&&this.processedData&&s.push(Fv(this.processedData))),i&&s.push(Iy(this,o?["xValue"]:[])),s.push(Tr(this,e,o,{id:"xValue"}),Tr(this,r,a,{id:"yValue",invalidValue:void 0})),yield this.requestDataModel(t,this.data,{props:s}),this.animationState.transition("updateData")})}getSeriesDomain(t){const{axes:e,dataModel:r,processedData:i}=this;if(!i||!r)return[];const o=e.x,a=e.y,s=r.resolveProcessedDataDefById(this,"xValue");if(t==="x"){const l=r.getDomain(this,"xValue","value",i);return(s==null?void 0:s.def.type)==="value"&&s.def.valueType==="category"?l:Eo(ac(l),o)}else{const l=r.getDomain(this,"yValue","value",i);return Eo(l,a)}}createNodeData(){return Oe(this,null,function*(){var t,e,r;const{processedData:i,dataModel:o,axes:a}=this,s=a.x,l=a.y;if(!i||!o||!s||!l)return[];const{xKey:u,yKey:c,xName:d,yName:p,marker:h,label:f,connectMissingData:v}=this.properties,g=s.scale,m=l.scale,y=((t=g.bandwidth)!=null?t:0)/2,C=((e=m.bandwidth)!=null?e:0)/2,S=[],w=h.enabled?h.size:0,_=o.resolveProcessedDataIndexById(this,"xValue").index,x=o.resolveProcessedDataIndexById(this,"yValue").index;let E=!0,R;for(let P=0;P<i.data.length;P++){const{datum:A,values:N}=R??i.data[P],I=N[_],G=N[x];if(G===void 0)E=!v;else{const V=g.convert(I)+y;if(isNaN(V)){E=!v,R=void 0;continue}R=((r=i.data[P+1])==null?void 0:r.values[x])===void 0?void 0:i.data[P+1];const H=m.convert(G)+C,j=this.getLabelText(f,{value:G,datum:A,xKey:u,yKey:c,xName:d,yName:p},B=>fr(B)?B.toFixed(2):String(B));S.push({series:this,datum:A,yKey:c,xKey:u,point:{x:V,y:H,moveTo:E,size:w},midPoint:{x:V,y:H},yValue:G,xValue:I,capDefaults:{lengthRatioMultiplier:this.properties.marker.getDiameter(),lengthMax:1/0},label:j?{text:j,fontStyle:f.fontStyle,fontWeight:f.fontWeight,fontSize:f.fontSize,fontFamily:f.fontFamily,textAlign:"center",textBaseline:"bottom",fill:f.color}:void 0}),E=!1}}return[{itemId:c,nodeData:S,labelData:S,scales:Cd(mie.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){const{shape:t}=this.properties.marker,e=Sh(t);return new e}updatePathNodes(t){return Oe(this,null,function*(){const{paths:[e],opacity:r,visible:i,animationEnabled:o}=t;e.setProperties({fill:void 0,lineJoin:"round",pointerEvents:1,opacity:r,stroke:this.properties.stroke,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}),o||(e.visible=i),yT(this,e)})}updateMarkerSelection(t){return Oe(this,null,function*(){let{nodeData:e}=t;const{markerSelection:r}=t,{shape:i,enabled:o}=this.properties.marker;return e=i&&o?e:[],this.properties.marker.isDirty()&&(r.clear(),r.cleanup()),r.update(e,void 0,a=>Jp(a.xValue))})}updateMarkerNodes(t){return Oe(this,null,function*(){const{markerSelection:e,isHighlight:r}=t,{xKey:i,yKey:o,stroke:a,strokeWidth:s,strokeOpacity:l,marker:u,highlightStyle:c}=this.properties,d=Ht(r&&c.item,u.getStyle(),{stroke:a,strokeWidth:s,strokeOpacity:l}),p=this.ctx.animationManager.isSkipped();e.each((h,f)=>{this.updateMarkerStyle(h,u,{datum:f,highlighted:r,xKey:i,yKey:o},d,{applyTranslation:p})}),r||u.markClean()})}updateLabelSelection(t){return Oe(this,null,function*(){return t.labelSelection.update(this.isLabelEnabled()?t.labelData:[])})}updateLabelNodes(t){return Oe(this,null,function*(){const{enabled:e,fontStyle:r,fontWeight:i,fontSize:o,fontFamily:a,color:s}=this.properties.label;t.labelSelection.each((l,u)=>{const{point:c,label:d}=u;u&&d&&e?(l.fontStyle=r,l.fontWeight=i,l.fontSize=o,l.fontFamily=a,l.textAlign=d.textAlign,l.textBaseline=d.textBaseline,l.text=d.text,l.x=c.x,l.y=c.y-10,l.fill=s,l.visible=!0):l.visible=!1})})}getTooltipHtml(t){var e;const r=this.axes.x,i=this.axes.y;if(!this.properties.isValid()||!r||!i)return"";const{xKey:o,yKey:a,xName:s,yName:l,strokeWidth:u,marker:c,tooltip:d}=this.properties,{datum:p,xValue:h,yValue:f}=t,v=r.formatDatum(h),g=i.formatDatum(f),m=Qr((e=this.properties.title)!=null?e:l),y=Qr(v+": "+g),C=Ht({fill:c.stroke},c.getStyle(),{strokeWidth:u}),{fill:S}=this.getMarkerStyle(c,{datum:t,xKey:o,yKey:a,highlighted:!1},C);return d.toTooltipHtml({title:m,content:y,backgroundColor:S},de({datum:p,xKey:o,xName:s,yKey:a,yName:l,title:m,color:S,seriesId:this.id},this.getModuleTooltipParams()))}getLegendData(t){var e,r,i,o,a,s,l,u,c;if(!((e=this.data)!=null&&e.length&&this.properties.isValid()&&t==="category"))return[];const{yKey:d,yName:p,stroke:h,strokeOpacity:f,strokeWidth:v,lineDash:g,title:m,marker:y,visible:C}=this.properties,S="rgba(0, 0, 0, 0)";return[{legendType:"category",id:this.id,itemId:d,seriesId:this.id,enabled:C,label:{text:(r=m??p)!=null?r:d},marker:{shape:y.shape,fill:(i=y.fill)!=null?i:S,stroke:(a=(o=y.stroke)!=null?o:h)!=null?a:S,fillOpacity:(s=y.fillOpacity)!=null?s:1,strokeOpacity:(u=(l=y.strokeOpacity)!=null?l:f)!=null?u:1,strokeWidth:(c=y.strokeWidth)!=null?c:0,enabled:y.enabled},line:{stroke:h??S,strokeOpacity:f,strokeWidth:v,lineDash:g}}]}updatePaths(t){return Oe(this,null,function*(){this.updateLinePaths([t.paths],[t.contextData])})}updateLinePaths(t,e){e.forEach(({nodeData:r},i)=>{const[o]=t[i],{path:a}=o;a.clear({trackChanges:!0});for(const s of r)s.point.moveTo?a.moveTo(s.point.x,s.point.y):a.lineTo(s.point.x,s.point.y);o.checkPathDirty()})}animateEmptyUpdateReady(t){const{markerSelections:e,labelSelections:r,annotationSelections:i,contextData:o,paths:a}=t,{animationManager:s}=this.ctx;this.updateLinePaths(a,o),E2(this,s,a.flat()),ci(e,k0),w2(this,s,e),Sr(this,"labels",s,r),Sr(this,"annotations",s,i)}animateReadyResize(t){const{contextData:e,paths:r}=t;this.updateLinePaths(r,e),super.animateReadyResize(t)}animateWaitingUpdateReady(t){var e,r;const{animationManager:i}=this.ctx,{markerSelections:o,labelSelections:a,annotationSelections:s,contextData:l,paths:u,previousContextData:c}=t,[d]=u;super.resetAllAnimation(t);const p=()=>{this.updateLinePaths(u,l)},h=()=>{i.skipCurrentBatch(),p()};if(l.length===0||(c==null?void 0:c.length)===0){p(),N0(this,i,o,"added"),Lw(this,"path_properties",i,d??[]),Sr(this,"labels",i,a),Sr(this,"annotations",i,s);return}const[f]=l,[v]=c??[],g=nie(f,v,(r=(e=this.processedData)==null?void 0:e.reduced)==null?void 0:r.diff);if(g===void 0){h();return}N0(this,i,o),tn(this.id,"path_properties",i,d,g.pathProperties),Qne(this.id,"path_update",i,d,g.path),g.hasMotion&&(Sr(this,"labels",i,a),Sr(this,"annotations",i,s))}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new st}};F2.className="LineSeries";F2.type="line";var r7e=F2,n7e={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",instanceConstructor:r7e,seriesDefaults:{axes:[{type:"number",position:"left"},{type:"category",position:"bottom"}]},themeTemplate:{series:{__extends__:Sd,tooltip:{position:{type:"node"}},strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,marker:{__extends__:Oy,fillOpacity:1,strokeOpacity:1,strokeWidth:0},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:ui,color:pr,formatter:void 0}}},enterpriseThemeTemplate:{series:{errorBar:{cap:{lengthRatio:1}}}},paletteFactory:n=>{const{marker:t}=Z_(n);return{stroke:t.fill,marker:t}}},No=class extends _h{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.marker=new _a,this.label=new oi,this.tooltip=new xa}};D([k(Ne)],No.prototype,"xKey",2);D([k(Ne)],No.prototype,"yKey",2);D([k(Ne,{optional:!0})],No.prototype,"labelKey",2);D([k(Ne,{optional:!0})],No.prototype,"colorKey",2);D([k(Ne,{optional:!0})],No.prototype,"xName",2);D([k(Ne,{optional:!0})],No.prototype,"yName",2);D([k(Ne,{optional:!0})],No.prototype,"labelName",2);D([k(Ne,{optional:!0})],No.prototype,"colorName",2);D([k($D,{optional:!0})],No.prototype,"colorDomain",2);D([k(tl)],No.prototype,"colorRange",2);D([k(Ne,{optional:!0})],No.prototype,"title",2);D([k(ct)],No.prototype,"marker",2);D([k(ct)],No.prototype,"label",2);D([k(ct)],No.prototype,"tooltip",2);var I2=class yie extends xh{constructor(t){super({moduleCtx:t,pickModes:[2,3,0],pathsPerSeries:0,hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{marker:Q_,label:Td}}),this.properties=new No,this.colorScale=new Iv}processData(t){return Oe(this,null,function*(){var e;if(!this.properties.isValid()||this.data==null)return;const{isContinuousX:r,isContinuousY:i}=this.isContinuous(),{xKey:o,yKey:a,labelKey:s,colorKey:l,colorDomain:u,colorRange:c}=this.properties,{dataModel:d,processedData:p}=yield this.requestDataModel(t,this.data,{props:[$i(this,o,r,{id:"xKey-raw"}),$i(this,a,i,{id:"yKey-raw"}),...s?[$i(this,s,!1,{id:"labelKey-raw"})]:[],Tr(this,o,r,{id:"xValue"}),Tr(this,a,i,{id:"yValue"}),...l?[Tr(this,l,!0,{id:"colorValue"})]:[],...s?[Tr(this,s,!1,{id:"labelValue"})]:[]],dataVisible:this.visible});if(l){const h=d.resolveProcessedDataIndexById(this,"colorValue").index;this.colorScale.domain=(e=u??p.domain.values[h])!=null?e:[],this.colorScale.range=c,this.colorScale.update()}this.animationState.transition("updateData")})}getSeriesDomain(t){const{dataModel:e,processedData:r}=this;if(!r||!e)return[];const i=t==="x"?"xValue":"yValue",o=e.resolveProcessedDataDefById(this,i),a=e.getDomain(this,i,"value",r);if((o==null?void 0:o.def.type)==="value"&&(o==null?void 0:o.def.valueType)==="category")return a;const s=this.axes[t];return Eo(ac(a),s)}createNodeData(){return Oe(this,null,function*(){var t,e,r;const{axes:i,dataModel:o,processedData:a,colorScale:s}=this,{xKey:l,yKey:u,labelKey:c,colorKey:d,xName:p,yName:h,labelName:f,marker:v,label:g,visible:m}=this.properties,y=i.x,C=i.y;if(!(o&&a&&m&&y&&C))return[];const S=o.resolveProcessedDataIndexById(this,"xValue").index,w=o.resolveProcessedDataIndexById(this,"yValue").index,_=d?o.resolveProcessedDataIndexById(this,"colorValue").index:-1,x=c?o.resolveProcessedDataIndexById(this,"labelValue").index:-1,E=y.scale,R=C.scale,P=((t=E.bandwidth)!=null?t:0)/2,A=((e=R.bandwidth)!=null?e:0)/2,N=[],I=g.getFont();for(const{values:G,datum:V}of(r=a.data)!=null?r:[]){const H=G[S],j=G[w],B=E.convert(H)+P,$=R.convert(j)+A,W=this.getLabelText(g,{value:c?G[x]:j,datum:V,xKey:l,yKey:u,labelKey:c,xName:p,yName:h,labelName:f}),Y=Tn.getTextSize(W,I),Z=d?s.convert(G[_]):void 0;N.push({series:this,itemId:u,yKey:u,xKey:l,datum:V,xValue:H,yValue:j,capDefaults:{lengthRatioMultiplier:v.getDiameter(),lengthMax:1/0},point:{x:B,y:$,size:v.size},midPoint:{x:B,y:$},fill:Z,label:de({text:W},Y)})}return[{itemId:u,nodeData:N,labelData:N,scales:Cd(yie.prototype,this,"calculateScaling").call(this),visible:this.visible}]})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){var t;return(t=this.contextNodeData)==null?void 0:t.reduce((e,r)=>e.concat(r.labelData),[])}markerFactory(){const{shape:t}=this.properties.marker,e=Sh(t);return new e}updateMarkerSelection(t){return Oe(this,null,function*(){const{nodeData:e,markerSelection:r}=t;return this.properties.marker.isDirty()&&(r.clear(),r.cleanup()),r.update(this.properties.marker.enabled?e:[])})}updateMarkerNodes(t){return Oe(this,null,function*(){const{markerSelection:e,isHighlight:r}=t,{xKey:i,yKey:o,labelKey:a,marker:s,highlightStyle:l}=this.properties,u=Ht(r&&l.item,s.getStyle());e.each((c,d)=>{this.updateMarkerStyle(c,s,{datum:d,highlighted:r,xKey:i,yKey:o,labelKey:a},u)}),r||s.markClean()})}updateLabelSelection(t){return Oe(this,null,function*(){var e,r;const i=this.isLabelEnabled()?(r=(e=this.chart)==null?void 0:e.placeLabels().get(this))!=null?r:[]:[];return t.labelSelection.update(i.map(({datum:o,x:a,y:s})=>Xe(de({},o),{point:{x:a,y:s,size:o.point.size}})),o=>{o.pointerEvents=1})})}updateLabelNodes(t){return Oe(this,null,function*(){const{label:e}=this.properties;t.labelSelection.each((r,i)=>{var o,a,s,l;r.text=i.label.text,r.fill=e.color,r.x=(a=(o=i.point)==null?void 0:o.x)!=null?a:0,r.y=(l=(s=i.point)==null?void 0:s.y)!=null?l:0,r.fontStyle=e.fontStyle,r.fontWeight=e.fontWeight,r.fontSize=e.fontSize,r.fontFamily=e.fontFamily,r.textAlign="left",r.textBaseline="top"})})}getTooltipHtml(t){const e=this.axes.x,r=this.axes.y;if(!this.properties.isValid()||!e||!r)return"";const{xKey:i,yKey:o,labelKey:a,xName:s,yName:l,labelName:u,title:c=l,marker:d,tooltip:p}=this.properties,{datum:h,xValue:f,yValue:v,label:g}=t,m=Ht({fill:t.fill,strokeWidth:this.getStrokeWidth(d.strokeWidth)},d.getStyle()),{fill:y="gray"}=this.getMarkerStyle(d,{datum:t,highlighted:!1,xKey:i,yKey:o,labelKey:a},m),C=Qr(e.formatDatum(f)),S=Qr(r.formatDatum(v));let w=`<b>${Qr(s??i)}</b>: ${C}<br><b>${Qr(l??o)}</b>: ${S}`;return a&&(w=`<b>${Qr(u??a)}</b>: ${Qr(g.text)}<br>`+w),p.toTooltipHtml({title:c,content:w,backgroundColor:y},de({datum:h,xKey:i,xName:s,yKey:o,yName:l,labelKey:a,labelName:u,title:c,color:y,seriesId:this.id},this.getModuleTooltipParams()))}getLegendData(t){var e,r,i,o,a,s;const{yKey:l,yName:u,title:c,marker:d,visible:p}=this.properties,{fill:h,stroke:f,fillOpacity:v,strokeOpacity:g,strokeWidth:m}=d;return!((e=this.data)!=null&&e.length)||!this.properties.isValid()||t!=="category"?[]:[{legendType:"category",id:this.id,itemId:l,seriesId:this.id,enabled:p,label:{text:(r=c??u)!=null?r:l},marker:{shape:d.shape,fill:(o=(i=d.fill)!=null?i:h)!=null?o:"rgba(0, 0, 0, 0)",stroke:(s=(a=d.stroke)!=null?a:f)!=null?s:"rgba(0, 0, 0, 0)",fillOpacity:v??1,strokeOpacity:g??1,strokeWidth:m??0}}]}animateEmptyUpdateReady(t){const{markerSelections:e,labelSelections:r,annotationSelections:i}=t;S2(this,this.ctx.animationManager,e),Sr(this,"labels",this.ctx.animationManager,r),Sr(this,"annotations",this.ctx.animationManager,i)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new st}};I2.className="ScatterSeries";I2.type="scatter";var i7e=I2,o7e={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",instanceConstructor:i7e,seriesDefaults:{axes:[{type:"number",position:"bottom"},{type:"number",position:"left"}]},themeTemplate:{series:{__extends__:Sd,tooltip:{position:{type:"node"}},marker:{__extends__:Oy,fillOpacity:.8},label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:ui,color:pr}}},enterpriseThemeTemplate:{series:{errorBar:{cap:{lengthRatio:1}}}},paletteFactory:Z_};function N2(n,t,e){const r=Math.sqrt(Math.pow(n,2)+Math.pow(t,2)),{innerRadius:i,outerRadius:o}=e;if(e.startAngle===e.endAngle||r<Math.min(i,o)||r>Math.max(i,o))return!1;const a=D0(e.startAngle),s=D0(e.endAngle),l=Math.atan2(t,n);return a<s?l<=s&&l>=a:l<=s&&l>=-Math.PI||l>=a&&l<=Math.PI}function E5(n,t){const{startAngle:e,endAngle:r,innerRadius:i,outerRadius:o}=t,a={x:o*Math.cos(e),y:o*Math.sin(e)},s={x:o*Math.cos(r),y:o*Math.sin(r)},l=i===0?{x:0,y:0}:{x:i*Math.cos(e),y:i*Math.sin(e)},u=i===0?{x:0,y:0}:{x:i*Math.cos(r),y:i*Math.sin(r)};return Aw(n.start.x,n.start.y,n.end.x,n.end.y,a.x,a.y,l.x,l.y)!=null||Aw(n.start.x,n.start.y,n.end.x,n.end.y,s.x,s.y,u.x,u.y)!=null||Cne(0,0,o,e,r,!0,n.start.x,n.start.y,n.end.x,n.end.y).length>0}function Cie(n,t){const e={x:n.x,y:n.y},r={x:n.x+n.width,y:n.y},i={x:n.x,y:n.y+n.height},o={x:n.x+n.width,y:n.y+n.height};return E5({start:e,end:r},t)||E5({start:i,end:o},t)}var il=class extends hs{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=Math.PI*2,this.angleOffset=0,this.inset=0}computeBBox(){const n=this.outerRadius;return new Tt(this.centerX-n,this.centerY-n,n*2,n*2)}updatePath(){const n=this.path,{angleOffset:t,inset:e}=this,r=this.startAngle+t,i=this.endAngle+t,o=r<=i?i-r:Math.PI*2-(r-i),a=Math.max(Math.min(this.innerRadius,this.outerRadius)+e,0),s=Math.max(Math.max(this.innerRadius,this.outerRadius)-e,0),l=o>=2*Math.PI,u=this.centerX,c=this.centerY;if(n.clear(),l)n.arc(u,c,s,r,i),a>e&&(n.moveTo(u+a*Math.cos(i),c+a*Math.sin(i)),n.arc(u,c,a,i,r,!0));else{const d=a>0?e/a:0,p=s>0?e/s:0;if(o<2*p)return;const f=a<=e||o<2*d;if(f){const v=o<Math.PI*.5?e*(1+Math.cos(o))/Math.sin(o):NaN;let g;v>0&&v<s?g=Math.max(Math.hypot(e,v),a):g=a;const m=r+o*.5;n.moveTo(u+g*Math.cos(m),c+g*Math.sin(m))}else n.moveTo(u+a*Math.cos(r+d),c+a*Math.sin(r+d));n.arc(u,c,s,r+p,i-p),f||(a>0?n.arc(u,c,a,i-d,r+d,!0):n.lineTo(u,c))}n.closePath(),this.dirtyPath=!1}isPointInPath(n,t){const{angleOffset:e}=this,r=this.startAngle+e,i=this.endAngle+e,o=Math.min(this.innerRadius,this.outerRadius),a=Math.max(this.innerRadius,this.outerRadius),s=this.transformPoint(n,t);return N2(s.x,s.y,{startAngle:r,endAngle:i,innerRadius:o,outerRadius:a})}};il.className="Sector";D([Mt()],il.prototype,"centerX",2);D([Mt()],il.prototype,"centerY",2);D([Mt()],il.prototype,"innerRadius",2);D([Mt()],il.prototype,"outerRadius",2);D([Mt()],il.prototype,"startAngle",2);D([Mt()],il.prototype,"endAngle",2);D([Mt()],il.prototype,"angleOffset",2);D([Mt()],il.prototype,"inset",2);var Sie=class extends dn{constructor(){super(...arguments),this.showInLegend=!1}};D([k(St)],Sie.prototype,"showInLegend",2);var k2=class extends oi{constructor(){super(...arguments),this.margin=2}set(n,t){return super.set(n)}};D([k(Ne)],k2.prototype,"text",2);D([k(Vr)],k2.prototype,"margin",2);var G2=class extends Fr{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}};D([k(tr)],G2.prototype,"fill",2);D([k(_r)],G2.prototype,"fillOpacity",2);var ky=class extends oi{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};D([k(Le)],ky.prototype,"offset",2);D([k(vh)],ky.prototype,"minAngle",2);D([k(Le)],ky.prototype,"minSpacing",2);D([k(Le)],ky.prototype,"maxCollisionOffset",2);D([k(St)],ky.prototype,"avoidCollisions",2);var V2=class extends oi{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};D([k(Vr)],V2.prototype,"positionOffset",2);D([k(_r)],V2.prototype,"positionRatio",2);var tA=class extends Fr{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};D([k(tl,{optional:!0})],tA.prototype,"colors",2);D([k(Le)],tA.prototype,"length",2);D([k(Le)],tA.prototype,"strokeWidth",2);var Zt=class extends Kl{constructor(){super(...arguments),this.fills=Object.values(bu),this.strokes=Object.values(qf),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=void 0,this.innerLabels=new I_(k2),this.title=new Sie,this.innerCircle=new G2,this.shadow=new ql,this.calloutLabel=new ky,this.sectorLabel=new V2,this.calloutLine=new tA,this.tooltip=new xa,this.__BACKGROUND_COLOR_DO_NOT_USE=void 0}isValid(){const n=super.isValid();return this.innerRadiusRatio==null&&this.innerRadiusOffset==null?(Ue.warnOnce("Either an [innerRadiusRatio] or an [innerRadiusOffset] must be set to render a donut series."),!1):n}};D([k(Ne)],Zt.prototype,"angleKey",2);D([k(Ne,{optional:!0})],Zt.prototype,"angleName",2);D([k(Ne,{optional:!0})],Zt.prototype,"radiusKey",2);D([k(Ne,{optional:!0})],Zt.prototype,"radiusName",2);D([k(Le,{optional:!0})],Zt.prototype,"radiusMin",2);D([k(Le,{optional:!0})],Zt.prototype,"radiusMax",2);D([k(Ne,{optional:!0})],Zt.prototype,"calloutLabelKey",2);D([k(Ne,{optional:!0})],Zt.prototype,"calloutLabelName",2);D([k(Ne,{optional:!0})],Zt.prototype,"sectorLabelKey",2);D([k(Ne,{optional:!0})],Zt.prototype,"sectorLabelName",2);D([k(Ne,{optional:!0})],Zt.prototype,"legendItemKey",2);D([k(tl)],Zt.prototype,"fills",2);D([k(tl)],Zt.prototype,"strokes",2);D([k(_r)],Zt.prototype,"fillOpacity",2);D([k(_r)],Zt.prototype,"strokeOpacity",2);D([k(xd)],Zt.prototype,"lineDash",2);D([k(Le)],Zt.prototype,"lineDashOffset",2);D([k(el,{optional:!0})],Zt.prototype,"formatter",2);D([k(vh)],Zt.prototype,"rotation",2);D([k(Vr)],Zt.prototype,"outerRadiusOffset",2);D([k(_r)],Zt.prototype,"outerRadiusRatio",2);D([k(Vr,{optional:!0})],Zt.prototype,"innerRadiusOffset",2);D([k(_r,{optional:!0})],Zt.prototype,"innerRadiusRatio",2);D([k(Le)],Zt.prototype,"strokeWidth",2);D([k(Le,{optional:!0})],Zt.prototype,"sectorSpacing",2);D([k(jj)],Zt.prototype,"innerLabels",2);D([k(ct)],Zt.prototype,"title",2);D([k(ct)],Zt.prototype,"innerCircle",2);D([k(ct)],Zt.prototype,"shadow",2);D([k(ct)],Zt.prototype,"calloutLabel",2);D([k(ct)],Zt.prototype,"sectorLabel",2);D([k(ct)],Zt.prototype,"calloutLine",2);D([k(ct)],Zt.prototype,"tooltip",2);D([k(Ne,{optional:!0})],Zt.prototype,"__BACKGROUND_COLOR_DO_NOT_USE",2);function Dm(n,t,e,r){const i=[e.convert(0),e.convert(1)],o=[r.convert(0),r.convert(1)],a=Math.PI/-2+ao(t),s=({radius:h})=>({innerRadius:i[0],outerRadius:i[0]+(i[1]-i[0])*h}),l=({radius:h})=>({innerRadius:o[0],outerRadius:o[0]+(o[1]-o[0])*h});return{nodes:{toFn:(h,f,v,{prevLive:g})=>{var m,y;let{startAngle:C,endAngle:S,innerRadius:w,outerRadius:_}=f;const{stroke:x,fill:E}=f.sectorFormat;if(v==="removed"&&g?(C=(m=g.datum)==null?void 0:m.endAngle,S=(y=g.datum)==null?void 0:y.endAngle):v==="removed"&&!g&&(C=a,S=a),v==="removed"){const R=s(f);w=R.innerRadius,_=R.outerRadius}return{startAngle:C,endAngle:S,outerRadius:_,innerRadius:w,stroke:x,fill:E}},fromFn:(h,f,v,{prevFromProps:g})=>{var m,y,C,S,w,_;let{startAngle:x,endAngle:E,innerRadius:R,outerRadius:P}=h,{fill:A,stroke:N}=f.sectorFormat;if(v==="unknown"||v==="added"&&!g?(x=a,E=a,R=f.innerRadius,P=f.outerRadius):v==="added"&&g&&(x=(m=g.endAngle)!=null?m:a,E=(y=g.endAngle)!=null?y:a,R=(C=g.innerRadius)!=null?C:f.innerRadius,P=(S=g.outerRadius)!=null?S:f.outerRadius),v==="added"&&!n){const I=l(f);R=I.innerRadius,P=I.outerRadius}return v==="updated"&&(A=(w=h.fill)!=null?w:A,N=(_=h.stroke)!=null?_:N),{startAngle:x,endAngle:E,innerRadius:R,outerRadius:P,fill:A,stroke:N,phase:"initial"}}},innerCircle:{fromFn:(h,f)=>{var v,g,m;return{size:(m=(g=(v=h.previousDatum)==null?void 0:v.radius)!=null?g:h.size)!=null?m:0,phase:"initial"}},toFn:(h,f)=>{var v;return{size:(v=f.radius)!=null?v:0}}}}}function wie(n,t){return{startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,fill:t.sectorFormat.fill,stroke:t.sectorFormat.stroke}}var rA=class extends Hne{constructor(n){var t=n,{useLabelLayer:e=!1,pickModes:r=[0],canHaveAxes:i=!1,animationResetFns:o}=t,a=di(t,["useLabelLayer","pickModes","canHaveAxes","animationResetFns"]);super(Xe(de({},a),{useLabelLayer:e,pickModes:r,contentGroupVirtual:!1,directionKeys:{x:["angleKey"],y:["radiusKey"]},directionNames:{x:["angleName"],y:["radiusName"]},canHaveAxes:i})),this.itemGroup=this.contentGroup.appendChild(new st),this.itemSelection=rn.select(this.itemGroup,()=>this.nodeFactory(),!1),this.labelSelection=rn.select(this.labelGroup,nr,!1),this.highlightSelection=rn.select(this.highlightGroup,()=>this.nodeFactory()),this.centerX=0,this.centerY=0,this.radius=0,this.itemGroup.zIndexSubOrder=[()=>this._declarationOrder,1],this.animationResetFns=o,this.animationState=new W_("empty",{empty:{update:{target:"ready",action:s=>this.animateEmptyUpdateReady(s)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:s=>this.animateReadyHighlight(s),highlightMarkers:s=>this.animateReadyHighlightMarkers(s),resize:s=>this.animateReadyResize(s),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:s=>this.animateWaitingUpdateReady(s)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:s=>this.animateClearingUpdateEmpty(s)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(n){n==="initial"?this.animationState.transition("reset"):n==="ready"&&this.animationState.transition("skip")}getLabelData(){return[]}computeLabelsBBox(n,t){return null}resetAllAnimation(){var n;const{item:t,label:e}=(n=this.animationResetFns)!=null?n:{};this.ctx.animationManager.stopByAnimationGroupId(this.id),t&&ci([this.itemSelection,this.highlightSelection],t),e&&ci([this.labelSelection],e),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup()}animateEmptyUpdateReady(n){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(n){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(n){var t;const{item:e}=(t=this.animationResetFns)!=null?t:{};e&&ci([this.highlightSelection],e)}animateReadyHighlightMarkers(n){}animateReadyResize(n){this.resetAllAnimation()}animateClearingUpdateEmpty(n){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(n){return{seriesRect:n}}},a7e=class extends K_{constructor(n,t,e,r){super(n,t,e,r),this.angleKey=r.properties.angleKey,this.radiusKey=r.properties.radiusKey,this.calloutLabelKey=r.properties.calloutLabelKey,this.sectorLabelKey=r.properties.sectorLabelKey}},nA=class extends rA{constructor(n){super({moduleCtx:n,useLabelLayer:!0,animationResetFns:{item:wie,label:Td}}),this.properties=new Zt,this.previousRadiusScale=new Yu,this.radiusScale=new Yu,this.backgroundGroup=this.rootGroup.appendChild(new st({name:`${this.id}-background`,layer:!0,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new st({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new Ku),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new Ku),this.innerCircleGroup=this.backgroundGroup.appendChild(new st({name:`${this.id}-innerCircle`})),this.nodeData=[],this.seriesItemEnabled=[],this.surroundingRadius=void 0,this.NodeClickEvent=a7e,this.angleScale=new Yu,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(i=>i+Math.PI/2);const t=new st({name:"pieCalloutLabels"}),e=new st({name:"pieSectorLabels"}),r=new st({name:"innerLabels"});this.labelGroup.append(t),this.labelGroup.append(e),this.labelGroup.append(r),this.calloutLabelSelection=rn.select(t,st),this.sectorLabelSelection=rn.select(e,nr),this.innerLabelsSelection=rn.select(r,nr),this.innerCircleSelection=rn.select(this.innerCircleGroup,Ku);for(const i of[this.zerosumInnerRing,this.zerosumOuterRing])i.fillOpacity=0,i.stroke=this.properties.calloutLabel.color,i.strokeWidth=1,i.strokeOpacity=1}addChartEventListeners(){var n;this.destroyFns.push((n=this.ctx.chartEventManager)==null?void 0:n.addListener("legend-item-click",t=>this.onLegendItemClick(t)))}visibleChanged(){this.processSeriesItemEnabled()}get visible(){return this.seriesItemEnabled.length?this.seriesItemEnabled.some(n=>n):super.visible}processSeriesItemEnabled(){var n;const{data:t,visible:e}=this;this.seriesItemEnabled=(n=t==null?void 0:t.map(()=>e))!=null?n:[]}nodeFactory(){return new il}getSeriesDomain(n){return n==="x"?this.angleScale.domain:this.radiusScale.domain}processData(n){return Oe(this,null,function*(){var t,e,r,i,o;if(this.data==null||!this.properties.isValid())return;let{data:a}=this;const{seriesItemEnabled:s}=this,{angleKey:l,radiusKey:u,calloutLabelKey:c,sectorLabelKey:d,legendItemKey:p}=this.properties,h=!this.ctx.animationManager.isSkipped(),f=[],v=[];p?f.push($i(this,p,!1,{id:"legendItemKey"})):c?f.push($i(this,c,!1,{id:"calloutLabelKey"})):d&&f.push($i(this,d,!1,{id:"sectorLabelKey"})),u&&v.push(h2(this,u,{id:"radiusValue",min:(t=this.properties.radiusMin)!=null?t:0,max:this.properties.radiusMax}),Tr(this,u,!0,{id:"radiusRaw"}),I0(this,{id:"radiusValue"},[0,1],1,(e=this.properties.radiusMin)!=null?e:0,this.properties.radiusMax)),c&&v.push(Tr(this,c,!1,{id:"calloutLabelValue"})),d&&v.push(Tr(this,d,!1,{id:"sectorLabelValue"})),p&&v.push(Tr(this,p,!1,{id:"legendItemValue"})),h&&this.processedData&&f.length>0&&v.push(Fv(this.processedData)),v.push(Iy(this)),a=a.map((g,m)=>s[m]?g:Xe(de({},g),{[l]:0})),yield this.requestDataModel(n,a,{props:[...f,f2(this,l,!0,{id:"angleValue",onlyPositive:!0}),Tr(this,l,!0,{id:"angleRaw"}),I0(this,{id:"angleValue"},[0,1],0,0),...v]});for(const g of(o=(i=(r=this.processedData)==null?void 0:r.defs)==null?void 0:i.values)!=null?o:[]){const{id:m,missing:y,property:C}=g,S=n2(this,y);m!=="angleRaw"&&S>0&&Ue.warnOnce(`no value was found for the key '${String(C)}' on ${S} data element${S>1?"s":""}`)}this.animationState.transition("updateData")})}maybeRefreshNodeData(){return Oe(this,null,function*(){if(!this.nodeDataRefresh)return;const[{nodeData:n=[]}={}]=yield this.createNodeData();this.nodeData=n,this.nodeDataRefresh=!1})}getProcessedDataIndexes(n){const t=n.resolveProcessedDataIndexById(this,"angleValue").index,e=this.properties.radiusKey?n.resolveProcessedDataIndexById(this,"radiusValue").index:-1,r=this.properties.calloutLabelKey?n.resolveProcessedDataIndexById(this,"calloutLabelValue").index:-1,i=this.properties.sectorLabelKey?n.resolveProcessedDataIndexById(this,"sectorLabelValue").index:-1,o=this.properties.legendItemKey?n.resolveProcessedDataIndexById(this,"legendItemValue").index:-1;return{angleIdx:t,radiusIdx:e,calloutLabelIdx:r,sectorLabelIdx:i,legendItemIdx:o}}createNodeData(){return Oe(this,null,function*(){const{id:n,processedData:t,dataModel:e,angleScale:r}=this,{rotation:i,innerRadiusRatio:o}=this.properties;if(!this.properties.isValid())return this.zerosumOuterRing.visible=!0,this.zerosumInnerRing.visible=!0,[{itemId:n,nodeData:[],labelData:[]}];if(!t||!e||t.type!=="ungrouped")return[];const{angleIdx:a,radiusIdx:s,calloutLabelIdx:l,sectorLabelIdx:u,legendItemIdx:c}=this.getProcessedDataIndexes(e);let d=0,p=0;const h=t.data.map((f,v)=>{var g;const{datum:m,values:y}=f,C=y[a],S=r.convert(d)+ao(i);d=C,p+=C;const w=r.convert(d)+ao(i),_=Math.abs(w-S),x=S+_/2,E=y[a+1],R=s>=0&&(g=y[s])!=null?g:1,P=s>=0?y[s+1]:void 0,A=c>=0?y[c]:void 0,N=this.getLabels(m,x,_,!0,y[l],y[u],A),I=this.getSectorFormat(m,v,!1);return de({itemId:v,series:this,datum:m,index:v,angleValue:E,midAngle:x,midCos:Math.cos(x),midSin:Math.sin(x),startAngle:S,endAngle:w,sectorFormat:I,radiusValue:P,radius:R,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(R),0),legendItemValue:A},N)});return this.zerosumOuterRing.visible=p===0,this.zerosumInnerRing.visible=p===0&&o!=null&&o!==1&&o>0,[{itemId:n,nodeData:h,labelData:h}]})}getLabels(n,t,e,r,i,o,a){const{calloutLabel:s,sectorLabel:l,legendItemKey:u}=this.properties,c=!r||s.enabled?this.properties.calloutLabelKey:void 0,d=!r||l.enabled?this.properties.sectorLabelKey:void 0;if(!c&&!d&&!u)return{};const p={datum:n,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},h={};return c&&e>ao(s.minAngle)&&(h.calloutLabel=Xe(de({},this.getTextAlignment(t)),{text:this.getLabelText(s,Xe(de({},p),{value:i})),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0})),d&&(h.sectorLabel={text:this.getLabelText(l,Xe(de({},p),{value:o}))}),u!=null&&a!=null&&(h.legendItem={key:u,text:a}),h}getTextAlignment(n){const t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],e=D0(n),r=-3*Math.PI/4,i=e-r,o=Math.floor(i/(Math.PI/2)),a=VD(o,t.length);return t[a]}getSectorFormat(n,t,e){var r,i,o,a,s;const{callbackCache:l,highlightManager:u}=this.ctx,{angleKey:c,radiusKey:d,fills:p,strokes:h,formatter:f,sectorSpacing:v,__BACKGROUND_COLOR_DO_NOT_USE:g}=this.properties,m=u.getActiveHighlight(),y=e&&(m==null?void 0:m.series)===this&&t===m.itemId,{fill:C,fillOpacity:S,stroke:w,strokeWidth:_,strokeOpacity:x}=Ht(y&&this.properties.highlightStyle.item,{fill:p.length>0?p[t%p.length]:void 0,fillOpacity:this.properties.fillOpacity,stroke:v!=null?h.length>0?h[t%h.length]:void 0:h.length>0?h[t%h.length]:g,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()});let E;return f&&(E=l.call(f,{datum:n,angleKey:c,radiusKey:d,fill:C,stroke:w,fills:p,strokes:h,strokeWidth:_,highlighted:y,seriesId:this.id})),{fill:(r=E==null?void 0:E.fill)!=null?r:C,fillOpacity:(i=E==null?void 0:E.fillOpacity)!=null?i:S,stroke:(o=E==null?void 0:E.stroke)!=null?o:w,strokeWidth:(a=E==null?void 0:E.strokeWidth)!=null?a:_,strokeOpacity:(s=E==null?void 0:E.strokeOpacity)!=null?s:x}}getInnerRadius(){const{radius:n}=this,{innerRadiusRatio:t=1,innerRadiusOffset:e=0}=this.properties,r=n*t+e;return r===n||r<0?0:r}getOuterRadius(){const{outerRadiusRatio:n,outerRadiusOffset:t}=this.properties;return Math.max(this.radius*n+t,0)}updateRadiusScale(n){const t=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=t,n&&(this.previousRadiusScale.range=t),this.nodeData=this.nodeData.map(e=>{var r=e,{radius:i}=r,o=di(r,["radius"]);return Xe(de({},o),{radius:i,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(i),0)})})}getTitleTranslationY(){var n,t;const e=Math.max(0,this.radiusScale.range[1]);if(e===0)return NaN;const i=2+((t=(n=this.properties.title)==null?void 0:n.spacing)!=null?t:0),o=Math.max(0,-e);return-e-i-o}update(n){return Oe(this,arguments,function*({seriesRect:t}){const{title:e}=this.properties,r={seriesRectWidth:t==null?void 0:t.width,seriesRectHeight:t==null?void 0:t.height},i=ss(this.nodeDataDependencies,r)!=null;if(i&&(this._nodeDataDependencies=r),yield this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(i),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),e){const o=this.getTitleTranslationY(),a=e.node.computeBBox();e.node.visible=e.enabled&&isFinite(o)&&!this.bboxIntersectsSurroundingSeries(a,0,o),e.node.translationY=isFinite(o)?o:0}this.updateNodeMidPoint(),yield this.updateSelections(),yield this.updateNodes(t)})}updateTitleNodes(){var n,t;const{oldTitle:e}=this,{title:r}=this.properties;e!==r&&(e&&((n=this.labelGroup)==null||n.removeChild(e.node)),r&&(r.node.textBaseline="bottom",(t=this.labelGroup)==null||t.appendChild(r.node)),this.oldTitle=r)}updateNodeMidPoint(){this.nodeData.forEach(n=>{const t=n.innerRadius+(n.outerRadius-n.innerRadius)/2;n.midPoint={x:n.midCos*Math.max(0,t),y:n.midSin*Math.max(0,t)}})}updateSelections(){return Oe(this,null,function*(){yield this.updateGroupSelection(),this.updateInnerCircleSelection()})}updateGroupSelection(){return Oe(this,null,function*(){const{itemSelection:n,highlightSelection:t,calloutLabelSelection:e,sectorLabelSelection:r,innerLabelsSelection:i}=this,o=(a,s)=>{let l=this.nodeData;s&&(l=l.map(u=>Xe(de({},u),{sectorFormat:de({},u.sectorFormat)}))),a.update(l,void 0,u=>this.getDatumId(u)),this.ctx.animationManager.isSkipped()&&a.cleanup()};o(n,!1),o(t,!0),e.update(this.nodeData,a=>{const s=new pi;s.tag=1,s.pointerEvents=1,a.appendChild(s);const l=new nr;l.tag=2,l.pointerEvents=1,a.appendChild(l)}),r.update(this.nodeData,a=>{a.pointerEvents=1}),i.update(this.properties.innerLabels,a=>{a.pointerEvents=1})})}updateInnerCircleSelection(){const{innerCircle:n}=this.properties;let t=0;const e=this.getInnerRadius();if(e>0){const i=Math.min(e,this.getOuterRadius()),o=1;t=Math.ceil(i*2+o)}const r=n?[{radius:t}]:[];this.innerCircleSelection.update(r)}updateNodes(n){return Oe(this,null,function*(){const t=this.ctx.highlightManager.getActiveHighlight(),e=this.seriesItemEnabled.indexOf(!0)>=0;this.rootGroup.visible=e,this.backgroundGroup.visible=e,this.contentGroup.visible=e,this.highlightGroup.visible=e&&(t==null?void 0:t.series)===this,this.labelGroup&&(this.labelGroup.visible=e),this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each((i,{radius:o})=>{var a,s;i.setProperties({fill:(a=this.properties.innerCircle)==null?void 0:a.fill,opacity:(s=this.properties.innerCircle)==null?void 0:s.fillOpacity,size:o})});const r=(i,o,a,s)=>{const l=this.getSectorFormat(o.datum,o.itemId,s);o.sectorFormat.fill=l.fill,o.sectorFormat.stroke=l.stroke;const u=this.ctx.animationManager.isSkipped();u&&(i.startAngle=o.startAngle,i.endAngle=o.endAngle,i.innerRadius=o.innerRadius,i.outerRadius=o.outerRadius),(s||u)&&(i.fill=l.fill,i.stroke=l.stroke),i.strokeWidth=l.strokeWidth,i.fillOpacity=l.fillOpacity,i.strokeOpacity=this.properties.strokeOpacity,i.lineDash=this.properties.lineDash,i.lineDashOffset=this.properties.lineDashOffset,i.fillShadow=this.properties.shadow,i.inset=this.properties.sectorSpacing!=null?(this.properties.sectorSpacing+(l.stroke!=null?l.strokeWidth:0))/2:0,i.lineJoin=this.properties.sectorSpacing!=null?"miter":"round"};this.itemSelection.each((i,o,a)=>r(i,o,a,!1)),this.highlightSelection.each((i,o,a)=>{const s=(t==null?void 0:t.series)===this&&i.datum.itemId===t.itemId;r(i,o,a,!0),i.visible=s}),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(n),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")})}updateCalloutLineNodes(){var n;const{calloutLine:t}=this.properties,e=t.length,r=t.strokeWidth,i=(n=t.colors)!=null?n:this.properties.strokes,{offset:o}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(1).forEach((a,s)=>{const l=a.datum,{calloutLabel:u,outerRadius:c}=l;if(u!=null&&u.text&&!u.hidden&&c!==0){a.visible=!0,a.strokeWidth=r,a.stroke=i[s%i.length],a.fill=void 0;const d=l.midCos*c,p=l.midSin*c;let h=l.midCos*(c+e),f=l.midSin*(c+e);if((u.collisionTextAlign||u.collisionOffsetY!==0)&&u.box!=null){const g=u.box;let m=h,y=f;h<g.x?m=g.x:h>g.x+g.width&&(m=g.x+g.width),f<g.y?y=g.y:f>g.y+g.height&&(y=g.y+g.height);const C=m-h,S=y-f,w=Math.sqrt(Math.pow(C,2)+Math.pow(S,2)),_=w-o;_>0&&(h=h+C*_/w,f=f+S*_/w)}a.x1=d,a.y1=p,a.x2=h,a.y2=f}else a.visible=!1})}getLabelOverflow(n,t,e){const r=e.x-this.centerX,i=e.x+e.width-this.centerX,o=e.y-this.centerY,a=e.y+e.height-this.centerY,s=1;let l=1;t.x+s<r?l=(t.x+t.width-r)/t.width:t.x+t.width-s>i&&(l=(i-t.x)/t.width);const u=t.y+s<o||t.y+t.height-s>a,c=l===1?n.length:Math.floor(n.length*l)-1,d=this.bboxIntersectsSurroundingSeries(t);return{textLength:c,hasVerticalOverflow:u,hasSurroundingSeriesOverflow:d}}bboxIntersectsSurroundingSeries(n,t=0,e=0){const{surroundingRadius:r}=this;if(r==null)return!1;const i=[{x:n.x+t,y:n.y+e},{x:n.x+n.width+t,y:n.y+e},{x:n.x+n.width+t,y:n.y+n.height+e},{x:n.x+t,y:n.y+n.height+e}],o=It(r,2);return i.some(a=>It(a.x,2)+It(a.y,2)>o)}computeCalloutLabelCollisionOffsets(){const{radiusScale:n}=this,{calloutLabel:t,calloutLine:e}=this.properties,{offset:r,minSpacing:i}=t,o=n.convert(0),a=y=>!y.calloutLabel||y.outerRadius===0,s=this.nodeData,l=this.nodeData.filter(y=>!a(y));if(l.forEach(y=>{const C=y.calloutLabel;C!=null&&(C.hidden=!1,C.collisionTextAlign=void 0,C.collisionOffsetY=0)}),l.length<=1)return;const u=l.filter(y=>y.midCos<0).sort((y,C)=>y.midSin-C.midSin),c=l.filter(y=>y.midCos>=0).sort((y,C)=>y.midSin-C.midSin),d=l.filter(y=>{var C;return y.midSin<0&&((C=y.calloutLabel)==null?void 0:C.textAlign)==="center"}).sort((y,C)=>y.midCos-C.midCos),p=l.filter(y=>{var C;return y.midSin>=0&&((C=y.calloutLabel)==null?void 0:C.textAlign)==="center"}).sort((y,C)=>y.midCos-C.midCos),h=new nr,f=y=>{var C;const S=y.calloutLabel;if(S==null)return new Tt(0,0,0,0);const w=y.outerRadius+e.length+r,_=y.midCos*w,x=y.midSin*w+S.collisionOffsetY;return h.text=S.text,h.x=_,h.y=x,h.setFont(this.properties.calloutLabel),h.setAlign({textAlign:(C=S.collisionTextAlign)!=null?C:S.textAlign,textBaseline:S.textBaseline}),h.computeBBox()},v=(y,C,S)=>{const w=f(y).grow(i/2),_=f(C).grow(i/2);if(w.x<_.x+_.width&&w.x+w.width>_.x&&(S==="to-top"?w.y<_.y+_.height:w.y+w.height>_.y)){const E=S==="to-top"?w.y-_.y-_.height:w.y+w.height-_.y;C.calloutLabel.collisionOffsetY=E}},g=y=>{const C=y.slice().sort((w,_)=>Math.abs(w.midSin)-Math.abs(_.midSin))[0],S=y.indexOf(C);for(let w=S-1;w>=0;w--){const _=y[w+1],x=y[w];v(_,x,"to-top")}for(let w=S+1;w<y.length;w++){const _=y[w-1],x=y[w];v(_,x,"to-bottom")}},m=y=>{const C=l.some(R=>R.calloutLabel.collisionOffsetY!==0),S=y.map(R=>f(R)),w=S.map(R=>R.clone().grow(i/2));let _=!1;for(let R=0;R<w.length&&!_;R++){const P=w[R];for(let A=R+1;A<y.length;A++){const N=w[A];if(P.collidesBBox(N)){_=!0;break}}}const x=s.map(R=>{const{startAngle:P,endAngle:A,outerRadius:N}=R;return{startAngle:P,endAngle:A,innerRadius:o,outerRadius:N}}),E=S.some(R=>x.some(P=>Cie(R,P)));!_&&!C&&!E||y.filter(R=>R.calloutLabel.textAlign==="center").forEach(R=>{const P=R.calloutLabel;R.midCos<0?P.collisionTextAlign="right":R.midCos>0?P.collisionTextAlign="left":P.collisionTextAlign="center"})};g(u),g(c),m(d),m(p)}updateCalloutLabelNodes(n){const{radiusScale:t}=this,{calloutLabel:e,calloutLine:r}=this.properties,i=r.length,{offset:o,color:a}=e,s=new nr;this.calloutLabelSelection.selectByTag(2).forEach(l=>{var u;const{datum:c}=l,d=c.calloutLabel,p=t.convert(c.radius),h=Math.max(0,p);if(!(d!=null&&d.text)||h===0||d.hidden){l.visible=!1;return}const f=h+i+o,v=c.midCos*f,g=c.midSin*f+d.collisionOffsetY,m={textAlign:(u=d.collisionTextAlign)!=null?u:d.textAlign,textBaseline:d.textBaseline};s.text=d.text,s.x=v,s.y=g,s.setFont(this.properties.calloutLabel),s.setAlign(m);const y=s.computeBBox();let C=d.text,S=!0;if(e.avoidCollisions){const{textLength:w,hasVerticalOverflow:_}=this.getLabelOverflow(d.text,y,n);C=d.text.length===w?d.text:`${d.text.substring(0,w)}…`,S=!_}l.text=C,l.x=v,l.y=g,l.setFont(this.properties.calloutLabel),l.setAlign(m),l.fill=a,l.visible=S})}computeLabelsBBox(n,t){return Oe(this,null,function*(){const{calloutLabel:e,calloutLine:r}=this.properties,i=r.length,{offset:o,maxCollisionOffset:a,minSpacing:s}=e;if(!e.avoidCollisions)return null;yield this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],u=new nr;let c;const{title:d}=this.properties;if(d!=null&&d.text&&d.enabled){const p=this.getTitleTranslationY();isFinite(p)&&(u.text=d.text,u.x=0,u.y=p,u.setFont(d),u.setAlign({textBaseline:"bottom",textAlign:"center"}),c=u.computeBBox(),l.push(c))}return this.nodeData.forEach(p=>{var h;const f=p.calloutLabel;if(!f||p.outerRadius===0)return null;const v=p.outerRadius+i+o,g=p.midCos*v,m=p.midSin*v+f.collisionOffsetY;u.text=f.text,u.x=g,u.y=m,u.setFont(this.properties.calloutLabel),u.setAlign({textAlign:(h=f.collisionTextAlign)!=null?h:f.textAlign,textBaseline:f.textBaseline});const y=u.computeBBox();if(f.box=y,Math.abs(f.collisionOffsetY)>a){f.hidden=!0;return}if(c){const C=t.y-this.centerY,S=new Tt(c.x-s,C,c.width+2*s,c.y+c.height+s-C);if(y.collidesBBox(S)){f.hidden=!0;return}}if(n.hideWhenNecessary){const{textLength:C,hasVerticalOverflow:S,hasSurroundingSeriesOverflow:w}=this.getLabelOverflow(f.text,y,t),_=f.text.length>2&&C<2;if(S||_||w){f.hidden=!0;return}}f.hidden=!1,l.push(y)}),l.length===0?null:Tt.merge(l)})}updateSectorLabelNodes(){const{radiusScale:n}=this,t=n.convert(0),{fontSize:e,fontStyle:r,fontWeight:i,fontFamily:o,positionOffset:a,positionRatio:s,color:l}=this.properties.sectorLabel;this.sectorLabelSelection.each((u,c)=>{const{sectorLabel:d,outerRadius:p}=c;let h=!1;if(d&&p!==0){const f=t*(1-s)+p*s+a;u.fill=l,u.fontStyle=r,u.fontWeight=i,u.fontSize=e,u.fontFamily=o,u.text=d.text,u.x=c.midCos*f,u.y=c.midSin*f,u.textAlign="center",u.textBaseline="middle";const v=u.computeBBox(),g=[[v.x,v.y],[v.x+v.width,v.y],[v.x+v.width,v.y+v.height],[v.x,v.y+v.height]],{startAngle:m,endAngle:y}=c,C={startAngle:m,endAngle:y,innerRadius:t,outerRadius:p};g.every(([S,w])=>N2(S,w,C))&&(h=!0)}u.visible=h})}updateInnerLabelNodes(){const n=[],t=[];this.innerLabelsSelection.each((c,d)=>{const{fontStyle:p,fontWeight:h,fontSize:f,fontFamily:v,color:g}=d;c.fontStyle=p,c.fontWeight=h,c.fontSize=f,c.fontFamily=v,c.text=d.text,c.x=0,c.y=0,c.fill=g,c.textAlign="center",c.textBaseline="alphabetic",n.push(c.computeBBox()),t.push(d.margin)});const e=c=>c===0?0:t[c],r=c=>c===t.length-1?0:t[c],i=n.reduce((c,d,p)=>c+d.height+e(p)+r(p),0),o=Math.max(...n.map(c=>c.width)),a=this.getInnerRadius(),l=Math.sqrt(Math.pow(o/2,2)+Math.pow(i/2,2))<=(a>0?a:this.getOuterRadius()),u=[];for(let c=0,d=-i/2;c<n.length;c++){const h=n[c].height+d+e(c);u.push(h),d=h+r(c)}this.innerLabelsSelection.each((c,d,p)=>{c.y=u[p],c.visible=l})}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2,this.zerosumInnerRing.size=this.getInnerRadius()*2}getDatumLegendName(n){const{angleKey:t,calloutLabelKey:e,sectorLabelKey:r,legendItemKey:i}=this.properties,{sectorLabel:o,calloutLabel:a,legendItem:s}=n;if(i&&s!==void 0)return s.text;if(e&&e!==t&&(a==null?void 0:a.text)!==void 0)return a.text;if(r&&r!==t&&(o==null?void 0:o.text)!==void 0)return o.text}getTooltipHtml(n){var t;if(!this.properties.isValid())return"";const{datum:e,angleValue:r,sectorFormat:{fill:i}}=n,o=Qr((t=this.properties.title)==null?void 0:t.text),a=fr(r)?GD(r):String(r),s=this.getDatumLegendName(n);return this.properties.tooltip.toTooltipHtml({title:o??s,content:o&&s?`${s}: ${a}`:a,backgroundColor:i},{datum:e,title:o,color:i,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName})}getLegendData(n){var t,e,r,i,o;const{processedData:a,dataModel:s}=this;if(!s||!(a!=null&&a.data.length)||!this.properties.isValid()||n!=="category")return[];const{angleKey:l,calloutLabelKey:u,sectorLabelKey:c,legendItemKey:d}=this.properties;if(!d&&(!u||u===l)&&(!c||c===l))return[];const{calloutLabelIdx:p,sectorLabelIdx:h,legendItemIdx:f}=this.getProcessedDataIndexes(s),v=((t=this.properties.title)==null?void 0:t.showInLegend)&&this.properties.title.text,g=[];for(let m=0;m<a.data.length;m++){const{datum:y,values:C}=a.data[m],S=[];v&&S.push(v);const w=this.getLabels(y,2*Math.PI,2*Math.PI,!1,C[p],C[h],C[f]);if(d&&w.legendItem!==void 0?S.push(w.legendItem.text):u&&u!==l&&((e=w.calloutLabel)==null?void 0:e.text)!==void 0?S.push((r=w.calloutLabel)==null?void 0:r.text):c&&c!==l&&((i=w.sectorLabel)==null?void 0:i.text)!==void 0&&S.push((o=w.sectorLabel)==null?void 0:o.text),S.length===0)continue;const _=this.getSectorFormat(y,m,!1);g.push({legendType:"category",id:this.id,itemId:m,seriesId:this.id,enabled:this.seriesItemEnabled[m],label:{text:S.join(" - ")},marker:{fill:_.fill,stroke:_.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth},legendItemName:d!=null?y[d]:void 0})}return g}onLegendItemClick(n){const{enabled:t,itemId:e,series:r,legendItemName:i}=n;r.id===this.id?this.toggleSeriesItem(e,t):i!=null&&this.toggleOtherSeriesItems(i,t)}toggleSeriesItem(n,t){this.seriesItemEnabled[n]=t,this.nodeDataRefresh=!0}toggleOtherSeriesItems(n,t){var e;if(!this.properties.legendItemKey||!this.dataModel)return;const r=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue").index;(e=this.processedData)==null||e.data.forEach(({values:i},o)=>{i[r]===n&&this.toggleSeriesItem(o,t)})}animateEmptyUpdateReady(n){const{animationManager:t}=this.ctx,e=Dm(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);tn(this.id,"nodes",t,[this.itemSelection,this.highlightSelection],e.nodes),tn(this.id,"innerCircle",t,[this.innerCircleSelection],e.innerCircle),Sr(this,"callout",t,[this.calloutLabelSelection]),Sr(this,"sector",t,[this.sectorLabelSelection]),Sr(this,"inner",t,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var n,t,e,r,i,o;const{itemSelection:a,highlightSelection:s,processedData:l,radiusScale:u,previousRadiusScale:c}=this,{animationManager:d}=this.ctx,p=(n=l==null?void 0:l.reduced)==null?void 0:n.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);const h=((t=p==null?void 0:p.moved.length)!=null?t:0)===0&&(p==null?void 0:p.addedIndices.every(m=>!p.removedIndices.includes(m))),f=((e=l==null?void 0:l.defs.keys.length)!=null?e:0)>0,v=(o=(i=(r=l==null?void 0:l.reduced)==null?void 0:r.animationValidation)==null?void 0:i.uniqueKeys)!=null?o:!0;(!h||!f||!v)&&this.ctx.animationManager.skipCurrentBatch();const g=Dm(!1,this.properties.rotation,u,c);tn(this.id,"nodes",d,[a,s],g.nodes,(m,y)=>this.getDatumId(y),p),tn(this.id,"innerCircle",d,[this.innerCircleSelection],g.innerCircle),Sr(this,"callout",this.ctx.animationManager,[this.calloutLabelSelection]),Sr(this,"sector",this.ctx.animationManager,[this.sectorLabelSelection]),Sr(this,"inner",this.ctx.animationManager,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:n,highlightSelection:t,radiusScale:e,previousRadiusScale:r}=this,{animationManager:i}=this.ctx,o=Dm(!1,this.properties.rotation,e,r);tn(this.id,"nodes",i,[n,t],o.nodes),tn(this.id,"innerCircle",i,[this.innerCircleSelection],o.innerCircle),Zf(this,"callout",this.ctx.animationManager,[this.calloutLabelSelection]),Zf(this,"sector",this.ctx.animationManager,[this.sectorLabelSelection]),Zf(this,"inner",this.ctx.animationManager,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(n){var t,e,r;const{calloutLabelKey:i,sectorLabelKey:o,legendItemKey:a}=this.properties;if((r=(e=(t=this.processedData)==null?void 0:t.reduced)==null?void 0:e.animationValidation)!=null&&r.uniqueKeys){if(a)return n[a];if(i)return n[i];if(o)return n[o]}}getDatumId(n){var t;const{index:e}=n;return(t=this.getDatumIdFromData(n.datum))!=null?t:`${e}`}onDataChange(){this.processSeriesItemEnabled()}};nA.className="DonutSeries";nA.type="donut";var _ie={series:{__extends__:Sd,title:{enabled:!0,fontStyle:void 0,fontWeight:"normal",fontSize:14,fontFamily:ui,color:Em,spacing:5},calloutLabel:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:ui,color:pr,offset:3,minAngle:0},sectorLabel:{enabled:!0,fontStyle:void 0,fontWeight:"normal",fontSize:12,fontFamily:ui,color:Ry,positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,rotation:0,shadow:{enabled:!1,color:Ty,xOffset:3,yOffset:3,blur:5},innerLabels:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:ui,color:pr,margin:2},__BACKGROUND_COLOR_DO_NOT_USE:T0}},xie=({takeColors:n,colorsCount:t,userPalette:e})=>{const{fills:r,strokes:i}=n(t);return{fills:r,strokes:e?i:[],calloutLine:{colors:i}}},s7e={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"donut",instanceConstructor:nA,seriesDefaults:{},themeTemplate:_ie,paletteFactory:xie},bie=class extends dn{constructor(){super(...arguments),this.showInLegend=!1}};D([k(St)],bie.prototype,"showInLegend",2);var B2=class extends oi{set(n,t){return super.set(n)}};D([Pv("Use a Donut Series instead"),k(Ne,{optional:!0})],B2.prototype,"text",2);D([Pv("Use a Donut Series instead"),k(Vr,{optional:!0})],B2.prototype,"margin",2);var j2=class extends Fr{};D([Pv("Use a Donut Series instead"),k(tr,{optional:!0})],j2.prototype,"fill",2);D([Pv("Use a Donut Series instead"),k(_r,{optional:!0})],j2.prototype,"fillOpacity",2);var Gy=class extends oi{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};D([k(Le)],Gy.prototype,"offset",2);D([k(vh)],Gy.prototype,"minAngle",2);D([k(Le)],Gy.prototype,"minSpacing",2);D([k(Le)],Gy.prototype,"maxCollisionOffset",2);D([k(St)],Gy.prototype,"avoidCollisions",2);var H2=class extends oi{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};D([k(Vr)],H2.prototype,"positionOffset",2);D([k(_r)],H2.prototype,"positionRatio",2);var iA=class extends Fr{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};D([k(tl,{optional:!0})],iA.prototype,"colors",2);D([k(Le)],iA.prototype,"length",2);D([k(Le)],iA.prototype,"strokeWidth",2);var Qt=class extends Kl{constructor(){super(...arguments),this.fills=Object.values(bu),this.strokes=Object.values(qf),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=void 0,this.innerLabels=new I_(B2),this.title=new bie,this.innerCircle=new j2,this.shadow=new ql,this.calloutLabel=new Gy,this.sectorLabel=new H2,this.calloutLine=new iA,this.tooltip=new xa,this.__BACKGROUND_COLOR_DO_NOT_USE=void 0}};D([k(Ne)],Qt.prototype,"angleKey",2);D([k(Ne,{optional:!0})],Qt.prototype,"angleName",2);D([k(Ne,{optional:!0})],Qt.prototype,"radiusKey",2);D([k(Ne,{optional:!0})],Qt.prototype,"radiusName",2);D([k(Le,{optional:!0})],Qt.prototype,"radiusMin",2);D([k(Le,{optional:!0})],Qt.prototype,"radiusMax",2);D([k(Ne,{optional:!0})],Qt.prototype,"calloutLabelKey",2);D([k(Ne,{optional:!0})],Qt.prototype,"calloutLabelName",2);D([k(Ne,{optional:!0})],Qt.prototype,"sectorLabelKey",2);D([k(Ne,{optional:!0})],Qt.prototype,"sectorLabelName",2);D([k(Ne,{optional:!0})],Qt.prototype,"legendItemKey",2);D([k(tl)],Qt.prototype,"fills",2);D([k(tl)],Qt.prototype,"strokes",2);D([k(_r)],Qt.prototype,"fillOpacity",2);D([k(_r)],Qt.prototype,"strokeOpacity",2);D([k(xd)],Qt.prototype,"lineDash",2);D([k(Le)],Qt.prototype,"lineDashOffset",2);D([k(el,{optional:!0})],Qt.prototype,"formatter",2);D([k(vh)],Qt.prototype,"rotation",2);D([k(Vr)],Qt.prototype,"outerRadiusOffset",2);D([k(_r)],Qt.prototype,"outerRadiusRatio",2);D([Pv("Use a Donut Series instead"),k(Vr,{optional:!0})],Qt.prototype,"innerRadiusOffset",2);D([Pv("Use a Donut Series instead"),k(_r,{optional:!0})],Qt.prototype,"innerRadiusRatio",2);D([k(Le)],Qt.prototype,"strokeWidth",2);D([k(Le,{optional:!0})],Qt.prototype,"sectorSpacing",2);D([k(jj)],Qt.prototype,"innerLabels",2);D([k(ct)],Qt.prototype,"title",2);D([k(ct)],Qt.prototype,"innerCircle",2);D([k(ct)],Qt.prototype,"shadow",2);D([k(ct)],Qt.prototype,"calloutLabel",2);D([k(ct)],Qt.prototype,"sectorLabel",2);D([k(ct)],Qt.prototype,"calloutLine",2);D([k(ct)],Qt.prototype,"tooltip",2);D([k(Ne,{optional:!0})],Qt.prototype,"__BACKGROUND_COLOR_DO_NOT_USE",2);var l7e=class extends K_{constructor(n,t,e,r){super(n,t,e,r),this.angleKey=r.properties.angleKey,this.radiusKey=r.properties.radiusKey,this.calloutLabelKey=r.properties.calloutLabelKey,this.sectorLabelKey=r.properties.sectorLabelKey}},oA=class extends rA{constructor(n){super({moduleCtx:n,useLabelLayer:!0,animationResetFns:{item:wie,label:Td}}),this.properties=new Qt,this.previousRadiusScale=new Yu,this.radiusScale=new Yu,this.backgroundGroup=this.rootGroup.appendChild(new st({name:`${this.id}-background`,layer:!0,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new st({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new Ku),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new Ku),this.innerCircleGroup=this.backgroundGroup.appendChild(new st({name:`${this.id}-innerCircle`})),this.nodeData=[],this.seriesItemEnabled=[],this.surroundingRadius=void 0,this.NodeClickEvent=l7e,this.angleScale=new Yu,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(i=>i+Math.PI/2);const t=new st({name:"pieCalloutLabels"}),e=new st({name:"pieSectorLabels"}),r=new st({name:"innerLabels"});this.labelGroup.append(t),this.labelGroup.append(e),this.labelGroup.append(r),this.calloutLabelSelection=rn.select(t,st),this.sectorLabelSelection=rn.select(e,nr),this.innerLabelsSelection=rn.select(r,nr),this.innerCircleSelection=rn.select(this.innerCircleGroup,Ku);for(const i of[this.zerosumInnerRing,this.zerosumOuterRing])i.fillOpacity=0,i.stroke=this.properties.calloutLabel.color,i.strokeWidth=1,i.strokeOpacity=1}addChartEventListeners(){var n;this.destroyFns.push((n=this.ctx.chartEventManager)==null?void 0:n.addListener("legend-item-click",t=>this.onLegendItemClick(t)))}visibleChanged(){this.processSeriesItemEnabled()}get visible(){return this.seriesItemEnabled.length?this.seriesItemEnabled.some(n=>n):super.visible}processSeriesItemEnabled(){var n;const{data:t,visible:e}=this;this.seriesItemEnabled=(n=t==null?void 0:t.map(()=>e))!=null?n:[]}nodeFactory(){return new il}getSeriesDomain(n){return n==="x"?this.angleScale.domain:this.radiusScale.domain}processData(n){return Oe(this,null,function*(){var t,e,r,i,o;if(this.data==null||!this.properties.isValid())return;let{data:a}=this;const{seriesItemEnabled:s}=this,{angleKey:l,radiusKey:u,calloutLabelKey:c,sectorLabelKey:d,legendItemKey:p}=this.properties,h=!this.ctx.animationManager.isSkipped(),f=[],v=[];p?f.push($i(this,p,!1,{id:"legendItemKey"})):c?f.push($i(this,c,!1,{id:"calloutLabelKey"})):d&&f.push($i(this,d,!1,{id:"sectorLabelKey"})),u&&v.push(h2(this,u,{id:"radiusValue",min:(t=this.properties.radiusMin)!=null?t:0,max:this.properties.radiusMax}),Tr(this,u,!0,{id:"radiusRaw"}),I0(this,{id:"radiusValue"},[0,1],1,(e=this.properties.radiusMin)!=null?e:0,this.properties.radiusMax)),c&&v.push(Tr(this,c,!1,{id:"calloutLabelValue"})),d&&v.push(Tr(this,d,!1,{id:"sectorLabelValue"})),p&&v.push(Tr(this,p,!1,{id:"legendItemValue"})),h&&this.processedData&&f.length>0&&v.push(Fv(this.processedData)),v.push(Iy(this)),a=a.map((g,m)=>s[m]?g:Xe(de({},g),{[l]:0})),yield this.requestDataModel(n,a,{props:[...f,f2(this,l,!0,{id:"angleValue",onlyPositive:!0}),Tr(this,l,!0,{id:"angleRaw"}),I0(this,{id:"angleValue"},[0,1],0,0),...v]});for(const g of(o=(i=(r=this.processedData)==null?void 0:r.defs)==null?void 0:i.values)!=null?o:[]){const{id:m,missing:y,property:C}=g,S=n2(this,y);m!=="angleRaw"&&S>0&&Ue.warnOnce(`no value was found for the key '${String(C)}' on ${S} data element${S>1?"s":""}`)}this.animationState.transition("updateData")})}maybeRefreshNodeData(){return Oe(this,null,function*(){if(!this.nodeDataRefresh)return;const[{nodeData:n=[]}={}]=yield this.createNodeData();this.nodeData=n,this.nodeDataRefresh=!1})}getProcessedDataIndexes(n){const t=n.resolveProcessedDataIndexById(this,"angleValue").index,e=this.properties.radiusKey?n.resolveProcessedDataIndexById(this,"radiusValue").index:-1,r=this.properties.calloutLabelKey?n.resolveProcessedDataIndexById(this,"calloutLabelValue").index:-1,i=this.properties.sectorLabelKey?n.resolveProcessedDataIndexById(this,"sectorLabelValue").index:-1,o=this.properties.legendItemKey?n.resolveProcessedDataIndexById(this,"legendItemValue").index:-1;return{angleIdx:t,radiusIdx:e,calloutLabelIdx:r,sectorLabelIdx:i,legendItemIdx:o}}createNodeData(){return Oe(this,null,function*(){const{id:n,processedData:t,dataModel:e,angleScale:r}=this,{rotation:i}=this.properties;if(!t||!e||t.type!=="ungrouped")return[];const{angleIdx:o,radiusIdx:a,calloutLabelIdx:s,sectorLabelIdx:l,legendItemIdx:u}=this.getProcessedDataIndexes(e);let c=0,d=0;const p=t.data.map((f,v)=>{var g;const{datum:m,values:y}=f,C=y[o],S=r.convert(c)+ao(i);c=C,d+=C;const w=r.convert(c)+ao(i),_=Math.abs(w-S),x=S+_/2,E=y[o+1],R=a>=0&&(g=y[a])!=null?g:1,P=a>=0?y[a+1]:void 0,A=u>=0?y[u]:void 0,N=this.getLabels(m,x,_,!0,y[s],y[l],A),I=this.getSectorFormat(m,v,!1);return de({itemId:v,series:this,datum:m,index:v,angleValue:E,midAngle:x,midCos:Math.cos(x),midSin:Math.sin(x),startAngle:S,endAngle:w,sectorFormat:I,radiusValue:P,radius:R,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(R),0),legendItemValue:A},N)});this.zerosumOuterRing.visible=d===0;const{innerRadiusRatio:h=1}=this.properties;return this.zerosumInnerRing.visible=d===0&&h!==1&&h>0,[{itemId:n,nodeData:p,labelData:p}]})}getLabels(n,t,e,r,i,o,a){const{calloutLabel:s,sectorLabel:l,legendItemKey:u}=this.properties,c=!r||s.enabled?this.properties.calloutLabelKey:void 0,d=!r||l.enabled?this.properties.sectorLabelKey:void 0;if(!c&&!d&&!u)return{};const p={datum:n,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},h={};return c&&e>ao(s.minAngle)&&(h.calloutLabel=Xe(de({},this.getTextAlignment(t)),{text:this.getLabelText(s,Xe(de({},p),{value:i})),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0})),d&&(h.sectorLabel={text:this.getLabelText(l,Xe(de({},p),{value:o}))}),u!=null&&a!=null&&(h.legendItem={key:u,text:a}),h}getTextAlignment(n){const t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],e=D0(n),r=-3*Math.PI/4,i=e-r,o=Math.floor(i/(Math.PI/2)),a=VD(o,t.length);return t[a]}getSectorFormat(n,t,e){var r,i,o,a,s;const{callbackCache:l,highlightManager:u}=this.ctx,{angleKey:c,radiusKey:d,fills:p,strokes:h,formatter:f,sectorSpacing:v,__BACKGROUND_COLOR_DO_NOT_USE:g}=this.properties,m=u.getActiveHighlight(),y=e&&(m==null?void 0:m.series)===this&&t===m.itemId,{fill:C,fillOpacity:S,stroke:w,strokeWidth:_,strokeOpacity:x}=Ht(y&&this.properties.highlightStyle.item,{fill:p.length>0?p[t%p.length]:void 0,fillOpacity:this.properties.fillOpacity,stroke:v!=null?h.length>0?h[t%h.length]:void 0:h.length>0?h[t%h.length]:g,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()});let E;return f&&(E=l.call(f,{datum:n,angleKey:c,radiusKey:d,fill:C,stroke:w,fills:p,strokes:h,strokeWidth:_,highlighted:y,seriesId:this.id})),{fill:(r=E==null?void 0:E.fill)!=null?r:C,fillOpacity:(i=E==null?void 0:E.fillOpacity)!=null?i:S,stroke:(o=E==null?void 0:E.stroke)!=null?o:w,strokeWidth:(a=E==null?void 0:E.strokeWidth)!=null?a:_,strokeOpacity:(s=E==null?void 0:E.strokeOpacity)!=null?s:x}}getInnerRadius(){const{radius:n}=this,{innerRadiusRatio:t=1,innerRadiusOffset:e=0}=this.properties,r=n*t+e;return r===n||r<0?0:r}getOuterRadius(){return Math.max(this.radius*this.properties.outerRadiusRatio+this.properties.outerRadiusOffset,0)}updateRadiusScale(n){const t=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=t,n&&(this.previousRadiusScale.range=t),this.nodeData=this.nodeData.map(e=>{var r=e,{radius:i}=r,o=di(r,["radius"]);return Xe(de({},o),{radius:i,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(i),0)})})}getTitleTranslationY(){var n,t;const e=Math.max(0,this.radiusScale.range[1]);if(e===0)return NaN;const i=2+((t=(n=this.properties.title)==null?void 0:n.spacing)!=null?t:0),o=Math.max(0,-e);return-e-i-o}update(n){return Oe(this,arguments,function*({seriesRect:t}){const{title:e}=this.properties,r={seriesRectWidth:t==null?void 0:t.width,seriesRectHeight:t==null?void 0:t.height},i=ss(this.nodeDataDependencies,r)!=null;if(i&&(this._nodeDataDependencies=r),yield this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(i),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),e){const o=this.getTitleTranslationY(),a=e.node.computeBBox();e.node.visible=e.enabled&&isFinite(o)&&!this.bboxIntersectsSurroundingSeries(a,0,o),e.node.translationY=isFinite(o)?o:0}this.updateNodeMidPoint(),yield this.updateSelections(),yield this.updateNodes(t)})}updateTitleNodes(){var n,t;const{oldTitle:e}=this,{title:r}=this.properties;e!==r&&(e&&((n=this.labelGroup)==null||n.removeChild(e.node)),r&&(r.node.textBaseline="bottom",(t=this.labelGroup)==null||t.appendChild(r.node)),this.oldTitle=r)}updateNodeMidPoint(){this.nodeData.forEach(n=>{const t=n.innerRadius+(n.outerRadius-n.innerRadius)/2;n.midPoint={x:n.midCos*Math.max(0,t),y:n.midSin*Math.max(0,t)}})}updateSelections(){return Oe(this,null,function*(){yield this.updateGroupSelection(),this.updateInnerCircleSelection()})}updateGroupSelection(){return Oe(this,null,function*(){const{itemSelection:n,highlightSelection:t,calloutLabelSelection:e,sectorLabelSelection:r,innerLabelsSelection:i}=this,o=(a,s)=>{let l=this.nodeData;s&&(l=l.map(u=>Xe(de({},u),{sectorFormat:de({},u.sectorFormat)}))),a.update(l,void 0,u=>this.getDatumId(u)),this.ctx.animationManager.isSkipped()&&a.cleanup()};o(n,!1),o(t,!0),e.update(this.nodeData,a=>{const s=new pi;s.tag=1,s.pointerEvents=1,a.appendChild(s);const l=new nr;l.tag=2,l.pointerEvents=1,a.appendChild(l)}),r.update(this.nodeData,a=>{a.pointerEvents=1}),i.update(this.properties.innerLabels,a=>{a.pointerEvents=1})})}updateInnerCircleSelection(){const{innerCircle:n}=this.properties;let t=0;const e=this.getInnerRadius();if(e>0){const i=Math.min(e,this.getOuterRadius()),o=1;t=Math.ceil(i*2+o)}const r=n?[{radius:t}]:[];this.innerCircleSelection.update(r)}updateNodes(n){return Oe(this,null,function*(){const t=this.ctx.highlightManager.getActiveHighlight(),e=this.seriesItemEnabled.indexOf(!0)>=0;this.rootGroup.visible=e,this.backgroundGroup.visible=e,this.contentGroup.visible=e,this.highlightGroup.visible=e&&(t==null?void 0:t.series)===this,this.labelGroup&&(this.labelGroup.visible=e),this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each((i,{radius:o})=>{var a,s;i.setProperties({fill:(a=this.properties.innerCircle)==null?void 0:a.fill,opacity:(s=this.properties.innerCircle)==null?void 0:s.fillOpacity,size:o})});const r=(i,o,a,s)=>{const l=this.getSectorFormat(o.datum,o.itemId,s);o.sectorFormat.fill=l.fill,o.sectorFormat.stroke=l.stroke;const u=this.ctx.animationManager.isSkipped();u&&(i.startAngle=o.startAngle,i.endAngle=o.endAngle,i.innerRadius=o.innerRadius,i.outerRadius=o.outerRadius),(s||u)&&(i.fill=l.fill,i.stroke=l.stroke),i.strokeWidth=l.strokeWidth,i.fillOpacity=l.fillOpacity,i.strokeOpacity=this.properties.strokeOpacity,i.lineDash=this.properties.lineDash,i.lineDashOffset=this.properties.lineDashOffset,i.fillShadow=this.properties.shadow,i.inset=this.properties.sectorSpacing!=null?(this.properties.sectorSpacing+(l.stroke!=null?l.strokeWidth:0))/2:0,i.lineJoin=this.properties.sectorSpacing!=null?"miter":"round"};this.itemSelection.each((i,o,a)=>r(i,o,a,!1)),this.highlightSelection.each((i,o,a)=>{const s=(t==null?void 0:t.series)===this&&i.datum.itemId===t.itemId;r(i,o,a,!0),i.visible=s}),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(n),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")})}updateCalloutLineNodes(){var n;const{calloutLine:t}=this.properties,e=t.length,r=t.strokeWidth,i=(n=t.colors)!=null?n:this.properties.strokes,{offset:o}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(1).forEach((a,s)=>{const l=a.datum,{calloutLabel:u,outerRadius:c}=l;if(u!=null&&u.text&&!u.hidden&&c!==0){a.visible=!0,a.strokeWidth=r,a.stroke=i[s%i.length],a.fill=void 0;const d=l.midCos*c,p=l.midSin*c;let h=l.midCos*(c+e),f=l.midSin*(c+e);if((u.collisionTextAlign||u.collisionOffsetY!==0)&&u.box!=null){const g=u.box;let m=h,y=f;h<g.x?m=g.x:h>g.x+g.width&&(m=g.x+g.width),f<g.y?y=g.y:f>g.y+g.height&&(y=g.y+g.height);const C=m-h,S=y-f,w=Math.sqrt(Math.pow(C,2)+Math.pow(S,2)),_=w-o;_>0&&(h=h+C*_/w,f=f+S*_/w)}a.x1=d,a.y1=p,a.x2=h,a.y2=f}else a.visible=!1})}getLabelOverflow(n,t,e){const r=e.x-this.centerX,i=e.x+e.width-this.centerX,o=e.y-this.centerY,a=e.y+e.height-this.centerY,s=1;let l=1;t.x+s<r?l=(t.x+t.width-r)/t.width:t.x+t.width-s>i&&(l=(i-t.x)/t.width);const u=t.y+s<o||t.y+t.height-s>a,c=l===1?n.length:Math.floor(n.length*l)-1,d=this.bboxIntersectsSurroundingSeries(t);return{textLength:c,hasVerticalOverflow:u,hasSurroundingSeriesOverflow:d}}bboxIntersectsSurroundingSeries(n,t=0,e=0){const{surroundingRadius:r}=this;if(r==null)return!1;const i=[{x:n.x+t,y:n.y+e},{x:n.x+n.width+t,y:n.y+e},{x:n.x+n.width+t,y:n.y+n.height+e},{x:n.x+t,y:n.y+n.height+e}],o=It(r,2);return i.some(a=>It(a.x,2)+It(a.y,2)>o)}computeCalloutLabelCollisionOffsets(){const{radiusScale:n}=this,{calloutLabel:t,calloutLine:e}=this.properties,{offset:r,minSpacing:i}=t,o=n.convert(0),a=y=>!y.calloutLabel||y.outerRadius===0,s=this.nodeData,l=this.nodeData.filter(y=>!a(y));if(l.forEach(y=>{const C=y.calloutLabel;C!=null&&(C.hidden=!1,C.collisionTextAlign=void 0,C.collisionOffsetY=0)}),l.length<=1)return;const u=l.filter(y=>y.midCos<0).sort((y,C)=>y.midSin-C.midSin),c=l.filter(y=>y.midCos>=0).sort((y,C)=>y.midSin-C.midSin),d=l.filter(y=>{var C;return y.midSin<0&&((C=y.calloutLabel)==null?void 0:C.textAlign)==="center"}).sort((y,C)=>y.midCos-C.midCos),p=l.filter(y=>{var C;return y.midSin>=0&&((C=y.calloutLabel)==null?void 0:C.textAlign)==="center"}).sort((y,C)=>y.midCos-C.midCos),h=new nr,f=y=>{var C;const S=y.calloutLabel;if(S==null)return new Tt(0,0,0,0);const w=y.outerRadius+e.length+r,_=y.midCos*w,x=y.midSin*w+S.collisionOffsetY;return h.text=S.text,h.x=_,h.y=x,h.setFont(this.properties.calloutLabel),h.setAlign({textAlign:(C=S.collisionTextAlign)!=null?C:S.textAlign,textBaseline:S.textBaseline}),h.computeBBox()},v=(y,C,S)=>{const w=f(y).grow(i/2),_=f(C).grow(i/2);if(w.x<_.x+_.width&&w.x+w.width>_.x&&(S==="to-top"?w.y<_.y+_.height:w.y+w.height>_.y)){const E=S==="to-top"?w.y-_.y-_.height:w.y+w.height-_.y;C.calloutLabel.collisionOffsetY=E}},g=y=>{const C=y.slice().sort((w,_)=>Math.abs(w.midSin)-Math.abs(_.midSin))[0],S=y.indexOf(C);for(let w=S-1;w>=0;w--){const _=y[w+1],x=y[w];v(_,x,"to-top")}for(let w=S+1;w<y.length;w++){const _=y[w-1],x=y[w];v(_,x,"to-bottom")}},m=y=>{const C=l.some(R=>R.calloutLabel.collisionOffsetY!==0),S=y.map(R=>f(R)),w=S.map(R=>R.clone().grow(i/2));let _=!1;for(let R=0;R<w.length&&!_;R++){const P=w[R];for(let A=R+1;A<y.length;A++){const N=w[A];if(P.collidesBBox(N)){_=!0;break}}}const x=s.map(R=>{const{startAngle:P,endAngle:A,outerRadius:N}=R;return{startAngle:P,endAngle:A,innerRadius:o,outerRadius:N}}),E=S.some(R=>x.some(P=>Cie(R,P)));!_&&!C&&!E||y.filter(R=>R.calloutLabel.textAlign==="center").forEach(R=>{const P=R.calloutLabel;R.midCos<0?P.collisionTextAlign="right":R.midCos>0?P.collisionTextAlign="left":P.collisionTextAlign="center"})};g(u),g(c),m(d),m(p)}updateCalloutLabelNodes(n){const{radiusScale:t}=this,{calloutLabel:e,calloutLine:r}=this.properties,i=r.length,{offset:o,color:a}=e,s=new nr;this.calloutLabelSelection.selectByTag(2).forEach(l=>{var u;const{datum:c}=l,d=c.calloutLabel,p=t.convert(c.radius),h=Math.max(0,p);if(!(d!=null&&d.text)||h===0||d.hidden){l.visible=!1;return}const f=h+i+o,v=c.midCos*f,g=c.midSin*f+d.collisionOffsetY,m={textAlign:(u=d.collisionTextAlign)!=null?u:d.textAlign,textBaseline:d.textBaseline};s.text=d.text,s.x=v,s.y=g,s.setFont(this.properties.calloutLabel),s.setAlign(m);const y=s.computeBBox();let C=d.text,S=!0;if(e.avoidCollisions){const{textLength:w,hasVerticalOverflow:_}=this.getLabelOverflow(d.text,y,n);C=d.text.length===w?d.text:`${d.text.substring(0,w)}…`,S=!_}l.text=C,l.x=v,l.y=g,l.setFont(this.properties.calloutLabel),l.setAlign(m),l.fill=a,l.visible=S})}computeLabelsBBox(n,t){return Oe(this,null,function*(){const{calloutLabel:e,calloutLine:r}=this.properties,i=r.length,{offset:o,maxCollisionOffset:a,minSpacing:s}=e;if(!e.avoidCollisions)return null;yield this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],u=new nr;let c;const{title:d}=this.properties;if(d!=null&&d.text&&d.enabled){const p=this.getTitleTranslationY();isFinite(p)&&(u.text=d.text,u.x=0,u.y=p,u.setFont(d),u.setAlign({textBaseline:"bottom",textAlign:"center"}),c=u.computeBBox(),l.push(c))}return this.nodeData.forEach(p=>{var h;const f=p.calloutLabel;if(!f||p.outerRadius===0)return null;const v=p.outerRadius+i+o,g=p.midCos*v,m=p.midSin*v+f.collisionOffsetY;u.text=f.text,u.x=g,u.y=m,u.setFont(this.properties.calloutLabel),u.setAlign({textAlign:(h=f.collisionTextAlign)!=null?h:f.textAlign,textBaseline:f.textBaseline});const y=u.computeBBox();if(f.box=y,Math.abs(f.collisionOffsetY)>a){f.hidden=!0;return}if(c){const C=t.y-this.centerY,S=new Tt(c.x-s,C,c.width+2*s,c.y+c.height+s-C);if(y.collidesBBox(S)){f.hidden=!0;return}}if(n.hideWhenNecessary){const{textLength:C,hasVerticalOverflow:S,hasSurroundingSeriesOverflow:w}=this.getLabelOverflow(f.text,y,t),_=f.text.length>2&&C<2;if(S||_||w){f.hidden=!0;return}}f.hidden=!1,l.push(y)}),l.length===0?null:Tt.merge(l)})}updateSectorLabelNodes(){const{radiusScale:n}=this,t=n.convert(0),{fontSize:e,fontStyle:r,fontWeight:i,fontFamily:o,positionOffset:a,positionRatio:s,color:l}=this.properties.sectorLabel,u=t>0,c=this.seriesItemEnabled.filter(Boolean).length===1;this.sectorLabelSelection.each((d,p)=>{const{sectorLabel:h,outerRadius:f}=p;let v=!1;if(h&&f!==0){const g=t*(1-s)+f*s+a;d.fill=l,d.fontStyle=r,d.fontWeight=i,d.fontSize=e,d.fontFamily=o,d.text=h.text,!u&&c?(d.x=0,d.y=0):(d.x=p.midCos*g,d.y=p.midSin*g),d.textAlign="center",d.textBaseline="middle";const y=d.computeBBox(),C=[[y.x,y.y],[y.x+y.width,y.y],[y.x+y.width,y.y+y.height],[y.x,y.y+y.height]],{startAngle:S,endAngle:w}=p,_={startAngle:S,endAngle:w,innerRadius:t,outerRadius:f};C.every(([x,E])=>N2(x,E,_))&&(v=!0)}d.visible=v})}updateInnerLabelNodes(){const n=[],t=[];this.innerLabelsSelection.each((c,d)=>{const{fontStyle:p,fontWeight:h,fontSize:f,fontFamily:v,color:g,margin:m=2}=d;c.fontStyle=p,c.fontWeight=h,c.fontSize=f,c.fontFamily=v,c.text=d.text,c.x=0,c.y=0,c.fill=g,c.textAlign="center",c.textBaseline="alphabetic",n.push(c.computeBBox()),t.push(m)});const e=c=>c===0?0:t[c],r=c=>c===t.length-1?0:t[c],i=n.reduce((c,d,p)=>c+d.height+e(p)+r(p),0),o=Math.max(...n.map(c=>c.width)),a=this.getInnerRadius(),l=Math.sqrt(Math.pow(o/2,2)+Math.pow(i/2,2))<=(a>0?a:this.getOuterRadius()),u=[];for(let c=0,d=-i/2;c<n.length;c++){const h=n[c].height+d+e(c);u.push(h),d=h+r(c)}this.innerLabelsSelection.each((c,d,p)=>{c.y=u[p],c.visible=l})}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2,this.zerosumInnerRing.size=this.getInnerRadius()*2}getDatumLegendName(n){const{angleKey:t,calloutLabelKey:e,sectorLabelKey:r,legendItemKey:i}=this.properties,{sectorLabel:o,calloutLabel:a,legendItem:s}=n;if(i&&s!==void 0)return s.text;if(e&&e!==t&&(a==null?void 0:a.text)!==void 0)return a.text;if(r&&r!==t&&(o==null?void 0:o.text)!==void 0)return o.text}getTooltipHtml(n){var t;if(!this.properties.isValid())return"";const{datum:e,angleValue:r,sectorFormat:{fill:i}}=n,o=Qr((t=this.properties.title)==null?void 0:t.text),a=fr(r)?GD(r):String(r),s=this.getDatumLegendName(n);return this.properties.tooltip.toTooltipHtml({title:o??s,content:o&&s?`${s}: ${a}`:a,backgroundColor:i},{datum:e,title:o,color:i,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName})}getLegendData(n){var t,e,r,i,o;const{processedData:a,dataModel:s}=this;if(!s||!(a!=null&&a.data.length)||n!=="category")return[];const{angleKey:l,calloutLabelKey:u,sectorLabelKey:c,legendItemKey:d}=this.properties;if(!d&&(!u||u===l)&&(!c||c===l))return[];const{calloutLabelIdx:p,sectorLabelIdx:h,legendItemIdx:f}=this.getProcessedDataIndexes(s),v=((t=this.properties.title)==null?void 0:t.showInLegend)&&this.properties.title.text,g=[];for(let m=0;m<a.data.length;m++){const{datum:y,values:C}=a.data[m],S=[];v&&S.push(v);const w=this.getLabels(y,2*Math.PI,2*Math.PI,!1,C[p],C[h],C[f]);if(d&&w.legendItem!==void 0?S.push(w.legendItem.text):u&&u!==l&&((e=w.calloutLabel)==null?void 0:e.text)!==void 0?S.push((r=w.calloutLabel)==null?void 0:r.text):c&&c!==l&&((i=w.sectorLabel)==null?void 0:i.text)!==void 0&&S.push((o=w.sectorLabel)==null?void 0:o.text),S.length===0)continue;const _=this.getSectorFormat(y,m,!1);g.push({legendType:"category",id:this.id,itemId:m,seriesId:this.id,enabled:this.seriesItemEnabled[m],label:{text:S.join(" - ")},marker:{fill:_.fill,stroke:_.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth},legendItemName:d!=null?y[d]:void 0})}return g}onLegendItemClick(n){const{enabled:t,itemId:e,series:r,legendItemName:i}=n;r.id===this.id?this.toggleSeriesItem(e,t):i!=null&&this.toggleOtherSeriesItems(i,t)}toggleSeriesItem(n,t){this.seriesItemEnabled[n]=t,this.nodeDataRefresh=!0}toggleOtherSeriesItems(n,t){var e;if(!this.properties.legendItemKey||!this.dataModel)return;const r=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue").index;(e=this.processedData)==null||e.data.forEach(({values:i},o)=>{i[r]===n&&this.toggleSeriesItem(o,t)})}animateEmptyUpdateReady(n){const{animationManager:t}=this.ctx,e=Dm(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);tn(this.id,"nodes",t,[this.itemSelection,this.highlightSelection],e.nodes),tn(this.id,"innerCircle",t,[this.innerCircleSelection],e.innerCircle),Sr(this,"callout",t,[this.calloutLabelSelection]),Sr(this,"sector",t,[this.sectorLabelSelection]),Sr(this,"inner",t,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){var n,t,e,r,i,o;const{itemSelection:a,highlightSelection:s,processedData:l,radiusScale:u,previousRadiusScale:c}=this,{animationManager:d}=this.ctx,p=(n=l==null?void 0:l.reduced)==null?void 0:n.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);const h=((t=p==null?void 0:p.moved.length)!=null?t:0)===0&&(p==null?void 0:p.addedIndices.every(m=>!p.removedIndices.includes(m))),f=((e=l==null?void 0:l.defs.keys.length)!=null?e:0)>0,v=(o=(i=(r=l==null?void 0:l.reduced)==null?void 0:r.animationValidation)==null?void 0:i.uniqueKeys)!=null?o:!0;(!h||!f||!v)&&this.ctx.animationManager.skipCurrentBatch();const g=Dm(!1,this.properties.rotation,u,c);tn(this.id,"nodes",d,[a,s],g.nodes,(m,y)=>this.getDatumId(y),p),tn(this.id,"innerCircle",d,[this.innerCircleSelection],g.innerCircle),Sr(this,"callout",this.ctx.animationManager,[this.calloutLabelSelection]),Sr(this,"sector",this.ctx.animationManager,[this.sectorLabelSelection]),Sr(this,"inner",this.ctx.animationManager,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:n,highlightSelection:t,radiusScale:e,previousRadiusScale:r}=this,{animationManager:i}=this.ctx,o=Dm(!1,this.properties.rotation,e,r);tn(this.id,"nodes",i,[n,t],o.nodes),tn(this.id,"innerCircle",i,[this.innerCircleSelection],o.innerCircle),Zf(this,"callout",this.ctx.animationManager,[this.calloutLabelSelection]),Zf(this,"sector",this.ctx.animationManager,[this.sectorLabelSelection]),Zf(this,"inner",this.ctx.animationManager,[this.innerLabelsSelection]),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(n){var t,e,r;const{calloutLabelKey:i,sectorLabelKey:o,legendItemKey:a}=this.properties;if((r=(e=(t=this.processedData)==null?void 0:t.reduced)==null?void 0:e.animationValidation)!=null&&r.uniqueKeys){if(a)return n[a];if(i)return n[i];if(o)return n[o]}}getDatumId(n){var t;const{index:e}=n;return(t=this.getDatumIdFromData(n.datum))!=null?t:`${e}`}onDataChange(){this.processSeriesItemEnabled()}};oA.className="PieSeries";oA.type="pie";var u7e={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",instanceConstructor:oA,seriesDefaults:{},themeTemplate:_ie,paletteFactory:xie};function c7e(){dl(qne),dl(Zne),dl(U9e),dl(q9e),dl(J9e),dl(n7e),dl(o7e),dl(s7e),dl(u7e),dl(t7e),new Map([[gv.type,gv],[dd.type,dd],[mv.type,mv],[Qp.type,Qp],[eh.type,eh]]).forEach((t,e)=>{ate(e,t)}),Pte("category","legend",wa,void 0)}function d7e(){for(const n of Iu){if(n.packageType==="enterprise"&&!t6e(n)&&Ue.errorOnce("Unexpected enterprise module registered: "+n.identifier),n.type==="root"&&n.themeTemplate)for(const t of n.chartTypes)YKe(t,n.themeTemplate);if(n.type==="series"){if(n.chartTypes.length>1)throw new Error(`AG Charts - Module definition error: ${n.identifier}`);s6e(n)}if(n.type==="series-option"&&n.themeTemplate)for(const t of n.seriesTypes)Rte(t,n.themeTemplate);if(n.type==="axis-option"&&n.themeTemplate)for(const t of n.axisTypes){const e=n.themeTemplate[t],r=de(de({},n.themeTemplate),e);for(const i of n.axisTypes)delete r[i];j4(t,r)}n.type==="axis"&&(ate(n.identifier,n.instanceConstructor),n.themeTemplate&&j4(n.identifier,n.themeTemplate)),n.type==="legend"&&Pte(n.identifier,n.optionsKey,n.instanceConstructor,n.themeTemplate)}if(_j()){const n=r6e();n.length>0&&Ue.errorOnce("Enterprise modules expected but not registered: ",n)}}var $2=class Eie extends QD{constructor(t,e){super(t,e),this._data={}}performLayout(){return Oe(this,null,function*(){const t=yield Cd(Eie.prototype,this,"performLayout").call(this),{seriesArea:{padding:e},seriesRoot:r}=this,i=t.clone();return t.shrink(e.left,"left"),t.shrink(e.top,"top"),t.shrink(e.right,"right"),t.shrink(e.bottom,"bottom"),this.seriesRect=t,this.animationRect=t,this.hoverRect=t,r.translationX=Math.floor(t.x),r.translationY=Math.floor(t.y),yield Promise.all(this.series.map(o=>Oe(this,null,function*(){yield o.update({seriesRect:t})}))),r.visible=this.series[0].visible,r.setClipRectInGroupCoordinateSpace(new Tt(t.x,t.y,t.width,t.height)),this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},clipSeries:!1,series:{rect:i,paddedRect:t,visible:!0},axes:[]}),t})}};$2.className="HierarchyChart";$2.type="hierarchy";var p7e=$2,Am=class extends Jj{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}computeLabelsBBox(n,t){return null}};D([k(Wn(["polygon","circle"],"a polar axis shape"))],Am.prototype,"shape",2);D([k(_r)],Am.prototype,"innerRadiusRatio",2);var W2=class Oie extends QD{constructor(t,e){super(t,e),this.padding=new Ch(40),this.axisGroup.zIndex=5}performLayout(){return Oe(this,null,function*(){const t=yield Cd(Oie.prototype,this,"performLayout").call(this),e=t.clone();return this.computeSeriesRect(t),yield this.computeCircle(t),this.axes.forEach(r=>r.update()),this.hoverRect=t,this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},clipSeries:!1,series:{rect:e,paddedRect:t,visible:!0},axes:[]}),t})}updateAxes(t,e,r){var i,o;const a=this.axes.find(d=>d.direction==="x"),s=this.axes.find(d=>d.direction==="y");if(!(a instanceof Am)||!(s instanceof Am))return;const l=a.scale,u=(i=l.ticks)==null?void 0:i.call(l).map(d=>l.convert(d)),c=s.innerRadiusRatio;a.innerRadiusRatio=c,(o=a.computeRange)==null||o.call(a),a.gridLength=r,s.gridAngles=u,s.gridRange=a.range,s.range=[r,r*c],[a,s].forEach(d=>{d.translation.x=t,d.translation.y=e,d.calculateLayout()})}computeSeriesRect(t){const{seriesArea:{padding:e}}=this;t.shrink(e.left,"left"),t.shrink(e.top,"top"),t.shrink(e.right,"right"),t.shrink(e.bottom,"bottom"),this.seriesRect=t,this.animationRect=t}computeCircle(t){return Oe(this,null,function*(){const e=this.series.filter(c=>c instanceof rA),r=this.axes.filter(c=>c instanceof Am),i=(c,d,p)=>{this.updateAxes(c,d,p),e.forEach(f=>{f.centerX=c,f.centerY=d,f.radius=p});const h=e.filter(f=>f instanceof oA||f instanceof nA);if(h.length>1){const f=h.map(v=>{const g=v.getInnerRadius();return{series:v,innerRadius:g}}).sort((v,g)=>v.innerRadius-g.innerRadius);f.at(-1).series.surroundingRadius=void 0;for(let v=0;v<f.length-1;v++)f[v].series.surroundingRadius=f[v+1].innerRadius}},o=t.x+t.width/2,a=t.y+t.height/2,s=Math.max(0,Math.min(t.width,t.height)/2);let l=s;i(o,a,l);const u=(...c)=>Oe(this,[...c],function*({hideWhenNecessary:d=!1}={}){const p=[];for(const v of[...r,...e]){const g=yield v.computeLabelsBBox({hideWhenNecessary:d},t);g&&p.push(g)}if(p.length===0){i(o,a,s);return}const h=Tt.merge(p),f=this.refineCircle(h,l,t);i(f.centerX,f.centerY,f.radius),f.radius!==l&&(l=f.radius)});return yield u(),yield u(),yield u(),yield u({hideWhenNecessary:!0}),yield u({hideWhenNecessary:!0}),{radius:l,centerX:o,centerY:a}})}refineCircle(t,e,r){const o=-e,a=-e,s=e,l=e;let u=Math.max(0,o-t.x),c=Math.max(0,a-t.y),d=Math.max(0,t.x+t.width-s),p=Math.max(0,t.y+t.height-l);u=d=Math.max(u,d),c=p=Math.max(c,p);const h=r.width-u-d,f=r.height-c-p;let v=Math.min(h,f)/2;const g=.5*r.width/2,m=.5*r.height/2,y=Math.min(g,m);if(v<y){v=y;const w=u+d,_=c+p;if(2*v+_>r.height){const x=r.height-2*v;Math.min(c,p)*2>x?(c=x/2,p=x/2):c>p?c=x-p:p=x-c}if(2*v+w>r.width){const x=r.width-2*v;Math.min(u,d)*2>x?(u=x/2,d=x/2):u>d?u=x-d:d=x-u}}const C=u+2*v+d,S=c+2*v+p;return{centerX:r.x+(r.width-C)/2+u+v,centerY:r.y+(r.height-S)/2+c+v,radius:v}}};W2.className="PolarChart";W2.type="polar";var h7e=W2,Yb=Rn.create(!0,"opts");function O5(n){if(Yf(n))return"cartesian";if(F_(n))return"polar";if(Ej(n))return"hierarchy";throw new Error(`AG Chart - unknown type of chart for options with type: ${n.type}`)}var aA=class qS{static licenseCheck(t){var e,r,i,o;this.licenseChecked||(this.licenseManager=(r=(e=_m).licenseManager)==null?void 0:r.call(e,t),(i=this.licenseManager)==null||i.setLicenseKey(this.licenseKey,this.gridContext),(o=this.licenseManager)==null||o.validateLicense(),this.licenseChecked=!0)}static setLicenseKey(t){this.licenseKey=t}static setGridContext(t){this.gridContext=t}static getLicenseDetails(t){var e,r;return(r=(e=_m).licenseManager)==null?void 0:r.call(e,{}).getLicenseDetails(t)}static getInstance(t){return lg.getInstance(t)}static create(t){var e,r,i,o;this.licenseCheck(t);const a=lg.createOrUpdate(t);return(e=this.licenseManager)!=null&&e.isDisplayWatermark()&&((o=(i=_m).injectWatermark)==null||o.call(i,(r=t.document)!=null?r:document,a.chart.element,this.licenseManager.getWatermarkMessage())),a}static update(t,e){if(!Zg.isInstance(t))throw new Error(qS.INVALID_CHART_REF_MESSAGE);lg.createOrUpdate(e,t)}static updateDelta(t,e){if(!Zg.isInstance(t))throw new Error(qS.INVALID_CHART_REF_MESSAGE);lg.updateUserDelta(t,e)}static download(t,e){if(!(t instanceof Zg))throw new Error(qS.INVALID_CHART_REF_MESSAGE);lg.download(t,e)}static getImageDataURL(t,e){if(!(t instanceof Zg))throw new Error(qS.INVALID_CHART_REF_MESSAGE);return lg.getImageDataURL(t,e)}};aA.INVALID_CHART_REF_MESSAGE="AG Charts - invalid chart reference passed";aA.licenseChecked=!1;aA.gridContext=!1;var Wc=aA,Rie=class fu{static getInstance(t){const e=QD.getInstance(t);return e!=null?Zg.chartInstances.get(e):void 0}static initialiseModules(){fu.initialised||(c7e(),d7e(),fu.initialised=!0)}static createOrUpdate(t,e){var r;fu.initialiseModules(),Yb(">>> AgChartV2.createOrUpdate() user options",t);const i=t,{overrideDevicePixelRatio:o,document:a,window:s}=i,l=di(i,["overrideDevicePixelRatio","document","window"]),u=new Xte(l,{overrideDevicePixelRatio:o,document:a,window:s});let c=e==null?void 0:e.chart;return(c==null||O5(l)!==O5(c.processedOptions))&&(c=fu.createChartInstance(u,c)),e==null?e=new Zg(c):e.chart=c,Yb.check()&&typeof window<"u"&&((r=window.agChartInstances)!=null||(window.agChartInstances={}),window.agChartInstances[c.id]=c),c.queuedUserOptions.push(l),c.requestFactoryUpdate(d=>{d.applyOptions(u),d.queuedUserOptions.splice(0,d.queuedUserOptions.indexOf(l))}),e}static updateUserDelta(t,e){e=io(e,{shallow:["data"]}),Nu(e,a=>{if(typeof a=="object")for(const[s,l]of Object.entries(a))typeof l>"u"&&Object.assign(a,{[s]:Symbol("UNSET")})},{skip:["data"]});const{chart:r}=t,i=r.getOptions(),o=Ht(e,i);Yb(">>> AgChartV2.updateUserDelta() user delta",e),Yb("AgChartV2.updateUserDelta() - base options",i),fu.createOrUpdate(o,t)}static download(t,e){return Oe(this,null,function*(){try{const r=yield fu.prepareResizedChart(t,e);r.chart.scene.download(e==null?void 0:e.fileName,e==null?void 0:e.fileFormat),r.destroy()}catch(r){Ue.errorOnce(r)}})}static getImageDataURL(t,e){return Oe(this,null,function*(){const r=yield fu.prepareResizedChart(t,e),{canvas:i}=r.chart.scene,o=i.getDataURL(e==null?void 0:e.fileFormat);return r.destroy(),o})}static prepareResizedChart(t){return Oe(this,arguments,function*(e,r={}){const{chart:i}=e,{width:o=i.width,height:a=i.height}=r,s=Ht({container:document.createElement("div"),overrideDevicePixelRatio:1,autoSize:!1,width:o,height:a},_j()&&{animation:{enabled:!1}},i.userOptions),l=fu.createOrUpdate(s);return l.chart.zoomManager.updateZoom(e.chart.zoomManager.getZoom()),e.chart.series.forEach((u,c)=>{u.visible!==!0&&(l.chart.series[c].visible=u.visible)}),e.chart.update(0,{forceNodeDataRefresh:!0}),yield l.chart.waitForUpdate(),l})}static createChartInstance(t,e){const r=e==null?void 0:e.destroy({keepTransferableResources:!0}),i=fu.getChartByOptions(t.processedOptions);return new i(t,r)}static getChartByOptions(t){if(Yf(t))return D9e;if(Ej(t))return p7e;if(F_(t))return h7e;throw new Error("AG Charts - couldn't apply configuration, check options are correctly structured and series types are specified")}};Rie.initialised=!1;var lg=Rie,f7e="9.1.1",ge={};yd(ge,{Arc:()=>pc,BBox:()=>Tt,BandScale:()=>ec,Caption:()=>dn,Circle:()=>Ku,ContinuousScale:()=>Rr,Diamond:()=>_ne,DropShadow:()=>ql,Group:()=>st,HdpiCanvas:()=>Tn,Image:()=>Vy,Label:()=>oi,Line:()=>pi,LinearGradientFill:()=>sA,LinearScale:()=>Yu,Marker:()=>nl,Node:()=>Py,Path:()=>hs,Path2D:()=>oy,PointerEvents:()=>ere,RadialColumnShape:()=>Xl,Rect:()=>uo,RedrawType:()=>op,Scene:()=>r2,SceneChangeDetection:()=>Je,ScenePathChangeDetection:()=>Mt,Sector:()=>il,Selection:()=>rn,Shape:()=>qs,Square:()=>ay,Text:()=>nr,Tooltip:()=>Ore,Triangle:()=>Tm,easing:()=>Nj,getFont:()=>Zp,getMarker:()=>Sh,getRadialColumnWidth:()=>v7e,motion:()=>g7e,nearestSquared:()=>Jte,nearestSquaredInContainer:()=>aYe,toRadians:()=>ao,toTooltipHtml:()=>A0});var pc=class extends hs{constructor(){super(),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=Math.PI*2,this.counterClockwise=!1,this.type=0,this.restoreOwnStyles()}get fullPie(){return Xf(Gn(this.startAngle),Gn(this.endAngle))}updatePath(){const n=this.path;n.clear(),n.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===1?n.closePath():this.type===2&&!this.fullPie&&(n.lineTo(this.centerX,this.centerY),n.closePath())}computeBBox(){return new Tt(this.centerX-this.radius,this.centerY-this.radius,this.radius*2,this.radius*2)}isPointInPath(n,t){const e=this.transformPoint(n,t),r=this.computeBBox();return this.type!==0&&r.containsPoint(e.x,e.y)&&this.path.isPointInPath(e.x,e.y)}};pc.className="Arc";pc.defaultStyles=Object.assign({},qs.defaultStyles,{lineWidth:1,fillStyle:null});D([Mt()],pc.prototype,"centerX",2);D([Mt()],pc.prototype,"centerY",2);D([Mt()],pc.prototype,"radius",2);D([Mt()],pc.prototype,"startAngle",2);D([Mt()],pc.prototype,"endAngle",2);D([Mt()],pc.prototype,"counterClockwise",2);D([Mt()],pc.prototype,"type",2);var sA=class extends qs{constructor(){super(...arguments),this.direction="to-right",this.stops=void 0,this._mask=void 0}get mask(){return this._mask}set mask(n){this._mask!=null&&this.removeChild(this._mask),n!=null&&this.appendChild(n),this._mask=n}isPointInPath(n,t){var e,r;return(r=(e=this.mask)==null?void 0:e.isPointInPath(n,t))!=null?r:!1}computeBBox(){var n;return(n=this.mask)==null?void 0:n.computeBBox()}render(n){const{mask:t,stops:e}=this,{ctx:r,devicePixelRatio:i}=n,o=1/i,a=t==null?void 0:t.computeTransformedBBox();if(t==null||e==null||a==null)return;t.dirtyPath&&(t.updatePath(),t.dirtyPath=!1),r.save(),r.beginPath(),t.path.draw(r),r.clip(),r.resetTransform();const s=Math.floor(a.x),l=Math.ceil(a.x+a.width),u=Math.floor(a.y),c=Math.ceil(a.y+a.height),d=new Iv,[p,h]=this.direction==="to-right"?[s,l]:[u,c];if(d.domain=e.map((f,v)=>p+(h-p)*v/(e.length-1)),d.range=e,d.update(),this.direction==="to-right"){const f=c-u;for(let v=s;v<=l;v+=o)r.fillStyle=d.convert(v),r.fillRect(v,u,o,f)}else{const f=l-s;for(let v=u;v<=c;v+=o)r.fillStyle=d.convert(v),r.fillRect(s,v,f,o)}r.restore()}};D([Je({redraw:3})],sA.prototype,"direction",2);D([Je({redraw:3})],sA.prototype,"stops",2);D([Je({redraw:3})],sA.prototype,"_mask",2);function R5(n,t,e){const r=Math.sqrt(It(n,2)+It(t,2)),o=Math.atan2(t,n)+e;return{x:Math.cos(o)*r,y:Math.sin(o)*r}}var Xl=class extends hs{constructor(){super(...arguments),this.borderPath=new oy,this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}getRotation(){const{startAngle:n,endAngle:t}=this,e=Gj(n,t);return Gn(n+e/2+Math.PI/2)}updatePath(){const{isBeveled:n}=this;n?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){const{columnWidth:n,innerRadius:t,outerRadius:e,path:r}=this,i=-n/2,o=n/2,a=-e,s=-t,l=this.getRotation(),u=[[i,s],[i,a],[o,a],[o,s],[i,s]].map(([c,d])=>R5(c,d,l));r.clear({trackChanges:!0}),r.moveTo(u[0].x,u[0].y),r.lineTo(u[1].x,u[1].y),r.lineTo(u[2].x,u[2].y),r.lineTo(u[3].x,u[3].y),r.lineTo(u[0].x,u[0].y),r.closePath()}updateBeveledPath(){const{columnWidth:n,path:t,outerRadius:e,innerRadius:r,axisInnerRadius:i,axisOuterRadius:o,isRadiusAxisReversed:a}=this,s=Xf(r,i),l=Math.asin(n/2/r),u=this.getRotation(),c=(E,R)=>R5(E,R,u),d=(E,R)=>Math.sqrt(It(E,2)+It(R,2)),p=(E,R)=>R>E?0:Math.sqrt(It(E,2)-It(R,2)),h=(E,R,P)=>P?E<R:E>R,f=s&&!isNaN(l)&&l<Math.PI/6;let v=-n/2,g=n/2;const m=-e,y=-r*(f?Math.cos(l):1),C=h(o,d(r,n/2),!a);if(C){const E=p(o,r);v=-E,g=E}t.clear({trackChanges:!0});const S=c(v,y);t.moveTo(S.x,S.y);const w=Xf(r,e),_=h(o,d(e,n/2),!a);if(w&&f)t.arc(0,0,r,Gn(-l-Math.PI/2)+u,Gn(l-Math.PI/2)+u,!1);else if(_){const E=-p(o,n/2),R=p(o,e);if(!C){const P=c(v,E);t.lineTo(P.x,P.y)}if(t.arc(0,0,o,Math.atan2(E,v)+u,Math.atan2(m,-R)+u,!1),!Xf(R,0)){const P=c(R,m);t.lineTo(P.x,P.y)}t.arc(0,0,o,Math.atan2(m,R)+u,Math.atan2(E,g)+u,!1)}else{const E=c(v,m),R=c(g,m);t.lineTo(E.x,E.y),t.lineTo(R.x,R.y)}const x=c(g,y);if(t.lineTo(x.x,x.y),f)t.arc(0,0,r,Gn(l-Math.PI/2)+u,Gn(-l-Math.PI/2)+u,!0);else{const E=c(v,y);t.lineTo(E.x,E.y)}t.closePath()}};Xl.className="RadialColumnShape";D([Mt()],Xl.prototype,"isBeveled",2);D([Mt()],Xl.prototype,"columnWidth",2);D([Mt()],Xl.prototype,"startAngle",2);D([Mt()],Xl.prototype,"endAngle",2);D([Mt()],Xl.prototype,"outerRadius",2);D([Mt()],Xl.prototype,"innerRadius",2);D([Mt()],Xl.prototype,"axisInnerRadius",2);D([Mt()],Xl.prototype,"axisOuterRadius",2);D([Mt()],Xl.prototype,"isRadiusAxisReversed",2);function v7e(n,t,e,r,i){const o=Gj(n,t),a=o*(1-r)/2;if(n+=a,t-=a,o<.001)return 2*e*i;if(o>=2*Math.PI){const h=n+o/2;n=h-Math.PI,t=h+Math.PI}const s=e*Math.cos(n),l=e*Math.sin(n),u=e*Math.cos(t),c=e*Math.sin(t),d=Math.floor(Math.sqrt(It(s-u,2)+It(l-c,2))),p=2*e*i;return Math.max(1,Math.min(p,d))}var Vy=class extends Py{constructor(t){super(),this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1,this.sourceImage=t}render(t){const{ctx:e,forceRender:r,stats:i}=t;if(this.dirty===0&&!r){i&&i.nodesSkipped++;return}this.computeTransformMatrix(),this.matrix.toContext(e);const o=this.sourceImage;e.globalAlpha=this.opacity,e.drawImage(o,0,0,o.width,o.height,this.x,this.y,this.width,this.height),super.render(t)}};D([Je({redraw:3})],Vy.prototype,"x",2);D([Je({redraw:3})],Vy.prototype,"y",2);D([Je({redraw:3})],Vy.prototype,"width",2);D([Je({redraw:3})],Vy.prototype,"height",2);D([Je({redraw:3})],Vy.prototype,"opacity",2);var g7e=de(de({},Zte),Fre),Fl={};yd(Fl,{CARTESIAN_AXIS_TYPE:()=>Fte,ChartTheme:()=>wd,DEFAULT_AXIS_GRID_COLOUR:()=>cT,DEFAULT_AXIS_LINE_COLOUR:()=>JE,DEFAULT_BACKGROUND_COLOUR:()=>T0,DEFAULT_CROSS_LINES_COLOUR:()=>Ow,DEFAULT_DIVERGING_SERIES_COLOUR_RANGE:()=>Wl,DEFAULT_FONT_FAMILY:()=>ui,DEFAULT_HIERARCHY_FILLS:()=>Rj,DEFAULT_HIERARCHY_STROKES:()=>Tj,DEFAULT_INSIDE_SERIES_LABEL_COLOUR:()=>Ry,DEFAULT_INVERTED_LABEL_COLOUR:()=>Kte,DEFAULT_LABEL_COLOUR:()=>pr,DEFAULT_MUTED_LABEL_COLOUR:()=>Em,DEFAULT_POLAR_SERIES_STROKE:()=>Oj,DEFAULT_SHADOW_COLOUR:()=>Ty,DEFAULT_WATERFALL_SERIES_CONNECTOR_LINE_STROKE:()=>$l,DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS:()=>jl,DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS:()=>Bl,DEFAULT_WATERFALL_SERIES_TOTAL_COLOURS:()=>Hl,EXTENDS_AXES_DEFAULTS:()=>jte,EXTENDS_AXES_GRID_LINE_DEFAULTS:()=>Ute,EXTENDS_AXES_LABEL_DEFAULTS:()=>Hte,EXTENDS_AXES_LINE_DEFAULTS:()=>$te,EXTENDS_AXES_TICK_DEFAULTS:()=>Wte,EXTENDS_CARTESIAN_MARKER_DEFAULTS:()=>Oy,EXTENDS_CHART_DEFAULTS:()=>kte,EXTENDS_LEGEND_DEFAULTS:()=>Gte,EXTENDS_LEGEND_ITEM_DEFAULTS:()=>Vte,EXTENDS_LEGEND_ITEM_MARKER_DEFAULTS:()=>Bte,EXTENDS_SERIES_DEFAULTS:()=>Sd,FONT_SIZE:()=>Ate,FONT_WEIGHT:()=>Mte,IS_DARK_THEME:()=>_f,OVERRIDE_SERIES_LABEL_DEFAULTS:()=>zte,POLAR_AXIS_SHAPE:()=>Nte,POLAR_AXIS_TYPE:()=>Ite,POSITION:()=>Lte,getChartTheme:()=>Pj,themes:()=>m7e});var m7e=Object.entries(Yte).reduce((n,[t,e])=>(n[t]=e(),n),{}),Eh={};yd(Eh,{BandScale:()=>ec,ColorScale:()=>Iv,ContinuousScale:()=>Rr,Invalidating:()=>Sa,LinearScale:()=>Yu,TimeScale:()=>Qj});var cn={};yd(cn,{Color:()=>Mu,Logger:()=>Ue,Padding:()=>Ch,angleBetween:()=>Gj,checkDatum:()=>M0,clamp:()=>rr,clampArray:()=>pT,countFractionDigits:()=>Fj,createId:()=>sc,deepClone:()=>io,extent:()=>ac,findMinMax:()=>cd,findRangeExtent:()=>ny,isContinuous:()=>Yj,isDate:()=>M_,isEqual:()=>Xf,isNegative:()=>G_,isNumber:()=>fr,isNumberEqual:()=>Xf,isString:()=>js,isStringObject:()=>Kj,jsonApply:()=>Gp,jsonDiff:()=>ss,jsonWalk:()=>Nu,mod:()=>VD,normalisedExtent:()=>qte,normalisedExtentWithMetadata:()=>k_,normalizeAngle180:()=>D0,normalizeAngle360:()=>Gn,normalizeAngle360Inclusive:()=>vYe,range:()=>F0,resetIds:()=>Qte,round:()=>Lj,sanitizeHtml:()=>Qr,shallowClone:()=>uT,tickFormat:()=>Bre,tickStep:()=>iy,ticks:()=>KD,toDegrees:()=>gYe,toFixed:()=>GD,toRadians:()=>ao,transformIntegratedCategoryValue:()=>Om,zipObject:()=>aN});var U2={};yd(U2,{ADD_PHASE:()=>kj,AGG_VALUES_EXTENT:()=>v9e,AND:()=>uc,ANIMATION_PHASE_ORDER:()=>pf,ANIMATION_PHASE_TIMINGS:()=>ure,ARRAY:()=>V_,ARRAY_OF:()=>_d,AbstractBarSeries:()=>sie,AbstractBarSeriesProperties:()=>P2,ActionOnSet:()=>Ci,Animation:()=>dre,AnimationManager:()=>pne,AreaSeriesTag:()=>iie,Axis:()=>Jj,AxisLabel:()=>ai,AxisTick:()=>zl,BOOLEAN:()=>St,BOOLEAN_ARRAY:()=>mYe,Background:()=>q_,BackgroundModule:()=>qne,BaseModuleInstance:()=>wj,BaseProperties:()=>Fr,COLOR_STRING:()=>tr,COLOR_STRING_ARRAY:()=>tl,CartesianAxis:()=>z_,CartesianSeries:()=>xh,CartesianSeriesNodeClickEvent:()=>m2,CartesianSeriesProperties:()=>_h,CategoryAxis:()=>dd,ChartAxisDirection:()=>Sre,ChartEventManager:()=>hne,ChartOptions:()=>Xte,ChartUpdateType:()=>Dw,ContextMenuRegistry:()=>fne,CursorManager:()=>vne,DATE:()=>Vj,DATE_ARRAY:()=>yYe,DATE_OR_DATETIME_MS:()=>Bj,DEGREE:()=>vh,DIRECTION:()=>mre,DataController:()=>une,DataModel:()=>lne,DataService:()=>qD,Default:()=>Ed,Deprecated:()=>Pv,DeprecatedAndRenamedTo:()=>eYe,FONT_STYLE:()=>gh,FONT_WEIGHT:()=>mh,FUNCTION:()=>el,GREATER_THAN:()=>j_,GestureDetector:()=>gne,GroupedCategoryAxis:()=>Qp,HierarchyNode:()=>lO,HierarchySeries:()=>C7e,HierarchySeriesProperties:()=>Oh,HighlightManager:()=>_N,HighlightStyle:()=>Y_,INITIAL_LOAD:()=>ore,INTERACTION_RANGE:()=>$j,INTERACTION_TYPES:()=>cne,InteractionManager:()=>dne,InteractionState:()=>vT,LABEL_PHASE:()=>lre,LESS_THAN:()=>B_,LINE_CAP:()=>vre,LINE_DASH:()=>xd,LINE_JOIN:()=>CYe,Layers:()=>Are,LayoutService:()=>yne,MATCHING_CROSSLINE_TYPE:()=>qj,MAX_SPACING:()=>Wj,MIN_SPACING:()=>Cre,Motion:()=>Nj,NAN:()=>HD,NODE_UPDATE_PHASES:()=>pre,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>bo,NUMBER:()=>Vr,NUMBER_ARRAY:()=>$D,NUMBER_OR_NAN:()=>Dy,Navigator:()=>Yl,NavigatorModule:()=>Zne,OBJECT:()=>ct,OBJECT_ARRAY:()=>jj,OR:()=>Dv,OVERFLOW_STRATEGY:()=>wYe,ObserveChanges:()=>Ay,PLACEMENT:()=>yre,POSITION:()=>Hj,POSITIVE_NUMBER:()=>Le,PolarAxis:()=>Am,PolarSeries:()=>rA,PropertiesArray:()=>I_,ProxyOnWrite:()=>MYe,ProxyProperty:()=>yh,ProxyPropertyOnWrite:()=>Hr,QUICK_TRANSITION:()=>BD,RATIO:()=>_r,REGISTERED_MODULES:()=>Iu,REMOVE_PHASE:()=>are,RepeatType:()=>cre,SMALLEST_KEY_INTERVAL:()=>TN,SORT_DOMAIN_GROUPS:()=>Ine,STRING:()=>Ne,STRING_ARRAY:()=>fre,Series:()=>Ny,SeriesGroupingChangedEvent:()=>v2,SeriesItemHighlightStyle:()=>Rd,SeriesMarker:()=>_a,SeriesNodeClickEvent:()=>K_,SeriesNodePickMode:()=>kne,SeriesProperties:()=>Kl,SeriesTooltip:()=>xa,StateMachine:()=>W_,TEXT_ALIGN:()=>gre,TEXT_WRAP:()=>WD,Tags:()=>Zre,TooltipManager:()=>xN,UNION:()=>Wn,UPDATE_PHASE:()=>sre,UpdateService:()=>Bne,VERTICAL_ALIGN:()=>SYe,Validate:()=>k,ZoomManager:()=>mne,__FORCE_MODULE_DETECTION:()=>S7e,accumulateGroup:()=>Nne,accumulatedValue:()=>Lne,accumulativeValueProperty:()=>f2,adjustLabelPlacement:()=>hie,animationValidation:()=>Iy,area:()=>RN,arraysEqual:()=>Tw,assignJsonApplyConstructedArray:()=>Tre,average:()=>f9e,backfillPathPointData:()=>x2,buildResetPathFn:()=>O2,checkCrisp:()=>die,circularSliceArray:()=>iN,clamp:()=>rr,clampArray:()=>pT,collapsedStartingBarPosition:()=>B0,count:()=>h9e,countFractionDigits:()=>Fj,createDatumId:()=>Jp,createDeprecationWarning:()=>Mj,deconstructSelectionsOrNodes:()=>jD,deepClone:()=>io,deepMerge:()=>zKe,determinePathStatus:()=>rie,diff:()=>Fv,enterpriseModule:()=>_m,extent:()=>ac,extractDecoratedProperties:()=>HKe,findMinMax:()=>cd,findRangeExtent:()=>ny,fixNumericExtent:()=>Eo,fromToMotion:()=>tn,getMissCount:()=>n2,getPath:()=>vte,getRectConfig:()=>cie,groupAccumulativeValueProperty:()=>hp,groupAverage:()=>Mne,groupBy:()=>Aj,groupCount:()=>ON,groupSum:()=>Dne,hasRegisteredEnterpriseModules:()=>_j,injectStyle:()=>zD,invertShapeDirection:()=>y7e,isArray:()=>ni,isBoolean:()=>ute,isDate:()=>kD,isDecoratedObject:()=>ND,isDefined:()=>q1,isEnumKey:()=>UKe,isEnumValue:()=>pte,isEqual:()=>Xf,isFiniteNumber:()=>fr,isFunction:()=>by,isHtmlElement:()=>dte,isNegative:()=>G_,isNumber:()=>xl,isObject:()=>Ju,isObjectLike:()=>WKe,isPlainObject:()=>Ys,isProperties:()=>Xa,isRegExp:()=>cte,isString:()=>js,isSymbol:()=>hte,isValidDate:()=>M_,jsonApply:()=>Gp,jsonDiff:()=>ss,jsonWalk:()=>Nu,keyProperty:()=>$i,listDecoratedProperties:()=>bm,mapValues:()=>fte,markerFadeInAnimation:()=>N0,markerPaletteFactory:()=>Z_,markerScaleInAnimation:()=>S2,markerSwipeScaleInAnimation:()=>w2,mergeArrayDefaults:()=>X1,mergeDefaults:()=>Ht,midpointStartingBarPosition:()=>z9e,minMax:()=>PN,mod:()=>VD,normaliseGroupTo:()=>mT,normalisePropertyTo:()=>I0,normalisedExtent:()=>qte,normalisedExtentWithMetadata:()=>k_,pairCategoryData:()=>V0,pairContinuousData:()=>G0,partialAssign:()=>Z1,pathFadeInAnimation:()=>Lw,pathFadeOutAnimation:()=>G9e,pathSwipeInAnimation:()=>E2,predicateWithMessage:()=>Ar,prepareAreaPathAnimation:()=>oie,prepareAxisAnimationContext:()=>SN,prepareAxisAnimationFunctions:()=>zre,prepareBarAnimationFunctions:()=>j0,prepareLinePathAnimation:()=>nie,prepareLinePathAnimationFns:()=>R2,prepareMarkerAnimation:()=>_2,range:()=>Ane,rangedValueProperty:()=>h2,registerModule:()=>dl,renderPartialPath:()=>b2,resetAxisGroupFn:()=>Kre,resetAxisLabelSelectionFn:()=>qre,resetAxisLineSelectionFn:()=>Xre,resetAxisSelectionFn:()=>Yre,resetBarSelectionsFn:()=>H0,resetIds:()=>Qte,resetLabelFn:()=>Td,resetMarkerFn:()=>Q_,resetMarkerPositionFn:()=>k0,resetMotion:()=>ci,round:()=>Lj,seriesLabelFadeInAnimation:()=>Sr,seriesLabelFadeOutAnimation:()=>Zf,setPath:()=>gte,shallowClone:()=>uT,singleSeriesPaletteFactory:()=>C2,staticFromToMotion:()=>lc,stringify:()=>Pw,sum:()=>p9e,toArray:()=>dT,toFixed:()=>GD,trailingAccumulatedValue:()=>Fne,trailingAccumulatedValueProperty:()=>w9e,trailingValue:()=>Vne,trailingValueProperty:()=>S9e,unique:()=>Dj,updateClipPath:()=>yT,updateLabelNode:()=>pie,updateRect:()=>uie,validateCrossLineValues:()=>Mre,valueProperty:()=>Tr});function y7e(...n){for(const t of n)if(t instanceof uo){const{x:e,y:r,width:i,height:o}=t;t.setProperties({x:r,y:e,width:o,height:i})}else if(t instanceof pi){const{x1:e,y1:r,x2:i,y2:o}=t;t.setProperties({x1:r,y1:e,x2:o,y2:i})}}var Tie=class sO{constructor(t,e,r,i,o,a,s,l,u,c,d){this.series=t,this.index=e,this.datum=r,this.size=i,this.colorValue=o,this.fill=a,this.stroke=s,this.sumSize=l,this.depth=u,this.parent=c,this.children=d,this.midPoint={x:0,y:0}}contains(t){let e=t;for(;e!=null&&e.index>=this.index;){if(e===this)return!0;e=e.parent}return!1}walk(t,e=sO.Walk.PreOrder){e===sO.Walk.PreOrder&&t(this),this.children.forEach(r=>{r.walk(t,e)}),e===sO.Walk.PostOrder&&t(this)}*[Symbol.iterator](){yield this;for(const t of this.children)yield*K5e(t)}};Tie.Walk={PreOrder:0,PostOrder:1};var lO=Tie,C7e=class extends Ny{constructor(n){super({moduleCtx:n,pickModes:[0],contentGroupVirtual:!1}),this.rootNode=new lO(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.colorDomain=[0,0],this.maxDepth=0,this.animationState=new W_("empty",{empty:{update:{target:"ready",action:t=>this.animateEmptyUpdateReady(t)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:t=>this.animateReadyHighlight(t),resize:t=>this.animateReadyResize(t),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:t=>this.animateWaitingUpdateReady(t)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:t=>this.animateClearingUpdateEmpty(t)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(n){n==="initial"?this.animationState.transition("reset"):n==="ready"&&this.animationState.transition("skip")}processData(){return Oe(this,null,function*(){var n,t;const{childrenKey:e,sizeKey:r,colorKey:i,fills:o,strokes:a,colorRange:s}=this.properties;let l=0;const u=()=>(l+=1,l);let c=0,d=1/0,p=-1/0;const h=new Array(((t=(n=this.data)==null?void 0:n.length)!=null?t:0)+1).fill(void 0),f=(C,S)=>{const w=u(),_=S.depth!=null?S.depth+1:0,x=e!=null?C[e]:void 0,E=x==null||x.length===0;let R=r!=null?C[r]:void 0;Number.isFinite(R)?R=Math.max(R,0):R=E?1:0;const P=R;c=Math.max(c,_);const A=i!=null?C[i]:void 0;return typeof A=="number"&&(h[w]=A,d=Math.min(d,A),p=Math.max(p,A)),v(new lO(this,w,C,R,A,void 0,void 0,P,_,S,[]),x)},v=(C,S)=>(S==null||S.forEach(w=>{const _=f(w,C);C.children.push(_),C.sumSize+=_.sumSize}),C),g=v(new lO(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.data),m=[d,p];let y;s!=null&&Number.isFinite(d)&&Number.isFinite(p)&&(y=new Iv,y.domain=m,y.range=s,y.update()),g.children.forEach((C,S)=>{C.walk(w=>{let _;const x=h[w.index];x!=null&&(_=y==null?void 0:y.convert(x)),_??(_=o==null?void 0:o[S%o.length]),w.fill=_,w.stroke=y==null?a==null?void 0:a[S%a.length]:"rgba(0, 0, 0, 0.2)"})}),this.rootNode=g,this.maxDepth=c,this.colorDomain=m})}update(n){return Oe(this,arguments,function*({seriesRect:t}){yield this.updateSelections(),yield this.updateNodes();const e=this.getAnimationData();this.checkResize(t)&&this.animationState.transition("resize",e),this.animationState.transition("update",e)})}resetAllAnimation(n){var t;const e=(t=this.animationResetFns)==null?void 0:t.datum;this.ctx.animationManager.stopByAnimationGroupId(this.id),e!=null&&ci(n.datumSelections,e)}animateEmptyUpdateReady(n){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(n)}animateWaitingUpdateReady(n){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(n)}animateReadyHighlight(n){var t;const e=(t=this.animationResetFns)==null?void 0:t.datum;e!=null&&ci([n],e)}animateReadyResize(n){this.resetAllAnimation(n)}animateClearingUpdateEmpty(n){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(n)}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(){return{datumSelections:[this.groupSelection]}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}getLegendData(n){const{colorKey:t,colorName:e,colorRange:r,visible:i}=this.properties;return n==="gradient"&&t!=null&&r!=null?[{legendType:"gradient",enabled:i,seriesId:this.id,colorName:e,colorRange:r,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(n){return`${n.index}`}getDatumId(n){return this.getDatumIdFromData(n)}},Oh=class extends Kl{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values(bu),this.strokes=Object.values(qf)}};D([k(Ne)],Oh.prototype,"childrenKey",2);D([k(Ne,{optional:!0})],Oh.prototype,"sizeKey",2);D([k(Ne,{optional:!0})],Oh.prototype,"colorKey",2);D([k(Ne,{optional:!0})],Oh.prototype,"colorName",2);D([k(tl)],Oh.prototype,"fills",2);D([k(tl)],Oh.prototype,"strokes",2);D([k(tl,{optional:!0})],Oh.prototype,"colorRange",2);var S7e=0,w7e=["area","bar","column","histogram","line","pie","donut","scatter","bubble","radial-column","radial-bar","radar-line","radar-area","nightingale","range-bar","range-area","box-plot","treemap","sunburst","heatmap","waterfall"];function T5(n){switch(n){case"rangeBar":case"rangeArea":case"waterfall":case"boxPlot":case"radarLine":case"radarArea":case"nightingale":case"radialColumn":case"radialBar":case"sunburst":case"treemap":case"heatmap":return!0;default:return!1}}var _7e=new Set(["bar","groupedBar","stackedBar","normalizedBar"]);function Uc(n){return _7e.has(n)}var x7e=new Set(["stackedColumn","normalizedColumn","stackedBar","normalizedBar"]);function b7e(n){return x7e.has(n)}function Pie(n){switch(n){case"radialColumn":case"radialBar":case"radarLine":case"radarArea":case"nightingale":return!0;default:return!1}}function E7e(n){switch(n){case"radialColumn":case"radialBar":return!0;default:return!1}}function wp(n){switch(n){case"treemap":case"sunburst":return!0;default:return!1}}function O7e(n){switch(n){case"treemap":case"sunburst":case"heatmap":return!0;default:return!1}}function $0(n){switch(n){case"doughnut":return"donut";default:return n}}function Tl(n){switch(n){case"bar":case"groupedBar":case"stackedBar":case"normalizedBar":return"bar";case"column":case"groupedColumn":case"stackedColumn":case"normalizedColumn":return"bar";case"line":return"line";case"area":case"stackedArea":case"normalizedArea":return"area";case"bubble":return"bubble";case"scatter":return"scatter";case"histogram":return"histogram";case"radialColumn":return"radial-column";case"radialBar":return"radial-bar";case"radarLine":return"radar-line";case"radarArea":return"radar-area";case"nightingale":return"nightingale";case"rangeBar":return"range-bar";case"rangeArea":return"range-area";case"boxPlot":return"box-plot";case"treemap":return"treemap";case"sunburst":return"sunburst";case"pie":return"pie";case"donut":case"doughnut":return"donut";case"heatmap":return"heatmap";case"waterfall":return"waterfall";default:return"cartesian"}}function z2(n){switch(n){case"pie":case"donut":return!0;default:return!1}}var Die=["number","category","grouped-category","log","time"];function R7e(n){switch(n){case"bar":case"stackedBar":case"normalizedBar":return["number","category"];case"groupedBar":return["number","grouped-category"];case"column":case"stackedColumn":case"normalizedColumn":case"line":case"area":case"stackedArea":case"normalizedArea":case"histogram":return["category","number"];case"groupedColumn":return["grouped-category","number"];case"scatter":case"bubble":return["number","number"];default:return}}function T7e(n){return Array.isArray(n)?[]:{}}function W0(n,t){return t.clone!==!1&&t.isMergeableObject(n)?Vp(T7e(n),n,t):n}function P7e(n,t,e){return n.concat(t).map(function(r){return W0(r,e)})}function D7e(n,t){if(!t.customMerge)return Vp;var e=t.customMerge(n);return typeof e=="function"?e:Vp}function A7e(n){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(n).filter(function(t){return n.propertyIsEnumerable(t)}):[]}function P5(n){return Object.keys(n).concat(A7e(n))}function Aie(n,t){try{return t in n}catch{return!1}}function M7e(n,t){return Aie(n,t)&&!(Object.hasOwnProperty.call(n,t)&&Object.propertyIsEnumerable.call(n,t))}function L7e(n,t,e){n===void 0&&(n={}),t===void 0&&(t={});var r={};return e.isMergeableObject(n)&&P5(n).forEach(function(i){r[i]=W0(n[i],e)}),P5(t).forEach(function(i){M7e(n,i)||(Aie(n,i)&&e.isMergeableObject(t[i])?r[i]=D7e(i,e)(n[i],t[i],e):r[i]=W0(t[i],e))}),r}function F7e(n){return I7e(n)&&!N7e(n)}function I7e(n){return!!n&&typeof n=="object"}function N7e(n){var t=Object.prototype.toString.call(n);return t==="[object RegExp]"||t==="[object Date]"}function Vp(n,t,e){e=e||{},e.arrayMerge=e.arrayMerge||P7e,e.isMergeableObject=e.isMergeableObject||F7e,e.cloneUnlessOtherwiseSpecified=W0;var r=Array.isArray(t),i=Array.isArray(n),o=r===i;return o?r?e.arrayMerge(n,t,e):L7e(n,t,e):W0(t,e)}function Qg(n,t,e){if(n==null)return e;for(var r=t.split("."),i=n;r.length>1;)if(i=i[r.shift()],i==null)return e;var o=i[r[0]];return o??e}function k7e(n,t,e){if(n!=null){var r=t.split("."),i=n;r.forEach(function(o,a){i[o]||(i[o]={}),a<r.length-1&&(i=i[o])}),i[r[r.length-1]]=e}}var U0=function(){return U0=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},U0.apply(this,arguments)};function G7e(n,t){var e,r=n.chartOptionsToRestore,i=n.chartPaletteToRestore,o=n.chartThemeToRestore,a=W7e(n),s=K2(a),l=s?{baseTheme:a}:(e=Mie(n,a))!==null&&e!==void 0?e:{},u=n.getGridOptionsChartThemeOverrides(),c=n.apiChartThemeOverrides,d=Tl(n.chartType),p=z2(d)?d:"cartesian",h=n.crossFiltering?j7e(t,n,p):void 0,f=U0({},r??{}),v=function(){var C=function(S){return S?Object.keys(S).some(function(w){return Qg(S[w],"title.enabled",!1)}):!1};return C(u)||C(c)},g=[s?$7e(n,v()):void 0,h,u,c,f],m=g.filter(function(C){return!!C}).reduce(function(C,S){return{baseTheme:C,overrides:S}},l);if(i&&a===o){var y=Fl.getChartTheme(l).palette;B7e(i,y)||(m.palette=i)}return m}function V7e(n,t){return t.reduce(function(e,r){return r?{baseTheme:e,overrides:r}:e},n)}function B7e(n,t){var e=function(r,i){return r.length!==i.length?!1:r.every(function(o,a){return o===i[a]})};return e(n.fills,t.fills)&&e(n.strokes,t.strokes)}function K2(n){return F.includes(Object.keys(Fl.themes),n)}function j7e(n,t,e){var r,i={listeners:{legendItemClick:function(a){var s=n.getChart();s.series.forEach(function(l){l.toggleSeriesItem(a.itemId,a.enabled),l.toggleSeriesItem("".concat(a.itemId,"-filtered-out"),a.enabled)})}}},o={};return r={},r[e]={tooltip:{delay:500},legend:i,listeners:{click:function(a){return t.crossFilterCallback(a,!0)}},series:o},r}var H7e=Die.reduce(function(n,t){var e;return U0(U0({},n),(e={},e[t]={title:{_enabledFromTheme:!0}},e))},{});function $7e(n,t){var e=n.getExtraPaddingDirections();return{common:{animation:{duration:500},axes:H7e,padding:{top:!t&&e.includes("top")?40:20,right:e.includes("right")?30:20,bottom:e.includes("bottom")?40:20,left:e.includes("left")?30:20}},pie:{series:{title:{_enabledFromTheme:!0},calloutLabel:{_enabledFromTheme:!0},sectorLabel:{enabled:!1,_enabledFromTheme:!0}}},donut:{series:{title:{_enabledFromTheme:!0},calloutLabel:{_enabledFromTheme:!0},sectorLabel:{enabled:!1,_enabledFromTheme:!0}}}}}function W7e(n){var t=n.getChartThemeName(),e=n.getChartThemes();return F.includes(e,t)||(t=e[0]),t}function Mie(n,t){var e=n.customChartThemes,r=e&&e[t];return r||console.warn("AG Grid: no stock theme exists with the name '".concat(t,"' and no ")+"custom chart theme with that name was supplied to 'customChartThemes'"),r}var DN=function(){return DN=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},DN.apply(this,arguments)},eS=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},ug=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},U7e=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},qb=function(n){return function(t){return t==null?!0:n(t)}},D5=function(n){return typeof n=="string"},A5=function(n){return typeof n=="boolean"},z7e=function(n){return typeof n=="object"},Ec=function(n,t){return function(e){return"AG Grid - unable to update chart as invalid params supplied:  `".concat(n,": ").concat(e,"`, expected ").concat(t,".")}},K7e=function(){function n(){}n.isValidChartType=function(e){return n.validChartTypes.includes(e)},n.isLegacyChartType=function(e){return n.legacyChartTypes.includes(e)},n.validateChartParams=function(e){var r=e;switch(r.type){case"rangeChartUpdate":return n.validateUpdateRangeChartParams(e);case"pivotChartUpdate":return n.validateUpdatePivotChartParams(e);case"crossFilterChartUpdate":return n.validateUpdateCrossFilterChartParams(e);default:return console.warn("AG Grid - Invalid value supplied for 'type': ".concat(e.type,". It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.")),!1}},n.validateUpdateRangeChartParams=function(e){var r=ug(ug(ug([],eS(n.commonValidations),!1),eS(n.cellRangeValidations),!1),[{property:"seriesChartTypes",validationFn:function(i){return i===void 0||Array.isArray(i)&&i.every(z7e)},warnMessage:Ec("seriesChartTypes","Array of SeriesChartType")}],!1);return n.validateProperties(e,r,["type","chartId","chartType","chartThemeName","chartThemeOverrides","unlinkChart","cellRange","suppressChartRanges","aggFunc","seriesChartTypes"],"UpdateRangeChartParams")},n.validateUpdatePivotChartParams=function(e){var r=ug([],eS(n.commonValidations),!1);return n.validateProperties(e,r,["type","chartId","chartType","chartThemeName","chartThemeOverrides","unlinkChart"],"UpdatePivotChartParams")},n.validateUpdateCrossFilterChartParams=function(e){var r=ug(ug([],eS(n.commonValidations),!1),eS(n.cellRangeValidations),!1);return n.validateProperties(e,r,["type","chartId","chartType","chartThemeName","chartThemeOverrides","unlinkChart","cellRange","suppressChartRanges","aggFunc"],"UpdateCrossFilterChartParams")},n.validateProperties=function(e,r,i,o){var a,s,l=void 0;try{for(var u=U7e(r),c=u.next();!c.done;c=u.next()){var d=c.value,p=d.property,h=d.validationFn,f=d.warnMessage;if(p in e){var v=e[p],g=h(v);if(g===!0)continue;if(g===!1)return console.warn(f(v)),!1;l=l||DN({},e),l[p]=g}}}catch(m){a={error:m}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}for(var p in e)if(!i.includes(p))return console.warn("AG Grid - Unexpected property supplied. ".concat(o," does not contain: `").concat(p,"`.")),!1;return l||!0};var t;return t=n,n.validChartTypes=["column","groupedColumn","stackedColumn","normalizedColumn","bar","groupedBar","stackedBar","normalizedBar","line","scatter","bubble","pie","donut","area","stackedArea","normalizedArea","histogram","radialColumn","radialBar","radarLine","radarArea","nightingale","rangeBar","rangeArea","boxPlot","treemap","sunburst","heatmap","waterfall","columnLineCombo","areaColumnCombo","customCombo"],n.legacyChartTypes=["doughnut"],n.validateChartType=qb(function(e){if(t.isValidChartType(e))return!0;if(t.isLegacyChartType(e)){var r=$0(e);return console.warn("AG Grid - The chart type '".concat(e,"' has been deprecated. Please use '").concat(r,"' instead.")),r}return!1}),n.validateAgChartThemeOverrides=qb(function(e){return typeof e=="object"}),n.validateChartParamsCellRange=qb(function(e){return typeof e=="object"}),n.validateAggFunc=qb(function(e){return typeof e=="string"||typeof e=="function"}),n.commonValidations=[{property:"chartId",validationFn:D5,warnMessage:Ec("chartId","string")},{property:"chartType",validationFn:n.validateChartType,warnMessage:Ec("chartType",n.validChartTypes.join(", "))},{property:"chartThemeName",validationFn:D5,warnMessage:Ec("chartThemeName","string")},{property:"chartThemeOverrides",validationFn:n.validateAgChartThemeOverrides,warnMessage:Ec("chartThemeOverrides","AgChartThemeOverrides")},{property:"unlinkChart",validationFn:A5,warnMessage:Ec("unlinkChart","boolean")}],n.cellRangeValidations=[{property:"cellRange",validationFn:n.validateChartParamsCellRange,warnMessage:Ec("cellRange","ChartParamsCellRange")},{property:"suppressChartRanges",validationFn:A5,warnMessage:Ec("suppressChartRanges","boolean")},{property:"aggFunc",validationFn:n.validateAggFunc,warnMessage:Ec("aggFunc","string or IAggFunc")}],n}(),Y7e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),AN=function(){return AN=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},AN.apply(this,arguments)},M5=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},q7e=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Lie=["ag-default","ag-material","ag-sheets","ag-polychroma","ag-vivid"],Il=function(n){Y7e(t,n);function t(e){var r=n.call(this)||this;return r.model=e,r.isEnterprise=function(){return U2.enterpriseModule.isEnterprise},r}return t.prototype.init=function(){var e=this;this.setChartRange(),this.addManagedListener(this.eventService,M.EVENT_RANGE_SELECTION_CHANGED,function(r){r.id&&r.id===e.model.chartId&&e.updateForRangeChange()}),this.model.unlinked&&this.rangeService&&this.rangeService.setCellRanges([]),this.addManagedListener(this.eventService,M.EVENT_COLUMN_MOVED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PINNED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VISIBLE,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,M.EVENT_MODEL_UPDATED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,M.EVENT_CELL_VALUE_CHANGED,this.updateForDataChange.bind(this))},t.prototype.update=function(e){if(!this.validUpdateType(e))return!1;var r=K7e.validateChartParams(e);if(!r)return!1;var i=r===!0?e:r;return this.applyValidatedChartParams(i),!0},t.prototype.applyValidatedChartParams=function(e){var r,i,o,a,s,l,u,c=e.chartId,d=e.chartType,p=e.chartThemeName,h=e.unlinkChart,f={chartId:c,pivotChart:this.model.pivotChart,chartType:d??this.model.chartType,chartThemeName:p??this.model.chartThemeName,unlinkChart:h??this.model.unlinked,cellRange:this.model.suppliedCellRange,aggFunc:this.model.aggFunc,seriesChartTypes:void 0,suppressChartRanges:!1,crossFiltering:!1},v=AN({},f);switch(e.type){case"rangeChartUpdate":v.cellRange=(r=this.createCellRange(e))!==null&&r!==void 0?r:this.model.suppliedCellRange,v.aggFunc=(i=e.aggFunc)!==null&&i!==void 0?i:this.model.aggFunc,v.seriesChartTypes=e.seriesChartTypes,v.suppressChartRanges=(o=e.suppressChartRanges)!==null&&o!==void 0?o:this.model.suppressChartRanges;break;case"crossFilterChartUpdate":v.cellRange=(a=this.createCellRange(e))!==null&&a!==void 0?a:this.model.suppliedCellRange,v.aggFunc=(s=e.aggFunc)!==null&&s!==void 0?s:this.model.aggFunc,v.crossFiltering=!0,v.suppressChartRanges=(l=e.suppressChartRanges)!==null&&l!==void 0?l:this.model.suppressChartRanges;break}this.model.updateModel(v);var g=v.unlinkChart||v.suppressChartRanges;g?(u=this.rangeService)===null||u===void 0||u.setCellRanges([]):this.setChartRange()},t.prototype.updateForGridChange=function(){this.model.unlinked||(this.model.updateCellRanges(),this.model.updateData(),this.setChartRange())},t.prototype.updateForDataChange=function(){this.model.unlinked||(this.model.updateData(),this.raiseChartModelUpdateEvent())},t.prototype.updateForRangeChange=function(){this.updateForGridChange(),this.raiseChartRangeSelectionChangedEvent()},t.prototype.updateForPanelChange=function(e){this.model.updateCellRanges(e),this.model.updateData(),this.setChartRange(),this.raiseChartRangeSelectionChangedEvent()},t.prototype.getChartUpdateParams=function(e){var r=this,i=this.getSelectedValueColState(),o=i.map(function(l){return{colId:l.colId,displayName:l.displayName}}),a=this.getChartData(),s=this.getSelectedDimensions();return{data:a,grouping:this.isGrouping(),categories:s.map(function(l){return{id:l.colId,name:l.displayName,chartDataType:r.model.getChartDataType(l.colId)}}),fields:o,chartId:this.getChartId(),getCrossFilteringContext:function(){return{lastSelectedChartId:"xxx"}},seriesChartTypes:this.getSeriesChartTypes(),updatedOverrides:e}},t.prototype.getChartModel=function(){var e=this.model.pivotChart?"pivot":"range",r=this.isComboChart()?this.model.comboChartModel.seriesChartTypes:void 0;return{modelType:e,chartId:this.model.chartId,chartType:this.model.chartType,chartThemeName:this.getChartThemeName(),chartOptions:this.chartProxy.getChartThemeOverrides(),chartPalette:this.chartProxy.getChartPalette(),cellRange:this.getCellRangeParams(),suppressChartRanges:this.model.suppressChartRanges,aggFunc:this.model.aggFunc,unlinkChart:this.model.unlinked,seriesChartTypes:r}},t.prototype.getChartId=function(){return this.model.chartId},t.prototype.getChartData=function(){return this.model.chartData},t.prototype.getChartType=function(){return this.model.chartType},t.prototype.setChartType=function(e){var r,i,o=this.model.chartType;if(wp(o)&&!wp(e)){var a=!1;try{for(var s=q7e(this.model.dimensionColState),l=s.next();!l.done;l=s.next()){var u=l.value;u.selected&&(a&&(u.selected=!1),a=!0)}}catch(c){r={error:c}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}this.model.chartType=e,this.model.comboChartModel.updateSeriesChartTypes(),this.raiseChartModelUpdateEvent(),this.raiseChartOptionsChangedEvent()},t.prototype.setChartThemeName=function(e,r){this.model.chartThemeName=e,r||(this.raiseChartModelUpdateEvent(),this.raiseChartOptionsChangedEvent())},t.prototype.getChartThemeName=function(){return this.model.chartThemeName},t.prototype.isPivotChart=function(){return this.model.pivotChart},t.prototype.isPivotMode=function(){return this.model.isPivotMode()},t.prototype.isGrouping=function(){return this.model.isGrouping()},t.prototype.isCrossFilterChart=function(){return this.model.crossFiltering},t.prototype.getThemeNames=function(){return this.gridOptionsService.get("chartThemes")||Lie},t.prototype.getThemes=function(){var e=this,r=this.getThemeNames();return r.map(function(i){var o=K2(i),a=o?i:e.chartProxy.lookupCustomChartTheme(i);return Fl.getChartTheme(a)})},t.prototype.getPalettes=function(){var e=this.getThemes();return e.map(function(r){return r.palette})},t.prototype.getThemeTemplateParameters=function(){var e=this.getThemes();return e.map(function(r){return r.getTemplateParameters()})},t.prototype.getValueColState=function(){return this.model.valueColState.map(this.displayNameMapper.bind(this))},t.prototype.getSelectedValueColState=function(){return this.getValueColState().filter(function(e){return e.selected})},t.prototype.getSelectedDimensions=function(){return this.model.getSelectedDimensions()},t.prototype.displayNameMapper=function(e){var r=this.model.columnNames[e.colId];return e.displayName=r?r.join(" - "):this.model.getColDisplayName(e.column),e},t.prototype.getColStateForMenu=function(){return{dimensionCols:this.model.dimensionColState,valueCols:this.getValueColState()}},t.prototype.setChartRange=function(e){e===void 0&&(e=!1),this.rangeService&&!this.model.suppressChartRanges&&!this.model.unlinked&&this.rangeService.setCellRanges(this.getCellRanges()),e||this.raiseChartModelUpdateEvent()},t.prototype.detachChartRange=function(){this.model.unlinked=!this.model.unlinked,this.model.unlinked?this.rangeService&&this.rangeService.setCellRanges([]):this.updateForGridChange()},t.prototype.setChartProxy=function(e){this.chartProxy=e},t.prototype.getChartProxy=function(){return this.chartProxy},t.prototype.isActiveXYChart=function(){return F.includes(["scatter","bubble"],this.getChartType())},t.prototype.isChartLinked=function(){return!this.model.unlinked},t.prototype.customComboExists=function(){var e=this.model.comboChartModel.savedCustomSeriesChartTypes;return e&&e.length>0},t.prototype.getSeriesChartTypes=function(){return this.model.comboChartModel.seriesChartTypes},t.prototype.isComboChart=function(){return this.model.isComboChart()},t.prototype.updateSeriesChartType=function(e,r,i){var o=this.model.comboChartModel.seriesChartTypes.find(function(l){return l.colId===e});if(o){var a=this.model.chartType!=="customCombo";a&&(this.model.chartType="customCombo");var s=o.chartType;r!=null&&(o.chartType=r),i!=null&&(o.secondaryAxis=i),this.model.comboChartModel.savedCustomSeriesChartTypes=this.model.comboChartModel.seriesChartTypes,this.model.comboChartModel.updateSeriesChartTypes(),this.updateForDataChange(),a&&this.dispatchEvent({type:t.EVENT_CHART_TYPE_CHANGED}),s!==r&&this.dispatchEvent({type:t.EVENT_CHART_SERIES_CHART_TYPE_CHANGED}),this.raiseChartOptionsChangedEvent()}},t.prototype.getActiveSeriesChartTypes=function(){var e=this.getSelectedValueColState().map(function(r){return r.colId});return this.getSeriesChartTypes().filter(function(r){return e.includes(r.colId)})},t.prototype.getChartSeriesTypes=function(){var e=["line","bar","area"];return this.isComboChart()?e:[Tl(this.getChartType())]},t.prototype.getCellRanges=function(){return[this.model.dimensionCellRange,this.model.valueCellRange].filter(function(e){return e})},t.prototype.createCellRange=function(e){var r;return e.cellRange&&((r=this.rangeService)===null||r===void 0?void 0:r.createCellRangeFromCellRangeParams(e.cellRange))},t.prototype.validUpdateType=function(e){var r=this,i;if(!e.type)return console.warn("AG Grid - Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'."),!1;var o={"Range Chart":function(){return!r.isPivotChart()&&!r.isCrossFilterChart()},"Pivot Chart":function(){return r.isPivotChart()},"Cross Filter Chart":function(){return r.isCrossFilterChart()}},a=(i=Object.keys(o).find(function(l){return o[l]()}))!==null&&i!==void 0?i:"Range Chart",s=e.type==="".concat(a[0].toLowerCase()).concat(a.slice(1).replace(/ /g,""),"Update");return s||console.warn("AG Grid - Unable to update chart as a '".concat(e.type,"' update type is not permitted on a ").concat(a,".")),s},t.prototype.getCellRangeParams=function(){var e=this.getCellRanges(),r=e[0],i=r&&r.startRow||null,o=r&&r.endRow||null;return{rowStartIndex:i&&i.rowIndex,rowStartPinned:i&&i.rowPinned,rowEndIndex:o&&o.rowIndex,rowEndPinned:o&&o.rowPinned,columns:e.reduce(function(a,s){return a.concat(s.columns.map(function(l){return l.getId()}))},[])}},t.prototype.raiseChartModelUpdateEvent=function(){var e={type:t.EVENT_CHART_MODEL_UPDATE};this.dispatchEvent(e)},t.prototype.raiseChartUpdatedEvent=function(){var e={type:t.EVENT_CHART_UPDATED};this.dispatchEvent(e)},t.prototype.raiseChartApiUpdateEvent=function(){var e={type:t.EVENT_CHART_API_UPDATE};this.dispatchEvent(e)},t.prototype.raiseChartOptionsChangedEvent=function(){var e=this.getChartModel(),r=e.chartId,i=e.chartType,o={type:M.EVENT_CHART_OPTIONS_CHANGED,chartId:r,chartType:i,chartThemeName:this.getChartThemeName(),chartOptions:this.chartProxy.getChartThemeOverrides()};this.eventService.dispatchEvent(o)},t.prototype.raiseChartRangeSelectionChangedEvent=function(){var e={type:M.EVENT_CHART_RANGE_SELECTION_CHANGED,id:this.model.chartId,chartId:this.model.chartId,cellRange:this.getCellRangeParams()};this.eventService.dispatchEvent(e)},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.rangeService&&this.rangeService.setCellRanges([])},t.EVENT_CHART_UPDATED="chartUpdated",t.EVENT_CHART_API_UPDATE="chartApiUpdate",t.EVENT_CHART_MODEL_UPDATE="chartModelUpdate",t.EVENT_CHART_TYPE_CHANGED="chartTypeChanged",t.EVENT_CHART_SERIES_CHART_TYPE_CHANGED="chartSeriesChartTypeChanged",M5([O("rangeService")],t.prototype,"rangeService",void 0),M5([q],t.prototype,"init",null),t}(re),X7e=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),tF=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Xb=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Zb=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},Z7e=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Q7e={groups:[{type:"categories",isOpen:!0},{type:"series",isOpen:!0},{type:"seriesChartType",isOpen:!0}]},J7e=function(n){X7e(t,n);function t(e,r){var i=n.call(this,t.TEMPLATE)||this;return i.chartController=e,i.chartOptionsService=r,i.columnComps=new Map,i}return t.prototype.init=function(){this.updatePanels(),this.addManagedListener(this.chartController,Il.EVENT_CHART_MODEL_UPDATE,this.updatePanels.bind(this)),this.addManagedListener(this.chartController,Il.EVENT_CHART_API_UPDATE,this.updatePanels.bind(this)),this.createAutoScrollService()},t.prototype.destroy=function(){this.clearComponents(),n.prototype.destroy.call(this)},t.prototype.updatePanels=function(){var e=this,r,i,o=this.chartType,a=this.chartController.getColStateForMenu(),s=a.dimensionCols,l=a.valueCols,u=s.map(function(h){return h.colId}).concat(l.map(function(h){return h.colId}));this.chartType=this.chartController.getChartType();var c=this.getGroupExpandedState();if(F.areEqual(F.keys(this.columnComps),u)&&this.chartType===o){if(Zb(Zb([],Xb(s),!1),Xb(l),!1).forEach(function(h){e.columnComps.get(h.colId).setValue(h.selected,!0)}),this.chartController.isActiveXYChart()){var d=this.generateGetSeriesLabel();l.forEach(function(h){e.columnComps.get(h.colId).setLabel(d(h))})}F.removeFromParent(this.getGui().querySelector("#seriesChartTypeGroup")),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp);var p=(r=this.getDataPanelDef().groups)===null||r===void 0?void 0:r.reduce(function(h,f,v){var g=f.type;return g==="seriesChartType"?v:h},-1);p!==-1&&this.createSeriesChartTypeGroup(l,p)}else this.clearComponents(),(i=this.getDataPanelDef().groups)===null||i===void 0||i.forEach(function(h){var f=h.type;f==="categories"?e.createCategoriesGroup(s):f==="series"?e.createSeriesGroup(l):f==="seriesChartType"?e.createSeriesChartTypeGroup(l):console.warn("AG Grid: invalid charts data panel group name supplied: '".concat(f,"'"))});this.restoreGroupExpandedState(c)},t.prototype.getGroupExpandedState=function(){var e=this,r=[{groupType:"categories",comp:this.categoriesGroupComp},{groupType:"series",comp:this.seriesGroupComp},{groupType:"seriesChartType",comp:this.seriesChartTypeGroupComp}];return r.map(function(i){var o,a,s=i.groupType,l=i.comp,u=!!(!((a=(o=e.getDataPanelDef().groups)===null||o===void 0?void 0:o.find(function(c){var d=c.type;return d===s}))===null||a===void 0)&&a.isOpen);return l?l.isExpanded():u})},t.prototype.restoreGroupExpandedState=function(e){[this.categoriesGroupComp,this.seriesGroupComp,this.seriesChartTypeGroupComp].forEach(function(r,i){r&&r.toggleGroupExpand(e[i])})},t.prototype.createAutoScrollService=function(){var e=this.getGui();this.autoScrollService=new b_({scrollContainer:e,scrollAxis:"y",getVerticalPosition:function(){return e.scrollTop},setVerticalPosition:function(r){return e.scrollTop=r}})},t.prototype.createComponent=function(e,r){var i=document.createElement("div");return i.id=r,i.className="ag-chart-data-section",i.appendChild(e.getGui()),i},t.prototype.addComponent=function(e,r,i){var o=this.createComponent(r,i);e.appendChild(o)},t.prototype.addComponentAtIndex=function(e,r,i,o){var a=this.createComponent(r,i);e.insertBefore(a,e.children[o])},t.prototype.addChangeListener=function(e,r){var i=this;this.addManagedListener(e,M.EVENT_FIELD_VALUE_CHANGED,function(){r.selected=e.getValue(),i.chartController.updateForPanelChange(r)})},t.prototype.createCategoriesGroup=function(e){var r=this;this.categoriesGroupComp=this.createBean(new Ls({title:this.getCategoryGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var i="chartDimension".concat(this.categoriesGroupComp.getCompId()),o=this.chartController.getChartType(),a=wp(o);if(e.forEach(function(u){var c=r.categoriesGroupComp.createManagedBean(a?function(){var d=new jc;return d.addCssClass("ag-data-select-checkbox"),d}():new lD);c.setLabel(F.escapeString(u.displayName)),c.setValue(u.selected),c.setInputName(i),r.addChangeListener(c,u),r.categoriesGroupComp.addItem(c),r.columnComps.set(u.colId,c),a&&r.addDragHandle(c,u)}),this.addComponent(this.getGui(),this.categoriesGroupComp,"categoriesGroup"),a){var s=this.categoriesGroupComp.getGui(),l={getIconName:function(){return Wt.ICON_MOVE},getContainer:function(){return s},onDragging:function(u){return r.onDragging(u)},onDragLeave:function(){return r.onDragLeave()},isInterestedIn:this.isInterestedIn.bind(this),targetContainsSource:!0};this.dragAndDropService.addDropTarget(l),this.addDestroyFunc(function(){return r.dragAndDropService.removeDropTarget(l)})}},t.prototype.createSeriesGroup=function(e){var r=this;if(this.seriesGroupComp=this.createManagedBean(new Ls({title:this.getSeriesGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"})),this.chartController.isActiveXYChart()){var i=this.seriesGroupComp.createManagedBean(new hD);i.setLabel(this.chartTranslationService.translate("paired")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth("flex").setValue(this.chartOptionsService.getPairedMode()).onValueChange(function(u){r.chartOptionsService.setPairedMode(!!u),r.chartController.updateForGridChange()}),this.seriesGroupComp.addItem(i)}var o=this.generateGetSeriesLabel();e.forEach(function(u){var c=r.seriesGroupComp.createManagedBean(new jc);c.addCssClass("ag-data-select-checkbox");var d=o(u);c.setLabel(d),c.setValue(u.selected),r.addChangeListener(c,u),r.seriesGroupComp.addItem(c),r.columnComps.set(u.colId,c),r.addDragHandle(c,u)});var a=this.getGui(),s=this.seriesGroupComp.getGui();this.addComponent(a,this.seriesGroupComp,"seriesGroup");var l={getIconName:function(){return Wt.ICON_MOVE},getContainer:function(){return s},onDragging:function(u){return r.onDragging(u)},onDragLeave:function(){return r.onDragLeave()},isInterestedIn:this.isInterestedIn.bind(this),targetContainsSource:!0};this.dragAndDropService.addDropTarget(l),this.addDestroyFunc(function(){return r.dragAndDropService.removeDropTarget(l)})},t.prototype.createSeriesChartTypeGroup=function(e,r){var i=this;if(this.chartController.isComboChart()){this.seriesChartTypeGroupComp=this.createManagedBean(new Ls({title:this.chartTranslationService.translate("seriesChartType"),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var o=this.chartController.getSeriesChartTypes();e.forEach(function(a){if(a.selected){var s=o.filter(function(h){return h.colId===a.colId})[0];if(s){var l=i.seriesChartTypeGroupComp.createManagedBean(new Ls({title:a.displayName,enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-format-sub-level"})),u=i.seriesChartTypeGroupComp.createManagedBean(new jc).setLabel(i.chartTranslationService.translate("secondaryAxis")).setLabelWidth("flex").setDisabled(["groupedColumn","stackedColumn","stackedArea"].includes(s.chartType)).setValue(!!s.secondaryAxis).onValueChange(function(h){return i.chartController.updateSeriesChartType(a.colId,void 0,h)});l.addItem(u);var c=function(h,f){return i.chartTranslationService.translate(h,f)},d=[{value:"line",text:c("line","Line")},{value:"area",text:c("area","Area")},{value:"stackedArea",text:c("stackedArea","StackedArea")},{value:"groupedColumn",text:c("groupedColumn","Grouped Column")},{value:"stackedColumn",text:c("stackedColumn","Stacked Column")}],p=l.createManagedBean(new Qu);p.setLabelAlignment("left").setLabelWidth("flex").addOptions(d).setValue(s.chartType).onValueChange(function(h){return i.chartController.updateSeriesChartType(a.colId,h)}),l.addItem(p),i.seriesChartTypeGroupComp.addItem(l)}}}),r===void 0?this.addComponent(this.getGui(),this.seriesChartTypeGroupComp,"seriesChartTypeGroup"):this.addComponentAtIndex(this.getGui(),this.seriesChartTypeGroupComp,"seriesChartTypeGroup",r)}},t.prototype.addDragHandle=function(e,r){var i=this,o=F.createIconNoSpan("columnDrag",this.gridOptionsService);o.classList.add("ag-drag-handle","ag-chart-data-column-drag-handle"),e.getGui().insertAdjacentElement("beforeend",o);var a={type:on.ChartPanel,eElement:o,dragItemName:r.displayName,getDragItem:function(){return{columns:[r.column]}},onDragStopped:function(){return i.onDragStop()}};this.dragAndDropService.addDragSource(a,!0),this.addDestroyFunc(function(){return i.dragAndDropService.removeDragSource(a)})},t.prototype.generateGetSeriesLabel=function(){if(!this.chartController.isActiveXYChart())return function(a){return F.escapeString(a.displayName)};var e=this.chartType==="bubble",r=this.isInPairedMode(),i=0,o=new Map;return o.set(0,"X"),o.set(1,"Y"),o.set(2,"size"),function(a){var s=F.escapeString(a.displayName);if(!a.selected)return s;var l;return r?l=o.get(i%(e?3:2)):i===0?l="X":l=e&&i%2===0?"size":"Y",i++,"".concat(s," (").concat(l,")")}},t.prototype.getCategoryGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"labels":"categories")},t.prototype.getSeriesGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"xyValues":"series")},t.prototype.getDataPanelDef=function(){var e,r=(e=this.gridOptionsService.get("chartToolPanelsDef"))===null||e===void 0?void 0:e.dataPanel;return r||Q7e},t.prototype.isInPairedMode=function(){return this.chartController.isActiveXYChart()&&this.chartOptionsService.getSeriesOption("paired","scatter")},t.prototype.clearComponents=function(){F.clearElement(this.getGui()),this.categoriesGroupComp=this.destroyBean(this.categoriesGroupComp),this.seriesGroupComp=this.destroyBean(this.seriesGroupComp),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp),this.columnComps.clear()},t.prototype.onDragging=function(e){var r=this.checkHoveredItem(e);if(r){this.lastDraggedColumn=e.dragItem.columns[0];var i=r.comp,o=r.position,a=this.lastHoveredItem||{},s=a.comp,l=a.position;if(!(i===s&&o===l)){this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredItem={comp:i,position:o};var u=i.getGui();u.classList.add("ag-list-item-hovered","ag-item-highlight-".concat(o))}}},t.prototype.checkHoveredItem=function(e){var r,i;if(F.missing(e.vDirection))return null;var o=e.event;try{for(var a=Z7e(this.columnComps.values()),s=a.next();!s.done;s=a.next()){var l=s.value,u=l.getGui();if(u.querySelector(".ag-chart-data-column-drag-handle")){var c=u.getBoundingClientRect(),d=o.clientY>=c.top&&o.clientY<=c.bottom;if(d){var p=u.clientHeight,h=o.clientY>c.top+p/2?"bottom":"top";return{comp:l,position:h}}}}}catch(f){r={error:f}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return null},t.prototype.onDragLeave=function(){this.clearHoveredItems()},t.prototype.onDragStop=function(){var e=this;if(this.lastHoveredItem){var r=this.chartController.getColStateForMenu(),i=r.dimensionCols,o=r.valueCols,a=Zb(Zb([],Xb(i),!1),Xb(o),!1).find(function(l){return l.column===e.lastDraggedColumn});if(a){var s=Array.from(this.columnComps.values()).indexOf(this.lastHoveredItem.comp);this.lastHoveredItem.position==="bottom"&&s++,a.order=s,this.chartController.updateForPanelChange(a)}}this.clearHoveredItems(),this.lastDraggedColumn=void 0,this.autoScrollService.ensureCleared()},t.prototype.clearHoveredItems=function(){this.columnComps.forEach(function(e){e.getGui().classList.remove("ag-list-item-hovered","ag-item-highlight-top","ag-item-highlight-bottom")}),this.lastHoveredItem=void 0},t.prototype.isInterestedIn=function(e){return e===on.ChartPanel},t.TEMPLATE='<div class="ag-chart-data-wrapper ag-scrollable-container"></div>',tF([O("dragAndDropService")],t.prototype,"dragAndDropService",void 0),tF([O("chartTranslationService")],t.prototype,"chartTranslationService",void 0),tF([q],t.prototype,"init",null),t}(Ce),eqe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Bh=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},th=function(n){eqe(t,n);function t(e){var r=n.call(this)||this;return r.activeComps=[],r.params=e,r}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0};this.setTemplate(t.TEMPLATE,{fontGroup:e}),this.initGroup(),this.initFontFamilySelect(),this.initFontWeightStyleSelect(),this.initFontSizeSelect(),this.initFontColorPicker()},t.prototype.addCompToPanel=function(e){this.fontGroup.addItem(e),this.activeComps.push(e)},t.prototype.setEnabled=function(e){this.fontGroup.setEnabled(e)},t.prototype.initGroup=function(){var e=this;this.fontGroup.setTitle(this.params.name||this.chartTranslationService.translate("font")).setEnabled(this.params.enabled).hideEnabledCheckbox(!!this.params.suppressEnabledCheckbox).hideOpenCloseIcons(!0).onEnableChange(function(r){e.params.setEnabled&&e.params.setEnabled(r)})},t.prototype.initFontFamilySelect=function(){var e=this,r=["Arial, sans-serif","Aria Black, sans-serif","Book Antiqua,  serif","Charcoal, sans-serif","Comic Sans MS, cursive","Courier, monospace","Courier New, monospace","Gadget, sans-serif","Geneva, sans-serif","Helvetica, sans-serif","Impact, sans-serif","Lucida Console, monospace","Lucida Grande, sans-serif","Lucida Sans Unicode,  sans-serif","Monaco, monospace","Palatino Linotype, serif","Palatino, serif","Times New Roman, serif","Times, serif","Verdana, sans-serif"],i=this.params.initialFont.family,o=r[0];if(i){var a=r.map(function(c){return c.toLowerCase()}),s=a.indexOf(i.toLowerCase());if(s>=0)o=r[s];else{var l=F.capitalise(i);r.push(l),o=l}}var u=r.sort().map(function(c){return{value:c,text:c}});this.familySelect.addOptions(u).setInputWidth("flex").setValue("".concat(o)).onValueChange(function(c){return e.params.setFont({family:c})})},t.prototype.initFontSizeSelect=function(){var e=this,r=[8,10,12,14,16,18,20,22,24,26,28,30,32,34,36],i=this.params.initialFont.size;F.includes(r,i)||r.push(i);var o=r.sort(function(a,s){return a-s}).map(function(a){return{value:"".concat(a),text:"".concat(a)}});this.sizeSelect.addOptions(o).setInputWidth("flex").setValue("".concat(i)).onValueChange(function(a){return e.params.setFont({size:parseInt(a,10)})}),this.sizeSelect.setLabel(this.chartTranslationService.translate("size"))},t.prototype.initFontWeightStyleSelect=function(){var e=this,r=this.params.initialFont,i=r.weight,o=i===void 0?"normal":i,a=r.style,s=a===void 0?"normal":a,l=[{name:"normal",weight:"normal",style:"normal"},{name:"bold",weight:"bold",style:"normal"},{name:"italic",weight:"normal",style:"italic"},{name:"boldItalic",weight:"bold",style:"italic"}],u=l.find(function(d){return d.weight===o&&d.style===s});u||(u={name:"predefined",weight:o,style:s},l.unshift(u));var c=l.map(function(d){return{value:d.name,text:e.chartTranslationService.translate(d.name)}});this.weightStyleSelect.addOptions(c).setInputWidth("flex").setValue(u.name).onValueChange(function(d){var p=l.find(function(h){return h.name===d});e.params.setFont({weight:p.weight,style:p.style})})},t.prototype.initFontColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setInputWidth("flex").setValue("".concat(this.params.initialFont.color)).onValueChange(function(r){return e.params.setFont({color:r})})},t.prototype.addItemToPanel=function(e){this.fontGroup.addItem(e),this.activeComps.push(e)},t.prototype.destroyActiveComps=function(){var e=this;this.activeComps.forEach(function(r){F.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActiveComps(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div class="ag-font-panel">
            <ag-group-component ref="fontGroup">
                <ag-select ref="familySelect"></ag-select>
                <ag-select ref="weightStyleSelect"></ag-select>
                <div class="ag-charts-font-size-color">
                    <ag-select ref="sizeSelect"></ag-select>
                    <ag-color-picker ref="colorPicker"></ag-color-picker>
                </div>
            </ag-group-component>
        </div>`,Bh([U("fontGroup")],t.prototype,"fontGroup",void 0),Bh([U("familySelect")],t.prototype,"familySelect",void 0),Bh([U("weightStyleSelect")],t.prototype,"weightStyleSelect",void 0),Bh([U("sizeSelect")],t.prototype,"sizeSelect",void 0),Bh([U("colorPicker")],t.prototype,"colorPicker",void 0),Bh([O("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Bh([q],t.prototype,"init",null),t}(Ce),tqe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),au=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},rqe=function(n){tqe(t,n);function t(e){var r=e.chartOptionsService,i=e.isExpandedOnInit,o=i===void 0?!1:i,a=n.call(this)||this;return a.activePanels=[],a.chartOptionsService=r,a.isExpandedOnInit=o,a}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-top-level",direction:"vertical"};this.setTemplate(t.TEMPLATE,{legendGroup:e}),this.initLegendGroup(),this.initLegendPosition(),this.initLegendPadding(),this.initLegendItems(),this.initLabelPanel()},t.prototype.initLegendGroup=function(){var e=this;this.legendGroup.setTitle(this.chartTranslationService.translate("legend")).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("legend.enabled")||!1).toggleGroupExpand(this.isExpandedOnInit).onEnableChange(function(r){e.chartOptionsService.setChartOption("legend.enabled",r),e.legendGroup.toggleGroupExpand(!0)})},t.prototype.initLegendPosition=function(){var e=this,r=["top","right","bottom","left"];this.legendPositionSelect.setLabel(this.chartTranslationService.translate("position")).setLabelWidth("flex").setInputWidth("flex").addOptions(r.map(function(i){return{value:i,text:e.chartTranslationService.translate(i)}})).setValue(this.chartOptionsService.getChartOption("legend.position")).onValueChange(function(i){return e.chartOptionsService.setChartOption("legend.position",i)})},t.prototype.initLegendPadding=function(){var e=this,r=this.chartOptionsService.getChartOption("legend.spacing");this.legendPaddingSlider.setLabel(this.chartTranslationService.translate("spacing")).setMaxValue(Xn(r,200)).setValue("".concat(r)).setTextFieldWidth(45).onValueChange(function(i){return e.chartOptionsService.setChartOption("legend.spacing",i)})},t.prototype.initLegendItems=function(){var e=this,r=function(i,o,a,s){var l,u=(l=e.chartOptionsService.getChartOption("legend.".concat(i)))!==null&&l!==void 0?l:0;a.setLabel(e.chartTranslationService.translate(o)).setMaxValue(Xn(u,s)).setValue("".concat(u)).setTextFieldWidth(45).onValueChange(function(c){e.chartOptionsService.setChartOption("legend.".concat(i),c)})};r("item.marker.size","markerSize",this.markerSizeSlider,40),r("item.marker.strokeWidth","markerStroke",this.markerStrokeSlider,10),r("item.marker.padding","itemSpacing",this.markerPaddingSlider,20),r("item.paddingX","layoutHorizontalSpacing",this.itemPaddingXSlider,50),r("item.paddingY","layoutVerticalSpacing",this.itemPaddingYSlider,50)},t.prototype.initLabelPanel=function(){var e=this,r=this.chartOptionsService,i={family:r.getChartOption("legend.item.label.fontFamily"),style:r.getChartOption("legend.item.label.fontStyle"),weight:r.getChartOption("legend.item.label.fontWeight"),size:r.getChartOption("legend.item.label.fontSize"),color:r.getChartOption("legend.item.label.color")},o=function(l){var u=e.chartOptionsService;l.family&&u.setChartOption("legend.item.label.fontFamily",l.family),l.weight&&u.setChartOption("legend.item.label.fontWeight",l.weight),l.style&&u.setChartOption("legend.item.label.fontStyle",l.style),l.size&&u.setChartOption("legend.item.label.fontSize",l.size),l.color&&u.setChartOption("legend.item.label.color",l.color)},a={enabled:!0,suppressEnabledCheckbox:!0,initialFont:i,setFont:o},s=this.createBean(new th(a));this.legendGroup.addItem(s),this.activePanels.push(s)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){F.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div>
            <ag-group-component ref="legendGroup">
                <ag-select ref="legendPositionSelect"></ag-select>
                <ag-slider ref="legendPaddingSlider"></ag-slider>
                <ag-slider ref="markerSizeSlider"></ag-slider>
                <ag-slider ref="markerStrokeSlider"></ag-slider>
                <ag-slider ref="markerPaddingSlider"></ag-slider>
                <ag-slider ref="itemPaddingXSlider"></ag-slider>
                <ag-slider ref="itemPaddingYSlider"></ag-slider>
            </ag-group-component>
        </div>`,au([U("legendGroup")],t.prototype,"legendGroup",void 0),au([U("legendPositionSelect")],t.prototype,"legendPositionSelect",void 0),au([U("legendPaddingSlider")],t.prototype,"legendPaddingSlider",void 0),au([U("markerSizeSlider")],t.prototype,"markerSizeSlider",void 0),au([U("markerStrokeSlider")],t.prototype,"markerStrokeSlider",void 0),au([U("markerPaddingSlider")],t.prototype,"markerPaddingSlider",void 0),au([U("itemPaddingXSlider")],t.prototype,"itemPaddingXSlider",void 0),au([U("itemPaddingYSlider")],t.prototype,"itemPaddingYSlider",void 0),au([O("chartTranslationService")],t.prototype,"chartTranslationService",void 0),au([q],t.prototype,"init",null),t}(Ce),nqe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),cg=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},iqe=function(n){nqe(t,n);function t(e){var r=n.call(this)||this;return r.chartOptionsService=e,r}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0};this.setTemplate(t.TEMPLATE,{axisTicksGroup:e}),this.initAxisTicks()},t.prototype.initAxisTicks=function(){var e=this;this.axisTicksGroup.setTitle(this.chartTranslationService.translate("ticks")).setEnabled(this.chartOptionsService.getAxisProperty("tick.enabled")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(i){return e.chartOptionsService.setAxisProperty("tick.enabled",i)}),this.axisTicksColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth("flex").setValue(this.chartOptionsService.getAxisProperty("tick.color")).onValueChange(function(i){return e.chartOptionsService.setAxisProperty("tick.color",i)});var r=function(i,o,a,s){var l=e.chartOptionsService.getAxisProperty(i);o.setLabel(a).setMaxValue(Xn(l,s)).setValue("".concat(l)).setTextFieldWidth(45).onValueChange(function(u){return e.chartOptionsService.setAxisProperty(i,u)})};r("tick.width",this.axisTicksWidthSlider,this.chartTranslationService.translate("width"),10),r("tick.size",this.axisTicksSizeSlider,this.chartTranslationService.translate("length"),30)},t.TEMPLATE=`<div>
            <ag-group-component ref="axisTicksGroup">
                <ag-color-picker ref="axisTicksColorPicker"></ag-color-picker>
                <ag-slider ref="axisTicksWidthSlider"></ag-slider>
                <ag-slider ref="axisTicksSizeSlider"></ag-slider>
            </ag-group-component>
        </div>`,cg([U("axisTicksGroup")],t.prototype,"axisTicksGroup",void 0),cg([U("axisTicksColorPicker")],t.prototype,"axisTicksColorPicker",void 0),cg([U("axisTicksWidthSlider")],t.prototype,"axisTicksWidthSlider",void 0),cg([U("axisTicksSizeSlider")],t.prototype,"axisTicksSizeSlider",void 0),cg([O("chartTranslationService")],t.prototype,"chartTranslationService",void 0),cg([q],t.prototype,"init",null),t}(Ce),oqe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),tS=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Fie=function(n){oqe(t,n);function t(e){var r=n.call(this,e,t.TEMPLATE)||this;return r.radius=0,r.offsetX=0,r.offsetY=0,r}return t.prototype.postConstruct=function(){var e=this;n.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(r){e.parentCircleRect=e.eParentCircle.getBoundingClientRect()},onDragging:function(r){return e.calculateAngleDrag(r)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue("".concat(this.degrees)).onValueChange(function(r){(r==null||r==="")&&(r="0"),r=e.eAngleValue.normalizeValue(r);var i=parseFloat(r);i>180&&(i=i-360),e.setValue(i)}),this.updateNumberInput(),F.exists(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,M.EVENT_FIELD_VALUE_CHANGED,function(){var r=e.gridOptionsService.getDocument();e.eAngleValue.getInputElement().contains(r.activeElement)||e.updateNumberInput()})},t.prototype.updateNumberInput=function(){var e=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(e.toString())},t.prototype.positionChildCircle=function(e){var r=this.parentCircleRect||{width:24,height:24},i=this.eChildCircle,o=r.width/2,a=r.height/2;i.style.left="".concat(o+Math.cos(e)*8,"px"),i.style.top="".concat(a+Math.sin(e)*8,"px")},t.prototype.calculatePolar=function(){var e=this.offsetX,r=this.offsetY,i=Math.atan2(r,e);this.degrees=this.toDegrees(i),this.radius=Math.sqrt(e*e+r*r),this.positionChildCircle(i)},t.prototype.calculateCartesian=function(){var e=this.toRadians(this.getValue()),r=this.getRadius();this.setOffsetX(Math.cos(e)*r).setOffsetY(Math.sin(e)*r)},t.prototype.setOffsetX=function(e){return this.offsetX!==e&&(this.offsetX=e,this.calculatePolar()),this},t.prototype.setOffsetY=function(e){return this.offsetY!==e&&(this.offsetY=e,this.calculatePolar()),this},t.prototype.calculateAngleDrag=function(e){var r=this.parentCircleRect,i=r.width/2,o=r.height/2,a=e.clientX-r.left,s=e.clientY-r.top,l=a-i,u=s-o,c=Math.atan2(u,l);this.setValue(c,!0)},t.prototype.toDegrees=function(e){return e/Math.PI*180},t.prototype.toRadians=function(e){return e/180*Math.PI},t.prototype.normalizeNegativeValue=function(e){return e<0?360+e:e},t.prototype.normalizeAngle180=function(e){return e%=Math.PI*2,e<-Math.PI?e+=Math.PI*2:e>=Math.PI&&(e-=Math.PI*2),e},t.prototype.getRadius=function(){return this.radius},t.prototype.setRadius=function(e){return this.radius===e?this:(this.radius=e,this.calculateCartesian(),this)},t.prototype.onValueChange=function(e){var r=this;return this.addManagedListener(this,M.EVENT_FIELD_VALUE_CHANGED,function(){e(r.degrees)}),this},t.prototype.getValue=function(e){return e?this.toRadians(this.degrees):this.degrees},t.prototype.setValue=function(e,r){var i;return r?i=e:i=this.normalizeAngle180(this.toRadians(e)),e=this.toDegrees(i),this.degrees!==e&&(this.degrees=Math.floor(e),this.calculateCartesian(),this.positionChildCircle(i),this.dispatchEvent({type:M.EVENT_FIELD_VALUE_CHANGED})),this},t.prototype.setWidth=function(e){return F.setFixedWidth(this.getGui(),e),this},t.prototype.setDisabled=function(e){return n.prototype.setDisabled.call(this,e),this.eAngleValue.setDisabled(e),this},t.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),n.prototype.destroy.call(this)},t.TEMPLATE=`<div class="ag-angle-select">
            <div ref="eLabel"></div>
            <div class="ag-wrapper ag-angle-select-wrapper">
                <div ref="eAngleSelectField" class="ag-angle-select-field">
                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">
                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>
                    </div>
                </div>
                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>
            </div>
        </div>`,tS([U("eLabel")],t.prototype,"eLabel",void 0),tS([U("eParentCircle")],t.prototype,"eParentCircle",void 0),tS([U("eChildCircle")],t.prototype,"eChildCircle",void 0),tS([U("eAngleValue")],t.prototype,"eAngleValue",void 0),tS([O("dragService")],t.prototype,"dragService",void 0),t}(aD),aqe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),rS=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},sqe=function(n){aqe(t,n);function t(e){var r=e.chartController,i=e.chartOptionsService,o=e.isExpandedOnInit,a=o===void 0?!1:o,s=n.call(this)||this;return s.activePanels=[],s.axisLabelUpdateFuncs=[],s.prevXRotation=0,s.prevYRotation=0,s.chartController=r,s.chartOptionsService=i,s.isExpandedOnInit=a,s}return t.prototype.init=function(){var e=this,r={cssIdentifier:"charts-format-top-level",direction:"vertical"};this.setTemplate(t.TEMPLATE,{axisGroup:r}),this.initAxis(),this.initAxisTicks(),this.initAxisLabels();var i=function(){return e.axisLabelUpdateFuncs.forEach(function(o){return o()})};this.addManagedListener(this.chartController,Il.EVENT_CHART_UPDATED,i)},t.prototype.initAxis=function(){var e=this;this.axisGroup.setTitle(this.translate("axis")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0),this.axisColorInput.setLabel(this.translate("color")).setLabelWidth("flex").setInputWidth("flex").setValue(this.chartOptionsService.getAxisProperty("line.color")).onValueChange(function(i){var o=e.chartOptionsService.getAxisProperty("line.width")>0;e.chartOptionsService.setAxisProperties([{expression:"line.enabled",value:o},{expression:"line.color",value:i}])});var r=this.chartOptionsService.getAxisProperty("line.width");this.axisLineWidthSlider.setMaxValue(Xn(r,10)).setLabel(this.translate("thickness")).setTextFieldWidth(45).setValue("".concat(r)).onValueChange(function(i){return e.chartOptionsService.setAxisProperties([{expression:"line.enabled",value:i!==0},{expression:"line.width",value:i}])})},t.prototype.initAxisTicks=function(){if(this.hasConfigurableAxisTicks()){var e=this.createBean(new iqe(this.chartOptionsService));this.axisGroup.addItem(e),this.activePanels.push(e)}},t.prototype.hasConfigurableAxisTicks=function(){var e=this.chartController.getChartType();switch(e){case"radarLine":case"radarArea":case"rangeBar":case"boxPlot":case"waterfall":return!1;default:return!0}},t.prototype.initAxisLabels=function(){var e=this,r={family:this.chartOptionsService.getAxisProperty("label.fontFamily"),style:this.chartOptionsService.getAxisProperty("label.fontStyle"),weight:this.chartOptionsService.getAxisProperty("label.fontWeight"),size:this.chartOptionsService.getAxisProperty("label.fontSize"),color:this.chartOptionsService.getAxisProperty("label.color")},i=function(s){s.family&&e.chartOptionsService.setAxisProperty("label.fontFamily",s.family),s.weight&&e.chartOptionsService.setAxisProperty("label.fontWeight",s.weight),s.style&&e.chartOptionsService.setAxisProperty("label.fontStyle",s.style),s.size&&e.chartOptionsService.setAxisProperty("label.fontSize",s.size),s.color&&e.chartOptionsService.setAxisProperty("label.color",s.color)},o={name:this.translate("labels"),enabled:!0,suppressEnabledCheckbox:!0,initialFont:r,setFont:i},a=this.createBean(new th(o));this.axisGroup.addItem(a),this.activePanels.push(a),this.addAdditionalLabelComps(a)},t.prototype.addAdditionalLabelComps=function(e){this.addLabelPadding(e);var r=this.createRotationWidgets(),i=r.xRotationComp,o=r.yRotationComp,a=this.initLabelRotations(i,o);e.addCompToPanel(a),e.addCompToPanel(i),e.addCompToPanel(o)},t.prototype.initLabelRotations=function(e,r){var i=this,o=function(d){return i.chartOptionsService.getLabelRotation(d)},a=function(d,p){i.chartOptionsService.setLabelRotation(d,p)},s=function(d){i.chartOptionsService.setAxisProperty("label.autoRotate",d),d?(i.prevXRotation=o("xAxis"),i.prevYRotation=o("yAxis"),a("xAxis",void 0),a("yAxis",void 0)):(a("xAxis",i.prevXRotation),a("yAxis",i.prevYRotation)),e.setDisabled(d),r.setDisabled(d)},l=function(){var d=o("xAxis"),p=o("yAxis");return d==null&&p==null?i.chartOptionsService.getAxisProperty("label.autoRotate"):!1},u=l(),c=this.createBean(new jc).setLabel(this.translate("autoRotate")).setValue(u).onValueChange(s);return e.setDisabled(u),r.setDisabled(u),c},t.prototype.createRotationWidgets=function(){var e=this,r=String.fromCharCode(176),i=function(o,a){var s="".concat(e.chartTranslationService.translate(o)," ").concat(r),l=e.chartOptionsService.getLabelRotation(a),u=new Fie().setLabel(s).setLabelWidth("flex").setValue(l||0).onValueChange(function(c){return e.chartOptionsService.setLabelRotation(a,c)});return e.axisLabelUpdateFuncs.push(function(){var c=e.chartOptionsService.getLabelRotation(a);u.setValue(c||0)}),e.createBean(u)};return{xRotationComp:i("xRotation","xAxis"),yRotationComp:i("yRotation","yAxis")}},t.prototype.addLabelPadding=function(e){var r=this,i=this.createBean(new Ua),o=this.chartOptionsService.getAxisProperty("label.padding");i.setLabel(this.chartTranslationService.translate("padding")).setMaxValue(Xn(o,30)).setValue("".concat(o)).setTextFieldWidth(45).onValueChange(function(a){return r.chartOptionsService.setAxisProperty("label.padding",a)}),e.addCompToPanel(i)},t.prototype.translate=function(e,r){return this.chartTranslationService.translate(e,r)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){F.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div>
            <ag-group-component ref="axisGroup">
                <ag-color-picker ref="axisColorInput"></ag-color-picker>
                <ag-slider ref="axisLineWidthSlider"></ag-slider>
            </ag-group-component>
        </div>`,rS([U("axisGroup")],t.prototype,"axisGroup",void 0),rS([U("axisColorInput")],t.prototype,"axisColorInput",void 0),rS([U("axisLineWidthSlider")],t.prototype,"axisLineWidthSlider",void 0),rS([O("chartTranslationService")],t.prototype,"chartTranslationService",void 0),rS([q],t.prototype,"init",null),t}(Ce),lqe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),nS=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},uqe=function(n){lqe(t,n);function t(e){var r=e.chartController,i=e.chartOptionsService,o=e.isExpandedOnInit,a=o===void 0?!1:o,s=n.call(this)||this;return s.dynamicComponents=[],s.chartController=r,s.chartOptionsService=i,s.isExpandedOnInit=a,s}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-top-level",direction:"vertical"};this.setTemplate(t.TEMPLATE,{axisGroup:e}),this.initAxis(),this.initAxisLabels(),this.initRadiusAxis()},t.prototype.initAxis=function(){var e=this;this.axisGroup.setTitle(this.translate("axis")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0),this.axisColorInput.setLabel(this.translate("color")).setLabelWidth("flex").setInputWidth("flex").setValue(this.chartOptionsService.getAxisProperty("line.color")).onValueChange(function(l){return e.chartOptionsService.setAxisProperty("line.color",l)});var r=this.chartOptionsService.getAxisProperty("line.width");this.axisLineWidthSlider.setMaxValue(Xn(r,10)).setLabel(this.translate("thickness")).setTextFieldWidth(45).setValue("".concat(r)).onValueChange(function(l){return e.chartOptionsService.setAxisProperty("line.width",l)});var i=this.chartController.getChartType(),o=["radarLine","radarArea"].includes(i);if(o){var a=[{value:"circle",text:this.translate("circle")},{value:"polygon",text:this.translate("polygon")}];this.axisGroup.addItem(this.initSelect({label:"shape",options:a,currentValue:this.chartOptionsService.getAxisProperty("shape"),onValueChange:function(l){return e.chartOptionsService.setAxisProperty("shape",l)}}))}if(Pie(i)){var s=this.chartOptionsService.getAxisProperty("innerRadiusRatio");this.axisGroup.addItem(this.initSlider({label:"innerRadius",maxValue:1,currentValue:s??0,onValueChange:function(l){return e.chartOptionsService.setAxisProperty("innerRadiusRatio",l)}}))}},t.prototype.initAxisLabels=function(){var e=this,r={family:this.chartOptionsService.getAxisProperty("label.fontFamily"),style:this.chartOptionsService.getAxisProperty("label.fontStyle"),weight:this.chartOptionsService.getAxisProperty("label.fontWeight"),size:this.chartOptionsService.getAxisProperty("label.fontSize"),color:this.chartOptionsService.getAxisProperty("label.color")},i=function(l){l.family&&e.chartOptionsService.setAxisProperty("label.fontFamily",l.family),l.weight&&e.chartOptionsService.setAxisProperty("label.fontWeight",l.weight),l.style&&e.chartOptionsService.setAxisProperty("label.fontStyle",l.style),l.size&&e.chartOptionsService.setAxisProperty("label.fontSize",l.size),l.color&&e.chartOptionsService.setAxisProperty("label.color",l.color)},o={name:this.translate("labels"),enabled:!0,suppressEnabledCheckbox:!0,initialFont:r,setFont:i},a=this.createBean(new th(o)),s=this.createOrientationWidget();a.addItemToPanel(s),this.axisGroup.addItem(a),this.dynamicComponents.push(a)},t.prototype.createOrientationWidget=function(){var e=this,r=[{value:"fixed",text:this.translate("fixed")},{value:"parallel",text:this.translate("parallel")},{value:"perpendicular",text:this.translate("perpendicular")}];return this.initSelect({label:"orientation",options:r,currentValue:this.chartOptionsService.getAxisProperty("label.orientation"),onValueChange:function(i){return e.chartOptionsService.setAxisProperty("label.orientation",i)}})},t.prototype.initRadiusAxis=function(){var e=this,r,i,o=this.chartController.getChartType();if(E7e(o)){var a=this.createBean(new Ls({cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0,enabled:!0,suppressEnabledCheckbox:!0,title:this.translate("padding")})).hideEnabledCheckbox(!0).hideOpenCloseIcons(!0);a.addItem(this.initSlider({label:"groupPadding",maxValue:1,currentValue:(r=this.chartOptionsService.getAxisProperty("paddingInner"))!==null&&r!==void 0?r:0,onValueChange:function(s){return e.chartOptionsService.setAxisProperty("paddingInner",s)}})),a.addItem(this.initSlider({label:"seriesPadding",maxValue:1,currentValue:(i=this.chartOptionsService.getAxisProperty("groupPaddingInner"))!==null&&i!==void 0?i:0,onValueChange:function(s){return e.chartOptionsService.setAxisProperty("groupPaddingInner",s)}})),this.axisGroup.addItem(a),this.dynamicComponents.push(a)}},t.prototype.initSlider=function(e){var r=e.label,i=e.maxValue,o=e.minValue,a=o===void 0?0:o,s=e.step,l=s===void 0?.05:s,u=e.currentValue,c=e.onValueChange,d=this.createManagedBean(new Ua);return d.setLabel(this.translate(r)).setLabelWidth("flex").setMinValue(a).setMaxValue(i).setStep(l).setValue("".concat(u)).onValueChange(c),this.dynamicComponents.push(d),d},t.prototype.initSelect=function(e){var r=e.label,i=e.options,o=e.currentValue,a=e.onValueChange,s=this.createManagedBean(new Qu);return s.setLabel(this.translate(r)).setLabelAlignment("left").setLabelWidth("flex").setInputWidth("flex").addOptions(i),o!==void 0&&s.setValue(o),s.onValueChange(a),this.dynamicComponents.push(s),s},t.prototype.translate=function(e,r){return this.chartTranslationService.translate(e,r)},t.prototype.destroyDynamicComponents=function(){var e=this;this.dynamicComponents.forEach(function(r){F.removeFromParent(r.getGui()),e.destroyBean(r)}),this.dynamicComponents=[]},t.prototype.destroy=function(){this.destroyDynamicComponents(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div>
            <ag-group-component ref="axisGroup">
                <ag-color-picker ref="axisColorInput"></ag-color-picker>
                <ag-slider ref="axisLineWidthSlider"></ag-slider>
            </ag-group-component>
        </div>`,nS([U("axisGroup")],t.prototype,"axisGroup",void 0),nS([U("axisColorInput")],t.prototype,"axisColorInput",void 0),nS([U("axisLineWidthSlider")],t.prototype,"axisLineWidthSlider",void 0),nS([O("chartTranslationService")],t.prototype,"chartTranslationService",void 0),nS([q],t.prototype,"init",null),t}(Ce),cqe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Qb=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},dqe=function(n){cqe(t,n);function t(e){var r=e.chartOptionsService,i=e.isExpandedOnInit,o=i===void 0?!1:i,a=n.call(this)||this;return a.chartOptionsService=r,a.isExpandedOnInit=o,a}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-top-level",direction:"vertical"};this.setTemplate(t.TEMPLATE,{navigatorGroup:e}),this.initNavigator()},t.prototype.initNavigator=function(){var e=this,r=this.chartTranslationService;this.navigatorGroup.setTitle(r.translate("navigator")).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("navigator.enabled")||!1).onEnableChange(function(o){e.chartOptionsService.setChartOption("navigator.enabled",o),e.navigatorGroup.toggleGroupExpand(!0)}).toggleGroupExpand(this.isExpandedOnInit);var i=this.chartOptionsService.getChartOption("navigator.height");this.navigatorHeightSlider.setLabel(r.translate("height")).setMinValue(10).setMaxValue(Xn(i,60)).setTextFieldWidth(45).setValue("".concat(i||30)).onValueChange(function(o){return e.chartOptionsService.setChartOption("navigator.height",o)})},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.TEMPLATE=`<div>
            <ag-group-component ref="navigatorGroup">
                <ag-slider ref="navigatorHeightSlider"></ag-slider>
            </ag-group-component>
        </div>`,Qb([U("navigatorGroup")],t.prototype,"navigatorGroup",void 0),Qb([U("navigatorHeightSlider")],t.prototype,"navigatorHeightSlider",void 0),Qb([O("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Qb([q],t.prototype,"init",null),t}(Ce),pqe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jh=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},hqe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},L5=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},fqe=function(n){pqe(t,n);function t(e,r){var i=n.call(this)||this;return i.chartOptionsService=e,i.chartController=r,i}return t.prototype.init=function(){var e=this,r={cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0};this.setTemplate(t.TEMPLATE,{chartPaddingGroup:r}),this.addManagedListener(this.eventService,M.EVENT_CHART_OPTIONS_CHANGED,function(i){e.updateTopPadding(i.chartOptions)}),this.initGroup(),this.initChartPaddingItems()},t.prototype.initGroup=function(){this.chartPaddingGroup.setTitle(this.chartTranslationService.translate("padding")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0)},t.prototype.initChartPaddingItems=function(){var e=this,r=function(i,o){var a=e.chartOptionsService.getChartOption("padding."+i);o.setLabel(e.chartTranslationService.translate(i)).setMaxValue(Xn(a,200)).setValue("".concat(a)).setTextFieldWidth(45).onValueChange(function(s){return e.chartOptionsService.setChartOption("padding."+i,s)})};r("top",this.paddingTopSlider),r("right",this.paddingRightSlider),r("bottom",this.paddingBottomSlider),r("left",this.paddingLeftSlider)},t.prototype.updateTopPadding=function(e){var r=L5(L5([],hqe(this.chartController.getChartSeriesTypes()),!1),["common"],!1).map(function(i){var o,a;return(a=(o=e[i])===null||o===void 0?void 0:o.padding)===null||a===void 0?void 0:a.top}).find(function(i){return i!=null});r!=null&&this.paddingTopSlider.setValue(r)},t.TEMPLATE=`<div>
            <ag-group-component ref="chartPaddingGroup">
                <ag-slider ref="paddingTopSlider"></ag-slider>
                <ag-slider ref="paddingRightSlider"></ag-slider>
                <ag-slider ref="paddingBottomSlider"></ag-slider>
                <ag-slider ref="paddingLeftSlider"></ag-slider>
            </ag-group-component>
        <div>`,jh([U("chartPaddingGroup")],t.prototype,"chartPaddingGroup",void 0),jh([U("paddingTopSlider")],t.prototype,"paddingTopSlider",void 0),jh([U("paddingRightSlider")],t.prototype,"paddingRightSlider",void 0),jh([U("paddingBottomSlider")],t.prototype,"paddingBottomSlider",void 0),jh([U("paddingLeftSlider")],t.prototype,"paddingLeftSlider",void 0),jh([O("chartTranslationService")],t.prototype,"chartTranslationService",void 0),jh([q],t.prototype,"init",null),t}(Ce),vqe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Jb=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},gqe=function(n){vqe(t,n);function t(e){var r=n.call(this)||this;return r.chartOptionsService=e,r}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0};this.setTemplate(t.TEMPLATE,{chartBackgroundGroup:e}),this.initGroup(),this.initColorPicker()},t.prototype.initGroup=function(){var e=this;this.group.setTitle(this.chartTranslationService.translate("background")).setEnabled(this.chartOptionsService.getChartOption("background.visible")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(r){return e.chartOptionsService.setChartOption("background.visible",r)})},t.prototype.initColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth("flex").setValue(this.chartOptionsService.getChartOption("background.fill")).onValueChange(function(r){return e.chartOptionsService.setChartOption("background.fill",r)})},t.TEMPLATE=`<div>
            <ag-group-component ref="chartBackgroundGroup">
                <ag-color-picker ref="colorPicker"></ag-color-picker>
            </ag-group-component>
        <div>`,Jb([U("chartBackgroundGroup")],t.prototype,"group",void 0),Jb([U("colorPicker")],t.prototype,"colorPicker",void 0),Jb([O("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Jb([q],t.prototype,"init",null),t}(Ce),mqe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),F5=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},yqe=function(n){mqe(t,n);function t(e){var r=n.call(this,t.TEMPLATE)||this;return r.chartOptionsService=e,r.activePanels=[],r}return t.prototype.init=function(){this.initFontPanel(),this.titlePlaceholder=this.chartTranslationService.translate("titlePlaceholder")},t.prototype.hasTitle=function(){var e=this.getOption("title");return e&&e.enabled&&e.text&&e.text.length>0},t.prototype.initFontPanel=function(){var e=this,r=this.hasTitle(),i=function(l,u){l.family&&e.setOption("title.fontFamily",l.family,u),l.weight&&e.setOption("title.fontWeight",l.weight,u),l.style&&e.setOption("title.fontStyle",l.style,u),l.size&&e.setOption("title.fontSize",l.size,u),l.color&&e.setOption("title.color",l.color,u)},o={family:this.getOption("title.fontFamily"),style:this.getOption("title.fontStyle"),weight:this.getOption("title.fontWeight"),size:this.getOption("title.fontSize"),color:this.getOption("title.color")};r||i(o,!0);var a={name:this.chartTranslationService.translate("title"),enabled:r,suppressEnabledCheckbox:!1,initialFont:o,setFont:i,setEnabled:function(l){if(e.toolbarExists()){var u=e.getOption("padding.top");e.setOption("padding.top",l?u-20:u+20)}e.setOption("title.enabled",l);var c=e.getOption("title.text"),d=c==="Title"||(c==null?void 0:c.trim().length)===0;l&&d&&e.setOption("title.text",e.titlePlaceholder)}},s=this.createBean(new th(a));s.addItemToPanel(this.createSpacingSlicer()),this.getGui().appendChild(s.getGui()),this.activePanels.push(s),this.addManagedListener(this.eventService,"chartTitleEdit",function(){s.setEnabled(e.hasTitle())})},t.prototype.createSpacingSlicer=function(){var e=this,r=this.createBean(new Ua),i=this.chartOptionsService.getChartOption("title.spacing")||10;return r.setLabel(this.chartTranslationService.translate("spacing")).setMaxValue(Math.max(i,100)).setValue("".concat(i)).setTextFieldWidth(45).onValueChange(function(o){return e.chartOptionsService.setChartOption("title.spacing",o)}),r},t.prototype.toolbarExists=function(){var e=this.gridOptionsService.getCallback("getChartToolbarItems");if(!e)return!0;var r={defaultItems:["chartUnlink","chartDownload"]},i=["chartLink","chartUnlink","chartDownload"];return i.some(function(o){var a;return(a=e&&e(r))===null||a===void 0?void 0:a.includes(o)})},t.prototype.getOption=function(e){return this.chartOptionsService.getChartOption(e)},t.prototype.setOption=function(e,r,i){this.chartOptionsService.setChartOption(e,r,i)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){F.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),n.prototype.destroy.call(this)},t.TEMPLATE="<div></div>",F5([O("chartTranslationService")],t.prototype,"chartTranslationService",void 0),F5([q],t.prototype,"init",null),t}(Ce),Cqe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),rF=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Sqe=function(n){Cqe(t,n);function t(e){var r=e.chartController,i=e.chartOptionsService,o=e.isExpandedOnInit,a=o===void 0?!1:o,s=n.call(this)||this;return s.activePanels=[],s.chartController=r,s.chartOptionsService=i,s.isExpandedOnInit=a,s}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-top-level",direction:"vertical"};this.setTemplate(t.TEMPLATE,{chartGroup:e}),this.initGroup(),this.initTitles(),this.initPaddingPanel(),this.initBackgroundPanel()},t.prototype.initGroup=function(){this.chartGroup.setTitle(this.chartTranslationService.translate("chart")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0)},t.prototype.initTitles=function(){var e=this.createBean(new yqe(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.initPaddingPanel=function(){var e=this.createBean(new fqe(this.chartOptionsService,this.chartController));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.initBackgroundPanel=function(){var e=this.createBean(new gqe(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){F.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div>
            <ag-group-component ref="chartGroup"></ag-group-component>
        </div>`,rF([U("chartGroup")],t.prototype,"chartGroup",void 0),rF([O("chartTranslationService")],t.prototype,"chartTranslationService",void 0),rF([q],t.prototype,"init",null),t}(Ce),wqe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Hh=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},_qe=function(n){wqe(t,n);function t(e,r,i){i===void 0&&(i="shadow");var o=n.call(this)||this;return o.chartOptionsService=e,o.getSelectedSeries=r,o.propertyKey=i,o}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0};this.setTemplate(t.TEMPLATE,{shadowGroup:e}),this.shadowBlurSlider.setTextFieldWidth(45),this.shadowXOffsetSlider.setTextFieldWidth(45),this.shadowYOffsetSlider.setTextFieldWidth(45),this.initSeriesShadow()},t.prototype.initSeriesShadow=function(){var e=this,r=this.propertyKey;this.shadowGroup.setTitle(this.chartTranslationService.translate("shadow")).setEnabled(this.chartOptionsService.getSeriesOption("".concat(r,".enabled"),this.getSelectedSeries())).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(o){return e.chartOptionsService.setSeriesOption("".concat(r,".enabled"),o,e.getSelectedSeries())}),this.shadowColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth("flex").setValue(this.chartOptionsService.getSeriesOption("".concat(r,".color"),this.getSelectedSeries())).onValueChange(function(o){return e.chartOptionsService.setSeriesOption("".concat(r,".color"),o,e.getSelectedSeries())});var i=function(o,a,s,l){var u=e.chartOptionsService.getSeriesOption("".concat(r,".").concat(a),e.getSelectedSeries());o.setLabel(e.chartTranslationService.translate(a)).setMinValue(s).setMaxValue(Xn(u,l)).setValue("".concat(u)).onValueChange(function(c){return e.chartOptionsService.setSeriesOption("".concat(r,".").concat(a),c,e.getSelectedSeries())})};i(this.shadowBlurSlider,"blur",0,20),i(this.shadowXOffsetSlider,"xOffset",-10,10),i(this.shadowYOffsetSlider,"yOffset",-10,10)},t.TEMPLATE=`<div>
            <ag-group-component ref="shadowGroup">
                <ag-color-picker ref="shadowColorPicker"></ag-color-picker>
                <ag-slider ref="shadowBlurSlider"></ag-slider>
                <ag-slider ref="shadowXOffsetSlider"></ag-slider>
                <ag-slider ref="shadowYOffsetSlider"></ag-slider>
            </ag-group-component>
        </div>`,Hh([U("shadowGroup")],t.prototype,"shadowGroup",void 0),Hh([U("shadowColorPicker")],t.prototype,"shadowColorPicker",void 0),Hh([U("shadowBlurSlider")],t.prototype,"shadowBlurSlider",void 0),Hh([U("shadowXOffsetSlider")],t.prototype,"shadowXOffsetSlider",void 0),Hh([U("shadowYOffsetSlider")],t.prototype,"shadowYOffsetSlider",void 0),Hh([O("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Hh([q],t.prototype,"init",null),t}(Ce);function MN(n){var t=n.labelName,e=n.chartOptionsService,r=n.getSelectedSeries,i=n.seriesOptionLabelProperty,o=function(d){return"".concat(i,".").concat(d)},a=function(d){var p=o(d);return e.getSeriesOption(p,r())},s=function(d,p){var h=o(d);e.setSeriesOption(h,p,r())},l={family:a("fontFamily"),style:a("fontStyle"),weight:a("fontWeight"),size:a("fontSize"),color:a("color")},u=function(d){d.family&&s("fontFamily",d.family),d.weight&&s("fontWeight",d.weight),d.style&&s("fontStyle",d.style),d.size&&s("fontSize",d.size),d.color&&s("color",d.color)},c={name:t,enabled:a("enabled")||!1,setEnabled:function(d){return s("enabled",d)},suppressEnabledCheckbox:!1,initialFont:l,setFont:u};return c}var xqe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$h=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},bqe=function(n){xqe(t,n);function t(e,r){var i=n.call(this)||this;return i.chartOptionsService=e,i.getSelectedSeries=r,i}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical"};this.setTemplate(t.TEMPLATE,{seriesMarkersGroup:e}),this.initMarkers()},t.prototype.initMarkers=function(){var e=this,r=[{value:"square",text:"Square"},{value:"circle",text:"Circle"},{value:"cross",text:"Cross"},{value:"diamond",text:"Diamond"},{value:"plus",text:"Plus"},{value:"triangle",text:"Triangle"},{value:"heart",text:"Heart"}];this.seriesMarkerShapeSelect.addOptions(r).setLabel(this.chartTranslationService.translate("shape")).setValue(this.getSeriesOption("marker.shape")).onValueChange(function(s){return e.setSeriesOption("marker.shape",s)});var i=this.chartOptionsService.getChartType(),o=F.includes(["scatter","bubble"],i);this.seriesMarkersGroup.setTitle(this.chartTranslationService.translate("markers")).hideEnabledCheckbox(o).setEnabled(this.getSeriesOption("marker.enabled")||!1).hideOpenCloseIcons(!0).onEnableChange(function(s){return e.setSeriesOption("marker.enabled",s)});var a=function(s,l,u,c){var d=e.getSeriesOption(s);l.setLabel(e.chartTranslationService.translate(u)).setMaxValue(Xn(d,c)).setValue("".concat(d)).setTextFieldWidth(45).onValueChange(function(p){return e.setSeriesOption(s,p)})};i==="bubble"?(a("marker.maxSize",this.seriesMarkerMinSizeSlider,"maxSize",60),a("marker.size",this.seriesMarkerSizeSlider,"minSize",60)):(this.seriesMarkerMinSizeSlider.setDisplayed(!1),a("marker.size",this.seriesMarkerSizeSlider,"size",60)),a("marker.strokeWidth",this.seriesMarkerStrokeWidthSlider,"strokeWidth",10)},t.prototype.getSeriesOption=function(e){return this.chartOptionsService.getSeriesOption(e,this.getSelectedSeries())},t.prototype.setSeriesOption=function(e,r){this.chartOptionsService.setSeriesOption(e,r,this.getSelectedSeries())},t.TEMPLATE=`<div>
            <ag-group-component ref="seriesMarkersGroup">
                <ag-select ref="seriesMarkerShapeSelect"></ag-select>
                <ag-slider ref="seriesMarkerMinSizeSlider"></ag-slider>
                <ag-slider ref="seriesMarkerSizeSlider"></ag-slider>
                <ag-slider ref="seriesMarkerStrokeWidthSlider"></ag-slider>
            </ag-group-component>
        </div>`,$h([U("seriesMarkersGroup")],t.prototype,"seriesMarkersGroup",void 0),$h([U("seriesMarkerShapeSelect")],t.prototype,"seriesMarkerShapeSelect",void 0),$h([U("seriesMarkerSizeSlider")],t.prototype,"seriesMarkerSizeSlider",void 0),$h([U("seriesMarkerMinSizeSlider")],t.prototype,"seriesMarkerMinSizeSlider",void 0),$h([U("seriesMarkerStrokeWidthSlider")],t.prototype,"seriesMarkerStrokeWidthSlider",void 0),$h([O("chartTranslationService")],t.prototype,"chartTranslationService",void 0),$h([q],t.prototype,"init",null),t}(Ce),Eqe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Oc=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Oqe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Rqe=function(n){Eqe(t,n);function t(e){var r=n.call(this,t.TEMPLATE)||this;return r.H=1,r.S=1,r.B=1,r.A=1,r.isSpectrumDragging=!1,r.isSpectrumHueDragging=!1,r.isSpectrumAlphaDragging=!1,r.colorChanged=!1,r.picker=e.picker,r}return t.prototype.postConstruct=function(){var e=this;this.initTabIndex(),this.initRecentColors(),this.addGuiEventListener("focus",function(){return e.spectrumColor.focus()}),this.addGuiEventListener("keydown",function(r){r.key===K.ENTER&&!r.defaultPrevented&&e.destroy()}),this.addManagedListener(this.spectrumColor,"keydown",function(r){return e.moveDragger(r)}),this.addManagedListener(this.spectrumAlphaSlider,"keydown",function(r){return e.moveAlphaSlider(r)}),this.addManagedListener(this.spectrumHueSlider,"keydown",function(r){return e.moveHueSlider(r)}),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addGuiEventListener("mousemove",function(r){e.onSpectrumDraggerMove(r),e.onSpectrumHueMove(r),e.onSpectrumAlphaMove(r)}),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this)),this.addManagedListener(this.recentColors,"keydown",function(r){(r.key===K.ENTER||r.key===K.SPACE)&&(r.preventDefault(),e.onRecentColorClick(r))})},t.prototype.initTabIndex=function(){var e=this.tabIndex=this.gridOptionsService.get("tabIndex").toString();this.spectrumColor.setAttribute("tabindex",e),this.spectrumHueSlider.setAttribute("tabindex",e),this.spectrumAlphaSlider.setAttribute("tabindex",e)},t.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},t.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},t.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},t.prototype.onSpectrumDraggerDown=function(e){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(e)},t.prototype.onSpectrumDraggerMove=function(e){this.isSpectrumDragging&&this.moveDragger(e)},t.prototype.onSpectrumHueDown=function(e){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(e)},t.prototype.onSpectrumHueMove=function(e){this.isSpectrumHueDragging&&this.moveHueSlider(e)},t.prototype.onSpectrumAlphaDown=function(e){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(e)},t.prototype.onSpectrumAlphaMove=function(e){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(e)},t.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},t.prototype.moveDragger=function(e){var r=this.spectrumValRect;if(r){var i,o;if(e instanceof MouseEvent)i=e.clientX-r.left,o=e.clientY-r.top;else{var a=e.key===K.LEFT,s=e.key===K.RIGHT,l=e.key===K.UP,u=e.key===K.DOWN,c=l||u,d=a||s;if(!c&&!d)return;e.preventDefault();var p=this.getSpectrumValue(),h=p.x,f=p.y;i=h+(d?a?-5:5:0),o=f+(c?l?-5:5:0)}i=Math.max(i,0),i=Math.min(i,r.width),o=Math.max(o,0),o=Math.min(o,r.height),this.setSpectrumValue(i/r.width,1-o/r.height)}},t.prototype.moveHueSlider=function(e){var r=this.spectrumHueRect;if(r){var i=this.moveSlider(this.spectrumHueSlider,e);i!=null&&(this.H=1-i/r.width,this.update())}},t.prototype.moveAlphaSlider=function(e){var r=this.spectrumAlphaRect;if(r){var i=this.moveSlider(this.spectrumAlphaSlider,e);i!=null&&(this.A=i/r.width,this.update())}},t.prototype.moveSlider=function(e,r){var i,o=e.getBoundingClientRect(),a=(i=e.parentElement)===null||i===void 0?void 0:i.getBoundingClientRect();if(!e||!a)return null;var s;if(r instanceof MouseEvent)s=r.clientX-a.left;else{var l=r.key===K.LEFT,u=r.key===K.RIGHT;if(!l&&!u)return null;r.preventDefault();var c=l?-5:5;s=parseFloat(e.style.left)-o.width/2+c}return s=Math.max(s,0),s=Math.min(s,a.width),e.style.left=s+o.width/2+"px",s},t.prototype.update=function(){var e=cn.Color.fromHSB(this.H*360,this.S,this.B,this.A),r=cn.Color.fromHSB(this.H*360,1,1),i=e.toRgbaString(),o=this.picker,a=cn.Color.fromString(o.getValue());a.toRgbaString()!==i&&(this.colorChanged=!0),o.setValue(i),this.spectrumColor.style.backgroundColor=r.toRgbaString(),this.spectrumDragger.style.backgroundColor=i},t.prototype.setSpectrumValue=function(e,r){var i=this.spectrumValRect||this.refreshSpectrumRect();if(i!=null){var o=this.spectrumDragger,a=o.getBoundingClientRect();e=Math.max(0,e),e=Math.min(1,e),r=Math.max(0,r),r=Math.min(1,r),this.S=e,this.B=r,o.style.left=e*i.width-a.width/2+"px",o.style.top=(1-r)*i.height-a.height/2+"px",this.update()}},t.prototype.getSpectrumValue=function(){var e=this.spectrumDragger,r=e.getBoundingClientRect(),i=parseFloat(e.style.left)+r.width/2,o=parseFloat(e.style.top)+r.height/2;return{x:i,y:o}},t.prototype.initRecentColors=function(){var e=this,r=t.recentColors,i=r.map(function(o,a){return'<div class="ag-recent-color" id='.concat(a,' style="background-color: ').concat(o,'; width: 15px; height: 15px;" recent-color="').concat(o,'" tabIndex="').concat(e.tabIndex,'"></div>')});this.recentColors.innerHTML=i.join("")},t.prototype.setValue=function(e){var r=cn.Color.fromString(e),i=Oqe(r.toHSB(),3),o=i[0],a=i[1],s=i[2];this.H=(isNaN(o)?0:o)/360,this.A=r.a;var l=this.spectrumHueRect||this.refreshHueRect(),u=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left="".concat((this.H-1)*-l.width,"px"),this.spectrumAlphaSlider.style.left="".concat(this.A*u.width,"px"),this.setSpectrumValue(a,s)},t.prototype.onRecentColorClick=function(e){var r=e.target;if(F.exists(r.id)){var i=parseInt(r.id,10);this.setValue(t.recentColors[i]),this.destroy()}},t.prototype.addRecentColor=function(){var e=cn.Color.fromHSB(this.H*360,this.S,this.B,this.A),r=e.toRgbaString(),i=t.recentColors;!this.colorChanged||i[0]===r||(i=i.filter(function(o){return o!=r}),i=[r].concat(i),i.length>t.maxRecentColors&&(i=i.slice(0,t.maxRecentColors)),t.recentColors=i)},t.prototype.destroy=function(){this.addRecentColor(),n.prototype.destroy.call(this)},t.maxRecentColors=8,t.recentColors=[],t.TEMPLATE=`<div class="ag-color-panel" tabindex="-1">
            <div ref="spectrumColor" class="ag-spectrum-color">
                <div class="ag-spectrum-sat ag-spectrum-fill">
                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">
                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>
                    </div>
                </div>
            </div>
            <div class="ag-spectrum-tools">
                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">
                    <div class="ag-spectrum-hue-background"></div>
                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>
                </div>
                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">
                    <div class="ag-spectrum-alpha-background"></div>
                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>
                </div>
                <div ref="recentColors" class="ag-recent-colors"></div>
            </div>
        </div>`,Oc([U("spectrumColor")],t.prototype,"spectrumColor",void 0),Oc([U("spectrumVal")],t.prototype,"spectrumVal",void 0),Oc([U("spectrumDragger")],t.prototype,"spectrumDragger",void 0),Oc([U("spectrumHue")],t.prototype,"spectrumHue",void 0),Oc([U("spectrumHueSlider")],t.prototype,"spectrumHueSlider",void 0),Oc([U("spectrumAlpha")],t.prototype,"spectrumAlpha",void 0),Oc([U("spectrumAlphaSlider")],t.prototype,"spectrumAlphaSlider",void 0),Oc([U("recentColors")],t.prototype,"recentColors",void 0),Oc([q],t.prototype,"postConstruct",null),t}(Ce),Tqe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),LN=function(){return LN=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},LN.apply(this,arguments)},Iie=function(n){Tqe(t,n);function t(e){var r=n.call(this,LN({pickerAriaLabelKey:"ariaLabelColorPicker",pickerAriaLabelValue:"Color Picker",pickerType:"ag-list",className:"ag-color-picker",pickerIcon:"colorPicker"},e))||this;return e&&e.color&&(r.value=e.color),r}return t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},t.prototype.createPickerComponent=function(){var e=this.getGui().getBoundingClientRect(),r=this.createBean(new fv({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:e.right-190,y:e.top-250}));return r},t.prototype.renderAndPositionPicker=function(){var e=this,r=this.pickerComponent,i=this.createBean(new Rqe({picker:this}));return r.addCssClass("ag-color-dialog"),i.addDestroyFunc(function(){r.isAlive()&&e.destroyBean(r)}),r.setParentComponent(this),r.setBodyComponent(i),i.setValue(this.getValue()),i.getGui().focus(),r.addDestroyFunc(function(){e.isDestroyingPicker?e.isDestroyingPicker=!1:(e.beforeHidePicker(),e.isDestroyingPicker=!0,i.isAlive()&&e.destroyBean(i),e.isAlive()&&e.getFocusableElement().focus())}),function(){var o;return(o=e.pickerComponent)===null||o===void 0?void 0:o.close()}},t.prototype.setValue=function(e){return this.value===e?this:(this.eDisplayField.style.backgroundColor=e,n.prototype.setValue.call(this,e))},t.prototype.getValue=function(){return this.value},t}(sD),Pqe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),dg=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Dqe=function(n){Pqe(t,n);function t(e,r){var i=n.call(this)||this;return i.chartOptionsService=e,i.getSelectedSeries=r,i}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical"};this.setTemplate(t.TEMPLATE,{calloutGroup:e}),this.initCalloutOptions()},t.prototype.initCalloutOptions=function(){var e=this;this.calloutGroup.setTitle(this.chartTranslationService.translate("callout")).setEnabled(!0).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0);var r=function(i,o,a,s){var l=e.chartOptionsService.getSeriesOption(i,e.getSelectedSeries());o.setLabel(e.chartTranslationService.translate(a)).setMaxValue(Xn(l,s)).setValue("".concat(l)).setTextFieldWidth(45).onValueChange(function(u){return e.chartOptionsService.setSeriesOption(i,u,e.getSelectedSeries())})};r("calloutLine.length",this.calloutLengthSlider,"length",40),r("calloutLine.strokeWidth",this.calloutStrokeWidthSlider,"strokeWidth",10),r("calloutLabel.offset",this.labelOffsetSlider,"offset",30)},t.TEMPLATE=`<div>
            <ag-group-component ref="calloutGroup">
                <ag-slider ref="calloutLengthSlider"></ag-slider>
                <ag-slider ref="calloutStrokeWidthSlider"></ag-slider>
                <ag-slider ref="labelOffsetSlider"></ag-slider>
            </ag-group-component>
        </div>`,dg([U("calloutGroup")],t.prototype,"calloutGroup",void 0),dg([U("calloutLengthSlider")],t.prototype,"calloutLengthSlider",void 0),dg([U("calloutStrokeWidthSlider")],t.prototype,"calloutStrokeWidthSlider",void 0),dg([U("labelOffsetSlider")],t.prototype,"labelOffsetSlider",void 0),dg([O("chartTranslationService")],t.prototype,"chartTranslationService",void 0),dg([q],t.prototype,"init",null),t}(Ce),Aqe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),eE=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Mqe=function(n){Aqe(t,n);function t(e,r){var i=n.call(this)||this;return i.chartOptionsService=e,i.getSelectedSeries=r,i}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslationService.translate("cap"),enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate(t.TEMPLATE,{capsGroup:e}),this.initControls()},t.prototype.initControls=function(){var e=this,r=this.chartOptionsService.getSeriesOption("cap.lengthRatio",this.getSelectedSeries());this.capLengthRatioSlider.setLabel(this.chartTranslationService.translate("capLengthRatio")).setStep(.05).setMinValue(0).setMaxValue(1).setTextFieldWidth(45).setValue("".concat(r)).onValueChange(function(i){return e.chartOptionsService.setSeriesOption("cap.lengthRatio",i,e.getSelectedSeries())})},t.TEMPLATE=`<div>
            <ag-group-component ref="capsGroup">
                <ag-slider ref="capLengthRatioSlider"></ag-slider>
            </ag-group-component>
        </div>`,eE([U("capsGroup")],t.prototype,"capsGroup",void 0),eE([U("capLengthRatioSlider")],t.prototype,"capLengthRatioSlider",void 0),eE([O("chartTranslationService")],t.prototype,"chartTranslationService",void 0),eE([q],t.prototype,"init",null),t}(Ce),Lqe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),pg=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Fqe=function(n){Lqe(t,n);function t(e,r){var i=n.call(this)||this;return i.chartOptionsService=e,i.getSelectedSeries=r,i}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslationService.translate("connectorLine"),enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate(t.TEMPLATE,{lineGroup:e}),this.initConnectorLineControls()},t.prototype.initConnectorLineControls=function(){this.initColorPicker(this.lineColorPicker,"color","line.stroke"),this.initSlider(this.lineStrokeWidthSlider,"strokeWidth",0,10,45,"line.strokeWidth"),this.initSlider(this.lineDashSlider,"lineDash",0,30,45,"line.lineDash",1,!0),this.initSlider(this.lineOpacitySlider,"strokeOpacity",0,1,45,"line.strokeOpacity",.05,!1)},t.prototype.initColorPicker=function(e,r,i){var o=this,a=this.chartOptionsService.getSeriesOption(i,this.getSelectedSeries());e.setLabel(this.chartTranslationService.translate(r)).setLabelWidth("flex").setValue(a==null?"transparent":"".concat(a)).onValueChange(function(s){return o.chartOptionsService.setSeriesOption(i,s,o.getSelectedSeries())})},t.prototype.initSlider=function(e,r,i,o,a,s,l,u){var c=this;l===void 0&&(l=1),u===void 0&&(u=!1);var d=this.chartOptionsService.getSeriesOption(s,this.getSelectedSeries());e.setLabel(this.chartTranslationService.translate(r)).setMinValue(i).setMaxValue(o).setTextFieldWidth(a).setValue("".concat(d)).setStep(l).onValueChange(function(p){var h=u?[p]:p;c.chartOptionsService.setSeriesOption(s,h,c.getSelectedSeries())})},t.TEMPLATE=`<div>
            <ag-group-component ref="lineGroup">
                <ag-color-picker ref="lineColorPicker"></ag-color-picker>
                <ag-slider ref="lineStrokeWidthSlider"></ag-slider>
                <ag-slider ref="lineOpacitySlider"></ag-slider>
                <ag-slider ref="lineDashSlider"></ag-slider>                
            </ag-group-component>
        </div>`,pg([U("lineColorPicker")],t.prototype,"lineColorPicker",void 0),pg([U("lineStrokeWidthSlider")],t.prototype,"lineStrokeWidthSlider",void 0),pg([U("lineOpacitySlider")],t.prototype,"lineOpacitySlider",void 0),pg([U("lineDashSlider")],t.prototype,"lineDashSlider",void 0),pg([O("chartTranslationService")],t.prototype,"chartTranslationService",void 0),pg([q],t.prototype,"init",null),t}(Ce),Iqe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Yd=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Nqe=function(n){Iqe(t,n);function t(e,r){var i=n.call(this)||this;return i.chartOptionsService=e,i.getSelectedSeries=r,i}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslationService.translate("whisker"),enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate(t.TEMPLATE,{whiskersGroup:e}),this.initControls()},t.prototype.initControls=function(){var e=this,r=this.chartOptionsService.getSeriesOption("whisker.stroke",this.getSelectedSeries());this.whiskerColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setValue(r==null?"transparent":"".concat(r)).onValueChange(function(l){return e.chartOptionsService.setSeriesOption("whisker.stroke",l,e.getSelectedSeries())});var i=this.chartOptionsService.getSeriesOption("whisker.strokeWidth",this.getSelectedSeries());this.whiskerThicknessSlider.setLabel(this.chartTranslationService.translate("strokeWidth")).setMinValue(0).setMaxValue(10).setTextFieldWidth(45).setValue("".concat(i)).onValueChange(function(l){return e.chartOptionsService.setSeriesOption("whisker.strokeWidth",l,e.getSelectedSeries())});var o=this.chartOptionsService.getSeriesOption("whisker.strokeOpacity",this.getSelectedSeries());this.whiskerOpacitySlider.setLabel(this.chartTranslationService.translate("strokeOpacity")).setStep(.05).setMinValue(0).setMaxValue(1).setTextFieldWidth(45).setValue("".concat(o)).onValueChange(function(l){return e.chartOptionsService.setSeriesOption("whisker.strokeOpacity",l,e.getSelectedSeries())});var a=this.chartOptionsService.getSeriesOption("whisker.lineDash",this.getSelectedSeries());this.whiskerLineDashSlider.setLabel(this.chartTranslationService.translate("lineDash")).setMinValue(0).setMaxValue(30).setTextFieldWidth(45).setValue("".concat(a)).onValueChange(function(l){return e.chartOptionsService.setSeriesOption("whisker.lineDash",[l],e.getSelectedSeries())});var s=this.chartOptionsService.getSeriesOption("whisker.lineDashOffset",this.getSelectedSeries());this.whiskerLineDashOffsetSlider.setLabel(this.chartTranslationService.translate("lineDashOffset")).setMinValue(0).setMaxValue(30).setTextFieldWidth(45).setValue("".concat(s)).onValueChange(function(l){return e.chartOptionsService.setSeriesOption("whisker.lineDashOffset",l,e.getSelectedSeries())})},t.TEMPLATE=`<div>
            <ag-group-component ref="whiskersGroup">
                <ag-color-picker ref="whiskerColorPicker"></ag-color-picker>
                <ag-slider ref="whiskerThicknessSlider"></ag-slider>
                <ag-slider ref="whiskerOpacitySlider"></ag-slider>
                <ag-slider ref="whiskerLineDashSlider"></ag-slider>
                <ag-slider ref="whiskerLineDashOffsetSlider"></ag-slider>
            </ag-group-component>
        </div>`,Yd([U("whiskersGroup")],t.prototype,"whiskersGroup",void 0),Yd([U("whiskerColorPicker")],t.prototype,"whiskerColorPicker",void 0),Yd([U("whiskerThicknessSlider")],t.prototype,"whiskerThicknessSlider",void 0),Yd([U("whiskerOpacitySlider")],t.prototype,"whiskerOpacitySlider",void 0),Yd([U("whiskerLineDashSlider")],t.prototype,"whiskerLineDashSlider",void 0),Yd([U("whiskerLineDashOffsetSlider")],t.prototype,"whiskerLineDashOffsetSlider",void 0),Yd([O("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Yd([q],t.prototype,"init",null),t}(Ce),kqe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),tE=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Gqe=function(n){kqe(t,n);function t(e,r){var i=n.call(this)||this;return i.chartOptionsService=e,i.getSelectedSeries=r,i.activePanels=[],i}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",title:this.chartTranslationService.translate("seriesItems"),enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate(t.TEMPLATE,{seriesItemsGroup:e}),this.initSeriesItems(),this.initSeriesControls()},t.prototype.initSeriesItems=function(){var e=this,r=[{value:"positive",text:this.chartTranslationService.translate("seriesItemPositive")},{value:"negative",text:this.chartTranslationService.translate("seriesItemNegative")}],i=function(o){e.destroyActivePanels(),e.initSeriesControls(o)};this.seriesItemSelect.setLabel(this.chartTranslationService.translate("seriesItemType")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth("flex").addOptions(r).setValue("positive").onValueChange(i)},t.prototype.initSeriesControls=function(e){e===void 0&&(e="positive"),this.initSlider("strokeWidth",0,10,45,"item.".concat(e,".strokeWidth")),this.initSlider("lineDash",0,30,45,"item.".concat(e,".lineDash"),1,!0),this.initSlider("strokeOpacity",0,1,45,"item.".concat(e,".strokeOpacity"),.05,!1),this.initSlider("fillOpacity",0,1,45,"item.".concat(e,".fillOpacity"),.05,!1),this.initItemLabels(e)},t.prototype.initSlider=function(e,r,i,o,a,s,l){var u=this;s===void 0&&(s=1),l===void 0&&(l=!1);var c=this.seriesItemsGroup.createManagedBean(new Ua),d=this.chartOptionsService.getSeriesOption(a,this.getSelectedSeries()),p=function(h){var f=l?[h]:h;u.chartOptionsService.setSeriesOption(a,f,u.getSelectedSeries())};c.setLabel(this.chartTranslationService.translate(e)).setMinValue(r).setMaxValue(i).setTextFieldWidth(o).setValue("".concat(d)).setStep(s).onValueChange(p),this.seriesItemsGroup.addItem(c),this.activePanels.push(c)},t.prototype.initItemLabels=function(e){var r=this,i=MN({labelName:this.chartTranslationService.translate("seriesItemLabels"),chartOptionsService:this.chartOptionsService,getSelectedSeries:function(){return r.getSelectedSeries()},seriesOptionLabelProperty:"item.".concat(e,".label")}),o=this.createBean(new th(i));this.seriesItemsGroup.addItem(o),this.activePanels.push(o)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){F.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div>
            <ag-group-component ref="seriesItemsGroup">
                <ag-select ref="seriesItemSelect"></ag-select>
            </ag-group-component>
        </div>`,tE([U("seriesItemsGroup")],t.prototype,"seriesItemsGroup",void 0),tE([U("seriesItemSelect")],t.prototype,"seriesItemSelect",void 0),tE([O("chartTranslationService")],t.prototype,"chartTranslationService",void 0),tE([q],t.prototype,"init",null),t}(Ce),Vqe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Jg=function(){return Jg=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Jg.apply(this,arguments)},Wh=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Bqe=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},jqe=function(n){Vqe(t,n);function t(e,r){var i=n.call(this)||this;return i.chartOptionsService=e,i.getSelectedSeries=r,i}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-sub-level",direction:"vertical",enabled:!0,suppressOpenCloseIcons:!0,suppressEnabledCheckbox:!0};this.setTemplate(t.TEMPLATE,{groupSpacing:Jg(Jg({},e),{title:this.chartTranslationService.translate("group")}),tileSpacing:Jg(Jg({},e),{title:this.chartTranslationService.translate("tile")})}),this.initControls()},t.prototype.initControls=function(){var e,r,i=this,o=[{optionNamespace:"group",components:{paddingSlider:this.groupPaddingSlider,spacingSlider:this.groupSpacingSlider}},{optionNamespace:"tile",components:{paddingSlider:this.tilePaddingSlider,spacingSlider:this.tileSpacingSlider}}],a=function(d){var p=d.optionNamespace,h=d.components,f=h.paddingSlider,v=h.spacingSlider,g=s.chartOptionsService.getSeriesOption("".concat(p,".padding"),s.getSelectedSeries());f.setLabel(s.chartTranslationService.translate("padding")).setMinValue(0).setMaxValue(10).setTextFieldWidth(45).setValue("".concat(g)).onValueChange(function(y){return i.chartOptionsService.setSeriesOption("".concat(p,".padding"),y,i.getSelectedSeries())});var m=s.chartOptionsService.getSeriesOption("".concat(p,".gap"),s.getSelectedSeries());v.setLabel(s.chartTranslationService.translate("spacing")).setMinValue(0).setMaxValue(10).setTextFieldWidth(45).setValue("".concat(m)).onValueChange(function(y){return i.chartOptionsService.setSeriesOption("".concat(p,".gap"),y,i.getSelectedSeries())})},s=this;try{for(var l=Bqe(o),u=l.next();!u.done;u=l.next()){var c=u.value;a(c)}}catch(d){e={error:d}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}},t.TEMPLATE=`<div>
            <ag-group-component ref="groupSpacing">
                <ag-slider ref="groupPaddingSlider"></ag-slider>
                <ag-slider ref="groupSpacingSlider"></ag-slider>
            </ag-group-component>
            <ag-group-component ref="tileSpacing">
                <ag-slider ref="tilePaddingSlider"></ag-slider>
                <ag-slider ref="tileSpacingSlider"></ag-slider>
            </ag-group-component>
        </div>`,Wh([U("groupSpacing")],t.prototype,"groupSpacing",void 0),Wh([U("groupPaddingSlider")],t.prototype,"groupPaddingSlider",void 0),Wh([U("groupSpacingSlider")],t.prototype,"groupSpacingSlider",void 0),Wh([U("tilePaddingSlider")],t.prototype,"tilePaddingSlider",void 0),Wh([U("tileSpacingSlider")],t.prototype,"tileSpacingSlider",void 0),Wh([O("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Wh([q],t.prototype,"init",null),t}(Ce),Hqe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),nF=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},$qe=function(n){Hqe(t,n);function t(e){var r=e.chartController,i=e.chartOptionsService,o=e.seriesType,a=e.isExpandedOnInit,s=a===void 0?!1:a,l=n.call(this)||this;return l.activePanels=[],l.widgetFuncs={lineWidth:function(){return l.initStrokeWidth("lineWidth")},strokeWidth:function(){return l.initStrokeWidth("strokeWidth")},lineColor:function(){return l.initLineColor()},lineDash:function(){return l.initLineDash()},lineOpacity:function(){return l.initLineOpacity()},fillOpacity:function(){return l.initFillOpacity()},markers:function(){return l.initMarkers()},labels:function(){return l.initLabels()},shadow:function(){return l.initShadow()},tooltips:function(){return l.initTooltips()},bins:function(){return l.initBins()},whiskers:function(){return l.initWhiskers()},caps:function(){return l.initCaps()},connectorLine:function(){return l.initConnectorLine()},seriesItems:function(){return l.initSeriesItemsPanel()},tileSpacing:function(){return l.initTileSpacingPanel()}},l.seriesWidgetMappings={column:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],bar:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],pie:["tooltips","strokeWidth","lineOpacity","fillOpacity","labels","shadow"],donut:["tooltips","strokeWidth","lineOpacity","fillOpacity","labels","shadow"],line:["tooltips","lineWidth","lineDash","lineOpacity","markers","labels"],scatter:["tooltips","markers","labels"],bubble:["tooltips","markers","labels"],area:["tooltips","lineWidth","lineDash","lineOpacity","fillOpacity","markers","labels","shadow"],histogram:["tooltips","bins","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],"radial-column":["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels"],"radial-bar":["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels"],"radar-line":["tooltips","strokeWidth","lineDash","lineOpacity","markers","labels"],"radar-area":["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","markers","labels"],nightingale:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels"],"box-plot":["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","whiskers","caps"],"range-bar":["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels"],"range-area":["tooltips","lineWidth","lineDash","lineOpacity","fillOpacity","markers","labels","shadow"],treemap:["tooltips","tileSpacing"],sunburst:["tooltips"],heatmap:["tooltips","labels","lineColor","lineWidth","lineOpacity"],waterfall:["tooltips","connectorLine","seriesItems"]},l.chartController=r,l.chartOptionsService=i,l.seriesType=o||l.getChartSeriesType(),l.isExpandedOnInit=s,l}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-top-level",direction:"vertical"};this.setTemplate(t.TEMPLATE,{seriesGroup:e}),this.seriesGroup.setTitle(this.translate("series")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0),this.addManagedListener(this.chartController,Il.EVENT_CHART_SERIES_CHART_TYPE_CHANGED,this.refreshWidgets.bind(this)),this.refreshWidgets()},t.prototype.refreshWidgets=function(){var e=this;this.destroyActivePanels();var r=this.chartController.getChartProxy().getChart();r.waitForUpdate().then(function(){var i,o=!e.isAlive();o||(e.chartController.isComboChart()&&(e.updateSeriesType(),e.initSeriesSelect()),((i=e.seriesWidgetMappings[e.seriesType])!==null&&i!==void 0?i:[]).forEach(function(a){return e.widgetFuncs[a]()}))}).catch(function(i){return console.error("AG Grid - chart rendering failed",i)})},t.prototype.initSeriesSelect=function(){var e=this,r=this.seriesGroup.createManagedBean(new Qu);r.setLabel(this.translate("seriesType")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth("flex").addOptions(this.getSeriesSelectOptions()).setValue("".concat(this.seriesType)).onValueChange(function(i){e.seriesType=i,e.refreshWidgets()}),this.seriesGroup.addItem(r),this.activePanels.push(r)},t.prototype.initTooltips=function(){var e=this,r=this.createBean(new hD);r.setLabel(this.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth("flex").setValue(this.getSeriesOption("tooltip.enabled")||!1).onValueChange(function(i){return e.setSeriesOption("tooltip.enabled",i)}),this.addWidget(r)},t.prototype.initLineColor=function(){var e=this,r=this.getSeriesOption("stroke"),i=this.createBean(new Iie);i.setLabel(this.translate("strokeColor")).setLabelWidth("flex").onValueChange(function(o){return e.setSeriesOption("stroke",o)}),r&&i.setValue(r),this.addWidget(i)},t.prototype.initStrokeWidth=function(e){var r=this,i,o=(i=this.getSeriesOption("strokeWidth"))!==null&&i!==void 0?i:0,a=this.createBean(new Ua);a.setLabel(this.translate(e)).setMaxValue(Xn(o,10)).setTextFieldWidth(45).setValue("".concat(o)).onValueChange(function(s){return r.setSeriesOption("strokeWidth",s)}),this.addWidget(a)},t.prototype.initLineDash=function(){var e=this,r=this.getSeriesOption("lineDash"),i=r?r[0]:0,o=this.createBean(new Ua);o.setLabel(this.translate("lineDash")).setMaxValue(Xn(i,30)).setTextFieldWidth(45).setValue("".concat(i)).onValueChange(function(a){return e.setSeriesOption("lineDash",[a])}),this.addWidget(o)},t.prototype.initLineOpacity=function(){var e=this,r,i=(r=this.getSeriesOption("strokeOpacity"))!==null&&r!==void 0?r:0,o=this.createBean(new Ua);o.setLabel(this.translate("strokeOpacity")).setStep(.05).setMaxValue(Xn(i,1)).setTextFieldWidth(45).setValue("".concat(i)).onValueChange(function(a){return e.setSeriesOption("strokeOpacity",a)}),this.addWidget(o)},t.prototype.initFillOpacity=function(){var e=this,r,i=(r=this.getSeriesOption("fillOpacity"))!==null&&r!==void 0?r:0,o=this.createBean(new Ua);o.setLabel(this.translate("fillOpacity")).setStep(.05).setMaxValue(Xn(i,1)).setTextFieldWidth(45).setValue("".concat(i)).onValueChange(function(a){return e.setSeriesOption("fillOpacity",a)}),this.addWidget(o)},t.prototype.initLabels=function(){var e=this,r=z2(this.seriesType),i=r?"calloutLabel":"label",o=r?this.chartTranslationService.translate("calloutLabels"):this.chartTranslationService.translate("labels"),a=MN({labelName:o,chartOptionsService:this.chartOptionsService,getSelectedSeries:function(){return e.seriesType},seriesOptionLabelProperty:i}),s=this.createBean(new th(a));if(r){var l=this.createBean(new Dqe(this.chartOptionsService,function(){return e.seriesType}));s.addCompToPanel(l),this.activePanels.push(l)}if(this.addWidget(s),r){var u=MN({labelName:this.chartTranslationService.translate("sectorLabels"),chartOptionsService:this.chartOptionsService,getSelectedSeries:function(){return e.seriesType},seriesOptionLabelProperty:"sectorLabel"}),c=this.createBean(new th(u)),d=this.getSectorLabelPositionRatio();c.addCompToPanel(d),this.addWidget(c)}if(this.seriesType==="range-bar"){var p=[{value:"inside",text:this.translate("inside")},{value:"outside",text:this.translate("outside")}],h=this.chartOptionsService.getSeriesOption("label.placement",this.seriesType),f=s.createManagedBean(new Qu);f.setLabel(this.translate("labelPlacement")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth("flex").addOptions(p).setValue(h).onValueChange(function(m){return e.chartOptionsService.setSeriesOption("label.placement",m,e.seriesType)}),s.addCompToPanel(f),this.activePanels.push(f);var v=this.chartOptionsService.getSeriesOption("label.padding",this.seriesType),g=s.createManagedBean(new Ua);g.setLabel(this.chartTranslationService.translate("padding")).setMaxValue(Xn(v,200)).setValue("".concat(v)).setTextFieldWidth(45).onValueChange(function(m){return e.chartOptionsService.setSeriesOption("label.padding",m,e.seriesType)}),s.addCompToPanel(g),this.activePanels.push(g)}},t.prototype.getSectorLabelPositionRatio=function(){var e=this,r="sectorLabel.positionRatio",i=this.chartOptionsService.getSeriesOption(r,this.seriesType),o=this.createBean(new Ua);return o.setLabel(this.translate("positionRatio")).setStep(.05).setMaxValue(Xn(i,1)).setTextFieldWidth(45).setValue("".concat(i)).onValueChange(function(a){return e.chartOptionsService.setSeriesOption(r,a,e.seriesType)})},t.prototype.initShadow=function(){var e=this,r=this.createBean(new _qe(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(r)},t.prototype.initMarkers=function(){var e=this,r=this.createBean(new bqe(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(r)},t.prototype.initBins=function(){var e=this,r,i=((r=this.getSeriesOption("bins"))!==null&&r!==void 0?r:this.getSeriesOption("calculatedBins",!0)).length,o=this.createBean(new Ua);o.setLabel(this.translate("histogramBinCount")).setMinValue(0).setMaxValue(Xn(i,20)).setTextFieldWidth(45).setValue("".concat(i)).onValueChange(function(a){return e.setSeriesOption("binCount",a)}),this.addWidget(o)},t.prototype.initWhiskers=function(){var e=this,r=this.createBean(new Nqe(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(r)},t.prototype.initCaps=function(){var e=this,r=this.createBean(new Mqe(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(r)},t.prototype.initConnectorLine=function(){var e=this,r=this.createBean(new Fqe(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(r)},t.prototype.initSeriesItemsPanel=function(){var e=this,r=this.createBean(new Gqe(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(r)},t.prototype.initTileSpacingPanel=function(){var e=this,r=this.createBean(new jqe(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(r)},t.prototype.addWidget=function(e){this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.getSeriesOption=function(e,r){return this.chartOptionsService.getSeriesOption(e,this.seriesType,r)},t.prototype.setSeriesOption=function(e,r){this.chartOptionsService.setSeriesOption(e,r,this.seriesType)},t.prototype.getChartSeriesType=function(){if(this.chartController.getSeriesChartTypes().length===0)return"column";var e=this.chartController.getSeriesChartTypes()[0].chartType;return e==="columnLineCombo"?"column":e==="areaColumnCombo"?"area":Tl(e)},t.prototype.getSeriesSelectOptions=function(){var e=this;this.seriesSelectOptions||(this.seriesSelectOptions=new Map([["area",{value:"area",text:this.translate("area","Area")}],["bar",{value:"bar",text:this.translate("bar","Bar")}],["column",{value:"column",text:this.translate("column","Column")}],["line",{value:"line",text:this.translate("line","Line")}],["scatter",{value:"scatter",text:this.translate("scatter","Scatter")}],["histogram",{value:"histogram",text:this.translate("histogram","Histogram")}],["radial-column",{value:"radial-column",text:this.translate("radialColumn","Radial Column")}],["radial-bar",{value:"radial-bar",text:this.translate("radialBar","Radial Bar")}],["radar-line",{value:"radar-line",text:this.translate("radarLine","Radar Line")}],["radar-area",{value:"radar-area",text:this.translate("radarArea","Radar Area")}],["nightingale",{value:"nightingale",text:this.translate("nightingale","Nightingale")}],["range-bar",{value:"range-bar",text:this.translate("rangeBar","Range Bar")}],["range-area",{value:"range-area",text:this.translate("rangeArea","Range Area")}],["treemap",{value:"treemap",text:this.translate("treemap","Treemap")}],["sunburst",{value:"sunburst",text:this.translate("sunburst","Sunburst")}],["waterfall",{value:"waterfall",text:this.translate("waterfall","Waterfall")}],["box-plot",{value:"box-plot",text:this.translate("boxPlot","Box Plot")}],["pie",{value:"pie",text:this.translate("pie","Pie")}],["donut",{value:"donut",text:this.translate("donut","Donut")}]]));var r=new Set;return this.chartController.getActiveSeriesChartTypes().forEach(function(i){var o=Tl(i.chartType);r.add(e.seriesSelectOptions.get(o))}),Array.from(r)},t.prototype.updateSeriesType=function(){var e=this.chartController.getActiveSeriesChartTypes().map(function(i){return Tl(i.chartType)}),r=!e.includes(this.seriesType);r&&e.length>0&&(this.seriesType=e[0])},t.prototype.translate=function(e,r){return this.chartTranslationService.translate(e,r)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){F.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div>
            <ag-group-component ref="seriesGroup">
            </ag-group-component>
        </div>`,nF([U("seriesGroup")],t.prototype,"seriesGroup",void 0),nF([O("chartTranslationService")],t.prototype,"chartTranslationService",void 0),nF([q],t.prototype,"init",null),t}(Ce),Wqe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),qd=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Uqe=function(n){Wqe(t,n);function t(e){var r=e.chartOptionsService,i=e.isExpandedOnInit,o=i===void 0?!1:i,a=n.call(this)||this;return a.activePanels=[],a.chartOptionsService=r,a.isExpandedOnInit=o,a}return t.prototype.init=function(){var e={cssIdentifier:"charts-format-top-level",direction:"vertical"};this.setTemplate(t.TEMPLATE,{legendGroup:e}),this.initLegendGroup(),this.initLegendPosition(),this.initLegendGradient(),this.initLegendSpacing(),this.initLabelPanel()},t.prototype.initLegendGroup=function(){var e=this;this.legendGroup.setTitle(this.chartTranslationService.translate("legend")).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("gradientLegend.enabled")||!1).toggleGroupExpand(this.isExpandedOnInit).onEnableChange(function(r){e.chartOptionsService.setChartOption("gradientLegend.enabled",r),e.legendGroup.toggleGroupExpand(!0)})},t.prototype.initLegendPosition=function(){var e=this,r=["top","right","bottom","left"];this.legendPositionSelect.setLabel(this.chartTranslationService.translate("position")).setLabelWidth("flex").setInputWidth("flex").addOptions(r.map(function(i){return{value:i,text:e.chartTranslationService.translate(i)}})).setValue(this.chartOptionsService.getChartOption("gradientLegend.position")).onValueChange(function(i){return e.chartOptionsService.setChartOption("gradientLegend.position",i)})},t.prototype.initLegendGradient=function(){var e=this;this.gradientReverseCheckbox.setLabel(this.chartTranslationService.translate("reverseDirection")).setLabelWidth("flex").setValue(this.chartOptionsService.getChartOption("gradientLegend.reverseOrder")).onValueChange(function(i){return e.chartOptionsService.setChartOption("gradientLegend.reverseOrder",i)});var r=function(i,o,a,s){var l,u=(l=e.chartOptionsService.getChartOption(i))!==null&&l!==void 0?l:0;a.setLabel(e.chartTranslationService.translate(o)).setMaxValue(Xn(u,s)).setValue("".concat(u)).setTextFieldWidth(45).onValueChange(function(c){e.chartOptionsService.setChartOption(i,c)})};r("gradientLegend.gradient.thickness","thickness",this.gradientThicknessSlider,40),r("gradientLegend.gradient.preferredLength","preferredLength",this.gradientPreferredLengthSlider,300)},t.prototype.initLegendSpacing=function(){var e=this,r=this.chartOptionsService.getChartOption("gradientLegend.spacing");this.legendSpacingSlider.setLabel(this.chartTranslationService.translate("spacing")).setMaxValue(Xn(r,200)).setValue("".concat(r)).setTextFieldWidth(45).onValueChange(function(i){return e.chartOptionsService.setChartOption("gradientLegend.spacing",i)})},t.prototype.initLabelPanel=function(){var e=this,r=this.chartOptionsService,i={family:r.getChartOption("gradientLegend.scale.label.fontFamily"),style:r.getChartOption("gradientLegend.scale.label.fontStyle"),weight:r.getChartOption("gradientLegend.scale.label.fontWeight"),size:r.getChartOption("gradientLegend.scale.label.fontSize"),color:r.getChartOption("gradientLegend.scale.label.color")},o=function(l){var u=e.chartOptionsService;l.family&&u.setChartOption("gradientLegend.scale.label.fontFamily",l.family),l.weight&&u.setChartOption("gradientLegend.scale.label.fontWeight",l.weight),l.style&&u.setChartOption("gradientLegend.scale.label.fontStyle",l.style),l.size&&u.setChartOption("gradientLegend.scale.label.fontSize",l.size),l.color&&u.setChartOption("gradientLegend.scale.label.color",l.color)},a={enabled:!0,suppressEnabledCheckbox:!0,initialFont:i,setFont:o},s=this.createBean(new th(a));this.legendGroup.addItem(s),this.activePanels.push(s)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(r){F.removeFromParent(r.getGui()),e.destroyBean(r)})},t.prototype.destroy=function(){this.destroyActivePanels(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div>
            <ag-group-component ref="legendGroup">
                <ag-select ref="legendPositionSelect"></ag-select>
                <ag-checkbox ref="gradientReverseCheckbox"></ag-checkbox>
                <ag-slider ref="gradientThicknessSlider"></ag-slider>
                <ag-slider ref="gradientPreferredLengthSlider"></ag-slider>
                <ag-slider ref="legendSpacingSlider"></ag-slider>
            </ag-group-component>
        </div>`,qd([U("legendGroup")],t.prototype,"legendGroup",void 0),qd([U("gradientReverseCheckbox")],t.prototype,"gradientReverseCheckbox",void 0),qd([U("legendPositionSelect")],t.prototype,"legendPositionSelect",void 0),qd([U("gradientThicknessSlider")],t.prototype,"gradientThicknessSlider",void 0),qd([U("gradientPreferredLengthSlider")],t.prototype,"gradientPreferredLengthSlider",void 0),qd([U("legendSpacingSlider")],t.prototype,"legendSpacingSlider",void 0),qd([O("chartTranslationService")],t.prototype,"chartTranslationService",void 0),qd([q],t.prototype,"init",null),t}(Ce),zqe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Kqe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};function Xn(n,t){return Math.max(n,t)}var Yqe={groups:[{type:"chart"},{type:"legend"},{type:"series"},{type:"axis"},{type:"navigator"}]},qqe=function(n){zqe(t,n);function t(e,r){var i=n.call(this,t.TEMPLATE)||this;return i.chartController=e,i.chartOptionsService=r,i.panels=[],i.isGroupPanelShownInSeries=function(o,a){var s,l,u=["chart","legend","series"];if(u.includes(o))return!0;var c={bar:["axis","navigator"],column:["axis","navigator"],line:["axis","navigator"],area:["axis","navigator"],scatter:["axis","navigator"],bubble:["axis","navigator"],histogram:["axis","navigator"],cartesian:["axis","navigator"],"radial-column":["axis"],"radial-bar":["axis"],"radar-line":["axis"],"radar-area":["axis"],nightingale:["axis"],"range-bar":["axis","navigator"],"range-area":["axis","navigator"],treemap:[],sunburst:[],heatmap:["axis"],waterfall:["axis","navigator"],"box-plot":["axis","navigator"]};return(l=(s=c[a])===null||s===void 0?void 0:s.includes(o))!==null&&l!==void 0?l:!1},i}return t.prototype.init=function(){var e=this;this.createPanels(),this.addManagedListener(this.chartController,Il.EVENT_CHART_UPDATED,function(){return e.createPanels(!0)}),this.addManagedListener(this.chartController,Il.EVENT_CHART_API_UPDATE,function(){return e.createPanels(!1)})},t.prototype.createPanels=function(e){var r=this,i,o=this.chartController.getChartType(),a=this.chartController.isGrouping(),s=Tl(o);e&&o===this.chartType&&a===this.isGrouping||(this.destroyPanels(),(i=this.getFormatPanelDef().groups)===null||i===void 0||i.forEach(function(l){var u=l.type;if(r.isGroupPanelShownInSeries(u,s)){var c={chartController:r.chartController,chartOptionsService:r.chartOptionsService,isExpandedOnInit:l.isOpen,seriesType:s};if(u==="chart")r.addComponent(new Sqe(c));else if(u==="legend"){var d=O7e(o)?new Uqe(c):new rqe(c);r.addComponent(d)}else if(u==="axis"){var d=Pie(o)?new uqe(c):new sqe(c);r.addComponent(d)}else u==="series"?r.addComponent(new $qe(c)):u==="navigator"?r.addComponent(new dqe(c)):console.warn("AG Grid: invalid charts format panel group name supplied: '".concat(l.type,"'"))}}),this.chartType=o,this.isGrouping=a)},t.prototype.getFormatPanelDef=function(){var e,r=(e=this.gridOptionsService.get("chartToolPanelsDef"))===null||e===void 0?void 0:e.formatPanel;return r||Yqe},t.prototype.addComponent=function(e){this.createBean(e),this.panels.push(e),e.addCssClass("ag-chart-format-section"),this.getGui().appendChild(e.getGui())},t.prototype.destroyPanels=function(){var e=this;this.panels.forEach(function(r){F.removeFromParent(r.getGui()),e.destroyBean(r)}),this.panels=[]},t.prototype.destroy=function(){this.destroyPanels(),n.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-chart-format-wrapper"></div>',Kqe([q],t.prototype,"init",null),t}(Ce),Xqe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),I5=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Zqe="ag-chart-mini-thumbnail-canvas",Qqe="AG Grid - chart update failed",By=function(n){Xqe(t,n);function t(e,r){var i=n.call(this)||this;i.size=58,i.padding=5,i.root=new ge.Group;var o=new ge.Scene({window,document:window.document,width:i.size,height:i.size});return o.canvas.element.classList.add(Zqe),o.root=i.root,o.container=e,i.scene=o,i.tooltipName=r,i}return t.prototype.init=function(){this.scene.canvas.element.title=this.chartTranslationService.translate(this.tooltipName),this.scene.render().catch(function(e){console.error("".concat(Qqe),e)})},I5([O("chartTranslationService")],t.prototype,"chartTranslationService",void 0),I5([q],t.prototype,"init",null),t}(Ce),Jqe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),eXe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},co=function(n){Jqe(t,n);function t(e,r){var i=n.call(this,e,r)||this;return i.stroke="gray",i.axisOvershoot=3,i}return t.prototype.addAxes=function(){var e=this.size,r=this.padding,i=new ge.Line;i.x1=r,i.y1=r,i.x2=r,i.y2=e-r+this.axisOvershoot,i.stroke=this.stroke;var o=new ge.Line;o.x1=r-this.axisOvershoot+1,o.y1=e-r,o.x2=e-r+1,o.y2=e-r,o.stroke=this.stroke;var a=this.root;a.append(i),a.append(o)},eXe([q],t.prototype,"addAxes",null),t}(By),FN=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},N5=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))};function J_(n){var t=n.stacked,e=n.size,r=n.padding,i=n.xScalePadding,o=n.xScaleDomain,a=n.yScaleDomain,s=new ge.BandScale;s.domain=o,s.range=[r,e-r],s.paddingInner=i,s.paddingOuter=i;var l=new ge.LinearScale;l.domain=a,l.range=[e-r,r];var u=function(c,d,p){return c.map(function(h,f){var v=p.convert(h),g=new ge.Rect;return g.x=d.convert(f),g.y=v,g.width=d.bandwidth,g.height=p.convert(0)-v,g.strokeWidth=0,g.crisp=!0,g})};return t?n.data.map(function(c){return u(c,s,l)}):u(n.data,s,l)}function Y2(n,t,e,r){var i=new ge.LinearScale;i.domain=[0,4],i.range=[r,e-r];var o=new ge.LinearScale;o.domain=[0,10],o.range=[e-r,r];var a=t.map(function(l){var u=new ge.Path;return u.strokeWidth=3,u.lineCap="round",u.fill=void 0,l.forEach(function(c,d){u.path[d>0?"lineTo":"moveTo"](i.convert(d),o.convert(c))}),u}),s=new ge.Group;return s.setClipRectInGroupCoordinateSpace(new ge.BBox(r,r,e-r*2,e-r*2)),s.append(a),n.append(s),a}function Nie(n,t,e,r,i,o){o===void 0&&(o=0);var a=new ge.LinearScale;a.domain=[0,7],a.range=[-Math.PI,Math.PI].map(function(p){return p+Math.PI/2});var s=new ge.LinearScale;s.domain=[0,10],s.range=[r,i];var l=[],u=t.map(function(p){var h=new ge.Path;return h.strokeWidth=1,h.strokeOpacity=.5,h.lineCap="round",h.fill=void 0,h.fillOpacity=.8,p.forEach(function(f,v){var g=a.convert(v),m=r+i-s.convert(f),y=m*Math.cos(g),C=m*Math.sin(g);if(h.path[v>0?"lineTo":"moveTo"](y,C),o>0){var S=new ge.Circle;S.x=y,S.y=C,S.size=o,l.push(S)}}),h.path.closePath(),h}),c=new ge.Group,d=e/2;return c.translationX=d,c.translationY=d,c.append(N5(N5([],FN(u),!1),FN(l),!1)),n.append(c),{paths:u,markers:l}}function lA(n){var t=FN([1/0,-1/0],2),e=t[0],r=t[1],i=n.reduce(function(o,a,s){var l,u=s>0?o[s-1]:void 0;(l=o[s])!==null&&l!==void 0||(o[s]=[]);var c=o[s];return a.forEach(function(d,p){u&&(d+=u[p]),c[p]=d,c[p]<e&&(e=c[p]),c[p]>r&&(r=c[p])}),o},[]);return{processedData:i,min:e,max:r}}var tXe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),rXe=function(n){tXe(t,n);function t(e,r,i){var o=n.call(this,e,"groupedColumnTooltip")||this;o.columnData=[2,3,4];var a=o,s=a.root,l=a.columnData,u=a.size,c=a.padding;return o.columns=J_({stacked:!1,root:s,data:l,size:u,padding:c,xScaleDomain:[0,1,2],yScaleDomain:[0,4],xScalePadding:.3}),s.append(o.columns),o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.columns.forEach(function(i,o){i.fill=e[o],i.stroke=r[o]})},t.chartType="groupedColumn",t}(co),nXe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),kie=function(n){nXe(t,n);function t(e,r,i,o,a,s,l,u){s===void 0&&(s=t.data),l===void 0&&(l=[0,16]),u===void 0&&(u="stackedColumnTooltip");var c=n.call(this,e,u)||this,d=c,p=d.root,h=d.size,f=d.padding;return c.stackedColumns=J_({stacked:!0,root:p,data:s,size:h,padding:f,xScaleDomain:[0,1,2],yScaleDomain:l,xScalePadding:.3}),p.append([].concat.apply([],c.stackedColumns)),c.updateColors(r,i),c}return t.prototype.updateColors=function(e,r){this.stackedColumns.forEach(function(i,o){return i.forEach(function(a){a.fill=e[o],a.stroke=r[o]})})},t.chartType="stackedColumn",t.data=[[8,12,16],[6,9,12],[2,3,4]],t}(co),iXe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),oXe=function(n){iXe(t,n);function t(e,r,i,o,a){return n.call(this,e,r,i,o,a,t.data,[0,10],"normalizedColumnTooltip")||this}return t.chartType="normalizedColumn",t.data=[[10,10,10],[6,7,8],[2,4,6]],t}(kie),aXe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sXe=function(n){aXe(t,n);function t(e,r,i){var o=n.call(this,e,"groupedBarTooltip")||this,a=o.padding,s=o.size,l=[2,3,4],u=new ge.BandScale;u.domain=[0,1,2],u.range=[a,s-a],u.paddingInner=.3,u.paddingOuter=.3;var c=new ge.LinearScale;c.domain=[0,4],c.range=[s-a,a];var d=c.convert(0),p=u.bandwidth;return o.bars=l.map(function(h,f){var v=new ge.Rect;return v.x=a,v.y=u.convert(f),v.width=d-c.convert(h),v.height=p,v.strokeWidth=0,v.crisp=!0,v}),o.updateColors(r,i),o.root.append(o.bars),o}return t.prototype.updateColors=function(e,r){this.bars.forEach(function(i,o){i.fill=e[o],i.stroke=r[o]})},t.chartType="groupedBar",t}(co),lXe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gie=function(n){lXe(t,n);function t(e,r,i,o,a,s,l,u){s===void 0&&(s=t.data),l===void 0&&(l=[0,16]),u===void 0&&(u="stackedBarTooltip");var c=n.call(this,e,u)||this,d=c.size,p=c.padding,h=new ge.BandScale;h.domain=[0,1,2],h.range=[p,d-p],h.paddingInner=.3,h.paddingOuter=.3;var f=new ge.LinearScale;f.domain=l,f.range=[d-p,p];var v=f.convert(0),g=h.bandwidth;return c.bars=s.map(function(m){return m.map(function(y,C){var S=new ge.Rect;return S.x=p,S.y=h.convert(C),S.width=v-f.convert(y),S.height=g,S.strokeWidth=0,S.crisp=!0,S})}),c.updateColors(r,i),c.root.append([].concat.apply([],c.bars)),c}return t.prototype.updateColors=function(e,r){this.bars.forEach(function(i,o){return i.forEach(function(a){a.fill=e[o],a.stroke=r[o]})})},t.chartType="stackedBar",t.data=[[8,12,16],[6,9,12],[2,3,4]],t}(co),uXe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),cXe=function(n){uXe(t,n);function t(e,r,i,o,a){return n.call(this,e,r,i,o,a,t.data,[0,10],"normalizedBarTooltip")||this}return t.chartType="normalizedBar",t.data=[[10,10,10],[6,7,8],[2,4,6]],t}(Gie),dXe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),pXe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Cs=ge.toRadians,IN=function(n){dXe(t,n);function t(e,r,i,o,a,s,l){s===void 0&&(s=.6),l===void 0&&(l="donutTooltip");var u=n.call(this,e,l)||this,c=(u.size-u.padding*2)/2,d=c+u.padding,p=[[Cs(-90),Cs(30)],[Cs(30),Cs(120)],[Cs(120),Cs(180)],[Cs(180),Cs(210)],[Cs(210),Cs(240)],[Cs(240),Cs(270)]];return u.sectors=p.map(function(h){var f=pXe(h,2),v=f[0],g=f[1],m=new ge.Sector;return m.centerX=d,m.centerY=d,m.innerRadius=c*s,m.outerRadius=c,m.startAngle=v,m.endAngle=g,m.stroke=void 0,m.strokeWidth=0,m.inset=.75,m}),u.updateColors(r,i),u.root.append(u.sectors),u}return t.prototype.updateColors=function(e,r){this.sectors.forEach(function(i,o){i.fill=e[o%e.length],i.stroke=r[o%r.length]})},t.chartType="donut",t}(By),hXe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),fXe=function(n){hXe(t,n);function t(e,r,i,o,a){return n.call(this,e,r,i,o,a,0,"pieTooltip")||this}return t.chartType="pie",t}(IN),vXe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),gXe=function(n){vXe(t,n);function t(e,r,i){var o=n.call(this,e,"lineTooltip")||this;return o.data=[[9,7,8,5,6],[5,6,3,4,1],[1,3,4,8,7]],o.lines=Y2(o.root,o.data,o.size,o.padding),o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.lines.forEach(function(i,o){i.stroke=e[o]})},t.chartType="line",t}(co),mXe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),yXe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},CXe=function(n){mXe(t,n);function t(e,r,i){var o=n.call(this,e,"scatterTooltip")||this,a=o.size,s=o.padding,l=[[[.3,3],[1.1,.9],[2,.4],[3.4,2.4]],[[0,.3],[1,2],[2.4,1.4],[3,0]]],u=new ge.LinearScale;u.domain=[-.5,4],u.range=[s*2,a-s];var c=new ge.LinearScale;c.domain=[-.5,3.5],c.range=[a-s,s];var d=[];l.forEach(function(h){h.forEach(function(f){var v=yXe(f,2),g=v[0],m=v[1],y=new ge.Arc;y.strokeWidth=0,y.centerX=u.convert(g),y.centerY=c.convert(m),y.radius=2.5,d.push(y)})}),o.points=d,o.updateColors(r,i);var p=new ge.Group;return p.setClipRectInGroupCoordinateSpace(new ge.BBox(s,s,a-s*2,a-s*2)),p.append(o.points),o.root.append(p),o}return t.prototype.updateColors=function(e,r){this.points.forEach(function(i,o){i.stroke=r[o%r.length],i.fill=e[o%e.length]})},t.chartType="scatter",t}(co),SXe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),wXe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},_Xe=function(n){SXe(t,n);function t(e,r,i){var o=n.call(this,e,"bubbleTooltip")||this,a=o.size,s=o.padding,l=[[[.1,.3,5],[.5,.4,7],[.2,.8,7]],[[.8,.7,5],[.7,.3,9]]],u=new ge.LinearScale;u.domain=[0,1],u.range=[s*2,a-s];var c=new ge.LinearScale;c.domain=[0,1],c.range=[a-s,s];var d=[];l.forEach(function(h){h.forEach(function(f){var v=wXe(f,3),g=v[0],m=v[1],y=v[2],C=new ge.Arc;C.strokeWidth=0,C.centerX=u.convert(g),C.centerY=c.convert(m),C.radius=y,C.fillOpacity=.7,d.push(C)})}),o.points=d,o.updateColors(r,i);var p=new ge.Group;return p.setClipRectInGroupCoordinateSpace(new ge.BBox(s,s,a-s*2,a-s*2)),p.append(o.points),o.root.append(p),o}return t.prototype.updateColors=function(e,r){this.points.forEach(function(i,o){i.stroke=r[o%r.length],i.fill=e[o%e.length]})},t.chartType="bubble",t}(co),xXe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),bXe=function(n){xXe(t,n);function t(e,r,i,o,a,s){s===void 0&&(s=t.data);var l=n.call(this,e,"groupedAreaTooltip")||this,u=l.size,c=l.padding,d=new ge.BandScale;d.domain=[0,1,2],d.paddingInner=1,d.paddingOuter=0,d.range=[c+.5,u-c-.5];var p=new ge.LinearScale;p.domain=[0,6],p.range=[u-c+.5,c];var h=s.length,f=h*2-1,v=[],g=p.convert(0);return s.forEach(function(m,y){var C=d.convert(y);m.forEach(function(S,w){var _=p.convert(S),x=v[w]||(v[w]=[]);x[y]={x:C,y:_},x[f-y]={x:C,y:g}})}),l.areas=v.reverse().map(function(m){var y=new ge.Path;y.strokeWidth=1,y.strokeOpacity=.75,y.fillOpacity=.7;var C=y.path;return C.clear(),m.forEach(function(S,w){return C[w>0?"lineTo":"moveTo"](S.x,S.y)}),C.closePath(),y}),l.updateColors(r,i),l.root.append(l.areas),l}return t.prototype.updateColors=function(e,r){this.areas.forEach(function(i,o){i.fill=e[o],i.stroke=r[o]})},t.chartType="area",t.data=[[1,3,5],[2,6,4],[5,3,1]],t}(co),EXe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),NN=function(n){EXe(t,n);function t(e,r,i,o,a,s,l){s===void 0&&(s=t.data),l===void 0&&(l="stackedAreaTooltip");var u=n.call(this,e,l)||this,c=u.size,d=u.padding,p=new ge.BandScale;p.domain=[0,1,2],p.paddingInner=1,p.paddingOuter=0,p.range=[d+.5,c-d-.5];var h=new ge.LinearScale;h.domain=[0,16],h.range=[c-d+.5,d+.5];var f=s.length,v=f*2-1,g=[];return s.forEach(function(m,y){var C=p.convert(y),S=0;m.forEach(function(w,_){var x=h.convert(S+w),E=g[_]||(g[_]=[]);E[y]={x:C,y:x},E[v-y]={x:C,y:h.convert(S)},S+=w})}),u.areas=g.map(function(m){var y=new ge.Path;y.strokeWidth=0;var C=y.path;return C.clear(),m.forEach(function(S,w){return C[w>0?"lineTo":"moveTo"](S.x,S.y)}),C.closePath(),y}),u.updateColors(r,i),u.root.append(u.areas),u}return t.prototype.updateColors=function(e,r){this.areas.forEach(function(i,o){i.fill=e[o],i.stroke=r[o]})},t.chartType="stackedArea",t.data=[[2,3,2],[3,6,5],[6,2,2]],t}(co),OXe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),RXe=function(n){OXe(t,n);function t(e,r,i,o,a,s){return s===void 0&&(s=t.data),n.call(this,e,r,i,o,a,s,"normalizedAreaTooltip")||this}return t.chartType="normalizedArea",t.data=NN.data.map(function(e){var r=e.reduce(function(i,o){return i+o},0);return e.map(function(i){return i/r*16})}),t}(NN),TXe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),k5=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},PXe=function(n){TXe(t,n);function t(e,r,i){var o=n.call(this,e,"histogramTooltip")||this,a=o.padding,s=o.size,l=[2,5,11,13,10,6,1],u=new ge.LinearScale;u.domain=[0,l.length],u.range=[a,s-a];var c=new ge.LinearScale;c.domain=[0,l.reduce(function(p,h){return Math.max(p,h)},0)],c.range=[s-a,a];var d=c.convert(0);return o.bars=l.map(function(p,h){var f=c.convert(p),v=u.convert(h),g=u.convert(h+1),m=new ge.Rect;return m.x=v,m.y=f,m.width=g-v,m.height=d-f,m.strokeWidth=1,m.strokeOpacity=.75,m.crisp=!0,m}),o.updateColors(r,i),o.root.append(o.bars),o}return t.prototype.updateColors=function(e,r){var i=k5(e,1),o=i[0],a=k5(r,1),s=a[0];this.bars.forEach(function(l){l.fill=o,l.stroke=s})},t.chartType="histogram",t}(co),DXe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),AXe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},jy=function(n){DXe(t,n);function t(e,r){var i=n.call(this,e,r)||this;return i.stroke="gray",i.showRadiusAxisLine=!0,i.showAngleAxisLines=!0,i}return t.prototype.addAxes=function(){var e=this,r=this.size,i=this.padding,o=i*2,a=(r-o)/2,s=this.showAngleAxisLines?[a,a*.8,a*.6,a*.4]:[],l=new ge.Line;l.x1=r/2,l.y1=i,l.x2=r/2,l.y2=r-i-a-s[s.length-1],l.stroke=this.stroke,l.strokeOpacity=.5,l.fill=void 0,l.visible=this.showRadiusAxisLine;var u=i+a;this.gridLines=s.map(function(d,p){var h=new ge.Path;return h.path.arc(u,u,d,0,2*Math.PI),h.strokeWidth=1,h.stroke=e.stroke,h.strokeOpacity=p===0?.5:.2,h.fill=void 0,h});var c=this.root;c.append(l),this.gridLines.length>0&&c.append(this.gridLines)},AXe([q],t.prototype,"addAxes",null),t}(By),MXe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),LXe=function(n){MXe(t,n);function t(e,r,i){var o=n.call(this,e,"radialColumnTooltip")||this;o.data=[[6,8,10,2,6,5],[4,4,3,6,4,4],[5,4,2,9,8,9]],o.showRadiusAxisLine=!1;var a=o,s=a.padding,l=a.size,u=a.data,c=(l-s*2)/2,d=.4,p=c*d,h=new ge.BandScale;h.domain=u[0].map(function(S,w){return w}),h.range=[0,2*Math.PI],h.paddingInner=0,h.paddingOuter=0;var f=h.bandwidth*.7,v=lA(u),g=v.processedData,m=v.max,y=new ge.LinearScale;y.domain=[0,m],y.range=[p,c];var C=o.size/2;return o.series=g.map(function(S,w){var _=w===0,x=_?void 0:g[w-1],E=new ge.Group({zIndex:1e6}),R=S.map(function(P,A){var N=x==null?void 0:x[A],I=y.convert(P),G=y.convert(N??0),V=h.convert(A),H=V+f,j=ge.getRadialColumnWidth(V,H,c,.5,.5),B=new ge.RadialColumnShape;return B.scalingCenterX=C,B.scalingCenterY=C,B.columnWidth=j,B.innerRadius=G,B.outerRadius=I,B.startAngle=V,B.endAngle=H,B.isBeveled=!0,B.axisInnerRadius=p,B.axisOuterRadius=c,B.stroke=void 0,B.strokeWidth=0,B});return E.append(R),E.translationX=C,E.translationY=C,E}),o.root.append(o.series),o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.series.forEach(function(i,o){var a;(a=i.children)===null||a===void 0||a.forEach(function(s){s.fill=e[o%e.length],s.stroke=r[o%r.length]})})},t.chartType="radialColumn",t}(jy),FXe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),IXe=function(n){FXe(t,n);function t(e,r,i){var o=n.call(this,e,"radialBarTooltip")||this;o.data=[[6,8,10],[4,4,3],[5,4,2]],o.showRadiusAxisLine=!1;var a=(o.size-o.padding)/2,s=.4,l=a*s,u=a+l,c=new ge.BandScale;c.domain=o.data[0].map(function(C,S){return S}),c.range=[a,l],c.paddingInner=.5,c.paddingOuter=0;var d=c.bandwidth,p=lA(o.data),h=p.processedData,f=p.max,v=new ge.LinearScale;v.domain=[0,Math.ceil(f*1.5)];var g=3/2*Math.PI,m=g+2*Math.PI;v.range=[g,m];var y=o.size/2;return o.series=h.map(function(C,S){var w=S<0?void 0:h[S-1],_=new ge.Group({zIndex:1e6}),x=C.map(function(E,R){var P,A=(P=w==null?void 0:w[R])!==null&&P!==void 0?P:0,N=u-c.convert(R),I=N+d,G=v.convert(A),V=v.convert(E),H=new ge.Sector;return H.centerX=y,H.centerY=y,H.innerRadius=N,H.outerRadius=I,H.startAngle=G,H.endAngle=V,H.stroke=void 0,H.strokeWidth=0,H});return _.append(x),_}),o.root.append(o.series),o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.series.forEach(function(i,o){var a;(a=i.children)===null||a===void 0||a.forEach(function(s){s.fill=e[o%e.length],s.stroke=r[o%r.length]})})},t.chartType="radialBar",t}(jy),NXe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),kXe=function(n){NXe(t,n);function t(e,r,i){var o=n.call(this,e,"radarLineTooltip")||this;o.markerSize=4,o.data=[[8,7,8,7,8,8,7,8],[6,8,5,10,6,7,4,6],[0,3,3,5,4,4,2,0]],o.showRadiusAxisLine=!1;var a=(o.size-o.padding*2)/2,s=0,l=Nie(o.root,o.data,o.size,a,s,o.markerSize),u=l.paths,c=l.markers;return o.lines=u,o.markers=c,o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){var i=this;this.lines.forEach(function(o,a){var s=i.data[a].length;o.stroke=e[a];var l=a*s,u=l+s,c=i.markers.slice(l,u);c.forEach(function(d){d.stroke=r[a],d.fill=e[a]})})},t.chartType="radarLine",t}(jy),GXe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),VXe=function(n){GXe(t,n);function t(e,r,i){var o=n.call(this,e,"radarAreaTooltip")||this;o.data=[[8,10,5,7,4,1,5,8],[1,1,2,7,7,8,10,1],[4,5,9,9,4,2,3,4]],o.showRadiusAxisLine=!1;var a=(o.size-o.padding*2)/2,s=a-o.size*.3;return o.areas=Nie(o.root,o.data,o.size,a,s).paths,o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.areas.forEach(function(i,o){i.fill=e[o],i.stroke=r[o]})},t.chartType="radarArea",t}(jy),BXe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jXe=function(n){BXe(t,n);function t(e,r,i){var o=n.call(this,e,"nightingaleTooltip")||this;o.data=[[6,10,9,8,7,8],[4,6,5,4,5,5],[3,5,4,3,4,7]],o.showRadiusAxisLine=!1;var a=(o.size-o.padding*2)/2,s=new ge.BandScale;s.domain=o.data[0].map(function(f,v){return v}),s.range=[-Math.PI,Math.PI],s.paddingInner=0,s.paddingOuter=0;var l=s.bandwidth*.7,u=lA(o.data),c=u.processedData,d=u.max,p=new ge.LinearScale;p.domain=[0,d],p.range=[0,a];var h=o.size/2;return o.series=c.map(function(f,v){var g=v<0?void 0:c[v-1],m=new ge.Group({zIndex:1e6}),y=f.map(function(C,S){var w=g==null?void 0:g[S],_=p.convert(C),x=p.convert(w??0),E=s.convert(S),R=E+l,P=new ge.Sector;return P.centerX=h,P.centerY=h,P.innerRadius=x,P.outerRadius=_,P.startAngle=E,P.endAngle=R,P.stroke=void 0,P.strokeWidth=0,P});return m.append(y),m}),o.root.append(o.series),o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.series.forEach(function(i,o){var a;(a=i.children)===null||a===void 0||a.forEach(function(s){s.fill=e[o%e.length],s.stroke=r[o%r.length]})})},t.chartType="nightingale",t}(jy),HXe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$Xe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},WXe=function(n){HXe(t,n);function t(e,r,i){var o=n.call(this,e,"rangeBarTooltip")||this,a=[3,3.5,3];return o.bars=o.createRangeBar(o.root,a,o.size,o.padding,"vertical"),o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.bars.forEach(function(i,o){i.fill=e[o],i.stroke=r[o]})},t.prototype.createRangeBar=function(e,r,i,o,a){var s=a==="horizontal",l=2*o,u=new ge.BandScale;u.domain=r.map(function(v,g){return g}),u.range=[o,i-o],u.paddingInner=.3,u.paddingOuter=.3;var c=.7,d=1.3,p=new ge.LinearScale;p.domain=[r.reduce(function(v,g){return Math.min(v,g)},1/0)*c,r.reduce(function(v,g){return Math.max(v,g)},0)*d],p.range=[l,i-l];var h=u.bandwidth,f=r.map(function(v,g){var m=$Xe([v*c,v*d],2),y=m[0],C=m[1],S=u.convert(g),w=p.convert(y),_=p.convert(C)-w,x=new ge.Rect;return x.x=s?w:S,x.y=s?S:w,x.width=s?_:h,x.height=s?h:_,x.strokeWidth=0,x.crisp=!0,x});return e.append(f),f},t.chartType="rangeBar",t}(co),UXe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),XS=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Vie=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},zXe=function(n){UXe(t,n);function t(e,r,i){var o=n.call(this,e,"rangeAreaTooltip")||this,a=4,s=[iF({offset:.375*a,length:a,pattern:{low:3,high:5,period:a}}),iF({offset:.375*a,length:a,pattern:{low:2.25,high:4.25,period:a}}),iF({offset:.75*a,length:a,pattern:{low:2.5,high:4.5,period:a}})],l=1.75,u=s.map(function(h){return h.map(function(f){var v=XS(f,2),g=v[0],m=v[1];return{x:g,low:m-.5*l,high:m+.5*l}})}),c=o.createRangeArea(o.root,u,o.size,o.padding),d=c.lines,p=c.areas;return o.lines=d,o.areas=p,o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){e=V5(e,1,2),r=V5(r,1,2),this.lines.forEach(function(i,o){var a=XS(i,2),s=a[0],l=a[1];s.fill=void 0,s.stroke=r[o],l.fill=void 0,l.stroke=r[o]}),this.areas.forEach(function(i,o){i.fill=e[o]})},t.prototype.createRangeArea=function(e,r,i,o){var a=r.reduce(function(g,m){return m.reduce(function(y,C){var S=C.x;return Math.min(y,S)},g)},1/0),s=r.reduce(function(g,m){return m.reduce(function(y,C){var S=C.x;return Math.max(y,S)},g)},-1/0),l=r.reduce(function(g,m){return m.reduce(function(y,C){var S=C.low;return Math.min(y,S)},g)},1/0),u=r.reduce(function(g,m){return m.reduce(function(y,C){var S=C.high;return Math.max(y,S)},g)},-1/0),c=new ge.LinearScale;c.domain=[a,s],c.range=[o,i-o];var d=2*o,p=new ge.LinearScale;p.domain=[l,u],p.range=[i-d,d];var h=[],f=[],v=r.map(function(g){var m=new ge.Path,y=new ge.Path,C=new ge.Path;return h.push([m,y]),f.push(C),m.strokeWidth=0,y.strokeWidth=0,C.strokeWidth=0,C.fillOpacity=.8,m.path.clear(),y.path.clear(),C.path.clear(),g.map(function(S,w){var _=S.x,x=S.low,E=S.high,R=c.convert(_),P=p.convert(x),A=p.convert(E),N=w>0?"lineTo":"moveTo";return m.path[N](R,A),y.path[N](R,P),C.path[N](R,A),[R,P]})});return v.forEach(function(g,m){for(var y=g.length-1,C=f[m],S=y;S>=0;S--){var w=XS(g[S],2),_=w[0],x=w[1];C.path.lineTo(_,x)}}),e.append(f.concat.apply(f,Vie([],XS(h),!1))),{lines:h,areas:f}},t.chartType="rangeArea",t}(co);function iF(n){var t=n.offset,e=n.length,r=n.pattern,i=s(t,e,r),o=0,a=e;return(i.length===0||i[0][0]!==o)&&i.unshift(l(o,t,r)),i[i.length-1][0]!==a&&i.push(l(a,t,r)),i;function s(c,d,p){var h=p.period,f=c/h,v=[0,.5],g=v.map(function(y){return y-f}).map(G5).sort(function(y,C){return y-C}),m=Array.from({length:Math.floor(g.length*(h/d))},function(y,C){return g[C%g.length]+Math.floor(C/g.length)});return m.map(function(y){return y*h}).map(function(y){return l(y,c,p)})}function l(c,d,p){return[c,u(d+c,p)]}function u(c,d){var p=d.low,h=d.high,f=d.period,v=G5(c/f),g=v>.5?1-2*(v-.5):2*v;return p+(h-p)*g}}function G5(n){var t=n%1;return t<0?t+1:t}function V5(n,t,e){var r=Vie([],XS(n),!1),i=r[t];return r[t]=r[e],r[e]=i,r}var KXe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),YXe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},qXe=function(n){KXe(t,n);function t(e,r,i,o,a){var s=n.call(this,e,"boxPlotTooltip")||this,l=s.padding,u=s.size,c=[11,11.5,10.5],d=1.2,p=1.1,h=.9,f=.8,v=new ge.LinearScale;v.domain=[c.reduce(function(C,S){return Math.min(C,S)},1/0)*f,c.reduce(function(C,S){return Math.max(C,S)},0)*d],v.range=[u-1.5*l,l];var g=new ge.BandScale;g.domain=c.map(function(C,S){return S}),g.range=[l,u-l],g.paddingInner=.4,g.paddingOuter=.2;var m=Math.round(g.bandwidth),y=Math.round(g.bandwidth/2);return s.boxPlotGroups=c.map(function(C,S){var w=YXe([C*f,C*h,C*p,C*d],4),_=w[0],x=w[1],E=w[2],R=w[3],P=Math.round(v.convert(E)),A=Math.round(g.convert(S)),N=Math.round(A+m),I=Math.round(v.convert(x)),G=Math.round(v.convert(_)),V=Math.round(v.convert(C)),H=Math.round(v.convert(R)),j=A+y,B=new ge.Group,$=new ge.Rect,W=new ge.Line,Y=new ge.Line,Z=new ge.Line,se=new ge.Line,X=new ge.Line;return $.x=A,$.y=P,$.width=m,$.height=I-P,$.strokeWidth=1,$.strokeOpacity=.75,$.crisp=!0,s.setLineProperties(W,A,N,V,V),s.setLineProperties(Y,j,j,H,P),s.setLineProperties(Z,j,j,G,I),s.setLineProperties(se,A,N,H,H),s.setLineProperties(X,A,N,G,G),B.append([$,W,Y,Z,se,X]),B}),s.updateColors(r,i,o,a),s.root.append(s.boxPlotGroups),s}return t.prototype.updateColors=function(e,r,i,o){var a,s=i==null?void 0:i.properties.get(Fl.DEFAULT_BACKGROUND_COLOUR),l=(a=Array.isArray(s)?s[0]:s)!==null&&a!==void 0?a:"white";this.boxPlotGroups.forEach(function(u,c){var d;(d=u.children)===null||d===void 0||d.forEach(function(p){var h=e[c%e.length];p.fill=o?h:cn.Color.interpolate(h,l)(.7),p.stroke=r[c%r.length]})})},t.prototype.setLineProperties=function(e,r,i,o,a){e.x1=r,e.x2=i,e.y1=o,e.y2=a,e.strokeOpacity=.75},t.chartType="boxPlot",t}(co),XXe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ZXe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},QXe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},JXe=function(n){XXe(t,n);function t(e,r,i,o,a){var s=n.call(this,e,"treemapTooltip")||this,l=s,u=l.size,c=l.padding,d=[[1,1],[3,2,1]],p=d.length,h=p%2===0?.3:.2,f=[c,u-c],v=d.length,g=v*(v+1)/2,m=h/(v-1),y=f[1]-f[0],C=y-h,S=f[0];s.rects=d.reduce(function(_,x,E){_??(_=[]);var R=(v-E)/g,P=C*R,A=x.length,N=x.reduce(function(j,B){return j+=B},0),I=h/(A-1||1),G=A>1?y-h:y,V=f[0],H=x.map(function(j){var B=new ge.Rect,$=G*j/N;return B.x=S,B.y=V,B.width=P,B.height=$,B.strokeWidth=.75,B.crisp=!0,V+=$+I,B});return S+=P+m,_.push.apply(_,QXe([],ZXe(H),!1)),_},[]),s.updateColors(r,i,o,a);var w=new ge.Group;return w.setClipRectInGroupCoordinateSpace(new ge.BBox(c,c,u-c,u-c)),w.append(s.rects),s.root.append(w),s}return t.prototype.updateColors=function(e,r,i,o){var a,s=(i??{}).properties,l=s==null?void 0:s.get(Fl.DEFAULT_BACKGROUND_COLOUR),u=(a=Array.isArray(l)?l[0]:l)!==null&&a!==void 0?a:"white";this.rects.forEach(function(c,d){c.fill=e[d%r.length],c.stroke=o?r[d%r.length]:u})},t.chartType="treemap",t}(By),eZe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),tZe=function(n){eZe(t,n);function t(e,r,i){var o=n.call(this,e,"sunburstTooltip")||this;o.data=[[[],[]],[[],[]],[[],[]]],o.angleOffset=-Math.PI/2,o.innerRadiusRatio=0,o.showRadiusAxisLine=!1,o.showAngleAxisLines=!1;var a=o,s=a.data,l=a.size,u=a.padding,c=a.angleOffset,d=a.innerRadiusRatio,p=(l-u*2)/2,h=[c+0,c+2*Math.PI],f=Math.abs(h[1]-h[0]),v=[p*d,p],g=Math.abs(v[1]-v[0]),m=0,y=function(x,E){x.forEach(function(R){var P=E+1;m=Math.max(m,P),y(R,P)})};y(s,0);var C=g/m,S=o.size/2,w=h[0];o.series=[];var _=function(x,E,R,P,A){var N=Array.isArray(x);if(N){var I=E+1,G=R;x.forEach(function(V,H,j){var B=A;B||(B=new ge.Group,o.series.push(B));var $=v[0]+E*C,W=v[0]+I*C,Y=1/j.length,Z=G,se=Z+P*Y,X=new ge.Sector;X.centerX=S,X.centerY=S,X.innerRadius=$,X.outerRadius=W,X.startAngle=Z,X.endAngle=se,X.stroke=void 0,X.strokeWidth=0,X.inset=.75,G=se,B.append(X),_(V,I,Z,Math.abs(se-Z),B)})}};return _(s,0,w,f),o.root.append(o.series),o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.series.forEach(function(i,o){var a;(a=i.children)===null||a===void 0||a.forEach(function(s){s.fill=e[o%e.length],s.stroke=r[o%r.length]})})},t.chartType="sunburst",t}(jy),rZe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),nZe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},iZe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},oZe=function(n){rZe(t,n);function t(e,r,i,o,a){var s=this,l,u;s=n.call(this,e,"heatmapTooltip")||this;var c=s,d=c.size,p=c.padding,h=3,f=Array.from({length:h},function(w,_){return Array.from({length:h},function(x,E){return E})}),v=f.map(function(w,_){return _}),g=new ge.BandScale;g.domain=v,g.range=[p,d-p],g.paddingInner=.01,g.paddingOuter=.1;var m=new ge.BandScale;m.domain=v,m.range=[p,d-p],m.paddingInner=.01,m.paddingOuter=.1;var y=(l=g.bandwidth)!==null&&l!==void 0?l:0,C=(u=m.bandwidth)!==null&&u!==void 0?u:0;s.rects=f.reduce(function(w,_,x){w??(w=[]);var E=_.map(function(R,P){var A=new ge.Rect;return A.x=g.convert(x),A.y=m.convert(P),A.width=y,A.height=C,A.strokeWidth=0,A.crisp=!0,A});return w.push.apply(w,iZe([],nZe(E),!1)),w},[]),s.updateColors(r,i,o,a);var S=new ge.Group;return S.setClipRectInGroupCoordinateSpace(new ge.BBox(p,p,d-p,d-p)),S.append(s.rects),s.root.append(S),s}return t.prototype.updateColors=function(e,r,i,o){var a,s=(i??{}).properties,l=s==null?void 0:s.get(Fl.DEFAULT_DIVERGING_SERIES_COLOUR_RANGE),u=s==null?void 0:s.get(Fl.DEFAULT_BACKGROUND_COLOUR),c=(a=Array.isArray(u)?u[0]:u)!==null&&a!==void 0?a:"white",d=o?[e[0],e[1]]:l,p=o?r[0]:c;this.rects.forEach(function(h,f){h.fill=cn.Color.interpolate(d[0],d[1])(f*.2),h.stroke=p})},t.chartType="heatmap",t}(By),aZe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sZe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},lZe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},uZe=function(n){aZe(t,n);function t(e,r,i,o,a){var s=n.call(this,e,"waterfallTooltip")||this;return s.data=[4,3,-3,6,-3],s.bars=s.createWaterfall(s.root,s.data,s.size,s.padding,"vertical").bars,s.updateColors(r,i,o,a),s}return t.prototype.updateColors=function(e,r,i,o){var a,s,l=this.data,u=(i??{}).properties,c={fill:e[0],stroke:r[0]},d={fill:e[1],stroke:r[1]},p=o?c:(a=u==null?void 0:u.get(Fl.DEFAULT_WATERFALL_SERIES_POSITIVE_COLOURS))!==null&&a!==void 0?a:c,h=o?d:(s=u==null?void 0:u.get(Fl.DEFAULT_WATERFALL_SERIES_NEGATIVE_COLOURS))!==null&&s!==void 0?s:d;this.bars.forEach(function(f,v){var g=l[v]>=0;f.fill=g?p.fill:h.fill,f.stroke=g?p.stroke:h.stroke})},t.prototype.createWaterfall=function(e,r,i,o,a){var s=2*o,l=lA(r.map(function(w){return[w]})),u=l.processedData,c=l.min,d=l.max,p=u.reduce(function(w,_){return w.concat(_)},[]),h=new ge.LinearScale;h.domain=[Math.min(c,0),d],h.range=[i-s,s];var f=new ge.BandScale;f.domain=r.map(function(w,_){return _}),f.range=[o,i-o],f.paddingInner=.2,f.paddingOuter=.3;var v=f.bandwidth,g=new ge.Path;g.stroke="#575757",g.strokeWidth=0;var m=Math.floor(g.strokeWidth)%2/2,y=g.path;y.clear();var C=a==="horizontal",S=p.map(function(w,_){var x=_>0?p[_-1]:0,E=r[_],R=E>0,P=Math.round(h.convert(w)),A=Math.round(h.convert(x)),N=(R?P:A)-m,I=(R?A:P)+m,G=Math.abs(I-N),V=f.convert(_),H=new ge.Rect;H.x=C?N:V,H.y=C?V:N,H.width=C?G:v,H.height=C?v:G,H.strokeWidth=0,H.crisp=!0;var j=P+m,B=A+m;if(_>0){var $=C?B:H.x,W=C?H.y:B;y.lineTo($,W)}var Y=C?j:H.x,Z=C?H.y:j;return y.moveTo(Y,Z),H});return e.append(lZe([g],sZe(S),!1)),{bars:S}},t.chartType="waterfall",t}(co),cZe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),dZe=function(n){cZe(t,n);function t(e,r,i){var o=n.call(this,e,"columnLineComboTooltip")||this;o.columnData=[3,4],o.lineData=[[5,4,6,5,4]];var a=o,s=a.root,l=a.columnData,u=a.lineData,c=a.size,d=a.padding;return o.columns=J_({stacked:!1,root:s,data:l,size:c,padding:d,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5}),s.append(o.columns),o.lines=Y2(s,u,c,d),o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.columns.forEach(function(i,o){i.fill=e[o],i.stroke=r[o]}),this.lines.forEach(function(i,o){i.stroke=e[o+2]})},t.chartType="columnLineCombo",t}(co),pZe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),hZe=function(n){pZe(t,n);function t(e,r,i){var o=n.call(this,e,"areaColumnComboTooltip")||this;o.columnData=[3,4.5],o.areaData=[[5,4,6,5,4]];var a=o,s=a.root,l=a.columnData,u=a.areaData,c=a.size,d=a.padding;o.columns=J_({stacked:!1,root:s,data:l,size:c,padding:d,xScaleDomain:[0,1],yScaleDomain:[0,6],xScalePadding:.5});var p=new ge.BandScale;p.range=[d,c-d],p.domain=[0,1,2,3,4],p.paddingInner=1,p.paddingOuter=0;var h=new ge.LinearScale;h.range=[c-d,d],h.domain=[0,6];var f=[],v=h.convert(0),g=p.convert(0);return u.forEach(function(m,y){var C=f[y]||(f[y]=[]);m.forEach(function(w,_){var x=w,E=_,R=p.convert(E),P=h.convert(x);C[_]={x:R,y:P}});var S=p.convert(m.length-1);f[y].push({x:S,y:v},{x:g,y:v})}),o.areas=f.map(function(m){var y=new ge.Path;y.strokeWidth=0,y.fillOpacity=.8;var C=y.path;return m.forEach(function(S,w){return C[w>0?"lineTo":"moveTo"](S.x,S.y)}),y}),s.append(o.areas),s.append([].concat.apply([],o.columns)),o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.areas.forEach(function(i,o){i.fill=e[o],i.stroke=r[o]}),this.columns.forEach(function(i,o){i.fill=e[o+1],i.stroke=r[o+1]})},t.chartType="areaColumnCombo",t}(co),fZe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),vZe=function(n){fZe(t,n);function t(e,r,i){var o=n.call(this,e,"customComboTooltip")||this;o.columnData=[3,4],o.lineData=[[5,4,6,5,4]];var a=o,s=a.root,l=a.columnData,u=a.lineData,c=a.size,d=a.padding;o.columns=J_({stacked:!1,root:s,data:l,size:c,padding:d,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5}),s.append(o.columns),o.lines=Y2(s,u,c,d);var p="grey",h=3,f=new ge.Line;f.x1=d,f.y1=d,f.x2=d,f.y2=c-d+h,f.stroke=p;var v=new ge.Line;v.x1=d-h+1,v.y1=c-d,v.x2=c-d+1,v.y2=c-d,v.stroke=p;var g=new ge.Path;return o.buildPenIconPath(g),g.fill="whitesmoke",g.stroke="darkslategrey",g.strokeWidth=1,s.append([v,f,g]),o.updateColors(r,i),o}return t.prototype.updateColors=function(e,r){this.columns.forEach(function(i,o){i.fill=e[o],i.stroke=r[o]}),this.lines.forEach(function(i,o){i.stroke=e[o+2]})},t.prototype.buildPenIconPath=function(e){var r=e.path;r.moveTo(25.76,43.46),r.lineTo(31.27,48.53),r.moveTo(49.86,22),r.lineTo(49.86,22),r.cubicCurveTo(49.01994659053345,21.317514933510974,47.89593834348529,21.09645997825817,46.86,21.41),r.lineTo(46.86,21.41),r.cubicCurveTo(45.55460035985361,21.77260167850787,44.38777081121966,22.517979360321792,43.51,23.55),r.lineTo(25.51,43.8),r.lineTo(25.43,43.89),r.lineTo(23.01,51.89),r.lineTo(22.83,52.46),r.lineTo(31.02,48.86),r.lineTo(49.02,28.52),r.lineTo(49.02,28.52),r.cubicCurveTo(49.940716461596224,27.521914221246085,50.54302631059587,26.2720342455763,50.75,24.93),r.lineTo(50.75,24.93),r.cubicCurveTo(50.95363374988308,23.866379846512814,50.62080640232334,22.77066734274871,49.86,22),r.closePath(),r.moveTo(41.76,25.5),r.lineTo(47.34,30.5),r.moveTo(40.74,26.65),r.lineTo(46.25,31.71)},t.chartType="customCombo",t}(By),gZe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),kN=function(){return kN=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},kN.apply(this,arguments)},B5=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},j5=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},H5={columnGroup:{column:{range:!0,pivot:!0,enterprise:!1,icon:rXe},stackedColumn:{range:!0,pivot:!0,enterprise:!1,icon:kie},normalizedColumn:{range:!0,pivot:!0,enterprise:!1,icon:oXe}},barGroup:{bar:{range:!0,pivot:!0,enterprise:!1,icon:sXe},stackedBar:{range:!0,pivot:!0,enterprise:!1,icon:Gie},normalizedBar:{range:!0,pivot:!0,enterprise:!1,icon:cXe}},pieGroup:{pie:{range:!0,pivot:!0,enterprise:!1,icon:fXe},donut:{range:!0,pivot:!0,enterprise:!1,icon:IN},doughnut:{range:!0,pivot:!0,enterprise:!1,icon:IN}},lineGroup:{line:{range:!0,pivot:!0,enterprise:!1,icon:gXe}},scatterGroup:{scatter:{range:!0,pivot:!0,enterprise:!1,icon:CXe},bubble:{range:!0,pivot:!0,enterprise:!1,icon:_Xe}},areaGroup:{area:{range:!0,pivot:!0,enterprise:!1,icon:bXe},stackedArea:{range:!0,pivot:!0,enterprise:!1,icon:NN},normalizedArea:{range:!0,pivot:!0,enterprise:!1,icon:RXe}},polarGroup:{radarLine:{range:!0,pivot:!1,enterprise:!0,icon:kXe},radarArea:{range:!0,pivot:!1,enterprise:!0,icon:VXe},nightingale:{range:!0,pivot:!1,enterprise:!0,icon:jXe},radialColumn:{range:!0,pivot:!1,enterprise:!0,icon:LXe},radialBar:{range:!0,pivot:!1,enterprise:!0,icon:IXe}},statisticalGroup:{boxPlot:{range:!0,pivot:!1,enterprise:!0,icon:qXe},histogram:{range:!0,pivot:!1,enterprise:!1,icon:PXe},rangeBar:{range:!0,pivot:!1,enterprise:!0,icon:WXe},rangeArea:{range:!0,pivot:!1,enterprise:!0,icon:zXe}},hierarchicalGroup:{treemap:{range:!0,pivot:!0,enterprise:!0,icon:JXe},sunburst:{range:!0,pivot:!0,enterprise:!0,icon:tZe}},specializedGroup:{heatmap:{range:!0,pivot:!1,enterprise:!0,icon:oZe},waterfall:{range:!0,pivot:!1,enterprise:!0,icon:uZe}},combinationGroup:{columnLineCombo:{range:!0,pivot:!0,enterprise:!1,icon:dZe},areaColumnCombo:{range:!0,pivot:!0,enterprise:!1,icon:hZe},customCombo:{range:!0,pivot:!0,enterprise:!1,icon:vZe}}},mZe=function(n){gZe(t,n);function t(e,r,i,o,a,s){s===void 0&&(s=mJ);var l=n.call(this,t.TEMPLATE)||this;return l.wrappers={},l.chartController=e,l.fills=r,l.strokes=i,l.themeTemplateParameters=o,l.isCustomTheme=a,l.chartGroups=kN({},s),l}return t.prototype.init=function(){var e,r,i,o,a=this,s=this.getGui(),l=this.chartController.isEnterprise(),u=this.chartController.isPivotChart(),c=!u,d=Object.keys(this.chartGroups).map(function(x){var E,R=x in H5?H5[x]:void 0;if(!R)return F.warnOnce("invalid chartGroupsDef config '".concat(x,"'")),null;var P=(E=a.chartGroups[x])!==null&&E!==void 0?E:[],A=P.map(function(N){var I=N in R?R[N]:void 0;return I?!l&&I.enterprise?null:c&&I.range||u&&I.pivot?I:null:(F.warnOnce("invalid chartGroupsDef config '".concat(x,".").concat(N,"'")),null)}).filter(function(N){return N!=null});return A.length===0?null:{label:a.chartTranslationService.translate(x),items:A}}).filter(function(x){return x!=null});try{for(var p=j5(d),h=p.next();!h.done;h=p.next()){var f=h.value,v=f.label,g=f.items,m=this.createBean(new Ls({title:v,suppressEnabledCheckbox:!0,enabled:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-settings",direction:"horizontal"})),y=function(x){var E=x.icon,R=document.createElement("div");R.classList.add("ag-chart-mini-thumbnail");var P=E.chartType;C.addManagedListener(R,"click",function(){a.chartController.setChartType(P),a.updateSelectedMiniChart()}),C.wrappers[P]=R,C.createBean(new E(R,C.fills,C.strokes,C.themeTemplateParameters,C.isCustomTheme)),m.addItem(R)},C=this;try{for(var S=(i=void 0,j5(g)),w=S.next();!w.done;w=S.next()){var _=w.value;y(_)}}catch(x){i={error:x}}finally{try{w&&!w.done&&(o=S.return)&&o.call(S)}finally{if(i)throw i.error}}s.appendChild(m.getGui())}}catch(x){e={error:x}}finally{try{h&&!h.done&&(r=p.return)&&r.call(p)}finally{if(e)throw e.error}}!this.chartController.customComboExists()&&this.chartGroups.combinationGroup&&(this.chartGroups.combinationGroup=this.chartGroups.combinationGroup.filter(function(x){return x!=="customCombo"})),this.updateSelectedMiniChart()},t.prototype.updateSelectedMiniChart=function(){var e=this.chartController.getChartType();for(var r in this.wrappers){var i=this.wrappers[r],o=r===e;i.classList.toggle("ag-selected",o)}},t.TEMPLATE='<div class="ag-chart-settings-mini-wrapper"></div>',B5([O("chartTranslationService")],t.prototype,"chartTranslationService",void 0),B5([q],t.prototype,"init",null),t}(Ce),yZe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Uh=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},CZe=function(n){yZe(t,n);function t(e){var r=n.call(this,t.TEMPLATE)||this;return r.miniChartsContainers=[],r.cardItems=[],r.activePaletteIndex=0,r.palettes=[],r.themes=[],r.chartController=e,r}return t.prototype.postConstruct=function(){var e=this;this.resetPalettes(),this.ePrevBtn.insertAdjacentElement("afterbegin",F.createIconNoSpan("previous",this.gridOptionsService)),this.eNextBtn.insertAdjacentElement("afterbegin",F.createIconNoSpan("next",this.gridOptionsService)),this.addManagedListener(this.ePrevBtn,"click",function(){return e.setActivePalette(e.getPrev(),"left")}),this.addManagedListener(this.eNextBtn,"click",function(){return e.setActivePalette(e.getNext(),"right")}),this.addManagedListener(this.chartController,Il.EVENT_CHART_TYPE_CHANGED,function(){return e.resetPalettes(!0)}),this.addManagedListener(this.chartController,Il.EVENT_CHART_API_UPDATE,function(){return e.resetPalettes(!0)}),this.scrollSelectedIntoView()},t.prototype.scrollSelectedIntoView=function(){var e=this;setTimeout(function(){var r=function(s){return!s.getGui().classList.contains("ag-hidden")},i=e.miniChartsContainers.find(r),o=i.getGui().querySelector(".ag-selected");if(o){var a=o.offsetParent;a&&e.eMiniChartsContainer.scrollTo(0,a.offsetTop)}},250)},t.prototype.resetPalettes=function(e){var r=this,i,o,a=this.chartController.getPalettes(),s=this.chartController.getThemeTemplateParameters(),l=(o=(i=this.gridOptionsService.get("chartToolPanelsDef"))===null||i===void 0?void 0:i.settingsPanel)===null||o===void 0?void 0:o.chartGroupsDef;if(!(F.shallowCompare(a,this.palettes)&&!e||this.isAnimating)){this.palettes=a,this.themes=this.chartController.getThemeNames(),this.activePaletteIndex=this.themes.findIndex(function(c){return c===r.chartController.getChartThemeName()}),this.cardItems=[],F.clearElement(this.eCardSelector),this.destroyMiniCharts();var u=this.themes;this.palettes.forEach(function(c,d){var p=r.activePaletteIndex===d,h=c.fills,f=c.strokes,v=u[d],g=!K2(v),m=r.createBean(new mZe(r.chartController,h,f,s[d],g,l));r.miniChartsContainers.push(m),r.eMiniChartsContainer.appendChild(m.getGui()),r.addCardLink(d),p?m.updateSelectedMiniChart():m.setDisplayed(!1)}),F.setDisplayed(this.eNavBar,this.palettes.length>1),F.radioCssClass(this.cardItems[this.activePaletteIndex],"ag-selected","ag-not-selected")}},t.prototype.addCardLink=function(e){var r=this,i=document.createElement("div");i.classList.add("ag-chart-settings-card-item"),this.addManagedListener(i,"click",function(){r.setActivePalette(e,e<r.activePaletteIndex?"left":"right")}),this.eCardSelector.appendChild(i),this.cardItems.push(i)},t.prototype.getPrev=function(){var e=this.activePaletteIndex-1;return e<0&&(e=this.palettes.length-1),e},t.prototype.getNext=function(){var e=this.activePaletteIndex+1;return e>=this.palettes.length&&(e=0),e},t.prototype.setActivePalette=function(e,r){var i=this;if(!(this.isAnimating||this.activePaletteIndex===e)){F.radioCssClass(this.cardItems[e],"ag-selected","ag-not-selected");var o=this.miniChartsContainers[this.activePaletteIndex],a=o.getGui(),s=this.miniChartsContainers[e],l=s.getGui();o.updateSelectedMiniChart(),s.updateSelectedMiniChart();var u=r==="left"?-1:1,c=l.style.left="".concat(F.getAbsoluteWidth(this.getGui())*u,"px");this.activePaletteIndex=e,this.isAnimating=!0;var d="ag-animating";s.setDisplayed(!0),o.addCssClass(d),s.addCssClass(d),this.chartController.setChartThemeName(this.themes[e]),window.setTimeout(function(){a.style.left="".concat(-parseFloat(c),"px"),l.style.left="0px"},0),window.setTimeout(function(){i.isAnimating=!1,o.removeCssClass(d),s.removeCssClass(d),o.setDisplayed(!1)},300)}},t.prototype.destroyMiniCharts=function(){F.clearElement(this.eMiniChartsContainer),this.miniChartsContainers=this.destroyBeans(this.miniChartsContainers)},t.prototype.destroy=function(){this.destroyMiniCharts(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div class="ag-chart-settings-wrapper">
            <div ref="eMiniChartsContainer" class="ag-chart-settings-mini-charts-container ag-scrollable-container"></div>
            <div ref="eNavBar" class="ag-chart-settings-nav-bar">
                <div ref="ePrevBtn" class="ag-chart-settings-prev">
                    <button type="button" class="ag-button ag-chart-settings-prev-button"></button>
                </div>
                <div ref="eCardSelector" class="ag-chart-settings-card-selector"></div>
                <div ref="eNextBtn" class="ag-chart-settings-next">
                    <button type="button" class="ag-button ag-chart-settings-next-button"></button>
                </div>
            </div>
        </div>`,Uh([O("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Uh([U("eMiniChartsContainer")],t.prototype,"eMiniChartsContainer",void 0),Uh([U("eNavBar")],t.prototype,"eNavBar",void 0),Uh([U("eCardSelector")],t.prototype,"eCardSelector",void 0),Uh([U("ePrevBtn")],t.prototype,"ePrevBtn",void 0),Uh([U("eNextBtn")],t.prototype,"eNextBtn",void 0),Uh([q],t.prototype,"postConstruct",null),t}(Ce),SZe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$5=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},wZe=function(n){SZe(t,n);function t(e){var r=n.call(this)||this;r.tabs=[];var i=e.controller,o=e.panels,a=e.chartOptionsService;return r.chartController=i,r.chartOptionsService=a,r.panels=o,r}return t.prototype.init=function(){var e=this;this.panels.forEach(function(r){var i=r.replace("chart","").toLowerCase(),o=e.createTab(r,i,e.getPanelClass(i)),a=o.comp,s=o.tab;e.tabs.push(s),e.addDestroyFunc(function(){return e.destroyBean(a)})}),this.tabbedLayout=new CB({items:this.tabs,cssClass:"ag-chart-tabbed-menu",keepScrollPosition:!0}),this.getContext().createBean(this.tabbedLayout)},t.prototype.createTab=function(e,r,i){var o=document.createElement("div");o.classList.add("ag-chart-tab","ag-chart-".concat(r));var a=new i(this.chartController,this.chartOptionsService);this.getContext().createBean(a),o.appendChild(a.getGui());var s=document.createElement("div"),l=this.chartTranslationService.translate(r);return s.innerText=l,{comp:a,tab:{title:s,titleLabel:l,bodyPromise:Ot.resolve(o),getScrollableContainer:function(){var u=o.querySelector(".ag-scrollable-container");return u||o},name:e}}},t.prototype.showTab=function(e){var r=this.tabs[e];this.tabbedLayout.showItem(r)},t.prototype.getGui=function(){return this.tabbedLayout&&this.tabbedLayout.getGui()},t.prototype.destroy=function(){this.parentComponent&&this.parentComponent.isAlive()&&this.destroyBean(this.parentComponent),n.prototype.destroy.call(this)},t.prototype.getPanelClass=function(e){switch(e){case t.TAB_DATA:return J7e;case t.TAB_FORMAT:return qqe;default:return CZe}},t.TAB_DATA="data",t.TAB_FORMAT="format",$5([O("chartTranslationService")],t.prototype,"chartTranslationService",void 0),$5([q],t.prototype,"init",null),t}(Ce),_Ze=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),iS=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},W5=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},xZe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},U5=function(n){_Ze(t,n);function t(e,r,i,o){var a=n.call(this,t.TEMPLATE)||this;return a.eChartContainer=e,a.eMenuPanelContainer=r,a.chartController=i,a.chartOptionsService=o,a.buttons={chartSettings:["menu",function(){return a.showMenu(a.defaultPanel)}],chartData:["menu",function(){return a.showMenu("chartData")}],chartFormat:["menu",function(){return a.showMenu("chartFormat")}],chartLink:["linked",function(s){return a.toggleDetached(s)}],chartUnlink:["unlinked",function(s){return a.toggleDetached(s)}],chartDownload:["save",function(){return a.saveChart()}]},a.panels=[],a.buttonListenersDestroyFuncs=[],a.menuVisible=!1,a}return t.prototype.postConstruct=function(){var e=this;this.createButtons(),this.addManagedListener(this.eventService,M.EVENT_CHART_CREATED,function(r){var i;if(r.chartId===e.chartController.getChartId()){var o=!!(!((i=e.gridOptionsService.get("chartToolPanelsDef"))===null||i===void 0)&&i.defaultToolPanel);o&&e.showMenu(e.defaultPanel,!1)}}),this.refreshMenuClasses(),!this.gridOptionsService.get("suppressChartToolPanelsButton")&&this.panels.length>0&&(this.getGui().classList.add("ag-chart-tool-panel-button-enable"),this.addManagedListener(this.eHideButton,"click",this.toggleMenu.bind(this))),this.addManagedListener(this.chartController,Il.EVENT_CHART_API_UPDATE,this.createButtons.bind(this))},t.prototype.isVisible=function(){return this.menuVisible},t.prototype.getExtraPaddingDirections=function(){var e=this,r=["chartLink","chartUnlink","chartDownload"],i=["chartSettings","chartData","chartFormat"],o=[];return r.some(function(a){return e.chartToolbarOptions.includes(a)})&&o.push("top"),i.some(function(a){return e.chartToolbarOptions.includes(a)})&&o.push(this.gridOptionsService.get("enableRtl")?"left":"right"),o},t.prototype.getToolbarOptions=function(){var e=this,r,i,o,a=!!this.gridOptionsService.get("chartToolPanelsDef");if(a){var s=[this.chartController.isChartLinked()?"chartLink":"chartUnlink","chartDownload"],l=this.gridOptionsService.getCallback("getChartToolbarItems"),u={defaultItems:s},c=l?l(u).filter(function(g){if(!_1.includes(g)){var m=VE.includes(g)?"AG Grid: '".concat(g,"' is a Chart Tool Panel option and will be ignored since 'chartToolPanelsDef' is used. Please use 'chartToolPanelsDef.panels' grid option instead"):"AG Grid: '".concat(g,"' is not a valid Chart Toolbar Option");return console.warn(m),!1}return!0}):s,d=(i=(r=this.gridOptionsService.get("chartToolPanelsDef"))===null||r===void 0?void 0:r.panels)===null||i===void 0?void 0:i.map(function(g){var m=Sw[g];return m||console.warn("AG Grid - invalid panel in chartToolPanelsDef.panels: '".concat(g,"'")),m}).filter(function(g){return!!g});this.panels=d||Object.values(Sw),this.chartController.isPivotChart()&&(this.panels=this.panels.filter(function(g){return g!=="chartData"}));var p=(o=this.gridOptionsService.get("chartToolPanelsDef"))===null||o===void 0?void 0:o.defaultToolPanel;return this.defaultPanel=p&&Sw[p]||this.panels[0],this.panels.length>0?xZe([this.panels[0]],W5(c),!1):c}else{var h=["chartSettings","chartData","chartFormat",this.chartController.isChartLinked()?"chartLink":"chartUnlink","chartDownload"],l=this.gridOptionsService.getCallback("getChartToolbarItems");if(l){var f=this.gridOptionsService.get("suppressChartToolPanelsButton"),u={defaultItems:f?h:_1};h=l(u).filter(function(y){if(e.buttons[y]){if(!f&&VE.includes(y)){var C="AG Grid: '".concat(y,"' is a Chart Tool Panel option and will be ignored. Please use 'chartToolPanelsDef.panels' grid option instead");return console.warn(C),!1}}else return console.warn("AG Grid: '".concat(y,"' is not a valid Chart Toolbar Option")),!1;return!0}),f||(h=h.concat(VE))}this.chartController.isPivotChart()&&(h=h.filter(function(m){return m!=="chartData"}));var v=["chartUnlink","chartLink","chartDownload"];return this.panels=h.filter(function(m){return v.indexOf(m)===-1}),this.defaultPanel=this.panels[0],h.filter(function(m){return v.indexOf(m)!==-1||e.panels.length&&m===e.panels[0]})}},t.prototype.toggleDetached=function(e){var r=e.target,i=r.classList.contains("ag-icon-linked");r.classList.toggle("ag-icon-linked",!i),r.classList.toggle("ag-icon-unlinked",i);var o=i?"chartUnlinkToolbarTooltip":"chartLinkToolbarTooltip",a=this.chartTranslationService.translate(o);a&&(r.title=a),this.chartController.detachChartRange()},t.prototype.createButtons=function(){var e=this;this.buttonListenersDestroyFuncs.forEach(function(i){return i()}),this.buttonListenersDestroyFuncs=[],this.chartToolbarOptions=this.getToolbarOptions();var r=this.eMenu;F.clearElement(r),this.chartToolbarOptions.forEach(function(i){var o=e.buttons[i],a=W5(o,2),s=a[0],l=a[1],u=F.createIconNoSpan(s,e.gridOptionsService,void 0,!0);u.classList.add("ag-chart-menu-icon");var c=e.chartTranslationService.translate(i+"ToolbarTooltip");c&&u instanceof HTMLElement&&(u.title=c),e.buttonListenersDestroyFuncs.push(e.addManagedListener(u,"click",l)),r.appendChild(u)})},t.prototype.saveChart=function(){var e={type:t.EVENT_DOWNLOAD_CHART};this.dispatchEvent(e)},t.prototype.createMenuPanel=function(e){var r=this,i=this.environment.chartMenuPanelWidth(),o=this.menuPanel=this.createBean(new xB({minWidth:i,width:i,height:"100%",closable:!0,hideTitleBar:!0,cssIdentifier:"chart-menu"}));return o.setParentComponent(this),this.eMenuPanelContainer.appendChild(o.getGui()),this.tabbedMenu=this.createBean(new wZe({controller:this.chartController,type:this.chartController.getChartType(),panels:this.panels,chartOptionsService:this.chartOptionsService})),this.addManagedListener(o,Ce.EVENT_DESTROYED,function(){return r.destroyBean(r.tabbedMenu)}),new Ot(function(a){window.setTimeout(function(){o.setBodyComponent(r.tabbedMenu),r.tabbedMenu.showTab(e),a(o),r.addManagedListener(r.eChartContainer,"click",function(s){r.getGui().contains(s.target)||r.menuVisible&&r.hideMenu()})},100)})},t.prototype.showContainer=function(){this.menuPanel&&(this.menuVisible=!0,this.showParent(this.menuPanel.getWidth()),this.refreshMenuClasses())},t.prototype.toggleMenu=function(){this.menuVisible?this.hideMenu():this.showMenu()},t.prototype.showMenu=function(e,r){var i=this;if(r===void 0&&(r=!0),r||this.eMenuPanelContainer.classList.add("ag-no-transition"),this.menuPanel&&!e)this.showContainer();else{var o=e||this.defaultPanel,a=this.panels.indexOf(o);a<0&&(console.warn("AG Grid: '".concat(e,"' is not a valid Chart Tool Panel name")),a=this.panels.indexOf(this.defaultPanel)),this.menuPanel?(this.tabbedMenu.showTab(a),this.showContainer()):this.createMenuPanel(a).then(this.showContainer.bind(this))}r||setTimeout(function(){i.isAlive()&&i.eMenuPanelContainer.classList.remove("ag-no-transition")},500)},t.prototype.hideMenu=function(){var e=this;this.hideParent(),window.setTimeout(function(){e.menuVisible=!1,e.refreshMenuClasses()},500)},t.prototype.refreshMenuClasses=function(){this.eChartContainer.classList.toggle("ag-chart-menu-visible",this.menuVisible),this.eChartContainer.classList.toggle("ag-chart-menu-hidden",!this.menuVisible),this.gridOptionsService.get("suppressChartToolPanelsButton")||(this.eHideButtonIcon.classList.toggle("ag-icon-contracted",this.menuVisible),this.eHideButtonIcon.classList.toggle("ag-icon-expanded",!this.menuVisible))},t.prototype.showParent=function(e){this.eMenuPanelContainer.style.minWidth="".concat(e,"px")},t.prototype.hideParent=function(){this.eMenuPanelContainer.style.minWidth="0"},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.menuPanel&&this.menuPanel.isAlive()&&this.destroyBean(this.menuPanel),this.tabbedMenu&&this.tabbedMenu.isAlive()&&this.destroyBean(this.tabbedMenu)},t.EVENT_DOWNLOAD_CHART="downloadChart",t.TEMPLATE=`<div>
        <div class="ag-chart-menu" ref="eMenu"></div>
        <button class="ag-button ag-chart-menu-close" ref="eHideButton">
            <span class="ag-icon ag-icon-contracted" ref="eHideButtonIcon"></span>
        </button>
    </div>`,iS([O("chartTranslationService")],t.prototype,"chartTranslationService",void 0),iS([U("eMenu")],t.prototype,"eMenu",void 0),iS([U("eHideButton")],t.prototype,"eHideButton",void 0),iS([U("eHideButtonIcon")],t.prototype,"eHideButtonIcon",void 0),iS([q],t.prototype,"postConstruct",null),t}(Ce),bZe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ST=function(){return ST=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ST.apply(this,arguments)},z5=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},EZe=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},OZe=function(n){bZe(t,n);function t(e){var r=n.call(this,t.TEMPLATE)||this;return r.chartMenu=e,r.destroyableChartListeners=[],r.editing=!1,r}return t.prototype.init=function(){var e=this;this.addManagedListener(this.getGui(),"keydown",function(r){e.editing&&r.key==="Enter"&&!r.shiftKey&&(e.handleEndEditing(),r.preventDefault())}),this.addManagedListener(this.getGui(),"input",function(){e.editing&&e.updateHeight()}),this.addManagedListener(this.getGui(),"blur",function(){return e.endEditing()})},t.prototype.refreshTitle=function(e,r){var i,o,a=this;this.chartController=e,this.chartOptionsService=r;try{for(var s=EZe(this.destroyableChartListeners),l=s.next();!l.done;l=s.next()){var u=l.value;u()}}catch(g){i={error:g}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}this.destroyableChartListeners=[];var c=this.chartController.getChartProxy(),d=c.getChart(),p=d.scene.canvas.element,h=this.addManagedListener(p,"dblclick",function(g){var m=d.title;if(m&&m.node.containsPoint(g.offsetX,g.offsetY)){var y=m.node.computeBBox(),C=m.node.inverseTransformPoint(y.x,y.y);a.startEditing(ST(ST({},y),C),p.width)}}),f=!1,v=this.addManagedListener(p,"mousemove",function(g){var m=d.title,y=!!(m&&m.enabled&&m.node.containsPoint(g.offsetX,g.offsetY));f!==y&&(p.style.cursor=y?"pointer":""),f=y});this.destroyableChartListeners=[h,v]},t.prototype.startEditing=function(e,r){if(!(this.chartMenu&&this.chartMenu.isVisible())&&!this.editing){this.editing=!0;var i=300,o=Math.max(Math.min(e.width+20,r),i),a=this.getGui();a.classList.add("currently-editing");var s=a.style;s.fontFamily=this.chartOptionsService.getChartOption("title.fontFamily"),s.fontWeight=this.chartOptionsService.getChartOption("title.fontWeight"),s.fontStyle=this.chartOptionsService.getChartOption("title.fontStyle"),s.fontSize=this.chartOptionsService.getChartOption("title.fontSize")+"px",s.color=this.chartOptionsService.getChartOption("title.color");var l=this.chartOptionsService.getChartOption("title.text"),u=l===this.chartTranslationService.translate("titlePlaceholder");a.value=u?"":l;var c=l.split(/\r?\n/g).length;s.left=Math.round(e.x+e.width/2-o/2-1)+"px",s.top=Math.round(e.y+e.height/2-c*this.getLineHeight()/2-2)+"px",s.width=Math.round(o)+"px",s.lineHeight=this.getLineHeight()+"px",this.updateHeight(),a.focus()}},t.prototype.updateHeight=function(){var e=this.getGui(),r=this.chartOptionsService.getChartOption("title.text").split(/\r?\n/g).length,i=e.value.split(/\r?\n/g).length;e.style.height=Math.round(Math.max(r,i)*this.getLineHeight())+4+"px"},t.prototype.getLineHeight=function(){var e=this.chartOptionsService.getChartOption("title.lineHeight");return e?parseInt(e):Math.round(parseInt(this.chartOptionsService.getChartOption("title.fontSize"))*1.2)},t.prototype.handleEndEditing=function(){var e=this,r=this.chartOptionsService.getChartOption("title.color"),i="rgba(0, 0, 0, 0)";this.chartOptionsService.setChartOption("title.color",i),this.chartOptionsService.awaitChartOptionUpdate(function(){return e.endEditing()}),this.chartOptionsService.awaitChartOptionUpdate(function(){e.chartOptionsService.setChartOption("title.color",r)})},t.prototype.endEditing=function(){var e=this;if(this.editing){this.editing=!1;var r=this.getGui().value;r&&r.trim()!==""?(this.chartOptionsService.setChartOption("title.text",r),this.chartOptionsService.setChartOption("title.enabled",!0)):(this.chartOptionsService.setChartOption("title.text",""),this.chartOptionsService.setChartOption("title.enabled",!1)),this.getGui().classList.remove("currently-editing"),this.chartOptionsService.awaitChartOptionUpdate(function(){e.eventService.dispatchEvent({type:"chartTitleEdit"})})}},t.TEMPLATE=`<textarea
             class="ag-chart-title-edit"
             style="padding:0; border:none; border-radius: 0; min-height: 0; text-align: center; resize: none;" />
        `,z5([O("chartTranslationService")],t.prototype,"chartTranslationService",void 0),z5([q],t.prototype,"init",null),t}(Ce),RZe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),hg=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},TZe=function(n){RZe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getData=function(e){if(e.crossFiltering){if(e.grouping)return console.warn("AG Grid: crossing filtering with row grouping is not supported."),{chartData:[],columnNames:{}};if(!this.gridOptionsService.isRowModelType("clientSide"))return console.warn("AG Grid: crossing filtering is only supported in the client side row model."),{chartData:[],columnNames:{}}}var r=this.gridOptionsService.isRowModelType("serverSide");r&&e.pivoting&&this.updatePivotKeysForSSRM();var i=this.extractRowsFromGridRowModel(e);return i.chartData=this.aggregateRowsByDimension(e,i.chartData),i},t.prototype.extractRowsFromGridRowModel=function(e){var r=this,i=[],o={},a={},s={},l={},u=[],c;if(e.crossFiltering)l=this.getFilteredRowNodes(),u=this.getAllRowNodes(),c=u.length;else{var d=this.gridRowModel.getRowCount()-1,p=e.endRow>=0?Math.min(e.endRow,d):d;c=p-e.startRow+1}for(var h=function(y){var C={},S=e.crossFiltering?u[y]:f.gridRowModel.getRow(y+e.startRow);e.dimensionCols.forEach(function(w){var _=w.colId,x=r.columnModel.getGridColumn(_);if(x){var E=r.valueService.getValue(x,S);if(e.grouping){var R=E&&E.toString?String(E.toString()):"",P=t.getGroupLabels(S,R);C[_]={labels:P,toString:function(){return this.labels.filter(function(N){return!!N}).reverse().join(" - ")}},S.group&&(a[P.toString()]=y);var A=P.slice(1,P.length).toString();A&&(s[A]=a[A])}else C[_]=E}else C[z0.DEFAULT_CATEGORY]=y+1}),e.valueCols.forEach(function(w){var _=[],x=w.getColDef().pivotKeys;x&&(_=x.slice());var E=w.getColDef().headerName;E&&_.push(E),_.length>0&&(o[w.getId()]=_);var R=w.getColId();if(e.crossFiltering){var P=R+"-filtered-out",A=r.valueService.getValue(w,S),N=A!=null&&typeof A.toNumber=="function"?A.toNumber():A;l[S.id]?(C[R]=N,C[P]=e.aggFunc||e.isScatter?void 0:0):(C[R]=e.aggFunc||e.isScatter?void 0:0,C[P]=N)}else{var A=r.valueService.getValue(w,S);A&&A.hasOwnProperty("toString")&&(A=parseFloat(A.toString())),C[R]=A!=null&&typeof A.toNumber=="function"?A.toNumber():A}}),S.footer&&(C.footer=!0),i.push(C)},f=this,v=0;v<c;v++)h(v);if(e.grouping){var g=F.values(s),m=function(y,C){return!y.footer&&!F.includes(g,C)};i=i.filter(m)}return{chartData:i,columnNames:o}},t.prototype.aggregateRowsByDimension=function(e,r){var i=this,o=e.dimensionCols;if(!e.aggFunc||o.length===0)return r;var a=F.last(o),s=a&&a.colId,l={},u=[];return r.forEach(function(c){var d=l;o.forEach(function(p){var h=p.colId,f=c[h];if(h===s){var v=d[f];v||(v={__children:[]},o.forEach(function(g){var m=g.colId;v[m]=c[m]}),d[f]=v,u.push(v)),v.__children.push(c)}else d[f]||(d[f]={}),d=d[f]})}),ut.__assertRegistered(Te.RowGroupingModule,"Charting Aggregation",this.context.getGridId())&&u.forEach(function(c){return e.valueCols.forEach(function(d){if(e.crossFiltering)e.valueCols.forEach(function(f){var v=f.getColId(),g=c.__children.filter(function(w){return typeof w[v]<"u"}).map(function(w){return w[v]}),m=i.aggregationStage.aggregateValues(g,e.aggFunc);c[f.getId()]=m&&typeof m.value<"u"?m.value:m;var y="".concat(v,"-filtered-out"),C=c.__children.filter(function(w){return typeof w[y]<"u"}).map(function(w){return w[y]}),S=i.aggregationStage.aggregateValues(C,e.aggFunc);c[y]=S&&typeof S.value<"u"?S.value:S});else{var p=c.__children.map(function(f){return f[d.getId()]}),h=0;ut.__assertRegistered(Te.RowGroupingModule,"Charting Aggregation",i.context.getGridId())&&(h=i.aggregationStage.aggregateValues(p,e.aggFunc)),c[d.getId()]=h&&typeof h.value<"u"?h.value:h}})}),u},t.prototype.updatePivotKeysForSSRM=function(){var e=this.columnModel.getSecondaryColumns();if(e){var r=this.extractPivotKeySeparator(e);e.forEach(function(i){if(r==="")i.getColDef().pivotKeys=[];else{var o=i.getColId().split(r);i.getColDef().pivotKeys=o.slice(0,o.length-1)}})}},t.prototype.extractPivotKeySeparator=function(e){if(e.length===0)return"";var r=function(o,a){var s=o.getGroupId();return o.getParent()?r(o.getParent(),s):a.split(s)[1][0]},i=e[0];return i.getParent()==null?"":r(i.getParent(),i.getColId())},t.getGroupLabels=function(e,r){for(var i=[r];e&&e.level!==0;)e=e.parent,e&&i.push(e.key);return i},t.prototype.getFilteredRowNodes=function(){var e={};return this.gridRowModel.forEachNodeAfterFilterAndSort(function(r){e[r.id]=r}),e},t.prototype.getAllRowNodes=function(){var e=[];return this.gridRowModel.forEachNode(function(r){e.push(r)}),this.sortRowNodes(e)},t.prototype.sortRowNodes=function(e){var r=this.sortController.getSortOptions(),i=!r||r.length==0;return i?e:this.rowNodeSorter.doFullSort(e,r)},hg([O("rowModel")],t.prototype,"gridRowModel",void 0),hg([O("valueService")],t.prototype,"valueService",void 0),hg([O("columnModel")],t.prototype,"columnModel",void 0),hg([O("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),hg([O("sortController")],t.prototype,"sortController",void 0),hg([xt("aggregationStage")],t.prototype,"aggregationStage",void 0),t}(re),PZe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),rE=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},DZe=function(n){PZe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getColumn=function(e){return this.columnModel.getPrimaryColumn(e)},t.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},t.prototype.getColDisplayName=function(e){return this.columnModel.getDisplayNameForColumn(e,"chart")},t.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},t.prototype.getGroupDisplayColumns=function(){return this.columnModel.getGroupDisplayColumns()},t.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},t.prototype.isPivotActive=function(){return this.columnModel.isPivotActive()},t.prototype.getChartColumns=function(){var e=this,r=this.columnModel.getAllDisplayedColumns(),i=new Set,o=new Set;return r.forEach(function(a){var s=a.getColDef(),l=s.chartDataType;if(l)switch(l){case"category":case"time":i.add(a);return;case"series":o.add(a);return;case"excluded":return;default:console.warn("AG Grid: unexpected chartDataType value '".concat(l,"' supplied, instead use 'category', 'series' or 'excluded'"));break}if(s.colId==="ag-Grid-AutoColumn"){i.add(a);return}if(!a.isPrimary()){o.add(a);return}(e.isNumberCol(a)?o:i).add(a)}),{dimensionCols:i,valueCols:o}},t.prototype.isNumberCol=function(e){if(e.getColId()==="ag-Grid-AutoColumn")return!1;var r=this.rowRenderer.getRowNode({rowIndex:0,rowPinned:null});if(!r)return!1;var i=this.valueService.getValue(e,r);return i==null&&(i=this.extractLeafData(r,e)),i!=null&&typeof i.toNumber=="function"&&(i=i.toNumber()),typeof i=="number"},t.prototype.extractLeafData=function(e,r){if(!e.allLeafChildren)return null;for(var i=0;i<e.allLeafChildren.length;i++){var o=e.allLeafChildren[i],a=this.valueService.getValue(r,o);if(a!=null)return a}return null},rE([O("columnModel")],t.prototype,"columnModel",void 0),rE([O("valueService")],t.prototype,"valueService",void 0),rE([O("rowRenderer")],t.prototype,"rowRenderer",void 0),t=rE([me("chartColumnService")],t),t}(re),AZe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),MZe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},LZe=function(n){AZe(t,n);function t(e){var r=this,i;return r=n.call(this)||this,r.suppressComboChartWarnings=!1,r.chartDataModel=e,r.seriesChartTypes=(i=e.params.seriesChartTypes)!==null&&i!==void 0?i:[],r}return t.prototype.init=function(){this.initComboCharts()},t.prototype.update=function(e){this.seriesChartTypes=e??this.seriesChartTypes,this.initComboCharts(),this.updateSeriesChartTypes()},t.prototype.initComboCharts=function(){var e=this.seriesChartTypes&&this.seriesChartTypes.length>0,r=this.chartDataModel.chartType==="customCombo"||e;r&&(this.chartDataModel.chartType="customCombo",this.savedCustomSeriesChartTypes=this.seriesChartTypes||[])},t.prototype.updateSeriesChartTypes=function(){if(this.chartDataModel.isComboChart()){if(this.seriesChartTypes=this.seriesChartTypes.map(function(e){var r=["groupedColumn","stackedColumn","stackedArea"].includes(e.chartType);return e.secondaryAxis=r?!1:e.secondaryAxis,e}),this.chartDataModel.chartType==="customCombo"){this.updateSeriesChartTypesForCustomCombo();return}this.updateChartSeriesTypesForBuiltInCombos()}},t.prototype.updateSeriesChartTypesForCustomCombo=function(){var e=this,r=this.seriesChartTypes&&this.seriesChartTypes.length>0;!r&&!this.suppressComboChartWarnings&&console.warn("AG Grid: 'seriesChartTypes' are required when the 'customCombo' chart type is specified."),this.seriesChartTypes=this.seriesChartTypes.map(function(a){return t.SUPPORTED_COMBO_CHART_TYPES.includes(a.chartType)||(console.warn("AG Grid: invalid chartType '".concat(a.chartType,"' supplied in 'seriesChartTypes', converting to 'line' instead.")),a.chartType="line"),a});var i=function(a){(!e.savedCustomSeriesChartTypes||e.savedCustomSeriesChartTypes.length===0)&&(e.savedCustomSeriesChartTypes=e.seriesChartTypes);var s=e.savedCustomSeriesChartTypes.find(function(l){return l.colId===a.colId});return s||(a.selected&&!e.suppressComboChartWarnings&&console.warn("AG Grid: no 'seriesChartType' found for colId = '".concat(a.colId,"', defaulting to 'line'.")),{colId:a.colId,chartType:"line",secondaryAxis:!1})},o=this.chartDataModel.valueColState.map(i);this.seriesChartTypes=o,this.savedCustomSeriesChartTypes=o,this.suppressComboChartWarnings=!0},t.prototype.updateChartSeriesTypesForBuiltInCombos=function(){var e=this.chartDataModel,r=e.chartType,i=e.valueColState,o=r==="columnLineCombo"?"groupedColumn":"stackedArea",a=r==="columnLineCombo"?"line":"groupedColumn",s=i.filter(function(u){return u.selected}),l=Math.ceil(s.length/2);this.seriesChartTypes=s.map(function(u,c){var d=c>=l?a:o;return{colId:u.colId,chartType:d,secondaryAxis:!1}})},t.SUPPORTED_COMBO_CHART_TYPES=["line","groupedColumn","stackedColumn","area","stackedArea"],MZe([q],t.prototype,"init",null),t}(re),FZe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),em=function(){return em=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},em.apply(this,arguments)},oF=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Xd=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Zd=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},z0=function(n){FZe(t,n);function t(e){var r=n.call(this)||this;return r.unlinked=!1,r.chartData=[],r.valueColState=[],r.dimensionColState=[],r.columnNames={},r.crossFiltering=!1,r.grouping=!1,r.params=e,r.chartId=e.chartId,r.chartType=e.chartType,r.pivotChart=e.pivotChart,r.chartThemeName=e.chartThemeName,r.aggFunc=e.aggFunc,r.referenceCellRange=e.cellRange,r.suppliedCellRange=e.cellRange,r.suppressChartRanges=e.suppressChartRanges,r.unlinked=!!e.unlinkChart,r.crossFiltering=!!e.crossFiltering,r}return t.prototype.init=function(){this.datasource=this.createManagedBean(new TZe),this.chartColumnService=this.createManagedBean(new DZe),this.comboChartModel=this.createManagedBean(new LZe(this)),this.updateCellRanges(),this.updateData()},t.prototype.updateModel=function(e){var r=e.cellRange,i=e.chartType,o=e.pivotChart,a=e.chartThemeName,s=e.aggFunc,l=e.suppressChartRanges,u=e.unlinkChart,c=e.crossFiltering,d=e.seriesChartTypes;r!==this.suppliedCellRange&&(this.dimensionCellRange=void 0,this.valueCellRange=void 0),this.chartType=i,this.pivotChart=o,this.chartThemeName=a,this.aggFunc=s,this.referenceCellRange=r,this.suppliedCellRange=r,this.suppressChartRanges=l,this.unlinked=!!u,this.crossFiltering=!!c,this.updateSelectedDimensions(r==null?void 0:r.columns),this.updateCellRanges();var p=this.isComboChart()||d;p&&this.comboChartModel.update(d),this.unlinked||this.updateData()},t.prototype.updateCellRanges=function(e){this.valueCellRange&&(this.referenceCellRange=this.valueCellRange);var r=this.chartColumnService.getChartColumns(),i=r.dimensionCols,o=r.valueCols,a=this.getAllColumnsFromRanges();e&&this.updateColumnState(e),this.setDimensionCellRange(i,a,e),this.setValueCellRange(o,a,e),e||(this.resetColumnState(),this.syncDimensionCellRange()),this.comboChartModel.updateSeriesChartTypes()},t.prototype.updateData=function(){var e=this.getRowIndexes(),r=e.startRow,i=e.endRow;this.pivotChart&&this.resetColumnState(),this.grouping=this.isGrouping();var o={aggFunc:this.aggFunc,dimensionCols:this.getSelectedDimensions(),grouping:this.grouping,pivoting:this.isPivotActive(),crossFiltering:this.crossFiltering,valueCols:this.getSelectedValueCols(),startRow:r,endRow:i,isScatter:F.includes(["scatter","bubble"],this.chartType)},a=this.datasource.getData(o),s=a.chartData,l=a.columnNames;this.chartData=s,this.columnNames=l},t.prototype.isGrouping=function(){var e=this.gridOptionsService.get("treeData"),r=e?null:this.chartColumnService.getRowGroupColumns(),i=e||r&&r.length>0,o=this.getSelectedDimensions().map(function(l){var u=l.colId;return u}),a=this.chartColumnService.getGroupDisplayColumns(),s=a.map(function(l){return l.getColId()}).some(function(l){return o.includes(l)});return!!i&&s},t.prototype.getSelectedValueCols=function(){return this.valueColState.filter(function(e){return e.selected}).map(function(e){return e.column})},t.prototype.getSelectedDimensions=function(){return this.dimensionColState.filter(function(e){return e.selected})},t.prototype.getColDisplayName=function(e){return this.chartColumnService.getColDisplayName(e)},t.prototype.isPivotMode=function(){return this.chartColumnService.isPivotMode()},t.prototype.getChartDataType=function(e){var r=this.chartColumnService.getColumn(e);return r?r.getColDef().chartDataType:void 0},t.prototype.isPivotActive=function(){return this.chartColumnService.isPivotActive()},t.prototype.createCellRange=function(e){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return{id:this.chartId,startRow:this.referenceCellRange.startRow,endRow:this.referenceCellRange.endRow,columns:r,startColumn:e===ta.DIMENSION?r[0]:this.referenceCellRange.startColumn,type:e}},t.prototype.getAllColumnsFromRanges=function(){if(this.pivotChart)return F.convertToSet(this.chartColumnService.getAllDisplayedColumns());var e=this.dimensionCellRange||this.valueCellRange?[]:this.referenceCellRange.columns;return this.dimensionCellRange&&e.push.apply(e,Zd([],Xd(this.dimensionCellRange.columns),!1)),this.valueCellRange&&e.push.apply(e,Zd([],Xd(this.valueCellRange.columns),!1)),F.convertToSet(e)},t.prototype.getRowIndexes=function(){var e=0,r=0,i=this,o=i.rangeService,a=i.valueCellRange,s=i.dimensionCellRange,l=a||s;if(o&&l){e=o.getRangeStartRow(l).rowIndex;var u=o.getRangeEndRow(l);r=u.rowPinned==="bottom"?-1:u.rowIndex}return{startRow:e,endRow:r}},t.prototype.resetColumnState=function(){var e=this,r=this.chartColumnService.getChartColumns(),i=r.dimensionCols,o=r.valueCols,a=this.getAllColumnsFromRanges(),s=this.valueColState.length<1;this.dimensionColState=[],this.valueColState=[];var l=wp(this.chartType),u=!1,c=1,d=this.suppliedCellRange.columns[0];i.forEach(function(f){var v=f.getColId()==="ag-Grid-AutoColumn",g=!1;e.crossFiltering&&e.aggFunc?d.getColId()===f.getColId()&&(g=!0):g=v?!0:(!u||l)&&a.has(f),e.dimensionColState.push({column:f,colId:f.getColId(),displayName:e.getColDisplayName(f),selected:g,order:c++}),g&&(u=!0)});var p={colId:t.DEFAULT_CATEGORY,displayName:this.chartTranslationService.translate("defaultCategory"),selected:!u,order:0};this.dimensionColState.unshift(p);var h=this.referenceCellRange.columns.filter(function(f){return o.has(f)});o.forEach(function(f){s&&F.includes(e.referenceCellRange.columns,f)&&(f=h.shift()),e.valueColState.push({column:f,colId:f.getColId(),displayName:e.getColDisplayName(f),selected:a.has(f),order:c++})})},t.prototype.updateColumnState=function(e){var r=function(h){return h.colId===e.colId},i=this,o=i.dimensionColState,a=i.valueColState,s=o.find(r),l=a.find(r);if(s){var u=wp(this.chartType);if(u)s.selected=e.selected;else{var c=e.selected?s:o.filter(function(h){return h!==s}).find(function(h){var f=h.selected;return f});o.forEach(function(h){return h.selected=h===c})}}else l&&(l.selected=e.selected);var d=Zd(Zd([],Xd(o),!1),Xd(a),!1),p=[];d.forEach(function(h,f){f===e.order&&p.push(e.colId),h.colId!==e.colId&&p.push(h.colId)}),d.forEach(function(h){var f=p.indexOf(h.colId);h.order=f>=0?p.indexOf(h.colId):d.length-1}),this.reorderColState()},t.prototype.reorderColState=function(){var e=function(r,i){return r.order-i.order};this.dimensionColState.sort(e),this.valueColState.sort(e)},t.prototype.setDimensionCellRange=function(e,r,i){if(this.dimensionCellRange=void 0,!i&&!this.dimensionColState.length){var o=wp(this.chartType),a=new Array;e.forEach(function(d){a.length>0&&!o||!r.has(d)||a.push(d)}),a.length>0&&(this.dimensionCellRange=this.createCellRange.apply(this,Zd([ta.DIMENSION],Xd(a),!1)));return}var s=i?[i]:[];if(this.crossFiltering&&this.aggFunc){var l=this.suppliedCellRange.columns[0];s=this.dimensionColState.filter(function(d){return d.colId===l.getColId()})}else(s.length===0||s.some(function(d){var p=d.column;return!p||!e.has(p)}))&&(s=this.dimensionColState.filter(function(d){return d.selected}));var u=s.length===1?s[0].colId===t.DEFAULT_CATEGORY:!1,c=s.map(function(d){var p=d.column;return p}).filter(function(d){return d!=null});c.length>0&&!u&&(this.dimensionCellRange=this.createCellRange.apply(this,Zd([ta.DIMENSION],Xd(c),!1)))},t.prototype.setValueCellRange=function(e,r,i){this.valueCellRange=void 0;var o=[];if(e.forEach(function(s){i&&i.colId===s.getColId()?i.selected&&o.push(i.column):r.has(s)&&o.push(s)}),o.length>0){var a=[];this.valueColState.length>0?a=this.valueColState.map(function(s){return s.colId}):r.forEach(function(s){return a.push(s.getColId())}),o.sort(function(s,l){return a.indexOf(s.getColId())-a.indexOf(l.getColId())}),this.valueCellRange=this.createCellRange.apply(this,Zd([ta.VALUE],Xd(o),!1))}},t.prototype.updateSelectedDimensions=function(e){var r=new Set(e.map(function(u){return u.getColId()})),i=wp(this.chartType);if(i){var s=this.dimensionColState.filter(function(u){return r.has(u.colId)}),l=new Set(s.map(function(u){return u.colId}));this.dimensionColState=this.dimensionColState.map(function(u){return em(em({},u),{selected:l.has(u.colId)})})}else{var o=this.dimensionColState.find(function(u){return r.has(u.colId)})||this.dimensionColState[0],a=o.colId;this.dimensionColState=this.dimensionColState.map(function(u){return em(em({},u),{selected:u.colId===a})})}},t.prototype.syncDimensionCellRange=function(){var e=this.getSelectedDimensions();if(e.length!==0){var r=e.map(function(i){var o=i.column;return o}).filter(function(i){return i!=null});r.length>0&&(this.dimensionCellRange=this.createCellRange.apply(this,Zd([ta.DIMENSION],Xd(r),!1)))}},t.prototype.isComboChart=function(){return["columnLineCombo","areaColumnCombo","customCombo"].includes(this.chartType)},t.DEFAULT_CATEGORY="AG-GRID-DEFAULT-CATEGORY",oF([O("rangeService")],t.prototype,"rangeService",void 0),oF([O("chartTranslationService")],t.prototype,"chartTranslationService",void 0),oF([q],t.prototype,"init",null),t}(re);function K5(n){return n.chart!=null?n.chart:n}var Fw=function(){return Fw=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Fw.apply(this,arguments)},ex=function(){function n(t){this.chartProxyParams=t,this.clearThemeOverrides=!1,this.chart=t.chartInstance,this.chartType=t.chartType,this.crossFiltering=t.crossFiltering,this.crossFilterCallback=t.crossFilterCallback,this.standaloneChartType=Tl(this.chartType),this.chart==null?this.chart=Wc.create(this.getCommonChartOptions()):this.clearThemeOverrides=!0}return n.prototype.getChart=function(){return K5(this.chart)},n.prototype.getChartRef=function(){return this.chart},n.prototype.downloadChart=function(t,e,r){var i=this.chart,o=K5(i),a=e||(o.title?o.title.text:"chart"),s=t||{},l=s.width,u=s.height;Wc.download(i,{width:l,height:u,fileName:a,fileFormat:r})},n.prototype.getChartImageDataURL=function(t){return this.getChart().scene.getDataURL(t)},n.prototype.getChartOptions=function(){return this.chart.getOptions()},n.prototype.getChartThemeOverrides=function(){var t,e=this.getChartOptions().theme;return(t=e.overrides)!==null&&t!==void 0?t:{}},n.prototype.getChartPalette=function(){return Fl.getChartTheme(this.getChartOptions().theme).palette},n.prototype.setPaired=function(t){var e,r=Tl(this.chartProxyParams.chartType);Wc.updateDelta(this.chart,{theme:{overrides:(e={},e[r]={paired:t},e)}})},n.prototype.isPaired=function(){var t=Tl(this.chartProxyParams.chartType);return Qg(this.getChartThemeOverrides(),"".concat(t,".paired"),!0)},n.prototype.lookupCustomChartTheme=function(t){return Mie(this.chartProxyParams,t)},n.prototype.transformData=function(t,e,r){return r?t.map(function(i,o){var a=i[e],s=a&&a.toString?a.toString():"",l=Fw({},i);return l[e]={id:o,value:a,toString:function(){return s}},l}):t},n.prototype.getCommonChartOptions=function(t){var e,r,i=this.clearThemeOverrides?{}:(r=(e=this.chart)===null||e===void 0?void 0:e.getOptions())!==null&&r!==void 0?r:{},o=this.chart!=null?this.getActiveFormattingPanelOverrides():void 0;this.clearThemeOverrides=!1;var a=G7e(this.chartProxyParams,this),s=this.getChartThemeDefaults(),l=V7e(a,[s,t??o]);return Fw(Fw({},i),{theme:l,container:this.chartProxyParams.parentElement,mode:"integrated"})},n.prototype.getChartThemeDefaults=function(){},n.prototype.getActiveFormattingPanelOverrides=function(){var t,e;if(this.clearThemeOverrides)return{};var r=(t=this.chart)===null||t===void 0?void 0:t.getOptions().theme;return(e=r==null?void 0:r.overrides)!==null&&e!==void 0?e:{}},n.prototype.destroy=function(t){var e=t===void 0?{}:t,r=e.keepChartInstance,i=r===void 0?!1:r;if(i)return this.chart.resetAnimations(),this.chart;this.destroyChart()},n.prototype.destroyChart=function(){this.chart&&(this.chart.destroy(),this.chart=void 0)},n}(),IZe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),wT=function(){return wT=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},wT.apply(this,arguments)},nE=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Rh=function(n){IZe(t,n);function t(e){var r=n.call(this,e)||this;return r.crossFilteringAllPoints=new Set,r.crossFilteringSelectedPoints=[],r}return t.prototype.update=function(e){var r=this.getAxes(e),i=wT(wT({},this.getCommonChartOptions(e.updatedOverrides)),{data:this.getData(e,r),axes:r,series:this.getSeries(e)});Wc.update(this.getChartRef(),i)},t.prototype.getData=function(e,r){var i=["area","line"].includes(this.standaloneChartType),o=r.some(function(a){return(a==null?void 0:a.type)==="category"});return this.crossFiltering&&i?this.getCrossFilterData(e):this.getDataTransformedData(e,o)},t.prototype.getDataTransformedData=function(e,r){var i=nE(e.categories,1),o=i[0];return this.transformData(e.data,o.id,r)},t.prototype.getXAxisType=function(e){return e.grouping?"grouped-category":t.isTimeAxis(e)?"time":"category"},t.isTimeAxis=function(e){var r=nE(e.categories,1),i=r[0];if(i&&i.chartDataType)return i.chartDataType==="time";var o=e.data[0];return(o&&o[i.id])instanceof Date},t.prototype.crossFilteringReset=function(){this.crossFilteringSelectedPoints=[],this.crossFilteringAllPoints.clear()},t.prototype.crossFilteringPointSelected=function(e){return this.crossFilteringSelectedPoints.length==0||this.crossFilteringSelectedPoints.includes(e)},t.prototype.crossFilteringDeselectedPoints=function(){return this.crossFilteringSelectedPoints.length>0&&this.crossFilteringAllPoints.size!==this.crossFilteringSelectedPoints.length},t.prototype.extractLineAreaCrossFilterSeries=function(e,r){var i=this,o=nE(r.categories,1),a=o[0],s=function(l){if(i.standaloneChartType==="area"){var u=r.getCrossFilteringContext().lastSelectedChartId;return u===r.chartId?l+"-total":l}return l+"-total"};return e.map(function(l){return l.yKey=s(l.yKey),l.listeners={nodeClick:function(u){var c=u.datum[l.xKey],d=u.event.metaKey||u.event.ctrlKey;i.crossFilteringAddSelectedPoint(d,c),i.crossFilterCallback(u)}},l.marker={formatter:function(u){var c=u.datum[a.id];return{fill:u.highlighted?"yellow":u.fill,size:u.highlighted?14:i.crossFilteringPointSelected(c)?8:0}}},i.standaloneChartType==="area"&&(l.fillOpacity=i.crossFilteringDeselectedPoints()?.3:1),i.standaloneChartType==="line"&&(l.strokeOpacity=i.crossFilteringDeselectedPoints()?.3:1),l})},t.prototype.getCrossFilterData=function(e){var r=this;this.crossFilteringAllPoints.clear();var i=nE(e.categories,1),o=i[0],a=e.fields[0].colId,s="".concat(a,"-filtered-out"),l=e.getCrossFilteringContext().lastSelectedChartId;return e.data.map(function(u){var c=u[o.id];r.crossFilteringAllPoints.add(c);var d=r.crossFilteringPointSelected(c);return r.standaloneChartType==="area"&&l===e.chartId&&(u["".concat(a,"-total")]=d?u[a]:u[a]+u[s]),r.standaloneChartType==="line"&&(u["".concat(a,"-total")]=d?u[a]:u[a]+u[s]),u})},t.prototype.crossFilteringAddSelectedPoint=function(e,r){e?this.crossFilteringSelectedPoints.push(r):this.crossFilteringSelectedPoints=[r]},t}(ex);function Y5(n,t){var e=parseInt(n.slice(1,3),16),r=parseInt(n.slice(3,5),16),i=parseInt(n.slice(5,7),16);return t?"rgba(".concat(e,", ").concat(r,", ").concat(i,", ").concat(t,")"):"rgba(".concat(e,", ").concat(r,", ").concat(i,")")}function q5(n,t){return n.map(function(e){var r=cn.Color.fromString(e);return new cn.Color(r.r,r.g,r.b,t).toHexString()})}var NZe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ap=function(){return ap=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ap.apply(this,arguments)},kZe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},GZe=function(n){NZe(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getAxes=function(e){var r=[{type:this.getXAxisType(e),position:Uc(this.chartType)?"left":"bottom"},{type:"number",position:Uc(this.chartType)?"bottom":"left"}];if(this.isNormalised()){var i=r[1];i.label=ap(ap({},i.label),{formatter:function(o){return Math.round(o.value)+"%"}})}return r},t.prototype.getSeries=function(e){var r=this,i=kZe(e.categories,1),o=i[0],a=e.fields.map(function(s){return{type:r.standaloneChartType,direction:Uc(r.chartType)?"horizontal":"vertical",stacked:r.crossFiltering||b7e(r.chartType),normalizedTo:r.isNormalised()?100:void 0,xKey:o.id,xName:o.name,yKey:s.colId,yName:s.displayName}});return this.crossFiltering?this.extractCrossFilterSeries(a):a},t.prototype.extractCrossFilterSeries=function(e){for(var r=this,i=this.getChartPalette(),o=function(c,d){return ap(ap({},c),{highlightStyle:{item:{fill:void 0}},fill:i==null?void 0:i.fills[d],stroke:i==null?void 0:i.strokes[d],listeners:{nodeClick:r.crossFilterCallback}})},a=function(c){var d=c.yKey+"-filtered-out";return ap(ap({},Vp({},c)),{yKey:d,fill:Y5(c.fill,"0.3"),stroke:Y5(c.stroke,"0.3"),showInLegend:!1})},s=[],l=0;l<e.length;l++){var u=o(e[l],l);s.push(u),s.push(a(u))}return s},t.prototype.isNormalised=function(){var e=["normalizedColumn","normalizedBar"];return!this.crossFiltering&&F.includes(e,this.chartType)},t}(Rh),VZe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),_T=function(){return _T=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},_T.apply(this,arguments)},BZe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},jZe=function(n){VZe(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getAxes=function(e){var r=[{type:this.getXAxisType(e),position:"bottom"},{type:"number",position:"left"}];if(this.isNormalised()){var i=r[1];i.label=_T(_T({},i.label),{formatter:function(o){return Math.round(o.value)+"%"}})}return r},t.prototype.getSeries=function(e){var r=this,i=BZe(e.categories,1),o=i[0],a=e.fields.map(function(s){return{type:r.standaloneChartType,xKey:o.id,xName:o.name,yKey:s.colId,yName:s.displayName,normalizedTo:r.chartType==="normalizedArea"?100:void 0,stacked:["normalizedArea","stackedArea"].includes(r.chartType)}});return this.crossFiltering?this.extractLineAreaCrossFilterSeries(a,e):a},t.prototype.isNormalised=function(){return!this.crossFiltering&&this.chartType==="normalizedArea"},t}(Rh),HZe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),$Ze=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},WZe=function(n){HZe(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getAxes=function(e){return[{type:this.getXAxisType(e),position:"bottom"},{type:"number",position:"left"}]},t.prototype.getSeries=function(e){var r=this,i=$Ze(e.categories,1),o=i[0],a=e.fields.map(function(s){return{type:r.standaloneChartType,xKey:o.id,xName:o.name,yKey:s.colId,yName:s.displayName}});return this.crossFiltering?this.extractLineAreaCrossFilterSeries(a,e):a},t}(Rh),UZe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),xT=function(){return xT=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},xT.apply(this,arguments)},X5=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},zZe=function(n){UZe(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getAxes=function(e){var r=this.standaloneChartType==="radial-bar";return[{type:r?"angle-number":"angle-category"},{type:r?"radius-category":"radius-number"}]},t.prototype.getSeries=function(e){var r=this,i=e.fields,o=X5(e.categories,1),a=o[0],s=this.standaloneChartType==="radial-bar";return i.map(function(l){var u,c;return{type:r.standaloneChartType,angleKey:s?l.colId:a.id,angleName:s?(u=l.displayName)!==null&&u!==void 0?u:void 0:a.name,radiusKey:s?a.id:l.colId,radiusName:s?a.name:(c=l.displayName)!==null&&c!==void 0?c:void 0}})},t.prototype.update=function(e){var r=this.getAxes(e),i=xT(xT({},this.getCommonChartOptions(e.updatedOverrides)),{data:this.getData(e,r),axes:r,series:this.getSeries(e)});Wc.update(this.getChartRef(),i)},t.prototype.getData=function(e,r){var i=r.some(function(o){return o.type==="angle-category"||o.type==="radius-category"});return this.getDataTransformedData(e,i)},t.prototype.getDataTransformedData=function(e,r){var i=X5(e.categories,1),o=i[0];return this.transformData(e.data,o.id,r)},t.prototype.crossFilteringReset=function(){},t}(ex),KZe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ws=function(){return ws=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ws.apply(this,arguments)},Z5=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},YZe=function(n){KZe(t,n);function t(e){return n.call(this,e)||this}return t.prototype.update=function(e){var r=e.data,i=Z5(e.categories,1),o=i[0],a=ws(ws({},this.getCommonChartOptions(e.updatedOverrides)),{data:this.crossFiltering?this.getCrossFilterData(e):this.transformData(r,o.id),series:this.getSeries(e)});Wc.update(this.getChartRef(),a)},t.prototype.getSeries=function(e){var r=this,i=Z5(e.categories,1),o=i[0],a=e.fields.length,s={currentOffset:0,offsetAmount:a>1?20:40},l=this.getFields(e).map(function(u){var c,d={type:r.standaloneChartType,angleKey:u.colId,angleName:u.displayName,sectorLabelKey:u.colId,calloutLabelName:o.name,calloutLabelKey:o.id};if(r.chartType==="donut"||r.chartType==="doughnut"){var p=t.calculateOffsets(s),h=p.outerRadiusOffset,f=p.innerRadiusOffset,v=u.displayName?{title:{text:u.displayName,showInLegend:a>1}}:void 0;return ws(ws(ws(ws({},d),{type:"donut",outerRadiusOffset:h,innerRadiusOffset:f}),v),{calloutLine:{colors:(c=r.getChartPalette())===null||c===void 0?void 0:c.strokes}})}return d});return this.crossFiltering?this.extractCrossFilterSeries(l):l},t.prototype.getCrossFilterData=function(e){var r=e.fields[0].colId,i="".concat(r,"-filtered-out");return e.data.map(function(o){var a=o[r]+o[i];return o["".concat(r,"-total")]=a,o[i]=1,o[r]=o[r]/a,o})},t.prototype.extractCrossFilterSeries=function(e){var r=this,i=this.getChartPalette(),o=function(c){return ws(ws({},c),{legendItemKey:c.calloutLabelKey,calloutLabel:{enabled:!1},highlightStyle:{item:{fill:void 0}},radiusKey:c.angleKey,angleKey:c.angleKey+"-total",radiusMin:0,radiusMax:1,listeners:{nodeClick:r.crossFilterCallback}})},a=function(c,d){var p,h;return ws(ws({},Vp({},u)),{radiusKey:d+"-filtered-out",fills:q5((p=c.fills)!==null&&p!==void 0?p:i.fills,.3),strokes:q5((h=c.strokes)!==null&&h!==void 0?h:i.strokes,.3),showInLegend:!1})},s=e[0],l=s.angleKey,u=o(s);return[a(s,l),u]},t.calculateOffsets=function(e){var r=e.currentOffset;e.currentOffset-=e.offsetAmount;var i=e.currentOffset;return e.currentOffset-=e.offsetAmount,{outerRadiusOffset:r,innerRadiusOffset:i}},t.prototype.getFields=function(e){return this.chartType==="pie"?e.fields.slice(0,1):e.fields},t.prototype.crossFilteringReset=function(){},t}(ex),qZe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),si=function(){return si=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},si.apply(this,arguments)},aF=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},XZe=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Q5=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},ZZe=function(n){qZe(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getAxes=function(e){return[{type:"number",position:"bottom"},{type:"number",position:"left"}]},t.prototype.getSeries=function(e){var r=aF(e.categories,1),i=r[0],o=this.isPaired(),a=this.getSeriesDefinitions(e.fields,o),s=i.id===z0.DEFAULT_CATEGORY?void 0:i,l=a.map(function(u){var c,d,p,h,f;if(u!=null&&u.sizeField){var v={type:"bubble",xKey:u.xField.colId,xName:(c=u.xField.displayName)!==null&&c!==void 0?c:void 0,yKey:u.yField.colId,yName:(d=u.yField.displayName)!==null&&d!==void 0?d:void 0,title:"".concat(u.yField.displayName," vs ").concat(u.xField.displayName),sizeKey:u.sizeField.colId,sizeName:(p=u.sizeField.displayName)!==null&&p!==void 0?p:"",labelKey:s?s.id:u.yField.colId,labelName:s?s.name:void 0};return v}var g={type:"scatter",xKey:u.xField.colId,xName:(h=u.xField.displayName)!==null&&h!==void 0?h:void 0,yKey:u.yField.colId,yName:(f=u.yField.displayName)!==null&&f!==void 0?f:void 0,title:"".concat(u.yField.displayName," vs ").concat(u.xField.displayName),labelKey:s?s.id:u.yField.colId,labelName:s?s.name:void 0};return g});return this.crossFiltering?this.extractCrossFilterSeries(l,e):l},t.prototype.extractCrossFilterSeries=function(e,r){var i=this,o=r.data,a=this.getChartPalette(),s=function(p){return"".concat(p,"-filtered-out")},l=function(p,h){var f,v,g,m=[1/0,-1/0];if(h!=null)try{for(var y=XZe(p),C=y.next();!C.done;C=y.next()){var S=C.value,w=(g=S[h])!==null&&g!==void 0?g:S[s(h)];w<m[0]&&(m[0]=w),w>m[1]&&(m[1]=w)}}catch(_){f={error:_}}finally{try{C&&!C.done&&(v=y.return)&&v.call(y)}finally{if(f)throw f.error}}if(m[0]<=m[1])return m},u=function(p,h){var f=a==null?void 0:a.fills[h],v=a==null?void 0:a.strokes[h],g=void 0;if(p.type==="bubble"){var m=p.sizeKey;g=l(o,m)}var y=si(si({},p.marker),{fill:f,stroke:v,domain:g});return si(si({},p),{marker:y,highlightStyle:{item:{fill:"yellow"}},listeners:si(si({},p.listeners),{nodeClick:i.crossFilterCallback})})},c=function(p){var h=p.yKey,f=p.xKey,v={};return p.type==="bubble"&&(v={sizeKey:s(p.sizeKey)}),si(si(si({},p),v),{yKey:s(h),xKey:s(f),marker:si(si({},p.marker),{fillOpacity:.3,strokeOpacity:.3}),showInLegend:!1,listeners:si(si({},p.listeners),{nodeClick:function(g){var m,y=g.datum[s(f)],C=si(si({},g),{xKey:f,datum:si(si({},g.datum),(m={},m[f]=y,m))});i.crossFilterCallback(C)}})})},d=e.map(u);return Q5(Q5([],aF(d),!1),aF(d.map(c)),!1)},t.prototype.getSeriesDefinitions=function(e,r){if(e.length<2)return[];var i=this.chartType==="bubble";if(r)return i?e.map(function(a,s){return s%3===0?{xField:a,yField:e[s+1],sizeField:e[s+2]}:null}).filter(function(a){return a&&a.yField&&a.sizeField}):e.map(function(a,s){return s%2===0?{xField:a,yField:e[s+1]}:null}).filter(function(a){return a&&a.yField});var o=e[0];return i?e.map(function(a,s){return s%2===1?{xField:o,yField:a,sizeField:e[s+1]}:null}).filter(function(a){return a&&a.sizeField}):e.filter(function(a,s){return s>0}).map(function(a){return{xField:o,yField:a}})},t}(Rh),QZe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sF=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Bie=function(n){QZe(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getAxes=function(e){return[{type:this.getXAxisType(e),position:Uc(this.chartType)?"left":"bottom"},{type:"number",position:Uc(this.chartType)?"bottom":"left"}]},t.prototype.computeSeriesStatistics=function(e,r){var i=e.data,o=e.fields,a=sF(e.categories,1),s=a[0],l=s.id||z0.DEFAULT_CATEGORY,u=this.groupDataByCategory(l,i);return Array.from(u).map(function(c){var d,p=sF(c,2),h=p[0],f=p[1],v=(d={},d[s.id]=h,d);return o.forEach(function(g,m){var y=f.map(function(C){return C[g.colId]}).filter(function(C){return typeof C=="number"&&!isNaN(C)});Object.entries(r(y)).forEach(function(C){var S=sF(C,2),w=S[0],_=S[1],x="".concat(w,":").concat(m);v[x]=y.length>0?_:null})}),v})},t.prototype.groupDataByCategory=function(e,r){var i=function(o){if(e===z0.DEFAULT_CATEGORY)return 1;var a=o[e];return a==null?"":a instanceof Date?a.getTime():a};return r.reduce(function(o,a){var s=i(a),l=o.get(s);return l?l.push(a):o.set(s,[a]),o},new Map)},t}(Rh),JZe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),lF=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},J5=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},eK=function(n){JZe(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getSeries=function(e){var r=this,i=lF(e.categories,1),o=i[0];return e.fields.map(function(a,s){var l;return{type:r.standaloneChartType,xKey:o.id,xName:o.name,yName:(l=a.displayName)!==null&&l!==void 0?l:void 0,yLowName:"Min",yHighName:"Max",yLowKey:"min:".concat(s),yHighKey:"max:".concat(s)}})},t.prototype.getData=function(e){return this.computeSeriesStatistics(e,function(r){return{min:Math.min.apply(Math,J5([],lF(r),!1)),max:Math.max.apply(Math,J5([],lF(r),!1))}})},t}(Bie),eQe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),tQe=function(n){eQe(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getSeries=function(e){var r=e.fields[0];return[{type:this.standaloneChartType,xKey:r.colId,xName:r.displayName,yName:this.chartProxyParams.translate("histogramFrequency"),areaPlot:!1}]},t.prototype.getAxes=function(e){return[{type:"number",position:"bottom"},{type:"number",position:"left"}]},t}(Rh),rQe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),nQe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},iQe=function(n){rQe(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getSeries=function(e){var r=this,i=nQe(e.categories,1),o=i[0];return e.fields.map(function(a,s){var l;return{type:r.standaloneChartType,direction:Uc(r.chartType)?"horizontal":"vertical",xKey:o.id,xName:o.name,yName:(l=a.displayName)!==null&&l!==void 0?l:void 0,minName:"Min",q1Name:"Q1",medianName:"Median",q3Name:"Q3",maxName:"Max",minKey:"min:".concat(s),q1Key:"q1:".concat(s),medianKey:"median:".concat(s),q3Key:"q3:".concat(s),maxKey:"max:".concat(s)}})},t.prototype.getData=function(e){var r=this;return this.computeSeriesStatistics(e,function(i){var o=i.sort(function(a,s){return a-s});return{min:o[0],q1:r.quantile(o,.25),median:r.quantile(o,.5),q3:r.quantile(o,.75),max:o[o.length-1]}})},t.prototype.quantile=function(e,r){var i=(e.length-1)*r,o=Math.floor(i),a=i-o;return e[o+1]!==void 0?e[o]+a*(e[o+1]-e[o]):e[o]},t}(Bie),bT=function(){return bT=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},bT.apply(this,arguments)},tK=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},oQe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},aQe=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},uO="AG-GRID-DEFAULT-LABEL-KEY";function sQe(n,t){var e=jie(n,r,i);return q2(e);function r(a){return t.length}function i(a,s){var l=t[s],u=a[l];return o(u)}function o(a){return a==null?null:String(a)}}function lQe(n,t){var e=jie(n,r,i);return q2(e);function r(o){var a,s;return(s=(a=t(o))===null||a===void 0?void 0:a.length)!==null&&s!==void 0?s:0}function i(o,a){var s=t(o);if(!s)return null;var l=s.length-1-a;return s[l]}}function q2(n){var t,e,r=n.depth,i=n.leaves,o=n.children;if(r===0)return i.map(function(h){var f;return bT((f={},f[uO]=null,f),h)});var a=new Array,s=function(h,f){var v;f.depth===0?a.push.apply(a,oQe([],tK(f.leaves.map(function(g){var m;return bT((m={},m[uO]=h,m),g)})),!1)):a.push((v={},v[uO]=h,v.children=q2(f),v))};try{for(var l=aQe(o.entries()),u=l.next();!u.done;u=l.next()){var c=tK(u.value,2),d=c[0],p=c[1];s(d,p)}}catch(h){t={error:h}}finally{try{u&&!u.done&&(e=l.return)&&e.call(l)}finally{if(t)throw t.error}}return a}function jie(n,t,e){var r={depth:0,leaves:[],children:new Map};return n.reduce(function(o,a){var s=t(a),l=0;return i(a,s,e,l,o)},r);function i(o,a,s,l,u){if(l===a)return u.leaves.push(o),u;var c=s(o,l),d=u.children.get(c),p=i(o,a,s,l+1,d||{depth:0,leaves:[],children:new Map});return u.children.set(c,p),u.depth=Math.max(1+p.depth,u.depth),u}}var uQe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ET=function(){return ET=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ET.apply(this,arguments)},Hie=function(n){uQe(t,n);function t(e){var r=n.call(this,e)||this;return r.chartProxyParams=e,r}return t.prototype.update=function(e){var r=ET(ET({},this.getCommonChartOptions(e.updatedOverrides)),{series:this.getSeries(e,uO),data:this.getData(e)});Wc.update(this.getChartRef(),r)},t.prototype.getData=function(e){var r=e.categories,i=e.data,o=e.grouping;if(o)return lQe(i,cQe);var a=r.map(function(s){var l=s.id;return l});return sQe(i,a)},t}(ex);function cQe(n){var t,e;return(e=(t=n[nd])===null||t===void 0?void 0:t.labels)!==null&&e!==void 0?e:null}var dQe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),pQe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},hQe=function(n){dQe(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getSeries=function(e,r){var i,o,a=e.fields,s=pQe(a,2),l=s[0],u=s[1];return[{type:this.standaloneChartType,labelKey:r,sizeKey:l==null?void 0:l.colId,sizeName:(i=l==null?void 0:l.displayName)!==null&&i!==void 0?i:void 0,colorKey:u==null?void 0:u.colId,colorName:(o=u==null?void 0:u.displayName)!==null&&o!==void 0?o:void 0}]},t.prototype.getChartThemeDefaults=function(){return{treemap:{gradientLegend:{gradient:{preferredLength:200}}}}},t.prototype.transformData=function(e,r,i){return e},t.prototype.crossFilteringReset=function(){},t}(Hie),fQe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),vQe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},gQe=function(n){fQe(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getSeries=function(e,r){var i,o,a=e.fields,s=vQe(a,2),l=s[0],u=s[1];return[{type:this.standaloneChartType,labelKey:r,sizeKey:l==null?void 0:l.colId,sizeName:(i=l==null?void 0:l.displayName)!==null&&i!==void 0?i:void 0,colorKey:u==null?void 0:u.colId,colorName:(o=u==null?void 0:u.displayName)!==null&&o!==void 0?o:void 0}]},t.prototype.getChartThemeDefaults=function(){return{sunburst:{gradientLegend:{gradient:{preferredLength:200}}}}},t.prototype.transformData=function(e,r,i){return e},t.prototype.crossFilteringReset=function(){},t}(Hie);function $ie(n,t){return n.reduce(function(e,r,i,o){return e.concat(t(r,i,o))},new Array)}var mQe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),tm=function(){return tm=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},tm.apply(this,arguments)},rK=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},yQe="AG-GRID-DEFAULT-HEATMAP-CATEGORY-KEY",CQe="AG-GRID-DEFAULT-HEATMAP-SERIES-KEY",SQe="AG-GRID-DEFAULT-HEATMAP-VALUE-KEY",wQe=function(n){mQe(t,n);function t(e){return n.call(this,e)||this}return t.prototype.update=function(e){var r=CQe,i=SQe,o=yQe,a=tm(tm({},this.getCommonChartOptions(e.updatedOverrides)),{series:this.getSeries(e,r,i,o),data:this.getData(e,r,i,o)});Wc.update(this.getChartRef(),a)},t.prototype.getSeries=function(e,r,i,o){var a=rK(e.categories,1),s=a[0];return[{type:this.standaloneChartType,yKey:o,xKey:r,colorKey:i,yName:s.name,xName:void 0,colorName:void 0}]},t.prototype.getData=function(e,r,i,o){var a=rK(e.categories,1),s=a[0];return $ie(e.data,function(l,u){var c=l[s.id],d=c==null?"":String(c),p={id:u,value:c,toString:function(){return d}};return e.fields.map(function(h){var f,v=h.colId,g=h.displayName;return tm(tm({},l),(f={},f[r]=g,f[i]=l[v],f[o]=p,f))})})},t.prototype.getChartThemeDefaults=function(){return{heatmap:{gradientLegend:{gradient:{preferredLength:200}},series:{tooltip:{renderer:_Qe}}}}},t.prototype.transformData=function(e,r,i){return e},t.prototype.crossFilteringReset=function(){},t}(ex);function _Qe(n){var t=n.xKey,e=n.yKey,r=n.colorKey,i=n.yName,o=n.seriesId,a=n.datum,s=a[o],l=[{label:i,value:s[e]},{label:s[t],value:r&&s[r]}],u=l.map(function(c){var d=c.label,p=c.value;return"<b>".concat(nK(String(d)),":</b> ").concat(nK(String(p)))}).join("<br>");return{title:"",content:u}}function nK(n){var t={"&":"&amp;","<":"&lt;",">":"&gt;"},e="[".concat(Object.keys(t).join(""),"]"),r=new RegExp(e,"g");return n.replace(r,function(i){return t[i]})}var xQe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),iK=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},bQe=function(n){xQe(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getAxes=function(e){return[{type:this.getXAxisType(e),position:Uc(this.chartType)?"left":"bottom"},{type:"number",position:Uc(this.chartType)?"bottom":"left"}]},t.prototype.getSeries=function(e){var r,i=iK(e.categories,1),o=i[0],a=iK(e.fields,1),s=a[0],l={type:this.standaloneChartType,direction:Uc(this.chartType)?"horizontal":"vertical",xKey:o.id,xName:o.name,yKey:s.colId,yName:(r=s.displayName)!==null&&r!==void 0?r:void 0};return[l]},t}(Rh),EQe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),OQe=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},RQe=function(n){EQe(t,n);function t(e){var r=n.call(this)||this;return r.chartController=e,r}return t.prototype.getChartOption=function(e){return Qg(this.getChart(),e,void 0)},t.prototype.setChartOption=function(e,r,i){var o=this,a=this.chartController.getChartSeriesTypes();this.chartController.isComboChart()&&a.push("common");var s={};a.forEach(function(l){s=Vp(s,o.createChartOptions({seriesType:l,expression:e,value:r}))}),i||(this.updateChart(s),this.raiseChartOptionsChangedEvent())},t.prototype.awaitChartOptionUpdate=function(e){var r=this.chartController.getChartProxy().getChart();r.waitForUpdate().then(function(){return e()}).catch(function(i){return console.error("AG Grid - chart update failed",i)})},t.prototype.getAxisProperty=function(e){var r;return Qg((r=this.getChart().axes)===null||r===void 0?void 0:r[0],e,void 0)},t.prototype.setAxisProperty=function(e,r){this.setAxisProperties([{expression:e,value:r}])},t.prototype.setAxisProperties=function(e){var r=this,i=this.getChart(),o=$ie(e,function(a){var s,l=a.expression,u=a.value,c=(s=i.axes)===null||s===void 0?void 0:s.filter(function(d){var p,h,f=l.split("."),v=d;try{for(var g=OQe(f),m=g.next();!m.done;m=g.next()){var y=m.value;if(!(y in v))return!1;v=v[y]}}catch(C){p={error:C}}finally{try{m&&!m.done&&(h=g.return)&&h.call(g)}finally{if(p)throw p.error}}return!0});return c?c.map(function(d){return r.getUpdateAxisOptions(d,l,u)}):[]}).reduce(function(a,s){return Vp(a,s)},{});Object.keys(o).length>0&&(this.updateChart(o),this.raiseChartOptionsChangedEvent())},t.prototype.getLabelRotation=function(e){var r=this.getAxis(e);return Qg(r,"label.rotation",void 0)},t.prototype.setLabelRotation=function(e,r){var i=this.getAxis(e);if(i){var o=this.getUpdateAxisOptions(i,"label.rotation",r);this.updateChart(o),this.raiseChartOptionsChangedEvent()}},t.prototype.getSeriesOption=function(e,r,i){var o=this.getChart().series.find(function(a){return t.isMatchingSeries(r,a)});return Qg(i?o:o==null?void 0:o.properties.toJson(),e,void 0)},t.prototype.setSeriesOption=function(e,r,i){var o=this.createChartOptions({seriesType:i,expression:"series.".concat(e),value:r});this.updateChart(o),this.raiseChartOptionsChangedEvent()},t.prototype.getPairedMode=function(){return this.chartController.getChartProxy().isPaired()},t.prototype.setPairedMode=function(e){this.chartController.getChartProxy().setPaired(e)},t.prototype.getAxis=function(e){var r=this.getChart();if(!(!r.axes||r.axes.length<1))return e==="xAxis"?r.axes&&r.axes[0].direction==="x"?r.axes[0]:r.axes[1]:r.axes&&r.axes[1].direction==="y"?r.axes[1]:r.axes[0]},t.prototype.getUpdateAxisOptions=function(e,r,i){var o=this,a=this.chartController.getChartSeriesTypes();this.chartController.isComboChart()&&a.push("common");var s=["number","category","time","grouped-category","angle-category","angle-number","radius-category","radius-number"];return s.includes(e.type)?a.map(function(l){return o.createChartOptions({seriesType:l,expression:"axes.".concat(e.type,".").concat(r),value:i})}).reduce(function(l,u){return Vp(l,u)}):{}},t.prototype.getChartType=function(){return this.chartController.getChartType()},t.prototype.getChart=function(){return this.chartController.getChartProxy().getChart()},t.prototype.updateChart=function(e){var r=this.chartController.getChartProxy().getChartRef();r.skipAnimations(),Wc.updateDelta(r,e)},t.prototype.createChartOptions=function(e){var r=e.seriesType,i=e.expression,o=e.value,a={},s={theme:{overrides:a}};return k7e(a,"".concat(r,".").concat(i),o),s},t.prototype.raiseChartOptionsChangedEvent=function(){var e=this.chartController.getChartModel(),r={type:M.EVENT_CHART_OPTIONS_CHANGED,chartId:e.chartId,chartType:e.chartType,chartThemeName:this.chartController.getChartThemeName(),chartOptions:e.chartOptions};this.eventService.dispatchEvent(r)},t.isMatchingSeries=function(e,r){return w7e.includes(e)&&r.type===e},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t}(re),TQe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),GN=function(){return GN=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},GN.apply(this,arguments)},PQe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},DQe=function(n){TQe(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getAxes=function(e){var r=e?e.fields:[],i=new Map(r.map(function(u){return[u.colId,u]})),o=this.getYKeys(r,e.seriesChartTypes),a=o.primaryYKeys,s=o.secondaryYKeys,l=[{type:this.getXAxisType(e),position:"bottom"}];return a.length>0&&l.push({type:"number",keys:a,position:"left"}),s.length>0&&s.forEach(function(u){var c=i.get(u),d=c&&c.colId===u;if(d){var p={type:"number",keys:[u],position:"right"};l.push(p)}}),l},t.prototype.getSeries=function(e){var r=e.fields,i=e.seriesChartTypes,o=PQe(e.categories,1),a=o[0];return r.map(function(s){var l=i.find(function(p){return p.colId===s.colId});if(l){var u=l.chartType,c=["groupedColumn","groupedBar"].includes(u),d=c?{grouped:!0}:{};return GN({type:Tl(u),xKey:a.id,yKey:s.colId,yName:s.displayName,stacked:["stackedArea","stackedColumn"].includes(u)},d)}})},t.prototype.getYKeys=function(e,r){var i=[],o=[];return e.forEach(function(a){var s=a.colId,l=r.find(function(u){return u.colId===s});l&&(l.secondaryAxis?o.push(s):i.push(s))}),{primaryYKeys:i,secondaryYKeys:o}},t}(Rh),AQe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),su=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},MQe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},oK=function(n){AQe(t,n);function t(e){var r=n.call(this,t.TEMPLATE)||this;return r.params=e,r}return t.prototype.init=function(){var e=this,r={chartId:this.params.chartId,pivotChart:this.params.pivotChart,chartType:$0(this.params.chartType),chartThemeName:this.getThemeName(),aggFunc:this.params.aggFunc,cellRange:this.params.cellRange,suppressChartRanges:this.params.suppressChartRanges,unlinkChart:this.params.unlinkChart,crossFiltering:this.params.crossFiltering,seriesChartTypes:this.params.seriesChartTypes},i=this.gridOptionsService.get("enableRtl");this.addCssClass(i?"ag-rtl":"ag-ltr");var o=this.createBean(new z0(r));this.chartController=this.createManagedBean(new Il(o)),this.validateCustomThemes(),this.createChart(),this.params.insideDialog&&this.addDialog(),this.addMenu(),this.addTitleEditComp(),this.addManagedListener(this.getGui(),"focusin",this.setActiveChartCellRange.bind(this)),this.addManagedListener(this.chartController,Il.EVENT_CHART_MODEL_UPDATE,this.update.bind(this)),this.addManagedPropertyListeners(["chartThemeOverrides","chartThemes"],this.reactivePropertyUpdate.bind(this)),this.chartMenu&&this.addManagedListener(this.chartMenu,U5.EVENT_DOWNLOAD_CHART,function(){return e.downloadChart()}),this.update(),this.raiseChartCreatedEvent()},t.prototype.createChart=function(){var e=this,r=void 0;this.chartProxy&&(r=this.chartProxy.destroy({keepChartInstance:!0}));var i=function(l,u){var c=e.params.crossFilteringContext;c.lastSelectedChartId=u?"":e.chartController.getChartId(),u&&e.params.crossFilteringResetCallback(),e.crossFilterService.filter(l,u)},o=this.chartController.getChartType(),a={chartType:o,chartInstance:r,getChartThemeName:this.getChartThemeName.bind(this),getChartThemes:this.getChartThemes.bind(this),customChartThemes:this.gridOptionsService.get("customChartThemes"),getGridOptionsChartThemeOverrides:function(){return e.getGridOptionsChartThemeOverrides()},getExtraPaddingDirections:function(){var l,u;return(u=(l=e.chartMenu)===null||l===void 0?void 0:l.getExtraPaddingDirections())!==null&&u!==void 0?u:[]},apiChartThemeOverrides:this.params.chartThemeOverrides,crossFiltering:this.params.crossFiltering,crossFilterCallback:i,parentElement:this.eChart,grouping:this.chartController.isGrouping(),chartThemeToRestore:this.params.chartThemeName,chartOptionsToRestore:this.params.chartOptionsToRestore,chartPaletteToRestore:this.params.chartPaletteToRestore,seriesChartTypes:this.chartController.getSeriesChartTypes(),translate:function(l,u){return e.chartTranslationService.translate(l,u)}};if(this.params.chartOptionsToRestore=void 0,this.chartType=o,this.chartProxy=t.createChartProxy(a),!this.chartProxy){console.warn("AG Grid: invalid chart type supplied: ",a.chartType);return}var s=this.eChart.querySelector("canvas");s&&s.classList.add("ag-charts-canvas"),this.chartController.setChartProxy(this.chartProxy),this.chartOptionsService=this.createBean(new RQe(this.chartController)),this.titleEdit&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)},t.prototype.getChartThemeName=function(){return this.chartController.getChartThemeName()},t.prototype.getChartThemes=function(){return this.chartController.getThemeNames()},t.prototype.getGridOptionsChartThemeOverrides=function(){return this.gridOptionsService.get("chartThemeOverrides")},t.createChartProxy=function(e){switch(e.chartType){case"column":case"bar":case"groupedColumn":case"stackedColumn":case"normalizedColumn":case"groupedBar":case"stackedBar":case"normalizedBar":return new GZe(e);case"pie":case"donut":case"doughnut":return new YZe(e);case"area":case"stackedArea":case"normalizedArea":return new jZe(e);case"line":return new WZe(e);case"scatter":case"bubble":return new ZZe(e);case"histogram":return new tQe(e);case"radarLine":case"radarArea":case"nightingale":case"radialColumn":case"radialBar":return new zZe(e);case"rangeBar":return new eK(e);case"rangeArea":return new eK(e);case"boxPlot":return new iQe(e);case"treemap":return new hQe(e);case"sunburst":return new gQe(e);case"heatmap":return new wQe(e);case"waterfall":return new bQe(e);case"columnLineCombo":case"areaColumnCombo":case"customCombo":return new DQe(e);default:throw"AG Grid: Unable to create chart as an invalid chartType = '".concat(e.chartType,"' was supplied.")}},t.prototype.addDialog=function(){var e=this,r=this.chartTranslationService.translate(this.params.pivotChart?"pivotChartTitle":"rangeChartTitle"),i=this.getBestDialogSize(),o=i.width,a=i.height;this.chartDialog=new fv({resizable:!0,movable:!0,maximizable:!0,title:r,width:o,height:a,component:this,centered:!0,closable:!0}),this.getContext().createBean(this.chartDialog),this.chartDialog.addEventListener(fv.EVENT_DESTROYED,function(){return e.destroy()})},t.prototype.getBestDialogSize=function(){var e=this.popupService.getPopupParent(),r=F.getAbsoluteWidth(e)*.75,i=F.getAbsoluteHeight(e)*.75,o=.553,a=this.chartProxy.getChart(),s=this.params.insideDialog?850:a.width,l=this.params.insideDialog?470:a.height;return(s>r||l>i)&&(s=Math.min(s,r),l=Math.round(s*o),l>i&&(l=i,s=Math.min(s,Math.round(l/o)))),{width:s,height:l}},t.prototype.addMenu=function(){this.params.crossFiltering||(this.chartMenu=this.createBean(new U5(this.eChartContainer,this.eMenuContainer,this.chartController,this.chartOptionsService)),this.eChartContainer.appendChild(this.chartMenu.getGui()))},t.prototype.addTitleEditComp=function(){this.titleEdit=this.createBean(new OZe(this.chartMenu)),this.eTitleEditContainer.appendChild(this.titleEdit.getGui()),this.chartProxy&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)},t.prototype.update=function(e){var r=this;if(e!=null&&e.chartId){var i=this.chartController.update(e);if(!i)return}var o=this.chartTypeChanged(e);o&&this.createChart(),this.updateChart(e==null?void 0:e.chartThemeOverrides),e!=null&&e.chartId&&this.chartProxy.getChart().waitForUpdate().then(function(){r.chartController.raiseChartApiUpdateEvent()})},t.prototype.updateChart=function(e){var r=this,i=this.chartProxy,o=this.chartController.getSelectedValueColState(),a=o.map(function(c){return{colId:c.colId,displayName:c.displayName}}),s=this.chartController.getChartData(),l=this.handleEmptyChart(s,a);if(!l){var u=this.chartController.getChartUpdateParams(e);i.update(u),this.chartProxy.getChart().waitForUpdate().then(function(){r.chartController.raiseChartUpdatedEvent()}),this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)}},t.prototype.chartTypeChanged=function(e){var r=MQe([this.chartController.getChartType(),e==null?void 0:e.chartType],2),i=r[0],o=r[1];return this.chartType!==i||!!o&&this.chartType!==$0(o)},t.prototype.getChartModel=function(){return this.chartController.getChartModel()},t.prototype.getChartImageDataURL=function(e){return this.chartProxy.getChartImageDataURL(e)},t.prototype.handleEmptyChart=function(e,r){var i=this.chartController.isPivotChart()&&!this.chartController.isPivotMode(),o=this.chartController.getChartType(),a=1;this.chartController.isActiveXYChart()?a=o==="bubble"?3:2:wp(o)&&(a=0);var s=r.length<a||e.length===0;if(this.eChart){var l=i||s;F.setDisplayed(this.eChart,!l),F.setDisplayed(this.eEmpty,l)}return i?(this.eEmpty.innerText=this.chartTranslationService.translate("pivotChartRequiresPivotMode"),!0):s?(this.eEmpty.innerText=this.chartTranslationService.translate("noDataToChart"),!0):!1},t.prototype.downloadChart=function(e,r,i){this.chartProxy.downloadChart(e,r,i)},t.prototype.openChartToolPanel=function(e){var r=e&&Sw[e];this.chartMenu.showMenu(r)},t.prototype.closeChartToolPanel=function(){this.chartMenu.hideMenu()},t.prototype.getChartId=function(){return this.chartController.getChartId()},t.prototype.getUnderlyingChart=function(){return this.chartProxy.getChartRef()},t.prototype.crossFilteringReset=function(){this.chartProxy.crossFilteringReset()},t.prototype.setActiveChartCellRange=function(e){this.getGui().contains(e.relatedTarget)||(this.chartController.setChartRange(!0),this.gridApi.focusService.clearFocusedCell())},t.prototype.getThemeName=function(){var e=this.gridOptionsService.get("chartThemes")||Lie;if(e.length===0)throw new Error("Cannot create chart: no chart themes available.");var r=this.params.chartThemeName;return F.includes(e,r)?r:e[0]},t.prototype.getAllKeysInObjects=function(e){var r={};return e.filter(function(i){return i!=null}).forEach(function(i){Object.keys(i).forEach(function(o){return r[o]=null})}),Object.keys(r)},t.prototype.validateCustomThemes=function(){var e=this.getChartThemes(),r=this.gridOptionsService.get("customChartThemes");r&&this.getAllKeysInObjects([r]).forEach(function(i){F.includes(e,i)||console.warn("AG Grid: a custom chart theme with the name '"+i+"' has been supplied but not added to the 'chartThemes' list")})},t.prototype.reactivePropertyUpdate=function(){this.chartController.setChartThemeName(this.getThemeName(),!0);var e=this.getChartId(),r=this.chartController.isCrossFilterChart()?"crossFilter":this.getChartModel().modelType,i=this.gridOptionsService.get("chartThemeOverrides")||{};this.update({type:"".concat(r,"ChartUpdate"),chartId:e,chartThemeOverrides:i})},t.prototype.raiseChartCreatedEvent=function(){var e=this,r={type:M.EVENT_CHART_CREATED,chartId:this.chartController.getChartId()};this.chartProxy.getChart().waitForUpdate().then(function(){e.eventService.dispatchEvent(r)})},t.prototype.raiseChartDestroyedEvent=function(){var e={type:M.EVENT_CHART_DESTROYED,chartId:this.chartController.getChartId()};this.eventService.dispatchEvent(e)},t.prototype.destroy=function(){var e;n.prototype.destroy.call(this),this.chartProxy&&this.chartProxy.destroy(),this.destroyBean(this.chartMenu),this.destroyBean(this.titleEdit),this.chartDialog&&this.chartDialog.isAlive()&&this.destroyBean(this.chartDialog),(e=this.onDestroyColorSchemeChangeListener)===null||e===void 0||e.call(this);var r=this.getGui();F.clearElement(r),F.removeFromParent(r),this.raiseChartDestroyedEvent()},t.TEMPLATE=`<div class="ag-chart" tabindex="-1">
            <div ref="eChartContainer" tabindex="-1" class="ag-chart-components-wrapper">
                <div ref="eChart" class="ag-chart-canvas-wrapper"></div>
                <div ref="eEmpty" class="ag-chart-empty-text ag-unselectable"></div>
            </div>
            <div ref="eTitleEditContainer"></div>
            <div ref="eMenuContainer" class="ag-chart-docked-container" style="min-width: 0px;"></div>
        </div>`,su([U("eChart")],t.prototype,"eChart",void 0),su([U("eChartContainer")],t.prototype,"eChartContainer",void 0),su([U("eMenuContainer")],t.prototype,"eMenuContainer",void 0),su([U("eEmpty")],t.prototype,"eEmpty",void 0),su([U("eTitleEditContainer")],t.prototype,"eTitleEditContainer",void 0),su([O("chartCrossFilterService")],t.prototype,"crossFilterService",void 0),su([O("chartTranslationService")],t.prototype,"chartTranslationService",void 0),su([O("gridApi")],t.prototype,"gridApi",void 0),su([O("popupService")],t.prototype,"popupService",void 0),su([q],t.prototype,"init",null),t}(Ce),K0="31.1.1",zr=function(){return zr=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},zr.apply(this,arguments)},Bp=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},aK=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},LQe=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function FQe(n){return n.version,n.version==null&&(n.version=KQe(n)),n=zo("23.0.0",n,IQe),n=zo("24.0.0",n,NQe),n=zo("25.1.0",n,kQe),n=zo("26.0.0",n,GQe),n=zo("26.1.0",n,VQe),n=zo("26.2.0",n,BQe),n=zo("28.0.0",n,jQe),n=zo("28.2.0",n,HQe),n=zo("29.0.0",n,$Qe),n=zo("29.1.0",n,Wie),n=zo("29.2.0",n,Uie),n=zo("30.0.0",n,WQe),n=zo("31.0.0",n,UQe),n=zQe(n),n=zo(K0,n,function(t){return t}),n}function IQe(n){return n=yo("chartOptions.legend.item.marker.type","shape",n),n=yo("chartOptions.seriesDefaults.marker.type","shape",n),n=yo("chartOptions.legend.padding","spacing",n),n}function NQe(n){var t;n=oo("chartOptions.seriesDefaults.marker.minSize",n);var e=n,r=e.chartType,i=e.chartPalette,o=e.chartOptions,a=o.xAxis,s=o.yAxis,l=Bp(o,["xAxis","yAxis"]),u=Bp(e,["chartType","chartPalette","chartOptions"]),c=R7e(r),d=c==null?void 0:c.map(function(h,f){return zr({type:h},f===0?a:s)}),p={borneo:"ag-default",material:"ag-material",bright:"ag-vivid"};return zr({chartType:r,chartThemeName:(t=p[i])!==null&&t!==void 0?t:"ag-default",chartOptions:zr(zr({},l),{axes:d,xAxis:a,yAxis:s})},u)}function kQe(n){return n=yo("chartOptions.seriesDefaults.label.minRequiredAngle","minAngle",n),n}function GQe(n){var t=function(e){var r=e.dimOpacity,i=Bp(e,["dimOpacity"]);return zr(zr({},i),r!=null?{series:{dimOpacity:r}}:{})};return n=Gc("chartOptions.seriesDefaults.highlightStyle",n,t),n=oo("chart",n),n=oo("chartOptions.seriesDefaults.tooltipClass",n),n=oo("chartOptions.seriesDefaults.tooltipTracking",n),n=lK("chartOptions.axes[].label.rotation",0,n),n=lK("chartOptions.axes[].label.rotation",335,n),n}function VQe(n){var t=function(e){var r=e.item,i=e.series,o=Bp(e,["item","series"]);return zr({item:zr(zr({},o),r)},i?{series:i}:{})};return n=Gc("chartOptions.seriesDefaults.highlightStyle",n,t),n=Gc("chartOptions.series[].highlightStyle",n,t),n}function BQe(n){n=cO("chartOptions.seriesDefaults.fill.opacity","chartOptions.seriesDefaults.fillOpacity",n),n=cO("chartOptions.seriesDefaults.stroke.opacity","chartOptions.seriesDefaults.strokeOpacity",n),n=cO("chartOptions.seriesDefaults.stroke.width","chartOptions.seriesDefaults.strokeWidth",n),n=oo("chartOptions.seriesDefaults.fill",n),n=oo("chartOptions.seriesDefaults.stroke",n),n=oo("chartOptions.seriesDefaults.callout.colors",n),n=oo("chartOptions.xAxis",n),n=oo("chartOptions.yAxis",n);var t=n,e=t.chartType,r=t.chartOptions,i=r.axes;r.series;var o=r.seriesDefaults,a=Bp(r,["axes","series","seriesDefaults"]),s=Bp(t,["chartType","chartOptions"]),l=$0(e),u=Tl(l),c=[u],d={};if(!z2(u)){var p={top:{},bottom:{},left:{},right:{}},h=i.map(function(v){var g,m=v.type,y=Bp(v,["type"]);return g={},g[m]=zr(zr({},p),y),g}).reduce(uK,{});Die.filter(function(v){return h[v]==null}).forEach(function(v){h[v]=zr({},p)}),d.axes=h}var f=c.map(function(v){var g;return g={},g[v]=zr(zr(zr({},d),{series:o}),a),g}).reduce(uK,{});return n=zr(zr({},s),{chartType:l,chartOptions:f}),n}function jQe(n){return n=oo("chartOptions.*.title.padding",n),n=oo("chartOptions.*.subtitle.padding",n),n=oo("chartOptions.*.axes.*.title.padding",n),n=X2("chartOptions.*.axes.*.title.enabled",!1,n),n}function HQe(n){return n=yo("chartOptions.pie.series.callout","calloutLine",n),n=yo("chartOptions.pie.series.label","calloutLabel",n),n=yo("chartOptions.pie.series.labelKey","sectorLabelKey",n),n=yo("chartOptions.pie.series.labelName","sectorLabelName",n),n=yo("chartOptions.donut.series.callout","calloutLine",n),n=yo("chartOptions.donut.series.label","calloutLabel",n),n=yo("chartOptions.donut.series.labelKey","sectorLabelKey",n),n=yo("chartOptions.donut.series.labelName","sectorLabelName",n),n}function $Qe(n){return n=oS("chartOptions.scatter.series.fill","chartOptions.scatter.series.marker.fill",n),n=oS("chartOptions.scatter.series.fillOpacity","chartOptions.scatter.series.marker.fillOpacity",n),n=oS("chartOptions.scatter.series.stroke","chartOptions.scatter.series.marker.stroke",n),n=oS("chartOptions.scatter.series.strokeOpacity","chartOptions.scatter.series.marker.strokeOpacity",n),n=oS("chartOptions.scatter.series.strokeWidth","chartOptions.scatter.series.marker.strokeWidth",n),n=cO("chartOptions.scatter.series.paired","chartOptions.scatter.paired",n),n}function Wie(n){return n=oo("chartOptions.axes[].tick.count",n),n}function Uie(n){var t=function(e){var r,i,o,a,s=e.tracking,l=Bp(e,["tracking"]),u=zr({},l);return s===!1?((r=u.position)!==null&&r!==void 0||(u.position={type:"pointer"}),(i=u.range)!==null&&i!==void 0||(u.range="nearest")):s===!0&&((o=u.position)!==null&&o!==void 0||(u.position={type:"node"}),(a=u.range)!==null&&a!==void 0||(u.range="nearest")),u};return n=Gc("chartOptions.*.tooltip",n,t),n}function WQe(n){return n=yo("chartOptions.pie.series.labelKey","sectorLabelKey",n),n=yo("chartOptions.pie.series.labelName","sectorLabelName",n),n=Wie(n),n=Uie(n),n=oo("chartOptions.*.series.flipXY",n),n=zie("chartOptions.common.legend.enabled",!0,n),n=X2("chartOptions.common.legend.position","right",n),n}function UQe(n){var t={"ag-pastel":"ag-sheets","ag-solar":"ag-polychroma"},e=yo("chartOptions.column","bar",n),r=t[e.chartThemeName]||e.chartThemeName;return zr(zr({},e),{chartThemeName:r})}function zQe(n){return n=oo("chartOptions.*.width",n),n=oo("chartOptions.*.height",n),n=X2("chartOptions.*.axes.category.label.autoRotate",!0,n),n}function KQe(n){var t,e,r=n;if(n.version!=null)return n.version;var i=function(h){for(var f=[],v=1;v<arguments.length;v++)f[v-1]=arguments[v];return Object.keys(h||{}).some(function(g){return f.includes(g)})},o=r.chartOptions,a=i(o,"seriesDefaults")?o==null?void 0:o.seriesDefaults:o==null?void 0:o[Object.keys(o)[0]],s={"27.0.0":i(r,"seriesChartTypes"),"26.2.0":!i(o,"seriesDefaults"),"26.1.0":i(a==null?void 0:a.highlightStyle,"item"),"26.0.0":i(a==null?void 0:a.highlightStyle,"series"),"25.1.0":i(a==null?void 0:a.label,"minAngle"),"25.0.0":i(r,"modelType","aggFunc","unlinkChart","suppressChartRanges")||i(a,"lineDash","lineDashOffset"),"24.0.0":i(r,"chartThemeName","chart")||i(o,"series"),"23.2.0":i(o,"navigator"),"23.0.0":i((e=(t=o==null?void 0:o.legend)===null||t===void 0?void 0:t.item)===null||e===void 0?void 0:e.marker,"shape"),"22.1.0":i(r,"chartPalette","chartType")},l="27.1.0",u=Object.entries(s).filter(function(h){var f=aK(h,2);f[0];var v=f[1];return v}),c=aK(u[0],1),d=c[0],p=d===void 0?l:d;return p}function zo(n,t,e){if(sK(n)>sK(t.version)){var r=e(t);return r.version=n,r}return t}function YQe(n){var t=typeof n=="string"?n.split(".").map(function(e){return Number(e)}):[];if(t.length!==3||t.some(function(e){return isNaN(e)}))throw new Error("AG Grid - Illegal version string: "+n);return{major:t[0],minor:t[1],patch:t[2]}}function sK(n){var t=YQe(n),e=t.major,r=t.minor,i=t.patch;return e*1e4+r*100+i}function lK(n,t,e){return rh(n,!0,e,function(r,i){r[i]===t&&delete r[i]})}function X2(n,t,e){return rh(n,!1,e,function(r,i){r[i]==null&&(r[i]=t)})}function zie(n,t,e){var r;typeof n=="string"&&(n=n.split("."));var i=n[0];n.length>1&&(e[i]=zie(n.slice(1),t,(r=e[i])!==null&&r!==void 0?r:{}));var o=Object.keys(e).includes(i);return o||(e[i]=t),e}function cO(n,t,e){var r=void 0,i=!1;return e=rh(n,!0,e,function(o,a){i=!0,r=o[a],delete o[a]}),i?rh(t,!1,e,function(o,a){o[a]=r}):e}function oS(n,t,e){var r=void 0,i=!1;return e=rh(n,!0,e,function(o,a){i=!0,r=o[a],delete o[a]}),i?rh(t,!1,e,function(o,a){o[a]===void 0&&(o[a]=r)}):e}function yo(n,t,e){return rh(n,!0,e,function(r,i){r[t]=r[i],delete r[i]})}function oo(n,t){return rh(n,!0,t,function(e,r){return delete e[r]})}function rh(n,t,e,r){var i=n instanceof Array?n:n.split("."),o=i.slice(0,i.length-1),a=i[i.length-1];return Gc(o,e,function(s){var l=Object.keys(s).includes(a);if(t&&!l)return s;var u=zr({},s);return r(u,a),u})}function Gc(n,t,e){var r,i,o=n instanceof Array?n:n.split(".");if(t=zr({},t),o.length===0)return e(t);if(o[0].startsWith("{")){var a=o[0].substring(1,o[0].lastIndexOf("}")).split(",");try{for(var s=LQe(a),l=s.next();!l.done;l=s.next()){var u=l.value;t[u]!=null&&(t[u]=Gc(o.slice(1),t[u],e))}}catch(p){r={error:p}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}else if(o[0].endsWith("[]")){var c=o[0].substring(0,n[0].indexOf("["));t[c]instanceof Array&&(t[c]=t[c].map(function(p){return Gc(o.slice(1),p,e)}))}else if(o[0]==="*")for(var d in t)t[d]=Gc(o.slice(1),t[d],e);else t[o[0]]!=null&&(t[o[0]]=Gc(o.slice(1),t[o[0]],e));return t}var uK=function(n,t){return zr(zr({},n),t)},qQe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),OT=function(){return OT=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},OT.apply(this,arguments)},iE=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},XQe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},ZQe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},cK=function(n){qQe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.activeCharts=new Set,e.activeChartComps=new Set,e.crossFilteringContext={lastSelectedChartId:""},e.isEnterprise=function(){return U2.enterpriseModule.isEnterprise},e}return t.prototype.updateChart=function(e){var r=e.chartType;if(r&&T5(r)&&!this.isEnterprise()){ut.__warnEnterpriseChartDisabled(r);return}if(this.activeChartComps.size===0){console.warn("AG Grid - No active charts to update.");return}var i=ZQe([],XQe(this.activeChartComps),!1).find(function(o){return o.getChartId()===e.chartId});if(!i){console.warn("AG Grid - Unable to update chart. No active chart found with ID: ".concat(e.chartId,"."));return}i.update(e)},t.prototype.getChartModels=function(){var e=[],r=function(i){return OT(OT({},i),{version:K0})};return this.activeChartComps.forEach(function(i){return e.push(r(i.getChartModel()))}),e},t.prototype.getChartRef=function(e){var r;return this.activeCharts.forEach(function(i){i.chartId===e&&(r=i)}),r},t.prototype.getChartComp=function(e){var r;return this.activeChartComps.forEach(function(i){i.getChartId()===e&&(r=i)}),r},t.prototype.getChartImageDataURL=function(e){var r;return this.activeChartComps.forEach(function(i){i.getChartId()===e.chartId&&(r=i.getChartImageDataURL(e.fileFormat))}),r},t.prototype.downloadChart=function(e){var r=Array.from(this.activeChartComps).find(function(i){return i.getChartId()===e.chartId});r==null||r.downloadChart(e.dimensions,e.fileName,e.fileFormat)},t.prototype.openChartToolPanel=function(e){var r=Array.from(this.activeChartComps).find(function(i){return i.getChartId()===e.chartId});r==null||r.openChartToolPanel(e.panel)},t.prototype.closeChartToolPanel=function(e){var r=Array.from(this.activeChartComps).find(function(i){return i.getChartId()===e});r==null||r.closeChartToolPanel()},t.prototype.createChartFromCurrentRange=function(e){e===void 0&&(e="groupedColumn");var r=this.getSelectedRange();return this.createChart(r,e)},t.prototype.restoreChart=function(e,r){var i=this;if(!e){console.warn("AG Grid - unable to restore chart as no chart model is provided");return}e.version!==K0&&(e=FQe(e));var o={cellRange:e.cellRange,chartType:e.chartType,chartThemeName:e.chartThemeName,chartContainer:r,suppressChartRanges:e.suppressChartRanges,aggFunc:e.aggFunc,unlinkChart:e.unlinkChart,seriesChartTypes:e.seriesChartTypes},a=function(d){return i.rangeService?i.rangeService.createCellRangeFromCellRangeParams(d):void 0};if(e.modelType==="pivot"){this.gridOptionsService.updateGridOptions({options:{pivotMode:!0},source:"pivotChart"});var s=this.columnModel.getAllDisplayedColumns().map(function(d){return d.getColId()}),l={rowStartIndex:null,rowStartPinned:void 0,rowEndIndex:null,rowEndPinned:void 0,columns:s},u=a(l);if(!u){console.warn("AG Grid - unable to create chart as there are no columns in the grid.");return}return this.createChart(u,o.chartType,o.chartThemeName,!0,!0,o.chartContainer,void 0,void 0,o.unlinkChart,!1,e.chartOptions)}var c=a(o.cellRange);if(!c){console.warn("AG Grid - unable to create chart as no range is selected");return}return this.createChart(c,o.chartType,o.chartThemeName,!1,o.suppressChartRanges,o.chartContainer,o.aggFunc,void 0,o.unlinkChart,!1,e.chartOptions,e.chartPalette,o.seriesChartTypes)},t.prototype.createRangeChart=function(e){var r,i=(r=this.rangeService)===null||r===void 0?void 0:r.createCellRangeFromCellRangeParams(e.cellRange);if(!i){console.warn("AG Grid - unable to create chart as no range is selected");return}return this.createChart(i,e.chartType,e.chartThemeName,!1,e.suppressChartRanges,e.chartContainer,e.aggFunc,e.chartThemeOverrides,e.unlinkChart,void 0,void 0,void 0,e.seriesChartTypes)},t.prototype.createPivotChart=function(e){this.gridOptionsService.updateGridOptions({options:{pivotMode:!0},source:"pivotChart"});var r={rowStartIndex:null,rowStartPinned:void 0,rowEndIndex:null,rowEndPinned:void 0,columns:this.columnModel.getAllDisplayedColumns().map(function(o){return o.getColId()})},i=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(r):void 0;if(!i){console.warn("AG Grid - unable to create chart as there are no columns in the grid.");return}return this.createChart(i,e.chartType,e.chartThemeName,!0,!0,e.chartContainer,void 0,e.chartThemeOverrides,e.unlinkChart)},t.prototype.createCrossFilterChart=function(e){var r,i=(r=this.rangeService)===null||r===void 0?void 0:r.createCellRangeFromCellRangeParams(e.cellRange);if(!i){console.warn("AG Grid - unable to create chart as no range is selected");return}var o=!0,a=typeof e.suppressChartRanges<"u"&&e.suppressChartRanges!==null,s=a?e.suppressChartRanges:!0;return this.createChart(i,e.chartType,e.chartThemeName,!1,s,e.chartContainer,e.aggFunc,e.chartThemeOverrides,e.unlinkChart,o)},t.prototype.createChart=function(e,r,i,o,a,s,l,u,c,d,p,h,f){var v=this;if(o===void 0&&(o=!1),a===void 0&&(a=!1),c===void 0&&(c=!1),d===void 0&&(d=!1),T5(r)&&!this.isEnterprise()){ut.__warnEnterpriseChartDisabled(r);return}var g=this.gridOptionsService.getCallback("createChartContainer"),m={chartId:this.generateId(),pivotChart:o,cellRange:e,chartType:$0(r),chartThemeName:i,insideDialog:!(s||g),suppressChartRanges:a,aggFunc:l,chartThemeOverrides:u,unlinkChart:c,crossFiltering:d,crossFilteringContext:this.crossFilteringContext,chartOptionsToRestore:p,chartPaletteToRestore:h,seriesChartTypes:f,crossFilteringResetCallback:function(){return v.activeChartComps.forEach(function(w){return w.crossFilteringReset()})}},y=new oK(m);this.context.createBean(y);var C=this.createChartRef(y);if(s){s.appendChild(y.getGui());var S=this.environment.getTheme();S.el&&!S.el.contains(s)&&s.classList.add(S.theme)}else g?g(C):y.addEventListener(oK.EVENT_DESTROYED,function(){v.activeChartComps.delete(y),v.activeCharts.delete(C)});return C},t.prototype.createChartRef=function(e){var r=this,i={destroyChart:function(){r.activeCharts.has(i)&&(r.context.destroyBean(e),r.activeChartComps.delete(e),r.activeCharts.delete(i))},chartElement:e.getGui(),chart:e.getUnderlyingChart(),chartId:e.getChartModel().chartId};return this.activeCharts.add(i),this.activeChartComps.add(e),i},t.prototype.getSelectedRange=function(){var e=this.rangeService.getCellRanges();return e.length>0?e[0]:{}},t.prototype.generateId=function(){return"id-".concat(Math.random().toString(36).substring(2,18))},t.prototype.destroyAllActiveCharts=function(){this.activeCharts.forEach(function(e){return e.destroyChart()})},t.CHARTS_VERSION=f7e,iE([xt("rangeService")],t.prototype,"rangeService",void 0),iE([O("columnModel")],t.prototype,"columnModel",void 0),iE([Gr],t.prototype,"destroyAllActiveCharts",null),t=iE([me("chartService")],t),t}(re),QQe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),JQe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},eJe=function(n){QQe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}e=t,t.prototype.translate=function(r,i){var o=this.localeService.getLocaleTextFunc(),a=e.DEFAULT_TRANSLATIONS[r]||i;return o(r,a)};var e;return t.DEFAULT_TRANSLATIONS={pivotChartTitle:"Pivot Chart",rangeChartTitle:"Range Chart",settings:"Settings",data:"Data",format:"Format",categories:"Categories",defaultCategory:"(None)",series:"Series",xyValues:"X Y Values",paired:"Paired Mode",axis:"Axis",radiusAxis:"Radius Axis",navigator:"Navigator",color:"Color",thickness:"Thickness",preferredLength:"Preferred Length",xType:"X Type",automatic:"Automatic",category:"Category",number:"Number",time:"Time",autoRotate:"Auto Rotate",xRotation:"X Rotation",yRotation:"Y Rotation",labelRotation:"Rotation",circle:"Circle",orientation:"Orientation",polygon:"Polygon",fixed:"Fixed",parallel:"Parallel",perpendicular:"Perpendicular",radiusAxisPosition:"Position",ticks:"Ticks",width:"Width",height:"Height",length:"Length",padding:"Padding",spacing:"Spacing",chart:"Chart",title:"Title",titlePlaceholder:"Chart title - double click to edit",background:"Background",font:"Font",top:"Top",right:"Right",bottom:"Bottom",left:"Left",labels:"Labels",calloutLabels:"Callout Labels",sectorLabels:"Sector Labels",positionRatio:"Position Ratio",size:"Size",shape:"Shape",minSize:"Minimum Size",maxSize:"Maximum Size",legend:"Legend",position:"Position",markerSize:"Marker Size",markerStroke:"Marker Stroke",markerPadding:"Marker Padding",itemSpacing:"Item Spacing",itemPaddingX:"Item Padding X",itemPaddingY:"Item Padding Y",layoutHorizontalSpacing:"Horizontal Spacing",layoutVerticalSpacing:"Vertical Spacing",strokeWidth:"Stroke Width",offset:"Offset",offsets:"Offsets",tooltips:"Tooltips",callout:"Callout",markers:"Markers",shadow:"Shadow",blur:"Blur",xOffset:"X Offset",yOffset:"Y Offset",lineWidth:"Line Width",lineDash:"Line Dash",lineDashOffset:"Dash Offset",normal:"Normal",bold:"Bold",italic:"Italic",boldItalic:"Bold Italic",predefined:"Predefined",fillOpacity:"Fill Opacity",strokeColor:"Line Color",strokeOpacity:"Line Opacity",histogramBinCount:"Bin count",connectorLine:"Connector Line",seriesItems:"Series Items",seriesItemType:"Item Type",seriesItemPositive:"Positive",seriesItemNegative:"Negative",seriesItemLabels:"Item Labels",columnGroup:"Column",barGroup:"Bar",pieGroup:"Pie",lineGroup:"Line",scatterGroup:"X Y (Scatter)",areaGroup:"Area",polarGroup:"Polar",statisticalGroup:"Statistical",hierarchicalGroup:"Hierarchical",specializedGroup:"Specialized",combinationGroup:"Combination",groupedColumnTooltip:"Grouped",stackedColumnTooltip:"Stacked",normalizedColumnTooltip:"100% Stacked",groupedBarTooltip:"Grouped",stackedBarTooltip:"Stacked",normalizedBarTooltip:"100% Stacked",pieTooltip:"Pie",donutTooltip:"Donut",lineTooltip:"Line",groupedAreaTooltip:"Area",stackedAreaTooltip:"Stacked",normalizedAreaTooltip:"100% Stacked",scatterTooltip:"Scatter",bubbleTooltip:"Bubble",histogramTooltip:"Histogram",radialColumnTooltip:"Radial Column",radialBarTooltip:"Radial Bar",radarLineTooltip:"Radar Line",radarAreaTooltip:"Radar Area",nightingaleTooltip:"Nightingale",rangeBarTooltip:"Range Bar",rangeAreaTooltip:"Range Area",boxPlotTooltip:"Box Plot",treemapTooltip:"Treemap",sunburstTooltip:"Sunburst",heatmapTooltip:"Heatmap",waterfallTooltip:"Waterfall",columnLineComboTooltip:"Column & Line",areaColumnComboTooltip:"Area & Column",customComboTooltip:"Custom Combination",innerRadius:"Inner Radius",startAngle:"Start Angle",endAngle:"End Angle",reverseDirection:"Reverse Direction",groupPadding:"Group Padding",seriesPadding:"Series Padding",group:"Group",tile:"Tile",whisker:"Whisker",cap:"Cap",capLengthRatio:"Length Ratio",labelPlacement:"Placement",inside:"Inside",outside:"Outside",noDataToChart:"No data available to be charted.",pivotChartRequiresPivotMode:"Pivot Chart requires Pivot Mode enabled.",chartSettingsToolbarTooltip:"Menu",chartLinkToolbarTooltip:"Linked to Grid",chartUnlinkToolbarTooltip:"Unlinked from Grid",chartDownloadToolbarTooltip:"Download Chart",histogramFrequency:"Frequency",seriesChartType:"Series Chart Type",seriesType:"Series Type",secondaryAxis:"Secondary Axis"},t=e=JQe([me("chartTranslationService")],t),t}(re),tJe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),oE=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},rJe=function(n){tJe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}e=t,t.prototype.filter=function(r,i){i===void 0&&(i=!1);var o=this.gridApi.getFilterModel();if(i){this.resetFilters(o);return}var a=e.extractFilterColId(r);this.isValidColumnFilter(a)?this.updateFilters(o,r,a):console.warn("AG Grid: cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: '"+a+"'")},t.prototype.resetFilters=function(r){var i=Object.keys(r).length>0;i&&(this.gridApi.setFilterModel(null),this.gridApi.onFilterChanged())},t.prototype.updateFilters=function(r,i,o){var a,s=e.extractFilterColId(i),l=i.datum[s];if(l!==void 0){var u=l.toString();if(i.event.metaKey||i.event.ctrlKey){var c=this.getCurrentGridValuesForCategory(o),d=F.includes(c,u),p=void 0;d?p=c.filter(function(h){return h!==u}):(p=c,p.push(u)),r[o]=this.getUpdatedFilterModel(o,p)}else{var p=[u];r=(a={},a[o]=this.getUpdatedFilterModel(o,p),a)}this.gridApi.setFilterModel(r)}},t.prototype.getUpdatedFilterModel=function(r,i){var o=this.getColumnFilterType(r);return o==="agMultiColumnFilter"?{filterType:"multi",filterModels:[null,{filterType:"set",values:i}]}:{filterType:"set",values:i}},t.prototype.getCurrentGridValuesForCategory=function(r){var i=this,o=[],a=this.getColumnById(r);return this.gridApi.forEachNodeAfterFilter(function(s){if(a&&!s.group){var l=i.valueService.getValue(a,s)+"";o.includes(l)||o.push(l)}}),o},t.extractFilterColId=function(r){return r.xKey||r.calloutLabelKey},t.prototype.isValidColumnFilter=function(r){r.indexOf("-filtered-out")&&(r=r.replace("-filtered-out",""));var i=this.getColumnFilterType(r);return typeof i=="boolean"?i:F.includes(["agSetColumnFilter","agMultiColumnFilter"],i)},t.prototype.getColumnFilterType=function(r){var i=this.getColumnById(r);if(i){var o=i.getColDef();return o.filter}},t.prototype.getColumnById=function(r){return this.columnModel.getGridColumn(r)};var e;return oE([O("gridApi")],t.prototype,"gridApi",void 0),oE([O("columnModel")],t.prototype,"columnModel",void 0),oE([O("valueService")],t.prototype,"valueService",void 0),t=e=oE([me("chartCrossFilterService")],t),t}(re),nJe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sp=function(){return sp=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},sp.apply(this,arguments)},lu=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},aS=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},fg=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},iJe=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},oJe=function(n){nJe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.cellRanges=[],e.bodyScrollListener=e.onBodyScroll.bind(e),e.dragging=!1,e.intersectionRange=!1,e}return t.prototype.init=function(){var e=this;this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,function(){return e.onColumnsChanged()}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VISIBLE,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VALUE_CHANGED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_GROUP_OPENED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_MOVED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PINNED,this.refreshLastRangeStart.bind(this)),this.ctrlsService.whenReady(function(){var r=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new b_({scrollContainer:r.getBodyViewportElement(),scrollAxis:"xy",getVerticalPosition:function(){return r.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(i){return r.getScrollFeature().setVerticalScrollPosition(i)},getHorizontalPosition:function(){return r.getScrollFeature().getHScrollPosition().left},setHorizontalPosition:function(i){return r.getScrollFeature().setHorizontalScrollPosition(i)},shouldSkipVerticalScroll:function(){return!e.gridOptionsService.isDomLayout("normal")},shouldSkipHorizontalScroll:function(){return!r.getScrollFeature().isHorizontalScrollShowing()}})})},t.prototype.onColumnsChanged=function(){var e=this;this.refreshLastRangeStart();var r=this.columnModel.getAllDisplayedColumns();this.cellRanges.forEach(function(o){var a=o.columns;o.columns=o.columns.filter(function(l){return l.isVisible()&&r.indexOf(l)!==-1});var s=!F.areEqual(a,o.columns);s&&e.dispatchChangedEvent(!1,!0,o.id)});var i=this.cellRanges.length;this.cellRanges=this.cellRanges.filter(function(o){return o.columns.length>0}),i>this.cellRanges.length&&this.dispatchChangedEvent(!1,!0)},t.prototype.refreshLastRangeStart=function(){var e=F.last(this.cellRanges);e&&this.refreshRangeStart(e)},t.prototype.isContiguousRange=function(e){var r=e.columns;if(!r.length)return!1;var i=this.columnModel.getAllDisplayedColumns(),o=r.map(function(a){return i.indexOf(a)}).sort(function(a,s){return a-s});return F.last(o)-o[0]+1===r.length},t.prototype.getRangeStartRow=function(e){if(e.startRow&&e.endRow)return this.rowPositionUtils.before(e.startRow,e.endRow)?e.startRow:e.endRow;var r=this.pinnedRowModel.getPinnedTopRowCount()>0?"top":null;return{rowIndex:0,rowPinned:r}},t.prototype.getRangeEndRow=function(e){if(e.startRow&&e.endRow)return this.rowPositionUtils.before(e.startRow,e.endRow)?e.endRow:e.startRow;var r=this.pinnedRowModel.getPinnedBottomRowCount(),i=r>0;return i?{rowIndex:r-1,rowPinned:"bottom"}:{rowIndex:this.rowModel.getRowCount()-1,rowPinned:null}},t.prototype.setRangeToCell=function(e,r){if(r===void 0&&(r=!1),!!this.gridOptionsService.get("enableRangeSelection")){var i=this.calculateColumnsBetween(e.column,e.column);if(i){var o=this.gridOptionsService.get("suppressMultiRangeSelection");(o||!r||F.missing(this.cellRanges))&&this.removeAllCellRanges(!0);var a={rowIndex:e.rowIndex,rowPinned:e.rowPinned},s={startRow:a,endRow:a,columns:i,startColumn:e.column};this.cellRanges.push(s),this.setNewestRangeStartCell(e),this.onDragStop(),this.dispatchChangedEvent(!0,!0)}}},t.prototype.extendLatestRangeToCell=function(e){if(!(this.isEmpty()||!this.newestRangeStartCell)){var r=F.last(this.cellRanges);this.updateRangeEnd(r,e)}},t.prototype.updateRangeEnd=function(e,r,i){i===void 0&&(i=!1);var o=r.column,a=this.calculateColumnsBetween(e.startColumn,o);!a||this.isLastCellOfRange(e,r)||(e.columns=a,e.endRow={rowIndex:r.rowIndex,rowPinned:r.rowPinned},i||this.dispatchChangedEvent(!0,!0,e.id))},t.prototype.refreshRangeStart=function(e){var r=e.startColumn,i=e.columns,o=function(d,p){var h=e.columns.filter(function(f){return f!==d});d?(e.startColumn=d,e.columns=p?fg([d],aS(h),!1):fg(fg([],aS(h),!1),[d],!1)):e.columns=h},a=this.getRangeEdgeColumns(e),s=a.left,l=a.right,u=r===i[0]&&r!==s;if(u){o(s,!0);return}var c=r===F.last(i)&&r===l;if(c){o(l,!1);return}},t.prototype.getRangeEdgeColumns=function(e){var r=this.columnModel.getAllDisplayedColumns(),i=e.columns.map(function(o){return r.indexOf(o)}).filter(function(o){return o>-1}).sort(function(o,a){return o-a});return{left:r[i[0]],right:r[F.last(i)]}},t.prototype.extendLatestRangeInDirection=function(e){if(!(this.isEmpty()||!this.newestRangeStartCell)){var r=e.key,i=e.ctrlKey||e.metaKey,o=F.last(this.cellRanges),a=this.newestRangeStartCell,s=o.columns[0],l=F.last(o.columns),u=o.endRow.rowIndex,c=o.endRow.rowPinned,d=a.column===s?l:s,p={column:d,rowIndex:u,rowPinned:c},h=this.cellNavigationService.getNextCellToFocus(r,p,i);if(h)return this.setCellRange({rowStartIndex:a.rowIndex,rowStartPinned:a.rowPinned,rowEndIndex:h.rowIndex,rowEndPinned:h.rowPinned,columnStart:a.column,columnEnd:h.column}),h}},t.prototype.setCellRange=function(e){this.gridOptionsService.get("enableRangeSelection")&&(this.removeAllCellRanges(!0),this.addCellRange(e))},t.prototype.setCellRanges=function(e){var r=this;F.shallowCompare(this.cellRanges,e)||(this.removeAllCellRanges(!0),e.forEach(function(i){i.columns&&i.startRow&&r.setNewestRangeStartCell({rowIndex:i.startRow.rowIndex,rowPinned:i.startRow.rowPinned,column:i.columns[0]}),r.cellRanges.push(i)}),this.dispatchChangedEvent(!1,!0))},t.prototype.setNewestRangeStartCell=function(e){this.newestRangeStartCell=e},t.prototype.clearCellRangeCellValues=function(e){var r=this,i=e.cellRanges,o=e.cellEventSource,a=o===void 0?"rangeService":o,s=e.dispatchWrapperEvents,l=e.wrapperEventSource,u=l===void 0?"deleteKey":l;if(s){var c={type:M.EVENT_RANGE_DELETE_START,source:u};this.eventService.dispatchEvent(c)}if(i||(i=this.cellRanges),i.forEach(function(p){r.forEachRowInRange(p,function(h){var f=r.rowPositionUtils.getRowNode(h);if(f)for(var v=0;v<p.columns.length;v++){var g=r.columnModel.getGridColumn(p.columns[v]);!g||!g.isCellEditable(f)||f.setDataValue(g,null,a)}})}),s){var d={type:M.EVENT_RANGE_DELETE_END,source:u};this.eventService.dispatchEvent(d)}},t.prototype.createCellRangeFromCellRangeParams=function(e){var r=this,i,o=!1;if(e.columns)i=e.columns.map(function(c){return r.columnModel.getColumnWithValidation(c)}).filter(function(c){return c});else{var a=this.columnModel.getColumnWithValidation(e.columnStart),s=this.columnModel.getColumnWithValidation(e.columnEnd);if(!a||!s)return;i=this.calculateColumnsBetween(a,s),i&&i.length&&(o=i[0]!==a)}if(i){var l=e.rowStartIndex!=null?{rowIndex:e.rowStartIndex,rowPinned:e.rowStartPinned||null}:void 0,u=e.rowEndIndex!=null?{rowIndex:e.rowEndIndex,rowPinned:e.rowEndPinned||null}:void 0;return{startRow:l,endRow:u,columns:i,startColumn:o?F.last(i):i[0]}}},t.prototype.addCellRange=function(e){if(this.gridOptionsService.get("enableRangeSelection")){var r=this.createCellRangeFromCellRangeParams(e);r&&(r.startRow&&this.setNewestRangeStartCell({rowIndex:r.startRow.rowIndex,rowPinned:r.startRow.rowPinned,column:r.startColumn}),this.cellRanges.push(r),this.dispatchChangedEvent(!1,!0,r.id))}},t.prototype.getCellRanges=function(){return this.cellRanges},t.prototype.isEmpty=function(){return this.cellRanges.length===0},t.prototype.isMoreThanOneCell=function(){var e=this.cellRanges.length;if(e===0)return!1;if(e>1)return!0;var r=this.cellRanges[0],i=this.getRangeStartRow(r),o=this.getRangeEndRow(r);return i.rowPinned!==o.rowPinned||i.rowIndex!==o.rowIndex||r.columns.length!==1},t.prototype.areAllRangesAbleToMerge=function(){var e,r,i=this,o=new Map,a=this.cellRanges.length;if(a<=1)return!0;this.cellRanges.forEach(function(p){i.forEachRowInRange(p,function(h){var f="".concat(h.rowPinned||"normal","_").concat(h.rowIndex),v=o.get(f),g=p.columns.map(function(y){return y.getId()});if(v){var m=g.filter(function(y){return v.indexOf(y)===-1});v.push.apply(v,fg([],aS(m),!1))}else o.set(f,g)})});var s;try{for(var l=iJe(o.values()),u=l.next();!u.done;u=l.next()){var c=u.value,d=c.sort().join();if(s===void 0){s=d;continue}if(s!==d)return!1}}catch(p){e={error:p}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}return!0},t.prototype.forEachRowInRange=function(e,r){for(var i=this.getRangeStartRow(e),o=this.getRangeEndRow(e),a=i;a&&(r(a),!this.rowPositionUtils.sameRow(a,o));)a=this.cellNavigationService.getRowBelow(a)},t.prototype.removeAllCellRanges=function(e){this.isEmpty()||(this.onDragStop(),this.cellRanges.length=0,e||this.dispatchChangedEvent(!1,!0))},t.prototype.onBodyScroll=function(){this.dragging&&this.lastMouseEvent&&this.onDragging(this.lastMouseEvent)},t.prototype.isCellInAnyRange=function(e){return this.getCellRangeCount(e)>0},t.prototype.isCellInSpecificRange=function(e,r){var i=r.columns!==null&&F.includes(r.columns,e.column),o=this.isRowInRange(e.rowIndex,e.rowPinned,r);return i&&o},t.prototype.isLastCellOfRange=function(e,r){var i=e.startRow,o=e.endRow,a=this.rowPositionUtils.before(i,o)?o:i,s=r.rowIndex===a.rowIndex&&r.rowPinned===a.rowPinned,l=e.columns[0],u=F.last(e.columns),c=e.startColumn===l?u:l,d=r.column===c;return d&&s},t.prototype.isBottomRightCell=function(e,r){var i=this.columnModel.getAllDisplayedColumns(),o=e.columns.map(function(d){return i.indexOf(d)}).sort(function(d,p){return d-p}),a=e.startRow,s=e.endRow,l=this.rowPositionUtils.before(a,s)?s:a,u=i.indexOf(r.column)===F.last(o),c=r.rowIndex===l.rowIndex&&F.makeNull(r.rowPinned)===F.makeNull(l.rowPinned);return u&&c},t.prototype.getCellRangeCount=function(e){var r=this;return this.isEmpty()?0:this.cellRanges.filter(function(i){return r.isCellInSpecificRange(e,i)}).length},t.prototype.isRowInRange=function(e,r,i){var o=this.getRangeStartRow(i),a=this.getRangeEndRow(i),s={rowIndex:e,rowPinned:r||null},l=s.rowIndex===o.rowIndex&&s.rowPinned==o.rowPinned,u=s.rowIndex===a.rowIndex&&s.rowPinned==a.rowPinned;if(l||u)return!0;var c=!this.rowPositionUtils.before(s,o),d=this.rowPositionUtils.before(s,a);return c&&d},t.prototype.getDraggingRange=function(){return this.draggingRange},t.prototype.onDragStart=function(e){if(this.gridOptionsService.get("enableRangeSelection")){var r=e.ctrlKey,i=e.metaKey,o=e.shiftKey,a=r||i,s=!this.gridOptionsService.get("suppressMultiRangeSelection"),l=s?a:!1,u=o&&F.existsAndNotEmpty(this.cellRanges);!l&&(!u||F.exists(F.last(this.cellRanges).type))&&this.removeAllCellRanges(!0);var c=this.dragService.getStartTarget();if(c&&this.updateValuesOnMove(c),!!this.lastCellHovered){if(this.dragging=!0,this.lastMouseEvent=e,this.intersectionRange=l&&this.getCellRangeCount(this.lastCellHovered)>1,u||this.setNewestRangeStartCell(this.lastCellHovered),this.cellRanges.length>0)this.draggingRange=F.last(this.cellRanges);else{var d={rowIndex:this.lastCellHovered.rowIndex,rowPinned:this.lastCellHovered.rowPinned};this.draggingRange={startRow:d,endRow:d,columns:[this.lastCellHovered.column],startColumn:this.newestRangeStartCell.column},this.cellRanges.push(this.draggingRange)}this.ctrlsService.getGridBodyCtrl().addScrollEventListener(this.bodyScrollListener),this.dispatchChangedEvent(!0,!1,this.draggingRange.id)}}},t.prototype.intersectLastRange=function(e){var r=this;if(!(e&&this.dragging)&&!this.gridOptionsService.get("suppressMultiRangeSelection")&&!this.isEmpty()){var i=F.last(this.cellRanges),o=this.getRangeStartRow(i),a=this.getRangeEndRow(i),s=[];this.cellRanges.slice(0,-1).forEach(function(l){var u=r.getRangeStartRow(l),c=r.getRangeEndRow(l),d=l.columns,p=d.filter(function(g){return i.columns.indexOf(g)===-1});if(p.length===d.length){s.push(l);return}if(r.rowPositionUtils.before(a,u)||r.rowPositionUtils.before(c,o)){s.push(l);return}var h=s.length;if(r.rowPositionUtils.before(u,o)){var f={columns:fg([],aS(d),!1),startColumn:i.startColumn,startRow:sp({},u),endRow:r.cellNavigationService.getRowAbove(o)};s.push(f)}if(p.length>0){var v={columns:p,startColumn:F.includes(p,i.startColumn)?i.startColumn:p[0],startRow:r.rowPositionUtils.rowMax([sp({},o),sp({},u)]),endRow:r.rowPositionUtils.rowMin([sp({},a),sp({},c)])};s.push(v)}r.rowPositionUtils.before(a,c)&&s.push({columns:fg([],aS(d),!1),startColumn:i.startColumn,startRow:r.cellNavigationService.getRowBelow(a),endRow:sp({},c)}),s.length-h===1&&(s[s.length-1].id=l.id)}),this.cellRanges=s,e&&this.dispatchChangedEvent(!1,!0)}},t.prototype.updateValuesOnMove=function(e){var r=F.getCtrlForEventTarget(this.gridOptionsService,e,Hc.DOM_DATA_KEY_CELL_CTRL),i=r==null?void 0:r.getCellPosition();this.cellHasChanged=!1,!(!i||this.lastCellHovered&&this.cellPositionUtils.equals(i,this.lastCellHovered))&&(this.lastCellHovered&&(this.cellHasChanged=!0),this.lastCellHovered=i)},t.prototype.onDragging=function(e){var r=this;if(!(!this.dragging||!e)){this.updateValuesOnMove(e.target),this.lastMouseEvent=e;var i=this.lastCellHovered,o=function(l){return i&&i.rowPinned===l&&r.newestRangeStartCell.rowPinned===l},a=o("top")||o("bottom");if(this.autoScrollService.check(e,a),!!this.cellHasChanged){var s=this.calculateColumnsBetween(this.newestRangeStartCell.column,i.column);s&&(this.draggingRange.endRow={rowIndex:i.rowIndex,rowPinned:i.rowPinned},this.draggingRange.columns=s,this.dispatchChangedEvent(!1,!1,this.draggingRange.id))}}},t.prototype.onDragStop=function(){if(this.dragging){var e=this.draggingRange.id;this.autoScrollService.ensureCleared(),this.ctrlsService.getGridBodyCtrl().removeScrollEventListener(this.bodyScrollListener),this.lastMouseEvent=null,this.dragging=!1,this.draggingRange=void 0,this.lastCellHovered=void 0,this.intersectionRange&&(this.intersectionRange=!1,this.intersectLastRange()),this.dispatchChangedEvent(!1,!0,e)}},t.prototype.dispatchChangedEvent=function(e,r,i){var o={type:M.EVENT_RANGE_SELECTION_CHANGED,started:e,finished:r,id:i};this.eventService.dispatchEvent(o)},t.prototype.calculateColumnsBetween=function(e,r){var i=this.columnModel.getAllDisplayedColumns(),o=e===r,a=i.indexOf(e);if(a<0){console.warn("AG Grid: column ".concat(e.getId()," is not visible"));return}var s=o?a:i.indexOf(r);if(s<0){console.warn("AG Grid: column ".concat(r.getId()," is not visible"));return}if(o)return[e];for(var l=Math.min(a,s),u=l===a?s:a,c=[],d=l;d<=u;d++)c.push(i[d]);return c},lu([O("rowModel")],t.prototype,"rowModel",void 0),lu([O("dragService")],t.prototype,"dragService",void 0),lu([O("columnModel")],t.prototype,"columnModel",void 0),lu([O("cellNavigationService")],t.prototype,"cellNavigationService",void 0),lu([O("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),lu([O("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),lu([O("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),lu([O("ctrlsService")],t.prototype,"ctrlsService",void 0),lu([q],t.prototype,"init",null),t=lu([me("rangeService")],t),t}(re),aJe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ul=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Kie=function(n){aJe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.changedCalculatedValues=!1,e.dragging=!1,e.shouldDestroyOnEndDragging=!1,e}return t.prototype.init=function(){var e=this;this.dragService.addDragSource({dragStartPixels:0,eElement:this.getGui(),onDragStart:this.onDragStart.bind(this),onDragging:function(r){e.dragging=!0,e.rangeService.autoScrollService.check(r),e.changedCalculatedValues&&(e.onDrag(r),e.changedCalculatedValues=!1)},onDragStop:function(r){e.dragging=!1,e.onDragEnd(r),e.clearValues(),e.rangeService.autoScrollService.ensureCleared(),document.body.classList.remove(e.getDraggingCssClass()),e.shouldDestroyOnEndDragging&&e.destroy()}}),this.addManagedListener(this.getGui(),"mousedown",this.preventRangeExtension.bind(this))},t.prototype.isDragging=function(){return this.dragging},t.prototype.getCellCtrl=function(){return this.cellCtrl},t.prototype.setCellCtrl=function(e){this.cellCtrl=e},t.prototype.getCellRange=function(){return this.cellRange},t.prototype.setCellRange=function(e){this.cellRange=e},t.prototype.getRangeStartRow=function(){return this.rangeStartRow},t.prototype.setRangeStartRow=function(e){this.rangeStartRow=e},t.prototype.getRangeEndRow=function(){return this.rangeEndRow},t.prototype.setRangeEndRow=function(e){this.rangeEndRow=e},t.prototype.getLastCellHovered=function(){return this.lastCellHovered},t.prototype.preventRangeExtension=function(e){e.stopPropagation()},t.prototype.onDragStart=function(e){this.cellHoverListener=this.addManagedListener(this.ctrlsService.getGridCtrl().getGui(),"mousemove",this.updateValuesOnMove.bind(this)),document.body.classList.add(this.getDraggingCssClass())},t.prototype.getDraggingCssClass=function(){return"ag-dragging-".concat(this.type===od.FILL?"fill":"range","-handle")},t.prototype.updateValuesOnMove=function(e){var r=this.mouseEventService.getCellPositionForEvent(e);!r||this.lastCellHovered&&this.cellPositionUtils.equals(r,this.lastCellHovered)||(this.lastCellHovered=r,this.changedCalculatedValues=!0)},t.prototype.getType=function(){return this.type},t.prototype.refresh=function(e){var r=this.getCellCtrl(),i=this.getGui(),o=F.last(this.rangeService.getCellRanges()),a=o.startRow,s=o.endRow;if(a&&s){var l=this.rowPositionUtils.before(s,a);l?(this.setRangeStartRow(s),this.setRangeEndRow(a)):(this.setRangeStartRow(a),this.setRangeEndRow(s))}if(r!==e||!F.isVisible(i)){this.setCellCtrl(e);var u=e.getComp().getParentOfValue();u&&u.appendChild(i)}this.setCellRange(o)},t.prototype.clearValues=function(){this.lastCellHovered=void 0,this.removeListeners()},t.prototype.removeListeners=function(){this.cellHoverListener&&(this.cellHoverListener(),this.cellHoverListener=void 0)},t.prototype.destroy=function(){if(!this.shouldDestroyOnEndDragging&&this.isDragging()){F.setDisplayed(this.getGui(),!1),this.shouldDestroyOnEndDragging=!0;return}this.shouldDestroyOnEndDragging=!1,n.prototype.destroy.call(this),this.removeListeners();var e=this.getGui();e.parentElement&&e.parentElement.removeChild(e)},ul([O("rowRenderer")],t.prototype,"rowRenderer",void 0),ul([O("dragService")],t.prototype,"dragService",void 0),ul([O("rangeService")],t.prototype,"rangeService",void 0),ul([O("mouseEventService")],t.prototype,"mouseEventService",void 0),ul([O("columnModel")],t.prototype,"columnModel",void 0),ul([O("cellNavigationService")],t.prototype,"cellNavigationService",void 0),ul([O("navigationService")],t.prototype,"navigationService",void 0),ul([O("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),ul([O("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),ul([O("ctrlsService")],t.prototype,"ctrlsService",void 0),ul([q],t.prototype,"init",null),t}(Ce);function sJe(n){var t=n.length,e=0;if(t<=1)return n;for(var r=0;r<n.length;r++){var i=n[r],o=i.toString().split("e-");if(o.length>1){e=Math.max(e,parseInt(o[1],10));continue}Math.floor(i)!==i&&(e=Math.max(e,i.toString().split(".")[1].length))}for(var a=0,s=0,l=0,u=0,c=0,d=0;d<t;d++)c=n[d],a+=d,s+=c,u+=d*d,l+=d*c;for(var p=(t*l-a*s)/(t*u-a*a),h=s/t-p*a/t,f=[],d=0;d<=t;d++)f.push(parseFloat((d*p+h).toFixed(e)));return f}var lJe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),rm=function(){return rm=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},rm.apply(this,arguments)},uF=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},uJe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},cJe=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},Yie=function(n){lJe(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.markedCells=[],e.cellValues=[],e.isUp=!1,e.isLeft=!1,e.isReduce=!1,e.type=od.FILL,e}return t.prototype.updateValuesOnMove=function(e){n.prototype.updateValuesOnMove.call(this,e),this.initialXY||(this.initialXY=this.mouseEventService.getNormalisedPosition(e));var r=this.initialXY,i=r.x,o=r.y,a=this.mouseEventService.getNormalisedPosition(e),s=a.x,l=a.y,u=Math.abs(i-s),c=Math.abs(o-l),d=this.getFillHandleDirection(),p;d==="xy"?p=u>c?"x":"y":p=d,p!==this.dragAxis&&(this.dragAxis=p,this.changedCalculatedValues=!0)},t.prototype.onDrag=function(e){if(!this.initialPosition){var r=this.getCellCtrl();if(!r)return;this.initialPosition=r.getCellPosition()}var i=this.getLastCellHovered();i&&this.markPathFrom(this.initialPosition,i)},t.prototype.onDragEnd=function(e){if(this.initialXY=null,!!this.markedCells.length){var r=this.dragAxis==="x",i=this.getCellRange(),o=i.columns.length,a=this.getRangeStartRow(),s=this.getRangeEndRow(),l;if(!this.isUp&&!this.isLeft)l=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:a.rowIndex,rowStartPinned:a.rowPinned,columnStart:i.columns[0],rowEndIndex:r?s.rowIndex:this.lastCellMarked.rowIndex,rowEndPinned:r?s.rowPinned:this.lastCellMarked.rowPinned,columnEnd:r?this.lastCellMarked.column:i.columns[o-1]});else{var u=r?a:this.lastCellMarked;l=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:u.rowIndex,rowStartPinned:u.rowPinned,columnStart:r?this.lastCellMarked.column:i.columns[0],rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnEnd:i.columns[o-1]})}l&&(this.raiseFillStartEvent(),this.handleValueChanged(i,l,e),this.rangeService.setCellRanges([l]),this.raiseFillEndEvent(i,l))}},t.prototype.getFillHandleDirection=function(){var e=this.gridOptionsService.get("fillHandleDirection");return e?e!=="x"&&e!=="y"&&e!=="xy"?(F.warnOnce("valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'."),"xy"):e:"xy"},t.prototype.raiseFillStartEvent=function(){var e={type:M.EVENT_FILL_START};this.eventService.dispatchEvent(e)},t.prototype.raiseFillEndEvent=function(e,r){var i={type:M.EVENT_FILL_END,initialRange:e,finalRange:r};this.eventService.dispatchEvent(i)},t.prototype.handleValueChanged=function(e,r,i){var o=this,a=this.rangeService.getRangeEndRow(e),s=this.rangeService.getRangeStartRow(e),l=this.rangeService.getRangeEndRow(r),u=this.rangeService.getRangeStartRow(r),c=this.dragAxis==="y";if(this.isReduce&&!this.gridOptionsService.get("suppressClearOnFillReduction")){var d=c?e.columns:e.columns.filter(function(_){return r.columns.indexOf(_)<0}),p=c?this.cellNavigationService.getRowBelow(l):u;p&&this.clearCellsInRange(p,a,d);return}var h=[],f=[],v=[],g=[],m=!0,y=0,C=function(){h.length=0,f.length=0,v.length=0,g.length=0,y=0},S=function(_,x){var E=o.isUp?a:s,R=!1;c&&(m=!0,C());for(var P=function(){var N=o.rowPositionUtils.getRowNode(E);if(!N)return"break";c&&_?w(h,_,N,function(){return!o.rowPositionUtils.sameRow(E,o.isUp?s:a)}):x&&(m=!0,C(),x.forEach(function(I){return w(h,I,N,function(){return I!==(o.isLeft?e.columns[0]:F.last(e.columns))})})),R=o.rowPositionUtils.sameRow(E,o.isUp?u:l),E=o.isUp?o.cellNavigationService.getRowAbove(E):o.cellNavigationService.getRowBelow(E)};!R&&E;){var A=P();if(A==="break")break}},w=function(_,x,E,R){var P,A,N,I=!1;if(m)N=o.valueService.getValue(x,E),f.push(N),v.push(o.valueService.getValue(x,E,void 0,!0)),g.push(o.valueFormatterService.formatValue(x,E,N)),m=R();else{var G=o.processValues({event:i,values:_,initialValues:f,initialNonAggregatedValues:v,initialFormattedValues:g,col:x,rowNode:E,idx:y++}),V=G.value,H=G.fromUserFunction,j=G.sourceCol,B=G.sourceRowNode;if(N=V,x.isCellEditable(E)){var $=o.valueService.getValue(x,E);H||(j&&((P=j.getColDef())===null||P===void 0?void 0:P.useValueFormatterForExport)!==!1&&(N=(A=o.valueFormatterService.formatValue(j,B,N))!==null&&A!==void 0?A:N),x.getColDef().useValueParserForImport!==!1&&(N=o.valueParserService.parseValue(x,E,j?N:F.toStringOrNull(N),$))),!H||$!==N?E.setDataValue(x,N,"rangeService"):I=!0}}I||_.push({value:N,column:x,rowNode:E})};if(c)e.columns.forEach(function(_){S(_)});else{var d=this.isLeft?cJe([],uJe(r.columns),!1).reverse():r.columns;S(void 0,d)}},t.prototype.clearCellsInRange=function(e,r,i){var o={startRow:e,endRow:r,columns:i,startColumn:i[0]};this.rangeService.clearCellRangeCellValues({cellRanges:[o]})},t.prototype.processValues=function(e){var r=e.event,i=e.values,o=e.initialValues,a=e.initialNonAggregatedValues,s=e.initialFormattedValues,l=e.col,u=e.rowNode,c=e.idx,d=this.gridOptionsService.getCallback("fillOperation"),p=this.dragAxis==="y",h;if(p?h=this.isUp?"up":"down":h=this.isLeft?"left":"right",d){var f={event:r,values:i.map(function(_){var x=_.value;return x}),initialValues:o,initialNonAggregatedValues:a,initialFormattedValues:s,currentIndex:c,currentCellValue:this.valueService.getValue(l,u),direction:h,column:l,rowNode:u},v=d(f);if(v!==!1)return{value:v,fromUserFunction:!0}}var g=!i.some(function(_){var x=_.value,E=parseFloat(x);return isNaN(E)||E.toString()!==x.toString()});if(r.altKey||!g){if(g&&o.length===1){var m=this.isUp||this.isLeft?-1:1;return{value:parseFloat(F.last(i).value)+1*m,fromUserFunction:!1}}var y=i[c%i.length],C=y.value,S=y.column,w=y.rowNode;return{value:C,fromUserFunction:!1,sourceCol:S,sourceRowNode:w}}return{value:F.last(sJe(i.map(function(_){var x=_.value;return Number(x)}))),fromUserFunction:!1}},t.prototype.clearValues=function(){this.clearMarkedPath(),this.clearCellValues(),this.lastCellMarked=void 0,n.prototype.clearValues.call(this)},t.prototype.clearMarkedPath=function(){this.markedCells.forEach(function(e){if(e.isAlive()){var r=e.getComp();r.addOrRemoveCssClass("ag-selection-fill-top",!1),r.addOrRemoveCssClass("ag-selection-fill-right",!1),r.addOrRemoveCssClass("ag-selection-fill-bottom",!1),r.addOrRemoveCssClass("ag-selection-fill-left",!1)}}),this.markedCells.length=0,this.isUp=!1,this.isLeft=!1,this.isReduce=!1},t.prototype.clearCellValues=function(){this.cellValues.length=0},t.prototype.markPathFrom=function(e,r){if(this.clearMarkedPath(),this.clearCellValues(),this.dragAxis==="y"){if(this.rowPositionUtils.sameRow(r,e))return;var i=this.rowPositionUtils.before(r,e),o=this.getRangeStartRow(),a=this.getRangeEndRow();i&&(r.rowPinned==o.rowPinned&&r.rowIndex>=o.rowIndex||o.rowPinned!=a.rowPinned&&r.rowPinned==a.rowPinned&&r.rowIndex<=a.rowIndex)?(this.reduceVertical(e,r),this.isReduce=!0):(this.extendVertical(e,r,i),this.isReduce=!1)}else{var s=e.column,l=r.column;if(s===l)return;var u=this.columnModel.getAllDisplayedColumns(),c=u.indexOf(s),d=u.indexOf(l);d<=c&&d>=u.indexOf(this.getCellRange().columns[0])?(this.reduceHorizontal(e,r),this.isReduce=!0):(this.extendHorizontal(e,r,d<c),this.isReduce=!1)}this.lastCellMarked=r},t.prototype.extendVertical=function(e,r,i){var o=this,a=o.navigationService,s=o.rangeService,l=e;do{for(var u=this.getCellRange(),c=u.columns.length,d=0;d<c;d++){var p=u.columns[d],h={rowIndex:l.rowIndex,rowPinned:l.rowPinned},f=rm(rm({},h),{column:p}),v=s.isCellInSpecificRange(f,u),g=this.rowPositionUtils.sameRow(l,e);if(i&&(this.isUp=!0),!g){var m=a.getCellByPosition(f);if(m){this.markedCells.push(m);var y=m.getComp();v||(y.addOrRemoveCssClass("ag-selection-fill-left",d===0),y.addOrRemoveCssClass("ag-selection-fill-right",d===c-1)),y.addOrRemoveCssClass(i?"ag-selection-fill-top":"ag-selection-fill-bottom",this.rowPositionUtils.sameRow(l,r))}}}if(this.rowPositionUtils.sameRow(l,r))break}while(l=i?this.cellNavigationService.getRowAbove(l):this.cellNavigationService.getRowBelow(l))},t.prototype.reduceVertical=function(e,r){var i=e;do{for(var o=this.getCellRange(),a=o.columns.length,s=this.rowPositionUtils.sameRow(i,r),l=0;l<a;l++){var u={rowIndex:i.rowIndex,rowPinned:i.rowPinned},c=rm(rm({},u),{column:o.columns[l]}),d=this.navigationService.getCellByPosition(c);if(d){this.markedCells.push(d);var p=d.getComp();p.addOrRemoveCssClass("ag-selection-fill-bottom",this.rowPositionUtils.sameRow(i,r))}}if(s)break}while(i=this.cellNavigationService.getRowAbove(i))},t.prototype.extendHorizontal=function(e,r,i){var o=this,a=this.columnModel.getAllDisplayedColumns(),s=a.indexOf(i?r.column:e.column),l=a.indexOf(i?this.getCellRange().columns[0]:r.column),u=i?0:1,c=a.slice(s+u,l+u),d=this.getRangeStartRow(),p=this.getRangeEndRow();c.forEach(function(h){var f=d,v=!1;do{v=o.rowPositionUtils.sameRow(f,p);var g=o.navigationService.getCellByPosition({rowIndex:f.rowIndex,rowPinned:f.rowPinned,column:h});if(g){o.markedCells.push(g);var m=g.getComp();m.addOrRemoveCssClass("ag-selection-fill-top",o.rowPositionUtils.sameRow(f,d)),m.addOrRemoveCssClass("ag-selection-fill-bottom",o.rowPositionUtils.sameRow(f,p)),i?(o.isLeft=!0,m.addOrRemoveCssClass("ag-selection-fill-left",h===c[0])):m.addOrRemoveCssClass("ag-selection-fill-right",h===F.last(c))}f=o.cellNavigationService.getRowBelow(f)}while(!v)})},t.prototype.reduceHorizontal=function(e,r){var i=this,o=this.columnModel.getAllDisplayedColumns(),a=o.indexOf(r.column),s=o.indexOf(e.column),l=o.slice(a,s),u=this.getRangeStartRow(),c=this.getRangeEndRow();l.forEach(function(d){var p=u,h=!1;do{h=i.rowPositionUtils.sameRow(p,c);var f=i.navigationService.getCellByPosition({rowIndex:p.rowIndex,rowPinned:p.rowPinned,column:d});if(f){i.markedCells.push(f);var v=f.getComp();v.addOrRemoveCssClass("ag-selection-fill-right",d===l[0])}p=i.cellNavigationService.getRowBelow(p)}while(!h)})},t.prototype.refresh=function(e){var r=this.rangeService.getCellRanges()[0],i=!r.startRow||!r.endRow;if(i){this.destroy();return}n.prototype.refresh.call(this,e)},t.TEMPLATE='<div class="ag-fill-handle"></div>',uF([O("valueService")],t.prototype,"valueService",void 0),uF([O("valueParserService")],t.prototype,"valueParserService",void 0),uF([O("valueFormatterService")],t.prototype,"valueFormatterService",void 0),t}(Kie),dJe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),RT=function(){return RT=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},RT.apply(this,arguments)},qie=function(n){dJe(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.type=od.RANGE,e.rangeFixed=!1,e}return t.prototype.onDrag=function(e){var r=this.getLastCellHovered();if(r){var i=this.rangeService.getCellRanges(),o=F.last(i);if(this.rangeFixed||(this.fixRangeStartEnd(o),this.rangeFixed=!0),this.endPosition={rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:r.column},i.length===2&&i[0].type===ta.DIMENSION&&o.type===ta.VALUE){var a=!this.rowPositionUtils.sameRow(this.endPosition,this.rangeService.getRangeEndRow(o));a&&this.rangeService.updateRangeEnd(i[0],RT(RT({},this.endPosition),{column:i[0].columns[0]}),!0)}this.rangeService.extendLatestRangeToCell(this.endPosition)}},t.prototype.onDragEnd=function(e){var r=F.last(this.rangeService.getCellRanges());this.fixRangeStartEnd(r),this.rangeFixed=!1},t.prototype.fixRangeStartEnd=function(e){var r=this.rangeService.getRangeStartRow(e),i=this.rangeService.getRangeEndRow(e),o=e.columns[0];e.startRow=r,e.endRow=i,e.startColumn=o},t.TEMPLATE='<div class="ag-range-handle"></div>',t}(Kie),pJe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),hJe=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},fJe=function(n){pJe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.createSelectionHandle=function(e){return this.createBean(e===od.RANGE?new qie:new Yie)},t=hJe([me("selectionHandleFactory")],t),t}(re),vJe="31.1.1",Xie={version:vJe,moduleName:Te.RangeSelectionModule,beans:[oJe,fJe],agStackComponents:[{componentName:"AgFillHandle",componentClass:Yie},{componentName:"AgRangeHandle",componentClass:qie}],dependantModules:[Pi]},VN=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Zie=28,Qie=6;function BN(n){return n&&n.match(/\d+\.\d+\.\d+/)}function gJe(n){var t=n.gridMajorVersion,e=n.chartsMajorVersion,r=parseInt(t,10),i=parseInt(e,10),o=r-Zie,a=i-Qie,s=o>=0;return o===a&&s}function mJe(n){if(!(!n||!BN(n))){var t=VN(n.split(".")||[],2),e=t[0],r=t[1],i="".concat(e,".").concat(r,".x"),o=parseInt(e,10),a=o-Zie+Qie;if(!(a<0)){var s=r,l="".concat(a,".").concat(s,".x");return{gridMajorMinor:i,chartsMajorMinor:l}}}}function aE(n){var t=n.type,e=n.gridVersion,r=n.chartsVersion,i="AG Grid: AG Grid version is incompatible. Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information.";if(!e)return i;var o=mJe(e);if(!o)return i;var a=o.gridMajorMinor,s=o.chartsMajorMinor;return t==="incompatible"?"AG Grid version ".concat(e," and AG Charts version ").concat(r," is not supported. AG Grid version ").concat(a," should be used with AG Chart ").concat(s,". Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information."):t==="invalidCharts"?"AG Grid version ".concat(a," should be used with AG Chart ").concat(s,". Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information."):i}function yJe(n){var t=n.gridVersion,e=n.chartsVersion;if(!BN(e))return{isValid:!1,message:aE({type:"invalidCharts",gridVersion:t,chartsVersion:e})};if(!BN(t))return{isValid:!1,message:aE({type:"invalidGrid",gridVersion:t,chartsVersion:e})};var r=VN(t.split(".")||[],2),i=r[0],o=r[1],a=VN(e.split(".")||[],2),s=a[0],l=a[1],u=gJe({gridMajorVersion:i,chartsMajorVersion:s});return u&&o===l?{isValid:!0}:!u||o!==l?{isValid:!1,message:aE({type:"incompatible",gridVersion:t,chartsVersion:e})}:{isValid:!1,message:aE({type:"invalid",gridVersion:t,chartsVersion:e})}}var CJe={version:K0,validate:function(){return yJe({gridVersion:K0,chartsVersion:cK.CHARTS_VERSION})},moduleName:Te.GridChartsModule,beans:[cK,eJe,rJe],agStackComponents:[{componentName:"AgColorPicker",componentClass:Iie},{componentName:"AgAngleSelect",componentClass:Fie}],dependantModules:[Xie,Pi]},SJe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),jN=function(){return jN=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},jN.apply(this,arguments)},dK=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Jie=function(n){SJe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.loadRowDataVersion=0,e}return t.prototype.init=function(e,r){this.params=r,this.comp=e;var i=r.pinned!=null;i||(this.setAutoHeightClasses(),this.setupRefreshStrategy(),this.addThemeToDetailGrid(),this.createDetailGrid(),this.loadRowData(),this.addManagedListener(this.eventService,M.EVENT_FULL_WIDTH_ROW_FOCUSED,this.onFullWidthRowFocused.bind(this)))},t.prototype.onFullWidthRowFocused=function(e){var r=this.params,i={rowIndex:r.node.rowIndex,rowPinned:r.node.rowPinned},o={rowIndex:e.rowIndex,rowPinned:e.rowPinned},a=this.rowPositionUtils.sameRow(i,o);a&&this.focusService.focusInto(this.comp.getGui(),e.fromBelow)},t.prototype.setAutoHeightClasses=function(){var e=this.gridOptionsService.get("detailRowAutoHeight"),r=e?"ag-details-row-auto-height":"ag-details-row-fixed-height",i=e?"ag-details-grid-auto-height":"ag-details-grid-fixed-height";this.comp.addOrRemoveCssClass(r,!0),this.comp.addOrRemoveDetailGridCssClass(i,!0)},t.prototype.setupRefreshStrategy=function(){var e=this.params.refreshStrategy,r=e=="everything"||e=="nothing"||e=="rows";if(r){this.refreshStrategy=e;return}e!=null&&console.warn("AG Grid: invalid cellRendererParams.refreshStrategy = '"+e+"' supplied, defaulting to refreshStrategy = 'rows'."),this.refreshStrategy="rows"},t.prototype.addThemeToDetailGrid=function(){var e=this.environment.getTheme().theme;e&&this.comp.addOrRemoveDetailGridCssClass(e,!0)},t.prototype.createDetailGrid=function(){if(F.missing(this.params.detailGridOptions)){console.warn("AG Grid: could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions");return}var e=this.gridOptionsService.get("detailRowAutoHeight"),r=jN({},this.params.detailGridOptions);e&&(r.domLayout="autoHeight"),this.comp.setDetailGrid(r)},t.prototype.registerDetailWithMaster=function(e,r){var i=this.params.node.id,o=this.params.api,a={id:i,api:e,columnApi:r},s=this.params.node;o.addDetailGridInfo(i,a),s.detailGridInfo=a,this.addDestroyFunc(function(){s.detailGridInfo===a&&(o.removeDetailGridInfo(i),s.detailGridInfo=null)})},t.prototype.loadRowData=function(){var e=this,r,i,o;this.loadRowDataVersion++;var a=this.loadRowDataVersion;if(((r=this.params.detailGridOptions)===null||r===void 0?void 0:r.rowModelType)==="serverSide"){var s=this.params.node;(o=(i=s.detailGridInfo)===null||i===void 0?void 0:i.api)===null||o===void 0||o.refreshServerSide({purge:!0});return}var l=this.params.getDetailRowData;if(!l){console.warn("AG Grid: could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData");return}var u=function(d){var p=e.loadRowDataVersion===a;p&&e.comp.setRowData(d)},c={node:this.params.node,data:this.params.node.data,successCallback:u,context:this.gridOptionsService.getGridCommonParams().context};l(c)},t.prototype.refresh=function(){var e=!1,r=!0;switch(this.refreshStrategy){case"nothing":return r;case"everything":return e}return this.loadRowData(),r},dK([O("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),dK([O("focusService")],t.prototype,"focusService",void 0),t}(re),wJe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),_Je=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},xJe=function(n){wJe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(e){var r=this;this.params=e,this.selectAndSetTemplate();var i={addOrRemoveCssClass:function(o,a){return r.addOrRemoveCssClass(o,a)},addOrRemoveDetailGridCssClass:function(o,a){return r.eDetailGrid.classList.toggle(o,a)},setDetailGrid:function(o){return r.setDetailGrid(o)},setRowData:function(o){return r.setRowData(o)},getGui:function(){return r.eDetailGrid}};this.ctrl=this.createManagedBean(new Jie),this.ctrl.init(i,e)},t.prototype.refresh=function(){return this.ctrl&&this.ctrl.refresh()},t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.selectAndSetTemplate=function(){var e=this;if(this.params.pinned){this.setTemplate('<div class="ag-details-row"></div>');return}var r=function(){e.setTemplate(t.TEMPLATE)};if(F.missing(this.params.template))r();else if(typeof this.params.template=="string")this.setTemplate(this.params.template);else if(typeof this.params.template=="function"){var i=this.params.template,o=i(this.params);this.setTemplate(o)}else console.warn("AG Grid: detailCellRendererParams.template should be function or string"),r();this.eDetailGrid==null&&console.warn('AG Grid: reference to eDetailGrid was missing from the details template. Please add ref="eDetailGrid" to the template.')},t.prototype.setDetailGrid=function(e){if(this.eDetailGrid){var r=this.context.getBean("agGridReact"),i=r?F.cloneObject(r):void 0,o=this.context.getBean("frameworkComponentWrapper"),a=this.getFrameworkOverrides(),s=gJ(this.eDetailGrid,e,{frameworkOverrides:a,providedBeanInstances:{agGridReact:i,frameworkComponentWrapper:o},modules:ut.__getGridRegisteredModules(this.params.api.getGridId())});this.detailApi=s,this.ctrl.registerDetailWithMaster(s,new T_(s)),this.addDestroyFunc(function(){s==null||s.destroy()})}},t.prototype.setRowData=function(e){this.detailApi&&this.detailApi.setGridOption("rowData",e)},t.TEMPLATE=`<div class="ag-details-row" role="gridcell">
            <div ref="eDetailGrid" class="ag-details-grid" role="presentation"></div>
        </div>`,_Je([U("eDetailGrid")],t.prototype,"eDetailGrid",void 0),t}(Ce),bJe="31.1.1",EJe={version:bJe,moduleName:Te.MasterDetailModule,beans:[],userComponents:[{componentName:"agDetailCellRenderer",componentClass:xJe}],controllers:[{controllerName:"detailCellRenderer",controllerClass:Jie}],dependantModules:[Pi]},Z2=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),bi=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},OJe=function(n){Z2(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},t.prototype.showMenuAfterMouseEvent=function(e,r,i,o){var a=this,s=o?"filterMenuTab":void 0;this.showMenu(e,function(l){var u,c=l.getGui();a.popupService.positionPopupUnderMouseEvent({type:i,column:e,mouseEvent:r,ePopup:c}),s&&((u=l.showTab)===null||u===void 0||u.call(l,s)),a.dispatchVisibleChangedEvent(!0,!1,e,s)},i,s,void 0,r.target)},t.prototype.showMenuAfterButtonClick=function(e,r,i,o){var a=this,s=-1,l="left";this.gridOptionsService.get("enableRtl")&&(s=1,l="right");var u=o?"filterMenuTab":void 0,c=u?[u]:void 0,d=this.menuService.isLegacyMenuEnabled(),p=(d?9:4)*s,h=d?-23:4;this.showMenu(e,function(f){var v,g=f.getGui();a.popupService.positionPopupByComponent({type:i,column:e,eventSource:r,ePopup:g,alignSide:l,nudgeX:p,nudgeY:h,position:"under",keepWithinBounds:!0}),u&&((v=f.showTab)===null||v===void 0||v.call(f,u)),a.dispatchVisibleChangedEvent(!0,!1,e,u)},i,u,c,r)},t.prototype.showMenu=function(e,r,i,o,a,s){var l=this,u,c=this.getMenuParams(e,a,s),d=c.menu,p=c.eMenuGui,h=c.anchorToElement,f=c.restoreFocusParams,v=[];e&&v.push(function(y){var C=d.getGui();l.destroyBean(d),e==null||e.setMenuVisible(!1,"contextMenu"),l.menuUtils.restoreFocusOnClose(f,C,y)});var g=this.localeService.getLocaleTextFunc();if(this.popupService.addPopup({modal:!0,eChild:p,closeOnEsc:!0,closedCallback:function(y){v.forEach(function(C){return C(y)}),l.dispatchVisibleChangedEvent(!1,!1,e,o)},afterGuiAttached:function(y){return d.afterGuiAttached(Object.assign({},{container:i},y))},positionCallback:o?function(){return r(d)}:void 0,ariaLabel:g("ariaLabelColumnMenu","Column Menu")}),o||((u=d.showTabBasedOnPreviousSelection)===null||u===void 0||u.call(d),r(d)),this.menuService.isColumnMenuAnchoringEnabled()){var m=this.popupService.setPopupPositionRelatedToElement(p,h);m&&e&&this.addStopAnchoring(m,e,v)}d.addEventListener(sS.EVENT_TAB_SELECTED,function(y){l.dispatchVisibleChangedEvent(!1,!0,e),l.lastSelectedTab=y.key,l.dispatchVisibleChangedEvent(!0,!0,e)}),e==null||e.setMenuVisible(!0,"contextMenu"),this.activeMenu=d,d.addEventListener(re.EVENT_DESTROYED,function(){l.activeMenu===d&&(l.activeMenu=null)})},t.prototype.addStopAnchoring=function(e,r,i){e.then(function(o){r.addEventListener("leftChanged",o),r.addEventListener("visibleChanged",o),i.push(function(){r.removeEventListener("leftChanged",o),r.removeEventListener("visibleChanged",o)})})},t.prototype.getMenuParams=function(e,r,i){var o={column:e,headerPosition:this.focusService.getFocusedHeader(),columnIndex:this.columnModel.getAllDisplayedColumns().indexOf(e),eventSource:i},a=this.createMenu(e,o,r,i);return{menu:a,eMenuGui:a.getGui(),anchorToElement:i||this.ctrlsService.getGridBodyCtrl().getGui(),restoreFocusParams:o}},t.prototype.createMenu=function(e,r,i,o){return this.menuService.isLegacyMenuEnabled()?this.createBean(new sS(e,r,this.lastSelectedTab,i,o)):this.createBean(new RJe(e,r,o))},t.prototype.dispatchVisibleChangedEvent=function(e,r,i,o){var a,s,l={type:M.EVENT_COLUMN_MENU_VISIBLE_CHANGED,visible:e,switchingTab:r,key:(s=(a=this.lastSelectedTab)!==null&&a!==void 0?a:o)!==null&&s!==void 0?s:this.menuService.isLegacyMenuEnabled()?sS.TAB_GENERAL:"columnMenu",column:i??null};this.eventService.dispatchEvent(l)},t.prototype.isMenuEnabled=function(e){var r;if(!this.menuService.isLegacyMenuEnabled())return!0;var i=!this.filterManager.isFilterAllowed(e),o=(r=e.getColDef().menuTabs)!==null&&r!==void 0?r:sS.TABS_DEFAULT,a=i&&o.includes(sS.TAB_FILTER)?o.length-1:o.length;return a>0},t.prototype.showMenuAfterContextMenuEvent=function(e,r,i){var o=this;this.menuUtils.onContextMenu(r,i,function(a){return o.showMenuAfterMouseEvent(e,a,"columnMenu"),!0})},bi([O("popupService")],t.prototype,"popupService",void 0),bi([O("focusService")],t.prototype,"focusService",void 0),bi([O("ctrlsService")],t.prototype,"ctrlsService",void 0),bi([O("columnModel")],t.prototype,"columnModel",void 0),bi([O("filterManager")],t.prototype,"filterManager",void 0),bi([O("menuUtils")],t.prototype,"menuUtils",void 0),bi([O("menuService")],t.prototype,"menuService",void 0),t=bi([me("enterpriseMenuFactory")],t),t}(re),sS=function(n){Z2(t,n);function t(e,r,i,o,a){var s=n.call(this)||this;return s.column=e,s.restoreFocusParams=r,s.initialSelection=i,s.restrictTo=o,s.sourceElement=a,s.tabFactories={},s.includeChecks={},s.tabFactories[t.TAB_GENERAL]=s.createMainPanel.bind(s),s.tabFactories[t.TAB_FILTER]=s.createFilterPanel.bind(s),s.tabFactories[t.TAB_COLUMNS]=s.createColumnsPanel.bind(s),s.includeChecks[t.TAB_GENERAL]=function(){return!0},s.includeChecks[t.TAB_FILTER]=function(){return e?s.filterManager.isFilterAllowed(e):!1},s.includeChecks[t.TAB_COLUMNS]=function(){return!0},s}return t.prototype.init=function(){var e=this,r=this.getTabsToCreate().map(function(i){return e.createTab(i)});this.tabbedLayout=new CB({items:r,cssClass:"ag-menu",onActiveItemClicked:this.onHidePopup.bind(this),onItemClicked:this.onTabItemClicked.bind(this)}),this.createBean(this.tabbedLayout),this.mainMenuList&&this.mainMenuList.setParentComponent(this.tabbedLayout),this.addDestroyFunc(function(){return e.destroyBean(e.tabbedLayout)})},t.prototype.getTabsToCreate=function(){var e=this,r,i;return this.restrictTo?this.restrictTo:((i=(r=this.column)===null||r===void 0?void 0:r.getColDef().menuTabs)!==null&&i!==void 0?i:t.TABS_DEFAULT).filter(function(o){return e.isValidMenuTabItem(o)}).filter(function(o){return e.isNotSuppressed(o)}).filter(function(o){return e.isModuleLoaded(o)})},t.prototype.isModuleLoaded=function(e){return e===t.TAB_COLUMNS?ut.__isRegistered(Te.ColumnsToolPanelModule,this.context.getGridId()):!0},t.prototype.isValidMenuTabItem=function(e){var r=!0,i=t.TABS_DEFAULT;return this.restrictTo!=null&&(r=this.restrictTo.indexOf(e)>-1,i=this.restrictTo),r=r&&t.TABS_DEFAULT.indexOf(e)>-1,r||console.warn("AG Grid: Trying to render an invalid menu item '".concat(e,"'. Check that your 'menuTabs' contains one of [").concat(i,"]")),r},t.prototype.isNotSuppressed=function(e){return this.includeChecks[e]()},t.prototype.createTab=function(e){return this.tabFactories[e]()},t.prototype.showTabBasedOnPreviousSelection=function(){this.showTab(this.initialSelection)},t.prototype.showTab=function(e){this.tabItemColumns&&e===t.TAB_COLUMNS?this.tabbedLayout.showItem(this.tabItemColumns):this.tabItemFilter&&e===t.TAB_FILTER?this.tabbedLayout.showItem(this.tabItemFilter):this.tabItemGeneral&&e===t.TAB_GENERAL?this.tabbedLayout.showItem(this.tabItemGeneral):this.tabbedLayout.showFirstItem()},t.prototype.onTabItemClicked=function(e){var r=null;switch(e.item){case this.tabItemColumns:r=t.TAB_COLUMNS;break;case this.tabItemFilter:r=t.TAB_FILTER;break;case this.tabItemGeneral:r=t.TAB_GENERAL;break}r&&this.activateTab(r)},t.prototype.activateTab=function(e){var r={type:t.EVENT_TAB_SELECTED,key:e};this.dispatchEvent(r)},t.prototype.createMainPanel=function(){var e=this;return this.mainMenuList=this.columnMenuFactory.createMenu(this,this.column,function(){var r;return(r=e.sourceElement)!==null&&r!==void 0?r:e.getGui()}),this.mainMenuList.addEventListener(Fs.EVENT_CLOSE_MENU,this.onHidePopup.bind(this)),this.tabItemGeneral={title:F.createIconNoSpan("menu",this.gridOptionsService,this.column),titleLabel:t.TAB_GENERAL.replace("MenuTab",""),bodyPromise:Ot.resolve(this.mainMenuList.getGui()),name:t.TAB_GENERAL},this.tabItemGeneral},t.prototype.onHidePopup=function(e){this.menuUtils.closePopupAndRestoreFocusOnSelect(this.hidePopupFunc,this.restoreFocusParams,e)},t.prototype.createFilterPanel=function(){var e=this.column?this.filterManager.getOrCreateFilterWrapper(this.column,"COLUMN_MENU"):null;if(!e)throw new Error("AG Grid - Unable to instantiate filter");var r=function(o){e!=null&&e.filterPromise&&e.filterPromise.then(function(a){a&&a.afterGuiAttached&&a.afterGuiAttached(o)})},i=function(){var o;return(o=e==null?void 0:e.filterPromise)===null||o===void 0?void 0:o.then(function(a){var s;return(s=a==null?void 0:a.afterGuiDetached)===null||s===void 0?void 0:s.call(a)})};return this.tabItemFilter={title:F.createIconNoSpan("filter",this.gridOptionsService,this.column),titleLabel:t.TAB_FILTER.replace("MenuTab",""),bodyPromise:e==null?void 0:e.guiPromise,afterAttachedCallback:r,afterDetachedCallback:i,name:t.TAB_FILTER},this.tabItemFilter},t.prototype.createColumnsPanel=function(){var e=document.createElement("div");e.classList.add("ag-menu-column-select-wrapper");var r=this.columnChooserFactory.createColumnSelectPanel(this,this.column),i=r.getGui();return i.classList.add("ag-menu-column-select"),e.appendChild(i),this.tabItemColumns={title:F.createIconNoSpan("columns",this.gridOptionsService,this.column),titleLabel:t.TAB_COLUMNS.replace("MenuTab",""),bodyPromise:Ot.resolve(e),name:t.TAB_COLUMNS},this.tabItemColumns},t.prototype.afterGuiAttached=function(e){var r=e.container,i=e.hidePopup;this.tabbedLayout.setAfterAttachedParams({container:r,hidePopup:i}),i&&(this.hidePopupFunc=i,this.addDestroyFunc(i))},t.prototype.getGui=function(){return this.tabbedLayout.getGui()},t.EVENT_TAB_SELECTED="tabSelected",t.TAB_FILTER="filterMenuTab",t.TAB_GENERAL="generalMenuTab",t.TAB_COLUMNS="columnsMenuTab",t.TABS_DEFAULT=[t.TAB_GENERAL,t.TAB_FILTER,t.TAB_COLUMNS],bi([O("filterManager")],t.prototype,"filterManager",void 0),bi([O("columnChooserFactory")],t.prototype,"columnChooserFactory",void 0),bi([O("columnMenuFactory")],t.prototype,"columnMenuFactory",void 0),bi([O("menuUtils")],t.prototype,"menuUtils",void 0),bi([q],t.prototype,"init",null),t}(re),RJe=function(n){Z2(t,n);function t(e,r,i){var o=n.call(this,`
            <div ref="eColumnMenu" role="presentation" class="ag-menu ag-column-menu"></div>
        `)||this;return o.column=e,o.restoreFocusParams=r,o.sourceElement=i,o}return t.prototype.init=function(){var e=this;this.mainMenuList=this.columnMenuFactory.createMenu(this,this.column,function(){var r;return(r=e.sourceElement)!==null&&r!==void 0?r:e.getGui()}),this.mainMenuList.addEventListener(Fs.EVENT_CLOSE_MENU,this.onHidePopup.bind(this)),this.eColumnMenu.appendChild(this.mainMenuList.getGui())},t.prototype.onHidePopup=function(e){this.menuUtils.closePopupAndRestoreFocusOnSelect(this.hidePopupFunc,this.restoreFocusParams,e)},t.prototype.afterGuiAttached=function(e){var r=e.hidePopup;r&&(this.hidePopupFunc=r,this.addDestroyFunc(r)),this.focusService.focusInto(this.mainMenuList.getGui())},bi([O("columnMenuFactory")],t.prototype,"columnMenuFactory",void 0),bi([O("menuUtils")],t.prototype,"menuUtils",void 0),bi([O("focusService")],t.prototype,"focusService",void 0),bi([U("eColumnMenu")],t.prototype,"eColumnMenu",void 0),bi([q],t.prototype,"init",null),t}(Ce),eoe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),TT=function(){return TT=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},TT.apply(this,arguments)},Eu=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},TJe="ag-menu",pK="ag-context-menu-open",PJe=function(n){eoe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},t.prototype.getMenuItems=function(e,r,i){var o=[];if(F.exists(e)&&ut.__isRegistered(Te.ClipboardModule,this.context.getGridId())&&r&&(this.gridOptionsService.get("suppressCutToClipboard")||o.push("cut"),o.push("copy","copyWithHeaders","copyWithGroupHeaders","paste","separator")),this.gridOptionsService.get("enableCharts")&&ut.__isRegistered(Te.GridChartsModule,this.context.getGridId())&&(this.columnModel.isPivotMode()&&o.push("pivotChart"),this.rangeService&&!this.rangeService.isEmpty()&&o.push("chartRange")),F.exists(e)){var a=!ut.__isRegistered(Te.CsvExportModule,this.context.getGridId()),s=!ut.__isRegistered(Te.ExcelExportModule,this.context.getGridId()),l=this.gridOptionsService.get("suppressExcelExport")||s,u=this.gridOptionsService.get("suppressCsvExport")||a,c=F.isIOSUserAgent(),d=!c&&(!l||!u);d&&o.push("export")}var p=o.length?o:void 0,h=r==null?void 0:r.getColDef().contextMenuItems;if(Array.isArray(h))return h;if(typeof h=="function")return h(this.gridOptionsService.addGridCommonParams({column:r,node:e,value:i,defaultItems:p}));var f=this.gridOptionsService.getCallback("getContextMenuItems");return f?f({column:r,node:e,value:i,defaultItems:p}):o},t.prototype.onContextMenu=function(e,r,i,o,a,s){var l=this;this.menuUtils.onContextMenu(e,r,function(u){return l.showMenu(i,o,a,u,s)})},t.prototype.showMenu=function(e,r,i,o,a){var s=this,l=this.getMenuItems(e,r,i),u=this.ctrlsService.getGridBodyCtrl().getGui();if(l===void 0||F.missingOrEmpty(l))return!1;var c=new DJe(l,r,e,i);this.createBean(c);var d=c.getGui(),p={column:r,rowNode:e,type:"contextMenu",mouseEvent:o,ePopup:d,nudgeY:1},h=this.localeService.getLocaleTextFunc(),f=this.popupService.addPopup({modal:!0,eChild:d,closeOnEsc:!0,closedCallback:function(){u.classList.remove(pK),s.destroyBean(c)},click:o,positionCallback:function(){var v=s.gridOptionsService.get("enableRtl");s.popupService.positionPopupUnderMouseEvent(TT(TT({},p),{nudgeX:v?(d.offsetWidth+1)*-1:1}))},anchorToElement:a,ariaLabel:h("ariaLabelContextMenu","Context Menu")});return f&&(u.classList.add(pK),c.afterGuiAttached({container:"contextMenu",hidePopup:f.hideFunc})),this.activeMenu&&this.hideActiveMenu(),this.activeMenu=c,c.addEventListener(re.EVENT_DESTROYED,function(){s.activeMenu===c&&(s.activeMenu=null)}),f&&c.addEventListener(Fs.EVENT_CLOSE_MENU,f.hideFunc),!0},Eu([O("popupService")],t.prototype,"popupService",void 0),Eu([xt("rangeService")],t.prototype,"rangeService",void 0),Eu([O("ctrlsService")],t.prototype,"ctrlsService",void 0),Eu([O("columnModel")],t.prototype,"columnModel",void 0),Eu([O("menuUtils")],t.prototype,"menuUtils",void 0),t=Eu([me("contextMenuFactory")],t),t}(re),DJe=function(n){eoe(t,n);function t(e,r,i,o){var a=n.call(this,'<div class="'.concat(TJe,'" role="presentation"></div>'))||this;return a.menuItems=e,a.column=r,a.node=i,a.value=o,a.menuList=null,a.focusedCell=null,a}return t.prototype.addMenuItems=function(){var e=this,r=this.createManagedBean(new R_(0,{column:this.column,node:this.node,value:this.value})),i=this.menuItemMapper.mapWithStockItems(this.menuItems,null,function(){return e.getGui()});r.addMenuItems(i),this.appendChild(r),this.menuList=r,r.addEventListener(Fs.EVENT_CLOSE_MENU,function(o){return e.dispatchEvent(o)})},t.prototype.afterGuiAttached=function(e){e.hidePopup&&this.addDestroyFunc(e.hidePopup),this.focusedCell=this.focusService.getFocusedCell(),this.menuList&&this.focusService.focusInto(this.menuList.getGui())},t.prototype.restoreFocusedCell=function(){var e=this.focusService.getFocusedCell();if(e&&this.focusedCell&&this.cellPositionUtils.equals(e,this.focusedCell)){var r=this.focusedCell,i=r.rowIndex,o=r.rowPinned,a=r.column,s=this.gridOptionsService.getDocument();s.activeElement===s.body&&this.focusService.setFocusedCell({rowIndex:i,column:a,rowPinned:o,forceBrowserFocus:!0})}},t.prototype.destroy=function(){this.restoreFocusedCell(),n.prototype.destroy.call(this)},Eu([O("menuItemMapper")],t.prototype,"menuItemMapper",void 0),Eu([O("focusService")],t.prototype,"focusService",void 0),Eu([O("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Eu([q],t.prototype,"addMenuItems",null),t}(Ce),AJe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),HN=function(){return HN=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},HN.apply(this,arguments)},uu=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},MJe=function(n){AJe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.mapWithStockItems=function(e,r,i){var o=this;if(!e)return[];var a=[];return e.forEach(function(s){var l;if(typeof s=="string"?l=o.getStockMenuItem(s,r,i):l=HN({},s),!!l){var u=l,c=u.subMenu;c&&c instanceof Array&&(u.subMenu=o.mapWithStockItems(c,r,i)),l!=null&&a.push(l)}}),a},t.prototype.getStockMenuItem=function(e,r,i){var o=this,a,s=this.localeService.getLocaleTextFunc(),l=this.gridOptionsService.get("skipHeaderOnAutoSize");switch(e){case"pinSubMenu":return{name:s("pinColumn","Pin Column"),icon:F.createIconNoSpan("menuPin",this.gridOptionsService,null),subMenu:["clearPinned","pinLeft","pinRight"]};case"pinLeft":return{name:s("pinLeft","Pin Left"),action:function(){return o.columnModel.setColumnsPinned([r],"left","contextMenu")},checked:!!r&&r.isPinnedLeft()};case"pinRight":return{name:s("pinRight","Pin Right"),action:function(){return o.columnModel.setColumnsPinned([r],"right","contextMenu")},checked:!!r&&r.isPinnedRight()};case"clearPinned":return{name:s("noPin","No Pin"),action:function(){return o.columnModel.setColumnsPinned([r],null,"contextMenu")},checked:!!r&&!r.isPinned()};case"valueAggSubMenu":return ut.__assertRegistered(Te.RowGroupingModule,"Aggregation from Menu",this.context.getGridId())?!(r!=null&&r.isPrimary())&&!(r!=null&&r.getColDef().pivotValueColumn)?null:{name:s("valueAggregation","Value Aggregation"),icon:F.createIconNoSpan("menuValue",this.gridOptionsService,null),subMenu:this.createAggregationSubMenu(r)}:null;case"autoSizeThis":return{name:s("autosizeThiscolumn","Autosize This Column"),action:function(){return o.columnModel.autoSizeColumn(r,"contextMenu",l)}};case"autoSizeAll":return{name:s("autosizeAllColumns","Autosize All Columns"),action:function(){return o.columnModel.autoSizeAllColumns("contextMenu",l)}};case"rowGroup":return{name:s("groupBy","Group by")+" "+F.escapeString(this.columnModel.getDisplayNameForColumn(r,"header")),disabled:(r==null?void 0:r.isRowGroupActive())||!(r!=null&&r.getColDef().enableRowGroup),action:function(){return o.columnModel.addRowGroupColumns([r],"contextMenu")},icon:F.createIconNoSpan("menuAddRowGroup",this.gridOptionsService,null)};case"rowUnGroup":var u=F.createIconNoSpan("menuRemoveRowGroup",this.gridOptionsService,null),c=r==null?void 0:r.getColDef().showRowGroup,d=this.gridOptionsService.get("groupLockGroupColumns");if(c===!0)return{name:s("ungroupAll","Un-Group All"),disabled:d===-1||d>=this.columnModel.getRowGroupColumns().length,action:function(){return o.columnModel.setRowGroupColumns(o.columnModel.getRowGroupColumns().slice(0,d),"contextMenu")},icon:u};if(typeof c=="string"){var p=this.columnModel.getPrimaryColumn(c),h=p!=null?F.escapeString(this.columnModel.getDisplayNameForColumn(p,"header")):c;return{name:s("ungroupBy","Un-Group by")+" "+h,disabled:p!=null&&this.columnModel.isColumnGroupingLocked(p),action:function(){return o.columnModel.removeRowGroupColumns([c],"contextMenu")},icon:u}}return{name:s("ungroupBy","Un-Group by")+" "+F.escapeString(this.columnModel.getDisplayNameForColumn(r,"header")),disabled:!(r!=null&&r.isRowGroupActive())||!(r!=null&&r.getColDef().enableRowGroup)||this.columnModel.isColumnGroupingLocked(r),action:function(){return o.columnModel.removeRowGroupColumns([r],"contextMenu")},icon:u};case"resetColumns":return{name:s("resetColumns","Reset Columns"),action:function(){return o.columnModel.resetColumnState("contextMenu")}};case"expandAll":return{name:s("expandAll","Expand All Row Groups"),action:function(){return o.gridApi.expandAll()}};case"contractAll":return{name:s("collapseAll","Collapse All Row Groups"),action:function(){return o.gridApi.collapseAll()}};case"copy":return ut.__assertRegistered(Te.ClipboardModule,"Copy from Menu",this.context.getGridId())?{name:s("copy","Copy"),shortcut:s("ctrlC","Ctrl+C"),icon:F.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:function(){return o.clipboardService.copyToClipboard()}}:null;case"copyWithHeaders":return ut.__assertRegistered(Te.ClipboardModule,"Copy with Headers from Menu",this.context.getGridId())?{name:s("copyWithHeaders","Copy with Headers"),icon:F.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:function(){return o.clipboardService.copyToClipboard({includeHeaders:!0})}}:null;case"copyWithGroupHeaders":return ut.__assertRegistered(Te.ClipboardModule,"Copy with Group Headers from Menu",this.context.getGridId())?{name:s("copyWithGroupHeaders","Copy with Group Headers"),icon:F.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:function(){return o.clipboardService.copyToClipboard({includeHeaders:!0,includeGroupHeaders:!0})}}:null;case"cut":if(ut.__assertRegistered(Te.ClipboardModule,"Cut from Menu",this.context.getGridId())){var f=this.focusService.getFocusedCell(),v=f?this.rowPositionUtils.getRowNode(f):null,g=v?f==null?void 0:f.column.isCellEditable(v):!1;return{name:s("cut","Cut"),shortcut:s("ctrlX","Ctrl+X"),icon:F.createIconNoSpan("clipboardCut",this.gridOptionsService,null),disabled:!g||this.gridOptionsService.get("suppressCutToClipboard"),action:function(){return o.clipboardService.cutToClipboard(void 0,"contextMenu")}}}else return null;case"paste":return ut.__assertRegistered(Te.ClipboardModule,"Paste from Clipboard",this.context.getGridId())?{name:s("paste","Paste"),shortcut:s("ctrlV","Ctrl+V"),disabled:!0,icon:F.createIconNoSpan("clipboardPaste",this.gridOptionsService,null),action:function(){return o.clipboardService.pasteFromClipboard()}}:null;case"export":var m=[],y=ut.__isRegistered(Te.CsvExportModule,this.context.getGridId()),C=ut.__isRegistered(Te.ExcelExportModule,this.context.getGridId());return!this.gridOptionsService.get("suppressCsvExport")&&y&&m.push("csvExport"),!this.gridOptionsService.get("suppressExcelExport")&&C&&m.push("excelExport"),{name:s("export","Export"),subMenu:m,icon:F.createIconNoSpan("save",this.gridOptionsService,null)};case"csvExport":return{name:s("csvExport","CSV Export"),icon:F.createIconNoSpan("csvExport",this.gridOptionsService,null),action:function(){return o.gridApi.exportDataAsCsv({})}};case"excelExport":return{name:s("excelExport","Excel Export"),icon:F.createIconNoSpan("excelExport",this.gridOptionsService,null),action:function(){return o.gridApi.exportDataAsExcel()}};case"separator":return"separator";case"pivotChart":case"chartRange":return(a=this.chartMenuItemMapper.getChartItems(e))!==null&&a!==void 0?a:null;case"columnFilter":return r?{name:s("columnFilter","Column Filter"),icon:F.createIconNoSpan("filter",this.gridOptionsService,null),action:function(){return o.menuService.showFilterMenu({column:r,buttonElement:i(),containerType:"columnFilter",positionBy:"button"})}}:null;case"columnChooser":return ut.__isRegistered(Te.ColumnsToolPanelModule,this.context.getGridId())?{name:s("columnChooser","Choose Columns"),icon:F.createIconNoSpan("columns",this.gridOptionsService,null),action:function(){return o.menuService.showColumnChooser({column:r,eventSource:i()})}}:null;case"sortAscending":return{name:s("sortAscending","Sort Ascending"),icon:F.createIconNoSpan("sortAscending",this.gridOptionsService,null),action:function(){return o.sortController.setSortForColumn(r,"asc",!1,"columnMenu")}};case"sortDescending":return{name:s("sortDescending","Sort Descending"),icon:F.createIconNoSpan("sortDescending",this.gridOptionsService,null),action:function(){return o.sortController.setSortForColumn(r,"desc",!1,"columnMenu")}};case"sortUnSort":return{name:s("sortUnSort","Clear Sort"),icon:F.createIconNoSpan("sortUnSort",this.gridOptionsService,null),action:function(){return o.sortController.setSortForColumn(r,null,!1,"columnMenu")}};default:return console.warn("AG Grid: unknown menu item type ".concat(e)),null}},t.prototype.createAggregationSubMenu=function(e){var r=this,i=this.localeService.getLocaleTextFunc(),o;if(e.isPrimary())o=e;else{var a=e.getColDef().pivotValueColumn;o=F.exists(a)?a:void 0}var s=[];if(o){var l=o.isValueActive(),u=this.aggFuncService.getFuncNames(o);s.push({name:i("noAggregation","None"),action:function(){r.columnModel.removeValueColumns([o],"contextMenu"),r.columnModel.setColumnAggFunc(o,void 0,"contextMenu")},checked:!l}),u.forEach(function(c){s.push({name:i(c,r.aggFuncService.getDefaultFuncLabel(c)),action:function(){r.columnModel.setColumnAggFunc(o,c,"contextMenu"),r.columnModel.addValueColumns([o],"contextMenu")},checked:l&&o.getAggFunc()===c})})}return s},uu([O("columnModel")],t.prototype,"columnModel",void 0),uu([O("gridApi")],t.prototype,"gridApi",void 0),uu([xt("clipboardService")],t.prototype,"clipboardService",void 0),uu([xt("aggFuncService")],t.prototype,"aggFuncService",void 0),uu([O("focusService")],t.prototype,"focusService",void 0),uu([O("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),uu([O("chartMenuItemMapper")],t.prototype,"chartMenuItemMapper",void 0),uu([O("menuService")],t.prototype,"menuService",void 0),uu([O("sortController")],t.prototype,"sortController",void 0),t=uu([me("menuItemMapper")],t),t}(re),LJe="31.1.1",FJe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),nm=function(){return nm=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},nm.apply(this,arguments)},hK=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},IJe=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},NJe=function(n){FJe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}e=t,t.prototype.getChartItems=function(r){var i,o;if(!this.chartService){ut.__assertRegistered(Te.GridChartsModule,'the Context Menu key "'.concat(r,'"'),this.context.getGridId());return}var a=r==="pivotChart"?new kJe(this.gridOptionsService,this.chartService,this.localeService):new GJe(this.gridOptionsService,this.chartService,this.localeService),s=this.chartService.isEnterprise(),l=a.getMenuItem();if(l&&l.subMenu&&!s){var u=function(d){var p;return nm(nm({},d),{subMenu:(p=d.subMenu)===null||p===void 0?void 0:p.filter(function(h){return!h._enterprise}).map(function(h){return u(h)})})};l=u(l)}var c=(o=(i=this.gridOptionsService.get("chartToolPanelsDef"))===null||i===void 0?void 0:i.settingsPanel)===null||o===void 0?void 0:o.chartGroupsDef;return c&&(l=e.filterAndOrderChartMenu(l,c,a.getConfigLookup())),this.cleanInternals(l)},t.prototype.cleanInternals=function(r){if(!r)return r;var i=function(o){var a;return o==null||delete o._key,o==null||delete o._enterprise,(a=o==null?void 0:o.subMenu)===null||a===void 0||a.forEach(function(s){return i(s)}),o};return i(r)},t.buildLookup=function(r){var i={},o=function(a){i[a._key]=a,a.subMenu&&a.subMenu.forEach(function(s){return o(s)})};return o(r),i},t.filterAndOrderChartMenu=function(r,i,o){var a,s=this.buildLookup(r),l=nm(nm({},r),{subMenu:[]});if(Object.entries(i).forEach(function(u){var c,d,p=IJe(u,2),h=p[0],f=p[1],v=o[h];if(v!==null){if(v==null){F.warnOnce("invalid chartGroupsDef config '".concat(h,"'"));return}var g=s[v._key];if(g)if(g.subMenu){var m=f.map(function(y){var C=v[y];if(C==null){F.warnOnce("invalid chartGroupsDef config '".concat(h,".").concat(y,"'"));return}return s[C]}).filter(function(y){return y!==void 0});m.length>0&&(g.subMenu=m,(c=l.subMenu)===null||c===void 0||c.push(g))}else(d=l.subMenu)===null||d===void 0||d.push(g)}}),((a=l.subMenu)===null||a===void 0?void 0:a.length)!=0)return l};var e;return hK([xt("chartService")],t.prototype,"chartService",void 0),t=e=hK([me("chartMenuItemMapper")],t),t}(re),kJe=function(){function n(t,e,r){this.gridOptionsService=t,this.chartService=e,this.localeService=r}return n.prototype.getMenuItem=function(){var t=this,e=this.localeService.getLocaleTextFunc(),r=function(i,o,a,s,l){return l===void 0&&(l=!1),{name:e(i,o),action:function(){return t.chartService.createPivotChart({chartType:a})},_key:s,_enterprise:l}};return{name:e("pivotChart","Pivot Chart"),_key:"pivotChart",subMenu:[{_key:"pivotColumnChart",name:e("columnChart","Column"),subMenu:[r("groupedColumn","Grouped&lrm;","groupedColumn","pivotGroupedColumn"),r("stackedColumn","Stacked&lrm;","stackedColumn","pivotStackedColumn"),r("normalizedColumn","100% Stacked&lrm;","normalizedColumn","pivotNormalizedColumn")]},{_key:"pivotBarChart",name:e("barChart","Bar"),subMenu:[r("groupedBar","Grouped&lrm;","groupedBar","pivotGroupedBar"),r("stackedBar","Stacked&lrm;","stackedBar","pivotStackedBar"),r("normalizedBar","100% Stacked&lrm;","normalizedBar","pivotNormalizedBar")]},{_key:"pivotPieChart",name:e("pieChart","Pie"),subMenu:[r("pie","Pie&lrm;","pie","pivotPie"),r("donut","Donut&lrm;","donut","pivotDonut")]},r("line","Line&lrm;","line","pivotLineChart"),{_key:"pivotXYChart",name:e("xyChart","X Y (Scatter)"),subMenu:[r("scatter","Scatter&lrm;","scatter","pivotScatter"),r("bubble","Bubble&lrm;","bubble","pivotBubble")]},{_key:"pivotAreaChart",name:e("areaChart","Area"),subMenu:[r("area","Area&lrm;","area","pivotArea"),r("stackedArea","Stacked&lrm;","stackedArea","pivotStackedArea"),r("normalizedArea","100% Stacked&lrm;","normalizedArea","pivotNormalizedArea")]},{_key:"pivotStatisticalChart",_enterprise:!1,name:e("statisticalChart","Statistical"),subMenu:[r("histogramChart","Histogram&lrm;","histogram","pivotHistogram",!1)]},{_key:"pivotHierarchicalChart",_enterprise:!0,name:e("hierarchicalChart","Hierarchical"),subMenu:[r("treemapChart","Treemap&lrm;","treemap","pivotTreemap",!0),r("sunburstChart","Sunburst&lrm;","sunburst","pivotSunburst",!0)]},{_key:"pivotCombinationChart",name:e("combinationChart","Combination"),subMenu:[r("columnLineCombo","Column & Line&lrm;","columnLineCombo","pivotColumnLineCombo"),r("AreaColumnCombo","Area & Column&lrm;","areaColumnCombo","pivotAreaColumnCombo")]}],icon:F.createIconNoSpan("chart",this.gridOptionsService,void 0)}},n.prototype.getConfigLookup=function(){return{columnGroup:{_key:"pivotColumnChart",column:"pivotGroupedColumn",stackedColumn:"pivotStackedColumn",normalizedColumn:"pivotNormalizedColumn"},barGroup:{_key:"pivotBarChart",bar:"pivotGroupedBar",stackedBar:"pivotStackedBar",normalizedBar:"pivotNormalizedBar"},pieGroup:{_key:"pivotPieChart",pie:"pivotPie",donut:"pivotDonut",doughnut:"pivotDonut"},lineGroup:{_key:"pivotLineChart",line:"pivotLineChart"},scatterGroup:{_key:"pivotXYChart",bubble:"pivotBubble",scatter:"pivotScatter"},areaGroup:{_key:"pivotAreaChart",area:"pivotArea",stackedArea:"pivotStackedArea",normalizedArea:"pivotNormalizedArea"},combinationGroup:{_key:"pivotCombinationChart",columnLineCombo:"pivotColumnLineCombo",areaColumnCombo:"pivotAreaColumnCombo",customCombo:null},hierarchicalGroup:{_key:"pivotHierarchicalChart",treemap:"pivotTreemap",sunburst:"pivotSunburst"},statisticalGroup:{_key:"pivotStatisticalChart",histogram:"pivotHistogram",rangeBar:null,rangeArea:null,boxPlot:null},polarGroup:null,specializedGroup:null}},n}(),GJe=function(){function n(t,e,r){this.gridOptionsService=t,this.chartService=e,this.localeService=r}return n.prototype.getMenuItem=function(){var t=this,e=this.localeService.getLocaleTextFunc(),r=function(i,o,a,s,l){return l===void 0&&(l=!1),{name:e(i,o),action:function(){return t.chartService.createChartFromCurrentRange(a)},_key:s,_enterprise:l}};return{name:e("chartRange","Chart Range"),_key:"chartRange",subMenu:[{name:e("columnChart","Column"),subMenu:[r("groupedColumn","Grouped&lrm;","groupedColumn","rangeGroupedColumn"),r("stackedColumn","Stacked&lrm;","stackedColumn","rangeStackedColumn"),r("normalizedColumn","100% Stacked&lrm;","normalizedColumn","rangeNormalizedColumn")],_key:"rangeColumnChart"},{name:e("barChart","Bar"),subMenu:[r("groupedBar","Grouped&lrm;","groupedBar","rangeGroupedBar"),r("stackedBar","Stacked&lrm;","stackedBar","rangeStackedBar"),r("normalizedBar","100% Stacked&lrm;","normalizedBar","rangeNormalizedBar")],_key:"rangeBarChart"},{name:e("pieChart","Pie"),subMenu:[r("pie","Pie&lrm;","pie","rangePie"),r("donut","Donut&lrm;","donut","rangeDonut")],_key:"rangePieChart"},r("line","Line&lrm;","line","rangeLineChart"),{name:e("xyChart","X Y (Scatter)"),subMenu:[r("scatter","Scatter&lrm;","scatter","rangeScatter"),r("bubble","Bubble&lrm;","bubble","rangeBubble")],_key:"rangeXYChart"},{name:e("areaChart","Area"),subMenu:[r("area","Area&lrm;","area","rangeArea"),r("stackedArea","Stacked&lrm;","stackedArea","rangeStackedArea"),r("normalizedArea","100% Stacked&lrm;","normalizedArea","rangeNormalizedArea")],_key:"rangeAreaChart"},{name:e("polarChart","Polar"),subMenu:[r("radarLine","Radar Line&lrm;","radarLine","rangeRadarLine"),r("radarArea","Radar Area&lrm;","radarArea","rangeRadarArea"),r("nightingale","Nightingale&lrm;","nightingale","rangeNightingale"),r("radialColumn","Radial Column&lrm;","radialColumn","rangeRadialColumn"),r("radialBar","Radial Bar&lrm;","radialBar","rangeRadialBar")],_key:"rangePolarChart",_enterprise:!0},{name:e("statisticalChart","Statistical"),subMenu:[r("boxPlot","Box Plot&lrm;","boxPlot","rangeBoxPlot",!0),r("histogramChart","Histogram&lrm;","histogram","rangeHistogram",!1),r("rangeBar","Range Bar&lrm;","rangeBar","rangeRangeBar",!0),r("rangeArea","Range Area&lrm;","rangeArea","rangeRangeArea",!0)],_key:"rangeStatisticalChart",_enterprise:!1},{name:e("hierarchicalChart","Hierarchical"),subMenu:[r("treemap","Treemap&lrm;","treemap","rangeTreemap"),r("sunburst","Sunburst&lrm;","sunburst","rangeSunburst")],_key:"rangeHierarchicalChart",_enterprise:!0},{name:e("specializedChart","Specialized"),subMenu:[r("heatmap","Heatmap&lrm;","heatmap","rangeHeatmap"),r("waterfall","Waterfall&lrm;","waterfall","rangeWaterfall")],_key:"rangeSpecializedChart",_enterprise:!0},{name:e("combinationChart","Combination"),subMenu:[r("columnLineCombo","Column & Line&lrm;","columnLineCombo","rangeColumnLineCombo"),r("AreaColumnCombo","Area & Column&lrm;","areaColumnCombo","rangeAreaColumnCombo")],_key:"rangeCombinationChart"}],icon:F.createIconNoSpan("chart",this.gridOptionsService,void 0)}},n.prototype.getConfigLookup=function(){return{columnGroup:{_key:"rangeColumnChart",column:"rangeGroupedColumn",stackedColumn:"rangeStackedColumn",normalizedColumn:"rangeNormalizedColumn"},barGroup:{_key:"rangeBarChart",bar:"rangeGroupedBar",stackedBar:"rangeStackedBar",normalizedBar:"rangeNormalizedBar"},pieGroup:{_key:"rangePieChart",pie:"rangePie",donut:"rangeDonut",doughnut:"rangeDonut"},lineGroup:{_key:"rangeLineChart",line:"rangeLineChart"},scatterGroup:{_key:"rangeXYChart",bubble:"rangeBubble",scatter:"rangeScatter"},areaGroup:{_key:"rangeAreaChart",area:"rangeArea",stackedArea:"rangeStackedArea",normalizedArea:"rangeNormalizedArea"},polarGroup:{_key:"rangePolarChart",radarLine:"rangeRadarLine",radarArea:"rangeRadarArea",nightingale:"rangeNightingale",radialColumn:"rangeRadialColumn",radialBar:"rangeRadialBar"},statisticalGroup:{_key:"rangeStatisticalChart",boxPlot:"rangeBoxPlot",histogram:"rangeHistogram",rangeBar:"rangeRangeBar",rangeArea:"rangeRangeArea"},hierarchicalGroup:{_key:"rangeHierarchicalChart",treemap:"rangeTreemap",sunburst:"rangeSunburst"},specializedGroup:{_key:"rangeSpecializedChart",heatmap:"rangeHeatmap",waterfall:"rangeWaterfall"},combinationGroup:{_key:"rangeCombinationChart",columnLineCombo:"rangeColumnLineCombo",areaColumnCombo:"rangeAreaColumnCombo",customCombo:null}}},n}(),VJe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sE=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},BJe=function(n){VJe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.createColumnSelectPanel=function(e,r,i,o){var a,s,l=e.createManagedBean(new yj),u=(s=(a=o??(r==null?void 0:r.getColDef().columnChooserParams))!==null&&a!==void 0?a:r==null?void 0:r.getColDef().columnsMenuParams)!==null&&s!==void 0?s:{},c=u.contractColumnSelection,d=u.suppressColumnExpandAll,p=u.suppressColumnFilter,h=u.suppressColumnSelectAll,f=u.suppressSyncLayoutWithGrid,v=u.columnLayout;return l.init(!!i,this.gridOptionsService.addGridCommonParams({suppressColumnMove:!1,suppressValues:!1,suppressPivots:!1,suppressRowGroups:!1,suppressPivotMode:!1,contractColumnSelection:!!c,suppressColumnExpandAll:!!d,suppressColumnFilter:!!p,suppressColumnSelectAll:!!h,suppressSyncLayoutWithGrid:!!v||!!f,onStateUpdated:function(){}}),"columnMenu"),v&&l.setColumnLayout(v),l},t.prototype.showColumnChooser=function(e){var r=this,i=e.column,o=e.chooserParams,a=e.eventSource;this.hideActiveColumnChooser();var s=this.createColumnSelectPanel(this,i,!0,o),l=this.localeService.getLocaleTextFunc(),u=this.columnModel.getAllDisplayedColumns().indexOf(i),c=i?this.focusService.getFocusedHeader():null;this.activeColumnChooserDialog=this.createBean(new fv({title:l("chooseColumns","Choose Columns"),component:s,width:300,height:300,resizable:!0,movable:!0,centered:!0,closable:!0,afterGuiAttached:function(){var d;(d=r.focusService.findNextFocusableElement(s.getGui()))===null||d===void 0||d.focus(),r.dispatchVisibleChangedEvent(!0,i)},closedCallback:function(d){var p=r.activeColumnChooser.getGui();r.destroyBean(r.activeColumnChooser),r.activeColumnChooser=void 0,r.activeColumnChooserDialog=void 0,r.dispatchVisibleChangedEvent(!1,i),i&&r.menuUtils.restoreFocusOnClose({column:i,headerPosition:c,columnIndex:u,eventSource:a},p,d,!0)}})),this.activeColumnChooser=s},t.prototype.hideActiveColumnChooser=function(){this.activeColumnChooserDialog&&this.destroyBean(this.activeColumnChooserDialog)},t.prototype.dispatchVisibleChangedEvent=function(e,r){var i={type:M.EVENT_COLUMN_MENU_VISIBLE_CHANGED,visible:e,switchingTab:!1,key:"columnChooser",column:r??null};this.eventService.dispatchEvent(i)},sE([O("focusService")],t.prototype,"focusService",void 0),sE([O("menuUtils")],t.prototype,"menuUtils",void 0),sE([O("columnModel")],t.prototype,"columnModel",void 0),t=sE([me("columnChooserFactory")],t),t}(re),jJe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),vg=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},HJe=function(n){jJe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}e=t,t.prototype.createMenu=function(r,i,o){var a=r.createManagedBean(new R_(0,{column:i??null,node:null,value:null})),s=this.getMenuItems(i),l=this.menuItemMapper.mapWithStockItems(s,i??null,o);return a.addMenuItems(l),a},t.prototype.getMenuItems=function(r){var i=this.getDefaultMenuOptions(r),o,a=r==null?void 0:r.getColDef().mainMenuItems;if(Array.isArray(a))o=a;else if(typeof a=="function")o=a(this.gridOptionsService.addGridCommonParams({column:r,defaultItems:i}));else{var s=this.gridOptionsService.getCallback("getMainMenuItems");s&&r?o=s({column:r,defaultItems:i}):o=i}return F.removeRepeatsFromArray(o,e.MENU_ITEM_SEPARATOR),o},t.prototype.getDefaultMenuOptions=function(r){var i=[],o=this.menuService.isLegacyMenuEnabled();if(!r)return o||i.push("columnChooser"),i.push("resetColumns"),i;var a=!r.getColDef().lockPinned,s=this.columnModel.getRowGroupColumns().length,l=s>0,u=r.isAllowValue(),c=r.isAllowRowGroup(),d=r.isPrimary(),p=this.columnModel.isPivotMode(),h=this.rowModel.getType()==="clientSide",f=this.gridOptionsService.get("treeData"),v=d&&l&&u||!d;if(!o&&r.isSortable()){var g=r.getSort();g!=="asc"&&i.push("sortAscending"),g!=="desc"&&i.push("sortDescending"),g&&i.push("sortUnSort"),i.push(e.MENU_ITEM_SEPARATOR)}this.menuService.isFilterMenuItemEnabled(r)&&(i.push("columnFilter"),i.push(e.MENU_ITEM_SEPARATOR)),a&&i.push("pinSubMenu"),v&&i.push("valueAggSubMenu"),(a||v)&&i.push(e.MENU_ITEM_SEPARATOR),i.push("autoSizeThis"),i.push("autoSizeAll"),i.push(e.MENU_ITEM_SEPARATOR);var m=r.getColDef().showRowGroup;if(m)i.push("rowUnGroup");else if(c&&r.isPrimary())if(r.isRowGroupActive()){var y=this.columnModel.isColumnGroupingLocked(r);y||i.push("rowUnGroup")}else i.push("rowGroup");i.push(e.MENU_ITEM_SEPARATOR),o||i.push("columnChooser"),i.push("resetColumns");var C=h&&(f||s>(p?1:0));return C&&(i.push("expandAll"),i.push("contractAll")),i};var e;return t.MENU_ITEM_SEPARATOR="separator",vg([O("menuItemMapper")],t.prototype,"menuItemMapper",void 0),vg([O("columnModel")],t.prototype,"columnModel",void 0),vg([O("rowModel")],t.prototype,"rowModel",void 0),vg([O("filterManager")],t.prototype,"filterManager",void 0),vg([O("menuService")],t.prototype,"menuService",void 0),t=e=vg([me("columnMenuFactory")],t),t}(re),$Je=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),lE=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},WJe=function(n){$Je(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.restoreFocusOnClose=function(e,r,i,o){var a=e.eventSource,s=i instanceof KeyboardEvent;if(!(!o&&!s||!a)){var l=this.gridOptionsService.getDocument();!r.contains(l.activeElement)&&l.activeElement!==l.body||this.focusHeaderCell(e)}},t.prototype.closePopupAndRestoreFocusOnSelect=function(e,r,i){var o;i&&i.event&&i.event instanceof KeyboardEvent&&(o=i.event),e(o&&{keyboardEvent:o});var a=this.focusService.getFocusedCell(),s=this.gridOptionsService.getDocument();if(s.activeElement===s.body)if(a){var l=a.rowIndex,u=a.rowPinned,c=a.column;this.focusService.setFocusedCell({rowIndex:l,column:c,rowPinned:u,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}else this.focusHeaderCell(r)},t.prototype.onContextMenu=function(e,r,i){if(!(!this.gridOptionsService.get("allowContextMenuWithControlKey")&&e&&(e.ctrlKey||e.metaKey))&&(e&&this.blockMiddleClickScrollsIfNeeded(e),!this.gridOptionsService.get("suppressContextMenu"))){var o=e??r.touches[0];if(i(o)){var a=e??r;a.preventDefault()}}},t.prototype.focusHeaderCell=function(e){var r=e.column,i=e.columnIndex,o=e.headerPosition,a=e.eventSource,s=this.columnModel.getAllDisplayedColumns().some(function(d){return d===r});if(s&&a&&F.isVisible(a)){var l=this.focusService.findTabbableParent(a);l&&(r&&this.headerNavigationService.scrollToColumn(r),l.focus())}else if(o&&i!==-1){var u=this.columnModel.getAllDisplayedColumns(),c=u[i]||F.last(u);c&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:o.headerRowIndex,column:c}})}},t.prototype.blockMiddleClickScrollsIfNeeded=function(e){var r=this.gridOptionsService,i=e.which;r.get("suppressMiddleClickScrolls")&&i===2&&e.preventDefault()},lE([O("focusService")],t.prototype,"focusService",void 0),lE([O("headerNavigationService")],t.prototype,"headerNavigationService",void 0),lE([O("columnModel")],t.prototype,"columnModel",void 0),t=lE([me("menuUtils")],t),t}(re),UJe={version:LJe,moduleName:Te.MenuModule,beans:[OJe,PJe,MJe,NJe,BJe,HJe,WJe],dependantModules:[Pi]},zJe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),im=function(){return im=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},im.apply(this,arguments)},cF=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},$N=function(n){zJe(t,n);function t(){var e=n.call(this,'<div class="ag-multi-filter ag-menu-list-compact"></div>')||this;return e.filterDefs=[],e.filters=[],e.guiDestroyFuncs=[],e.filterGuis=[],e.activeFilterIndices=[],e.lastActivatedMenuItem=null,e.afterFiltersReadyFuncs=[],e}return t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onFocusIn:function(r){return e.onFocusIn(r)}})},t.getFilterDefs=function(e){var r=e.filters;return r&&r.length>0?r:[{filter:"agTextColumnFilter"},{filter:"agSetColumnFilter"}]},t.prototype.init=function(e){var r=this;this.params=e,this.filterDefs=t.getFilterDefs(e);var i=e.column,o=e.filterChangedCallback;this.column=i,this.filterChangedCallback=o;var a=[];return this.filterDefs.forEach(function(s,l){var u=r.createFilter(s,l);u!=null&&a.push(u)}),new Ot(function(s){Ot.all(a).then(function(l){r.filters=l,r.refreshGui("columnMenu").then(function(){s()})})}).then(function(){r.afterFiltersReadyFuncs.forEach(function(s){return s()}),r.afterFiltersReadyFuncs.length=0})},t.prototype.refreshGui=function(e){var r=this;return e===this.lastOpenedInContainer?Ot.resolve():(this.removeAllChildrenExceptTabGuards(),this.destroyChildren(),Ot.all(this.filters.map(function(i,o){var a=r.filterDefs[o],s=r.getFilterTitle(i,a),l;if(a.display==="subMenu"&&e!=="toolPanel")l=r.insertFilterMenu(i,s).then(function(c){return c.getGui()});else if(a.display==="subMenu"||a.display==="accordion"){var u=r.insertFilterGroup(i,s);l=Ot.resolve(u.getGui())}else l=Ot.resolve(i.getGui());return l})).then(function(i){i.forEach(function(o,a){a>0&&r.appendChild(F.loadTemplate('<div class="ag-filter-separator"></div>')),r.appendChild(o)}),r.filterGuis=i,r.lastOpenedInContainer=e}))},t.prototype.getFilterTitle=function(e,r){return r.title!=null?r.title:e instanceof Xp?e.getFilterTitle():"Filter"},t.prototype.destroyChildren=function(){this.guiDestroyFuncs.forEach(function(e){return e()}),this.guiDestroyFuncs.length=0,this.filterGuis.length=0},t.prototype.insertFilterMenu=function(e,r){var i=this,o=this.createBean(new Fs);return o.init({menuItemDef:{name:r,subMenu:[],cssClasses:["ag-multi-filter-menu-item"],menuItem:cB,menuItemParams:{cssClassPrefix:"ag-compact-menu-option",isCompact:!0}},level:0,isAnotherSubMenuOpen:function(){return!1},childComponent:e,contextParams:{column:null,node:null,value:null}}).then(function(){o.setParentComponent(i),i.guiDestroyFuncs.push(function(){return i.destroyBean(o)}),i.addManagedListener(o,Fs.EVENT_MENU_ITEM_ACTIVATED,function(s){i.lastActivatedMenuItem&&i.lastActivatedMenuItem!==s.menuItem&&i.lastActivatedMenuItem.deactivate(),i.lastActivatedMenuItem=s.menuItem});var a=o.getGui();return o.addManagedListener(a,"keydown",function(s){var l=s.key;switch(l){case K.UP:case K.RIGHT:case K.DOWN:case K.LEFT:s.preventDefault(),l===K.RIGHT&&o.openSubMenu(!0);break}}),o.addManagedListener(a,"focusin",function(){return o.activate()}),o.addManagedListener(a,"focusout",function(){!o.isSubMenuOpen()&&!o.isSubMenuOpening()&&o.deactivate()}),o})},t.prototype.insertFilterGroup=function(e,r){var i=this,o=this.createBean(new Ls({title:r,cssIdentifier:"multi-filter"}));return this.guiDestroyFuncs.push(function(){return i.destroyBean(o)}),o.addItem(e.getGui()),o.toggleGroupExpand(!1),e.afterGuiAttached&&o.addManagedListener(o,Ls.EVENT_EXPANDED,function(){return e.afterGuiAttached({container:i.lastOpenedInContainer,suppressFocus:!0,hidePopup:i.hidePopup})}),o},t.prototype.isFilterActive=function(){return this.filters.some(function(e){return e.isFilterActive()})},t.prototype.getLastActiveFilterIndex=function(){return this.activeFilterIndices.length>0?this.activeFilterIndices[this.activeFilterIndices.length-1]:null},t.prototype.doesFilterPass=function(e,r){var i=!0;return this.filters.forEach(function(o){!i||o===r||!o.isFilterActive()||(i=o.doesFilterPass(e))}),i},t.prototype.getFilterType=function(){return"multi"},t.prototype.getModelFromUi=function(){var e={filterType:this.getFilterType(),filterModels:this.filters.map(function(r){var i=r;return typeof i.getModelFromUi=="function"?i.getModelFromUi():null})};return e},t.prototype.getModel=function(){if(!this.isFilterActive())return null;var e={filterType:this.getFilterType(),filterModels:this.filters.map(function(r){return r.isFilterActive()?r.getModel():null})};return e},t.prototype.setModel=function(e){var r=this,i=function(a,s){return new Ot(function(l){var u=a.setModel(s);u?u.then(function(){return l()}):l()})},o=[];return e==null?o=this.filters.map(function(a,s){var l=i(a,null).then(function(){r.updateActiveList(s)});return l}):this.filters.forEach(function(a,s){var l=e.filterModels.length>s?e.filterModels[s]:null,u=i(a,l).then(function(){r.updateActiveList(s)});o.push(u)}),Ot.all(o).then(function(){})},t.prototype.applyModel=function(e){e===void 0&&(e="api");var r=!1;return this.filters.forEach(function(i){i instanceof Xp&&(r=i.applyModel(e)||r)}),r},t.prototype.getChildFilterInstance=function(e){return this.filters[e]},t.prototype.afterGuiAttached=function(e){var r=this,i;e?(this.hidePopup=e.hidePopup,i=this.refreshGui(e.container)):(this.hidePopup=void 0,i=Ot.resolve()),i.then(function(){var o=r.filterDefs,a=!1;o&&F.forEachReverse(o,function(u,c){var d,p=c===0,h=!p||u.display!=="inline",f=im(im({},e??{}),{suppressFocus:h}),v=(d=r.filters)===null||d===void 0?void 0:d[c];if(v&&(r.executeFunctionIfExistsOnFilter(v,"afterGuiAttached",f),p&&(a=!0)),p&&h){var g=r.filterGuis[c];g&&(g.focus(),a=!0)}});var s=r.gridOptionsService.getDocument(),l=s.activeElement;!a&&(l===s.body||r.getGui().contains(l))&&r.forceFocusOutOfContainer(!0)})},t.prototype.afterGuiDetached=function(){this.executeFunctionIfExists("afterGuiDetached")},t.prototype.onAnyFilterChanged=function(){this.executeFunctionIfExists("onAnyFilterChanged")},t.prototype.onNewRowsLoaded=function(){this.executeFunctionIfExists("onNewRowsLoaded")},t.prototype.destroy=function(){var e=this;this.filters.forEach(function(r){r.setModel(null),e.destroyBean(r)}),this.filters.length=0,this.destroyChildren(),this.hidePopup=void 0,n.prototype.destroy.call(this)},t.prototype.executeFunctionIfExists=function(e){for(var r=this,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];F.forEachReverse(this.filters,function(a){r.executeFunctionIfExistsOnFilter(a,e,i)})},t.prototype.executeFunctionIfExistsOnFilter=function(e,r){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=e[r];typeof a=="function"&&a.apply(e,i)},t.prototype.createFilter=function(e,r){var i=this,o=this.params,a=o.filterModifiedCallback,s=o.doesRowPassOtherFilter,l,u=im(im({},this.filterManager.createFilterParams(this.column,this.column.getColDef())),{filterModifiedCallback:a,filterChangedCallback:function(p){i.executeWhenAllFiltersReady(function(){return i.filterChanged(r,p)})},doesRowPassOtherFilter:function(p){return s(p)&&i.doesFilterPass({node:p,data:p.data},l)}}),c=this.userComponentFactory.getFilterDetails(e,u,"agTextColumnFilter");if(!c)return null;var d=c.newAgStackInstance();return d&&d.then(function(p){return l=p}),d},t.prototype.executeWhenAllFiltersReady=function(e){this.filters&&this.filters.length>0?e():this.afterFiltersReadyFuncs.push(e)},t.prototype.updateActiveList=function(e){var r=this.filters[e];F.removeFromArray(this.activeFilterIndices,e),r.isFilterActive()&&this.activeFilterIndices.push(e)},t.prototype.filterChanged=function(e,r){this.updateActiveList(e),this.filterChangedCallback(r);var i=this.filters[e];this.filters.forEach(function(o){o!==i&&typeof o.onAnyFilterChanged=="function"&&o.onAnyFilterChanged()})},t.prototype.onFocusIn=function(e){this.lastActivatedMenuItem!=null&&!this.lastActivatedMenuItem.getGui().contains(e.target)&&(this.lastActivatedMenuItem.deactivate(),this.lastActivatedMenuItem=null)},t.prototype.getModelAsString=function(e){var r,i,o,a;if(!this.filters||!(!((r=e==null?void 0:e.filterModels)===null||r===void 0)&&r.length))return"";var s=(i=this.getLastActiveFilterIndex())!==null&&i!==void 0?i:0,l=this.filters[s];return(a=(o=l.getModelAsString)===null||o===void 0?void 0:o.call(l,e.filterModels[s]))!==null&&a!==void 0?a:""},cF([O("filterManager")],t.prototype,"filterManager",void 0),cF([O("userComponentFactory")],t.prototype,"userComponentFactory",void 0),cF([q],t.prototype,"postConstruct",null),t}(md),KJe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),PT=function(){return PT=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},PT.apply(this,arguments)},fK=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},YJe=function(n){KJe(t,n);function t(){var e=n.call(this,'<div class="ag-multi-floating-filter ag-floating-filter-input"></div>')||this;return e.floatingFilters=[],e.compDetailsList=[],e}return t.prototype.init=function(e){this.params=e;var r=this.getCompDetailsList(e).compDetailsList;return this.setParams(r)},t.prototype.setParams=function(e){var r=this,i=[];return e.forEach(function(o){var a=o==null?void 0:o.newAgStackInstance();a!=null&&(r.compDetailsList.push(o),i.push(a))}),Ot.all(i).then(function(o){o.forEach(function(a,s){r.floatingFilters.push(a);var l=a.getGui();r.appendChild(l),s>0&&F.setDisplayed(l,!1)})})},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){var r=this;this.params=e;var i=this.getCompDetailsList(e),o=i.compDetailsList,a=i.floatingFilterParamsList,s=o.length===this.compDetailsList.length&&o.every(function(l,u){return!r.filterManager.areFilterCompsDifferent(r.compDetailsList[u],l)});s?a.forEach(function(l,u){var c,d=r.floatingFilters[u],p=!1;if(d.refresh){var h=d.refresh(l);h!==null&&(p=!0)}p||(c=d.onParamsUpdated)===null||c===void 0||c.call(d,l)}):(F.clearElement(this.getGui()),this.destroyBeans(this.floatingFilters),this.floatingFilters=[],this.compDetailsList=[],this.setParams(o))},t.prototype.getCompDetailsList=function(e){var r=this,i=[],o=[],a=e.filterParams;return $N.getFilterDefs(a).forEach(function(s,l){var u=PT(PT({},e),{parentFilterInstance:function(d){r.parentMultiFilterInstance(function(p){var h=p.getChildFilterInstance(l);h!=null&&d(h)})}});F.mergeDeep(u.filterParams,s.filterParams);var c=r.getCompDetails(s,u);c&&(i.push(c),o.push(u))}),{compDetailsList:i,floatingFilterParamsList:o}},t.prototype.onParentModelChanged=function(e,r){var i=this;r&&r.afterFloatingFilter||this.parentMultiFilterInstance(function(o){if(e==null)i.floatingFilters.forEach(function(s,l){s.onParentModelChanged(null,r),F.setDisplayed(s.getGui(),l===0)});else{var a=o.getLastActiveFilterIndex();i.floatingFilters.forEach(function(s,l){var u=e.filterModels.length>l?e.filterModels[l]:null;s.onParentModelChanged(u,r);var c=a==null?l===0:l===a;F.setDisplayed(s.getGui(),c)})}})},t.prototype.destroy=function(){this.destroyBeans(this.floatingFilters),this.floatingFilters.length=0,n.prototype.destroy.call(this)},t.prototype.getCompDetails=function(e,r){var i=this,o,a=(o=this.userComponentFactory.getDefaultFloatingFilterType(e,function(){return i.filterManager.getDefaultFloatingFilter(i.params.column)}))!==null&&o!==void 0?o:"agReadOnlyFloatingFilter";return this.userComponentFactory.getFloatingFilterCompDetails(e,r,a)},t.prototype.parentMultiFilterInstance=function(e){this.params.parentFilterInstance(function(r){if(!(r instanceof $N))throw new Error("AG Grid - MultiFloatingFilterComp expects MultiFilter as its parent");e(r)})},fK([O("userComponentFactory")],t.prototype,"userComponentFactory",void 0),fK([O("filterManager")],t.prototype,"filterManager",void 0),t}(Ce),qJe="31.1.1",XJe={version:qJe,moduleName:Te.MultiFilterModule,beans:[],userComponents:[{componentName:"agMultiColumnFilter",componentClass:$N},{componentName:"agMultiColumnFloatingFilter",componentClass:YJe}],dependantModules:[Pi]},ZJe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),vK=function(n){ZJe(t,n);function t(){return n.call(this,'<div class="ag-cell-edit-wrapper"></div>')||this}return t.prototype.init=function(e){var r=this;this.params=e;var i=e.cellStartedEdit,o=e.cellHeight,a=e.values;F.missing(a)&&console.warn("AG Grid: agRichSelectCellEditor requires cellEditorParams.values to be set");var s=this.buildRichSelectParams(),l=s.params,u=s.valuesPromise;this.richSelect=this.createManagedBean(new O_(l)),this.richSelect.addCssClass("ag-cell-editor"),this.appendChild(this.richSelect),u&&u.then(function(c){r.richSelect.setValueList({valueList:c,refresh:!0});var d=r.getSearchStringCallback(c);d&&r.richSelect.setSearchStringCreator(d)}),this.addManagedListener(this.richSelect,M.EVENT_FIELD_PICKER_VALUE_SELECTED,this.onEditorPickerValueSelected.bind(this)),this.addManagedListener(this.richSelect.getGui(),"focusout",this.onEditorFocusOut.bind(this)),this.focusAfterAttached=i,F.exists(o)&&this.richSelect.setRowHeight(o)},t.prototype.onEditorPickerValueSelected=function(e){this.params.stopEditing(!e.fromEnterKey)},t.prototype.onEditorFocusOut=function(e){this.richSelect.getGui().contains(e.relatedTarget)||this.params.stopEditing(!0)},t.prototype.buildRichSelectParams=function(){var e=this.params,r=e.cellRenderer,i=e.value,o=e.values,a=e.formatValue,s=e.searchDebounceDelay,l=e.valueListGap,u=e.valueListMaxHeight,c=e.valueListMaxWidth,d=e.allowTyping,p=e.filterList,h=e.searchType,f=e.highlightMatch,v=e.valuePlaceholder,g=e.eventKey,m={value:i,cellRenderer:r,searchDebounceDelay:s,valueFormatter:a,pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"virtual-list",pickerGap:l,allowTyping:d,filterList:p,searchType:h,highlightMatch:f,maxPickerHeight:u,maxPickerWidth:c,placeholder:v,initialInputValue:(g==null?void 0:g.length)===1?g:void 0},y,C;return typeof o=="function"?y=o(this.params):y=o??[],Array.isArray(y)?(m.valueList=y,m.searchStringCreator=this.getSearchStringCallback(y)):C=y,{params:m,valuesPromise:C}},t.prototype.getSearchStringCallback=function(e){var r=this,i=this.params.colDef;if(!(typeof e[0]!="object"||!i.keyCreator))return function(o){return o.map(function(a){var s=r.gridOptionsService.addGridCommonParams({value:a,colDef:r.params.colDef,column:r.params.column,node:r.params.node,data:r.params.data});return i.keyCreator(s)})}},t.prototype.afterGuiAttached=function(){var e=this,r=this,i=r.focusAfterAttached,o=r.params;setTimeout(function(){if(e.isAlive()){if(i){var a=e.richSelect.getFocusableElement();a.focus();var s=e.params,l=s.allowTyping,u=s.eventKey;l&&(!u||u.length!==1)&&a.select()}e.richSelect.showPicker();var c=o.eventKey;c&&(c==null?void 0:c.length)===1&&e.richSelect.searchTextFromString(c)}})},t.prototype.getValue=function(){return this.richSelect.getValue()},t.prototype.isPopup=function(){return!1},t}(gd),QJe="31.1.1",JJe={version:QJe,moduleName:Te.RichSelectModule,beans:[],userComponents:[{componentName:"agRichSelect",componentClass:vK},{componentName:"agRichSelectCellEditor",componentClass:vK}],dependantModules:[Pi]},eet=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Da=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},WN=function(n){eet(t,n);function t(e,r,i){var o=n.call(this,0)||this;return o.nodeIdSequence=new ji,o.info={},o.ssrmParams=e,o.parentRowNode=i,o.level=i.level+1,o.groupLevel=e.rowGroupCols?o.level<e.rowGroupCols.length:void 0,o.leafGroup=e.rowGroupCols?o.level===e.rowGroupCols.length-1:!1,o}return t.prototype.postConstruct=function(){var e=this;if(this.usingTreeData=this.gridOptionsService.get("treeData"),this.nodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.parentRowNode),!this.usingTreeData&&this.groupLevel){var r=this.ssrmParams.rowGroupCols[this.level];this.groupField=r.field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]}var i=1,o=this.parentRowNode.level===-1,a=this.storeUtils.getServerSideInitialRowCount();o&&a!=null&&(i=a),this.initialiseRowNodes(i),this.rowNodeBlockLoader.addBlock(this),this.addDestroyFunc(function(){return e.rowNodeBlockLoader.removeBlock(e)}),this.postSortFunc=this.gridOptionsService.getCallback("postSortRows"),a!=null&&this.eventService.dispatchEventOnce({type:M.EVENT_ROW_COUNT_READY})},t.prototype.destroyRowNodes=function(){this.blockUtils.destroyRowNodes(this.allRowNodes),this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={}},t.prototype.initialiseRowNodes=function(e,r){r===void 0&&(r=!1),this.destroyRowNodes();for(var i=0;i<e;i++){var o=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});r&&(o.failedLoad=!0),this.allRowNodes.push(o),this.nodesAfterFilter.push(o),this.nodesAfterSort.push(o)}},t.prototype.getBlockStateJson=function(){return{id:this.nodeIdPrefix?this.nodeIdPrefix:"",state:this.getState()}},t.prototype.loadFromDatasource=function(){this.storeUtils.loadFromDatasource({startRow:void 0,endRow:void 0,parentBlock:this,parentNode:this.parentRowNode,storeParams:this.ssrmParams,success:this.success.bind(this,this.getVersion()),fail:this.pageLoadFailed.bind(this,this.getVersion())})},t.prototype.getStartRow=function(){return 0},t.prototype.getEndRow=function(){return this.nodesAfterSort.length},t.prototype.createDataNode=function(e,r){var i=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});r!=null?F.insertIntoArray(this.allRowNodes,i,r):this.allRowNodes.push(i);var o=this.prefixId(this.nodeIdSequence.next());return this.blockUtils.setDataIntoRowNode(i,e,o,void 0),this.nodeManager.addRowNode(i),this.blockUtils.checkOpenByDefault(i),this.allNodesMap[i.id]=i,i},t.prototype.prefixId=function(e){return this.nodeIdPrefix?this.nodeIdPrefix+"-"+e:e.toString()},t.prototype.processServerFail=function(){this.initialiseRowNodes(1,!0),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()},t.prototype.processServerResult=function(e){if(this.isAlive()){var r=e.groupLevelInfo;r&&Object.assign(this.info,r),e.pivotResultFields&&this.serverSideRowModel.generateSecondaryColumns(e.pivotResultFields);var i=this.allRowNodes.length>0?this.allNodesMap:void 0;this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={},e.rowData||F.warnOnce('"params.data" is missing from Server-Side Row Model success() callback. Please use the "data" attribute. If no data is returned, set an empty list.'),this.createOrRecycleNodes(i,e.rowData),i&&this.blockUtils.destroyRowNodes(F.getAllValuesInObject(i)),this.level===0&&this.eventService.dispatchEventOnce({type:M.EVENT_ROW_COUNT_READY}),this.filterAndSortNodes(),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()}},t.prototype.createOrRecycleNodes=function(e,r){var i=this;if(r){var o=function(s){if(e){var l=i.gridOptionsService.getCallback("getRowId");if(l){var u=i.parentRowNode.getGroupKeys(),c=i.level,d=l({data:s,parentKeys:u.length>0?u:void 0,level:c}),p=e[d];if(p)return delete e[d],p}}},a=function(s,l){i.allNodesMap[s.id]=s,i.blockUtils.updateDataIntoRowNode(s,l),i.allRowNodes.push(s)};r.forEach(function(s){var l=o(s);l?a(l,s):i.createDataNode(s)})}},t.prototype.flushAsyncTransactions=function(){var e=this;window.setTimeout(function(){return e.transactionManager.flushAsyncTransactions()},0)},t.prototype.filterAndSortNodes=function(){this.filterRowNodes(),this.sortRowNodes()},t.prototype.sortRowNodes=function(){var e=this.storeUtils.isServerSideSortAllLevels()||this.storeUtils.isServerSideSortOnServer(),r=this.sortController.getSortOptions(),i=!r||r.length==0;if(e||i){this.nodesAfterSort=this.nodesAfterFilter;return}if(this.nodesAfterSort=this.rowNodeSorter.doFullSort(this.nodesAfterFilter,r),this.postSortFunc){var o={nodes:this.nodesAfterSort};this.postSortFunc(o)}},t.prototype.filterRowNodes=function(){var e=this,r=!this.storeUtils.isServerSideOnlyRefreshFilteredGroups()||this.storeUtils.isServerSideFilterOnServer(),i=this.groupLevel;if(r||i){this.nodesAfterFilter=this.allRowNodes;return}this.nodesAfterFilter=this.allRowNodes.filter(function(o){return e.filterManager.doesRowPassFilter({rowNode:o})})},t.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.allRowNodes.forEach(function(r){return e.blockUtils.clearDisplayIndex(r)})},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.isDisplayIndexInStore=function(e){return this.getRowCount()===0?!1:e>=this.displayIndexStart&&e<this.displayIndexEnd},t.prototype.setDisplayIndexes=function(e,r){var i=this;this.displayIndexStart=e.peek(),this.topPx=r.value;var o={};this.nodesAfterSort.forEach(function(a){i.blockUtils.setDisplayIndex(a,e,r),o[a.id]=!0}),this.allRowNodes.forEach(function(a){o[a.id]||i.blockUtils.clearDisplayIndex(a)}),this.displayIndexEnd=e.peek(),this.heightPx=r.value-this.topPx},t.prototype.forEachStoreDeep=function(e,r){r===void 0&&(r=new ji),e(this,r.next()),this.allRowNodes.forEach(function(i){var o=i.childStore;o&&o.forEachStoreDeep(e,r)})},t.prototype.forEachNodeDeep=function(e,r){r===void 0&&(r=new ji),this.allRowNodes.forEach(function(i){e(i,r.next());var o=i.childStore;o&&o.forEachNodeDeep(e,r)})},t.prototype.forEachNodeDeepAfterFilterAndSort=function(e,r,i){r===void 0&&(r=new ji),i===void 0&&(i=!1),this.nodesAfterSort.forEach(function(o){e(o,r.next());var a=o.childStore;a&&a.forEachNodeDeepAfterFilterAndSort(e,r,i)}),i&&this.parentRowNode.sibling&&e(this.parentRowNode.sibling,r.next())},t.prototype.getRowUsingDisplayIndex=function(e){if(this.isDisplayIndexInStore(e)){var r=this.blockUtils.binarySearchForDisplayIndex(e,this.nodesAfterSort);return r}},t.prototype.getRowBounds=function(e){for(var r=0;r<this.nodesAfterSort.length;r++){var i=this.nodesAfterSort[r],o=this.blockUtils.extractRowBounds(i,e);if(o)return o}return null},t.prototype.isPixelInRange=function(e){return e>=this.topPx&&e<this.topPx+this.heightPx},t.prototype.getRowIndexAtPixel=function(e){var r=this,i=e<=this.topPx;if(i){var o=this.nodesAfterSort[0];return o.rowIndex}var a=e>=this.topPx+this.heightPx;if(a){var s=this.nodesAfterSort[this.nodesAfterSort.length-1],l=s.rowTop+s.rowHeight;if(e>=l&&s.expanded){if(s.childStore&&s.childStore.getRowCount()>0)return s.childStore.getRowIndexAtPixel(e);if(s.detailNode)return s.detailNode.rowIndex}return s.rowIndex}var u=null;this.nodesAfterSort.forEach(function(d){var p=r.blockUtils.getIndexAtPixel(d,e);p!=null&&(u=p)});var c=u==null;return c?this.displayIndexEnd-1:u},t.prototype.getChildStore=function(e){var r=this;return this.storeUtils.getChildStore(e,this,function(i){var o=r.allRowNodes.find(function(a){return a.key==i});return o})},t.prototype.forEachChildStoreShallow=function(e){this.allRowNodes.forEach(function(r){var i=r.childStore;i&&e(i)})},t.prototype.refreshAfterFilter=function(e){var r=this.storeUtils.isServerSideFilterOnServer(),i=this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e),o=!this.storeUtils.isServerSideOnlyRefreshFilteredGroups();if(o||r&&i){this.refreshStore(!0),this.sortRowNodes();return}this.filterRowNodes(),this.sortRowNodes(),this.forEachChildStoreShallow(function(a){return a.refreshAfterFilter(e)})},t.prototype.refreshAfterSort=function(e){var r=this.storeUtils.isServerSideSortOnServer(),i=this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e),o=this.storeUtils.isServerSideSortAllLevels();if(o||r&&i){this.refreshStore(!0),this.filterRowNodes();return}this.filterRowNodes(),this.sortRowNodes(),this.forEachChildStoreShallow(function(a){return a.refreshAfterSort(e)})},t.prototype.applyTransaction=function(e){switch(this.getState()){case xu.STATE_FAILED:return{status:Vi.StoreLoadingFailed};case xu.STATE_LOADING:return{status:Vi.StoreLoading};case xu.STATE_WAITING_TO_LOAD:return{status:Vi.StoreWaitingToLoad}}var r=this.gridOptionsService.getCallback("isApplyServerSideTransaction");if(r){var i={transaction:e,parentNode:this.parentRowNode,groupLevelInfo:this.info},o=r(i);if(!o)return{status:Vi.Cancelled}}var a={status:Vi.Applied,remove:[],update:[],add:[]},s=[];return this.executeAdd(e,a),this.executeRemove(e,a,s),this.executeUpdate(e,a,s),this.filterAndSortNodes(),this.updateSelection(s),a},t.prototype.updateSelection=function(e){var r=e.length>0;if(r){this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,clearSelection:!1,source:"rowDataChanged"});var i={type:M.EVENT_SELECTION_CHANGED,source:"rowDataChanged"};this.eventService.dispatchEvent(i)}},t.prototype.executeAdd=function(e,r){var i=this,o=e.add,a=e.addIndex;if(!F.missingOrEmpty(o)){var s=typeof a=="number"&&a>=0;s?o.reverse().forEach(function(l){var u=i.createDataNode(l,a);r.add.push(u)}):o.forEach(function(l){var u=i.createDataNode(l);r.add.push(u)})}},t.prototype.executeRemove=function(e,r,i){var o=this,a=e.remove;if(a!=null){var s={};a.forEach(function(l){var u=o.lookupRowNode(l);u&&(u.isSelected()&&i.push(u),u.clearRowTopAndRowIndex(),s[u.id]=!0,delete o.allNodesMap[u.id],r.remove.push(u),o.nodeManager.removeNode(u))}),this.allRowNodes=this.allRowNodes.filter(function(l){return!s[l.id]})}},t.prototype.executeUpdate=function(e,r,i){var o=this,a=e.update;a!=null&&a.forEach(function(s){var l=o.lookupRowNode(s);l&&(o.blockUtils.updateDataIntoRowNode(l,s),!l.selectable&&l.isSelected()&&i.push(l),r.update.push(l))})},t.prototype.lookupRowNode=function(e){var r=this.gridOptionsService.getCallback("getRowId"),i;if(r!=null){var o=this.level,a=this.parentRowNode.getGroupKeys(),s=r({data:e,parentKeys:a.length>0?a:void 0,level:o});if(i=this.allNodesMap[s],!i)return console.error("AG Grid: could not find row id=".concat(s,", data item was not found for this id")),null}else if(i=this.allRowNodes.find(function(l){return l.data===e}),!i)return console.error("AG Grid: could not find data item as object was not found",e),null;return i},t.prototype.addStoreStates=function(e){e.push({suppressInfiniteScroll:!0,route:this.parentRowNode.getGroupKeys(),rowCount:this.allRowNodes.length,info:this.info}),this.forEachChildStoreShallow(function(r){return r.addStoreStates(e)})},t.prototype.refreshStore=function(e){if(e){var r=this.nodesAfterSort?this.nodesAfterSort.length:1;this.initialiseRowNodes(r)}this.scheduleLoad(),this.fireStoreUpdatedEvent()},t.prototype.retryLoads=function(){this.getState()===xu.STATE_FAILED&&(this.initialiseRowNodes(1),this.scheduleLoad()),this.forEachChildStoreShallow(function(e){return e.retryLoads()})},t.prototype.scheduleLoad=function(){this.setStateWaitingToLoad(),this.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.fireStoreUpdatedEvent=function(){var e={type:M.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(e)},t.prototype.getRowCount=function(){return this.nodesAfterSort.length},t.prototype.getTopLevelRowDisplayedIndex=function(e){var r=this.nodesAfterSort[e];return r.rowIndex},t.prototype.isLastRowIndexKnown=function(){return this.getState()==xu.STATE_LOADED},t.prototype.getRowNodesInRange=function(e,r){var i=[],o=!1;F.missing(e)&&(o=!0),this.nodesAfterSort.forEach(function(s){var l=s===e||s===r;(o||l)&&i.push(s),l&&(o=!o)});var a=o;return a?[]:i},t.prototype.getStoreBounds=function(){return{topPx:this.topPx,heightPx:this.heightPx}},Da([O("ssrmStoreUtils")],t.prototype,"storeUtils",void 0),Da([O("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),Da([O("columnModel")],t.prototype,"columnModel",void 0),Da([O("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Da([O("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),Da([O("sortController")],t.prototype,"sortController",void 0),Da([O("selectionService")],t.prototype,"selectionService",void 0),Da([O("ssrmNodeManager")],t.prototype,"nodeManager",void 0),Da([O("filterManager")],t.prototype,"filterManager",void 0),Da([O("ssrmTransactionManager")],t.prototype,"transactionManager",void 0),Da([O("rowModel")],t.prototype,"serverSideRowModel",void 0),Da([q],t.prototype,"postConstruct",null),Da([Gr],t.prototype,"destroyRowNodes",null),t}(xu),tet=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),dF=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ret=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},net=function(n){tet(t,n);function t(e,r,i){var o=n.call(this)||this;return o.loadingNodes=new Set,o.checkForLoadQueued=!1,o.loaderTimeout=void 0,o.nextBlockToLoad=void 0,o.parentNode=r,o.cache=e,o.storeParams=i,o}return t.prototype.init=function(){var e=this;this.addManagedListener(this.rowNodeBlockLoader,wB.BLOCK_LOADED_EVENT,function(){return e.queueLoadAction()})},t.prototype.isRowLoading=function(e){return this.loadingNodes.has(e)},t.prototype.getBlockToLoad=function(){for(var e=this,r,i=this.api.getFirstDisplayedRowIndex(),o=this.api.getLastDisplayedRowIndex(),a=i;a<=o;a++){var s=this.cache.getNodeCachedByDisplayIndex(a);if(s){var l=this.cache.getNodes().getBy("node",s);if(l&&!this.isRowLoading(l.index)&&(s.__needsRefreshWhenVisible||s.stub&&!s.failedLoad))return this.getBlockStartIndexForIndex(l.index)}}var u=this.cache.getNodesToRefresh(),c=null,d=Number.MAX_SAFE_INTEGER;u.forEach(function(h){if(h.rowIndex==null){c=h;return}if(!e.isRowLoading(h.rowIndex)){var f=Math.abs(i-h.rowIndex),v=Math.abs(h.rowIndex-o);f<d&&(c=h,d=f),v<d&&(c=h,d=v)}});var p=(r=this.cache.getNodes().getBy("node",c))===null||r===void 0?void 0:r.index;return p==null?void 0:this.getBlockStartIndexForIndex(p)},t.prototype.reset=function(){this.loadingNodes.clear(),clearTimeout(this.loaderTimeout),this.loaderTimeout=void 0},t.prototype.executeLoad=function(e,r){var i=this,o,a=this.cache.getSsrmParams(),s={startRow:e,endRow:r,rowGroupCols:a.rowGroupCols,valueCols:a.valueCols,pivotCols:a.pivotCols,pivotMode:a.pivotMode,groupKeys:this.parentNode.getGroupKeys(),filterModel:a.filterModel,sortModel:a.sortModel},l=function(){for(var h=0;h<r-e;h++)i.loadingNodes.delete(e+h)},u=function(){for(var h=0;h<r-e;h++)i.loadingNodes.add(e+h)},c=function(h){i.rowNodeBlockLoader.loadComplete(),i.cache.onLoadSuccess(e,r-e,h),l(),i.queueLoadAction()},d=function(){i.rowNodeBlockLoader.loadComplete(),i.cache.onLoadFailed(e,r-e),l(),i.queueLoadAction()},p=this.gridOptionsService.addGridCommonParams({request:s,success:c,fail:d,parentNode:this.parentNode});u(),(o=this.cache.getSsrmParams().datasource)===null||o===void 0||o.getRows(p)},t.prototype.getNextBlockToLoad=function(){var e=this.getBlockToLoad();return e!=null?[String(e),e+this.getBlockSize()]:null},t.prototype.queueLoadCheck=function(){var e=this;this.checkForLoadQueued||(this.checkForLoadQueued=!0,window.queueMicrotask(function(){e.checkForLoadQueued=!1,e.queueLoadAction()}))},t.prototype.queueLoadAction=function(){var e=this,r=this.getNextBlockToLoad();if(!r){window.clearTimeout(this.loaderTimeout),this.loaderTimeout=void 0,this.nextBlockToLoad=void 0;return}if(!this.nextBlockToLoad||this.nextBlockToLoad[0]!==r[0]&&this.nextBlockToLoad[1]!==r[1]){this.nextBlockToLoad=r,window.clearTimeout(this.loaderTimeout);var i=ret(this.nextBlockToLoad,2),o=i[0],a=i[1],s=Number(o);this.loaderTimeout=window.setTimeout(function(){e.cache.isAlive()&&(e.loaderTimeout=void 0,e.attemptLoad(s,a),e.nextBlockToLoad=void 0)},this.gridOptionsService.get("blockLoadDebounceMillis"))}},t.prototype.attemptLoad=function(e,r){var i=this.rowNodeBlockLoader.getAvailableLoadingCount();i!=null&&i===0||(this.rowNodeBlockLoader.registerLoads(1),this.executeLoad(e,r),this.queueLoadAction())},t.prototype.getBlockSize=function(){return this.storeParams.cacheBlockSize||t.DEFAULT_BLOCK_SIZE},t.prototype.getBlockStartIndexForIndex=function(e){var r=this.getBlockSize();return e-e%r},t.prototype.getBlockBoundsForIndex=function(e){var r=this.getBlockStartIndexForIndex(e),i=this.getBlockSize();return[r,r+i]},t.DEFAULT_BLOCK_SIZE=100,dF([O("gridApi")],t.prototype,"api",void 0),dF([O("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),dF([q],t.prototype,"init",null),t}(re),iet=function(){function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length<1)throw new Error("AG Grid: At least one index must be provided.");this.indexes=t,this.maps=new Map(this.indexes.map(function(r){return[r,new Map]}))}return n.prototype.getSize=function(){return this.maps.get(this.indexes[0]).size},n.prototype.getBy=function(t,e){var r=this.maps.get(t);if(!r)throw new Error("AG Grid: ".concat(String(t)," not found"));return r.get(e)},n.prototype.set=function(t){var e=this;this.indexes.forEach(function(r){var i=e.maps.get(r);if(!i)throw new Error("AG Grid: ".concat(String(r)," not found"));i.set(t[r],t)})},n.prototype.delete=function(t){var e=this;this.indexes.forEach(function(r){var i=e.maps.get(r);if(!i)throw new Error("AG Grid: ".concat(String(r)," not found"));i.delete(t[r])})},n.prototype.clear=function(){this.maps.forEach(function(t){return t.clear()})},n.prototype.getIterator=function(t){var e=this.maps.get(t);if(!e)throw new Error("AG Grid: ".concat(String(t)," not found"));return e.values()},n.prototype.forEach=function(t){for(var e=this.getIterator(this.indexes[0]),r;(r=e.next())&&!r.done;)t(r.value)},n.prototype.find=function(t){for(var e=this.getIterator(this.indexes[0]),r;(r=e.next())&&!r.done;)if(t(r.value))return r.value},n.prototype.filter=function(t){for(var e=this.getIterator(this.indexes[0]),r,i=[];(r=e.next())&&!r.done;)t(r.value)&&i.push(r.value);return i},n}(),oet=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Rc=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},zh=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},pF=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},hF=function(n){oet(t,n);function t(e,r,i){var o=n.call(this)||this;return o.live=!0,o.removedNodeCache=new Map,o.store=e,o.numberOfRows=r,o.isLastRowKnown=!1,o.storeParams=i,o}return t.prototype.init=function(){this.nodeMap=new iet("index","id","node"),this.nodeDisplayIndexMap=new Map,this.nodesToRefresh=new Set,this.defaultNodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.store.getParentNode()),this.rowLoader=this.createManagedBean(new net(this,this.store.getParentNode(),this.storeParams)),this.getRowIdFunc=this.gridOptionsService.getCallback("getRowId"),this.isMasterDetail=this.gridOptionsService.get("masterDetail")},t.prototype.destroyRowNodes=function(){var e=this;this.numberOfRows=0,this.nodeMap.forEach(function(r){return e.blockUtils.destroyRowNode(r.node)}),this.nodeMap.clear(),this.nodeDisplayIndexMap.clear(),this.nodesToRefresh.clear(),this.live=!1},t.prototype.getRowByDisplayIndex=function(e){var r,i,o,a;if(this.store.isDisplayIndexInStore(e)){var s=this.nodeDisplayIndexMap.get(e);if(s)return(s.stub||s.__needsRefreshWhenVisible)&&this.rowLoader.queueLoadCheck(),s;if(e===this.store.getDisplayIndexStart())return this.createStubNode(0,e);var l=this.nodeDisplayIndexMap.get(e-1);if(l){if(this.isMasterDetail&&l.master&&l.expanded)return l.detailNode;if(l.expanded&&(!((r=l.childStore)===null||r===void 0)&&r.isDisplayIndexInStore(e)))return(i=l.childStore)===null||i===void 0?void 0:i.getRowUsingDisplayIndex(e);var u=this.nodeMap.getBy("node",l);return this.createStubNode(u.index+1,e)}var c=this.getSurroundingNodesByDisplayIndex(e);if(c==null){var d=this.store.getRowCount()-(this.store.getDisplayIndexEnd()-e);return this.createStubNode(d,e)}var p=c.previousNode,h=c.nextNode;if(p&&p.node.expanded&&(!((o=p.node.childStore)===null||o===void 0)&&o.isDisplayIndexInStore(e)))return(a=p.node.childStore)===null||a===void 0?void 0:a.getRowUsingDisplayIndex(e);if(h){var f=h.node.rowIndex-e,v=h.index-f;return this.createStubNode(v,e)}var g=this.store.getRowCount()-(this.store.getDisplayIndexEnd()-e);return this.createStubNode(g,e)}},t.prototype.createStubNode=function(e,r){var i=this,o=this.store.getRowBounds(r),a=this.createRowAtIndex(e,null,function(s){s.setRowIndex(r),s.setRowTop(o.rowTop),i.nodeDisplayIndexMap.set(r,s)});return this.rowLoader.queueLoadCheck(),a},t.prototype.getRowByStoreIndex=function(e){var r;return(r=this.nodeMap.getBy("index",e))===null||r===void 0?void 0:r.node},t.prototype.skipDisplayIndexes=function(e,r,i){if(e!==0){var o=this.gridOptionsService.getRowHeightAsNumber();r.skip(e),i.value+=e*o}},t.prototype.setDisplayIndexes=function(e,r){this.nodeDisplayIndexMap.clear();var i={};this.nodeMap.forEach(function(d){i[d.index]=d.node});var o=-1;for(var a in i){var s=i[a],l=Number(a),u=l-1-o;this.skipDisplayIndexes(u,e,r),this.blockUtils.setDisplayIndex(s,e,r),this.nodeDisplayIndexMap.set(s.rowIndex,s),o=l}var c=this.numberOfRows-1-o;this.skipDisplayIndexes(c,e,r),this.purgeExcessRows()},t.prototype.getRowCount=function(){return this.numberOfRows},t.prototype.setRowCount=function(e,r){if(e<0)throw new Error("AG Grid: setRowCount can only accept a positive row count.");this.numberOfRows=e,r!=null&&(this.isLastRowKnown=r,r===!1&&(this.numberOfRows+=1)),this.fireStoreUpdatedEvent()},t.prototype.getNodes=function(){return this.nodeMap},t.prototype.getNodeCachedByDisplayIndex=function(e){var r;return(r=this.nodeDisplayIndexMap.get(e))!==null&&r!==void 0?r:null},t.prototype.getNodesToRefresh=function(){return this.nodesToRefresh},t.prototype.getSurroundingNodesByDisplayIndex=function(e){var r,i;return this.nodeMap.forEach(function(o){if(e>o.node.rowIndex){(i==null||i.node.rowIndex<o.node.rowIndex)&&(i=o);return}if(r==null||r.node.rowIndex>o.node.rowIndex){r=o;return}}),!i&&!r?null:{previousNode:i,nextNode:r}},t.prototype.getDisplayIndexFromStoreIndex=function(e){var r,i,o=this.nodeMap.getBy("index",e);if(o)return o.node.rowIndex;var a,s;if(this.nodeMap.forEach(function(c){if(e>c.index){(s==null||s.index<c.index)&&(s=c);return}if(a==null||a.index>c.index){a=c;return}}),!a)return this.store.getDisplayIndexEnd()-(this.numberOfRows-e);if(!s)return this.store.getDisplayIndexStart()+e;var l=e-s.index,u=(i=(r=s.node.childStore)===null||r===void 0?void 0:r.getDisplayIndexEnd())!==null&&i!==void 0?i:s.node.rowIndex;return u+l},t.prototype.createRowAtIndex=function(e,r,i){var o,a,s=this.nodeMap.getBy("index",e);if(s){var l=s.node;if(l.__needsRefreshWhenVisible=!1,this.doesNodeMatch(r,l))return this.blockUtils.updateDataIntoRowNode(l,r),this.nodesToRefresh.delete(l),l;if(this.getRowIdFunc==null&&l.hasChildren()&&l.expanded)return this.nodesToRefresh.delete(l),l;this.destroyRowAtIndex(e)}if(r&&this.getRowIdFunc!=null){var u=this.getRowId(r),c=u&&((o=this.removedNodeCache)===null||o===void 0?void 0:o.get(u));if(c)return(a=this.removedNodeCache)===null||a===void 0||a.delete(u),this.blockUtils.updateDataIntoRowNode(c,r),this.nodeMap.set({id:c.id,node:c,index:e}),c;var d=this.nodeMap.getBy("id",u);if(d){this.nodeMap.delete(d);var l=d.node,p=d.index;return this.blockUtils.updateDataIntoRowNode(l,r),this.nodeMap.set({id:l.id,node:l,index:e}),this.nodesToRefresh.delete(l),this.rowLoader.getBlockStartIndexForIndex(p)===this.rowLoader.getBlockStartIndexForIndex(e)||this.markBlockForVerify(p),l}}var h=this.blockUtils.createRowNode(this.store.getRowDetails());if(r!=null){var f=this.getPrefixedId(this.store.getIdSequence().next());this.blockUtils.setDataIntoRowNode(h,r,f,void 0),this.blockUtils.checkOpenByDefault(h),this.nodeManager.addRowNode(h)}return this.nodeMap.set({id:h.id,node:h,index:e}),i&&i(h),h},t.prototype.getBlockStates=function(){var e=this,r={},i={};this.nodeMap.forEach(function(l){var u,c=l.node,d=l.index,p=e.rowLoader.getBlockStartIndexForIndex(d);!c.stub&&!c.failedLoad&&(r[p]=((u=r[p])!==null&&u!==void 0?u:0)+1);var h="loaded";c.failedLoad?h="failed":e.rowLoader.isRowLoading(p)?h="loading":(e.nodesToRefresh.has(c)||c.stub)&&(h="needsLoading"),i[p]||(i[p]=new Set),i[p].add(h)});var o={loading:4,failed:3,needsLoading:2,loaded:1},a=this.blockUtils.createNodeIdPrefix(this.store.getParentNode()),s={};return Object.entries(i).forEach(function(l){var u,c=zh(l,2),d=c[0],p=c[1],h=pF([],zh(p),!1).sort(function(m,y){var C,S;return((C=o[m])!==null&&C!==void 0?C:0)-((S=o[y])!==null&&S!==void 0?S:0)}),f=h[0],v=Number(d)/e.rowLoader.getBlockSize(),g=a?"".concat(a,"-").concat(v):String(v);s[g]={blockNumber:v,startRow:Number(d),endRow:Number(d)+e.rowLoader.getBlockSize(),pageStatus:f,loadedRowCount:(u=r[d])!==null&&u!==void 0?u:0}}),s},t.prototype.destroyRowAtIndex=function(e){var r=this.nodeMap.getBy("index",e);r&&(this.nodeMap.delete(r),this.nodeDisplayIndexMap.delete(r.node.rowIndex),this.nodesToRefresh.size>0?this.removedNodeCache.set(r.node.id,r.node):this.blockUtils.destroyRowNode(r.node),this.nodesToRefresh.delete(r.node))},t.prototype.getSsrmParams=function(){return this.store.getSsrmParams()},t.prototype.getPrefixedId=function(e){return this.defaultNodeIdPrefix?this.defaultNodeIdPrefix+"-"+e:e.toString()},t.prototype.markBlockForVerify=function(e){var r=zh(this.rowLoader.getBlockBoundsForIndex(e),2),i=r[0],o=r[1],a=this.nodeMap.filter(function(s){return s.index>=i&&s.index<o});a.forEach(function(s){var l=s.node;l.__needsRefreshWhenVisible=!0})},t.prototype.doesNodeMatch=function(e,r){if(r.stub)return!1;if(this.getRowIdFunc!=null){var i=this.getRowId(e);return r.id===i}return r.data===e},t.prototype.purgeStubsOutsideOfViewport=function(){var e=this,r=this.api.getFirstDisplayedRowIndex(),i=this.api.getLastDisplayedRowIndex(),o=this.rowLoader.getBlockStartIndexForIndex(r),a=zh(this.rowLoader.getBlockBoundsForIndex(i),2);a[0];var s=a[1];this.nodeMap.forEach(function(l){e.rowLoader.isRowLoading(l.index)||l.node.failedLoad||l.node.stub&&(l.index<o||l.index>s)&&e.destroyRowAtIndex(l.index)})},t.prototype.getBlocksDistanceFromRow=function(e,r){var i=this,o={};return e.forEach(function(a){var s=a.node,l=a.index,u=zh(i.rowLoader.getBlockBoundsForIndex(l),2),c=u[0],d=u[1];if(!(c in o)){var p=Math.abs(s.rowIndex-r),h,f=i.nodeMap.getBy("index",[d-1]);f&&(h=Math.abs(f.node.rowIndex-r));var v=h==null||p<h?p:h;o[c]=v}}),Object.entries(o)},t.prototype.purgeExcessRows=function(){var e=this,r;if(this.purgeStubsOutsideOfViewport(),!(this.store.getDisplayIndexEnd()==null||this.storeParams.maxBlocksInCache==null)){var i=this.api.getFirstDisplayedRowIndex(),o=this.api.getLastDisplayedRowIndex(),a=new Set,s=new Set;this.nodeMap.forEach(function(w){var _=w.index,x=w.node,E=e.rowLoader.getBlockStartIndexForIndex(_);a.add(E);var R=x.rowIndex>=i&&x.rowIndex<=o;R&&s.add(E)});var l=Math.max(s.size,(r=this.storeParams.maxBlocksInCache)!==null&&r!==void 0?r:0),u=a.size,c=u-l;if(!(c<=0)){var d=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;s.forEach(function(w){d>w&&(d=w),p<w&&(p=w)});var h=this.nodeMap.filter(function(w){var _=w.node,x=w.index,E=e.rowLoader.getBlockStartIndexForIndex(x),R=E>=d&&E<=p;return!R&&!e.isNodeCached(_)});if(h.length!==0){var f=i+(o-i)/2,v=this.getBlocksDistanceFromRow(h,f),g=this.rowLoader.getBlockSize();v.sort(function(w,_){return Math.sign(_[1]-w[1])});for(var m=0;m<Math.min(c,v.length);m++)for(var y=Number(v[m][0]),C=y;C<y+g;C++){var S=this.nodeMap.getBy("index",C);!S||this.isNodeCached(S.node)||this.destroyRowAtIndex(C)}}}}},t.prototype.isNodeFocused=function(e){var r=this.focusService.getFocusCellToUseAfterRefresh();if(!r||r.rowPinned!=null)return!1;var i=r.rowIndex===e.rowIndex;return i},t.prototype.isNodeCached=function(e){return e.isExpandable()&&e.expanded||this.isNodeFocused(e)},t.prototype.extractDuplicateIds=function(e){var r=this;if(this.getRowIdFunc==null)return[];var i=new Set,o=new Set;return e.forEach(function(a){var s=r.getRowId(a);if(i.has(s)){o.add(s);return}i.add(s)}),pF([],zh(o),!1)},t.prototype.onLoadSuccess=function(e,r,i){var o=this;if(this.live){var a=i.groupLevelInfo;if(this.store.setStoreInfo(a),this.getRowIdFunc!=null){var s=this.extractDuplicateIds(i.rowData);if(s.length>0){var l=s.join(", ");console.warn("AG Grid: Unable to display rows as duplicate row ids (".concat(l,") were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.")),this.onLoadFailed(e,r);return}}i.pivotResultFields&&this.serverSideRowModel.generateSecondaryColumns(i.pivotResultFields);var u=this.nodesToRefresh.size>0;if(i.rowData.forEach(function(h,f){var v,g=e+f,m=o.nodeMap.getBy("index",g);if(!((v=m==null?void 0:m.node)===null||v===void 0)&&v.stub){o.createRowAtIndex(g,h);return}if(m&&o.doesNodeMatch(h,m.node)){o.blockUtils.updateDataIntoRowNode(m.node,h),o.nodesToRefresh.delete(m.node),m.node.__needsRefreshWhenVisible=!1;return}o.createRowAtIndex(g,h)}),i.rowCount!=null&&i.rowCount!==-1)this.numberOfRows=i.rowCount,this.isLastRowKnown=!0;else if(r>i.rowData.length)this.numberOfRows=e+i.rowData.length,this.isLastRowKnown=!0;else if(!this.isLastRowKnown){var c=e+i.rowData.length+1;c>this.numberOfRows&&(this.numberOfRows=c)}if(this.isLastRowKnown){var d=this.nodeMap.filter(function(h){return h.index>=o.numberOfRows});d.forEach(function(h){return o.destroyRowAtIndex(h.index)})}this.fireStoreUpdatedEvent();var p=this.nodesToRefresh.size===0;u&&p&&this.fireRefreshFinishedEvent()}},t.prototype.fireRefreshFinishedEvent=function(){var e=this,r=this.nodesToRefresh.size===0;r&&(this.removedNodeCache.forEach(function(i){e.blockUtils.destroyRowNode(i)}),this.removedNodeCache=new Map,this.store.fireRefreshFinishedEvent())},t.prototype.isStoreFullyLoaded=function(){var e=this.isLastRowKnown,r=this.nodeMap.getSize()===this.numberOfRows;if(!(!e||!r)&&!(this.nodesToRefresh.size>0)){var i=-1,o=this.nodeMap.find(function(a){return i+=1,!!(a.index!==i||a.node.__needsRefreshWhenVisible||a.node.stub)});return o==null}},t.prototype.isLastRowIndexKnown=function(){return this.isLastRowKnown},t.prototype.onLoadFailed=function(e,r){var i;if(this.live){for(var o=this.nodesToRefresh.size>0,a=e;a<e+r&&a<this.getRowCount();a++){var s=((i=this.nodeMap.getBy("index",a))!==null&&i!==void 0?i:{}).node;s&&this.nodesToRefresh.delete(s),(!s||!s.stub)&&(s&&!s.stub&&this.destroyRowAtIndex(a),s=this.createRowAtIndex(a)),s.__needsRefreshWhenVisible=!1,s.failedLoad=!0}var l=this.nodesToRefresh.size===0;o&&l&&this.fireRefreshFinishedEvent(),this.fireStoreUpdatedEvent()}},t.prototype.markNodesForRefresh=function(){var e=this;this.nodeMap.forEach(function(r){r.node.stub&&!r.node.failedLoad||e.nodesToRefresh.add(r.node)}),this.rowLoader.queueLoadCheck(),this.isLastRowKnown&&this.numberOfRows===0&&(this.numberOfRows=1,this.isLastRowKnown=!1,this.fireStoreUpdatedEvent())},t.prototype.isNodeInCache=function(e){return!!this.nodeMap.getBy("id",e)},t.prototype.fireStoreUpdatedEvent=function(){this.live&&this.store.fireStoreUpdatedEvent()},t.prototype.getRowId=function(e){if(this.getRowIdFunc==null)return null;var r=this.store.getRowDetails().level,i=this.store.getParentNode().getGroupKeys(),o=this.getRowIdFunc({data:e,parentKeys:i.length>0?i:void 0,level:r});return String(o)},t.prototype.getOrderedNodeMap=function(){var e={};return this.nodeMap.forEach(function(r){return e[r.index]=r}),e},t.prototype.clearDisplayIndexes=function(){this.nodeDisplayIndexMap.clear()},t.prototype.clientSideSortRows=function(){var e=this,r=this.sortController.getSortOptions(),i=r.some(function(s){return s.sort!=null});if(i){var o=new Array(this.nodeMap.getSize());this.nodeMap.forEach(function(s){return o[s.index]=s.node}),this.nodeMap.clear();var a=this.rowNodeSorter.doFullSort(o,r);a.forEach(function(s,l){e.nodeMap.set({id:s.id,node:s,index:l})})}},t.prototype.updateRowNodes=function(e){var r=this;if(this.getRowIdFunc==null)throw new Error("AG Grid: Transactions can only be applied when row ids are supplied.");var i=[];return e.forEach(function(o){var a=r.getRowId(o),s=r.nodeMap.getBy("id",a);s&&(r.blockUtils.updateDataIntoRowNode(s.node,o),i.push(s.node))}),i},t.prototype.insertRowNodes=function(e,r){var i=this,o=this.store.getRowCount()-(this.store.getParentNode().sibling?1:0),a=r==null&&this.isLastRowKnown?o:r;if(a==null||o<a)return[];if(this.getRowIdFunc==null)throw new Error("AG Grid: Transactions can only be applied when row ids are supplied.");var s={};e.forEach(function(d){var p=i.getRowId(d);p&&i.isNodeInCache(p)||(s[p]=d)});var l=Object.values(s),u=l.length;if(u===0)return[];var c=this.nodeMap.filter(function(d){return d.index>=a});return c.forEach(function(d){return i.nodeMap.delete(d)}),c.forEach(function(d){i.nodeMap.set({node:d.node,index:d.index+u,id:d.id})}),this.numberOfRows+=u,l.map(function(d,p){return i.createRowAtIndex(a+p,d)})},t.prototype.removeRowNodes=function(e){if(this.getRowIdFunc==null)throw new Error("AG Grid: Transactions can only be applied when row ids are supplied.");var r=[],i=[],o=0,a=pF([],zh(e),!1),s=this.getOrderedNodeMap(),l=-1,u=function(p){l+=1;var h=s[p],f=a.findIndex(function(g){return g===h.id});if(f!==-1)return a.splice(f,1),c.destroyRowAtIndex(Number(p)),r.push(h.node),o+=1,"continue";if(o===0)return"continue";var v=Number(p);l!==v&&i.push(h.node),c.nodeMap.delete(s[p]),c.nodeMap.set({id:h.id,node:h.node,index:v-o})},c=this;for(var d in s)u(d);return this.numberOfRows-=this.isLastRowIndexKnown()?e.length:o,a.length>0&&i.length>0&&(i.forEach(function(p){return p.__needsRefreshWhenVisible=!0}),this.rowLoader.queueLoadCheck()),r},Rc([O("gridApi")],t.prototype,"api",void 0),Rc([O("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),Rc([O("focusService")],t.prototype,"focusService",void 0),Rc([O("ssrmNodeManager")],t.prototype,"nodeManager",void 0),Rc([O("rowModel")],t.prototype,"serverSideRowModel",void 0),Rc([O("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),Rc([O("sortController")],t.prototype,"sortController",void 0),Rc([q],t.prototype,"init",null),Rc([Gr],t.prototype,"destroyRowNodes",null),t}(re),aet=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),gg=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},set=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},uet=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},dO=function(n){aet(t,n);function t(e,r,i){var o=n.call(this)||this;return o.idSequence=new ji,o.ssrmParams=e,o.parentRowNode=i,o.storeParams=r,o.level=i.level+1,o.group=e.rowGroupCols?o.level<e.rowGroupCols.length:!1,o.leafGroup=e.rowGroupCols?o.level===e.rowGroupCols.length-1:!1,o.info={},o}return t.prototype.init=function(){var e,r=1;this.level===0&&(r=(e=this.storeUtils.getServerSideInitialRowCount())!==null&&e!==void 0?e:1,this.eventService.dispatchEventOnce({type:M.EVENT_ROW_COUNT_READY})),this.cache=this.createManagedBean(new hF(this,r,this.storeParams));var i=this.gridOptionsService.get("treeData");if(!i&&this.group){var o=this.ssrmParams.rowGroupCols[this.level];this.groupField=o.field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]}},t.prototype.destroyRowNodes=function(){this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.destroyBean(this.cache)},t.prototype.applyRowData=function(e,r,i){this.cache.onLoadSuccess(r,i,e)},t.prototype.applyTransaction=function(e){var r=this,i,o,a,s=this.gridOptionsService.getCallback("getRowId");if(!s)return console.warn("AG Grid: getRowId callback must be implemented for transactions to work. Transaction was ignored."),{status:Vi.Cancelled};var l=this.gridOptionsService.getCallback("isApplyServerSideTransaction");if(l){var u={transaction:e,parentNode:this.parentRowNode,groupLevelInfo:this.info},c=l(u);if(!c)return{status:Vi.Cancelled}}var d=this.cache.isStoreFullyLoaded(),p=void 0;!((i=e.update)===null||i===void 0)&&i.length&&(p=this.cache.updateRowNodes(e.update));var h=void 0;if(!((o=e.add)===null||o===void 0)&&o.length){var f=e.addIndex;f!=null&&f<0&&(f=void 0),h=this.cache.insertRowNodes(e.add,f)}var v=void 0;if(!((a=e.remove)===null||a===void 0)&&a.length){var g=e.remove.map(function(w){return s({level:r.level,parentKeys:r.parentRowNode.getGroupKeys(),data:w})}),m=uet([],set(new Set(g)),!1);v=this.cache.removeRowNodes(m)}var y=this.gridOptionsService.get("serverSideEnableClientSideSort"),C=(p==null?void 0:p.length)||(h==null?void 0:h.length),S=d&&y;return S&&C&&this.cache.clientSideSortRows(),this.updateSelectionAfterTransaction(p,v),{status:Vi.Applied,update:p,add:h,remove:v}},t.prototype.updateSelectionAfterTransaction=function(e,r){var i=[];e==null||e.forEach(function(o){o.isSelected()&&!o.selectable&&i.push(o)}),r==null||r.forEach(function(o){o.isSelected()&&i.push(o)}),i.length&&this.selectionService.setNodesSelected({newValue:!1,clearSelection:!1,nodes:i,source:"rowDataChanged"})},t.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.cache.getNodes().forEach(function(r){return e.blockUtils.clearDisplayIndex(r.node)}),this.parentRowNode.sibling&&this.blockUtils.clearDisplayIndex(this.parentRowNode.sibling),this.cache.clearDisplayIndexes()},t.prototype.getDisplayIndexStart=function(){return this.displayIndexStart},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.getRowCount=function(){return this.parentRowNode.sibling?this.cache.getRowCount()+1:this.cache.getRowCount()},t.prototype.setRowCount=function(e,r){this.cache.setRowCount(e,r)},t.prototype.isDisplayIndexInStore=function(e){return this.cache.getRowCount()===0?!1:this.displayIndexStart<=e&&e<this.getDisplayIndexEnd()},t.prototype.setDisplayIndexes=function(e,r){this.displayIndexStart=e.peek(),this.topPx=r.value,this.cache.setDisplayIndexes(e,r),this.parentRowNode.sibling&&this.blockUtils.setDisplayIndex(this.parentRowNode.sibling,e,r),this.displayIndexEnd=e.peek(),this.heightPx=r.value-this.topPx},t.prototype.forEachStoreDeep=function(e,r){r===void 0&&(r=new ji),e(this,r.next()),this.cache.getNodes().forEach(function(i){var o=i.node.childStore;o&&o.forEachStoreDeep(e,r)})},t.prototype.forEachNodeDeep=function(e,r){r===void 0&&(r=new ji),this.cache.getNodes().forEach(function(i){e(i.node,r.next());var o=i.node.childStore;o&&o.forEachNodeDeep(e,r)})},t.prototype.forEachNodeDeepAfterFilterAndSort=function(e,r,i){r===void 0&&(r=new ji),i===void 0&&(i=!1);var o=this.cache.getOrderedNodeMap();for(var a in o){var s=o[a];e(s.node,r.next());var l=s.node.childStore;l&&l.forEachNodeDeepAfterFilterAndSort(e,r,i)}i&&this.parentRowNode.sibling&&e(this.parentRowNode.sibling,r.next())},t.prototype.retryLoads=function(){this.cache.getNodes().forEach(function(e){var r=e.node;r.failedLoad&&(r.failedLoad=!1,r.__needsRefreshWhenVisible=!0,r.stub=!0)}),this.forEachChildStoreShallow(function(e){return e.retryLoads()}),this.fireStoreUpdatedEvent()},t.prototype.getRowUsingDisplayIndex=function(e){return this.parentRowNode.sibling&&e===this.parentRowNode.sibling.rowIndex?this.parentRowNode.sibling:this.cache.getRowByDisplayIndex(e)},t.prototype.getRowBounds=function(e){var r;if(!this.isDisplayIndexInStore(e))return null;var i=this.cache.getNodeCachedByDisplayIndex(e);if(i){var o=this.blockUtils.extractRowBounds(i,e);if(o)return o}var a=(r=this.cache.getSurroundingNodesByDisplayIndex(e))!==null&&r!==void 0?r:{},s=a.previousNode,l=a.nextNode;if(s){var o=this.blockUtils.extractRowBounds(s.node,e);if(o!=null)return o}var u=this.gridOptionsService.getRowHeightAsNumber();if(l){var c=(l.node.rowIndex-e)*u;return{rowTop:l.node.rowTop-c,rowHeight:u}}var d=this.topPx+this.heightPx,p=(this.getDisplayIndexEnd()-e)*u;return{rowTop:d-p,rowHeight:u}},t.prototype.isPixelInRange=function(e){return e>=this.topPx&&e<this.topPx+this.heightPx},t.prototype.getRowIndexAtPixel=function(e){if(e<this.topPx)return this.getDisplayIndexStart();if(e>=this.topPx+this.heightPx)return this.getDisplayIndexEnd()-1;var r=Number.MAX_SAFE_INTEGER,i=null,o=Number.MAX_SAFE_INTEGER,a=null;if(this.cache.getNodes().forEach(function(h){var f=h.node,v=Math.abs(e-f.rowTop);if(f.rowTop<e){v<r&&(r=v,i=f);return}v<o&&(o=v,a=f)}),i=i,a=a,i){var s=this.blockUtils.getIndexAtPixel(i,e);if(s!=null)return s}var l=this.gridOptionsService.getRowHeightAsNumber();if(a){var u=a.rowTop,c=Math.ceil((u-e)/l);return a.rowIndex-c}var d=this.topPx+this.heightPx,p=Math.floor((d-e)/l);return this.getDisplayIndexEnd()-p},t.prototype.getChildStore=function(e){var r=this;return this.storeUtils.getChildStore(e,this,function(i){var o=r.cache.getNodes().find(function(a){return a.node.key==i});return o?o.node:null})},t.prototype.forEachChildStoreShallow=function(e){this.cache.getNodes().forEach(function(r){var i=r.node;i.childStore&&e(i.childStore)})},t.prototype.refreshAfterSort=function(e){var r=this.storeUtils.isServerSideSortAllLevels();if(r||this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e)){var i=this.cache.isStoreFullyLoaded(),o=this.gridOptionsService.get("serverSideEnableClientSideSort"),a=i&&o;if(!a){var s=this.cache.getRowCount();this.destroyBean(this.cache),this.cache=this.createManagedBean(new hF(this,s,this.storeParams));return}this.cache.clientSideSortRows()}this.forEachChildStoreShallow(function(l){return l.refreshAfterSort(e)})},t.prototype.refreshAfterFilter=function(e){var r=!this.storeUtils.isServerSideOnlyRefreshFilteredGroups();if(r||this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e)){this.refreshStore(!0);return}this.forEachChildStoreShallow(function(i){return i.refreshAfterFilter(e)})},t.prototype.refreshStore=function(e){if(e){this.destroyBean(this.cache),this.cache=this.createManagedBean(new hF(this,1,this.storeParams)),this.fireStoreUpdatedEvent();return}this.cache.markNodesForRefresh()},t.prototype.getTopLevelRowDisplayedIndex=function(e){var r=this.cache.getDisplayIndexFromStoreIndex(e);return r??e},t.prototype.isLastRowIndexKnown=function(){return this.cache.isLastRowIndexKnown()},t.prototype.getRowNodesInRange=function(e,r){return F.missing(e),this.cache.getNodes().filter(function(i){var o=i.node;return o.rowIndex>=e.rowIndex&&o.rowIndex<=r.rowIndex}).map(function(i){var o=i.node;return o})},t.prototype.addStoreStates=function(e){e.push({suppressInfiniteScroll:!1,route:this.parentRowNode.getGroupKeys(),rowCount:this.getRowCount(),lastRowIndexKnown:this.isLastRowIndexKnown(),info:this.info,maxBlocksInCache:this.storeParams.maxBlocksInCache,cacheBlockSize:this.storeParams.cacheBlockSize}),this.forEachChildStoreShallow(function(r){return r.addStoreStates(e)})},t.prototype.getIdSequence=function(){return this.idSequence},t.prototype.getParentNode=function(){return this.parentRowNode},t.prototype.getRowDetails=function(){return{field:this.groupField,group:this.group,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn}},t.prototype.getSsrmParams=function(){return this.ssrmParams},t.prototype.setStoreInfo=function(e){e&&Object.assign(this.info,e)},t.prototype.fireStoreUpdatedEvent=function(){var e={type:M.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(e)},t.prototype.fireRefreshFinishedEvent=function(){var e={type:M.EVENT_STORE_REFRESHED,route:this.parentRowNode.getRoute()};this.eventService.dispatchEvent(e)},t.prototype.getBlockStates=function(){return this.cache.getBlockStates()},t.prototype.getStoreBounds=function(){return{topPx:this.topPx,heightPx:this.heightPx}},gg([O("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),gg([O("ssrmStoreUtils")],t.prototype,"storeUtils",void 0),gg([O("columnModel")],t.prototype,"columnModel",void 0),gg([O("selectionService")],t.prototype,"selectionService",void 0),gg([q],t.prototype,"init",null),gg([Gr],t.prototype,"destroyRowNodes",null),t}(re),cet=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Aa=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},gK=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},det=function(n){cet(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.onRowHeightChanged_debounced=F.debounce(e.onRowHeightChanged.bind(e),100),e.pauseStoreUpdateListening=!1,e.started=!1,e.managingPivotResultColumns=!1,e}return t.prototype.ensureRowHeightsValid=function(){return!1},t.prototype.start=function(){this.started=!0,this.updateDatasource()},t.prototype.destroyDatasource=function(){this.datasource&&(this.datasource.destroy&&this.datasource.destroy(),this.rowRenderer.datasourceChanged(),this.datasource=void 0)},t.prototype.addEventListeners=function(){var e=this;this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,M.EVENT_STORE_UPDATED,this.onStoreUpdated.bind(this));var r=this.resetRootStore.bind(this);this.addManagedListener(this.eventService,M.EVENT_COLUMN_VALUE_CHANGED,r),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_CHANGED,r),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,r),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_MODE_CHANGED,r),this.addManagedPropertyListeners(["masterDetail","treeData","removePivotHeaderRowWhenSingleValueColumn","suppressServerSideInfiniteScroll","cacheBlockSize"],r),this.addManagedPropertyListener("rowHeight",function(){return e.resetRowHeights()}),this.verifyProps(),this.addManagedPropertyListener("serverSideDatasource",function(){return e.updateDatasource()})},t.prototype.updateDatasource=function(){var e=this.gridOptionsService.get("serverSideDatasource");e&&this.setDatasource(e)},t.prototype.verifyProps=function(){this.gridOptionsService.exists("initialGroupOrderComparator")&&F.warnOnce("initialGroupOrderComparator cannot be used with Server Side Row Model."),this.gridOptionsService.isRowSelection()&&!this.gridOptionsService.exists("getRowId")&&F.warnOnce("getRowId callback must be provided for Server Side Row Model selection to work correctly.")},t.prototype.setDatasource=function(e){this.started&&(this.destroyDatasource(),this.datasource=e,this.resetRootStore())},t.prototype.applyRowData=function(e,r,i){var o=this.getRootStore();if(o){var a=o.getChildStore(i);a&&(a instanceof dO?a.applyRowData(e,r,e.rowData.length):a instanceof WN&&a.processServerResult(e))}},t.prototype.isLastRowIndexKnown=function(){var e=this.getRootStore();return e?e.isLastRowIndexKnown():!1},t.prototype.onColumnEverything=function(){if(!this.storeParams){this.resetRootStore();return}var e=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),r=this.columnsToValueObjects(this.columnModel.getValueColumns()),i=this.columnsToValueObjects(this.columnModel.getPivotColumns()),o=function(p){var h={};p.oldCols.forEach(function(g){return h[g.id]=g});var f=p.newCols.every(function(g){var m=h[g.id];return m&&delete h[g.id],m&&m.field===g.field&&m.aggFunc===g.aggFunc}),v=!p.allowRemovedColumns&&!!Object.values(h).length;return f&&!v},a=!F.jsonEquals(this.storeParams.sortModel,this.sortController.getSortModel()),s=!o({oldCols:this.storeParams.rowGroupCols,newCols:e}),l=!o({oldCols:this.storeParams.pivotCols,newCols:i}),u=!!(e!=null&&e.length)&&!o({oldCols:this.storeParams.valueCols,newCols:r,allowRemovedColumns:!0}),c=a||s||l||u;if(c)this.resetRootStore();else{var d=this.createStoreParams();this.storeParams.rowGroupCols=d.rowGroupCols,this.storeParams.pivotCols=d.pivotCols,this.storeParams.valueCols=d.valueCols}},t.prototype.destroyRootStore=function(){!this.rootNode||!this.rootNode.childStore||(this.rootNode.childStore=this.destroyBean(this.rootNode.childStore),this.nodeManager.clear())},t.prototype.refreshAfterSort=function(e,r){this.storeParams&&(this.storeParams.sortModel=e);var i=this.getRootStore();i&&(i.refreshAfterSort(r),this.onStoreUpdated())},t.prototype.generateSecondaryColumns=function(e){var r=this.pivotColDefService.createColDefsFromFields(e);this.managingPivotResultColumns=!0,this.columnModel.setSecondaryColumns(r,"rowModelUpdated")},t.prototype.resetRowHeights=function(){var e=this.resetRowHeightsForAllRowNodes(),r=this.gridOptionsService.getRowHeightForNode(this.rootNode);if(this.rootNode.setRowHeight(r.height,r.estimated),this.rootNode.sibling){var i=this.gridOptionsService.getRowHeightForNode(this.rootNode.sibling);this.rootNode.sibling.setRowHeight(i.height,i.estimated)}e&&this.onRowHeightChanged()},t.prototype.resetRowHeightsForAllRowNodes=function(){var e=this,r=!1;return this.forEachNode(function(i){var o=e.gridOptionsService.getRowHeightForNode(i);i.setRowHeight(o.height,o.estimated);var a=i.detailNode;if(a){var s=e.gridOptionsService.getRowHeightForNode(a);a.setRowHeight(s.height,s.estimated)}if(i.sibling){var l=e.gridOptionsService.getRowHeightForNode(i.sibling);a.setRowHeight(l.height,l.estimated)}r=!0}),r},t.prototype.resetRootStore=function(){this.destroyRootStore(),this.rootNode=new Ct(this.beans),this.rootNode.group=!0,this.rootNode.level=-1,this.datasource&&(this.storeParams=this.createStoreParams(),this.rootNode.childStore=this.createBean(this.storeFactory.createStore(this.storeParams,this.rootNode)),this.updateRowIndexesAndBounds()),this.managingPivotResultColumns&&(this.columnModel.setSecondaryColumns(null,"api"),this.managingPivotResultColumns=!1),this.dispatchModelUpdated(!0)},t.prototype.columnsToValueObjects=function(e){var r=this;return e.map(function(i){return{id:i.getId(),aggFunc:i.getAggFunc(),displayName:r.columnModel.getDisplayNameForColumn(i,"model"),field:i.getColDef().field}})},t.prototype.createStoreParams=function(){var e=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),r=this.columnsToValueObjects(this.columnModel.getValueColumns()),i=this.columnsToValueObjects(this.columnModel.getPivotColumns()),o=this.gridOptionsService.isGetRowHeightFunction(),a={valueCols:r,rowGroupCols:e,pivotCols:i,pivotMode:this.columnModel.isPivotMode(),filterModel:this.filterManager.isAdvancedFilterEnabled()?this.filterManager.getAdvancedFilterModel():this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),datasource:this.datasource,lastAccessedSequence:new ji,dynamicRowHeight:o};return a},t.prototype.getParams=function(){return this.storeParams},t.prototype.dispatchModelUpdated=function(e){e===void 0&&(e=!1);var r={type:M.EVENT_MODEL_UPDATED,animate:!e,keepRenderedRows:!e,newPage:!1,newData:!1};this.eventService.dispatchEvent(r)},t.prototype.onStoreUpdated=function(){this.pauseStoreUpdateListening||(this.updateRowIndexesAndBounds(),this.dispatchModelUpdated())},t.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},t.prototype.onRowHeightChanged=function(){this.updateRowIndexesAndBounds(),this.dispatchModelUpdated()},t.prototype.updateRowIndexesAndBounds=function(){var e=this.getRootStore();e&&e.setDisplayIndexes(new ji,{value:0})},t.prototype.retryLoads=function(){var e=this.getRootStore();e&&(e.retryLoads(),this.onStoreUpdated())},t.prototype.getRow=function(e){var r=this.getRootStore();if(r)return r.getRowUsingDisplayIndex(e)},t.prototype.expandAll=function(e){this.pauseStoreUpdateListening=!0,this.forEachNode(function(r){r.stub||r.hasChildren()&&r.setExpanded(e)}),this.pauseStoreUpdateListening=!1,this.onStoreUpdated()},t.prototype.refreshAfterFilter=function(e,r){this.storeParams&&(this.storeParams.filterModel=e);var i=this.getRootStore();i&&(i.refreshAfterFilter(r),this.onStoreUpdated())},t.prototype.getRootStore=function(){if(this.rootNode&&this.rootNode.childStore)return this.rootNode.childStore},t.prototype.getRowCount=function(){var e=this.getRootStore();return e?e.getDisplayIndexEnd():0},t.prototype.getTopLevelRowCount=function(){var e=this.getRootStore();return e?e.getRowCount():1},t.prototype.getTopLevelRowDisplayedIndex=function(e){var r=this.getRootStore();return r?r.getTopLevelRowDisplayedIndex(e):e},t.prototype.getRowBounds=function(e){var r=this.getRootStore();if(!r){var i=this.gridOptionsService.getRowHeightAsNumber();return{rowTop:0,rowHeight:i}}return r.getRowBounds(e)},t.prototype.getBlockStates=function(){var e=this.getRootStore();if(e){var r={};return e.forEachStoreDeep(function(i){if(i instanceof WN){var o=i.getBlockStateJson(),a=o.id,s=o.state;r[a]=s}else if(i instanceof dO)Object.entries(i.getBlockStates()).forEach(function(l){var u=gK(l,2),c=u[0],d=u[1];r[c]=d});else throw new Error("AG Grid: Unsupported store type")}),r}},t.prototype.getRowIndexAtPixel=function(e){var r=this.getRootStore();return e<=0||!r?0:r.getRowIndexAtPixel(e)},t.prototype.isEmpty=function(){return!1},t.prototype.isRowsToRender=function(){return this.getRootStore()!=null&&this.getRowCount()>0},t.prototype.getType=function(){return"serverSide"},t.prototype.forEachNode=function(e){var r=this.getRootStore();r&&r.forEachNodeDeep(e)},t.prototype.forEachNodeAfterFilterAndSort=function(e,r){r===void 0&&(r=!1);var i=this.getRootStore();i&&i.forEachNodeDeepAfterFilterAndSort(e,void 0,r)},t.prototype.executeOnStore=function(e,r){if(!this.started)return!1;var i=this.getRootStore();if(!i)return!0;var o=i.getChildStore(e);return o&&r(o),!0},t.prototype.refreshStore=function(e){e===void 0&&(e={});var r=e.route?e.route:[];this.executeOnStore(r,function(i){return i.refreshStore(e.purge==!0)})},t.prototype.getStoreState=function(){var e=[],r=this.getRootStore();return r&&r.addStoreStates(e),e},t.prototype.getNodesInRangeForSelection=function(e,r){if(!F.exists(e))return[];if(!r)return[e];var i=e.rowIndex,o=r.rowIndex;if(i===null||o===null)return[e];var a=[],s=gK([i,o].sort(function(c,d){return c-d}),2),l=s[0],u=s[1];return this.forEachNode(function(c){var d=c.rowIndex;d==null||c.stub||d>=l&&d<=u&&a.push(c)}),a.length!==u-l+1?[e]:a},t.prototype.getRowNode=function(e){var r;return this.forEachNode(function(i){i.id===e&&(r=i),i.detailNode&&i.detailNode.id===e&&(r=i.detailNode)}),r},t.prototype.isRowPresent=function(e){var r=this.getRowNode(e.id);return!!r},t.prototype.setRowCount=function(e,r){var i=this.getRootStore();if(i){if(i instanceof dO){i.setRowCount(e,r);return}console.error("AG Grid: Infinite scrolling must be enabled in order to set the row count.")}},Aa([O("columnModel")],t.prototype,"columnModel",void 0),Aa([O("filterManager")],t.prototype,"filterManager",void 0),Aa([O("sortController")],t.prototype,"sortController",void 0),Aa([O("rowRenderer")],t.prototype,"rowRenderer",void 0),Aa([O("ssrmSortService")],t.prototype,"sortListener",void 0),Aa([O("ssrmNodeManager")],t.prototype,"nodeManager",void 0),Aa([O("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),Aa([O("beans")],t.prototype,"beans",void 0),Aa([xt("pivotColDefService")],t.prototype,"pivotColDefService",void 0),Aa([Gr],t.prototype,"destroyDatasource",null),Aa([q],t.prototype,"addEventListeners",null),Aa([Gr],t.prototype,"destroyRootStore",null),t=Aa([me("rowModel")],t),t}(re),pet=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),uE=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},het=function(n){pet(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.loadFromDatasource=function(e){var r=e.storeParams,i=e.parentBlock,o=e.parentNode,a=o.getGroupKeys();if(r.datasource){var s={startRow:e.startRow,endRow:e.endRow,rowGroupCols:r.rowGroupCols,valueCols:r.valueCols,pivotCols:r.pivotCols,pivotMode:r.pivotMode,groupKeys:a,filterModel:r.filterModel,sortModel:r.sortModel},l=this.gridOptionsService.addGridCommonParams({success:e.success,fail:e.fail,request:s,parentNode:e.parentNode});window.setTimeout(function(){if(!r.datasource||!i.isAlive()){e.fail();return}r.datasource.getRows(l)},0)}},t.prototype.getChildStore=function(e,r,i){if(F.missingOrEmpty(e))return r;var o=e[0],a=i(o);if(a){if(e.length===1&&!a.childStore){var s=this.serverSideRowModel.getParams();a.childStore=this.createBean(this.storeFactory.createStore(s,a))}var l=e.slice(1,e.length),u=a.childStore;return u?u.getChildStore(l):null}return null},t.prototype.isServerRefreshNeeded=function(e,r,i){if(i.valueColChanged||i.secondaryColChanged)return!0;var o=e.level+1,a=o<r.length,s=!a;if(s)return!0;var l=r[o].id,u=i.changedColumns.indexOf(l)>-1;if(u)return!0;var c=this.columnModel.getAllGridColumns(),d=c.filter(function(p){return p.getColDef().showRowGroup&&i.changedColumns.includes(p.getId())}).map(function(p){return p.getColDef().showRowGroup}).some(function(p){return p===!0||p===l});return d},t.prototype.getServerSideInitialRowCount=function(){return this.gridOptionsService.get("serverSideInitialRowCount")},t.prototype.assertRowModelIsServerSide=function(e){return this.gridOptionsService.isRowModelType("serverSide")?!0:(F.warnOnce("The '".concat(e,"' property can only be used with the Server Side Row Model.")),!1)},t.prototype.assertNotTreeData=function(e){return this.gridOptionsService.get("treeData")?(F.warnOnce("The '".concat(e,"' property cannot be used while using tree data.")),!1):!0},t.prototype.isServerSideSortAllLevels=function(){return this.gridOptionsService.get("serverSideSortAllLevels")&&this.assertRowModelIsServerSide("serverSideSortAllLevels")},t.prototype.isServerSideOnlyRefreshFilteredGroups=function(){return this.gridOptionsService.get("serverSideOnlyRefreshFilteredGroups")&&this.assertRowModelIsServerSide("serverSideOnlyRefreshFilteredGroups")},t.prototype.isServerSideSortOnServer=function(){return this.gridOptionsService.get("serverSideSortOnServer")&&this.assertRowModelIsServerSide("serverSideSortOnServer")&&this.assertNotTreeData("serverSideSortOnServer")},t.prototype.isServerSideFilterOnServer=function(){return this.gridOptionsService.get("serverSideFilterOnServer")&&this.assertRowModelIsServerSide("serverSideFilterOnServer")&&this.assertNotTreeData("serverSideFilterOnServer")},uE([O("columnModel")],t.prototype,"columnModel",void 0),uE([O("rowModel")],t.prototype,"serverSideRowModel",void 0),uE([O("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),t=uE([me("ssrmStoreUtils")],t),t}(re),fet=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),mg=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vet="ag-Grid-MissingKey",get=function(n){fet(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.createRowNode=function(e){var r=new Ct(this.beans),i=e.rowHeight!=null?e.rowHeight:this.gridOptionsService.getRowHeightAsNumber();return r.setRowHeight(i),r.group=e.group,r.leafGroup=e.leafGroup,r.level=e.level,r.uiLevel=e.level,r.parent=e.parent,r.stub=!0,r.__needsRefreshWhenVisible=!1,r.group&&(r.expanded=!1,r.field=e.field,r.rowGroupColumn=e.rowGroupColumn),r},t.prototype.destroyRowNodes=function(e){var r=this;e&&e.forEach(function(i){return r.destroyRowNode(i)})},t.prototype.destroyRowNode=function(e,r){r===void 0&&(r=!1),e.childStore&&!r&&(this.destroyBean(e.childStore),e.childStore=null),e.sibling&&!e.footer&&this.destroyRowNode(e.sibling,!1),e.clearRowTopAndRowIndex(),e.id!=null&&this.nodeManager.removeNode(e)},t.prototype.setTreeGroupInfo=function(e){e.updateHasChildren();var r=this.gridOptionsService.get("getServerSideGroupKey");e.hasChildren()&&r!=null&&(e.key=r(e.data)),!e.hasChildren()&&e.childStore!=null&&(this.destroyBean(e.childStore),e.childStore=null,e.expanded=!1)},t.prototype.setRowGroupInfo=function(e){e.key=this.valueService.getValue(e.rowGroupColumn,e),(e.key===null||e.key===void 0)&&F.doOnce(function(){console.warn("AG Grid: null and undefined values are not allowed for server side row model keys"),e.rowGroupColumn&&console.warn("column = ".concat(e.rowGroupColumn.getId())),console.warn("data is ",e.data)},"ServerSideBlock-CannotHaveNullOrUndefinedForKey");var r=this.beans.gridOptionsService.getGroupIncludeFooter(),i=r({node:e});i&&(e.createFooter(),e.sibling&&(e.sibling.uiLevel=e.uiLevel+1))},t.prototype.setMasterDetailInfo=function(e){var r=this.gridOptionsService.get("isRowMaster");r!=null?e.master=r(e.data):e.master=!0},t.prototype.updateDataIntoRowNode=function(e,r){if(e.updateData(r),this.gridOptionsService.get("treeData"))this.setTreeGroupInfo(e),this.setChildCountIntoRowNode(e);else if(e.group){if(this.setChildCountIntoRowNode(e),!e.footer){var i=this.beans.gridOptionsService.getGroupIncludeFooter(),o=i({node:e});o?e.sibling?e.sibling.updateData(r):e.createFooter():e.sibling&&e.destroyFooter()}}else this.gridOptionsService.get("masterDetail")},t.prototype.setDataIntoRowNode=function(e,r,i,o){var a;e.stub=!1;var s=this.gridOptionsService.get("treeData");F.exists(r)?(e.setDataAndId(r,i),s?this.setTreeGroupInfo(e):e.group?this.setRowGroupInfo(e):this.gridOptionsService.get("masterDetail")&&this.setMasterDetailInfo(e)):(e.setDataAndId(void 0,void 0),e.key=null),(s||e.group)&&(this.setGroupDataIntoRowNode(e),this.setChildCountIntoRowNode(e)),F.exists(r)&&(e.setRowHeight(this.gridOptionsService.getRowHeightForNode(e,!1,o).height),(a=e.sibling)===null||a===void 0||a.setRowHeight(this.gridOptionsService.getRowHeightForNode(e.sibling,!1,o).height))},t.prototype.setChildCountIntoRowNode=function(e){var r=this.gridOptionsService.get("getChildCount");r&&e.setAllChildrenCount(r(e.data))},t.prototype.setGroupDataIntoRowNode=function(e){var r=this,i=this.columnModel.getGroupDisplayColumns(),o=this.gridOptionsService.get("treeData");i.forEach(function(a){if(e.groupData==null&&(e.groupData={}),o)e.groupData[a.getColId()]=e.key;else if(a.isRowGroupDisplayed(e.rowGroupColumn.getId())){var s=r.valueService.getValue(e.rowGroupColumn,e);e.groupData[a.getColId()]=s}})},t.prototype.clearDisplayIndex=function(e){e.clearRowTopAndRowIndex();var r=e.hasChildren()&&F.exists(e.childStore);if(r){var i=e.childStore;i.clearDisplayIndexes()}var o=e.master&&e.detailNode;o&&e.detailNode.clearRowTopAndRowIndex()},t.prototype.setDisplayIndex=function(e,r,i){if(e.setRowIndex(r.next()),e.setRowTop(i.value),i.value+=e.rowHeight,!e.footer){var o=e.master;o&&(e.expanded&&e.detailNode?(e.detailNode.setRowIndex(r.next()),e.detailNode.setRowTop(i.value),i.value+=e.detailNode.rowHeight):e.detailNode&&e.detailNode.clearRowTopAndRowIndex());var a=e.hasChildren()&&F.exists(e.childStore);if(a){var s=e.childStore;e.expanded?s.setDisplayIndexes(r,i):s.clearDisplayIndexes()}}},t.prototype.binarySearchForDisplayIndex=function(e,r){var i=0,o=r.length-1;if(F.missing(o)||F.missing(i)){console.warn("AG Grid: error: topPointer = ".concat(o,", bottomPointer = ").concat(i));return}for(;;){var a=Math.floor((i+o)/2),s=r[a];if(s.rowIndex===e)return s;var l=s.master&&s.expanded,u=s.detailNode;if(l&&u&&u.rowIndex===e)return s.detailNode;var c=s.childStore;if(s.expanded&&c&&c.isDisplayIndexInStore(e))return c.getRowUsingDisplayIndex(e);if(s.rowIndex<e)i=a+1;else if(s.rowIndex>e)o=a-1;else{console.warn("AG Grid: error: unable to locate rowIndex = ".concat(e," in cache"));return}}},t.prototype.extractRowBounds=function(e,r){var i=function(a){return{rowHeight:a.rowHeight,rowTop:a.rowTop}};if(e.rowIndex===r)return i(e);if(e.hasChildren()&&e.expanded&&F.exists(e.childStore)){var o=e.childStore;if(o.isDisplayIndexInStore(r))return o.getRowBounds(r)}else if(e.master&&e.expanded&&F.exists(e.detailNode)&&e.detailNode.rowIndex===r)return i(e.detailNode)},t.prototype.getIndexAtPixel=function(e,r){if(e.isPixelInRange(r))return e.rowIndex;var i=e.master&&e.expanded,o=e.detailNode;if(i&&o&&o.isPixelInRange(r))return e.detailNode.rowIndex;if(e.hasChildren()&&e.expanded&&F.exists(e.childStore)){var a=e.childStore;if(a.isPixelInRange(r))return a.getRowIndexAtPixel(r)}return null},t.prototype.createNodeIdPrefix=function(e){for(var r=[],i=e;i&&i.level>=0;)i.key===""?r.push(vet):r.push(i.key),i=i.parent;if(r.length>0)return r.reverse().join("-")},t.prototype.checkOpenByDefault=function(e){return this.expansionService.checkOpenByDefault(e)},mg([O("valueService")],t.prototype,"valueService",void 0),mg([O("columnModel")],t.prototype,"columnModel",void 0),mg([O("ssrmNodeManager")],t.prototype,"nodeManager",void 0),mg([O("beans")],t.prototype,"beans",void 0),mg([O("expansionService")],t.prototype,"expansionService",void 0),t=mg([me("ssrmBlockUtils")],t),t}(re),mK=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},met=function(){function n(){this.rowNodes={}}return n.prototype.addRowNode=function(t){var e=t.id;this.rowNodes[e]&&(console.warn("AG Grid: Duplicate node id ".concat(t.id,". Row ID's are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.")),console.warn("first instance",this.rowNodes[e].data),console.warn("second instance",t.data)),this.rowNodes[e]=t},n.prototype.removeNode=function(t){var e=t.id;this.rowNodes[e]&&(this.rowNodes[e]=void 0)},n.prototype.clear=function(){this.rowNodes={}},mK([Gr],n.prototype,"clear",null),n=mK([me("ssrmNodeManager")],n),n}(),yet=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Kh=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Cet=function(n){yet(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.asyncTransactions=[],e}return t.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("serverSide")},t.prototype.applyTransactionAsync=function(e,r){this.asyncTransactionsTimeout==null&&this.scheduleExecuteAsync(),this.asyncTransactions.push({transaction:e,callback:r})},t.prototype.scheduleExecuteAsync=function(){var e=this,r=this.gridOptionsService.getAsyncTransactionWaitMillis();this.asyncTransactionsTimeout=window.setTimeout(function(){e.executeAsyncTransactions()},r)},t.prototype.executeAsyncTransactions=function(){var e=this;if(this.asyncTransactions){var r=[],i=[],o=[],a=!1;if(this.asyncTransactions.forEach(function(l){var u,c=e.serverSideRowModel.executeOnStore(l.transaction.route,function(p){u=p.applyTransaction(l.transaction)});c?u==null&&(u={status:Vi.StoreNotFound}):u={status:Vi.StoreNotStarted},i.push(u);var d=u.status==Vi.StoreLoading;if(d){o.push(l);return}l.callback&&r.push(function(){return l.callback(u)}),u.status===Vi.Applied&&(a=!0)}),r.length>0&&window.setTimeout(function(){r.forEach(function(l){return l()})},0),this.asyncTransactionsTimeout=void 0,this.asyncTransactions=o,a&&(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:M.EVENT_STORE_UPDATED})),i.length>0){var s={type:M.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:i};this.eventService.dispatchEvent(s)}}},t.prototype.flushAsyncTransactions=function(){this.asyncTransactionsTimeout!=null&&clearTimeout(this.asyncTransactionsTimeout),this.executeAsyncTransactions()},t.prototype.applyTransaction=function(e){var r,i=this.serverSideRowModel.executeOnStore(e.route,function(a){r=a.applyTransaction(e)});if(i)if(r){if(this.valueCache.onDataChanged(),r.remove){var o=r.remove.map(function(a){return a.id});this.selectionService.deleteSelectionStateFromParent(e.route||[],o)}return this.eventService.dispatchEvent({type:M.EVENT_STORE_UPDATED}),r}else return{status:Vi.StoreNotFound};else return{status:Vi.StoreNotStarted}},Kh([O("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Kh([O("valueCache")],t.prototype,"valueCache",void 0),Kh([O("rowModel")],t.prototype,"serverSideRowModel",void 0),Kh([O("rowRenderer")],t.prototype,"rowRenderer",void 0),Kh([O("selectionService")],t.prototype,"selectionService",void 0),Kh([q],t.prototype,"postConstruct",null),t=Kh([me("ssrmTransactionManager")],t),t}(re),wet=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),lS=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},_et=function(n){wet(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("serverSide")&&this.addManagedListener(this.eventService,M.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this))},t.prototype.onRowGroupOpened=function(e){var r=e.node;if(r.expanded){if(r.master)this.createDetailNode(r);else if(F.missing(r.childStore)){var i=this.serverSideRowModel.getParams();r.childStore=this.createBean(this.storeFactory.createStore(i,r))}}else this.gridOptionsService.get("purgeClosedRowNodes")&&F.exists(r.childStore)&&(r.childStore=this.destroyBean(r.childStore));var o={type:M.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(o)},t.prototype.createDetailNode=function(e){if(F.exists(e.detailNode))return e.detailNode;var r=new Ct(this.beans);r.detail=!0,r.selectable=!1,r.parent=e,F.exists(e.id)&&(r.id="detail_"+e.id),r.data=e.data,r.level=e.level+1;var i=200,o=this.gridOptionsService.getRowHeightForNode(r).height;return r.rowHeight=o||i,e.detailNode=r,r},lS([O("rowModel")],t.prototype,"serverSideRowModel",void 0),lS([O("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),lS([O("beans")],t.prototype,"beans",void 0),lS([q],t.prototype,"postConstruct",null),t=lS([me("ssrmExpandListener")],t),t}(re),xet=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),uS=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},bet=function(n){xet(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("serverSide")&&this.addManagedListener(this.eventService,M.EVENT_SORT_CHANGED,this.onSortChanged.bind(this))},t.prototype.onSortChanged=function(){var e=this.serverSideRowModel.getParams();if(e){var r=this.sortController.getSortModel(),i=e.sortModel,o=this.findChangedColumnsInSort(r,i),a=this.listenerUtils.isSortingWithValueColumn(o),s=this.listenerUtils.isSortingWithSecondaryColumn(o),l={valueColChanged:a,secondaryColChanged:s,changedColumns:o};this.serverSideRowModel.refreshAfterSort(r,l)}},t.prototype.findChangedColumnsInSort=function(e,r){var i=[];[e,r].forEach(function(s){if(s){var l=s.map(function(u){return u.colId});i=i.concat(l)}});var o=function(s,l){var u=s?s.sort:null,c=l?l.sort:null;return u!==c},a=function(s,l){var u=s?r.indexOf(s):-1,c=l?e.indexOf(l):-1;return u!==c};return i.filter(function(s){var l=r.find(function(c){return c.colId===s}),u=e.find(function(c){return c.colId===s});return o(l,u)||a(l,u)})},uS([O("sortController")],t.prototype,"sortController",void 0),uS([O("rowModel")],t.prototype,"serverSideRowModel",void 0),uS([O("ssrmListenerUtils")],t.prototype,"listenerUtils",void 0),uS([q],t.prototype,"postConstruct",null),t=uS([me("ssrmSortService")],t),t}(re),Eet=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),cS=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Oet=function(n){Eet(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){var e=this;this.gridOptionsService.isRowModelType("serverSide")&&(this.addManagedListener(this.eventService,M.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,function(){return e.onFilterChanged(!0)}),this.addManagedListener(this.eventService,M.EVENT_FILTER_CHANGED,function(){return e.onFilterChanged()}))},t.prototype.onFilterChanged=function(e){var r=this.serverSideRowModel.getParams();if(r){var i=r.filterModel,o,a;if(this.filterManager.isAdvancedFilterEnabled()){o=this.filterManager.getAdvancedFilterModel();var s=e?Object.keys(i??{}):this.getAdvancedFilterColumns(i),l=this.getAdvancedFilterColumns(o);s.forEach(function(h){return l.add(h)}),a=Array.from(l)}else if(o=this.filterManager.getFilterModel(),e){var u=this.getAdvancedFilterColumns(i);Object.keys(o).forEach(function(h){return u.add(h)}),a=Array.from(u)}else a=this.findChangedColumns(i,o);var c=this.listenerUtils.isSortingWithValueColumn(a),d=this.listenerUtils.isSortingWithSecondaryColumn(a),p={valueColChanged:c,secondaryColChanged:d,changedColumns:a};this.serverSideRowModel.refreshAfterFilter(o,p)}},t.prototype.findChangedColumns=function(e,r){var i={};Object.keys(e).forEach(function(a){return i[a]=!0}),Object.keys(r).forEach(function(a){return i[a]=!0});var o=[];return Object.keys(i).forEach(function(a){var s=JSON.stringify(e[a]),l=JSON.stringify(r[a]),u=s!=l;u&&o.push(a)}),o},t.prototype.getAdvancedFilterColumns=function(e){var r=new Set;if(!e)return r;var i=function(o){o.filterType==="join"?o.conditions.forEach(function(a){return i(a)}):r.add(o.colId)};return i(e),r},cS([O("rowModel")],t.prototype,"serverSideRowModel",void 0),cS([O("filterManager")],t.prototype,"filterManager",void 0),cS([O("ssrmListenerUtils")],t.prototype,"listenerUtils",void 0),cS([q],t.prototype,"postConstruct",null),t=cS([me("ssrmFilterListener")],t),t}(re),fF=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ret=function(){function n(){}return n.prototype.createStore=function(t,e){var r=this.getStoreParams(t,e),i=r.suppressInfiniteScroll?WN:dO;return new i(t,r,e)},n.prototype.getStoreParams=function(t,e){var r=this.getLevelSpecificParams(e),i=this.isInfiniteScroll(r),o=this.getBlockSize(i,r),a=this.getMaxBlocksInCache(i,t,r),s={suppressInfiniteScroll:!i,cacheBlockSize:o,maxBlocksInCache:a};return s},n.prototype.getMaxBlocksInCache=function(t,e,r){if(t){var i=r&&r.maxBlocksInCache!=null?r.maxBlocksInCache:this.gridOptionsService.get("maxBlocksInCache"),o=i!=null&&i>=0;if(o){if(e.dynamicRowHeight){var a="Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.";F.warnOnce(a);return}if(this.columnModel.isAutoRowHeightActive()){var a="Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.";F.warnOnce(a);return}return i}}},n.prototype.getBlockSize=function(t,e){if(t){var r=e&&e.cacheBlockSize!=null?e.cacheBlockSize:this.gridOptionsService.get("cacheBlockSize");return r!=null&&r>0?r:100}},n.prototype.getLevelSpecificParams=function(t){var e=this.gridOptionsService.getCallback("getServerSideGroupLevelParams");if(e){var r={level:t.level+1,parentRowNode:t.level>=0?t:void 0,rowGroupColumns:this.columnModel.getRowGroupColumns(),pivotColumns:this.columnModel.getPivotColumns(),pivotMode:this.columnModel.isPivotMode()},i=e(r);return i}},n.prototype.isInfiniteScroll=function(t){var e=t&&t.suppressInfiniteScroll!=null?t.suppressInfiniteScroll:this.isSuppressServerSideInfiniteScroll();return!e},n.prototype.isSuppressServerSideInfiniteScroll=function(){return this.gridOptionsService.get("suppressServerSideInfiniteScroll")},fF([O("gridOptionsService")],n.prototype,"gridOptionsService",void 0),fF([O("columnModel")],n.prototype,"columnModel",void 0),n=fF([me("ssrmStoreFactory")],n),n}(),yK=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Tet=function(){function n(){}return n.prototype.isSortingWithValueColumn=function(t){for(var e=this.columnModel.getValueColumns().map(function(i){return i.getColId()}),r=0;r<t.length;r++)if(e.indexOf(t[r])>-1)return!0;return!1},n.prototype.isSortingWithSecondaryColumn=function(t){if(!this.columnModel.getSecondaryColumns())return!1;for(var e=this.columnModel.getSecondaryColumns().map(function(i){return i.getColId()}),r=0;r<t.length;r++)if(e.indexOf(t[r])>-1)return!0;return!1},yK([O("columnModel")],n.prototype,"columnModel",void 0),n=yK([me("ssrmListenerUtils")],n),n}(),Pet=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),CK=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Det=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Aet=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},SK=function(n){Pet(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.selectedState={selectAll:!1,toggledNodes:new Set},e.lastSelected=null,e.selectAllUsed=!1,e.selectedNodes={},e}return t.prototype.init=function(){var e=this;this.rowSelection=this.gridOptionsService.get("rowSelection"),this.addManagedPropertyListener("rowSelection",function(r){e.rowSelection=r.currentValue})},t.prototype.getSelectedState=function(){return{selectAll:this.selectedState.selectAll,toggledNodes:Aet([],Det(this.selectedState.toggledNodes),!1)}},t.prototype.setSelectedState=function(e){var r={selectAll:!1,toggledNodes:new Set};if(typeof e!="object"){console.error("AG Grid: The provided selection state should be an object.");return}if("selectAll"in e&&typeof e.selectAll=="boolean")r.selectAll=e.selectAll;else{console.error("AG Grid: Select all status should be of boolean type.");return}if("toggledNodes"in e&&Array.isArray(e.toggledNodes))e.toggledNodes.forEach(function(i){typeof i=="string"?r.toggledNodes.add(i):console.warn("AG Grid: Provided ids must be of string type. Invalid id provided: ".concat(i))});else{console.error("AG Grid: `toggledNodes` must be an array of string ids.");return}this.selectedState=r},t.prototype.deleteSelectionStateFromParent=function(e,r){var i=this;if(this.selectedState.toggledNodes.size===0)return!1;var o=!1;return r.forEach(function(a){i.selectedState.toggledNodes.delete(a)&&(o=!0)}),o},t.prototype.setNodesSelected=function(e){var r,i=this;if(e.nodes.length===0)return 0;var o=e.clearSelection&&e.newValue&&!e.rangeSelect;if(this.rowSelection!=="multiple"||o){if(e.nodes.length>1)throw new Error("AG Grid: cannot select multiple rows when rowSelection is set to 'single'");var a=e.nodes[0];return e.newValue?(this.selectedNodes=(r={},r[a.id]=a,r),this.selectedState={selectAll:!1,toggledNodes:new Set([a.id])}):(this.selectedNodes={},this.selectedState={selectAll:!1,toggledNodes:new Set}),this.lastSelected=a.id,1}var s=function(u){e.newValue?i.selectedNodes[u.id]=u:delete i.selectedNodes[u.id];var c=u.selectable,d=e.newValue===i.selectedState.selectAll;if(d||!c){i.selectedState.toggledNodes.delete(u.id);return}i.selectedState.toggledNodes.add(u.id)};if(e.rangeSelect&&this.lastSelected){if(e.nodes.length>1)throw new Error("AG Grid: cannot select multiple rows when using rangeSelect");var a=e.nodes[0],l=this.rowModel.getRowNode(this.lastSelected);return this.rowModel.getNodesInRangeForSelection(a,l??null).forEach(s),this.lastSelected=a.id,1}return e.nodes.forEach(s),this.lastSelected=e.nodes[e.nodes.length-1].id,1},t.prototype.processNewRow=function(e){this.selectedNodes[e.id]&&(this.selectedNodes[e.id]=e)},t.prototype.isNodeSelected=function(e){var r=this.selectedState.toggledNodes.has(e.id);return this.selectedState.selectAll?!r:r},t.prototype.getSelectedNodes=function(){return this.selectAllUsed&&console.warn("AG Grid: getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model.\n                Use `api.getServerSideSelectionState()` instead."),Object.values(this.selectedNodes)},t.prototype.getSelectedRows=function(){return this.getSelectedNodes().map(function(e){return e.data})},t.prototype.getSelectionCount=function(){return this.selectedState.selectAll?-1:this.selectedState.toggledNodes.size},t.prototype.clearOtherNodes=function(e,r){var i=this.selectedState.selectAll?1:this.selectedState.toggledNodes.size-1;this.selectedState={selectAll:!1,toggledNodes:new Set([e.id])},this.rowModel.forEachNode(function(a){a!==e&&a.selectThisNode(!1,void 0,r)});var o={type:M.EVENT_SELECTION_CHANGED,source:r};return this.eventService.dispatchEvent(o),i},t.prototype.isEmpty=function(){var e;return!this.selectedState.selectAll&&!(!((e=this.selectedState.toggledNodes)===null||e===void 0)&&e.size)},t.prototype.selectAllRowNodes=function(e){this.selectedState={selectAll:!0,toggledNodes:new Set},this.selectedNodes={},this.selectAllUsed=!0},t.prototype.deselectAllRowNodes=function(e){this.selectedState={selectAll:!1,toggledNodes:new Set},this.selectedNodes={}},t.prototype.getSelectAllState=function(e,r){return this.selectedState.selectAll?this.selectedState.toggledNodes.size>0?null:!0:this.selectedState.toggledNodes.size>0?null:!1},CK([O("rowModel")],t.prototype,"rowModel",void 0),CK([q],t.prototype,"init",null),t}(re),Met=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Iw=function(){return Iw=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Iw.apply(this,arguments)},yg=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Let=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},dS=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},Fet=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},Iet=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},wK=function(n){Met(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.selectedState={selectAllChildren:!1,toggledNodes:new Map},e.lastSelected=null,e}return t.prototype.init=function(){var e=this;this.addManagedListener(this.eventService,M.EVENT_MODEL_UPDATED,function(){return e.removeRedundantState()}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.selectionService.reset("rowGroupChanged")})},t.prototype.getSelectedState=function(){var e=this,r=this.gridOptionsService.get("treeData"),i=function(o,a,s){var l={nodeId:s};if((r||a<=e.columnModel.getRowGroupColumns().length)&&(l.selectAllChildren=o.selectAllChildren),o.toggledNodes.size){var u=[];o.toggledNodes.forEach(function(c,d){var p=i(c,a+1,d);u.push(p)}),l.toggledNodes=u}return l};return i(this.selectedState,0)},t.prototype.setSelectedState=function(e){var r=function(i,o){var a,s;if(typeof i!="object")throw new Error("AG Grid: Each provided state object must be an object.");if("selectAllChildren"in i&&typeof i.selectAllChildren!="boolean")throw new Error("AG Grid: `selectAllChildren` must be a boolean value or undefined.");if("toggledNodes"in i){if(!Array.isArray(i.toggledNodes))throw new Error("AG Grid: `toggledNodes` must be an array.");var l=i.toggledNodes.every(function(p){return typeof p=="object"&&"nodeId"in p&&typeof p.nodeId=="string"});if(!l)throw new Error("AG Grid: Every `toggledNode` requires an associated string id.")}var u=(a=i.selectAllChildren)!==null&&a!==void 0?a:!o,c=(s=i.toggledNodes)===null||s===void 0?void 0:s.map(function(p){return[p.nodeId,r(p,u)]}),d=c==null?void 0:c.some(function(p){var h=dS(p,2);h[0];var f=h[1];return u===f.selectAllChildren&&f.toggledNodes.size===0});if(d)throw new Error(`
                    AG Grid: AG Grid: Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule.
                    Please rebuild the selection state and reapply it.
                `);return{selectAllChildren:u,toggledNodes:new Map(c)}};try{this.selectedState=r(e,!!e.selectAllChildren)}catch(i){console.error(i.message)}},t.prototype.deleteSelectionStateFromParent=function(e,r){for(var i=this.selectedState,o=Fet([],dS(e),!1);i&&o.length;)i=i.toggledNodes.get(o.pop());if(!i)return!1;var a=!1;return r.forEach(function(s){i!=null&&i.toggledNodes.delete(s)&&(a=!0)}),a&&this.removeRedundantState(),a},t.prototype.setNodesSelected=function(e){var r=this,i=e.nodes,o=Let(e,["nodes"]);if(i.length===0)return 0;if(e.rangeSelect){if(i.length>1)throw new Error("AG Grid: cannot select multiple rows when using rangeSelect");var a=i[0],s=this.rowModel.getNodesInRangeForSelection(a,this.lastSelected),l=s.map(this.getRouteToNode).sort(function(c,d){return d.length-c.length}),u=new Set;return l.forEach(function(c){u.has(c[c.length-1])||(c.forEach(function(d){return u.add(d)}),r.recursivelySelectNode(c,r.selectedState,Iw({node:a},o)))}),this.removeRedundantState(),this.lastSelected=a,1}return e.nodes.forEach(function(c){var d=r.getRouteToNode(c);r.recursivelySelectNode(d,r.selectedState,Iw(Iw({},o),{node:c}))}),this.removeRedundantState(),this.lastSelected=e.nodes[e.nodes.length-1],1},t.prototype.isNodeSelected=function(e){var r=this.getRouteToNode(e);return this.isNodePathSelected(r,this.selectedState)},t.prototype.isNodePathSelected=function(e,r){var i=dS(e),o=i[0],a=i.slice(1);if(a.length===0){var s=r.toggledNodes.has(o.id);if(o.hasChildren()){var l=r.toggledNodes.get(o.id);if(l&&l.toggledNodes.size)return}return r.selectAllChildren?!s:s}if(r.toggledNodes.has(o.id)){var u=r.toggledNodes.get(o.id);if(u)return this.isNodePathSelected(a,u)}return!!r.selectAllChildren},t.prototype.getRouteToNode=function(e){for(var r=[],i=e;i.parent;)r.push(i),i=i.parent;return r.reverse()},t.prototype.removeRedundantState=function(){var e=this;if(!this.filterManager.isAnyFilterPresent()){var r=function(i,o,a){var s,l;if(i===void 0&&(i=e.selectedState),i.toggledNodes.forEach(function(_,x){r(_,x,i)}),o){var u=e.rowModel.getRowNode(o),c=u==null?void 0:u.childStore,d=c==null?void 0:c.isLastRowIndexKnown();if(d){var p=i.toggledNodes.size>=c.getRowCount();if(p){try{for(var h=Iet(i.toggledNodes.entries()),f=h.next();!f.done;f=h.next()){var v=f.value,g=dS(v,2),m=g[0],y=g[1];if(y.toggledNodes.size>0)return;var C=!e.rowModel.getRowNode(m);if(C)return}}catch(_){s={error:_}}finally{try{f&&!f.done&&(l=h.return)&&l.call(h)}finally{if(s)throw s.error}}i.selectAllChildren=!i.selectAllChildren,i.toggledNodes.clear()}}}var S=i.toggledNodes.size===0,w=(a==null?void 0:a.selectAllChildren)===i.selectAllChildren;S&&w&&(a==null||a.toggledNodes.delete(o))};r()}},t.prototype.recursivelySelectNode=function(e,r,i){var o=dS(e),a=o[0],s=o.slice(1);if(a){var l=!s.length;if(l){var u=a.selectable,c=r.selectAllChildren===i.newValue;if(c||!u){r.toggledNodes.delete(a.id);return}var d={selectAllChildren:i.newValue,toggledNodes:new Map};r.toggledNodes.set(a.id,d);return}var p=r.toggledNodes.has(a.id),h=p?r.toggledNodes.get(a.id):{selectAllChildren:r.selectAllChildren,toggledNodes:new Map};p||r.toggledNodes.set(a.id,h),this.recursivelySelectNode(s,h,i),r.selectAllChildren===h.selectAllChildren&&h.toggledNodes.size===0&&r.toggledNodes.delete(a.id)}},t.prototype.getSelectedNodes=function(){console.warn("AG Grid: `getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model.\n            Use `api.getServerSideSelectionState()` instead.");var e=[];return this.rowModel.forEachNode(function(r){r.isSelected()&&e.push(r)}),e},t.prototype.processNewRow=function(e){},t.prototype.getSelectedRows=function(){return this.getSelectedNodes().map(function(e){return e.data})},t.prototype.getSelectionCount=function(){return-1},t.prototype.isEmpty=function(){var e;return!this.selectedState.selectAllChildren&&!(!((e=this.selectedState.toggledNodes)===null||e===void 0)&&e.size)},t.prototype.selectAllRowNodes=function(e){this.selectedState={selectAllChildren:!0,toggledNodes:new Map}},t.prototype.deselectAllRowNodes=function(e){this.selectedState={selectAllChildren:!1,toggledNodes:new Map}},t.prototype.getSelectAllState=function(e,r){return this.selectedState.selectAllChildren?this.selectedState.toggledNodes.size>0?null:!0:this.selectedState.toggledNodes.size>0?null:!1},yg([O("rowModel")],t.prototype,"rowModel",void 0),yg([O("columnModel")],t.prototype,"columnModel",void 0),yg([O("filterManager")],t.prototype,"filterManager",void 0),yg([O("rowModel")],t.prototype,"serverSideRowModel",void 0),yg([O("selectionService")],t.prototype,"selectionService",void 0),yg([q],t.prototype,"init",null),t}(re),Net=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),UN=function(){return UN=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},UN.apply(this,arguments)},vF=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ket=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]]);return e},Get=function(n){Net(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.init=function(){var e=this,r=this.gridOptionsService.get("groupSelectsChildren");this.addManagedPropertyListener("groupSelectsChildren",function(o){e.destroyBean(e.selectionStrategy);var a=o.currentValue?wK:SK;e.selectionStrategy=e.createManagedBean(new a),e.shotgunResetNodeSelectionState();var s={type:M.EVENT_SELECTION_CHANGED,source:"api"};e.eventService.dispatchEvent(s)}),this.addManagedPropertyListener("rowSelection",function(){return e.deselectAllRowNodes({source:"api"})});var i=r?wK:SK;this.selectionStrategy=this.createManagedBean(new i)},t.prototype.getSelectionState=function(){return this.selectionStrategy.getSelectedState()},t.prototype.setSelectionState=function(e,r){if(!Array.isArray(e)){this.selectionStrategy.setSelectedState(e),this.shotgunResetNodeSelectionState();var i={type:M.EVENT_SELECTION_CHANGED,source:r};this.eventService.dispatchEvent(i)}},t.prototype.setNodesSelected=function(e){var r=e.nodes,i=ket(e,["nodes"]),o=this.gridOptionsService.get("rowSelection");if(r.length>1&&o!=="multiple")return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;if(r.length>1&&e.rangeSelect)return console.warn("AG Grid: cannot use range selection when multi selecting rows"),0;var a=UN({nodes:r.filter(function(u){return u.selectable})},i);if(!a.nodes.length)return 0;var s=this.selectionStrategy.setNodesSelected(a);this.shotgunResetNodeSelectionState(a.source);var l={type:M.EVENT_SELECTION_CHANGED,source:a.source};return this.eventService.dispatchEvent(l),s},t.prototype.deleteSelectionStateFromParent=function(e,r){var i=this.selectionStrategy.deleteSelectionStateFromParent(e,r);if(i){this.shotgunResetNodeSelectionState();var o={type:M.EVENT_SELECTION_CHANGED,source:"api"};this.eventService.dispatchEvent(o)}},t.prototype.shotgunResetNodeSelectionState=function(e){var r=this;this.rowModel.forEachNode(function(i){if(!i.stub){var o=r.selectionStrategy.isNodeSelected(i);o!==i.isSelected()&&i.selectThisNode(o,void 0,e)}})},t.prototype.getSelectedNodes=function(){return this.selectionStrategy.getSelectedNodes()},t.prototype.getSelectedRows=function(){return this.selectionStrategy.getSelectedRows()},t.prototype.getSelectionCount=function(){return this.selectionStrategy.getSelectionCount()},t.prototype.syncInRowNode=function(e,r){this.selectionStrategy.processNewRow(e);var i=this.selectionStrategy.isNodeSelected(e);if(i!=!1&&!e.selectable){this.selectionStrategy.setNodesSelected({nodes:[e],newValue:!1,source:"api"}),this.shotgunResetNodeSelectionState();var o={type:M.EVENT_SELECTION_CHANGED,source:"api"};this.eventService.dispatchEvent(o);return}e.setSelectedInitialValue(i)},t.prototype.reset=function(){this.selectionStrategy.deselectAllRowNodes({source:"api"})},t.prototype.isEmpty=function(){return this.selectionStrategy.isEmpty()},t.prototype.hasNodesToSelect=function(e,r){return!0},t.prototype.selectAllRowNodes=function(e){(e.justCurrentPage||e.justFiltered)&&console.warn("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'"),this.selectionStrategy.selectAllRowNodes(e),this.rowModel.forEachNode(function(i){i.stub||i.selectThisNode(!0,void 0,e.source)});var r={type:M.EVENT_SELECTION_CHANGED,source:e.source};this.eventService.dispatchEvent(r)},t.prototype.deselectAllRowNodes=function(e){(e.justCurrentPage||e.justFiltered)&&console.warn("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'"),this.selectionStrategy.deselectAllRowNodes(e),this.rowModel.forEachNode(function(i){i.stub||i.selectThisNode(!1,void 0,e.source)});var r={type:M.EVENT_SELECTION_CHANGED,source:e.source};this.eventService.dispatchEvent(r)},t.prototype.getSelectAllState=function(e,r){return this.selectionStrategy.getSelectAllState(e,r)},t.prototype.updateGroupsFromChildrenSelections=function(e,r){return!1},t.prototype.getBestCostNodeSelection=function(){console.warn("AG Grid: calling gridApi.getBestCostNodeSelection() is only possible when using rowModelType=`clientSide`.")},t.prototype.filterFromSelection=function(){},vF([O("rowModel")],t.prototype,"rowModel",void 0),vF([q],t.prototype,"init",null),t=vF([me("selectionService")],t),t}(re),Vet="31.1.1",Bet=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),_K=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},jet=function(n){Bet(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.queuedRowIds=new Set,e}return t.prototype.postConstruct=function(){var e=this;n.prototype.postConstruct.call(this),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){e.queuedRowIds.clear()})},t.prototype.checkOpenByDefault=function(e){if(e.isExpandable()){var r=function(){window.setTimeout(function(){return e.setExpanded(!0)},0)};if(this.queuedRowIds.has(e.id)){this.queuedRowIds.delete(e.id),r();return}var i=this.gridOptionsService.getCallback("isServerSideGroupOpenByDefault");if(i){var o={data:e.data,rowNode:e},a=i(o);a&&r()}}},t.prototype.expandRows=function(e){var r=this;e.forEach(function(i){var o=r.serverSideRowModel.getRowNode(i);o?o.setExpanded(!0):r.queuedRowIds.add(i)})},t.prototype.expandAll=function(e){this.serverSideRowModel.expandAll(e)},t.prototype.onGroupExpandedOrCollapsed=function(){},_K([O("rowModel")],t.prototype,"serverSideRowModel",void 0),t=_K([me("expansionService")],t),t}(SB),Het={version:Vet,moduleName:Te.ServerSideRowModelModule,rowModel:"serverSide",beans:[det,_et,bet,het,get,met,Cet,Oet,Ret,Tet,Get,jet],dependantModules:[Pi]},$et=function(){function n(t,e,r,i,o,a,s,l,u,c,d){this.rowModel=t,this.filterParams=e,this.createKey=r,this.caseFormat=i,this.columnModel=o,this.valueService=a,this.treeDataOrGrouping=s,this.treeData=l,this.getDataPath=u,this.groupAllowUnbalanced=c,this.addManagedListener=d}return n.prototype.extractUniqueValuesAsync=function(t,e){var r=this;return new Ot(function(i){if(r.rowModel.isRowDataLoaded())i(r.extractUniqueValues(t,e));else var o=r.addManagedListener(M.EVENT_ROW_COUNT_READY,function(){o==null||o(),i(r.extractUniqueValues(t,e))})})},n.prototype.extractUniqueValues=function(t,e){var r=this,i=new Map,o=this.extractExistingFormattedKeys(e),a=new Set,s=this.treeData&&!!this.getDataPath,l=this.columnModel.getRowGroupColumns(),u=function(c,d){var p=r.caseFormat(c);if(!a.has(p)){a.add(p);var h=c,f=F.makeNull(d),v=o==null?void 0:o.get(p);v!=null&&(h=v,f=e.get(v)),i.set(h,f)}};return this.rowModel.forEachLeafNode(function(c){if(!(!c.data||!t(c))){if(r.treeDataOrGrouping){r.addValueForTreeDataOrGrouping(c,s,l,u);return}var d=r.getValue(c);if(r.filterParams.convertValuesToStrings){r.addValueForConvertValuesToString(c,d,u);return}d!=null&&Array.isArray(d)?(d.forEach(function(p){u(r.createKey(p,c),p)}),d.length===0&&u(null,null)):u(r.createKey(d,c),d)}}),i},n.prototype.addValueForConvertValuesToString=function(t,e,r){var i=this.createKey(e,t);i!=null&&Array.isArray(i)?(i.forEach(function(o){var a=F.toStringOrNull(F.makeNull(o));r(a,a)}),i.length===0&&r(null,null)):r(i,i)},n.prototype.addValueForTreeDataOrGrouping=function(t,e,r,i){var o=this,a,s;if(e){if(!((a=t.childrenAfterGroup)===null||a===void 0)&&a.length)return;s=this.getDataPath(t.data)}else s=r.map(function(l){return o.valueService.getKeyForNode(l,t)}),s.push(this.getValue(t));s&&(s=s.map(function(l){return F.toStringOrNull(F.makeNull(l))})),!e&&this.groupAllowUnbalanced&&(s!=null&&s.some(function(l){return l==null}))&&(s=s.filter(function(l){return l!=null})),i(this.createKey(s),s)},n.prototype.getValue=function(t){return this.filterParams.getValue(t)},n.prototype.extractExistingFormattedKeys=function(t){var e=this;if(!t)return null;var r=new Map;return t.forEach(function(i,o){r.set(e.caseFormat(o),o)}),r},n}(),Qo=function(){function n(){}return n.SELECT_ALL="__AG_SELECT_ALL__",n.ADD_SELECTION_TO_FILTER="__AG_ADD_SELECTION_TO_FILTER__",n}(),Wet=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Uet=function(){function n(t,e,r,i){this.valueFormatterService=t,this.valueFormatter=e,this.formatter=r,this.column=i,this.displayedKeys=[]}return n.prototype.updateDisplayedValuesToAllAvailable=function(t,e,r){this.displayedKeys=Array.from(r)},n.prototype.updateDisplayedValuesToMatchMiniFilter=function(t,e,r,i,o){var a,s;this.displayedKeys=[];try{for(var l=Wet(r),u=l.next();!u.done;u=l.next()){var c=u.value;if(c==null)o&&this.displayedKeys.push(c);else{var d=t(c),p=this.valueFormatterService.formatValue(this.column,null,d,this.valueFormatter,!1),h=this.formatter(p);i(h)&&this.displayedKeys.push(c)}}}catch(f){a={error:f}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}},n.prototype.getDisplayedValueCount=function(){return this.displayedKeys.length},n.prototype.getDisplayedItem=function(t){return this.displayedKeys[t]},n.prototype.getSelectAllItem=function(){return Qo.SELECT_ALL},n.prototype.getAddSelectionToFilterItem=function(){return Qo.ADD_SELECTION_TO_FILTER},n.prototype.getDisplayedKeys=function(){return this.displayedKeys},n.prototype.forEachDisplayedKey=function(t){this.displayedKeys.forEach(t)},n.prototype.someDisplayedKey=function(t){return this.displayedKeys.some(t)},n.prototype.hasGroups=function(){return!1},n.prototype.refresh=function(){},n}(),zet=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},xK=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},gF=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ket=function(){function n(t,e,r,i){this.formatter=t,this.treeListPathGetter=e,this.treeListFormatter=r,this.treeDataOrGrouping=i,this.allDisplayedItemsTree=[],this.activeDisplayedItemsFlat=[],this.selectAllItem={depth:0,filterPasses:!0,available:!0,treeKey:Qo.SELECT_ALL,children:this.allDisplayedItemsTree,expanded:!0,key:Qo.SELECT_ALL,parentTreeKeys:[]},this.addSelectionToFilterItem={depth:0,filterPasses:!0,available:!0,treeKey:Qo.ADD_SELECTION_TO_FILTER,expanded:!0,key:Qo.ADD_SELECTION_TO_FILTER,parentTreeKeys:[]}}return n.prototype.updateDisplayedValuesToAllAvailable=function(t,e,r,i){i==="reload"?this.generateItemTree(t,e,r):i==="otherFilter"?(this.updateAvailable(r),this.updateExpandAll()):i==="miniFilter"&&(this.resetFilter(),this.updateExpandAll()),this.flattenItems()},n.prototype.updateDisplayedValuesToMatchMiniFilter=function(t,e,r,i,o,a){a==="reload"?this.generateItemTree(t,e,r):a==="otherFilter"&&this.updateAvailable(r),this.updateFilter(i,o),this.updateExpandAll(),this.flattenItems()},n.prototype.generateItemTree=function(t,e,r){var i,o,a;this.allDisplayedItemsTree=[],this.groupsExist=!1;var s=this.getTreeListPathGetter(t,r),l=function(h){var f=t(h),v=(a=s(f))!==null&&a!==void 0?a:[null];v.length>1&&(u.groupsExist=!0);var g=r.has(h),m=u.allDisplayedItemsTree,y,C=[];v.forEach(function(S,w){m||(m=[],y.children=m),y=m.find(function(_){var x;return((x=_.treeKey)===null||x===void 0?void 0:x.toUpperCase())===(S==null?void 0:S.toUpperCase())}),y||(y={treeKey:S,depth:w,filterPasses:!0,expanded:!1,available:g,parentTreeKeys:C},w===v.length-1&&(y.key=h),m.push(y)),m=y.children,C=xK(xK([],zet(C),!1),[S],!1)})},u=this;try{for(var c=gF(e),d=c.next();!d.done;d=c.next()){var p=d.value;l(p)}}catch(h){i={error:h}}finally{try{d&&!d.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}this.updateAvailable(r),this.selectAllItem.children=this.allDisplayedItemsTree,this.selectAllItem.expanded=!1},n.prototype.getTreeListPathGetter=function(t,e){var r,i;if(this.treeListPathGetter)return this.treeListPathGetter;if(this.treeDataOrGrouping)return function(c){return c};var o=!1;try{for(var a=gF(e),s=a.next();!s.done;s=a.next()){var l=s.value,u=t(l);if(u instanceof Date){o=!0;break}else if(u!=null)break}}catch(c){r={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o?n.DATE_TREE_LIST_PATH_GETTER:(F.warnOnce("property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date."),function(c){return[String(c)]})},n.prototype.flattenItems=function(){var t=this;this.activeDisplayedItemsFlat=[];var e=function(r){r.forEach(function(i){!i.filterPasses||!i.available||(t.activeDisplayedItemsFlat.push(i),i.children&&i.expanded&&e(i.children))})};e(this.allDisplayedItemsTree)},n.prototype.resetFilter=function(){var t=function(e){e.children&&e.children.forEach(function(r){t(r)}),e.filterPasses=!0};this.allDisplayedItemsTree.forEach(function(e){return t(e)})},n.prototype.updateFilter=function(t,e){var r=this,i=function(o){return o.available?o.treeKey==null?e:t(r.formatter(r.treeListFormatter?r.treeListFormatter(o.treeKey,o.depth,o.parentTreeKeys):o.treeKey)):!1};this.allDisplayedItemsTree.forEach(function(o){return r.recursiveItemCheck(o,!1,i,"filterPasses")})},n.prototype.getDisplayedValueCount=function(){return this.activeDisplayedItemsFlat.length},n.prototype.getDisplayedItem=function(t){return this.activeDisplayedItemsFlat[t]},n.prototype.getSelectAllItem=function(){return this.selectAllItem},n.prototype.getAddSelectionToFilterItem=function(){return this.addSelectionToFilterItem},n.prototype.getDisplayedKeys=function(){var t=[];return this.forEachDisplayedKey(function(e){return t.push(e)}),t},n.prototype.forEachDisplayedKey=function(t){var e=function(r,i){r.children?(!r.expanded||!i)&&r.children.forEach(function(o){o.filterPasses&&e(o,!1)}):t(r.key)};this.activeDisplayedItemsFlat.forEach(function(r){return e(r,!0)})},n.prototype.someDisplayedKey=function(t){var e=function(r,i){if(r.children){if(!r.expanded||!i)return r.children.some(function(o){return o.filterPasses?e(o,!1):!1})}else return t(r.key);return!1};return this.activeDisplayedItemsFlat.some(function(r){return e(r,!0)})},n.prototype.hasGroups=function(){return this.groupsExist},n.prototype.refresh=function(){this.updateExpandAll(),this.flattenItems()},n.prototype.updateExpandAll=function(){var t=function(r,i,o){var a,s;try{for(var l=gF(r),u=l.next();!u.done;u=l.next()){var c=u.value;if(!(!c.filterPasses||!c.available||!c.children)){if(i=i||!!c.expanded,o=o||!c.expanded,i&&o)return;var d=t(c.children,i,o);if(d===void 0)return;d?i=!0:o=!0}}}catch(p){a={error:p}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}return i&&o?void 0:i},e=this.getSelectAllItem();e.expanded=t(e.children,!1,!1)},n.prototype.recursiveItemCheck=function(t,e,r,i){var o=this,a=!1;t.children&&t.children.forEach(function(l){var u=o.recursiveItemCheck(l,e||r(t),r,i);a=a||u});var s=e||a||r(t);return t[i]=s,s},n.prototype.updateAvailable=function(t){var e=this,r=function(i){return t.has(i.key)};this.allDisplayedItemsTree.forEach(function(i){return e.recursiveItemCheck(i,!1,r,"available")})},n.DATE_TREE_LIST_PATH_GETTER=function(t){return t?[String(t.getFullYear()),String(t.getMonth()+1),String(t.getDate())]:null},n}(),Yet=function(){function n(t){var e=t.caseFormat;this.filteringKeys=null,this.filteringKeysCaseFormatted=null,this.hasNoAppliedFilteringKeys=!1,this.caseFormat=e}return n.prototype.allFilteringKeys=function(){return this.filteringKeys},n.prototype.allFilteringKeysCaseFormatted=function(){return this.filteringKeysCaseFormatted},n.prototype.noAppliedFilteringKeys=function(){return this.hasNoAppliedFilteringKeys},n.prototype.setFilteringKeys=function(t){var e=this;this.filteringKeys=new Set(t),this.hasNoAppliedFilteringKeys=!this.filteringKeys||this.filteringKeys.size===0,this.filteringKeysCaseFormatted=new Set,this.filteringKeys.forEach(function(r){return e.filteringKeysCaseFormatted.add(e.caseFormat(r))})},n.prototype.addFilteringKey=function(t){this.filteringKeys==null&&(this.filteringKeys=new Set,this.filteringKeysCaseFormatted=new Set),this.filteringKeys.add(t),this.filteringKeysCaseFormatted.add(this.caseFormat(t)),this.hasNoAppliedFilteringKeys&&(this.hasNoAppliedFilteringKeys=!1)},n.prototype.hasCaseFormattedFilteringKey=function(t){return this.filteringKeysCaseFormatted.has(this.caseFormat(t))},n.prototype.hasFilteringKey=function(t){return this.filteringKeys.has(t)},n.prototype.reset=function(){this.filteringKeys=null,this.filteringKeysCaseFormatted=null,this.hasNoAppliedFilteringKeys=!1},n}(),Tc=function(n,t){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var r=e.call(n),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o},bK=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},go;(function(n){n[n.PROVIDED_LIST=0]="PROVIDED_LIST",n[n.PROVIDED_CALLBACK=1]="PROVIDED_CALLBACK",n[n.TAKEN_FROM_GRID_VALUES=2]="TAKEN_FROM_GRID_VALUES"})(go||(go={}));var toe=function(){function n(t){var e=this,r;this.localEventService=new Vl,this.miniFilterText=null,this.addCurrentSelectionToFilter=!1,this.providedValues=null,this.allValues=new Map,this.availableKeys=new Set,this.selectedKeys=new Set,this.initialised=!1;var i=t.usingComplexObjects,o=t.columnModel,a=t.valueService,s=t.treeDataTreeList,l=t.groupingTreeList,u=t.filterParams,c=t.gridOptionsService,d=t.valueFormatterService,p=t.valueFormatter,h=t.addManagedListener,f=u.column,v=u.colDef,g=u.textFormatter,m=u.doesRowPassOtherFilter,y=u.suppressSorting,C=u.comparator,S=u.rowModel,w=u.values,_=u.caseSensitive,x=u.convertValuesToStrings,E=u.treeList,R=u.treeListPathGetter,P=u.treeListFormatter;this.filterParams=u,this.gridOptionsService=c,this.setIsLoading=t.setIsLoading,this.translate=t.translate,this.caseFormat=t.caseFormat,this.createKey=t.createKey,this.usingComplexObjects=!!t.usingComplexObjects,this.formatter=g||ty.DEFAULT_FORMATTER,this.doesRowPassOtherFilters=m,this.suppressSorting=y||!1,this.convertValuesToStrings=!!x,this.filteringKeys=new Yet({caseFormat:this.caseFormat});var A=C??v.comparator,N=!!s||!!l;this.compareByValue=!!(i&&A||N||E&&!R),N&&!A?this.entryComparator=this.createTreeDataOrGroupingComparator():E&&!R&&!A?this.entryComparator=function(V,H){var j=Tc(V,2);j[0];var B=j[1],$=Tc(H,2);$[0];var W=$[1];return F.defaultComparator(B,W)}:this.entryComparator=function(V,H){var j=Tc(V,2);j[0];var B=j[1],$=Tc(H,2);$[0];var W=$[1];return A(B,W)},this.keyComparator=(r=A)!==null&&r!==void 0?r:F.defaultComparator,this.caseSensitive=!!_;var I=c.get("getDataPath"),G=c.get("groupAllowUnbalanced");S.getType()==="clientSide"&&(this.clientSideValuesExtractor=new $et(S,this.filterParams,this.createKey,this.caseFormat,o,a,N,!!s,I,G,h)),w==null?this.valuesType=go.TAKEN_FROM_GRID_VALUES:(this.valuesType=Array.isArray(w)?go.PROVIDED_LIST:go.PROVIDED_CALLBACK,this.providedValues=w),this.displayValueModel=E?new Ket(this.formatter,R,P,s||l):new Uet(d,p,this.formatter,f),this.updateAllValues().then(function(V){return e.resetSelectionState(V||[])})}return n.prototype.addEventListener=function(t,e,r){this.localEventService.addEventListener(t,e,r)},n.prototype.removeEventListener=function(t,e,r){this.localEventService.removeEventListener(t,e,r)},n.prototype.updateOnParamsChange=function(t){var e=this;return new Ot(function(r){var i=t.values,o=t.textFormatter,a=t.suppressSorting,s=e.providedValues,l=e.suppressSorting;if(e.filterParams=t,e.formatter=o||ty.DEFAULT_FORMATTER,e.suppressSorting=a||!1,e.providedValues=i??null,e.providedValues!==s||e.suppressSorting!==l){if(!i||i.length===0)e.valuesType=go.TAKEN_FROM_GRID_VALUES,e.providedValues=null;else{var u=Array.isArray(i)&&i.length>0&&typeof i[0]=="function";e.valuesType=u?go.PROVIDED_CALLBACK:go.PROVIDED_LIST}var c=e.getModel();e.updateAllValues().then(function(d){e.setModel(c).then(function(){return r()})})}else r()})},n.prototype.refreshValues=function(){var t=this;return new Ot(function(e){t.allValuesPromise.then(function(){var r=t.getModel();t.updateAllValues(),t.setModel(r).then(function(){return e()})})})},n.prototype.overrideValues=function(t){var e=this;return new Ot(function(r){e.allValuesPromise.then(function(){e.valuesType=go.PROVIDED_LIST,e.providedValues=t,e.refreshValues().then(function(){return r()})})})},n.prototype.refreshAfterAnyFilterChanged=function(){var t=this;return this.showAvailableOnly()?this.allValuesPromise.then(function(e){return t.updateAvailableKeys(e??[],"otherFilter"),!0}):Ot.resolve(!1)},n.prototype.isInitialised=function(){return this.initialised},n.prototype.updateAllValues=function(){var t=this;return this.allValuesPromise=new Ot(function(e){switch(t.valuesType){case go.TAKEN_FROM_GRID_VALUES:t.getValuesFromRowsAsync(!1).then(function(l){return e(t.processAllValues(l))});break;case go.PROVIDED_LIST:{e(t.processAllValues(t.uniqueValues(t.validateProvidedValues(t.providedValues))));break}case go.PROVIDED_CALLBACK:{t.setIsLoading(!0);var r=t.providedValues,i=t.filterParams,o=i.column,a=i.colDef,s=t.gridOptionsService.addGridCommonParams({success:function(l){t.setIsLoading(!1),e(t.processAllValues(t.uniqueValues(t.validateProvidedValues(l))))},colDef:a,column:o});window.setTimeout(function(){return r(s)},0);break}default:throw new Error("Unrecognised valuesType")}}),this.allValuesPromise.then(function(e){return t.updateAvailableKeys(e||[],"reload")}).then(function(){return t.initialised=!0}),this.allValuesPromise},n.prototype.processAllValues=function(t){var e=this.sortKeys(t);return this.allValues=t??new Map,e},n.prototype.validateProvidedValues=function(t){if(this.usingComplexObjects&&(t!=null&&t.length)){var e=t[0];if(e&&typeof e!="object"&&typeof e!="function"){var r=this.createKey(e);r==null?F.warnOnce("Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects or set convertValuesToStrings=true in the filterParams. See https://www.ag-grid.com/javascript-data-grid/filter-set-filter-list/#filter-value-types"):F.warnOnce("Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects or enable convertValuesToStrings?")}}return t},n.prototype.setValuesType=function(t){this.valuesType=t},n.prototype.getValuesType=function(){return this.valuesType},n.prototype.isKeyAvailable=function(t){return this.availableKeys.has(t)},n.prototype.showAvailableOnly=function(){return this.valuesType===go.TAKEN_FROM_GRID_VALUES},n.prototype.updateAvailableKeys=function(t,e){var r=this.showAvailableOnly()?this.sortKeys(this.getValuesFromRows(!0)):t;this.availableKeys=new Set(r),this.localEventService.dispatchEvent({type:n.EVENT_AVAILABLE_VALUES_CHANGED}),this.updateDisplayedValues(e,t)},n.prototype.sortKeys=function(t){var e=t??new Map;if(this.suppressSorting)return Array.from(e.keys());var r;return this.compareByValue?r=Array.from(e.entries()).sort(this.entryComparator).map(function(i){var o=Tc(i,1),a=o[0];return a}):r=Array.from(e.keys()).sort(this.keyComparator),this.filterParams.excelMode&&e.has(null)&&(r=r.filter(function(i){return i!=null}),r.push(null)),r},n.prototype.getParamsForValuesFromRows=function(t){var e=this;if(t===void 0&&(t=!1),!this.clientSideValuesExtractor)return F.doOnce(function(){console.error("AG Grid: Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values")},"setFilterValueNotCSRM"),null;var r=function(o){return!t||e.doesRowPassOtherFilters(o)},i=t&&!this.caseSensitive?this.allValues:void 0;return{predicate:r,existingValues:i}},n.prototype.getValuesFromRows=function(t){t===void 0&&(t=!1);var e=this.getParamsForValuesFromRows(t);return e?this.clientSideValuesExtractor.extractUniqueValues(e.predicate,e.existingValues):null},n.prototype.getValuesFromRowsAsync=function(t){t===void 0&&(t=!1);var e=this.getParamsForValuesFromRows(t);return e?this.clientSideValuesExtractor.extractUniqueValuesAsync(e.predicate,e.existingValues):Ot.resolve(null)},n.prototype.setMiniFilter=function(t){return t=F.makeNull(t),this.miniFilterText===t?!1:(t===null&&this.setAddCurrentSelectionToFilter(!1),this.miniFilterText=t,this.updateDisplayedValues("miniFilter"),!0)},n.prototype.getMiniFilter=function(){return this.miniFilterText},n.prototype.updateDisplayedValues=function(t,e){var r=this;if(t==="expansion"){this.displayValueModel.refresh();return}if(this.miniFilterText==null){this.displayValueModel.updateDisplayedValuesToAllAvailable(function(s){return r.getValue(s)},e,this.availableKeys,t);return}var i=this.caseFormat(this.formatter(this.miniFilterText)||""),o=function(s){return s!=null&&r.caseFormat(s).indexOf(i)>=0},a=!!this.filterParams.excelMode&&o(this.translate("blanks"));this.displayValueModel.updateDisplayedValuesToMatchMiniFilter(function(s){return r.getValue(s)},e,this.availableKeys,o,a,t)},n.prototype.getDisplayedValueCount=function(){return this.displayValueModel.getDisplayedValueCount()},n.prototype.getDisplayedItem=function(t){return this.displayValueModel.getDisplayedItem(t)},n.prototype.getSelectAllItem=function(){return this.displayValueModel.getSelectAllItem()},n.prototype.getAddSelectionToFilterItem=function(){return this.displayValueModel.getAddSelectionToFilterItem()},n.prototype.hasSelections=function(){return this.filterParams.defaultToNothingSelected?this.selectedKeys.size>0:this.allValues.size!==this.selectedKeys.size},n.prototype.getKeys=function(){return Array.from(this.allValues.keys())},n.prototype.getValues=function(){return Array.from(this.allValues.values())},n.prototype.getValue=function(t){return this.allValues.get(t)},n.prototype.setAddCurrentSelectionToFilter=function(t){this.addCurrentSelectionToFilter=t},n.prototype.isInWindowsExcelMode=function(){return this.filterParams.excelMode==="windows"},n.prototype.isAddCurrentSelectionToFilterChecked=function(){return this.isInWindowsExcelMode()&&this.addCurrentSelectionToFilter},n.prototype.showAddCurrentSelectionToFilter=function(){return this.isInWindowsExcelMode()&&F.exists(this.miniFilterText)&&this.miniFilterText.length>0},n.prototype.selectAllMatchingMiniFilter=function(t){var e=this;t===void 0&&(t=!1),this.miniFilterText==null?this.selectedKeys=new Set(this.allValues.keys()):(t&&this.selectedKeys.clear(),this.displayValueModel.forEachDisplayedKey(function(r){return e.selectedKeys.add(r)}))},n.prototype.deselectAllMatchingMiniFilter=function(){var t=this;this.miniFilterText==null?this.selectedKeys.clear():this.displayValueModel.forEachDisplayedKey(function(e){return t.selectedKeys.delete(e)})},n.prototype.selectKey=function(t){this.selectedKeys.add(t)},n.prototype.deselectKey=function(t){this.filterParams.excelMode&&this.isEverythingVisibleSelected()&&this.resetSelectionState(this.displayValueModel.getDisplayedKeys()),this.selectedKeys.delete(t)},n.prototype.isKeySelected=function(t){return this.selectedKeys.has(t)},n.prototype.isEverythingVisibleSelected=function(){var t=this;return!this.displayValueModel.someDisplayedKey(function(e){return!t.isKeySelected(e)})},n.prototype.isNothingVisibleSelected=function(){var t=this;return!this.displayValueModel.someDisplayedKey(function(e){return t.isKeySelected(e)})},n.prototype.getModel=function(){if(!this.hasSelections())return null;var t=this.isAddCurrentSelectionToFilterChecked()?this.filteringKeys.allFilteringKeys():null;if(t&&t.size>0){if(this.selectedKeys){var e=new Set(bK(bK([],Tc(Array.from(t)),!1),Tc(Array.from(this.selectedKeys).filter(function(r){return!t.has(r)})),!1));return Array.from(e)}return Array.from(t)}return Array.from(this.selectedKeys)},n.prototype.setModel=function(t){var e=this;return this.allValuesPromise.then(function(r){if(t==null)e.resetSelectionState(r??[]);else{e.selectedKeys.clear();var i=new Map;e.allValues.forEach(function(o,a){i.set(e.caseFormat(a),a)}),t.forEach(function(o){var a=e.caseFormat(F.makeNull(o)),s=i.get(a);s!==void 0&&e.selectKey(s)})}})},n.prototype.uniqueValues=function(t){var e=this,r=new Map,i=new Set;return(t??[]).forEach(function(o){var a=F.makeNull(o),s=e.convertAndGetKey(a),l=e.caseFormat(s);i.has(l)||(i.add(l),r.set(s,a))}),r},n.prototype.convertAndGetKey=function(t){return this.convertValuesToStrings?t:this.createKey(t)},n.prototype.resetSelectionState=function(t){this.filterParams.defaultToNothingSelected?this.selectedKeys.clear():this.selectedKeys=new Set(t)},n.prototype.hasGroups=function(){return this.displayValueModel.hasGroups()},n.prototype.createTreeDataOrGroupingComparator=function(){return function(t,e){var r=Tc(t,2);r[0];var i=r[1],o=Tc(e,2);o[0];var a=o[1];if(i==null)return a==null?0:-1;if(a==null)return 1;for(var s=0;s<i.length;s++){if(s>=a.length)return 1;var l=F.defaultComparator(i[s],a[s]);if(l!==0)return l}return 0}},n.prototype.setAppliedModelKeys=function(t){this.filteringKeys.setFilteringKeys(t)},n.prototype.addToAppliedModelKeys=function(t){this.filteringKeys.addFilteringKey(t)},n.prototype.getAppliedModelKeys=function(){return this.filteringKeys.allFilteringKeys()},n.prototype.getCaseFormattedAppliedModelKeys=function(){return this.filteringKeys.allFilteringKeysCaseFormatted()},n.prototype.hasAppliedModelKey=function(t){return this.filteringKeys.hasCaseFormattedFilteringKey(t)},n.prototype.hasAnyAppliedModelKey=function(){return!this.filteringKeys.noAppliedFilteringKeys()},n.EVENT_AVAILABLE_VALUES_CHANGED="availableValuesChanged",n}(),qet=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Yh=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},mF=function(n){qet(t,n);function t(e){var r=this,i;return r=n.call(this,e.isGroup?t.GROUP_TEMPLATE:t.TEMPLATE)||this,r.focusWrapper=e.focusWrapper,r.value=e.value,r.params=e.params,r.translate=e.translate,r.valueFormatter=e.valueFormatter,r.item=e.item,r.isSelected=e.isSelected,r.isTree=e.isTree,r.depth=(i=e.depth)!==null&&i!==void 0?i:0,r.isGroup=e.isGroup,r.groupsExist=e.groupsExist,r.isExpanded=e.isExpanded,r.hasIndeterminateExpandState=e.hasIndeterminateExpandState,r}return t.prototype.init=function(){var e=this;this.addDestroyFunc(function(){var r;return(r=e.destroyCellRendererComponent)===null||r===void 0?void 0:r.call(e)}),this.render(),this.eCheckbox.setLabelEllipsis(!0).setValue(this.isSelected,!0).setDisabled(!!this.params.readOnly).getInputElement().setAttribute("tabindex","-1"),this.refreshVariableAriaLabels(),this.isTree&&(this.depth>0&&this.addCssClass("ag-set-filter-indent-"+this.depth),this.isGroup?this.setupExpansion():this.groupsExist&&this.addCssClass("ag-set-filter-add-group-indent"),F.setAriaLevel(this.getAriaElement(),this.depth+1)),this.refreshAriaChecked(),!this.params.readOnly&&this.eCheckbox.onValueChange(function(r){return e.onCheckboxChanged(!!r)})},t.prototype.getFocusableElement=function(){return this.focusWrapper},t.prototype.setupExpansion=function(){this.eGroupClosedIcon.appendChild(F.createIcon("setFilterGroupClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(F.createIcon("setFilterGroupOpen",this.gridOptionsService,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.hasIndeterminateExpandState&&(this.eGroupIndeterminateIcon.appendChild(F.createIcon("setFilterGroupIndeterminate",this.gridOptionsService,null)),this.addManagedListener(this.eGroupIndeterminateIcon,"click",this.onExpandOrContractClicked.bind(this))),this.setExpandedIcons(),this.refreshAriaExpanded()},t.prototype.onExpandOrContractClicked=function(){this.setExpanded(!this.isExpanded)},t.prototype.setExpanded=function(e,r){if(this.isGroup&&e!==this.isExpanded){this.isExpanded=e;var i={type:t.EVENT_EXPANDED_CHANGED,isExpanded:!!e,item:this.item};r||this.dispatchEvent(i),this.setExpandedIcons(),this.refreshAriaExpanded()}},t.prototype.setExpandedIcons=function(){F.setDisplayed(this.eGroupClosedIcon,this.hasIndeterminateExpandState?this.isExpanded===!1:!this.isExpanded),F.setDisplayed(this.eGroupOpenedIcon,this.isExpanded===!0),this.hasIndeterminateExpandState&&F.setDisplayed(this.eGroupIndeterminateIcon,this.isExpanded===void 0)},t.prototype.onCheckboxChanged=function(e){this.isSelected=e;var r={type:t.EVENT_SELECTION_CHANGED,isSelected:e,item:this.item};this.dispatchEvent(r),this.refreshVariableAriaLabels(),this.refreshAriaChecked()},t.prototype.toggleSelected=function(){this.params.readOnly||this.setSelected(!this.isSelected)},t.prototype.setSelected=function(e,r){this.isSelected=e,this.eCheckbox.setValue(e,r),this.refreshAriaChecked()},t.prototype.refreshVariableAriaLabels=function(){if(this.isTree){var e=this.localeService.getLocaleTextFunc(),r=this.eCheckbox.getValue(),i=r===void 0?e("ariaIndeterminate","indeterminate"):r?e("ariaVisible","visible"):e("ariaHidden","hidden"),o=e("ariaToggleVisibility","Press SPACE to toggle visibility");F.setAriaLabelledBy(this.eCheckbox.getInputElement(),void 0),this.eCheckbox.setInputAriaLabel("".concat(o," (").concat(i,")"))}},t.prototype.setupFixedAriaLabels=function(e){if(this.isTree){var r=this.localeService.getLocaleTextFunc(),i=r("ariaFilterValue","Filter Value"),o=this.getAriaElement();F.setAriaLabel(o,"".concat(e," ").concat(i)),F.setAriaDescribedBy(o,this.eCheckbox.getInputElement().id)}},t.prototype.refreshAriaChecked=function(){var e=this.getAriaElement();F.setAriaChecked(e,this.eCheckbox.getValue())},t.prototype.refreshAriaExpanded=function(){F.setAriaExpanded(this.getAriaElement(),!!this.isExpanded)},t.prototype.refresh=function(e,r,i){var o,a;if(this.item=e,r!==this.isSelected&&this.setSelected(r,!0),this.setExpanded(i,!0),this.valueFunction){var s=this.valueFunction();this.setTooltipAndCellRendererParams(s,s),this.cellRendererComponent||this.renderCellWithoutCellRenderer()}if(this.cellRendererComponent){var l=(a=(o=this.cellRendererComponent).refresh)===null||a===void 0?void 0:a.call(o,this.cellRendererParams);if(!l){var u=this.cellRendererComponent;this.renderCell(),this.destroyBean(u)}}},t.prototype.render=function(){var e=this.params.column,r=this.value,i=null;typeof r=="function"?(this.valueFunction=r,i=this.valueFunction(),r=i):this.isTree?i=F.toStringOrNull(r):i=this.getFormattedValue(e,r),this.setTooltipAndCellRendererParams(r,i),this.renderCell()},t.prototype.setTooltipAndCellRendererParams=function(e,r){if(this.params.showTooltips){var i=r??F.toStringOrNull(e);this.setTooltip(i)}this.cellRendererParams=this.gridOptionsService.addGridCommonParams({value:e,valueFormatted:r,colDef:this.params.colDef,column:this.params.column})},t.prototype.getTooltipParams=function(){var e=n.prototype.getTooltipParams.call(this);return e.location="setFilterValue",e.colDef=this.getComponentHolder(),this.isTree&&(e.level=this.depth),e},t.prototype.getFormattedValue=function(e,r){return this.valueFormatterService.formatValue(e,null,r,this.valueFormatter,!1)},t.prototype.renderCell=function(){var e=this,r=this.userComponentFactory.getSetFilterCellRendererDetails(this.params,this.cellRendererParams),i=r?r.newAgStackInstance():void 0;if(i==null){this.renderCellWithoutCellRenderer();return}i.then(function(o){o&&(e.cellRendererComponent=o,e.eCheckbox.setLabel(o.getGui()),e.destroyCellRendererComponent=function(){return e.destroyBean(o)})})},t.prototype.renderCellWithoutCellRenderer=function(){var e,r=(e=this.cellRendererParams.valueFormatted==null?this.cellRendererParams.value:this.cellRendererParams.valueFormatted)!==null&&e!==void 0?e:this.translate("blanks");typeof r!="string"&&(F.warnOnce("Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects, or set convertValuesToStrings=true in the filterParams. See ".concat(this.getFrameworkOverrides().getDocLink("filter-set-filter-list/#filter-value-types"))),r=""),this.eCheckbox.setLabel(r),this.setupFixedAriaLabels(r)},t.prototype.getComponentHolder=function(){return this.params.column.getColDef()},t.EVENT_SELECTION_CHANGED="selectionChanged",t.EVENT_EXPANDED_CHANGED="expandedChanged",t.GROUP_TEMPLATE=`
        <div class="ag-set-filter-item" aria-hidden="true">
            <span class="ag-set-filter-group-icons">
                <span class="ag-set-filter-group-closed-icon" ref="eGroupClosedIcon"></span>
                <span class="ag-set-filter-group-opened-icon" ref="eGroupOpenedIcon"></span>
                <span class="ag-set-filter-group-indeterminate-icon" ref="eGroupIndeterminateIcon"></span>
            </span>
            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>
        </div>`,t.TEMPLATE=`
        <div class="ag-set-filter-item">
            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>
        </div>`,Yh([O("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Yh([O("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Yh([U("eCheckbox")],t.prototype,"eCheckbox",void 0),Yh([U("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),Yh([U("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),Yh([U("eGroupIndeterminateIcon")],t.prototype,"eGroupIndeterminateIcon",void 0),Yh([q],t.prototype,"init",null),t}(Ce),Xet={loadingOoo:"Loading...",blanks:"(Blanks)",searchOoo:"Search...",selectAll:"(Select All)",selectAllSearchResults:"(Select All Search Results)",addCurrentSelectionToFilter:"Add current selection to filter",noMatches:"No matches."},roe=function(){function n(){}return n.prototype.getModelAsString=function(t,e){var r=(t||e.getModel()||{}).values,i=e.getValueModel();if(r==null||i==null)return"";var o=r.filter(function(l){return i.isKeyAvailable(l)}),a=o.length,s=o.slice(0,10).map(function(l){return e.getFormattedValue(l)});return"(".concat(a,") ").concat(s.join(",")).concat(a>10?",...":"")},n}(),Zet=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),qh=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},noe=function(n){Zet(t,n);function t(){var e=n.call(this,"setFilter")||this;return e.valueModel=null,e.setFilterParams=null,e.virtualList=null,e.caseSensitive=!1,e.convertValuesToStrings=!1,e.treeDataTreeList=!1,e.groupingTreeList=!1,e.hardRefreshVirtualList=!1,e.noValueFormatterSupplied=!1,e.filterModelFormatter=new roe,e.updateSetFilterOnParamsChange=function(r){var i;e.setFilterParams=r,e.convertValuesToStrings=!!r.convertValuesToStrings,e.caseSensitive=!!r.caseSensitive;var o=(i=r.keyCreator)!==null&&i!==void 0?i:r.colDef.keyCreator;e.setValueFormatter(r.valueFormatter,o,e.convertValuesToStrings,!!r.treeList,!!r.colDef.refData);var a=r.column.getId().startsWith(nd);e.treeDataTreeList=e.gridOptionsService.get("treeData")&&!!r.treeList&&a,e.getDataPath=e.gridOptionsService.get("getDataPath"),e.groupingTreeList=!!e.columnModel.getRowGroupColumns().length&&!!r.treeList&&a,e.createKey=e.generateCreateKey(o,e.convertValuesToStrings,e.treeDataTreeList||e.groupingTreeList)},e}return t.prototype.postConstruct=function(){n.prototype.postConstruct.call(this)},t.prototype.updateUiVisibility=function(){},t.prototype.createBodyTemplate=function(){return`
            <div class="ag-set-filter">
                <div ref="eFilterLoading" class="ag-filter-loading ag-hidden">`.concat(this.translateForSetFilter("loadingOoo"),`</div>
                <ag-input-text-field class="ag-mini-filter" ref="eMiniFilter"></ag-input-text-field>
                <div ref="eFilterNoMatches" class="ag-filter-no-matches ag-hidden">`).concat(this.translateForSetFilter("noMatches"),`</div>
                <div ref="eSetFilterList" class="ag-set-filter-list" role="presentation"></div>
            </div>`)},t.prototype.handleKeyDown=function(e){if(n.prototype.handleKeyDown.call(this,e),!e.defaultPrevented)switch(e.key){case K.SPACE:this.handleKeySpace(e);break;case K.ENTER:this.handleKeyEnter(e);break;case K.LEFT:this.handleKeyLeft(e);break;case K.RIGHT:this.handleKeyRight(e);break}},t.prototype.handleKeySpace=function(e){var r;(r=this.getComponentForKeyEvent(e))===null||r===void 0||r.toggleSelected()},t.prototype.handleKeyEnter=function(e){if(this.setFilterParams){var r=this.setFilterParams||{},i=r.excelMode,o=r.readOnly;!i||o||(e.preventDefault(),this.onBtApply(!1,!1,e),this.setFilterParams.excelMode==="mac"&&this.eMiniFilter.getInputElement().select())}},t.prototype.handleKeyLeft=function(e){var r;(r=this.getComponentForKeyEvent(e))===null||r===void 0||r.setExpanded(!1)},t.prototype.handleKeyRight=function(e){var r;(r=this.getComponentForKeyEvent(e))===null||r===void 0||r.setExpanded(!0)},t.prototype.getComponentForKeyEvent=function(e){var r,i=this.gridOptionsService.getDocument();if(!(!this.eSetFilterList.contains(i.activeElement)||!this.virtualList)){var o=this.virtualList.getLastFocusedRow();if(o!=null){var a=this.virtualList.getComponentAt(o);if(a!=null){e.preventDefault();var s=((r=this.setFilterParams)!==null&&r!==void 0?r:{}).readOnly;if(!s)return a}}}},t.prototype.getCssIdentifier=function(){return"set-filter"},t.prototype.setModel=function(e){var r;return e==null&&((r=this.valueModel)===null||r===void 0?void 0:r.getModel())==null?(this.setMiniFilter(null),Ot.resolve()):n.prototype.setModel.call(this,e)},t.prototype.refresh=function(e){var r=this,i,o,a;if(!n.prototype.refresh.call(this,e))return!1;var s=["treeList","treeListFormatter","treeListPathGetter","keyCreator","convertValuesToStrings","caseSensitive","comparator","suppressSelectAll","excelMode"];return s.some(function(l){var u;return e[l]!==((u=r.setFilterParams)===null||u===void 0?void 0:u[l])})||this.haveColDefParamsChanged(e.colDef)?!1:(n.prototype.updateParams.call(this,e),this.updateSetFilterOnParamsChange(e),this.updateMiniFilter(),(e.cellRenderer!==((i=this.setFilterParams)===null||i===void 0?void 0:i.cellRenderer)||e.valueFormatter!==((o=this.setFilterParams)===null||o===void 0?void 0:o.valueFormatter))&&this.checkAndRefreshVirtualList(),(a=this.valueModel)===null||a===void 0||a.updateOnParamsChange(e).then(function(){var l;!((l=r.valueModel)===null||l===void 0)&&l.hasSelections()&&r.refreshFilterValues()}),!0)},t.prototype.haveColDefParamsChanged=function(e){var r,i=["keyCreator","filterValueGetter"],o=(r=this.setFilterParams)===null||r===void 0?void 0:r.colDef;return i.some(function(a){return e[a]!==(o==null?void 0:o[a])})},t.prototype.setModelAndRefresh=function(e){var r=this;return this.valueModel?this.valueModel.setModel(e).then(function(){return r.checkAndRefreshVirtualList()}):Ot.resolve()},t.prototype.resetUiToDefaults=function(){return this.setMiniFilter(null),this.setModelAndRefresh(null)},t.prototype.setModelIntoUi=function(e){this.setMiniFilter(null);var r=e==null?null:e.values;return this.setModelAndRefresh(r)},t.prototype.getModelFromUi=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.valueModel.getModel();return e?{values:e,filterType:this.getFilterType()}:null},t.prototype.getFilterType=function(){return"set"},t.prototype.getValueModel=function(){return this.valueModel},t.prototype.areModelsEqual=function(e,r){return e==null&&r==null?!0:e!=null&&r!=null&&F.areEqual(e.values,r.values)},t.prototype.setParams=function(e){var r=this,i;this.applyExcelModeOptions(e),n.prototype.setParams.call(this,e),this.updateSetFilterOnParamsChange(e);var o=(i=e.keyCreator)!==null&&i!==void 0?i:e.colDef.keyCreator;this.valueModel=new toe({filterParams:e,setIsLoading:function(a){return r.setIsLoading(a)},valueFormatterService:this.valueFormatterService,translate:function(a){return r.translateForSetFilter(a)},caseFormat:function(a){return r.caseFormat(a)},createKey:this.createKey,valueFormatter:this.valueFormatter,usingComplexObjects:!!o,gridOptionsService:this.gridOptionsService,columnModel:this.columnModel,valueService:this.valueService,treeDataTreeList:this.treeDataTreeList,groupingTreeList:this.groupingTreeList,addManagedListener:function(a,s){return r.addManagedListener(r.eventService,a,s)}}),this.initialiseFilterBodyUi(),this.addEventListenersForDataChanges()},t.prototype.onAddCurrentSelectionToFilterChange=function(e){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.setAddCurrentSelectionToFilter(e)},t.prototype.setValueFormatter=function(e,r,i,o,a){var s=e;if(!s){if(r&&!i&&!o)throw new Error("AG Grid: Must supply a Value Formatter in Set Filter params when using a Key Creator unless convertValuesToStrings is enabled");this.noValueFormatterSupplied=!0,a||(s=function(l){return F.toStringOrNull(l.value)})}this.valueFormatter=s},t.prototype.generateCreateKey=function(e,r,i){var o=this;if(i&&!e)throw new Error("AG Grid: Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.");return e?function(a,s){s===void 0&&(s=null);var l=o.getKeyCreatorParams(a,s);return F.makeNull(e(l))}:r?function(a){return Array.isArray(a)?a:F.makeNull(F.toStringOrNull(a))}:function(a){return F.makeNull(F.toStringOrNull(a))}},t.prototype.getFormattedValue=function(e){var r,i=this.valueModel.getValue(e);this.noValueFormatterSupplied&&(this.treeDataTreeList||this.groupingTreeList)&&Array.isArray(i)&&(i=F.last(i));var o=this.valueFormatterService.formatValue(this.setFilterParams.column,null,i,this.valueFormatter,!1);return(r=o??F.toStringOrNull(i))!==null&&r!==void 0?r:this.translateForSetFilter("blanks")},t.prototype.applyExcelModeOptions=function(e){e.excelMode==="windows"?(e.buttons||(e.buttons=["apply","cancel"]),e.closeOnApply==null&&(e.closeOnApply=!0)):e.excelMode==="mac"&&(e.buttons||(e.buttons=["reset"]),e.applyMiniFilterWhileTyping==null&&(e.applyMiniFilterWhileTyping=!0),e.debounceMs==null&&(e.debounceMs=500)),e.excelMode&&e.defaultToNothingSelected&&(e.defaultToNothingSelected=!1,F.warnOnce('The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.'))},t.prototype.addEventListenersForDataChanges=function(){var e=this;this.isValuesTakenFromGrid()&&(this.addManagedListener(this.eventService,M.EVENT_CELL_VALUE_CHANGED,function(r){e.setFilterParams&&r.column===e.setFilterParams.column&&e.syncAfterDataChange()}),this.addManagedPropertyListeners(["treeData","getDataPath","groupAllowUnbalanced"],function(){e.syncAfterDataChange()}))},t.prototype.syncAfterDataChange=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");var r=this.valueModel.refreshValues();return r.then(function(){e.checkAndRefreshVirtualList(),e.onBtApply(!1,!0)})},t.prototype.setIsLoading=function(e){F.setDisplayed(this.eFilterLoading,e),e||(this.hardRefreshVirtualList=!0)},t.prototype.initialiseFilterBodyUi=function(){this.initVirtualList(),this.initMiniFilter()},t.prototype.initVirtualList=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var r=this.localeService.getLocaleTextFunc(),i=r("ariaFilterList","Filter List"),o=!!this.setFilterParams.treeList,a=this.virtualList=this.createBean(new Ev({cssIdentifier:"filter",ariaRole:o?"tree":"listbox",listName:i})),s=this.getRefElement("eSetFilterList");o&&s.classList.add("ag-set-filter-tree-list"),s&&s.appendChild(a.getGui());var l=this.setFilterParams.cellHeight;l!=null&&a.setRowHeight(l);var u=function(p,h){return e.createSetListItem(p,o,h)};a.setComponentCreator(u);var c=function(p,h){return e.updateSetListItem(p,h)};a.setComponentUpdater(c);var d;this.setFilterParams.suppressSelectAll?d=new Qet(this.valueModel):d=new Jet(this.valueModel,function(){return e.isSelectAllSelected()}),o&&(d=new ett(d)),a.setModel(d)},t.prototype.getSelectAllLabel=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.valueModel.getMiniFilter()==null||!this.setFilterParams.excelMode?"selectAll":"selectAllSearchResults";return this.translateForSetFilter(e)},t.prototype.getAddSelectionToFilterLabel=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");return this.translateForSetFilter("addCurrentSelectionToFilter")},t.prototype.createSetListItem=function(e,r,i){var o=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var a=this.valueModel.hasGroups(),s=this.isSelectedExpanded(e),l=s.isSelected,u=s.isExpanded,c=this.newSetListItemAttributes(e,r),d=c.value,p=c.depth,h=c.isGroup,f=c.hasIndeterminateExpandState,v=c.selectedListener,g=c.expandedListener,m={focusWrapper:i,value:d,params:this.setFilterParams,translate:function(C){return o.translateForSetFilter(C)},valueFormatter:this.valueFormatter,item:e,isSelected:l,isTree:r,depth:p,groupsExist:a,isGroup:h,isExpanded:u,hasIndeterminateExpandState:f},y=this.createBean(new mF(m));return y.addEventListener(mF.EVENT_SELECTION_CHANGED,v),g&&y.addEventListener(mF.EVENT_EXPANDED_CHANGED,g),y},t.prototype.newSetTreeItemAttributes=function(e,r){var i=this,o,a,s,l,u,c;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var d=this.valueModel.hasGroups();return e.key===Qo.SELECT_ALL?{value:function(){return i.getSelectAllLabel()},isGroup:d,depth:e.depth,hasIndeterminateExpandState:!0,selectedListener:function(p){return i.onSelectAll(p.isSelected)},expandedListener:function(p){return i.onExpandAll(p.item,p.isExpanded)}}:e.key===Qo.ADD_SELECTION_TO_FILTER?{value:function(){return i.getAddSelectionToFilterLabel()},depth:e.depth,isGroup:!1,hasIndeterminateExpandState:!1,selectedListener:function(p){i.onAddCurrentSelectionToFilterChange(p.isSelected)}}:e.children?{value:(s=(a=(o=this.setFilterParams).treeListFormatter)===null||a===void 0?void 0:a.call(o,e.treeKey,e.depth,e.parentTreeKeys))!==null&&s!==void 0?s:e.treeKey,depth:e.depth,isGroup:!0,selectedListener:function(p){return i.onGroupItemSelected(p.item,p.isSelected)},expandedListener:function(p){return i.onExpandedChanged(p.item,p.isExpanded)}}:{value:(c=(u=(l=this.setFilterParams).treeListFormatter)===null||u===void 0?void 0:u.call(l,e.treeKey,e.depth,e.parentTreeKeys))!==null&&c!==void 0?c:e.treeKey,depth:e.depth,selectedListener:function(p){return i.onItemSelected(p.item.key,p.isSelected)}}},t.prototype.newSetListItemAttributes=function(e,r){var i=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");return this.isSetFilterModelTreeItem(e)?this.newSetTreeItemAttributes(e,r):e===Qo.SELECT_ALL?{value:function(){return i.getSelectAllLabel()},selectedListener:function(o){return i.onSelectAll(o.isSelected)}}:e===Qo.ADD_SELECTION_TO_FILTER?{value:function(){return i.getAddSelectionToFilterLabel()},selectedListener:function(o){i.onAddCurrentSelectionToFilterChange(o.isSelected)}}:{value:this.valueModel.getValue(e),selectedListener:function(o){return i.onItemSelected(o.item,o.isSelected)}}},t.prototype.updateSetListItem=function(e,r){var i=this.isSelectedExpanded(e),o=i.isSelected,a=i.isExpanded;r.refresh(e,o,a)},t.prototype.isSelectedExpanded=function(e){var r,i;return this.isSetFilterModelTreeItem(e)?(i=e.expanded,e.key===Qo.SELECT_ALL?r=this.isSelectAllSelected():e.key===Qo.ADD_SELECTION_TO_FILTER?r=this.valueModel.isAddCurrentSelectionToFilterChecked():e.children?r=this.areAllChildrenSelected(e):r=this.valueModel.isKeySelected(e.key)):e===Qo.SELECT_ALL?r=this.isSelectAllSelected():e===Qo.ADD_SELECTION_TO_FILTER?r=this.valueModel.isAddCurrentSelectionToFilterChecked():r=this.valueModel.isKeySelected(e),{isSelected:r,isExpanded:i}},t.prototype.isSetFilterModelTreeItem=function(e){return(e==null?void 0:e.treeKey)!==void 0},t.prototype.initMiniFilter=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var r=this,i=r.eMiniFilter,o=r.localeService,a=o.getLocaleTextFunc();i.setDisplayed(!this.setFilterParams.suppressMiniFilter),i.setValue(this.valueModel.getMiniFilter()),i.onValueChange(function(){return e.onMiniFilterInput()}),i.setInputAriaLabel(a("ariaSearchFilterValues","Search filter values")),this.addManagedListener(i.getInputElement(),"keydown",function(s){return e.onMiniFilterKeyDown(s)})},t.prototype.updateMiniFilter=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.eMiniFilter;e.isDisplayed()!==!this.setFilterParams.suppressMiniFilter&&e.setDisplayed(!this.setFilterParams.suppressMiniFilter);var r=this.valueModel.getMiniFilter();e.getValue()!==r&&e.setValue(r)},t.prototype.afterGuiAttached=function(e){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");n.prototype.afterGuiAttached.call(this,e),this.resetExpansion(),this.refreshVirtualList();var r=this.eMiniFilter;r.setInputPlaceholder(this.translateForSetFilter("searchOoo")),(!e||!e.suppressFocus)&&r.getFocusableElement().focus()},t.prototype.afterGuiDetached=function(){var e,r;n.prototype.afterGuiDetached.call(this),!((e=this.setFilterParams)===null||e===void 0)&&e.excelMode&&this.resetMiniFilter();var i=this.getModel();(!((r=this.setFilterParams)===null||r===void 0)&&r.excelMode||!this.areModelsEqual(i,this.getModelFromUi()))&&(this.resetUiToActiveModel(i),this.showOrHideResults())},t.prototype.applyModel=function(e){var r=this;if(e===void 0&&(e="api"),!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");this.setFilterParams.excelMode&&e!=="rowDataUpdated"&&this.valueModel.isEverythingVisibleSelected()&&this.valueModel.selectAllMatchingMiniFilter();var i=this.valueModel.showAddCurrentSelectionToFilter()&&this.valueModel.isAddCurrentSelectionToFilterChecked();if(i&&!this.getModel())return!1;var o=n.prototype.applyModel.call(this,e),a=this.getModel();return a?(i||this.valueModel.setAppliedModelKeys(new Set),a.values.forEach(function(s){r.valueModel.addToAppliedModelKeys(s)})):i||this.valueModel.setAppliedModelKeys(null),o},t.prototype.isModelValid=function(e){return this.setFilterParams&&this.setFilterParams.excelMode?e==null||e.values.length>0:!0},t.prototype.doesFilterPass=function(e){var r=this;if(!this.setFilterParams||!this.valueModel||!this.valueModel.getCaseFormattedAppliedModelKeys())return!0;if(!this.valueModel.hasAnyAppliedModelKey())return!1;var i=e.node,o=e.data;if(this.treeDataTreeList)return this.doesFilterPassForTreeData(i,o);if(this.groupingTreeList)return this.doesFilterPassForGrouping(i);var a=this.getValueFromNode(i);return this.convertValuesToStrings?this.doesFilterPassForConvertValuesToString(i,a):a!=null&&Array.isArray(a)?a.length===0?this.valueModel.hasAppliedModelKey(null):a.some(function(s){return r.isInAppliedModel(r.createKey(s,i))}):this.isInAppliedModel(this.createKey(a,i))},t.prototype.doesFilterPassForConvertValuesToString=function(e,r){var i=this,o=this.createKey(r,e);return o!=null&&Array.isArray(o)?o.length===0?this.valueModel.hasAppliedModelKey(null):o.some(function(a){return i.isInAppliedModel(a)}):this.isInAppliedModel(o)},t.prototype.doesFilterPassForTreeData=function(e,r){var i;return!((i=e.childrenAfterGroup)===null||i===void 0)&&i.length?!1:this.isInAppliedModel(this.createKey(this.checkMakeNullDataPath(this.getDataPath(r))))},t.prototype.doesFilterPassForGrouping=function(e){var r=this,i=this.columnModel.getRowGroupColumns().map(function(o){return r.valueService.getKeyForNode(o,e)});return i.push(this.getValueFromNode(e)),this.isInAppliedModel(this.createKey(this.checkMakeNullDataPath(i)))},t.prototype.checkMakeNullDataPath=function(e){return e&&(e=e.map(function(r){return F.toStringOrNull(F.makeNull(r))})),e!=null&&e.some(function(r){return r==null})?null:e},t.prototype.isInAppliedModel=function(e){return this.valueModel.hasAppliedModelKey(e)},t.prototype.getValueFromNode=function(e){return this.setFilterParams.getValue(e)},t.prototype.getKeyCreatorParams=function(e,r){return r===void 0&&(r=null),{value:e,colDef:this.setFilterParams.colDef,column:this.setFilterParams.column,node:r,data:r==null?void 0:r.data,api:this.setFilterParams.api,columnApi:this.setFilterParams.columnApi,context:this.setFilterParams.context}},t.prototype.onNewRowsLoaded=function(){this.isValuesTakenFromGrid()&&this.syncAfterDataChange()},t.prototype.isValuesTakenFromGrid=function(){if(!this.valueModel)return!1;var e=this.valueModel.getValuesType();return e===go.TAKEN_FROM_GRID_VALUES},t.prototype.setFilterValues=function(e){var r=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.overrideValues(e).then(function(){r.checkAndRefreshVirtualList(),r.onUiChanged()})},t.prototype.resetFilterValues=function(){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.setValuesType(go.TAKEN_FROM_GRID_VALUES),this.syncAfterDataChange()},t.prototype.refreshFilterValues=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.isInitialised()&&this.valueModel.refreshValues().then(function(){e.checkAndRefreshVirtualList(),e.onUiChanged()})},t.prototype.onAnyFilterChanged=function(){var e=this;setTimeout(function(){if(e.isAlive()){if(!e.valueModel)throw new Error("Value model has not been created.");e.valueModel.refreshAfterAnyFilterChanged().then(function(r){r&&(e.checkAndRefreshVirtualList(),e.showOrHideResults())})}},0)},t.prototype.onMiniFilterInput=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");if(this.valueModel.setMiniFilter(this.eMiniFilter.getValue())){var e=this.setFilterParams||{},r=e.applyMiniFilterWhileTyping,i=e.readOnly;!i&&r?this.filterOnAllVisibleValues(!1):this.updateUiAfterMiniFilterChange()}},t.prototype.updateUiAfterMiniFilterChange=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.setFilterParams||{},r=e.excelMode,i=e.readOnly;r==null||i?this.checkAndRefreshVirtualList():this.valueModel.getMiniFilter()==null?this.resetUiToActiveModel(this.getModel()):(this.valueModel.selectAllMatchingMiniFilter(!0),this.checkAndRefreshVirtualList(),this.onUiChanged()),this.showOrHideResults()},t.prototype.showOrHideResults=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.valueModel.getMiniFilter()!=null&&this.valueModel.getDisplayedValueCount()<1;F.setDisplayed(this.eNoMatches,e),F.setDisplayed(this.eSetFilterList,!e)},t.prototype.resetMiniFilter=function(){var e;this.eMiniFilter.setValue(null,!0),(e=this.valueModel)===null||e===void 0||e.setMiniFilter(null)},t.prototype.resetUiToActiveModel=function(e,r){var i=this;this.setModelAndRefresh(e==null?null:e.values).then(function(){i.onUiChanged(!1,"prevent"),r==null||r()})},t.prototype.handleCancelEnd=function(e){this.setMiniFilter(null),n.prototype.handleCancelEnd.call(this,e)},t.prototype.onMiniFilterKeyDown=function(e){var r=this.setFilterParams||{},i=r.excelMode,o=r.readOnly;e.key===K.ENTER&&!i&&!o&&this.filterOnAllVisibleValues()},t.prototype.filterOnAllVisibleValues=function(e){e===void 0&&(e=!0);var r=(this.setFilterParams||{}).readOnly;if(!this.valueModel)throw new Error("Value model has not been created.");if(r)throw new Error("Unable to filter in readOnly mode.");this.valueModel.selectAllMatchingMiniFilter(!0),this.checkAndRefreshVirtualList(),this.onUiChanged(!1,e?"immediately":"debounce"),this.showOrHideResults()},t.prototype.focusRowIfAlive=function(e){var r=this;e!=null&&window.setTimeout(function(){if(!r.virtualList)throw new Error("Virtual list has not been created.");r.isAlive()&&r.virtualList.focusRow(e)},0)},t.prototype.onSelectAll=function(e){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");e?this.valueModel.selectAllMatchingMiniFilter():this.valueModel.deselectAllMatchingMiniFilter(),this.refreshAfterSelection()},t.prototype.onGroupItemSelected=function(e,r){var i=this,o=function(a){a.children?a.children.forEach(function(s){return o(s)}):i.selectItem(a.key,r)};o(e),this.refreshAfterSelection()},t.prototype.onItemSelected=function(e,r){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");this.selectItem(e,r),this.refreshAfterSelection()},t.prototype.selectItem=function(e,r){r?this.valueModel.selectKey(e):this.valueModel.deselectKey(e)},t.prototype.onExpandAll=function(e,r){var i=function(o){o.filterPasses&&o.available&&o.children&&(o.children.forEach(function(a){return i(a)}),o.expanded=r)};i(e),this.refreshAfterExpansion()},t.prototype.onExpandedChanged=function(e,r){e.expanded=r,this.refreshAfterExpansion()},t.prototype.refreshAfterExpansion=function(){var e=this.virtualList.getLastFocusedRow();this.valueModel.updateDisplayedValues("expansion"),this.checkAndRefreshVirtualList(),this.focusRowIfAlive(e)},t.prototype.refreshAfterSelection=function(){var e=this.virtualList.getLastFocusedRow();this.checkAndRefreshVirtualList(),this.onUiChanged(),this.focusRowIfAlive(e)},t.prototype.setMiniFilter=function(e){this.eMiniFilter.setValue(e),this.onMiniFilterInput()},t.prototype.getMiniFilter=function(){return this.valueModel?this.valueModel.getMiniFilter():null},t.prototype.checkAndRefreshVirtualList=function(){if(!this.virtualList)throw new Error("Virtual list has not been created.");this.virtualList.refresh(!this.hardRefreshVirtualList),this.hardRefreshVirtualList&&(this.hardRefreshVirtualList=!1)},t.prototype.getFilterKeys=function(){return this.valueModel?this.valueModel.getKeys():[]},t.prototype.getFilterValues=function(){return this.valueModel?this.valueModel.getValues():[]},t.prototype.getValues=function(){return this.getFilterKeys()},t.prototype.refreshVirtualList=function(){this.setFilterParams&&this.setFilterParams.refreshValuesOnOpen?this.refreshFilterValues():this.checkAndRefreshVirtualList()},t.prototype.translateForSetFilter=function(e){var r=this.localeService.getLocaleTextFunc();return r(e,Xet[e])},t.prototype.isSelectAllSelected=function(){if(!this.setFilterParams||!this.valueModel)return!1;if(this.setFilterParams.defaultToNothingSelected){if(this.valueModel.hasSelections()&&this.valueModel.isEverythingVisibleSelected())return!0;if(this.valueModel.isNothingVisibleSelected())return!1}else{if(this.valueModel.hasSelections()&&this.valueModel.isNothingVisibleSelected())return!1;if(this.valueModel.isEverythingVisibleSelected())return!0}},t.prototype.areAllChildrenSelected=function(e){var r=this,i=function(o){if(o.children){var a=!1,s=!1,l=o.children.some(function(u){if(!u.filterPasses||!u.available)return!1;var c=i(u);return c===void 0?!0:(c?a=!0:s=!0,a&&s)});return l?void 0:a}else return r.valueModel.isKeySelected(o.key)};return this.setFilterParams.defaultToNothingSelected?this.valueModel.hasSelections()&&i(e):i(e)},t.prototype.destroy=function(){this.virtualList!=null&&(this.virtualList.destroy(),this.virtualList=null),n.prototype.destroy.call(this)},t.prototype.caseFormat=function(e){return e==null||typeof e!="string"||this.caseSensitive?e:e.toUpperCase()},t.prototype.resetExpansion=function(){var e,r;if(!((e=this.setFilterParams)===null||e===void 0)&&e.treeList){var i=(r=this.valueModel)===null||r===void 0?void 0:r.getSelectAllItem();if(this.isSetFilterModelTreeItem(i)){var o=function(a){a.children&&(a.children.forEach(function(s){return o(s)}),a.expanded=!1)};o(i),this.valueModel.updateDisplayedValues("expansion")}}},t.prototype.getModelAsString=function(e){return this.filterModelFormatter.getModelAsString(e,this)},t.prototype.getPositionableElement=function(){return this.eSetFilterList},qh([U("eMiniFilter")],t.prototype,"eMiniFilter",void 0),qh([U("eFilterLoading")],t.prototype,"eFilterLoading",void 0),qh([U("eSetFilterList")],t.prototype,"eSetFilterList",void 0),qh([U("eFilterNoMatches")],t.prototype,"eNoMatches",void 0),qh([O("valueFormatterService")],t.prototype,"valueFormatterService",void 0),qh([O("columnModel")],t.prototype,"columnModel",void 0),qh([O("valueService")],t.prototype,"valueService",void 0),t}(Xp),Qet=function(){function n(t){this.model=t}return n.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()},n.prototype.getRow=function(t){return this.model.getDisplayedItem(t)},n.prototype.areRowsEqual=function(t,e){return t===e},n}(),Jet=function(){function n(t,e){this.model=t,this.isSelectAllSelected=e}return n.prototype.getRowCount=function(){var t=this.model.showAddCurrentSelectionToFilter(),e=t?2:1;return this.model.getDisplayedValueCount()+e},n.prototype.getRow=function(t){if(t===0)return this.model.getSelectAllItem();var e=this.model.showAddCurrentSelectionToFilter(),r=e?2:1;return t===1&&e?this.model.getAddSelectionToFilterItem():this.model.getDisplayedItem(t-r)},n.prototype.areRowsEqual=function(t,e){return t===e},n}(),ett=function(){function n(t){this.model=t}return n.prototype.getRowCount=function(){return this.model.getRowCount()},n.prototype.getRow=function(t){return this.model.getRow(t)},n.prototype.areRowsEqual=function(t,e){return t==null&&e==null?!0:t!=null&&e!=null&&t.treeKey===e.treeKey&&t.depth===e.depth},n}(),ttt=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),EK=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},rtt=function(n){ttt(t,n);function t(){var e=n.call(this,`
            <div class="ag-floating-filter-input ag-set-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>
            </div>`)||this;return e.availableValuesListenerAdded=!1,e.filterModelFormatter=new roe,e}return t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.init=function(e){var r=this;this.params=e,this.eFloatingFilterText.setDisabled(!0).addGuiEventListener("click",function(){return r.params.showParentFilter()}),this.setParams(e)},t.prototype.setParams=function(e){var r=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setInputAriaLabel("".concat(r," ").concat(i("ariaFilterInput","Filter Input")))},t.prototype.onParamsUpdated=function(e){this.refresh(e)},t.prototype.refresh=function(e){this.params=e,this.setParams(e)},t.prototype.onParentModelChanged=function(e){this.updateFloatingFilterText(e)},t.prototype.parentSetFilterInstance=function(e){this.params.parentFilterInstance(function(r){if(!(r instanceof noe))throw new Error("AG Grid - SetFloatingFilter expects SetFilter as its parent");e(r)})},t.prototype.addAvailableValuesListener=function(){var e=this;this.parentSetFilterInstance(function(r){var i=r.getValueModel();i&&e.addManagedListener(i,toe.EVENT_AVAILABLE_VALUES_CHANGED,function(){return e.updateFloatingFilterText()})}),this.availableValuesListenerAdded=!0},t.prototype.updateFloatingFilterText=function(e){var r=this;this.availableValuesListenerAdded||this.addAvailableValuesListener(),this.parentSetFilterInstance(function(i){r.eFloatingFilterText.setValue(r.filterModelFormatter.getModelAsString(e,i))})},EK([U("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),EK([O("columnModel")],t.prototype,"columnModel",void 0),t}(Ce),ntt="31.1.1",itt={version:ntt,moduleName:Te.SetFilterModule,beans:[],userComponents:[{componentName:"agSetColumnFilter",componentClass:noe},{componentName:"agSetColumnFloatingFilter",componentClass:rtt}],dependantModules:[Pi]},ott=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),att=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},stt=function(n){ott(t,n);function t(){var e=n.call(this)||this;return e.allComponents=new Map,e}return t.prototype.registerStatusPanel=function(e,r){this.allComponents.set(e,r)},t.prototype.unregisterStatusPanel=function(e){this.allComponents.delete(e)},t.prototype.unregisterAllComponents=function(){this.allComponents.clear()},t.prototype.getStatusPanel=function(e){return this.allComponents.get(e)},t.prototype.destroy=function(){this.unregisterAllComponents(),n.prototype.destroy.call(this)},t=att([me("statusBarService")],t),t}(re),ltt=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Xh=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},utt=function(n){ltt(t,n);function t(){var e=n.call(this,t.TEMPLATE)||this;return e.compDestroyFunctions={},e}return t.prototype.postConstruct=function(){this.processStatusPanels(new Map),this.addManagedPropertyListeners(["statusBar"],this.handleStatusBarChanged.bind(this))},t.prototype.processStatusPanels=function(e){var r,i=(r=this.gridOptionsService.get("statusBar"))===null||r===void 0?void 0:r.statusPanels;if(i){var o=i.filter(function(l){return l.align==="left"});this.createAndRenderComponents(o,this.eStatusBarLeft,e);var a=i.filter(function(l){return l.align==="center"});this.createAndRenderComponents(a,this.eStatusBarCenter,e);var s=i.filter(function(l){return!l.align||l.align==="right"});this.createAndRenderComponents(s,this.eStatusBarRight,e)}else this.setDisplayed(!1)},t.prototype.handleStatusBarChanged=function(){var e=this,r,i=(r=this.gridOptionsService.get("statusBar"))===null||r===void 0?void 0:r.statusPanels,o=Array.isArray(i)&&i.length>0;this.setDisplayed(o);var a=new Map;o&&i.forEach(function(s){var l,u,c=(l=s.key)!==null&&l!==void 0?l:s.statusPanel,d=e.statusBarService.getStatusPanel(c);if(d!=null&&d.refresh){var p=e.gridOptionsService.addGridCommonParams((u=s.statusPanelParams)!==null&&u!==void 0?u:{}),h=d.refresh(p);h&&(a.set(c,d),delete e.compDestroyFunctions[c],F.removeFromParent(d.getGui()))}}),this.resetStatusBar(),o&&this.processStatusPanels(a)},t.prototype.resetStatusBar=function(){this.eStatusBarLeft.innerHTML="",this.eStatusBarCenter.innerHTML="",this.eStatusBarRight.innerHTML="",this.destroyComponents(),this.statusBarService.unregisterAllComponents()},t.prototype.destroyComponents=function(){Object.values(this.compDestroyFunctions).forEach(function(e){return e()}),this.compDestroyFunctions={}},t.prototype.createAndRenderComponents=function(e,r,i){var o=this,a=[];e.forEach(function(s){var l=s.key||s.statusPanel,u=i.get(l),c;if(u)c=Ot.resolve(u);else{var d={},p=o.userComponentFactory.getStatusPanelCompDetails(s,d);if(c=p.newAgStackInstance(),!c)return}a.push({key:l,promise:c})}),Ot.all(a.map(function(s){return s.promise})).then(function(){a.forEach(function(s){s.promise.then(function(l){var u=function(){o.getContext().destroyBean(l)};o.isAlive()?(o.statusBarService.registerStatusPanel(s.key,l),r.appendChild(l.getGui()),o.compDestroyFunctions[s.key]=u):u()})})})},t.TEMPLATE=`<div class="ag-status-bar">
            <div ref="eStatusBarLeft" class="ag-status-bar-left" role="status"></div>
            <div ref="eStatusBarCenter" class="ag-status-bar-center" role="status"></div>
            <div ref="eStatusBarRight" class="ag-status-bar-right" role="status"></div>
        </div>`,Xh([O("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Xh([O("statusBarService")],t.prototype,"statusBarService",void 0),Xh([U("eStatusBarLeft")],t.prototype,"eStatusBarLeft",void 0),Xh([U("eStatusBarCenter")],t.prototype,"eStatusBarCenter",void 0),Xh([U("eStatusBarRight")],t.prototype,"eStatusBarRight",void 0),Xh([q],t.prototype,"postConstruct",null),Xh([Gr],t.prototype,"destroyComponents",null),t}(Ce),ctt=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),OK=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},tx=function(n){ctt(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.setLabel=function(e,r){this.setDisplayed(!1);var i=this.localeService.getLocaleTextFunc();this.eLabel.innerHTML=i(e,r)},t.prototype.setValue=function(e){this.eValue.innerHTML=e},t.TEMPLATE=`<div class="ag-status-name-value">
            <span ref="eLabel"></span>:&nbsp;
            <span ref="eValue" class="ag-status-name-value-value"></span>
        </div>`,OK([U("eLabel")],t.prototype,"eLabel",void 0),OK([U("eValue")],t.prototype,"eValue",void 0),t}(Ce),dtt=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),RK=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ptt=function(n){dtt(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){if(this.gridApi.__getModel().getType()!=="clientSide"){console.warn("AG Grid: agTotalAndFilteredRowCountComponent should only be used with the client side row model.");return}this.setLabel("totalAndFilteredRows","Rows"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-and-filtered-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,M.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()},t.prototype.onDataChanged=function(){var e=this.localeService.getLocaleTextFunc(),r=e("thousandSeparator",","),i=e("decimalSeparator","."),o=F.formatNumberCommas(this.getFilteredRowCountValue(),r,i),a=F.formatNumberCommas(this.getTotalRowCount(),r,i);if(o===a)this.setValue(o);else{var s=this.localeService.getLocaleTextFunc();this.setValue("".concat(o," ").concat(s("of","of")," ").concat(a))}},t.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter(function(r){r.group||e++}),e},t.prototype.getTotalRowCount=function(){var e=0;return this.gridApi.forEachNode(function(r){r.group||e++}),e},t.prototype.init=function(){},t.prototype.refresh=function(){return!0},t.prototype.destroy=function(){n.prototype.destroy.call(this)},RK([O("gridApi")],t.prototype,"gridApi",void 0),RK([q],t.prototype,"postConstruct",null),t}(tx),htt=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),TK=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ftt=function(n){htt(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){if(this.setLabel("filteredRows","Filtered"),this.gridApi.__getModel().getType()!=="clientSide"){console.warn("AG Grid: agFilteredRowCountComponent should only be used with the client side row model.");return}this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-filtered-row-count"),this.setDisplayed(!0);var e=this.onDataChanged.bind(this);this.addManagedListener(this.eventService,M.EVENT_MODEL_UPDATED,e),e()},t.prototype.onDataChanged=function(){var e=this.getTotalRowCountValue(),r=this.getFilteredRowCountValue(),i=this.localeService.getLocaleTextFunc(),o=i("thousandSeparator",","),a=i("decimalSeparator",".");this.setValue(F.formatNumberCommas(r,o,a)),this.setDisplayed(e!==r)},t.prototype.getTotalRowCountValue=function(){var e=0;return this.gridApi.forEachNode(function(r){return e+=1}),e},t.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter(function(r){r.group||(e+=1)}),e},t.prototype.init=function(){},t.prototype.refresh=function(){return!0},t.prototype.destroy=function(){n.prototype.destroy.call(this)},TK([O("gridApi")],t.prototype,"gridApi",void 0),TK([q],t.prototype,"postConstruct",null),t}(tx),vtt=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),PK=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},gtt=function(n){vtt(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){if(this.setLabel("totalRows","Total Rows"),this.gridApi.__getModel().getType()!=="clientSide"){console.warn("AG Grid: agTotalRowCountComponent should only be used with the client side row model.");return}this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,M.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()},t.prototype.onDataChanged=function(){var e=this.localeService.getLocaleTextFunc(),r=e("thousandSeparator",","),i=e("decimalSeparator",".");this.setValue(F.formatNumberCommas(this.getRowCountValue(),r,i))},t.prototype.getRowCountValue=function(){var e=0;return this.gridApi.forEachLeafNode(function(r){return e+=1}),e},t.prototype.init=function(){},t.prototype.refresh=function(){return!0},t.prototype.destroy=function(){n.prototype.destroy.call(this)},PK([O("gridApi")],t.prototype,"gridApi",void 0),PK([q],t.prototype,"postConstruct",null),t}(tx),mtt=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),yF=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ytt=function(n){mtt(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){if(!this.isValidRowModel()){console.warn("AG Grid: agSelectedRowCountComponent should only be used with the client and server side row model.");return}this.setLabel("selectedRows","Selected"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-selected-row-count"),this.onRowSelectionChanged();var e=this.onRowSelectionChanged.bind(this);this.addManagedListener(this.eventService,M.EVENT_MODEL_UPDATED,e),this.addManagedListener(this.eventService,M.EVENT_SELECTION_CHANGED,e)},t.prototype.isValidRowModel=function(){var e=this.gridApi.__getModel().getType();return e==="clientSide"||e==="serverSide"},t.prototype.onRowSelectionChanged=function(){var e=this.selectionService.getSelectionCount();if(e<0){this.setValue("?"),this.setDisplayed(!0);return}var r=this.localeService.getLocaleTextFunc(),i=r("thousandSeparator",","),o=r("decimalSeparator",".");this.setValue(F.formatNumberCommas(e,i,o)),this.setDisplayed(e>0)},t.prototype.init=function(){},t.prototype.refresh=function(){return!0},t.prototype.destroy=function(){n.prototype.destroy.call(this)},yF([O("gridApi")],t.prototype,"gridApi",void 0),yF([O("selectionService")],t.prototype,"selectionService",void 0),yF([q],t.prototype,"postConstruct",null),t}(tx),Ctt=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ma=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Stt=function(n){Ctt(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.destroy=function(){n.prototype.destroy.call(this)},t.prototype.postConstruct=function(){if(!this.isValidRowModel()){console.warn("AG Grid: agAggregationComponent should only be used with the client and server side row model.");return}this.avgAggregationComp.setLabel("avg","Average"),this.countAggregationComp.setLabel("count","Count"),this.minAggregationComp.setLabel("min","Min"),this.maxAggregationComp.setLabel("max","Max"),this.sumAggregationComp.setLabel("sum","Sum"),this.addManagedListener(this.eventService,M.EVENT_RANGE_SELECTION_CHANGED,this.onRangeSelectionChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_MODEL_UPDATED,this.onRangeSelectionChanged.bind(this))},t.prototype.isValidRowModel=function(){var e=this.gridApi.__getModel().getType();return e==="clientSide"||e==="serverSide"},t.prototype.init=function(e){this.params=e},t.prototype.refresh=function(e){return this.params=e,this.onRangeSelectionChanged(),!0},t.prototype.setAggregationComponentValue=function(e,r,i){var o,a=this.getAllowedAggregationValueComponent(e);if(F.exists(a)&&a){var s=this.localeService.getLocaleTextFunc(),l=s("thousandSeparator",","),u=s("decimalSeparator",".");a.setValue(F.formatNumberTwoDecimalPlacesAndCommas(r,l,u)),a.setDisplayed(i)}else(o=this.getAggregationValueComponent(e))===null||o===void 0||o.setDisplayed(!1)},t.prototype.getAllowedAggregationValueComponent=function(e){var r=this.params.aggFuncs;return!r||r.includes(e)?this.getAggregationValueComponent(e):null},t.prototype.getAggregationValueComponent=function(e){var r="".concat(e,"AggregationComp");return this[r]},t.prototype.onRangeSelectionChanged=function(){var e=this,r=this.rangeService?this.rangeService.getCellRanges():void 0,i=0,o=0,a=0,s=null,l=null,u={};r&&!F.missingOrEmpty(r)&&r.forEach(function(p){for(var h=e.rangeService.getRangeStartRow(p),f=e.rangeService.getRangeEndRow(p);;){var v=F.missing(h)||!h||e.rowPositionUtils.before(f,h);if(v||!h||!p.columns)break;p.columns.forEach(function(g){if(h!==null){var m=e.cellPositionUtils.createId({rowPinned:h.rowPinned,column:g,rowIndex:h.rowIndex});if(!u[m]){u[m]=!0;var y=e.rowRenderer.getRowNode(h);if(!F.missing(y)){var C=e.valueService.getValue(g,y);F.missing(C)||C===""||(o++,!(typeof C=="object"&&"value"in C&&(C=C.value,C===""))&&(typeof C=="string"&&(C=Number(C)),typeof C=="number"&&!isNaN(C)&&(i+=C,(l===null||C>l)&&(l=C),(s===null||C<s)&&(s=C),a++)))}}}}),h=e.cellNavigationService.getRowBelow(h)}});var c=o>1,d=a>1;this.setAggregationComponentValue("count",o,c),this.setAggregationComponentValue("sum",i,d),this.setAggregationComponentValue("min",s,d),this.setAggregationComponentValue("max",l,d),this.setAggregationComponentValue("avg",i/a,d)},t.TEMPLATE=`<div class="ag-status-panel ag-status-panel-aggregations">
            <ag-name-value ref="avgAggregationComp"></ag-name-value>
            <ag-name-value ref="countAggregationComp"></ag-name-value>
            <ag-name-value ref="minAggregationComp"></ag-name-value>
            <ag-name-value ref="maxAggregationComp"></ag-name-value>
            <ag-name-value ref="sumAggregationComp"></ag-name-value>
        </div>`,Ma([xt("rangeService")],t.prototype,"rangeService",void 0),Ma([O("valueService")],t.prototype,"valueService",void 0),Ma([O("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Ma([O("rowRenderer")],t.prototype,"rowRenderer",void 0),Ma([O("gridApi")],t.prototype,"gridApi",void 0),Ma([O("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Ma([O("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Ma([U("sumAggregationComp")],t.prototype,"sumAggregationComp",void 0),Ma([U("countAggregationComp")],t.prototype,"countAggregationComp",void 0),Ma([U("minAggregationComp")],t.prototype,"minAggregationComp",void 0),Ma([U("maxAggregationComp")],t.prototype,"maxAggregationComp",void 0),Ma([U("avgAggregationComp")],t.prototype,"avgAggregationComp",void 0),Ma([q],t.prototype,"postConstruct",null),t}(Ce),wtt="31.1.1",_tt={version:wtt,moduleName:Te.StatusBarModule,beans:[stt],agStackComponents:[{componentName:"AgStatusBar",componentClass:utt},{componentName:"AgNameValue",componentClass:tx}],userComponents:[{componentName:"agAggregationComponent",componentClass:Stt},{componentName:"agSelectedRowCountComponent",componentClass:ytt},{componentName:"agTotalRowCountComponent",componentClass:gtt},{componentName:"agFilteredRowCountComponent",componentClass:ftt},{componentName:"agTotalAndFilteredRowCountComponent",componentClass:ptt}],dependantModules:[Pi]},xtt="31.1.1",btt=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Cg=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ett=function(n){btt(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.firstRow=-1,e.lastRow=-1,e.rowCount=-1,e.rowNodesByIndex={},e}return t.prototype.ensureRowHeightsValid=function(e,r,i,o){return!1},t.prototype.init=function(){var e=this;this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addManagedListener(this.eventService,M.EVENT_VIEWPORT_CHANGED,this.onViewportChanged.bind(this)),this.addManagedPropertyListener("viewportDatasource",function(){return e.updateDatasource()}),this.addManagedPropertyListener("rowHeight",function(){e.rowHeight=e.gridOptionsService.getRowHeightAsNumber(),e.updateRowHeights()})},t.prototype.start=function(){this.updateDatasource()},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.destroyDatasource=function(){this.viewportDatasource&&(this.viewportDatasource.destroy&&this.viewportDatasource.destroy(),this.rowRenderer.datasourceChanged(),this.firstRow=-1,this.lastRow=-1)},t.prototype.updateDatasource=function(){var e=this.gridOptionsService.get("viewportDatasource");e&&this.setViewportDatasource(e)},t.prototype.getViewportRowModelPageSize=function(){return this.gridOptionsService.get("viewportRowModelPageSize")},t.prototype.getViewportRowModelBufferSize=function(){return this.gridOptionsService.get("viewportRowModelBufferSize")},t.prototype.calculateFirstRow=function(e){var r=this.getViewportRowModelBufferSize(),i=this.getViewportRowModelPageSize(),o=e-r;return o<0?0:Math.floor(o/i)*i},t.prototype.calculateLastRow=function(e){if(e===-1)return e;var r=this.getViewportRowModelBufferSize(),i=this.getViewportRowModelPageSize(),o=e+r,a=Math.ceil(o/i)*i,s=this.rowCount-1;return Math.min(a,s)},t.prototype.onViewportChanged=function(e){var r=this.calculateFirstRow(e.firstRow),i=this.calculateLastRow(e.lastRow);(this.firstRow!==r||this.lastRow!==i)&&(this.firstRow=r,this.lastRow=i,this.purgeRowsNotInViewport(),this.viewportDatasource&&this.viewportDatasource.setViewportRange(this.firstRow,this.lastRow))},t.prototype.purgeRowsNotInViewport=function(){var e=this;Object.keys(this.rowNodesByIndex).forEach(function(r){var i=parseInt(r,10);if(i<e.firstRow||i>e.lastRow){if(e.isRowFocused(i))return;delete e.rowNodesByIndex[i]}})},t.prototype.isRowFocused=function(e){var r=this.focusService.getFocusCellToUseAfterRefresh();if(!r||r.rowPinned!=null)return!1;var i=r.rowIndex===e;return i},t.prototype.setViewportDatasource=function(e){this.destroyDatasource(),this.viewportDatasource=e,this.rowCount=-1,e.init?e.init({setRowCount:this.setRowCount.bind(this),setRowData:this.setRowData.bind(this),getRow:this.getRow.bind(this)}):console.warn("AG Grid: viewport is missing init method.")},t.prototype.getType=function(){return"viewport"},t.prototype.getRow=function(e){return this.rowNodesByIndex[e]||(this.rowNodesByIndex[e]=this.createBlankRowNode(e)),this.rowNodesByIndex[e]},t.prototype.getRowNode=function(e){var r;return this.forEachNode(function(i){i.id===e&&(r=i)}),r},t.prototype.getRowCount=function(){return this.rowCount===-1?0:this.rowCount},t.prototype.getRowIndexAtPixel=function(e){return this.rowHeight!==0?Math.floor(e/this.rowHeight):0},t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.updateRowHeights=function(){var e=this;this.forEachNode(function(i){i.setRowHeight(e.rowHeight),i.setRowTop(e.rowHeight*i.rowIndex)});var r={type:M.EVENT_MODEL_UPDATED,newData:!1,newPage:!1,keepRenderedRows:!0,animate:!1};this.eventService.dispatchEvent(r)},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.isEmpty=function(){return this.rowCount>0},t.prototype.isRowsToRender=function(){return this.rowCount>0},t.prototype.getNodesInRangeForSelection=function(e,r){var i=F.missing(e)?0:e.rowIndex,o=r.rowIndex,a=i<this.firstRow||i>this.lastRow,s=o<this.firstRow||o>this.lastRow;if(a||s)return[];for(var l=[],u=i<=o?i:o,c=i<=o?o:i,d=u;d<=c;d++)l.push(this.rowNodesByIndex[d]);return l},t.prototype.forEachNode=function(e){var r=this,i=0;Object.keys(this.rowNodesByIndex).forEach(function(o){var a=parseInt(o,10),s=r.rowNodesByIndex[a];e(s,i),i++})},t.prototype.setRowData=function(e){var r=this;F.iterateObject(e,function(i,o){var a=parseInt(i,10);if(a>=r.firstRow&&a<=r.lastRow){var s=r.rowNodesByIndex[a];F.missing(s)&&(s=r.createBlankRowNode(a),r.rowNodesByIndex[a]=s),s.setDataAndId(o,a.toString())}})},t.prototype.createBlankRowNode=function(e){var r=new Ct(this.beans);return r.setRowHeight(this.rowHeight),r.setRowTop(this.rowHeight*e),r.setRowIndex(e),r},t.prototype.setRowCount=function(e,r){if(r===void 0&&(r=!1),e!==this.rowCount){this.rowCount=e,this.eventService.dispatchEventOnce({type:M.EVENT_ROW_COUNT_READY});var i={type:M.EVENT_MODEL_UPDATED,newData:!1,newPage:!1,keepRenderedRows:r,animate:!1};this.eventService.dispatchEvent(i)}},t.prototype.isRowPresent=function(e){var r=this.getRowNode(e.id);return!!r},Cg([O("rowRenderer")],t.prototype,"rowRenderer",void 0),Cg([O("focusService")],t.prototype,"focusService",void 0),Cg([O("beans")],t.prototype,"beans",void 0),Cg([q],t.prototype,"init",null),Cg([Gr],t.prototype,"destroyDatasource",null),t=Cg([me("rowModel")],t),t}(re),Ott={version:xtt,moduleName:Te.ViewportRowModelModule,rowModel:"viewport",beans:[Ett],dependantModules:[Pi]},Rtt=`
.ag-sparkline-tooltip-wrapper {
    position: absolute;
    user-select: none;
    pointer-events: none;
}

.ag-sparkline-tooltip {
    position: relative;
    font: 12px arial,sans-serif;
    border-radius: 2px;
    box-shadow: 0 1px 3px rgb(0 0 0 / 20%), 0 1px 1px rgb(0 0 0 / 14%);
    line-height: 1.7em;
    overflow: hidden;
    white-space: nowrap;
    z-index: 99999;
    background-color: rgb(255, 255, 255);
    color: rgba(0,0,0, 0.67);
}

.ag-sparkline-tooltip-content {
    padding: 0 7px;
    opacity: 1;
}

.ag-sparkline-tooltip-title {
    padding-left: 7px;
    opacity: 1;
}

.ag-sparkline-tooltip-wrapper-hidden {
    top: -10000px !important;
}

.ag-sparkline-wrapper {
    box-sizing: border-box;
    overflow: hidden;
}
`,Ttt=function(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ptt=cn.extent,pS=cn.isNumber,Dtt=cn.isString,Att=cn.isStringObject,DK=cn.isDate,Mtt=cn.createId,Ltt=cn.Padding,CF=Eh.LinearScale,Ftt=Eh.BandScale,AK=Eh.TimeScale,Co;(function(n){n[n.SERIES_FILL_ZINDEX=50]="SERIES_FILL_ZINDEX",n[n.AXIS_LINE_ZINDEX=500]="AXIS_LINE_ZINDEX",n[n.SERIES_STROKE_ZINDEX=1e3]="SERIES_STROKE_ZINDEX",n[n.SERIES_LABEL_ZINDEX=1500]="SERIES_LABEL_ZINDEX",n[n.CROSSHAIR_ZINDEX=2e3]="CROSSHAIR_ZINDEX",n[n.SERIES_MARKERS_ZINDEX=2500]="SERIES_MARKERS_ZINDEX"})(Co||(Co={}));var Itt=function(){function n(){this.type="category",this.stroke="rgb(204, 214, 235)",this.strokeWidth=1}return n}(),Q2=function(){function n(){this.id=Mtt(this),this.seriesRect={x:0,y:0,width:0,height:0},this._context=void 0,this._container=void 0,this._data=void 0,this.padding=new Ltt(3),this.xKey="x",this.yKey="y",this.dataType=void 0,this.xData=[],this.yData=[],this.min=void 0,this.max=void 0,this.yScale=new CF,this.axis=new Itt,this.highlightStyle={size:6,fill:"yellow",stroke:"silver",strokeWidth:1},this._width=100,this._height=100,this.smallestInterval=void 0,this.layoutId=0,this.defaultDateFormatter=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),this._onMouseMove=this.onMouseMove.bind(this),this._onMouseOut=this.onMouseOut.bind(this);var t=new ge.Group;this.rootGroup=t;var e=document.createElement("div");e.setAttribute("class","ag-sparkline-wrapper");var r=new ge.Scene({window,document});this.scene=r,this.canvasElement=r.canvas.element,r.root=t,r.container=e,this.resizeAndSetDimensions(this.width,this.height),n.tooltipDocuments.includes(document)||this.initialiseTooltipStyles(),this.setupDomEventListeners(this.canvasElement)}return Object.defineProperty(n.prototype,"context",{get:function(){return this._context},set:function(t){this._context!==t&&(this._context=t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"container",{get:function(){return this._container},set:function(t){if(this._container!==t){var e=this.canvasElement.parentNode;e!=null&&e.removeChild(this.canvasElement),t&&t.appendChild(this.canvasElement),this._container=t}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"data",{get:function(){return this._data},set:function(t){this._data!==t&&(this._data=t,this.processData(),this.mouseMoveEvent&&this.highlightedDatum&&this.updateHitPoint(this.mouseMoveEvent))},enumerable:!1,configurable:!0}),n.prototype.resizeAndSetDimensions=function(t,e){this.scene.resize(t,e),this.seriesRect.width=t,this.seriesRect.height=e},n.prototype.initialiseTooltipStyles=function(){var t=document.createElement("style");t.innerHTML=Rtt,document.head.insertBefore(t,document.head.querySelector("style")),n.tooltipDocuments.push(document)},Object.defineProperty(n.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this.scene.resize(t,this.height),this.scheduleLayout())},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this.scene.resize(this.width,t),this.scheduleLayout())},enumerable:!1,configurable:!0}),n.prototype.update=function(){},n.prototype.updateYScale=function(){this.updateYScaleRange(),this.updateYScaleDomain()},n.prototype.updateYScaleDomain=function(){},n.prototype.updateYScaleRange=function(){var t=this,e=t.yScale,r=t.seriesRect;e.range=[r.height,0]},n.prototype.updateXScale=function(){var t=this.axis.type;this.xScale=this.getXScale(t),this.updateXScaleRange(),this.updateXScaleDomain()},n.prototype.updateXScaleRange=function(){this.xScale.range=[0,this.seriesRect.width]},n.prototype.updateXScaleDomain=function(){var t=this,e=t.xData,r=t.xScale,i;(r instanceof CF||r instanceof AK)&&(i=Ptt(e)),this.xScale.domain=i?i.slice():e},n.prototype.getXScale=function(t){switch(t===void 0&&(t="category"),t){case"number":return new CF;case"time":return new AK;case"category":default:return new Ftt}},n.prototype.updateAxisLine=function(){},n.prototype.updateAxes=function(){this.updateYScale(),this.updateXScale(),this.updateAxisLine()},n.prototype.updateCrosshairs=function(){this.updateXCrosshairLine(),this.updateYCrosshairLine()},n.prototype.generateNodeData=function(){return[]},n.prototype.getNodeData=function(){return[]},n.prototype.updateNodes=function(){},n.prototype.updateXCrosshairLine=function(){},n.prototype.updateYCrosshairLine=function(){},n.prototype.highlightDatum=function(t){this.updateNodes()},n.prototype.dehighlightDatum=function(){this.highlightedDatum=void 0,this.updateNodes(),this.updateCrosshairs()},n.prototype.onMouseMove=function(t){this.mouseMoveEvent=t,this.updateHitPoint(t)},n.prototype.updateHitPoint=function(t){var e,r,i,o=this.pickClosestSeriesNodeDatum(t.offsetX,t.offsetY);if(o){var a=this.highlightedDatum;this.highlightedDatum=o,(this.highlightedDatum&&!a||this.highlightedDatum&&a&&this.highlightedDatum!==a)&&(this.highlightDatum(o),this.updateCrosshairs(),this.scene.render().catch(function(l){return console.error("AG Grid - chart rendering failed",l)}));var s=(i=(r=(e=this.processedOptions)===null||e===void 0?void 0:e.tooltip)===null||r===void 0?void 0:r.enabled)!==null&&i!==void 0?i:!0;s&&this.handleTooltip(t,o)}},n.prototype.onMouseOut=function(t){this.dehighlightDatum(),this.tooltip.toggle(!1),this.scene.render().catch(function(e){return console.error("AG Grid - chart rendering failed",e)})},n.prototype.processData=function(){var t=this,e=this,r=e.data,i=e.yData,o=e.xData;if(!(!r||this.invalidData(this.data))){i.length=0,o.length=0;var a=r.length,s=this.getDataType(r);this.dataType=s;var l=this.axis.type,u=l!=="number"&&l!=="time"?"category":l,c=u==="number"||u==="time",d=function(_,x){t.smallestInterval==null&&(t.smallestInterval={x:1/0,y:1/0});var E=t.smallestInterval.x,R=Math.abs(_-x);R>0&&R<E&&(t.smallestInterval.x=R)},p;if(s==="number")for(var h=0;h<a;h++){var f=h,v=r[h],g=this.getDatum(f,u),m=this.getDatum(v,"number");c&&d(g,p),o.push(g),i.push(m),p=g}else if(s==="array")for(var h=0;h<a;h++){var y=r[h];if(Array.isArray(y)){var f=y[0],v=y[1],g=this.getDatum(f,u),m=this.getDatum(v,"number");if(g==null)continue;c&&d(g,p),o.push(g),i.push(m),p=g}}else if(s==="object")for(var C=this,S=C.yKey,w=C.xKey,h=0;h<a;h++){var y=r[h];if(typeof y=="object"&&!Array.isArray(y)){var f=y[w],v=y[S],g=this.getDatum(f,u),m=this.getDatum(v,"number");if(g==null)continue;c&&d(g,p),o.push(g),i.push(m),p=g}}this.updateAxes(),this.immediateLayout()}},n.prototype.getDataType=function(t){var e,r;try{for(var i=Ttt(t),o=i.next();!o.done;o=i.next()){var a=o.value;if(a!=null){if(pS(a))return"number";if(Array.isArray(a))return"array";if(typeof a=="object")return"object"}}}catch(s){e={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}},n.prototype.getDatum=function(t,e){if(e==="number"&&pS(t)||e==="time"&&(pS(t)||DK(t)))return t;if(e==="category"){if(Dtt(t)||DK(t)||pS(t))return{toString:function(){return String(t)}};if(Att(t))return t}},Object.defineProperty(n.prototype,"layoutScheduled",{get:function(){return!!this.layoutId},enumerable:!1,configurable:!0}),n.prototype.scheduleLayout=function(){var t=this;this.layoutId&&cancelAnimationFrame(this.layoutId),this.layoutId=requestAnimationFrame(function(){t.immediateLayout(),t.layoutId=0})},n.prototype.immediateLayout=function(){this.setSparklineDimensions(),!this.invalidData(this.data)&&(this.updateXScaleRange(),this.updateYScaleRange(),this.updateAxisLine(),this.update(),this.scene.render().catch(function(t){return console.error("AG Grid - chart rendering failed",t)}))},n.prototype.setSparklineDimensions=function(){var t=this,e=t.width,r=t.height,i=t.padding,o=t.seriesRect,a=t.rootGroup,s=e-i.left-i.right,l=r-i.top-i.bottom;o.width=s,o.height=l,o.x=i.left,o.y=i.top,a.translationX=o.x,a.translationY=o.y},n.prototype.pickClosestSeriesNodeDatum=function(t,e){for(var r=1/0,i,o=this.rootGroup.transformPoint(t,e),a=this.getNodeData(),s=0;s<a.length;s++){var l=a[s];if(!l.point)return;var u=this.getDistance(o,l.point);u<=r&&(r=u,i=l)}return i},n.prototype.getDistance=function(t,e){return Math.abs(t.x-e.x)},n.prototype.handleTooltip=function(t,e){var r,i,o=e.seriesDatum,a=this.canvasElement,s=t.clientX,l=t.clientY,u=(r=this.processedOptions)===null||r===void 0?void 0:r.tooltip,c={pageX:s,pageY:l,position:{xOffset:u==null?void 0:u.xOffset,yOffset:u==null?void 0:u.yOffset},container:u==null?void 0:u.container};c.container==null&&(c.container=a);var d=o.y,p=o.x,h=(i=u==null?void 0:u.enabled)!==null&&i!==void 0?i:!0,f=u==null?void 0:u.renderer;if(f){var v=f({context:this.context,datum:o,yValue:d,xValue:p});h=typeof v!="string"&&v.enabled!==void 0?v.enabled:h}var g=h&&o.y!==void 0&&this.getTooltipHtml(e);g&&this.tooltip.show(c,g)},n.prototype.formatNumericDatum=function(t){return String(Math.round(t*10)/10)},n.prototype.formatDatum=function(t){var e=this.axis.type||"category";return e==="number"&&typeof t=="number"?this.formatNumericDatum(t):e==="time"&&(t instanceof Date||pS(t))?this.defaultDateFormatter.format(t):String(t)},n.prototype.setupDomEventListeners=function(t){t.addEventListener("mousemove",this._onMouseMove),t.addEventListener("mouseout",this._onMouseOut)},n.prototype.cleanupDomEventListeners=function(t){t.removeEventListener("mousemove",this._onMouseMove),t.removeEventListener("mouseout",this._onMouseOut)},n.prototype.invalidData=function(t){return!t||!Array.isArray(t)||t.length===0},n.prototype.destroy=function(){this.scene.container=void 0,this.container=void 0,this.cleanupDomEventListeners(this.scene.canvas.element)},n.tooltipDocuments=[],n}();function sy(n,t){var e,r,i;if(typeof n=="string")return n;t=t??{};var o=n.content,a=o===void 0?(e=t.content)!==null&&e!==void 0?e:"":o,s=n.title,l=s===void 0?(r=t.title)!==null&&r!==void 0?r:void 0:s,u=n.color,c=u===void 0?t.color:u,d=n.backgroundColor,p=d===void 0?t.backgroundColor:d,h=n.opacity,f=h===void 0?(i=t.opacity)!==null&&i!==void 0?i:1:h,v,g;c?(v=l?'<span class="'.concat(Og.class,'-title"; style="color: ').concat(c,'">').concat(l,"</span>"):"",g='<span class="'.concat(Og.class,'-content" style="color: ').concat(c,'">').concat(a,"</span>")):(v=l?'<span class="'.concat(Og.class,'-title">').concat(l,"</span>"):"",g='<span class="'.concat(Og.class,'-content">').concat(a,"</span>"));var m="opacity: ".concat(f);return p&&(m+="; background-color: ".concat(p.toLowerCase())),'<div class="'.concat(Og.class,'" style="').concat(m,`">
                `).concat(v,`
                `).concat(g,`
            </div>`)}var Og=function(){function n(){this.element=document.createElement("div");var t=document.body;t.appendChild(this.element)}return n.prototype.isVisible=function(){var t=this.element;if(t.classList)return!t.classList.contains("".concat(n.class,"-wrapper-hidden"));var e=t.getAttribute("class");return e?e.split(" ").indexOf("".concat(n.class,"-wrapper-hidden"))<0:!1},n.prototype.updateClass=function(t){var e=["".concat(n.class,"-wrapper")];t!==!0&&e.push("".concat(n.class,"-wrapper-hidden")),this.element.setAttribute("class",e.join(" "))},n.prototype.show=function(t,e){var r,i,o,a;this.toggle(!1);var s=this.element;if(e!==void 0)s.innerHTML=e;else if(!s.innerHTML)return;var l=(i=(r=t.position)===null||r===void 0?void 0:r.xOffset)!==null&&i!==void 0?i:10,u=(a=(o=t.position)===null||o===void 0?void 0:o.yOffset)!==null&&a!==void 0?a:0,c=t.pageX+l,d=t.pageY+u,p=s.getBoundingClientRect(),h=window.innerWidth-p.width;if(t.container){var f=t.container.getBoundingClientRect();h=f.left+(f.width-p.width)}c>h&&(c=t.pageX-s.clientWidth-l),typeof scrollX<"u"&&(c+=scrollX),typeof scrollY<"u"&&(d+=scrollY),s.style.left="".concat(Math.round(c),"px"),s.style.top="".concat(Math.round(d),"px"),this.toggle(!0)},n.prototype.toggle=function(t){this.updateClass(t)},n.prototype.destroy=function(){var t=this.element.parentNode;t&&t.removeChild(this.element)},n.class="ag-sparkline-tooltip",n}();function ioe(n){switch(n){case"circle":return ge.Circle;case"square":return ge.Square;case"diamond":return ge.Diamond;default:return ge.Circle}}function DT(n,t){t===void 0&&(t="solid");var e={solid:[],dash:[4,3],dot:[1,3],dashDot:[4,3,1,3],dashDotDot:[4,3,1,3,1,3],shortDot:[1,1],shortDash:[3,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],longDash:[8,3],longDashDot:[8,3,1,3],longDashDotDot:[8,3,1,3,1,3]},r={solid:[],dash:[3,3],dot:[0,3],dashDot:[3,3,0,3],dashDotDot:[3,3,0,3,0,3],shortDot:[0,2],shortDash:[2,2],shortDashDot:[2,2,0,2],shortDashDotDot:[2,2,0,2,0,2],longDash:[7,3],longDashDot:[7,3,0,3],longDashDotDot:[7,3,0,3,0,3]};return n==="round"||n==="square"?r[t]==null?(console.warn("'".concat(t,"' is not a valid 'lineDash' option.")),r.solid):r[t]:e[t]==null?(console.warn("'".concat(t,"' is not a valid 'lineDash' option.")),e.solid):e[t]}var Ntt=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ktt=cn.extent,Gtt=Eh.BandScale,Vtt=function(){function n(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0}return n}(),Btt=function(){function n(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1}return n}(),jtt=function(){function n(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}}return n}(),Htt=function(n){Ntt(t,n);function t(){var e=n.call(this)||this;return e.fill="rgba(124, 181, 236, 0.25)",e.strokePath=new ge.Path,e.fillPath=new ge.Path,e.xCrosshairLine=new ge.Line,e.yCrosshairLine=new ge.Line,e.areaSparklineGroup=new ge.Group,e.xAxisLine=new ge.Line,e.markers=new ge.Group,e.markerSelection=ge.Selection.select(e.markers,function(){return e.markerFactory()}),e.markerSelectionData=[],e.marker=new Vtt,e.line=new Btt,e.crosshairs=new jtt,e.rootGroup.append(e.areaSparklineGroup),e.xAxisLine.zIndex=Co.AXIS_LINE_ZINDEX,e.fillPath.zIndex=Co.SERIES_FILL_ZINDEX,e.strokePath.zIndex=Co.SERIES_STROKE_ZINDEX,e.xCrosshairLine.zIndex=Co.CROSSHAIR_ZINDEX,e.yCrosshairLine.zIndex=Co.CROSSHAIR_ZINDEX,e.markers.zIndex=Co.SERIES_MARKERS_ZINDEX,e.areaSparklineGroup.append([e.fillPath,e.xAxisLine,e.strokePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return t.prototype.markerFactory=function(){var e=this.marker.shape,r=ioe(e);return new r},t.prototype.getNodeData=function(){return this.markerSelectionData},t.prototype.update=function(){var e=this.generateNodeData();if(e){var r=e.nodeData,i=e.fillData,o=e.strokeData;this.markerSelectionData=r,this.updateSelection(r),this.updateNodes(),this.updateStroke(o),this.updateFill(i)}},t.prototype.updateYScaleDomain=function(){var e=this,r=e.yData,i=e.yScale,o=ktt(r),a=0,s=1;o!==void 0&&(a=this.min=o[0],s=this.max=o[1]),a=a<0?a:0,s=s<0?0:s,i.domain=[a,s]},t.prototype.generateNodeData=function(){var e=this,r=e.data,i=e.yData,o=e.xData,a=e.xScale,s=e.yScale;if(r){for(var l=!(a instanceof Gtt),u=l?0:a.bandwidth/2,c=i.length,d=[],p=[],h=[],f,v,g,m,y=s.convert(0),C=0;C<c;C++){var S=i[C],w=o[C],_=a.convert(l?a.toDomain(w):w)+u,x=S===void 0?NaN:s.convert(S);C+1<c&&(m=a.convert(l?a.toDomain(o[C+1]):o[C+1])+u),h.push({seriesDatum:{x:w,y:S},point:{x:_,y:x}}),S===void 0&&g!==void 0?(p.push({seriesDatum:void 0,point:{x:g,y}}),m!==void 0&&p.push({seriesDatum:void 0,point:{x:m,y}})):S!==void 0&&(p.push({seriesDatum:{x:w,y:S},point:{x:_,y:x}}),d.push({seriesDatum:{x:w,y:S},point:{x:_,y:x}}),f=f!==void 0?f:_,v=_),g=_}return p.push({seriesDatum:void 0,point:{x:v,y}},{seriesDatum:void 0,point:{x:f,y}}),{nodeData:d,fillData:p,strokeData:h}}},t.prototype.updateAxisLine=function(){var e=this,r=e.xScale,i=e.yScale,o=e.axis,a=e.xAxisLine;a.x1=r.range[0],a.x2=r.range[1],a.y1=a.y2=0,a.stroke=o.stroke,a.strokeWidth=o.strokeWidth;var s=i.convert(0);a.translationY=s},t.prototype.updateSelection=function(e){this.markerSelection.update(e)},t.prototype.updateNodes=function(){var e=this,r=this,i=r.highlightedDatum,o=r.highlightStyle,a=r.marker,s=o.size,l=o.fill,u=o.stroke,c=o.strokeWidth,d=a.formatter;this.markerSelection.each(function(p,h,f){var v=h.point,g=h.seriesDatum;if(v){var m=h===i,y=m&&l!==void 0?l:a.fill,C=m&&u!==void 0?u:a.stroke,S=m&&c!==void 0?c:a.strokeWidth,w=m&&s!==void 0?s:a.size,_;if(d){var x=f===0,E=f===e.markerSelectionData.length-1,R=g.y===e.min,P=g.y===e.max;_=d({datum:h,xValue:g.x,yValue:g.y,min:R,max:P,first:x,last:E,fill:y,stroke:C,strokeWidth:S,size:w,highlighted:m})}p.size=_&&_.size!=null?_.size:w,p.fill=_&&_.fill!=null?_.fill:y,p.stroke=_&&_.stroke!=null?_.stroke:C,p.strokeWidth=_&&_.strokeWidth!=null?_.strokeWidth:S,p.translationX=v.x,p.translationY=v.y,p.visible=_&&_.enabled!=null?_.enabled:a.enabled&&p.size>0}})},t.prototype.updateStroke=function(e){var r=this,i=r.strokePath,o=r.yData,a=r.line;if(!(o.length<2)){var s=i.path,l=e.length,u=!0;s.clear();for(var c=0;c<l;c++){var d=e[c],p=d.point,h=d.seriesDatum,f=p.x,v=p.y;h.y==null?u=!0:u?(s.moveTo(f,v),u=!1):s.lineTo(f,v)}i.lineJoin=i.lineCap="round",i.fill=void 0,i.stroke=a.stroke,i.strokeWidth=a.strokeWidth}},t.prototype.updateFill=function(e){var r=this,i=r.fillPath,o=r.yData,a=r.fill,s=i.path,l=e.length;if(s.clear(),!(o.length<2)){for(var u=0;u<l;u++){var c=e[u].point,d=c.x,p=c.y;u>0?s.lineTo(d,p):s.moveTo(d,p)}s.closePath(),i.lineJoin="round",i.stroke=void 0,i.fill=a}},t.prototype.updateXCrosshairLine=function(){var e,r=this,i=r.yScale,o=r.xCrosshairLine,a=r.highlightedDatum,s=r.crosshairs.xLine;if(!s.enabled||a==null){o.strokeWidth=0;return}o.y1=i.range[0],o.y2=i.range[1],o.x1=o.x2=0,o.stroke=s.stroke,o.strokeWidth=(e=s.strokeWidth)!==null&&e!==void 0?e:1,o.lineCap=s.lineCap==="round"||s.lineCap==="square"?s.lineCap:void 0;var l=s.lineDash;o.lineDash=Array.isArray(l)?l:DT(o.lineCap,s.lineDash),o.translationX=a.point.x},t.prototype.updateYCrosshairLine=function(){var e,r=this,i=r.xScale,o=r.yCrosshairLine,a=r.highlightedDatum,s=r.crosshairs.yLine;if(!s.enabled||a==null){o.strokeWidth=0;return}o.x1=i.range[0],o.x2=i.range[1],o.y1=o.y2=0,o.stroke=s.stroke,o.strokeWidth=(e=s.strokeWidth)!==null&&e!==void 0?e:1,o.lineCap=s.lineCap==="round"||s.lineCap==="square"?s.lineCap:void 0;var l=s.lineDash;o.lineDash=Array.isArray(l)?l:DT(o.lineCap,s.lineDash),o.translationY=a.point.y},t.prototype.getTooltipHtml=function(e){var r,i,o=this.dataType,a=e.seriesDatum,s=a.y,l=a.x,u=this.formatNumericDatum(s),c=o==="array"||o==="object"?this.formatDatum(l):void 0,d={content:u,title:c},p=(i=(r=this.processedOptions)===null||r===void 0?void 0:r.tooltip)===null||i===void 0?void 0:i.renderer;return p?sy(p({context:this.context,datum:a,yValue:s,xValue:l}),d):sy(d)},t.className="AreaSparkline",t}(Q2),$tt=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Wtt=cn.extent,MK=Eh.BandScale,Utt=function(){function n(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0}return n}(),ztt=function(){function n(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1}return n}(),Ktt=function(){function n(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}}return n}(),Ytt=function(n){$tt(t,n);function t(){var e=n.call(this)||this;return e.linePath=new ge.Path,e.xCrosshairLine=new ge.Line,e.yCrosshairLine=new ge.Line,e.lineSparklineGroup=new ge.Group,e.markers=new ge.Group,e.markerSelection=ge.Selection.select(e.markers,function(){return e.markerFactory()}),e.markerSelectionData=[],e.marker=new Utt,e.line=new ztt,e.crosshairs=new Ktt,e.rootGroup.append(e.lineSparklineGroup),e.linePath.zIndex=Co.SERIES_STROKE_ZINDEX,e.xCrosshairLine.zIndex=Co.CROSSHAIR_ZINDEX,e.yCrosshairLine.zIndex=Co.CROSSHAIR_ZINDEX,e.markers.zIndex=Co.SERIES_MARKERS_ZINDEX,e.lineSparklineGroup.append([e.linePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return t.prototype.getNodeData=function(){return this.markerSelectionData},t.prototype.markerFactory=function(){var e=this.marker.shape,r=ioe(e);return new r},t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.clear(),this.scheduleLayout()},t.prototype.update=function(){var e=this.generateNodeData();e&&(this.markerSelectionData=e,this.updateSelection(e),this.updateNodes(),this.updateLine())},t.prototype.updateYScaleDomain=function(){var e=this,r=e.yData,i=e.yScale,o=Wtt(r),a=0,s=1;if(o!==void 0&&(a=this.min=o[0],s=this.max=o[1]),a===s){var l=Math.abs(a*.01);a-=l,s+=l}i.domain=[a,s]},t.prototype.generateNodeData=function(){var e=this,r=e.data,i=e.yData,o=e.xData,a=e.xScale,s=e.yScale;if(r){for(var l=!(a instanceof MK),u=l?0:a.bandwidth/2,c=[],d=0;d<i.length;d++){var p=i[d],h=o[d];if(p!=null){var f=a.convert(l?a.toDomain(h):h)+u,v=p===void 0?NaN:s.convert(p);c.push({seriesDatum:{x:h,y:p},point:{x:f,y:v}})}}return c}},t.prototype.updateSelection=function(e){this.markerSelection.update(e)},t.prototype.updateNodes=function(){var e=this,r=this,i=r.highlightedDatum,o=r.highlightStyle,a=r.marker,s=o.size,l=o.fill,u=o.stroke,c=o.strokeWidth,d=a.formatter;this.markerSelection.each(function(p,h,f){var v=h===i,g=v&&l!==void 0?l:a.fill,m=v&&u!==void 0?u:a.stroke,y=v&&c!==void 0?c:a.strokeWidth,C=v&&s!==void 0?s:a.size,S,w=h.seriesDatum,_=h.point;if(d){var x=f===0,E=f===e.markerSelectionData.length-1,R=w.y===e.min,P=w.y===e.max;S=d({datum:h,xValue:w.x,yValue:w.y,min:R,max:P,first:x,last:E,fill:g,stroke:m,strokeWidth:y,size:C,highlighted:v})}p.size=S&&S.size!=null?S.size:C,p.fill=S&&S.fill!=null?S.fill:g,p.stroke=S&&S.stroke!=null?S.stroke:m,p.strokeWidth=S&&S.strokeWidth!=null?S.strokeWidth:y,p.translationX=_.x,p.translationY=_.y,p.visible=S&&S.enabled!=null?S.enabled:a.enabled&&p.size>0})},t.prototype.updateLine=function(){var e=this,r=e.linePath,i=e.yData,o=e.xData,a=e.xScale,s=e.yScale,l=e.line;if(!(i.length<2)){var u=!(a instanceof MK),c=r.path,d=i.length,p=u?0:a.bandwidth/2,h=!0;c.clear();for(var f=0;f<d;f++){var v=o[f],g=i[f],m=a.convert(u?a.toDomain(v):v)+p,y=g===void 0?NaN:s.convert(g);g==null?h=!0:h?(c.moveTo(m,y),h=!1):c.lineTo(m,y)}r.fill=void 0,r.stroke=l.stroke,r.strokeWidth=l.strokeWidth}},t.prototype.updateXCrosshairLine=function(){var e,r=this,i=r.yScale,o=r.xCrosshairLine,a=r.highlightedDatum,s=r.crosshairs.xLine;if(!s.enabled||a==null){o.strokeWidth=0;return}o.y1=i.range[0],o.y2=i.range[1],o.x1=o.x2=0,o.stroke=s.stroke,o.strokeWidth=(e=s.strokeWidth)!==null&&e!==void 0?e:1,o.lineCap=s.lineCap==="round"||s.lineCap==="square"?s.lineCap:void 0;var l=s.lineDash;o.lineDash=Array.isArray(l)?l:DT(o.lineCap,s.lineDash),o.translationX=a.point.x},t.prototype.updateYCrosshairLine=function(){var e,r=this,i=r.xScale,o=r.yCrosshairLine,a=r.highlightedDatum,s=r.crosshairs.yLine;if(!s.enabled||a==null){o.strokeWidth=0;return}o.x1=i.range[0],o.x2=i.range[1],o.y1=o.y2=0,o.stroke=s.stroke,o.strokeWidth=(e=s.strokeWidth)!==null&&e!==void 0?e:1,o.lineCap=s.lineCap==="round"||s.lineCap==="square"?s.lineCap:void 0;var l=s.lineDash;o.lineDash=Array.isArray(l)?l:DT(o.lineCap,s.lineDash),o.translationY=a.point.y},t.prototype.getTooltipHtml=function(e){var r,i,o=this.dataType,a=e.seriesDatum,s=a.y,l=a.x,u=this.formatNumericDatum(s),c=o==="array"||o==="object"?this.formatDatum(l):void 0,d={content:u,title:c},p=(i=(r=this.processedOptions)===null||r===void 0?void 0:r.tooltip)===null||i===void 0?void 0:i.renderer;return p?sy(p({context:this.context,datum:a,yValue:s,xValue:l}),d):sy(d)},t.className="LineSparkline",t}(Q2),qtt=function(){function n(){this.enabled=!0,this.fontSize=8,this.fontFamily="Verdana, sans-serif",this.fontStyle=void 0,this.fontWeight=void 0,this.color="rgba(70, 70, 70, 1)"}return n}(),ooe=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Xtt=cn.extent,zN;(function(n){n[n.Rect=0]="Rect",n[n.Label=1]="Label"})(zN||(zN={}));var zc;(function(n){n.InsideBase="insideBase",n.InsideEnd="insideEnd",n.Center="center",n.OutsideEnd="outsideEnd"})(zc||(zc={}));var Ztt=function(n){ooe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.formatter=void 0,e.placement=zc.InsideEnd,e}return t}(qtt),aoe=function(n){ooe(t,n);function t(){var e=n.call(this)||this;return e.fill="rgb(124, 181, 236)",e.stroke="silver",e.strokeWidth=0,e.paddingInner=.1,e.paddingOuter=.2,e.valueAxisDomain=void 0,e.formatter=void 0,e.axisLine=new ge.Line,e.bandWidth=0,e.sparklineGroup=new ge.Group,e.rectGroup=new ge.Group,e.labelGroup=new ge.Group,e.rectSelection=ge.Selection.select(e.rectGroup,ge.Rect),e.labelSelection=ge.Selection.select(e.labelGroup,ge.Text),e.nodeSelectionData=[],e.label=new Ztt,e.rootGroup.append(e.sparklineGroup),e.rectGroup.zIndex=Co.SERIES_FILL_ZINDEX,e.axisLine.zIndex=Co.AXIS_LINE_ZINDEX,e.labelGroup.zIndex=Co.SERIES_LABEL_ZINDEX,e.sparklineGroup.append([e.rectGroup,e.axisLine,e.labelGroup]),e.axisLine.lineCap="round",e.label.enabled=!1,e}return t.prototype.getNodeData=function(){return this.nodeSelectionData},t.prototype.update=function(){this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){var e=this.generateNodeData();e&&(this.nodeSelectionData=e,this.updateRectSelection(e),this.updateLabelSelection(e))},t.prototype.updateNodes=function(){this.updateRectNodes(),this.updateLabelNodes()},t.prototype.calculateStep=function(e){var r,i=this,o=i.xScale,a=i.paddingInner,s=i.paddingOuter,l=i.smallestInterval,u=o.domain[1]-o.domain[0],c=u/((r=l==null?void 0:l.x)!==null&&r!==void 0?r:1)+1,d=50,p=Math.min(c,d),h=p-1,f=e/Math.max(1,2*s+h*a+p);return f},t.prototype.updateYScaleDomain=function(){var e=this,r=e.yScale,i=e.yData,o=e.valueAxisDomain,a=Xtt(i),s=0,l=1;a!==void 0&&(s=this.min=a[0],l=this.max=a[1]),s=s<0?s:0,l=l<0?0:l,o&&(o[1]<l&&(o[1]=l),o[0]>s&&(o[0]=s)),r.domain=o||[s,l]},t.prototype.updateRectSelection=function(e){this.rectSelection.update(e)},t.prototype.updateRectNodes=function(){var e=this,r=this,i=r.highlightedDatum,o=r.formatter,a=r.fill,s=r.stroke,l=r.strokeWidth,u=this.highlightStyle,c=u.fill,d=u.stroke,p=u.strokeWidth;this.rectSelection.each(function(h,f,v){var g=f===i,m=g&&c!==void 0?c:a,y=g&&d!==void 0?d:s,C=g&&p!==void 0?p:l,S,w=f.x,_=f.y,x=f.width,E=f.height,R=f.seriesDatum;if(o){var P=v===0,A=v===e.nodeSelectionData.length-1,N=R.y===e.min,I=R.y===e.max;S=o({datum:f,xValue:R.x,yValue:R.y,width:x,height:E,min:N,max:I,first:P,last:A,fill:m,stroke:y,strokeWidth:C,highlighted:g})}h.fill=S&&S.fill||m,h.stroke=S&&S.stroke||y,h.strokeWidth=S&&S.strokeWidth||C,h.x=h.y=0,h.width=x,h.height=E,h.visible=h.height>0,h.translationX=w,h.translationY=_})},t.prototype.updateLabelSelection=function(e){this.labelSelection.update(e,function(r){r.tag=zN.Label,r.pointerEvents=ge.PointerEvents.None})},t.prototype.updateLabelNodes=function(){var e=this.label,r=e.enabled,i=e.fontStyle,o=e.fontWeight,a=e.fontSize,s=e.fontFamily,l=e.color;this.labelSelection.each(function(u,c){var d=c.label;d&&r?(u.fontStyle=i,u.fontWeight=o,u.fontSize=a,u.fontFamily=s,u.textAlign=d.textAlign,u.textBaseline=d.textBaseline,u.text=d.text,u.x=d.x,u.y=d.y,u.fill=l,u.visible=!0):u.visible=!1})},t.prototype.getTooltipHtml=function(e){var r,i,o=this.dataType,a=e.seriesDatum,s=a.y,l=a.x,u=this.formatNumericDatum(s),c=o==="array"||o==="object"?this.formatDatum(l):void 0,d={content:u,title:c},p=(i=(r=this.processedOptions)===null||r===void 0?void 0:r.tooltip)===null||i===void 0?void 0:i.renderer;return p?sy(p({context:this.context,datum:a,yValue:s,xValue:l}),d):sy(d)},t.prototype.formatLabelValue=function(e){return e%1!==0?e.toFixed(1):e.toFixed(0)},t}(Q2),Qtt=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Jtt=cn.isNumber,LK=Eh.BandScale,ert=function(n){Qtt(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.updateYScaleRange=function(){var e=this,r=e.seriesRect,i=e.yScale;i.range=[0,r.width]},t.prototype.updateXScaleRange=function(){var e=this,r=e.xScale,i=e.seriesRect,o=e.paddingOuter,a=e.paddingInner;if(r instanceof LK)r.range=[0,i.height],r.paddingInner=a,r.paddingOuter=o;else{var s=this.calculateStep(i.height),l=s*o;this.bandWidth=s*(1-a),r.range=[l,i.height-l-this.bandWidth]}},t.prototype.updateAxisLine=function(){var e=this,r=e.yScale,i=e.axis,o=e.axisLine,a=e.seriesRect,s=i.strokeWidth;o.x1=0,o.x2=0,o.y1=0,o.y2=a.height,o.stroke=i.stroke,o.strokeWidth=s+(s%2===1?1:0);var l=r.convert(0);o.translationX=l},t.prototype.generateNodeData=function(){var e=this,r=e.data,i=e.yData,o=e.xData,a=e.xScale,s=e.yScale,l=e.fill,u=e.stroke,c=e.strokeWidth,d=e.label;if(r){for(var p=d.fontStyle,h=d.fontWeight,f=d.fontSize,v=d.fontFamily,g=d.color,m=d.formatter,y=d.placement,C=[],S=s.convert(0),w=!(a instanceof LK),_=0,x=i.length;_<x;_++){var E=i[_],R=o[_],P=E===void 0;P&&(E=0);var A=a.convert(w?a.toDomain(R):R),N=Math.min(E===void 0?NaN:s.convert(E),S),I=Math.max(E===void 0?NaN:s.convert(E),S),G=w?this.bandWidth:a.bandwidth,V=I-N,H={x:S,y:A},j=void 0;m?j=m({value:E}):j=E!==void 0&&Jtt(E)?this.formatLabelValue(E):"";var B=A+G/2,$=void 0,W="middle",Y=void 0,Z=E!==void 0&&E>=0,se=4;if(y===zc.Center)$=N+V/2,Y="center";else if(y===zc.OutsideEnd)$=N+(Z?V+se:-se),Y=Z?"start":"end";else if(y===zc.InsideEnd){$=N+(Z?V-se:se),Y=Z?"end":"start";var X=ge.HdpiCanvas.getTextSize(j,v),ie=X.width||20,z=S+ie,Q=S-ie,ue=Z&&$<z||!Z&&$>Q;ue&&($=S+se*(Z?1:-1),Y=Z?"start":"end")}else $=S+se*(Z?1:-1),Y=Z?"start":"end";C.push({x:N,y:A,width:V,height:G,fill:l,stroke:u,strokeWidth:c,seriesDatum:{x:R,y:P?void 0:E},point:H,label:{x:$,y:B,text:j,fontStyle:p,fontWeight:h,fontSize:f,fontFamily:v,textAlign:Y,textBaseline:W,fill:g}})}return C}},t.prototype.getDistance=function(e,r){return Math.abs(e.y-r.y)},t.className="BarSparkline",t}(aoe),trt=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),rrt=cn.isNumber,FK=Eh.BandScale,nrt=function(n){trt(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.updateYScaleRange=function(){var e=this,r=e.seriesRect,i=e.yScale;i.range=[r.height,0]},t.prototype.updateXScaleRange=function(){var e=this,r=e.xScale,i=e.seriesRect,o=e.paddingOuter,a=e.paddingInner;if(r instanceof FK)r.range=[0,i.width],r.paddingInner=a,r.paddingOuter=o;else{var s=this.calculateStep(i.width),l=s*o;this.bandWidth=s*(1-a),r.range=[l,i.width-l-this.bandWidth]}},t.prototype.updateAxisLine=function(){var e=this,r=e.yScale,i=e.axis,o=e.axisLine,a=e.seriesRect,s=i.strokeWidth;o.x1=0,o.x2=a.width,o.y1=0,o.y2=0,o.stroke=i.stroke,o.strokeWidth=s+(s%2===1?1:0);var l=r.convert(0);o.translationY=l},t.prototype.generateNodeData=function(){var e=this,r=e.data,i=e.yData,o=e.xData,a=e.xScale,s=e.yScale,l=e.fill,u=e.stroke,c=e.strokeWidth,d=e.label;if(r){for(var p=d.fontStyle,h=d.fontWeight,f=d.fontSize,v=d.fontFamily,g=d.color,m=d.formatter,y=d.placement,C=[],S=s.convert(0),w=!(a instanceof FK),_=0,x=i.length;_<x;_++){var E=i[_],R=o[_],P=E===void 0;P&&(E=0);var A=Math.min(E===void 0?NaN:s.convert(E),S),N=a.convert(w?a.toDomain(R):R),I=Math.max(E===void 0?NaN:s.convert(E),S),G=w?this.bandWidth:a.bandwidth,V=I-A,H={x:N+G/2,y:S},j=void 0;m?j=m({value:E}):j=E!==void 0&&rrt(E)?this.formatLabelValue(E):"";var B=N+G/2,$=void 0,W="center",Y=void 0,Z=E!==void 0&&E>=0,se=2;if(y===zc.Center)$=A+V/2,Y="middle";else if(y===zc.OutsideEnd)$=A+(Z?-se:V+se),Y=Z?"bottom":"top";else if(y===zc.InsideEnd){$=A+(Z?se:V-se),Y=Z?"top":"bottom";var X=ge.HdpiCanvas.getTextSize(j,v),ie=X.height||10,z=S-ie,Q=S+ie,ue=Z&&$>z||!Z&&$<Q;ue&&($=S+se*(Z?-1:1),Y=Z?"bottom":"top")}else $=S+se*(Z?-1:1),Y=Z?"bottom":"top";C.push({x:N,y:A,width:G,height:V,fill:l,stroke:u,strokeWidth:c,seriesDatum:{x:R,y:P?void 0:E},point:H,label:{x:B,y:$,text:j,fontStyle:p,fontWeight:h,fontSize:f,fontFamily:v,textAlign:W,textBaseline:Y,fill:g}})}return C}},t.className="ColumnSparkline",t}(aoe),irt=cn.isNumber,ort=function(){function n(){}return n.create=function(t,e){t=cn.deepClone(t);var r=art(t.type);return e&&(r.tooltip=e),lrt(r,t),srt(r,t),t.data&&(r.data=t.data),r.processedOptions=t,r},n}();function art(n){switch(n===void 0&&(n="line"),n){case"column":return new nrt;case"bar":return new ert;case"area":return new Htt;case"line":default:return new Ytt}}function srt(n,t){switch(t.type){case"bar":IK(n,t);break;case"column":IK(n,t);break;case"area":crt(n,t);break;case"line":default:urt(n,t);break}}function lrt(n,t){wt(n,"context",t.context,t),wt(n,"width",t.width,t),wt(n,"height",t.height,t),wt(n,"container",t.container,t),wt(n,"xKey",t.xKey,t),wt(n,"yKey",t.yKey,t),t.padding&&drt(n.padding,t.padding),t.axis&&hrt(n.axis,t.axis),t.highlightStyle&&frt(n.highlightStyle,t.highlightStyle)}function urt(n,t){t.marker&&soe(n.marker,t.marker),t.line&&loe(n.line,t.line),t.crosshairs&&uoe(n.crosshairs,t.crosshairs)}function crt(n,t){wt(n,"fill",t.fill,t),t.marker&&soe(n.marker,t.marker),t.line&&loe(n.line,t.line),t.crosshairs&&uoe(n.crosshairs,t.crosshairs)}function IK(n,t){wt(n,"valueAxisDomain",t.valueAxisDomain,t),wt(n,"fill",t.fill,t),wt(n,"stroke",t.stroke,t),wt(n,"strokeWidth",t.strokeWidth,t),wt(n,"paddingInner",t.paddingInner,t),wt(n,"paddingOuter",t.paddingOuter,t),wt(n,"formatter",t.formatter,t),t.label&&prt(n.label,t.label)}function drt(n,t){wt(n,"top",t.top,t),wt(n,"right",t.right,t),wt(n,"bottom",t.bottom,t),wt(n,"left",t.left,t)}function soe(n,t){wt(n,"enabled",t.enabled,t),wt(n,"size",t.size,t),wt(n,"shape",t.shape,t),wt(n,"fill",t.fill,t),wt(n,"stroke",t.stroke,t),wt(n,"strokeWidth",t.strokeWidth,t),wt(n,"formatter",t.formatter,t)}function prt(n,t){wt(n,"enabled",t.enabled,t),wt(n,"fontStyle",t.fontStyle,t),wt(n,"fontWeight",t.fontWeight,t),wt(n,"fontSize",t.fontSize,t),wt(n,"fontFamily",t.fontFamily,t),wt(n,"textAlign",t.textAlign,t),wt(n,"textBaseline",t.textBaseline,t),wt(n,"color",t.color,t),wt(n,"formatter",t.formatter,t),wt(n,"placement",t.placement,t)}function loe(n,t){wt(n,"stroke",t.stroke,t),wt(n,"strokeWidth",t.strokeWidth,t)}function hrt(n,t){wt(n,"type",t.type,t),wt(n,"stroke",t.stroke,t),wt(n,"strokeWidth",t.strokeWidth,t)}function frt(n,t){wt(n,"fill",t.fill,t),wt(n,"size",t.size,t),wt(n,"stroke",t.stroke,t),wt(n,"strokeWidth",t.strokeWidth,t)}function uoe(n,t){n.xLine&&t.xLine&&NK(n.xLine,t.xLine),n.yLine&&t.yLine&&NK(n.yLine,t.yLine)}function NK(n,t){wt(n,"enabled",t.enabled,t),wt(n,"stroke",t.stroke,t),wt(n,"strokeWidth",t.strokeWidth,t),wt(n,"lineDash",t.lineDash,t),wt(n,"lineCap",t.lineCap,t)}var kK={};function vrt(n,t){kK[t]||(n(),kK[t]=!0)}var GK=function(n,t,e){if(irt(t))return!0;var r="AG Charts: ".concat(n," must be a number, the value you provided is not a valid number. Using the default of ").concat(e,"px.");return vrt(function(){return console.warn(r)},"".concat(n," not a number")),!1},grt={xOffset:GK,yOffset:GK};function wt(n,t,e,r){if(t in r)if(t in n){var i=grt[t],o=i?i(t,e,n[t]):!0;o&&n[t]!==e&&(n[t]=e)}else console.warn("Property ".concat(t," does not exist on the target object."))}var mrt=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),KN=function(){return KN=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},KN.apply(this,arguments)},SF=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},yrt=function(n){mrt(t,n);function t(){return n.call(this,t.TEMPLATE)||this}return t.prototype.init=function(e){var r=this,i=!0,o=function(){var s=r.getGui(),l=s.clientWidth,u=s.clientHeight;if(!(l===0||u===0))if(i){var c=KN({data:e.value,width:l,height:u,context:{data:e.data}},e.sparklineOptions);r.sparkline=ort.create(c,r.sparklineTooltipSingleton.getSparklineTooltip()),r.eSparkline.appendChild(r.sparkline.canvasElement),i=!1}else r.sparkline.width=l,r.sparkline.height=u},a=this.resizeObserverService.observeResize(this.getGui(),o);this.addDestroyFunc(function(){return a()})},t.prototype.refresh=function(e){return this.sparkline?(this.sparkline.data=e.value,!0):!1},t.prototype.destroy=function(){this.sparkline&&this.sparkline.destroy(),n.prototype.destroy.call(this)},t.TEMPLATE=`<div class="ag-sparkline-wrapper">
            <span ref="eSparkline"></span>
        </div>`,SF([U("eSparkline")],t.prototype,"eSparkline",void 0),SF([O("resizeObserverService")],t.prototype,"resizeObserverService",void 0),SF([O("sparklineTooltipSingleton")],t.prototype,"sparklineTooltipSingleton",void 0),t}(Ce),Crt=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),wF=function(n,t,e,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,e):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,t,e,r);else for(var s=n.length-1;s>=0;s--)(a=n[s])&&(o=(i<3?a(o):i>3?a(t,e,o):a(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Srt=function(n){Crt(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.tooltip=new Og},t.prototype.getSparklineTooltip=function(){return this.tooltip},t.prototype.destroyTooltip=function(){this.tooltip&&this.tooltip.destroy()},wF([q],t.prototype,"postConstruct",null),wF([Gr],t.prototype,"destroyTooltip",null),t=wF([me("sparklineTooltipSingleton")],t),t}(re),wrt="31.1.1",_rt={version:wrt,moduleName:Te.SparklinesModule,beans:[Srt],userComponents:[{componentName:"agSparklineCellRenderer",componentClass:yrt}],dependantModules:[Pi]};const xrt=[dUe,mUe,Dze,D5e,B5e,CJe,EJe,UJe,XJe,Xie,JJe,Iee,Het,itt,Cj,_tt,Ott,_rt];ut.registerModules(xrt);var J2={},brt=Ki;Object.defineProperty(J2,"__esModule",{value:!0});var eH=J2.default=void 0,Ert=brt(Ao()),Ort=b;eH=J2.default=(0,Ert.default)((0,Ort.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person");class Rrt{constructor(){nH(this,"eGui")}init(t){if(this.eGui=document.createElement("span"),this.eGui.setAttribute("class","imgSpan"),t.value){const e=document.createElement("img");e.src=`https://storage.googleapis.com/reggie-badges/${t.value}`,e.setAttribute("class","logo"),e.setAttribute("style","height: 100%"),this.eGui.appendChild(e)}else Hk(this.eGui).render(b.jsx(eH,{sx:{height:"100%"}}))}getGui(){return this.eGui}refresh(){return!1}}function VK(){const n=ya();FD.setLicenseKey("[v3]_[0102]_Furcation_31-Dec-2099_NDEwMjQ0NDc5OTAwMA==1cfc7a452006376d40b95a71d0ef3661");const t=[{field:"badge_image",headerName:"Logo",cellRenderer:Rrt},{field:"nickname",headerName:"Nickname",filter:!0},{field:"full_name",headerName:"Full Name",filter:!0},{headerName:"In Group",valueGetter:h=>h.data?!!h.data.group:!1,cellDataType:"boolean",filter:!0},{field:"has_accommodation",headerName:"Has Accommodation",filter:!0},{field:"is_sponsor",headerName:"Sponsor",filter:!0},{field:"is_early",headerName:"Early",filter:!0},{field:"is_late",headerName:"Late",filter:!0},{field:"is_fursuiter",headerName:"Fursuiter",filter:!0},{field:"checked_in",headerName:"Checked In",filter:!0},{field:"sponsor_collected",headerName:"Collected Sponsor Pack",filter:!0},{headerName:"Staff",valueGetter:h=>h.data?!!h.data.email.endsWith("@furcation.org.uk"):!1,cellDataType:"boolean",filter:!0}],e=T.useRef(null),r=T.useCallback(()=>{if(e.current){const h=e.current.api.getSelectedRows();h.length===1&&d(h[0])}},[]),{id:i}=h_(),[o,a]=T.useState(""),[s,l]=T.useState([]);T.useEffect(()=>{u()},[]);const u=()=>{H7().then(h=>{h.status==200?h.json().then(f=>{l(f.results)}):h.status==401?(n(hr("/")),n(fi()),localStorage.removeItem("TOKEN")):h.json().then(()=>{a("Error while retrieving attendees.  Please try again or contact tech.")})})},c=h=>{l(s.filter(()=>h.id!==h.id))},d=h=>{n(hr("/attendees/"+h.id))},p=()=>{n(hr("/attendees")),u()};return b.jsxs(b.Fragment,{children:[o?b.jsx(Hu,{severity:"error",children:o}):null,b.jsx(bX,{url:Yr+"auth/users.csv",filename:"users.csv",children:b.jsx(Dl,{"aria-label":"download",sx:{p:{xs:4,md:5}},children:b.jsx(_V,{})})}),b.jsx("div",{style:{height:"calc(100vh - 220px)"},className:"ag-theme-material",children:b.jsx(QP.AgGridReact,{ref:e,rowData:s.filter(h=>!h.is_staff),rowSelection:"single",columnDefs:t,defaultColDef:{flex:1},onSelectionChanged:r})}),i?b.jsx(_Me,{open:!0,handleClose:p,userId:i,handleDeleted:c}):null]})}function Trt(n){const t=ya(),[e,r]=T.useState([]),[i,o]=T.useState("");T.useEffect(()=>{qG().then(s=>{s.status==200?s.json().then(l=>{r(l.results.filter(u=>u.beds<=n.groupSize&&u.beds*2>=n.groupSize)),o("0")}):s.status==401&&(t(hr("/")),t(fi()),localStorage.removeItem("TOKEN"))})},[]);const a=s=>{o(s.target.value)};return b.jsxs(_o,{open:n.open,onClose:()=>n.handleClose(null),children:[b.jsx(ia,{children:"Pick accommodation"}),e?b.jsxs(b.Fragment,{children:[b.jsx(br,{children:b.jsx(Sl,{value:i,label:"Accommodation",fullWidth:!0,variant:"standard",margin:"dense",onChange:a,children:e.map((s,l)=>b.jsx(ki,{value:l,children:s.name},l))})}),b.jsxs(xo,{children:[b.jsx(Et,{onClick:()=>n.handleClose(null),children:"Close"}),b.jsx(Et,{onClick:()=>n.handleClose(e[parseInt(i)]),children:"Confirm"})]})]}):null]})}function Prt(n){const t=ya(),[e,r]=T.useState(null),[i,o]=T.useState(0),[a,s]=T.useState(!1),[l,u]=T.useState(""),[c,d]=T.useState(!1),[p,h]=T.useState(!1),[f,v]=T.useState(!1);T.useEffect(()=>{QO(n.groupId).then(j=>{j.status==200?j.json().then(B=>{r(B),u(B.internal_notes)}):j.status==401&&(t(hr("/")),t(fi()),localStorage.removeItem("TOKEN"))})},[]);const g=j=>{o(j)},m=()=>{o(0)},y=()=>{e&&(e.users=e.users.filter(j=>j.id!==i),_S(e).then(j=>{j.status==200&&j.json().then(B=>{r(B),o(0)})}))},C=()=>{s(!0)},S=()=>{s(!1)},w=()=>{e&&uSe(e).then(j=>{j.status==204&&(n.handleDeleted(e),t(hr("/groups")))})},_=j=>{e&&dSe(e,j).then(B=>{B.json().then($=>r($))})},x=j=>{e&&u(j.target.value)},E=()=>{e&&(e.internal_notes=l,_S(e).then(j=>{j.status==200&&j.json().then(B=>{d(!0),r(B),u(B.internal_notes)})}))},R=j=>{if(j.claimed_at){const B=new Date(j.claimed_at);return Math.round(Math.abs((B.getTime()-new Date().getTime())/864e5))}return 0},P=()=>{v(!0)},A=()=>{v(!1)},N=()=>{e&&(e.accommodation=null,_S(e).then(j=>{j.status==200&&r({...e})}),A())},I=()=>{h(!0)},G=j=>{e&&j&&(e.accommodation=j,_S(e).then(B=>{B.status==200&&r({...e,accommodation:j})})),h(!1)},V=j=>{e&&r({...e,[j.target.name]:j.target.value})},H=j=>{e&&r({...e,[j.target.name]:j.target.checked})};return b.jsxs(b.Fragment,{children:[b.jsxs(_o,{open:n.open,onClose:n.handleClose,scroll:"body",children:[b.jsx(ia,{children:"Group"}),e?b.jsxs(b.Fragment,{children:[b.jsx(br,{children:b.jsxs(En,{children:["Group ID: ",n.groupId]})}),b.jsx(br,{children:b.jsxs(En,{sx:{"& button":{m:1}},children:["Owner:"," ",b.jsx(vm,{to:"/attendees/"+e.owner.id,children:e.owner.nickname+(e.owner.fully_paid?" (Paid)":" (Not paid)")}),b.jsx(Et,{size:"small",variant:"contained",color:"error",onClick:C,children:"Disband Group"})]})}),e.users.filter(j=>j.id!==e.owner.id).map((j,B)=>b.jsx(br,{children:b.jsxs(En,{sx:{"& button":{m:1}},children:[b.jsx(vm,{to:"/attendees/"+j.id,children:j.nickname+(j.fully_paid?" (Paid)":" (Not paid)")}),b.jsx(Et,{size:"small",variant:"contained",color:"error",onClick:()=>g(j.id),children:"Remove from group"}),b.jsx(Et,{size:"small",variant:"contained",color:"primary",onClick:()=>_(j.id),children:"Make group owner"})]})},B)),b.jsx(br,{children:b.jsx(na,{spacing:2,children:b.jsxs(dp,{fullWidth:!0,children:[b.jsx(Fc,{children:"Accommodation type"}),b.jsxs(Sl,{value:e.type,label:"Accommodation type",onChange:V,name:"type",children:[b.jsx(ki,{value:0,children:"Caravan"}),b.jsx(ki,{value:1,children:"Lodge"}),b.jsx(ki,{value:2,children:"Lodge with hot tub"})]})]})})}),b.jsx(br,{children:b.jsx(na,{children:b.jsx(Kt,{multiline:!0,rows:4,name:"internal_notes",label:"Internal Notes",value:l||"",onChange:x,fullWidth:!0,variant:"standard",margin:"dense"})})}),b.jsxs(br,{children:[e.accommodation?b.jsxs(En,{sx:{"& button":{m:1}},children:["Accommodation:"," ",b.jsx(vm,{to:"/accommodation/"+e.accommodation.id,children:e.accommodation.name}),b.jsx(Et,{size:"small",variant:"contained",color:"error",onClick:P,children:"Remove accommodation"}),b.jsx("br",{}),"Claimed ",R(e)," days ago"]}):b.jsxs(En,{sx:{"& button":{m:1}},children:["No accommodation",b.jsx(Et,{size:"small",variant:"contained",color:"primary",onClick:I,children:"Add accommodation"})]}),b.jsx(Trt,{open:p,groupSize:e.users.length,handleClose:G})]}),b.jsx(br,{children:b.jsx(Va,{control:b.jsx(cl,{name:"locked",checked:e.locked,onChange:H}),label:"Group Locked"})}),e.tickets.length?b.jsx(br,{children:b.jsxs(En,{children:[b.jsx(Pr,{variant:"h6",color:"inherit",children:"Lottery Tickets"}),b.jsx(my,{dense:!0,children:e.tickets.map((j,B)=>b.jsx(d_,{children:b.jsx(_G,{primary:"Ticket #"+j.id+" ("+j.status.replaceAll("_"," ")+")"})},B))})]})}):null,b.jsxs(xo,{children:[b.jsx(Et,{onClick:n.handleClose,children:"Close"}),b.jsx(hw,{color:c?"success":"primary",onClick:E,children:c?"Saved!":"Save Changes"})]})]}):null]}),b.jsx(_o,{open:f,onClose:A,children:e?b.jsxs(b.Fragment,{children:[b.jsx(ia,{children:"Remove from group"}),b.jsx(br,{children:b.jsx(En,{children:"Are you sure?"})}),b.jsxs(xo,{children:[b.jsx(Et,{onClick:A,children:"Close"}),b.jsx(Et,{onClick:N,children:"Remove from group"})]})]}):null}),b.jsx(_o,{open:!!i,onClose:m,children:e?b.jsxs(b.Fragment,{children:[b.jsx(ia,{children:"Remove from group"}),b.jsx(br,{children:b.jsx(En,{children:"Are you sure?"})}),b.jsxs(xo,{children:[b.jsx(Et,{onClick:m,children:"Close"}),b.jsx(Et,{onClick:y,children:"Remove from group"})]})]}):null}),b.jsx(_o,{open:a,onClose:S,children:e?b.jsxs(b.Fragment,{children:[b.jsx(ia,{children:"Disband group"}),b.jsx(br,{children:b.jsx(En,{children:"Are you sure?"})}),b.jsxs(xo,{children:[b.jsx(Et,{onClick:S,children:"Close"}),b.jsx(Et,{onClick:w,children:"Disband group"})]})]}):null})]})}function BK(){const n=ya(),{id:t}=h_(),[e,r]=T.useState(""),[i,o]=T.useState([]);FD.setLicenseKey("[v3]_[0102]_Furcation_31-Dec-2099_NDEwMjQ0NDc5OTAwMA==1cfc7a452006376d40b95a71d0ef3661");const a=[{headerName:"Owner",valueGetter:f=>f.data?f.data.owner.nickname:null,filter:!0},{headerName:"Occupants",valueGetter:f=>f.data?f.data.users.length:null,filter:!0},{headerName:"Accommodation",valueGetter:f=>f.data&&f.data.accommodation?f.data.accommodation.name:"None",filter:!0},{field:"locked",headerName:"Locked",filter:!0},{headerName:"Claimed (days ago)",valueGetter:f=>f.data?h(f.data):null,filter:!0},{headerName:"Paid",valueGetter:f=>f.data?!d(f.data):!1,cellDataType:"boolean",filter:!0}],s=T.useRef(null),l=T.useCallback(()=>{if(s.current){const f=s.current.api.getSelectedRows();f.length===1&&u(f[0])}},[]);T.useEffect(()=>{c0().then(f=>{f.status==200?f.json().then(v=>{console.log(v),o(v.results)}):f.status==401?(n(hr("/")),n(fi()),localStorage.removeItem("TOKEN")):f.json().then(v=>{r("Error while retrieving groups.  Please try again or contact tech."),console.log(v)})})},[]);const u=f=>{n(hr("/groups/"+f.id))},c=()=>{n(hr("/groups")),c0().then(f=>{f.status==200?f.json().then(v=>{console.log(v),o(v.results)}):f.status==401?(n(hr("/")),n(fi()),localStorage.removeItem("TOKEN")):f.json().then(v=>{r("Error while retrieving groups.  Please try again or contact tech."),console.log(v)})})},d=f=>{for(const v of f.users)if(!v.fully_paid)return!0;return!1},p=f=>{o(i.filter(v=>f.id!==v.id))},h=f=>{if(f.claimed_at){const v=new Date(f.claimed_at);return Math.round(Math.abs((v.getTime()-new Date().getTime())/864e5))}return 0};return b.jsxs(b.Fragment,{children:[e?b.jsx(Hu,{severity:"error",children:e}):null,b.jsx(bX,{url:Yr+"groups.csv",filename:"groups.csv",children:b.jsx(Dl,{"aria-label":"download",sx:{p:{xs:4,md:5}},children:b.jsx(_V,{})})}),b.jsx("div",{style:{height:"calc(100vh - 220px)"},className:"ag-theme-material",children:b.jsx(QP.AgGridReact,{ref:s,rowData:i,rowSelection:"single",columnDefs:a,defaultColDef:{flex:1},onSelectionChanged:l})}),t?b.jsx(Prt,{open:!0,handleClose:c,groupId:t,handleDeleted:p}):null]})}function Drt(n){return He("MuiFormGroup",n)}$e("MuiFormGroup",["root","row","error"]);const Art=["className","row"],Mrt=n=>{const{classes:t,row:e,error:r}=n;return Ge({root:["root",e&&"row",r&&"error"]},Drt,t)},Lrt=le("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.row&&t.row]}})(({ownerState:n})=>L({display:"flex",flexDirection:"column",flexWrap:"wrap"},n.row&&{flexDirection:"row"})),Frt=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiFormGroup"}),{className:i,row:o=!1}=r,a=ve(r,Art),s=rc(),l=ch({props:r,muiFormControl:s,states:["error"]}),u=L({},r,{row:o,error:l.error}),c=Mrt(u);return b.jsx(Lrt,L({className:Re(c.root,i),ownerState:u,ref:e},a))}),Irt=Frt,Nrt=T.createContext(void 0),coe=Nrt,krt=["actions","children","defaultValue","name","onChange","value"],Grt=T.forwardRef(function(t,e){const{actions:r,children:i,defaultValue:o,name:a,onChange:s,value:l}=t,u=ve(t,krt),c=T.useRef(null),[d,p]=va({controlled:l,default:o,name:"RadioGroup"});T.useImperativeHandle(r,()=>({focus:()=>{let g=c.current.querySelector("input:not(:disabled):checked");g||(g=c.current.querySelector("input:not(:disabled)")),g&&g.focus()}}),[]);const h=or(e,c),f=tc(a),v=T.useMemo(()=>({name:f,onChange(g){p(g.target.value),s&&s(g,g.target.value)},value:d}),[f,s,p,d]);return b.jsx(coe.Provider,{value:v,children:b.jsx(Irt,L({role:"radiogroup",ref:h},u,{children:i}))})}),Vrt=Grt;function Brt(){return T.useContext(coe)}const jrt=Dn(b.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),Hrt=Dn(b.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),$rt=le("span",{shouldForwardProp:mi})({position:"relative",display:"flex"}),Wrt=le(jrt)({transform:"scale(1)"}),Urt=le(Hrt)(({theme:n,ownerState:t})=>L({left:0,position:"absolute",transform:"scale(0)",transition:n.transitions.create("transform",{easing:n.transitions.easing.easeIn,duration:n.transitions.duration.shortest})},t.checked&&{transform:"scale(1)",transition:n.transitions.create("transform",{easing:n.transitions.easing.easeOut,duration:n.transitions.duration.shortest})}));function doe(n){const{checked:t=!1,classes:e={},fontSize:r}=n,i=L({},n,{checked:t});return b.jsxs($rt,{className:e.root,ownerState:i,children:[b.jsx(Wrt,{fontSize:r,className:e.background,ownerState:i}),b.jsx(Urt,{fontSize:r,className:e.dot,ownerState:i})]})}function zrt(n){return He("MuiRadio",n)}const Krt=$e("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),jK=Krt,Yrt=["checked","checkedIcon","color","icon","name","onChange","size","className"],qrt=n=>{const{classes:t,color:e,size:r}=n,i={root:["root",`color${Se(e)}`,r!=="medium"&&`size${Se(r)}`]};return L({},t,Ge(i,zrt,t))},Xrt=le(CV,{shouldForwardProp:n=>mi(n)||n==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.size!=="medium"&&t[`size${Se(e.size)}`],t[`color${Se(e.color)}`]]}})(({theme:n,ownerState:t})=>L({color:(n.vars||n).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:n.vars?`rgba(${t.color==="default"?n.vars.palette.action.activeChannel:n.vars.palette[t.color].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:At(t.color==="default"?n.palette.action.active:n.palette[t.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${jK.checked}`]:{color:(n.vars||n).palette[t.color].main}},{[`&.${jK.disabled}`]:{color:(n.vars||n).palette.action.disabled}}));function Zrt(n,t){return typeof t=="object"&&t!==null?n===t:String(n)===String(t)}const HK=b.jsx(doe,{checked:!0}),$K=b.jsx(doe,{}),Qrt=T.forwardRef(function(t,e){var r,i;const o=Ve({props:t,name:"MuiRadio"}),{checked:a,checkedIcon:s=HK,color:l="primary",icon:u=$K,name:c,onChange:d,size:p="medium",className:h}=o,f=ve(o,Yrt),v=L({},o,{color:l,size:p}),g=qrt(v),m=Brt();let y=a;const C=GO(d,m&&m.onChange);let S=c;return m&&(typeof y>"u"&&(y=Zrt(m.value,o.value)),typeof S>"u"&&(S=m.name)),b.jsx(Xrt,L({type:"radio",icon:T.cloneElement(u,{fontSize:(r=$K.props.fontSize)!=null?r:p}),checkedIcon:T.cloneElement(s,{fontSize:(i=HK.props.fontSize)!=null?i:p}),ownerState:v,classes:g,name:S,checked:y,onChange:C,ref:e,className:Re(g.root,h)},f))}),Jrt=Qrt;function ent(n){return He("MuiSwitch",n)}const tnt=$e("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),vo=tnt,rnt=["className","color","edge","size","sx"],nnt=LP(),int=n=>{const{classes:t,edge:e,size:r,color:i,checked:o,disabled:a}=n,s={root:["root",e&&`edge${Se(e)}`,`size${Se(r)}`],switchBase:["switchBase",`color${Se(i)}`,o&&"checked",a&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=Ge(s,ent,t);return L({},t,l)},ont=le("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.edge&&t[`edge${Se(e.edge)}`],t[`size${Se(e.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${vo.thumb}`]:{width:16,height:16},[`& .${vo.switchBase}`]:{padding:4,[`&.${vo.checked}`]:{transform:"translateX(16px)"}}}}]}),ant=le(CV,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.switchBase,{[`& .${vo.input}`]:t.input},e.color!=="default"&&t[`color${Se(e.color)}`]]}})(({theme:n})=>({position:"absolute",top:0,left:0,zIndex:1,color:n.vars?n.vars.palette.Switch.defaultColor:`${n.palette.mode==="light"?n.palette.common.white:n.palette.grey[300]}`,transition:n.transitions.create(["left","transform"],{duration:n.transitions.duration.shortest}),[`&.${vo.checked}`]:{transform:"translateX(20px)"},[`&.${vo.disabled}`]:{color:n.vars?n.vars.palette.Switch.defaultDisabledColor:`${n.palette.mode==="light"?n.palette.grey[100]:n.palette.grey[600]}`},[`&.${vo.checked} + .${vo.track}`]:{opacity:.5},[`&.${vo.disabled} + .${vo.track}`]:{opacity:n.vars?n.vars.opacity.switchTrackDisabled:`${n.palette.mode==="light"?.12:.2}`},[`& .${vo.input}`]:{left:"-100%",width:"300%"}}),({theme:n})=>({"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:At(n.palette.action.active,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(n.palette).filter(([,t])=>t.main&&t.light).map(([t])=>({props:{color:t},style:{[`&.${vo.checked}`]:{color:(n.vars||n).palette[t].main,"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette[t].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:At(n.palette[t].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${vo.disabled}`]:{color:n.vars?n.vars.palette.Switch[`${t}DisabledColor`]:`${n.palette.mode==="light"?i0(n.palette[t].main,.62):n0(n.palette[t].main,.55)}`}},[`&.${vo.checked} + .${vo.track}`]:{backgroundColor:(n.vars||n).palette[t].main}}}))]})),snt=le("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(n,t)=>t.track})(({theme:n})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:n.transitions.create(["opacity","background-color"],{duration:n.transitions.duration.shortest}),backgroundColor:n.vars?n.vars.palette.common.onBackground:`${n.palette.mode==="light"?n.palette.common.black:n.palette.common.white}`,opacity:n.vars?n.vars.opacity.switchTrack:`${n.palette.mode==="light"?.38:.3}`})),lnt=le("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(n,t)=>t.thumb})(({theme:n})=>({boxShadow:(n.vars||n).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),unt=T.forwardRef(function(t,e){const r=nnt({props:t,name:"MuiSwitch"}),{className:i,color:o="primary",edge:a=!1,size:s="medium",sx:l}=r,u=ve(r,rnt),c=L({},r,{color:o,edge:a,size:s}),d=int(c),p=b.jsx(lnt,{className:d.thumb,ownerState:c});return b.jsxs(ont,{className:Re(d.root,i),sx:l,ownerState:c,children:[b.jsx(ant,L({type:"checkbox",icon:p,checkedIcon:p,ref:e,ownerState:c},u,{classes:L({},d,{root:d.switchBase})})),b.jsx(snt,{className:d.track,ownerState:c})]})}),cnt=unt,dnt=T.createContext(),WK=dnt;function pnt(n){return He("MuiGrid",n)}const hnt=[0,1,2,3,4,5,6,7,8,9,10],fnt=["column-reverse","column","row-reverse","row"],vnt=["nowrap","wrap-reverse","wrap"],hS=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Y0=$e("MuiGrid",["root","container","item","zeroMinWidth",...hnt.map(n=>`spacing-xs-${n}`),...fnt.map(n=>`direction-xs-${n}`),...vnt.map(n=>`wrap-xs-${n}`),...hS.map(n=>`grid-xs-${n}`),...hS.map(n=>`grid-sm-${n}`),...hS.map(n=>`grid-md-${n}`),...hS.map(n=>`grid-lg-${n}`),...hS.map(n=>`grid-xl-${n}`)]),gnt=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Mm(n){const t=parseFloat(n);return`${t}${String(n).replace(String(t),"")||"px"}`}function mnt({theme:n,ownerState:t}){let e;return n.breakpoints.keys.reduce((r,i)=>{let o={};if(t[i]&&(e=t[i]),!e)return r;if(e===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(e==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const a=Vf({values:t.columns,breakpoints:n.breakpoints.values}),s=typeof a=="object"?a[i]:a;if(s==null)return r;const l=`${Math.round(e/s*1e8)/1e6}%`;let u={};if(t.container&&t.item&&t.columnSpacing!==0){const c=n.spacing(t.columnSpacing);if(c!=="0px"){const d=`calc(${l} + ${Mm(c)})`;u={flexBasis:d,maxWidth:d}}}o=L({flexBasis:l,flexGrow:0,maxWidth:l},u)}return n.breakpoints.values[i]===0?Object.assign(r,o):r[n.breakpoints.up(i)]=o,r},{})}function ynt({theme:n,ownerState:t}){const e=Vf({values:t.direction,breakpoints:n.breakpoints.values});return fa({theme:n},e,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${Y0.item}`]={maxWidth:"none"}),i})}function poe({breakpoints:n,values:t}){let e="";Object.keys(t).forEach(i=>{e===""&&t[i]!==0&&(e=i)});const r=Object.keys(n).sort((i,o)=>n[i]-n[o]);return r.slice(0,r.indexOf(e))}function Cnt({theme:n,ownerState:t}){const{container:e,rowSpacing:r}=t;let i={};if(e&&r!==0){const o=Vf({values:r,breakpoints:n.breakpoints.values});let a;typeof o=="object"&&(a=poe({breakpoints:n.breakpoints.values,values:o})),i=fa({theme:n},o,(s,l)=>{var u;const c=n.spacing(s);return c!=="0px"?{marginTop:`-${Mm(c)}`,[`& > .${Y0.item}`]:{paddingTop:Mm(c)}}:(u=a)!=null&&u.includes(l)?{}:{marginTop:0,[`& > .${Y0.item}`]:{paddingTop:0}}})}return i}function Snt({theme:n,ownerState:t}){const{container:e,columnSpacing:r}=t;let i={};if(e&&r!==0){const o=Vf({values:r,breakpoints:n.breakpoints.values});let a;typeof o=="object"&&(a=poe({breakpoints:n.breakpoints.values,values:o})),i=fa({theme:n},o,(s,l)=>{var u;const c=n.spacing(s);return c!=="0px"?{width:`calc(100% + ${Mm(c)})`,marginLeft:`-${Mm(c)}`,[`& > .${Y0.item}`]:{paddingLeft:Mm(c)}}:(u=a)!=null&&u.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${Y0.item}`]:{paddingLeft:0}}})}return i}function wnt(n,t,e={}){if(!n||n<=0)return[];if(typeof n=="string"&&!Number.isNaN(Number(n))||typeof n=="number")return[e[`spacing-xs-${String(n)}`]];const r=[];return t.forEach(i=>{const o=n[i];Number(o)>0&&r.push(e[`spacing-${i}-${String(o)}`])}),r}const _nt=le("div",{name:"MuiGrid",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n,{container:r,direction:i,item:o,spacing:a,wrap:s,zeroMinWidth:l,breakpoints:u}=e;let c=[];r&&(c=wnt(a,u,t));const d=[];return u.forEach(p=>{const h=e[p];h&&d.push(t[`grid-${p}-${String(h)}`])}),[t.root,r&&t.container,o&&t.item,l&&t.zeroMinWidth,...c,i!=="row"&&t[`direction-xs-${String(i)}`],s!=="wrap"&&t[`wrap-xs-${String(s)}`],...d]}})(({ownerState:n})=>L({boxSizing:"border-box"},n.container&&{display:"flex",flexWrap:"wrap",width:"100%"},n.item&&{margin:0},n.zeroMinWidth&&{minWidth:0},n.wrap!=="wrap"&&{flexWrap:n.wrap}),ynt,Cnt,Snt,mnt);function xnt(n,t){if(!n||n<=0)return[];if(typeof n=="string"&&!Number.isNaN(Number(n))||typeof n=="number")return[`spacing-xs-${String(n)}`];const e=[];return t.forEach(r=>{const i=n[r];if(Number(i)>0){const o=`spacing-${r}-${String(i)}`;e.push(o)}}),e}const bnt=n=>{const{classes:t,container:e,direction:r,item:i,spacing:o,wrap:a,zeroMinWidth:s,breakpoints:l}=n;let u=[];e&&(u=xnt(o,l));const c=[];l.forEach(p=>{const h=n[p];h&&c.push(`grid-${p}-${String(h)}`)});const d={root:["root",e&&"container",i&&"item",s&&"zeroMinWidth",...u,r!=="row"&&`direction-xs-${String(r)}`,a!=="wrap"&&`wrap-xs-${String(a)}`,...c]};return Ge(d,pnt,t)},Ent=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiGrid"}),{breakpoints:i}=ma(),o=s_(r),{className:a,columns:s,columnSpacing:l,component:u="div",container:c=!1,direction:d="row",item:p=!1,rowSpacing:h,spacing:f=0,wrap:v="wrap",zeroMinWidth:g=!1}=o,m=ve(o,gnt),y=h||f,C=l||f,S=T.useContext(WK),w=c?s||12:S,_={},x=L({},m);i.keys.forEach(P=>{m[P]!=null&&(_[P]=m[P],delete x[P])});const E=L({},o,{columns:w,container:c,direction:d,item:p,rowSpacing:y,columnSpacing:C,wrap:v,zeroMinWidth:g,spacing:f},_,{breakpoints:i.keys}),R=bnt(E);return b.jsx(WK.Provider,{value:w,children:b.jsx(_nt,L({ownerState:E,className:Re(R.root,a),as:u,ref:e},x))})}),fS=Ent;function Ont(){const n=ya(),[t,e]=T.useState(""),[r,i]=T.useState([]),[o,a]=T.useState(-1);T.useEffect(()=>{W7().then(c=>{c.status==200?c.json().then(d=>{i(d.results)}):c.status==401?(n(hr("/")),n(fi()),localStorage.removeItem("TOKEN")):c.json().then(d=>{e("Error while retrieving config.  Please try again or contact tech."),console.log(d)})})},[]);const s=c=>{r[parseInt(c.target.name)].value=c.target.value,i([...r])},l=c=>{r[parseInt(c.target.name)].value=c.target.checked?"1":"0",i([...r])},u=c=>{hSe(r[c]).then(d=>{d.status==200?a(c):d.json().then(p=>{e("Error while retrieving config.  Please try again or contact tech."),console.log(p)})})};return b.jsxs(na,{children:[t?b.jsx(Hu,{severity:"error",children:t}):null,r.map((c,d)=>b.jsxs(fS,{container:!0,spacing:2,sx:{my:2},children:[b.jsx(fS,{item:!0,xs:6,md:2,children:b.jsx(Pr,{children:c.id})}),b.jsx(fS,{item:!0,xs:6,md:4,children:c.type==="freetext"?b.jsx(Kt,{name:String(d),label:"Value",multiline:!0,rows:2,fullWidth:!0,value:c.value,onChange:s}):c.type==="radio"?b.jsx(Vrt,{defaultValue:"0",name:String(d),value:c.value,onChange:s,children:c.values.map((p,h)=>b.jsx(Va,{value:h,control:b.jsx(Jrt,{}),label:p},h))}):c.type==="switch"?b.jsx(Va,{control:b.jsx(cnt,{name:String(d),checked:c.value==="1",onChange:l}),label:c.switch_label}):null}),b.jsx(fS,{item:!0,xs:6,md:4,children:b.jsx(Pr,{children:c.help})}),b.jsx(fS,{item:!0,xs:6,md:2,children:b.jsx(Et,{variant:"contained",color:o==d?"success":"primary",onClick:()=>u(d),children:o==d?"Saved!":"Save"})})]},d))]})}var tH={},Rnt=Ki;Object.defineProperty(tH,"__esModule",{value:!0});var hoe=tH.default=void 0,Tnt=Rnt(Ao()),Pnt=b;hoe=tH.default=(0,Tnt.default)((0,Pnt.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5 11h-4v4h-2v-4H7v-2h4V7h2v4h4z"}),"AddCircle");function Dnt(n){return He("MuiTooltip",n)}const Ant=$e("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),_p=Ant,Mnt=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function Lnt(n){return Math.round(n*1e5)/1e5}const Fnt=n=>{const{classes:t,disableInteractive:e,arrow:r,touch:i,placement:o}=n,a={popper:["popper",!e&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${Se(o.split("-")[0])}`],arrow:["arrow"]};return Ge(a,Dnt,t)},Int=le(dV,{name:"MuiTooltip",slot:"Popper",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.popper,!e.disableInteractive&&t.popperInteractive,e.arrow&&t.popperArrow,!e.open&&t.popperClose]}})(({theme:n,ownerState:t,open:e})=>L({zIndex:(n.vars||n).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!e&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${_p.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${_p.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${_p.arrow}`]:L({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${_p.arrow}`]:L({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),Nnt=le("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.tooltip,e.touch&&t.touch,e.arrow&&t.tooltipArrow,t[`tooltipPlacement${Se(e.placement.split("-")[0])}`]]}})(({theme:n,ownerState:t})=>L({backgroundColor:n.vars?n.vars.palette.Tooltip.bg:At(n.palette.grey[700],.92),borderRadius:(n.vars||n).shape.borderRadius,color:(n.vars||n).palette.common.white,fontFamily:n.typography.fontFamily,padding:"4px 8px",fontSize:n.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:n.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:n.typography.pxToRem(14),lineHeight:`${Lnt(16/14)}em`,fontWeight:n.typography.fontWeightRegular},{[`.${_p.popper}[data-popper-placement*="left"] &`]:L({transformOrigin:"right center"},t.isRtl?L({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):L({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${_p.popper}[data-popper-placement*="right"] &`]:L({transformOrigin:"left center"},t.isRtl?L({marginRight:"14px"},t.touch&&{marginRight:"24px"}):L({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${_p.popper}[data-popper-placement*="top"] &`]:L({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${_p.popper}[data-popper-placement*="bottom"] &`]:L({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),knt=le("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(n,t)=>t.arrow})(({theme:n})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:n.vars?n.vars.palette.Tooltip.bg:At(n.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let cE=!1;const UK=new l_;let vS={x:0,y:0};function dE(n,t){return(e,...r)=>{t&&t(e,...r),n(e,...r)}}const Gnt=T.forwardRef(function(t,e){var r,i,o,a,s,l,u,c,d,p,h,f,v,g,m,y,C,S,w;const _=Ve({props:t,name:"MuiTooltip"}),{arrow:x=!1,children:E,components:R={},componentsProps:P={},describeChild:A=!1,disableFocusListener:N=!1,disableHoverListener:I=!1,disableInteractive:G=!1,disableTouchListener:V=!1,enterDelay:H=100,enterNextDelay:j=0,enterTouchDelay:B=700,followCursor:$=!1,id:W,leaveDelay:Y=0,leaveTouchDelay:Z=1500,onClose:se,onOpen:X,open:ie,placement:z="bottom",PopperComponent:Q,PopperProps:ue={},slotProps:pe={},slots:_e={},title:oe,TransitionComponent:we=tR,TransitionProps:ne}=_,xe=ve(_,Mnt),Pe=T.isValidElement(E)?E:b.jsx("span",{children:E}),ze=ma(),ht=sG(),[Ae,Ke]=T.useState(),[he,Ee]=T.useState(null),Be=T.useRef(!1),tt=G||$,Ie=Of(),rt=Of(),mt=Of(),ft=Of(),[yt,We]=va({controlled:ie,default:!1,name:"Tooltip",state:"open"});let dt=yt;const ur=tc(W),Ir=T.useRef(),Ye=it(()=>{Ir.current!==void 0&&(document.body.style.WebkitUserSelect=Ir.current,Ir.current=void 0),ft.clear()});T.useEffect(()=>Ye,[Ye]);const zt=Lt=>{UK.clear(),cE=!0,We(!0),X&&!dt&&X(Lt)},vr=it(Lt=>{UK.start(800+Y,()=>{cE=!1}),We(!1),se&&dt&&se(Lt),Ie.start(ze.transitions.duration.shortest,()=>{Be.current=!1})}),an=Lt=>{Be.current&&Lt.type!=="touchstart"||(Ae&&Ae.removeAttribute("title"),rt.clear(),mt.clear(),H||cE&&j?rt.start(cE?j:H,()=>{zt(Lt)}):zt(Lt))},po=Lt=>{rt.clear(),mt.start(Y,()=>{vr(Lt)})},{isFocusVisibleRef:Zl,onBlur:hc,onFocus:fc,ref:ol}=aG(),[,cr]=T.useState(!1),J=Lt=>{hc(Lt),Zl.current===!1&&(cr(!1),po(Lt))},te=Lt=>{Ae||Ke(Lt.currentTarget),fc(Lt),Zl.current===!0&&(cr(!0),an(Lt))},ae=Lt=>{Be.current=!0;const Un=Pe.props;Un.onTouchStart&&Un.onTouchStart(Lt)},be=Lt=>{ae(Lt),mt.clear(),Ie.clear(),Ye(),Ir.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ft.start(B,()=>{document.body.style.WebkitUserSelect=Ir.current,an(Lt)})},Fe=Lt=>{Pe.props.onTouchEnd&&Pe.props.onTouchEnd(Lt),Ye(),mt.start(Z,()=>{vr(Lt)})};T.useEffect(()=>{if(!dt)return;function Lt(Un){(Un.key==="Escape"||Un.key==="Esc")&&vr(Un)}return document.addEventListener("keydown",Lt),()=>{document.removeEventListener("keydown",Lt)}},[vr,dt]);const vt=or(Pe.ref,ol,Ke,e);!oe&&oe!==0&&(dt=!1);const gt=T.useRef(),lt=Lt=>{const Un=Pe.props;Un.onMouseMove&&Un.onMouseMove(Lt),vS={x:Lt.clientX,y:Lt.clientY},gt.current&&gt.current.update()},ot={},Nt=typeof oe=="string";A?(ot.title=!dt&&Nt&&!I?oe:null,ot["aria-describedby"]=dt?ur:null):(ot["aria-label"]=Nt?oe:null,ot["aria-labelledby"]=dt&&!Nt?ur:null);const xr=L({},ot,xe,Pe.props,{className:Re(xe.className,Pe.props.className),onTouchStart:ae,ref:vt},$?{onMouseMove:lt}:{}),bt={};V||(xr.onTouchStart=be,xr.onTouchEnd=Fe),I||(xr.onMouseOver=dE(an,xr.onMouseOver),xr.onMouseLeave=dE(po,xr.onMouseLeave),tt||(bt.onMouseOver=an,bt.onMouseLeave=po)),N||(xr.onFocus=dE(te,xr.onFocus),xr.onBlur=dE(J,xr.onBlur),tt||(bt.onFocus=te,bt.onBlur=J));const Nr=T.useMemo(()=>{var Lt;let Un=[{name:"arrow",enabled:!!he,options:{element:he,padding:4}}];return(Lt=ue.popperOptions)!=null&&Lt.modifiers&&(Un=Un.concat(ue.popperOptions.modifiers)),L({},ue.popperOptions,{modifiers:Un})},[he,ue]),pn=L({},_,{isRtl:ht,arrow:x,disableInteractive:tt,placement:z,PopperComponentProp:Q,touch:Be.current}),Ai=Fnt(pn),An=(r=(i=_e.popper)!=null?i:R.Popper)!=null?r:Int,vc=(o=(a=(s=_e.transition)!=null?s:R.Transition)!=null?a:we)!=null?o:tR,Nv=(l=(u=_e.tooltip)!=null?u:R.Tooltip)!=null?l:Nnt,gc=(c=(d=_e.arrow)!=null?d:R.Arrow)!=null?c:knt,Ql=Vg(An,L({},ue,(p=pe.popper)!=null?p:P.popper,{className:Re(Ai.popper,ue==null?void 0:ue.className,(h=(f=pe.popper)!=null?f:P.popper)==null?void 0:h.className)}),pn),mc=Vg(vc,L({},ne,(v=pe.transition)!=null?v:P.transition),pn),Hy=Vg(Nv,L({},(g=pe.tooltip)!=null?g:P.tooltip,{className:Re(Ai.tooltip,(m=(y=pe.tooltip)!=null?y:P.tooltip)==null?void 0:m.className)}),pn),Th=Vg(gc,L({},(C=pe.arrow)!=null?C:P.arrow,{className:Re(Ai.arrow,(S=(w=pe.arrow)!=null?w:P.arrow)==null?void 0:S.className)}),pn);return b.jsxs(T.Fragment,{children:[T.cloneElement(Pe,xr),b.jsx(An,L({as:Q??dV,placement:z,anchorEl:$?{getBoundingClientRect:()=>({top:vS.y,left:vS.x,right:vS.x,bottom:vS.y,width:0,height:0})}:Ae,popperRef:gt,open:Ae?dt:!1,id:ur,transition:!0},bt,Ql,{popperOptions:Nr,children:({TransitionProps:Lt})=>b.jsx(vc,L({timeout:ze.transitions.duration.shorter},Lt,mc,{children:b.jsxs(Nv,L({},Hy,{children:[oe,x?b.jsx(gc,L({},Th,{ref:Ee})):null]}))}))}))]})}),Vnt=Gnt;var rH={},Bnt=Ki;Object.defineProperty(rH,"__esModule",{value:!0});var foe=rH.default=void 0,jnt=Bnt(Ao()),Hnt=b;foe=rH.default=(0,jnt.default)((0,Hnt.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy");function $nt(n){return He("MuiCollapse",n)}$e("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Wnt=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],Unt=n=>{const{orientation:t,classes:e}=n,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return Ge(r,$nt,e)},znt=le("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,t[e.orientation],e.state==="entered"&&t.entered,e.state==="exited"&&!e.in&&e.collapsedSize==="0px"&&t.hidden]}})(({theme:n,ownerState:t})=>L({height:0,overflow:"hidden",transition:n.transitions.create("height")},t.orientation==="horizontal"&&{height:"auto",width:0,transition:n.transitions.create("width")},t.state==="entered"&&L({height:"auto",overflow:"visible"},t.orientation==="horizontal"&&{width:"auto"}),t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&{visibility:"hidden"})),Knt=le("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(n,t)=>t.wrapper})(({ownerState:n})=>L({display:"flex",width:"100%"},n.orientation==="horizontal"&&{width:"auto",height:"100%"})),Ynt=le("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(n,t)=>t.wrapperInner})(({ownerState:n})=>L({width:"100%"},n.orientation==="horizontal"&&{width:"auto",height:"100%"})),voe=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiCollapse"}),{addEndListener:i,children:o,className:a,collapsedSize:s="0px",component:l,easing:u,in:c,onEnter:d,onEntered:p,onEntering:h,onExit:f,onExited:v,onExiting:g,orientation:m="vertical",style:y,timeout:C=C9.standard,TransitionComponent:S=c_}=r,w=ve(r,Wnt),_=L({},r,{orientation:m,collapsedSize:s}),x=Unt(_),E=ma(),R=Of(),P=T.useRef(null),A=T.useRef(),N=typeof s=="number"?`${s}px`:s,I=m==="horizontal",G=I?"width":"height",V=T.useRef(null),H=or(e,V),j=z=>Q=>{if(z){const ue=V.current;Q===void 0?z(ue):z(ue,Q)}},B=()=>P.current?P.current[I?"clientWidth":"clientHeight"]:0,$=j((z,Q)=>{P.current&&I&&(P.current.style.position="absolute"),z.style[G]=N,d&&d(z,Q)}),W=j((z,Q)=>{const ue=B();P.current&&I&&(P.current.style.position="");const{duration:pe,easing:_e}=$p({style:y,timeout:C,easing:u},{mode:"enter"});if(C==="auto"){const oe=E.transitions.getAutoHeightDuration(ue);z.style.transitionDuration=`${oe}ms`,A.current=oe}else z.style.transitionDuration=typeof pe=="string"?pe:`${pe}ms`;z.style[G]=`${ue}px`,z.style.transitionTimingFunction=_e,h&&h(z,Q)}),Y=j((z,Q)=>{z.style[G]="auto",p&&p(z,Q)}),Z=j(z=>{z.style[G]=`${B()}px`,f&&f(z)}),se=j(v),X=j(z=>{const Q=B(),{duration:ue,easing:pe}=$p({style:y,timeout:C,easing:u},{mode:"exit"});if(C==="auto"){const _e=E.transitions.getAutoHeightDuration(Q);z.style.transitionDuration=`${_e}ms`,A.current=_e}else z.style.transitionDuration=typeof ue=="string"?ue:`${ue}ms`;z.style[G]=N,z.style.transitionTimingFunction=pe,g&&g(z)}),ie=z=>{C==="auto"&&R.start(A.current||0,z),i&&i(V.current,z)};return b.jsx(S,L({in:c,onEnter:$,onEntered:Y,onEntering:W,onExit:Z,onExited:se,onExiting:X,addEndListener:ie,nodeRef:V,timeout:C==="auto"?null:C},w,{children:(z,Q)=>b.jsx(znt,L({as:l,className:Re(x.root,a,{entered:x.entered,exited:!c&&N==="0px"&&x.hidden}[z]),style:L({[I?"minWidth":"minHeight"]:N},y),ref:H},Q,{ownerState:L({},_,{state:z}),children:b.jsx(Knt,{ownerState:L({},_,{state:z}),className:x.wrapper,ref:P,children:b.jsx(Ynt,{ownerState:L({},_,{state:z}),className:x.wrapperInner,children:o})})}))}))});voe.muiSupportAuto=!0;const qnt=voe;function Xnt(n){const t=ya(),[e,r]=T.useState(!1),[i,o]=T.useState(),[a,s]=T.useState(!1),l=y=>()=>y(C=>!C),u=On.createRef();T.useEffect(()=>{n.isNew?o({id:crypto.randomUUID(),name:"",beds:1,sofabed:!1,availability:0,price:0,accommodation_type:"0",accommodation_tier:"0",internal_notes:"",occupied:0,groups_with_assigned:[]}):nSe(n.accommodationId).then(y=>{y.status==200?y.json().then(C=>{o(C)}):y.status==401&&(t(hr("/")),t(fi()),localStorage.removeItem("TOKEN"))})},[]);const c=y=>{i&&o({...i,[y.target.name]:y.target.value})},d=y=>{i&&o({...i,[y.target.name]:y.target.value})},p=y=>{i&&o({...i,[y.target.name]:y.target.value})},h=()=>{r(!0)},f=()=>{r(!1)},v=()=>{i&&oSe(i).then(y=>{y.status==204&&(n.handleDeleted(i),t(hr("/accommodation")))})},g=()=>{i&&u.current&&u.current.reportValidity()&&(n.isNew?iSe(i):aSe(i)).then(C=>{(C.status==200||C.status==201)&&(n.handleUpdated(),t(hr("/accommodation")))})},m=()=>{i&&i.id&&navigator.clipboard.writeText(i.id)};return b.jsxs(b.Fragment,{children:[b.jsxs(_o,{open:n.open,onClose:n.handleClose,scroll:"body",children:[b.jsxs(na,{direction:"row",alignItems:"center",minWidth:"558px",children:[b.jsxs(ia,{children:[n.isNew?"Create ":null,"Accommodation"]}),i&&!n.isNew?b.jsxs(En,{children:["ID: ",i.id,b.jsx(Vnt,{title:"Copy",children:b.jsx(Dl,{"aria-label":"copy",onClick:m,children:b.jsx(foe,{})})})]}):null]}),i?b.jsxs(b.Fragment,{children:[b.jsx(br,{children:b.jsxs(na,{component:"form",ref:u,spacing:2,children:[b.jsx(Kt,{name:"name",onChange:c,label:"Accommodation Name",value:i.name,required:!0}),b.jsxs(dp,{fullWidth:!0,children:[b.jsx(Fc,{children:"Accommodation type"}),b.jsxs(Sl,{value:i.accommodation_type,label:"Accommodation type",name:"accommodation_type",onChange:d,children:[b.jsx(ki,{value:0,children:"Caravan"}),b.jsx(ki,{value:1,children:"Lodge"}),b.jsx(ki,{value:2,children:"Lodge with hot tub"})]})]}),b.jsx(Kt,{fullWidth:!0,required:!0,name:"beds",onChange:p,label:"Beds",type:"number",inputProps:{inputMode:"numeric",pattern:"[0-9]*",min:0,max:4},value:i.beds}),b.jsx(Kt,{fullWidth:!0,required:!0,name:"availability",onChange:c,label:"Availability",type:"number",inputProps:{inputMode:"numeric",pattern:"[0-9]*"},value:i.availability}),b.jsx(Kt,{fullWidth:!0,required:!0,name:"price",onChange:c,label:"Price",type:"number",inputProps:{inputMode:"numeric",pattern:"[0-9]*"},value:i.price}),b.jsx(Kt,{fullWidth:!0,name:"internal_notes",onChange:c,label:"Internal Notes",value:i.internal_notes,multiline:!0}),i.groups_with_assigned.length>0?b.jsxs(b.Fragment,{children:[b.jsxs(Et,{variant:"contained",onClick:l(s),children:[a?"Hide ":"Show ",i.groups_with_assigned.length," groups with this accommodation"]}),b.jsx(qnt,{in:a,children:b.jsx(my,{children:i.groups_with_assigned.map((y,C)=>b.jsx(d_,{children:b.jsx(G9,{children:b.jsxs(vm,{to:"/groups/"+y.id,target:"_blank",children:[y.id," (",y.owner.nickname," +"," ",y.user_count-1," more)"]})})},C))})})]}):b.jsx("p",{children:"No groups have this accommodation assigned"})]})}),b.jsxs(xo,{children:[n.isNew?b.jsx(b.Fragment,{children:b.jsx(Et,{color:"success",onClick:g,children:"Create"})}):b.jsxs(b.Fragment,{children:[b.jsx(Et,{onClick:g,children:"Save"}),b.jsx(Et,{color:"error",onClick:h,children:"Delete"})]}),b.jsx(Et,{onClick:n.handleClose,children:"Close"})]})]}):null]}),b.jsx(_o,{open:e,onClose:f,children:i&&!n.isNew?b.jsxs(b.Fragment,{children:[b.jsx(ia,{children:"Delete Accommodation"}),b.jsx(br,{children:b.jsx(En,{children:"Are you sure?"})}),b.jsxs(xo,{children:[b.jsx(Et,{onClick:f,children:"Close"}),b.jsx(Et,{onClick:v,children:"Delete"})]})]}):null})]})}function zK(){const n=ya(),{id:t}=h_(),e=["Caravan","Lodge","Lodge with hot tub"],[r,i]=T.useState(""),[o,a]=T.useState([]),[s,l]=T.useState([]),u={allowedCharPattern:"\\d\\-\\.\\£",numberParser:w=>w==null?null:parseFloat(w.replace("£",""))*100,numberFormatter:w=>w==null?null:"£"+(w/100).toFixed(2).toString()};FD.setLicenseKey("[v3]_[0102]_Furcation_31-Dec-2099_NDEwMjQ0NDc5OTAwMA==1cfc7a452006376d40b95a71d0ef3661");const c=[{field:"name",headerName:"Name",filter:!0,cellRenderer:"agGroupCellRenderer"},{field:"beds",headerName:"Beds",filter:!0},{headerName:"Left Available",valueGetter:w=>w.data?w.data.availability-w.data.occupied:null,filter:"agNumberColumnFilter"},{field:"availability",headerName:"Total Available",filter:"agNumberColumnFilter"},{field:"occupied",headerName:"Occupied",filter:"agNumberColumnFilter"},{field:"price",headerName:"Price per Person",valueFormatter:w=>"£"+(w.value/100).toFixed(2),filter:"agNumberColumnFilter",filterParams:u},{field:"accommodation_type",headerName:"Accommodation Type",valueFormatter:w=>e[w.data?parseInt(w.data.accommodation_type):0],filter:!0}],d={detailGridOptions:{columnDefs:[{headerName:"Group",valueGetter:w=>w.data?w.data.owner.nickname+"'s Group":null,filter:!0},{headerName:"Occupants",valueGetter:w=>w.data?w.data.users.length:null,filter:"agNumberColumnFilter"}],defaultColDef:{flex:1}},getDetailRowData:w=>{w.successCallback(s.filter(_=>_.accommodation&&_.accommodation.id==w.data.id))}};T.useEffect(()=>{p()},[]);const p=()=>{c0().then(w=>{w.status==200?w.json().then(_=>{l(_.results),qG().then(x=>{x.status==200?x.json().then(E=>{a(E.results)}):w.status==401?(n(hr("/")),n(fi()),localStorage.removeItem("TOKEN")):w.json().then(E=>{i("Error while retrieving groups.  Please try again or contact tech."),console.log(E)})})}):w.status==401?(n(hr("/")),n(fi()),localStorage.removeItem("TOKEN")):w.json().then(_=>{i("Error while retrieving accommodation.  Please try again or contact tech."),console.log(_)})})},h=w=>{n(hr("/accommodation/"+w.id))},f=()=>{n(hr("/accommodation/new"))},v=()=>{n(hr("/accommodation"))},g=w=>{a(o.filter(_=>w.id!==_.id))},m=()=>{p()},y=T.useRef(null),C=T.useCallback(()=>{if(y.current){const w=y.current.api.getSelectedRows();w.length===1&&h(w[0])}},[]),S=w=>w?s.filter(_=>_.accommodation&&_.accommodation.id==w.id).length>0:!1;return b.jsxs(b.Fragment,{children:[r?b.jsx(Hu,{severity:"error",children:r}):null,b.jsx(Dl,{onClick:()=>f(),"aria-label":"download",sx:{p:{xs:4,md:5}},children:b.jsx(hoe,{})}),b.jsx("div",{style:{height:"calc(100vh - 220px)"},className:"ag-theme-material",children:b.jsx(QP.AgGridReact,{ref:y,rowData:o,rowSelection:"single",columnDefs:c,defaultColDef:{flex:1},onSelectionChanged:C,masterDetail:!0,detailCellRendererParams:d,isRowMaster:S})}),t?b.jsx(Xnt,{open:!0,handleClose:v,accommodationId:t,handleDeleted:g,handleUpdated:m,isNew:t=="new"}):null]})}function Znt(n){return He("MuiListItemAvatar",n)}$e("MuiListItemAvatar",["root","alignItemsFlexStart"]);const Qnt=["className"],Jnt=n=>{const{alignItems:t,classes:e}=n;return Ge({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},Znt,e)},eit=le("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(({ownerState:n})=>L({minWidth:56,flexShrink:0},n.alignItems==="flex-start"&&{marginTop:8})),tit=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiListItemAvatar"}),{className:i}=r,o=ve(r,Qnt),a=T.useContext(ks),s=L({},r,{alignItems:a.alignItems}),l=Jnt(s);return b.jsx(eit,L({className:Re(l.root,i),ownerState:s,ref:e},o))}),rit=tit,nit=Dn(b.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function iit(n){return He("MuiAvatar",n)}$e("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const oit=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],ait=LP(),sit=n=>{const{classes:t,variant:e,colorDefault:r}=n;return Ge({root:["root",e,r&&"colorDefault"],img:["img"],fallback:["fallback"]},iit,t)},lit=le("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,t[e.variant],e.colorDefault&&t.colorDefault]}})(({theme:n})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(n.vars||n).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:L({color:(n.vars||n).palette.background.default},n.vars?{backgroundColor:n.vars.palette.Avatar.defaultBg}:L({backgroundColor:n.palette.grey[400]},n.applyStyles("dark",{backgroundColor:n.palette.grey[600]})))}]})),uit=le("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(n,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),cit=le(nit,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(n,t)=>t.fallback})({width:"75%",height:"75%"});function dit({crossOrigin:n,referrerPolicy:t,src:e,srcSet:r}){const[i,o]=T.useState(!1);return T.useEffect(()=>{if(!e&&!r)return;o(!1);let a=!0;const s=new Image;return s.onload=()=>{a&&o("loaded")},s.onerror=()=>{a&&o("error")},s.crossOrigin=n,s.referrerPolicy=t,s.src=e,r&&(s.srcset=r),()=>{a=!1}},[n,t,e,r]),i}const pit=T.forwardRef(function(t,e){const r=ait({props:t,name:"MuiAvatar"}),{alt:i,children:o,className:a,component:s="div",slots:l={},slotProps:u={},imgProps:c,sizes:d,src:p,srcSet:h,variant:f="circular"}=r,v=ve(r,oit);let g=null;const m=dit(L({},c,{src:p,srcSet:h})),y=p||h,C=y&&m!=="error",S=L({},r,{colorDefault:!C,component:s,variant:f}),w=sit(S),[_,x]=II("img",{className:w.img,elementType:uit,externalForwardedProps:{slots:l,slotProps:{img:L({},c,u.img)}},additionalProps:{alt:i,src:p,srcSet:h,sizes:d},ownerState:S});return C?g=b.jsx(_,L({},x)):o||o===0?g=o:y&&i?g=i[0]:g=b.jsx(cit,{ownerState:S,className:w.fallback}),b.jsx(lit,L({as:s,ownerState:S,className:Re(w.root,a),ref:e},v,{children:g}))}),KK=pit;function hit(n){const t=ya(),[e,r]=T.useState(null),[i,o]=T.useState(null),[a,s]=T.useState("1990-01-01"),[l]=T.useState(localStorage.getItem("ROLE"));return T.useEffect(()=>{$7(n.userId).then(u=>{u.status==200?u.json().then(c=>{r(c),s(c.date_of_birth),c.group&&QO(c.group).then(d=>{d.status==200&&d.json().then(p=>{o(p)})})}):u.status==401&&(t(hr("/")),t(fi()),localStorage.removeItem("TOKEN"))})},[n.userId]),b.jsx(b.Fragment,{children:b.jsxs(_o,{open:n.open,onClose:n.handleClose,scroll:"body",children:[b.jsx(ia,{children:"Attendee "}),e?b.jsxs(b.Fragment,{children:[b.jsxs(br,{children:[b.jsxs(En,{children:["Badge Number:"," ",e.badge_override?e.badge_override:e.id]}),b.jsx(Kt,{required:!0,disabled:!0,name:"full_name",label:"Full (Legal) Name",value:e.full_name,fullWidth:!0,variant:"standard",margin:"dense"}),b.jsx(Kt,{required:!0,disabled:!0,name:"nickname",label:"Badge Name (Nickname/Furry Name)",value:e.nickname,fullWidth:!0,variant:"standard",margin:"dense"}),b.jsx(Kt,{required:!0,disabled:!0,name:"email",label:"Email",value:e.email,fullWidth:!0,variant:"standard",margin:"dense"}),b.jsx(Kt,{disabled:!0,name:"secondary_email",label:"Secondary email",value:e.secondary_email,fullWidth:!0,variant:"standard",margin:"dense"}),b.jsx(HP,{dateAdapter:wX,adapterLocale:_X,children:b.jsx(Jq,{disabled:!0,label:"Date of Birth",value:yV(a),onChange:console.log,slotProps:{textField:{required:!0,disabled:!0,fullWidth:!0,variant:"standard",margin:"dense"}}})}),b.jsx(Kt,{required:!0,disabled:!0,multiline:!0,rows:4,name:"address",label:"Address",value:e.address,fullWidth:!0,variant:"standard",margin:"dense"}),b.jsx(Kt,{required:!0,disabled:!0,type:"tel",name:"phone_number",label:"Phone Number",autoComplete:"phone",value:e.phone_number,fullWidth:!0,variant:"standard",margin:"dense"}),l=="medical"?b.jsx(Kt,{multiline:!0,disabled:!0,rows:4,name:"medical_details",label:"Any medical details we should know? (optional)",value:e.medical_details||"",fullWidth:!0,variant:"standard",margin:"dense"}):null,b.jsx(Kt,{required:!0,disabled:!0,name:"ice_name",label:"ICE Name",value:e.ice_name,autoComplete:"ice_name",fullWidth:!0,variant:"standard",margin:"dense"}),b.jsx(Kt,{required:!0,disabled:!0,name:"ice_phone",label:"ICE Phone",value:e.ice_phone,autoComplete:"ice_phone",fullWidth:!0,variant:"standard",margin:"dense"})]}),b.jsx(br,{children:i?b.jsxs(En,{children:["Group members: ",b.jsx("br",{}),i.users.map((u,c)=>b.jsxs(vm,{to:"/welfare/"+u.id,children:[u.nickname," ",b.jsx("br",{})]},c))]}):null}),b.jsx(xo,{children:b.jsx(Et,{onClick:n.handleClose,children:"Close"})})]}):null]})})}function YK(){const n=ya(),{id:t}=h_(),[e,r]=T.useState(""),[i,o]=T.useState([]),[a,s]=T.useState("");T.useEffect(()=>{l()},[]);const l=()=>{H7().then(f=>{f.status==200?f.json().then(v=>{o(v.results)}):f.status==401?(n(hr("/")),n(fi()),localStorage.removeItem("TOKEN")):f.json().then(()=>{r("Error while retrieving attendees.  Please try again or contact tech.")})})},u=f=>{o(i.filter(()=>f.id!==f.id))},c=f=>{n(hr("/welfare/"+f.id))},d=()=>{n(hr("/welfare")),l()},p=f=>{s(f.target.value)},h=f=>f.toLowerCase().includes(a.toLowerCase());return b.jsxs(b.Fragment,{children:[e?b.jsx(Hu,{severity:"error",children:e}):null,b.jsx(Kt,{fullWidth:!0,id:"outlined-basic",label:"Search",variant:"outlined",onChange:p}),b.jsx(my,{children:i.filter(f=>(h(f.full_name)||h(f.nickname)||h(f.email)||h(f.id+"")||h(f.badge_override))&&f.checked_in).map((f,v)=>b.jsx(d_,{children:b.jsxs(G9,{onClick:()=>c(f),children:[b.jsx(rit,{children:f.badge_image?b.jsx(KK,{src:"https://storage.googleapis.com/reggie-badges/"+f.badge_image}):b.jsx(KK,{children:b.jsx(eH,{})})}),b.jsx(_G,{primary:f.nickname,secondary:f.full_name+" - #"+(f.badge_override?f.badge_override:f.id)})]})},v))}),t?b.jsx(hit,{open:!0,handleClose:d,userId:t,handleDeleted:u}):null]})}function fit(n){return He("MuiAlertTitle",n)}$e("MuiAlertTitle",["root"]);const vit=["className"],git=LP(),mit=n=>{const{classes:t}=n;return Ge({root:["root"]},fit,t)},yit=le(Pr,{name:"MuiAlertTitle",slot:"Root",overridesResolver:(n,t)=>t.root})(({theme:n})=>({fontWeight:n.typography.fontWeightMedium,marginTop:-2})),Cit=T.forwardRef(function(t,e){const r=git({props:t,name:"MuiAlertTitle"}),{className:i}=r,o=ve(r,vit),a=r,s=mit(a);return b.jsx(yit,L({gutterBottom:!0,component:"div",ownerState:a,ref:e,className:Re(s.root,i)},o))}),qK=Cit,Sit=T.createContext(),goe=Sit;function wit(n){return He("MuiTable",n)}$e("MuiTable",["root","stickyHeader"]);const _it=["className","component","padding","size","stickyHeader"],xit=n=>{const{classes:t,stickyHeader:e}=n;return Ge({root:["root",e&&"stickyHeader"]},wit,t)},bit=le("table",{name:"MuiTable",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.stickyHeader&&t.stickyHeader]}})(({theme:n,ownerState:t})=>L({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":L({},n.typography.body2,{padding:n.spacing(2),color:(n.vars||n).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),XK="table",Eit=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiTable"}),{className:i,component:o=XK,padding:a="normal",size:s="medium",stickyHeader:l=!1}=r,u=ve(r,_it),c=L({},r,{component:o,padding:a,size:s,stickyHeader:l}),d=xit(c),p=T.useMemo(()=>({padding:a,size:s,stickyHeader:l}),[a,s,l]);return b.jsx(goe.Provider,{value:p,children:b.jsx(bit,L({as:o,role:o===XK?null:"table",ref:e,className:Re(d.root,i),ownerState:c},u))})}),Oit=Eit,Rit=T.createContext(),uA=Rit;function Tit(n){return He("MuiTableBody",n)}$e("MuiTableBody",["root"]);const Pit=["className","component"],Dit=n=>{const{classes:t}=n;return Ge({root:["root"]},Tit,t)},Ait=le("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(n,t)=>t.root})({display:"table-row-group"}),Mit={variant:"body"},ZK="tbody",Lit=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiTableBody"}),{className:i,component:o=ZK}=r,a=ve(r,Pit),s=L({},r,{component:o}),l=Dit(s);return b.jsx(uA.Provider,{value:Mit,children:b.jsx(Ait,L({className:Re(l.root,i),as:o,ref:e,role:o===ZK?null:"rowgroup",ownerState:s},a))})}),Fit=Lit;function Iit(n){return He("MuiTableCell",n)}const Nit=$e("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),kit=Nit,Git=["align","className","component","padding","scope","size","sortDirection","variant"],Vit=n=>{const{classes:t,variant:e,align:r,padding:i,size:o,stickyHeader:a}=n,s={root:["root",e,a&&"stickyHeader",r!=="inherit"&&`align${Se(r)}`,i!=="normal"&&`padding${Se(i)}`,`size${Se(o)}`]};return Ge(s,Iit,t)},Bit=le("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,t[e.variant],t[`size${Se(e.size)}`],e.padding!=="normal"&&t[`padding${Se(e.padding)}`],e.align!=="inherit"&&t[`align${Se(e.align)}`],e.stickyHeader&&t.stickyHeader]}})(({theme:n,ownerState:t})=>L({},n.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:n.vars?`1px solid ${n.vars.palette.TableCell.border}`:`1px solid
    ${n.palette.mode==="light"?i0(At(n.palette.divider,1),.88):n0(At(n.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(n.vars||n).palette.text.primary,lineHeight:n.typography.pxToRem(24),fontWeight:n.typography.fontWeightMedium},t.variant==="body"&&{color:(n.vars||n).palette.text.primary},t.variant==="footer"&&{color:(n.vars||n).palette.text.secondary,lineHeight:n.typography.pxToRem(21),fontSize:n.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${kit.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(n.vars||n).palette.background.default})),jit=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiTableCell"}),{align:i="inherit",className:o,component:a,padding:s,scope:l,size:u,sortDirection:c,variant:d}=r,p=ve(r,Git),h=T.useContext(goe),f=T.useContext(uA),v=f&&f.variant==="head";let g;a?g=a:g=v?"th":"td";let m=l;g==="td"?m=void 0:!m&&v&&(m="col");const y=d||f&&f.variant,C=L({},r,{align:i,component:g,padding:s||(h&&h.padding?h.padding:"normal"),size:u||(h&&h.size?h.size:"medium"),sortDirection:c,stickyHeader:y==="head"&&h&&h.stickyHeader,variant:y}),S=Vit(C);let w=null;return c&&(w=c==="asc"?"ascending":"descending"),b.jsx(Bit,L({as:g,ref:e,className:Re(S.root,o),"aria-sort":w,scope:m,ownerState:C},p))}),Sg=jit;function Hit(n){return He("MuiTableContainer",n)}$e("MuiTableContainer",["root"]);const $it=["className","component"],Wit=n=>{const{classes:t}=n;return Ge({root:["root"]},Hit,t)},Uit=le("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(n,t)=>t.root})({width:"100%",overflowX:"auto"}),zit=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiTableContainer"}),{className:i,component:o="div"}=r,a=ve(r,$it),s=L({},r,{component:o}),l=Wit(s);return b.jsx(Uit,L({ref:e,as:o,className:Re(l.root,i),ownerState:s},a))}),Kit=zit;function Yit(n){return He("MuiTableHead",n)}$e("MuiTableHead",["root"]);const qit=["className","component"],Xit=n=>{const{classes:t}=n;return Ge({root:["root"]},Yit,t)},Zit=le("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(n,t)=>t.root})({display:"table-header-group"}),Qit={variant:"head"},QK="thead",Jit=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiTableHead"}),{className:i,component:o=QK}=r,a=ve(r,qit),s=L({},r,{component:o}),l=Xit(s);return b.jsx(uA.Provider,{value:Qit,children:b.jsx(Zit,L({as:o,className:Re(l.root,i),ref:e,role:o===QK?null:"rowgroup",ownerState:s},a))})}),eot=Jit;function tot(n){return He("MuiTableRow",n)}const rot=$e("MuiTableRow",["root","selected","hover","head","footer"]),JK=rot,not=["className","component","hover","selected"],iot=n=>{const{classes:t,selected:e,hover:r,head:i,footer:o}=n;return Ge({root:["root",e&&"selected",r&&"hover",i&&"head",o&&"footer"]},tot,t)},oot=le("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:e}=n;return[t.root,e.head&&t.head,e.footer&&t.footer]}})(({theme:n})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${JK.hover}:hover`]:{backgroundColor:(n.vars||n).palette.action.hover},[`&.${JK.selected}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:At(n.palette.primary.main,n.palette.action.selectedOpacity),"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:At(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity)}}})),e6="tr",aot=T.forwardRef(function(t,e){const r=Ve({props:t,name:"MuiTableRow"}),{className:i,component:o=e6,hover:a=!1,selected:s=!1}=r,l=ve(r,not),u=T.useContext(uA),c=L({},r,{component:o,hover:a,selected:s,head:u&&u.variant==="head",footer:u&&u.variant==="footer"}),d=iot(c);return b.jsx(oot,L({as:o,ref:e,className:Re(d.root,i),role:o===e6?null:"row",ownerState:c},l))}),_F=aot;function sot(){const[n,t]=T.useState(""),[e,r]=T.useState([]);return T.useEffect(()=>{({}).VITE_USE_POSTGRES=="True",pSe().then(i=>{i.json().then(o=>{i.status==200?r(o.stats):t("Error retrieving statistics, please contact tech")})})},[]),b.jsxs(b.Fragment,{children:[n?b.jsx(Hu,{severity:"error",children:n}):null,({}.VITE_USE_POSTGRES=="True",b.jsxs(b.Fragment,{children:[b.jsx(Pr,{component:"h2",variant:"h6",color:"primary",children:"Attendee Stats:"}),b.jsx(Kit,{sx:{mb:3},children:b.jsxs(Oit,{children:[b.jsx(eot,{children:b.jsxs(_F,{children:[b.jsx(Sg,{children:"Statistic"}),b.jsx(Sg,{children:"Amount"})]})}),e.map(i=>b.jsxs(Fit,{children:[b.jsxs(_F,{sx:{background:y9[900]},children:[b.jsx(Sg,{children:b.jsx("u",{children:i.stat})}),b.jsx(Sg,{children:i.amount})]}),i.sub.map(o=>b.jsxs(_F,{children:[b.jsxs(Sg,{children:["-- ",o.stat]}),b.jsx(Sg,{children:o.amount})]},o.stat))]},i.stat))]})})]}))]})}function lot(){const n=ya(),[t,e]=T.useState(""),[r,i]=T.useState([]),[o,a]=T.useState([]),[s,l]=T.useState(!1),[u,c]=T.useState({type:"0",minAttendees:"1",maxAttendees:"1",ticketResults:"",accommodation:"",nonDrawnBeds:"1",ticketNumber:"",claimMessage:"",releaseMessage:"",claimMessageColour:"success",releaseMessageColour:"success",claimMessageTitle:"",releaseMessageTitle:""});T.useEffect(()=>{c0().then(C=>{C.status==200?C.json().then(S=>{console.log(S),i(S.results)}):C.status==401?(n(hr("/")),n(fi()),localStorage.removeItem("TOKEN")):C.json().then(S=>{e("Error while retrieving groups.  Please try again or contact tech."),console.log(S)})}),qG().then(C=>{C.status==200?C.json().then(S=>{a(S.results)}):C.status==401&&(n(hr("/")),n(fi()),localStorage.removeItem("TOKEN"))})},[]);const d=()=>{l(!0)},p=()=>{l(!1)},h=C=>{c({...u,[C.target.name]:C.target.value,claimMessageTitle:"",releaseMessageTitle:""})},f=C=>{c({...u,[C.target.name]:C.target.value,claimMessageTitle:""})},v=()=>{sSe(u.ticketNumber,u.accommodation).then(C=>{C.status==200?C.json().then(S=>{console.log(S),c({...u,claimMessage:"Acommodation successfully assigned to ticket #"+u.ticketNumber,claimMessageTitle:"Success",claimMessageColour:"success"});for(const w of r)for(const _ of w.tickets)_.id==Number(u.ticketNumber)&&(_.status="drawn");for(const w of o)w.id==u.accommodation&&(w.occupied+=1)}):C.status==401?(n(hr("/")),n(fi()),localStorage.removeItem("TOKEN")):C.json().then(S=>{c({...u,claimMessage:S.status,claimMessageTitle:"Error",claimMessageColour:"error"}),console.log(S)})})},g=()=>{lSe(u.nonDrawnBeds).then(C=>{C.status==200?C.json().then(S=>{console.log(S),c({...u,releaseMessage:"Acommodation successfully released for "+u.nonDrawnBeds+" bed accommodation",releaseMessageTitle:"Success",releaseMessageColour:"success"})}):C.status==401?(n(hr("/")),n(fi()),localStorage.removeItem("TOKEN")):C.json().then(S=>{c({...u,releaseMessage:S.status,releaseMessageTitle:"Error",releaseMessageColour:"error"}),console.log(S)}),l(!1)})},m=()=>{const C=[];for(let S=1;S<=8;S++)C.push(b.jsxs(ki,{value:S,children:[S," Attendee",S==1?"":"s"]},S));return C},y=C=>{let S="";for(const w of r)if(w.locked&&w.type==u.type&&w.users.length.toString()>=u.minAttendees&&w.users.length.toString()<=u.maxAttendees){for(const _ of w.tickets)if(_.status=="pending_draw"){S+=_.id+`
`;break}}c({...u,ticketResults:S}),C.preventDefault()};return b.jsxs(na,{spacing:2,children:[t?b.jsx(Hu,{severity:"error",children:t}):null,b.jsx(Pr,{variant:"h6",color:"inherit",children:"Lottery Tickets"}),b.jsxs(na,{direction:"row",spacing:2,children:[b.jsxs(dp,{sx:{width:200},children:[b.jsx(Fc,{children:"Accommodation type"}),b.jsxs(Sl,{value:u.type,label:"Accommodation type",onChange:h,name:"type",autoWidth:!0,children:[b.jsx(ki,{value:0,children:"Caravan"}),b.jsx(ki,{value:1,children:"Lodge"}),b.jsx(ki,{value:2,children:"Lodge with hot tub"})]})]}),b.jsxs(dp,{sx:{width:200},children:[b.jsx(Fc,{children:"Min attendees"}),b.jsx(Sl,{value:u.minAttendees,label:"Min attendees",onChange:h,name:"minAttendees",autoWidth:!0,children:m()})]}),b.jsxs(dp,{sx:{width:200},children:[b.jsx(Fc,{children:"Max attendees"}),b.jsx(Sl,{value:u.maxAttendees,label:"Max attendees",onChange:h,name:"maxAttendees",autoWidth:!0,children:m()})]}),b.jsx(Et,{variant:"contained",color:"primary",onClick:y,children:"Search"})]}),b.jsx(Kt,{label:"Tickets",fullWidth:!0,multiline:!0,rows:4,value:u.ticketResults}),b.jsx(Pr,{variant:"h6",color:"inherit",children:"Accommodation Claim"}),b.jsxs(Hu,{sx:{display:u.claimMessageTitle==""?"none":"flex"},severity:u.claimMessageColour,children:[b.jsx(qK,{children:u.claimMessageTitle}),u.claimMessage]}),b.jsxs(na,{direction:"row",spacing:2,children:[b.jsxs(dp,{sx:{width:400},children:[b.jsx(Fc,{children:"Accommodation"}),b.jsx(Sl,{value:u.accommodation,label:"Accommodation",onChange:h,name:"accommodation",autoWidth:!0,children:o.map(C=>b.jsx(ki,{value:C.id,children:C.name+" ("+(C.availability-C.occupied)+" remaining)"},C.id))})]}),b.jsx(Kt,{label:"Ticket #",variant:"outlined",name:"ticketNumber",value:u.ticketNumber,onChange:f}),b.jsx(Et,{variant:"contained",color:"primary",onClick:v,children:"Claim"})]}),b.jsx(Pr,{variant:"h6",color:"inherit",children:"Mark tickets as not drawn and unlock groups"}),b.jsxs(Hu,{sx:{display:u.releaseMessageTitle==""?"none":"flex"},severity:u.releaseMessageColour,children:[b.jsx(qK,{children:u.releaseMessageTitle}),u.releaseMessage]}),b.jsxs(na,{direction:"row",spacing:2,children:[b.jsxs(dp,{sx:{width:400},children:[b.jsx(Fc,{children:"Lottery"}),b.jsxs(Sl,{value:u.nonDrawnBeds,label:"Lottery",onChange:h,name:"nonDrawnBeds",autoWidth:!0,children:[b.jsx(ki,{value:0,children:"Caravan"}),b.jsx(ki,{value:1,children:"Lodge"}),b.jsx(ki,{value:2,children:"Lodge with hot tub"})]})]}),b.jsx(Et,{variant:"contained",color:"error",onClick:d,children:"Mark as not drawn"})]}),b.jsxs(_o,{open:s,onClose:p,children:[b.jsx(ia,{children:"Release Tickets"}),b.jsx(br,{children:b.jsx(En,{children:"Are you sure?"})}),b.jsxs(xo,{children:[b.jsx(Et,{onClick:p,children:"Close"}),b.jsx(Et,{onClick:g,children:"Release Tickets"})]})]})]})}const uot=document.getElementById("root"),cot=Hk(uot);cot.render(b.jsx(On.StrictMode,{children:b.jsx(kge,{store:GG,children:b.jsx(tme,{children:b.jsx(V7,{history:tye,children:b.jsxs(k7,{children:[b.jsx(Ko,{path:"/",element:b.jsx(FSe,{})}),b.jsx(Ko,{path:"/accommodation",element:b.jsx(zK,{})}),b.jsx(Ko,{path:"/accommodation/:id",element:b.jsx(zK,{})}),b.jsx(Ko,{path:"/attendees",element:b.jsx(VK,{})}),b.jsx(Ko,{path:"/attendees/:id",element:b.jsx(VK,{})}),b.jsx(Ko,{path:"/groups",element:b.jsx(BK,{})}),b.jsx(Ko,{path:"/groups/:id",element:b.jsx(BK,{})}),b.jsx(Ko,{path:"/config",element:b.jsx(Ont,{})}),b.jsx(Ko,{path:"/welfare",element:b.jsx(YK,{})}),b.jsx(Ko,{path:"/welfare/:id",element:b.jsx(YK,{})}),b.jsx(Ko,{path:"/metrics",element:b.jsx(sot,{})}),b.jsx(Ko,{path:"/lottery",element:b.jsx(lot,{})})]})})})})}));W7().then(n=>{n.status==200&&n.json().then(t=>{const e={};t.results.map(r=>{e[r.id]=r.value}),GG.dispatch(Xme(e))})});
